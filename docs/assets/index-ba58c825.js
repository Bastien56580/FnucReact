function A6(P,O){for(var $=0;$<O.length;$++){const ce=O[$];if(typeof ce!="string"&&!Array.isArray(ce)){for(const Ae in ce)if(Ae!=="default"&&!(Ae in P)){const ze=Object.getOwnPropertyDescriptor(ce,Ae);ze&&Object.defineProperty(P,Ae,ze.get?ze:{enumerable:!0,get:()=>ce[Ae]})}}}return Object.freeze(Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}))}(function(){const O=document.createElement("link").relList;if(O&&O.supports&&O.supports("modulepreload"))return;for(const Ae of document.querySelectorAll('link[rel="modulepreload"]'))ce(Ae);new MutationObserver(Ae=>{for(const ze of Ae)if(ze.type==="childList")for(const G of ze.addedNodes)G.tagName==="LINK"&&G.rel==="modulepreload"&&ce(G)}).observe(document,{childList:!0,subtree:!0});function $(Ae){const ze={};return Ae.integrity&&(ze.integrity=Ae.integrity),Ae.referrerPolicy&&(ze.referrerPolicy=Ae.referrerPolicy),Ae.crossOrigin==="use-credentials"?ze.credentials="include":Ae.crossOrigin==="anonymous"?ze.credentials="omit":ze.credentials="same-origin",ze}function ce(Ae){if(Ae.ep)return;Ae.ep=!0;const ze=$(Ae);fetch(Ae.href,ze)}})();var eT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hx(P){return P&&P.__esModule&&Object.prototype.hasOwnProperty.call(P,"default")?P.default:P}function M6(P){if(P.__esModule)return P;var O=P.default;if(typeof O=="function"){var $=function ce(){if(this instanceof ce){var Ae=[null];Ae.push.apply(Ae,arguments);var ze=Function.bind.apply(O,Ae);return new ze}return O.apply(this,arguments)};$.prototype=O.prototype}else $={};return Object.defineProperty($,"__esModule",{value:!0}),Object.keys(P).forEach(function(ce){var Ae=Object.getOwnPropertyDescriptor(P,ce);Object.defineProperty($,ce,Ae.get?Ae:{enumerable:!0,get:function(){return P[ce]}})}),$}var tT={exports:{}},cy={},rT={exports:{}},Hi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0=Symbol.for("react.element"),S6=Symbol.for("react.portal"),E6=Symbol.for("react.fragment"),C6=Symbol.for("react.strict_mode"),L6=Symbol.for("react.profiler"),P6=Symbol.for("react.provider"),R6=Symbol.for("react.context"),_6=Symbol.for("react.forward_ref"),D6=Symbol.for("react.suspense"),k6=Symbol.for("react.memo"),I6=Symbol.for("react.lazy"),jb=Symbol.iterator;function F6(P){return P===null||typeof P!="object"?null:(P=jb&&P[jb]||P["@@iterator"],typeof P=="function"?P:null)}var nT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aT=Object.assign,iT={};function Dd(P,O,$){this.props=P,this.context=O,this.refs=iT,this.updater=$||nT}Dd.prototype.isReactComponent={};Dd.prototype.setState=function(P,O){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,O,"setState")};Dd.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function oT(){}oT.prototype=Dd.prototype;function vx(P,O,$){this.props=P,this.context=O,this.refs=iT,this.updater=$||nT}var dx=vx.prototype=new oT;dx.constructor=vx;aT(dx,Dd.prototype);dx.isPureReactComponent=!0;var Yb=Array.isArray,sT=Object.prototype.hasOwnProperty,px={current:null},lT={key:!0,ref:!0,__self:!0,__source:!0};function uT(P,O,$){var ce,Ae={},ze=null,G=null;if(O!=null)for(ce in O.ref!==void 0&&(G=O.ref),O.key!==void 0&&(ze=""+O.key),O)sT.call(O,ce)&&!lT.hasOwnProperty(ce)&&(Ae[ce]=O[ce]);var V=arguments.length-2;if(V===1)Ae.children=$;else if(1<V){for(var e=Array(V),g=0;g<V;g++)e[g]=arguments[g+2];Ae.children=e}if(P&&P.defaultProps)for(ce in V=P.defaultProps,V)Ae[ce]===void 0&&(Ae[ce]=V[ce]);return{$$typeof:i0,type:P,key:ze,ref:G,props:Ae,_owner:px.current}}function z6(P,O){return{$$typeof:i0,type:P.type,key:O,ref:P.ref,props:P.props,_owner:P._owner}}function gx(P){return typeof P=="object"&&P!==null&&P.$$typeof===i0}function O6(P){var O={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function($){return O[$]})}var Zb=/\/+/g;function wm(P,O){return typeof P=="object"&&P!==null&&P.key!=null?O6(""+P.key):O.toString(36)}function hg(P,O,$,ce,Ae){var ze=typeof P;(ze==="undefined"||ze==="boolean")&&(P=null);var G=!1;if(P===null)G=!0;else switch(ze){case"string":case"number":G=!0;break;case"object":switch(P.$$typeof){case i0:case S6:G=!0}}if(G)return G=P,Ae=Ae(G),P=ce===""?"."+wm(G,0):ce,Yb(Ae)?($="",P!=null&&($=P.replace(Zb,"$&/")+"/"),hg(Ae,O,$,"",function(g){return g})):Ae!=null&&(gx(Ae)&&(Ae=z6(Ae,$+(!Ae.key||G&&G.key===Ae.key?"":(""+Ae.key).replace(Zb,"$&/")+"/")+P)),O.push(Ae)),1;if(G=0,ce=ce===""?".":ce+":",Yb(P))for(var V=0;V<P.length;V++){ze=P[V];var e=ce+wm(ze,V);G+=hg(ze,O,$,e,Ae)}else if(e=F6(P),typeof e=="function")for(P=e.call(P),V=0;!(ze=P.next()).done;)ze=ze.value,e=ce+wm(ze,V++),G+=hg(ze,O,$,e,Ae);else if(ze==="object")throw O=String(P),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return G}function Z0(P,O,$){if(P==null)return P;var ce=[],Ae=0;return hg(P,ce,"","",function(ze){return O.call($,ze,Ae++)}),ce}function N6(P){if(P._status===-1){var O=P._result;O=O(),O.then(function($){(P._status===0||P._status===-1)&&(P._status=1,P._result=$)},function($){(P._status===0||P._status===-1)&&(P._status=2,P._result=$)}),P._status===-1&&(P._status=0,P._result=O)}if(P._status===1)return P._result.default;throw P._result}var Xl={current:null},vg={transition:null},B6={ReactCurrentDispatcher:Xl,ReactCurrentBatchConfig:vg,ReactCurrentOwner:px};Hi.Children={map:Z0,forEach:function(P,O,$){Z0(P,function(){O.apply(this,arguments)},$)},count:function(P){var O=0;return Z0(P,function(){O++}),O},toArray:function(P){return Z0(P,function(O){return O})||[]},only:function(P){if(!gx(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};Hi.Component=Dd;Hi.Fragment=E6;Hi.Profiler=L6;Hi.PureComponent=vx;Hi.StrictMode=C6;Hi.Suspense=D6;Hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B6;Hi.cloneElement=function(P,O,$){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var ce=aT({},P.props),Ae=P.key,ze=P.ref,G=P._owner;if(O!=null){if(O.ref!==void 0&&(ze=O.ref,G=px.current),O.key!==void 0&&(Ae=""+O.key),P.type&&P.type.defaultProps)var V=P.type.defaultProps;for(e in O)sT.call(O,e)&&!lT.hasOwnProperty(e)&&(ce[e]=O[e]===void 0&&V!==void 0?V[e]:O[e])}var e=arguments.length-2;if(e===1)ce.children=$;else if(1<e){V=Array(e);for(var g=0;g<e;g++)V[g]=arguments[g+2];ce.children=V}return{$$typeof:i0,type:P.type,key:Ae,ref:ze,props:ce,_owner:G}};Hi.createContext=function(P){return P={$$typeof:R6,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:P6,_context:P},P.Consumer=P};Hi.createElement=uT;Hi.createFactory=function(P){var O=uT.bind(null,P);return O.type=P,O};Hi.createRef=function(){return{current:null}};Hi.forwardRef=function(P){return{$$typeof:_6,render:P}};Hi.isValidElement=gx;Hi.lazy=function(P){return{$$typeof:I6,_payload:{_status:-1,_result:P},_init:N6}};Hi.memo=function(P,O){return{$$typeof:k6,type:P,compare:O===void 0?null:O}};Hi.startTransition=function(P){var O=vg.transition;vg.transition={};try{P()}finally{vg.transition=O}};Hi.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Hi.useCallback=function(P,O){return Xl.current.useCallback(P,O)};Hi.useContext=function(P){return Xl.current.useContext(P)};Hi.useDebugValue=function(){};Hi.useDeferredValue=function(P){return Xl.current.useDeferredValue(P)};Hi.useEffect=function(P,O){return Xl.current.useEffect(P,O)};Hi.useId=function(){return Xl.current.useId()};Hi.useImperativeHandle=function(P,O,$){return Xl.current.useImperativeHandle(P,O,$)};Hi.useInsertionEffect=function(P,O){return Xl.current.useInsertionEffect(P,O)};Hi.useLayoutEffect=function(P,O){return Xl.current.useLayoutEffect(P,O)};Hi.useMemo=function(P,O){return Xl.current.useMemo(P,O)};Hi.useReducer=function(P,O,$){return Xl.current.useReducer(P,O,$)};Hi.useRef=function(P){return Xl.current.useRef(P)};Hi.useState=function(P){return Xl.current.useState(P)};Hi.useSyncExternalStore=function(P,O,$){return Xl.current.useSyncExternalStore(P,O,$)};Hi.useTransition=function(){return Xl.current.useTransition()};Hi.version="18.2.0";rT.exports=Hi;var qn=rT.exports;const U6=hx(qn),Fp=A6({__proto__:null,default:U6},[qn]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H6=qn,V6=Symbol.for("react.element"),G6=Symbol.for("react.fragment"),W6=Object.prototype.hasOwnProperty,j6=H6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y6={key:!0,ref:!0,__self:!0,__source:!0};function fT(P,O,$){var ce,Ae={},ze=null,G=null;$!==void 0&&(ze=""+$),O.key!==void 0&&(ze=""+O.key),O.ref!==void 0&&(G=O.ref);for(ce in O)W6.call(O,ce)&&!Y6.hasOwnProperty(ce)&&(Ae[ce]=O[ce]);if(P&&P.defaultProps)for(ce in O=P.defaultProps,O)Ae[ce]===void 0&&(Ae[ce]=O[ce]);return{$$typeof:V6,type:P,key:ze,ref:G,props:Ae,_owner:j6.current}}cy.Fragment=G6;cy.jsx=fT;cy.jsxs=fT;tT.exports=cy;var an=tT.exports;var Z6={exports:{}};/*!
  * Bootstrap v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(P,O){(function($,ce){P.exports=ce()})(eT,function(){const $=new Map,ce={set(ir,tt,Ut){$.has(ir)||$.set(ir,new Map);const Lr=$.get(ir);Lr.has(tt)||Lr.size===0?Lr.set(tt,Ut):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Lr.keys())[0]}.`)},get:(ir,tt)=>$.has(ir)&&$.get(ir).get(tt)||null,remove(ir,tt){if(!$.has(ir))return;const Ut=$.get(ir);Ut.delete(tt),Ut.size===0&&$.delete(ir)}},Ae="transitionend",ze=ir=>(ir&&window.CSS&&window.CSS.escape&&(ir=ir.replace(/#([^\s"#']+)/g,(tt,Ut)=>`#${CSS.escape(Ut)}`)),ir),G=ir=>{ir.dispatchEvent(new Event(Ae))},V=ir=>!(!ir||typeof ir!="object")&&(ir.jquery!==void 0&&(ir=ir[0]),ir.nodeType!==void 0),e=ir=>V(ir)?ir.jquery?ir[0]:ir:typeof ir=="string"&&ir.length>0?document.querySelector(ze(ir)):null,g=ir=>{if(!V(ir)||ir.getClientRects().length===0)return!1;const tt=getComputedStyle(ir).getPropertyValue("visibility")==="visible",Ut=ir.closest("details:not([open])");if(!Ut)return tt;if(Ut!==ir){const Lr=ir.closest("summary");if(Lr&&Lr.parentNode!==Ut||Lr===null)return!1}return tt},R=ir=>!ir||ir.nodeType!==Node.ELEMENT_NODE||!!ir.classList.contains("disabled")||(ir.disabled!==void 0?ir.disabled:ir.hasAttribute("disabled")&&ir.getAttribute("disabled")!=="false"),i=ir=>{if(!document.documentElement.attachShadow)return null;if(typeof ir.getRootNode=="function"){const tt=ir.getRootNode();return tt instanceof ShadowRoot?tt:null}return ir instanceof ShadowRoot?ir:ir.parentNode?i(ir.parentNode):null},L=()=>{},T=ir=>{ir.offsetHeight},v=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,p=[],t=()=>document.documentElement.dir==="rtl",r=ir=>{var tt;tt=()=>{const Ut=v();if(Ut){const Lr=ir.NAME,Mn=Ut.fn[Lr];Ut.fn[Lr]=ir.jQueryInterface,Ut.fn[Lr].Constructor=ir,Ut.fn[Lr].noConflict=()=>(Ut.fn[Lr]=Mn,ir.jQueryInterface)}},document.readyState==="loading"?(p.length||document.addEventListener("DOMContentLoaded",()=>{for(const Ut of p)Ut()}),p.push(tt)):tt()},l=(ir,tt=[],Ut=ir)=>typeof ir=="function"?ir(...tt):Ut,n=(ir,tt,Ut=!0)=>{if(!Ut)return void l(ir);const Lr=(Vn=>{if(!Vn)return 0;let{transitionDuration:aa,transitionDelay:Sa}=window.getComputedStyle(Vn);const Va=Number.parseFloat(aa),Ha=Number.parseFloat(Sa);return Va||Ha?(aa=aa.split(",")[0],Sa=Sa.split(",")[0],1e3*(Number.parseFloat(aa)+Number.parseFloat(Sa))):0})(tt)+5;let Mn=!1;const mn=({target:Vn})=>{Vn===tt&&(Mn=!0,tt.removeEventListener(Ae,mn),l(ir))};tt.addEventListener(Ae,mn),setTimeout(()=>{Mn||G(tt)},Lr)},s=(ir,tt,Ut,Lr)=>{const Mn=ir.length;let mn=ir.indexOf(tt);return mn===-1?!Ut&&Lr?ir[Mn-1]:ir[0]:(mn+=Ut?1:-1,Lr&&(mn=(mn+Mn)%Mn),ir[Math.max(0,Math.min(mn,Mn-1))])},c=/[^.]*(?=\..*)\.|.*/,u=/\..*/,y=/::\d+$/,h={};let b=1;const f={mouseenter:"mouseover",mouseleave:"mouseout"},o=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function d(ir,tt){return tt&&`${tt}::${b++}`||ir.uidEvent||b++}function A(ir){const tt=d(ir);return ir.uidEvent=tt,h[tt]=h[tt]||{},h[tt]}function M(ir,tt,Ut=null){return Object.values(ir).find(Lr=>Lr.callable===tt&&Lr.delegationSelector===Ut)}function C(ir,tt,Ut){const Lr=typeof tt=="string",Mn=Lr?Ut:tt||Ut;let mn=a(ir);return o.has(mn)||(mn=ir),[Lr,Mn,mn]}function m(ir,tt,Ut,Lr,Mn){if(typeof tt!="string"||!ir)return;let[mn,Vn,aa]=C(tt,Ut,Lr);tt in f&&(Vn=(ai=>function(ii){if(!ii.relatedTarget||ii.relatedTarget!==ii.delegateTarget&&!ii.delegateTarget.contains(ii.relatedTarget))return ai.call(this,ii)})(Vn));const Sa=A(ir),Va=Sa[aa]||(Sa[aa]={}),Ha=M(Va,Vn,mn?Ut:null);if(Ha)return void(Ha.oneOff=Ha.oneOff&&Mn);const ka=d(Vn,tt.replace(c,"")),ci=mn?function(ri,ai,ii){return function si(zi){const $a=ri.querySelectorAll(ai);for(let{target:gi}=zi;gi&&gi!==this;gi=gi.parentNode)for(const vi of $a)if(vi===gi)return w(zi,{delegateTarget:gi}),si.oneOff&&E.off(ri,zi.type,ai,ii),ii.apply(gi,[zi])}}(ir,Ut,Vn):function(ri,ai){return function ii(si){return w(si,{delegateTarget:ri}),ii.oneOff&&E.off(ri,si.type,ai),ai.apply(ri,[si])}}(ir,Vn);ci.delegationSelector=mn?Ut:null,ci.callable=Vn,ci.oneOff=Mn,ci.uidEvent=ka,Va[ka]=ci,ir.addEventListener(aa,ci,mn)}function S(ir,tt,Ut,Lr,Mn){const mn=M(tt[Ut],Lr,Mn);mn&&(ir.removeEventListener(Ut,mn,!!Mn),delete tt[Ut][mn.uidEvent])}function x(ir,tt,Ut,Lr){const Mn=tt[Ut]||{};for(const[mn,Vn]of Object.entries(Mn))mn.includes(Lr)&&S(ir,tt,Ut,Vn.callable,Vn.delegationSelector)}function a(ir){return ir=ir.replace(u,""),f[ir]||ir}const E={on(ir,tt,Ut,Lr){m(ir,tt,Ut,Lr,!1)},one(ir,tt,Ut,Lr){m(ir,tt,Ut,Lr,!0)},off(ir,tt,Ut,Lr){if(typeof tt!="string"||!ir)return;const[Mn,mn,Vn]=C(tt,Ut,Lr),aa=Vn!==tt,Sa=A(ir),Va=Sa[Vn]||{},Ha=tt.startsWith(".");if(mn===void 0){if(Ha)for(const ka of Object.keys(Sa))x(ir,Sa,ka,tt.slice(1));for(const[ka,ci]of Object.entries(Va)){const ri=ka.replace(y,"");aa&&!tt.includes(ri)||S(ir,Sa,Vn,ci.callable,ci.delegationSelector)}}else{if(!Object.keys(Va).length)return;S(ir,Sa,Vn,mn,Mn?Ut:null)}},trigger(ir,tt,Ut){if(typeof tt!="string"||!ir)return null;const Lr=v();let Mn=null,mn=!0,Vn=!0,aa=!1;tt!==a(tt)&&Lr&&(Mn=Lr.Event(tt,Ut),Lr(ir).trigger(Mn),mn=!Mn.isPropagationStopped(),Vn=!Mn.isImmediatePropagationStopped(),aa=Mn.isDefaultPrevented());const Sa=w(new Event(tt,{bubbles:mn,cancelable:!0}),Ut);return aa&&Sa.preventDefault(),Vn&&ir.dispatchEvent(Sa),Sa.defaultPrevented&&Mn&&Mn.preventDefault(),Sa}};function w(ir,tt={}){for(const[Ut,Lr]of Object.entries(tt))try{ir[Ut]=Lr}catch{Object.defineProperty(ir,Ut,{configurable:!0,get:()=>Lr})}return ir}function k(ir){if(ir==="true")return!0;if(ir==="false")return!1;if(ir===Number(ir).toString())return Number(ir);if(ir===""||ir==="null")return null;if(typeof ir!="string")return ir;try{return JSON.parse(decodeURIComponent(ir))}catch{return ir}}function I(ir){return ir.replace(/[A-Z]/g,tt=>`-${tt.toLowerCase()}`)}const U={setDataAttribute(ir,tt,Ut){ir.setAttribute(`data-bs-${I(tt)}`,Ut)},removeDataAttribute(ir,tt){ir.removeAttribute(`data-bs-${I(tt)}`)},getDataAttributes(ir){if(!ir)return{};const tt={},Ut=Object.keys(ir.dataset).filter(Lr=>Lr.startsWith("bs")&&!Lr.startsWith("bsConfig"));for(const Lr of Ut){let Mn=Lr.replace(/^bs/,"");Mn=Mn.charAt(0).toLowerCase()+Mn.slice(1,Mn.length),tt[Mn]=k(ir.dataset[Lr])}return tt},getDataAttribute:(ir,tt)=>k(ir.getAttribute(`data-bs-${I(tt)}`))};class z{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(tt){return tt=this._mergeConfigObj(tt),tt=this._configAfterMerge(tt),this._typeCheckConfig(tt),tt}_configAfterMerge(tt){return tt}_mergeConfigObj(tt,Ut){const Lr=V(Ut)?U.getDataAttribute(Ut,"config"):{};return{...this.constructor.Default,...typeof Lr=="object"?Lr:{},...V(Ut)?U.getDataAttributes(Ut):{},...typeof tt=="object"?tt:{}}}_typeCheckConfig(tt,Ut=this.constructor.DefaultType){for(const[Mn,mn]of Object.entries(Ut)){const Vn=tt[Mn],aa=V(Vn)?"element":(Lr=Vn)==null?`${Lr}`:Object.prototype.toString.call(Lr).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(mn).test(aa))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Mn}" provided type "${aa}" but expected type "${mn}".`)}var Lr}}class N extends z{constructor(tt,Ut){super(),(tt=e(tt))&&(this._element=tt,this._config=this._getConfig(Ut),ce.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ce.remove(this._element,this.constructor.DATA_KEY),E.off(this._element,this.constructor.EVENT_KEY);for(const tt of Object.getOwnPropertyNames(this))this[tt]=null}_queueCallback(tt,Ut,Lr=!0){n(tt,Ut,Lr)}_getConfig(tt){return tt=this._mergeConfigObj(tt,this._element),tt=this._configAfterMerge(tt),this._typeCheckConfig(tt),tt}static getInstance(tt){return ce.get(e(tt),this.DATA_KEY)}static getOrCreateInstance(tt,Ut={}){return this.getInstance(tt)||new this(tt,typeof Ut=="object"?Ut:null)}static get VERSION(){return"5.3.0"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(tt){return`${tt}${this.EVENT_KEY}`}}const B=ir=>{let tt=ir.getAttribute("data-bs-target");if(!tt||tt==="#"){let Ut=ir.getAttribute("href");if(!Ut||!Ut.includes("#")&&!Ut.startsWith("."))return null;Ut.includes("#")&&!Ut.startsWith("#")&&(Ut=`#${Ut.split("#")[1]}`),tt=Ut&&Ut!=="#"?Ut.trim():null}return ze(tt)},F={find:(ir,tt=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(tt,ir)),findOne:(ir,tt=document.documentElement)=>Element.prototype.querySelector.call(tt,ir),children:(ir,tt)=>[].concat(...ir.children).filter(Ut=>Ut.matches(tt)),parents(ir,tt){const Ut=[];let Lr=ir.parentNode.closest(tt);for(;Lr;)Ut.push(Lr),Lr=Lr.parentNode.closest(tt);return Ut},prev(ir,tt){let Ut=ir.previousElementSibling;for(;Ut;){if(Ut.matches(tt))return[Ut];Ut=Ut.previousElementSibling}return[]},next(ir,tt){let Ut=ir.nextElementSibling;for(;Ut;){if(Ut.matches(tt))return[Ut];Ut=Ut.nextElementSibling}return[]},focusableChildren(ir){const tt=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(Ut=>`${Ut}:not([tabindex^="-"])`).join(",");return this.find(tt,ir).filter(Ut=>!R(Ut)&&g(Ut))},getSelectorFromElement(ir){const tt=B(ir);return tt&&F.findOne(tt)?tt:null},getElementFromSelector(ir){const tt=B(ir);return tt?F.findOne(tt):null},getMultipleElementsFromSelector(ir){const tt=B(ir);return tt?F.find(tt):[]}},H=(ir,tt="hide")=>{const Ut=`click.dismiss${ir.EVENT_KEY}`,Lr=ir.NAME;E.on(document,Ut,`[data-bs-dismiss="${Lr}"]`,function(Mn){if(["A","AREA"].includes(this.tagName)&&Mn.preventDefault(),R(this))return;const mn=F.getElementFromSelector(this)||this.closest(`.${Lr}`);ir.getOrCreateInstance(mn)[tt]()})};class X extends N{static get NAME(){return"alert"}close(){if(E.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const tt=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,tt)}_destroyElement(){this._element.remove(),E.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(tt){return this.each(function(){const Ut=X.getOrCreateInstance(this);if(typeof tt=="string"){if(Ut[tt]===void 0||tt.startsWith("_")||tt==="constructor")throw new TypeError(`No method named "${tt}"`);Ut[tt](this)}})}}H(X,"close"),r(X);const q='[data-bs-toggle="button"]';class ne extends N{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(tt){return this.each(function(){const Ut=ne.getOrCreateInstance(this);tt==="toggle"&&Ut[tt]()})}}E.on(document,"click.bs.button.data-api",q,ir=>{ir.preventDefault();const tt=ir.target.closest(q);ne.getOrCreateInstance(tt).toggle()}),r(ne);const oe={endCallback:null,leftCallback:null,rightCallback:null},ve={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class J extends z{constructor(tt,Ut){super(),this._element=tt,tt&&J.isSupported()&&(this._config=this._getConfig(Ut),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return oe}static get DefaultType(){return ve}static get NAME(){return"swipe"}dispose(){E.off(this._element,".bs.swipe")}_start(tt){this._supportPointerEvents?this._eventIsPointerPenTouch(tt)&&(this._deltaX=tt.clientX):this._deltaX=tt.touches[0].clientX}_end(tt){this._eventIsPointerPenTouch(tt)&&(this._deltaX=tt.clientX-this._deltaX),this._handleSwipe(),l(this._config.endCallback)}_move(tt){this._deltaX=tt.touches&&tt.touches.length>1?0:tt.touches[0].clientX-this._deltaX}_handleSwipe(){const tt=Math.abs(this._deltaX);if(tt<=40)return;const Ut=tt/this._deltaX;this._deltaX=0,Ut&&l(Ut>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(E.on(this._element,"pointerdown.bs.swipe",tt=>this._start(tt)),E.on(this._element,"pointerup.bs.swipe",tt=>this._end(tt)),this._element.classList.add("pointer-event")):(E.on(this._element,"touchstart.bs.swipe",tt=>this._start(tt)),E.on(this._element,"touchmove.bs.swipe",tt=>this._move(tt)),E.on(this._element,"touchend.bs.swipe",tt=>this._end(tt)))}_eventIsPointerPenTouch(tt){return this._supportPointerEvents&&(tt.pointerType==="pen"||tt.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Y="next",j="prev",K="left",te="right",se="slid.bs.carousel",Q="carousel",ee="active",le={ArrowLeft:te,ArrowRight:K},ie={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},he={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class xe extends N{constructor(tt,Ut){super(tt,Ut),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=F.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Q&&this.cycle()}static get Default(){return ie}static get DefaultType(){return he}static get NAME(){return"carousel"}next(){this._slide(Y)}nextWhenVisible(){!document.hidden&&g(this._element)&&this.next()}prev(){this._slide(j)}pause(){this._isSliding&&G(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?E.one(this._element,se,()=>this.cycle()):this.cycle())}to(tt){const Ut=this._getItems();if(tt>Ut.length-1||tt<0)return;if(this._isSliding)return void E.one(this._element,se,()=>this.to(tt));const Lr=this._getItemIndex(this._getActive());if(Lr===tt)return;const Mn=tt>Lr?Y:j;this._slide(Mn,Ut[tt])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(tt){return tt.defaultInterval=tt.interval,tt}_addEventListeners(){this._config.keyboard&&E.on(this._element,"keydown.bs.carousel",tt=>this._keydown(tt)),this._config.pause==="hover"&&(E.on(this._element,"mouseenter.bs.carousel",()=>this.pause()),E.on(this._element,"mouseleave.bs.carousel",()=>this._maybeEnableCycle())),this._config.touch&&J.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const Ut of F.find(".carousel-item img",this._element))E.on(Ut,"dragstart.bs.carousel",Lr=>Lr.preventDefault());const tt={leftCallback:()=>this._slide(this._directionToOrder(K)),rightCallback:()=>this._slide(this._directionToOrder(te)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new J(this._element,tt)}_keydown(tt){if(/input|textarea/i.test(tt.target.tagName))return;const Ut=le[tt.key];Ut&&(tt.preventDefault(),this._slide(this._directionToOrder(Ut)))}_getItemIndex(tt){return this._getItems().indexOf(tt)}_setActiveIndicatorElement(tt){if(!this._indicatorsElement)return;const Ut=F.findOne(".active",this._indicatorsElement);Ut.classList.remove(ee),Ut.removeAttribute("aria-current");const Lr=F.findOne(`[data-bs-slide-to="${tt}"]`,this._indicatorsElement);Lr&&(Lr.classList.add(ee),Lr.setAttribute("aria-current","true"))}_updateInterval(){const tt=this._activeElement||this._getActive();if(!tt)return;const Ut=Number.parseInt(tt.getAttribute("data-bs-interval"),10);this._config.interval=Ut||this._config.defaultInterval}_slide(tt,Ut=null){if(this._isSliding)return;const Lr=this._getActive(),Mn=tt===Y,mn=Ut||s(this._getItems(),Lr,Mn,this._config.wrap);if(mn===Lr)return;const Vn=this._getItemIndex(mn),aa=ka=>E.trigger(this._element,ka,{relatedTarget:mn,direction:this._orderToDirection(tt),from:this._getItemIndex(Lr),to:Vn});if(aa("slide.bs.carousel").defaultPrevented||!Lr||!mn)return;const Sa=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Vn),this._activeElement=mn;const Va=Mn?"carousel-item-start":"carousel-item-end",Ha=Mn?"carousel-item-next":"carousel-item-prev";mn.classList.add(Ha),T(mn),Lr.classList.add(Va),mn.classList.add(Va),this._queueCallback(()=>{mn.classList.remove(Va,Ha),mn.classList.add(ee),Lr.classList.remove(ee,Ha,Va),this._isSliding=!1,aa(se)},Lr,this._isAnimated()),Sa&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return F.findOne(".active.carousel-item",this._element)}_getItems(){return F.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(tt){return t()?tt===K?j:Y:tt===K?Y:j}_orderToDirection(tt){return t()?tt===j?K:te:tt===j?te:K}static jQueryInterface(tt){return this.each(function(){const Ut=xe.getOrCreateInstance(this,tt);if(typeof tt!="number"){if(typeof tt=="string"){if(Ut[tt]===void 0||tt.startsWith("_")||tt==="constructor")throw new TypeError(`No method named "${tt}"`);Ut[tt]()}}else Ut.to(tt)})}}E.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",function(ir){const tt=F.getElementFromSelector(this);if(!tt||!tt.classList.contains(Q))return;ir.preventDefault();const Ut=xe.getOrCreateInstance(tt),Lr=this.getAttribute("data-bs-slide-to");return Lr?(Ut.to(Lr),void Ut._maybeEnableCycle()):U.getDataAttribute(this,"slide")==="next"?(Ut.next(),void Ut._maybeEnableCycle()):(Ut.prev(),void Ut._maybeEnableCycle())}),E.on(window,"load.bs.carousel.data-api",()=>{const ir=F.find('[data-bs-ride="carousel"]');for(const tt of ir)xe.getOrCreateInstance(tt)}),r(xe);const Se="show",Ee="collapse",Ne="collapsing",He='[data-bs-toggle="collapse"]',Ce={parent:null,toggle:!0},be={parent:"(null|element)",toggle:"boolean"};class we extends N{constructor(tt,Ut){super(tt,Ut),this._isTransitioning=!1,this._triggerArray=[];const Lr=F.find(He);for(const Mn of Lr){const mn=F.getSelectorFromElement(Mn),Vn=F.find(mn).filter(aa=>aa===this._element);mn!==null&&Vn.length&&this._triggerArray.push(Mn)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ce}static get DefaultType(){return be}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let tt=[];if(this._config.parent&&(tt=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Mn=>Mn!==this._element).map(Mn=>we.getOrCreateInstance(Mn,{toggle:!1}))),tt.length&&tt[0]._isTransitioning||E.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const Mn of tt)Mn.hide();const Ut=this._getDimension();this._element.classList.remove(Ee),this._element.classList.add(Ne),this._element.style[Ut]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const Lr=`scroll${Ut[0].toUpperCase()+Ut.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ne),this._element.classList.add(Ee,Se),this._element.style[Ut]="",E.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[Ut]=`${this._element[Lr]}px`}hide(){if(this._isTransitioning||!this._isShown()||E.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const tt=this._getDimension();this._element.style[tt]=`${this._element.getBoundingClientRect()[tt]}px`,T(this._element),this._element.classList.add(Ne),this._element.classList.remove(Ee,Se);for(const Ut of this._triggerArray){const Lr=F.getElementFromSelector(Ut);Lr&&!this._isShown(Lr)&&this._addAriaAndCollapsedClass([Ut],!1)}this._isTransitioning=!0,this._element.style[tt]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ne),this._element.classList.add(Ee),E.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(tt=this._element){return tt.classList.contains(Se)}_configAfterMerge(tt){return tt.toggle=!!tt.toggle,tt.parent=e(tt.parent),tt}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const tt=this._getFirstLevelChildren(He);for(const Ut of tt){const Lr=F.getElementFromSelector(Ut);Lr&&this._addAriaAndCollapsedClass([Ut],this._isShown(Lr))}}_getFirstLevelChildren(tt){const Ut=F.find(":scope .collapse .collapse",this._config.parent);return F.find(tt,this._config.parent).filter(Lr=>!Ut.includes(Lr))}_addAriaAndCollapsedClass(tt,Ut){if(tt.length)for(const Lr of tt)Lr.classList.toggle("collapsed",!Ut),Lr.setAttribute("aria-expanded",Ut)}static jQueryInterface(tt){const Ut={};return typeof tt=="string"&&/show|hide/.test(tt)&&(Ut.toggle=!1),this.each(function(){const Lr=we.getOrCreateInstance(this,Ut);if(typeof tt=="string"){if(Lr[tt]===void 0)throw new TypeError(`No method named "${tt}"`);Lr[tt]()}})}}E.on(document,"click.bs.collapse.data-api",He,function(ir){(ir.target.tagName==="A"||ir.delegateTarget&&ir.delegateTarget.tagName==="A")&&ir.preventDefault();for(const tt of F.getMultipleElementsFromSelector(this))we.getOrCreateInstance(tt,{toggle:!1}).toggle()}),r(we);var ke="top",Fe="bottom",Pe="right",Ge="left",nt="auto",qe=[ke,Fe,Pe,Ge],Ke="start",$e="end",vt="clippingParents",yt="viewport",mt="popper",Et="reference",Xe=qe.reduce(function(ir,tt){return ir.concat([tt+"-"+Ke,tt+"-"+$e])},[]),Ue=[].concat(qe,[nt]).reduce(function(ir,tt){return ir.concat([tt,tt+"-"+Ke,tt+"-"+$e])},[]),Be="beforeRead",rt="read",it="afterRead",Ye="beforeMain",De="main",Te="afterMain",fe="beforeWrite",me="write",Re="afterWrite",Oe=[Be,rt,it,Ye,De,Te,fe,me,Re];function st(ir){return ir?(ir.nodeName||"").toLowerCase():null}function ut(ir){if(ir==null)return window;if(ir.toString()!=="[object Window]"){var tt=ir.ownerDocument;return tt&&tt.defaultView||window}return ir}function Tt(ir){return ir instanceof ut(ir).Element||ir instanceof Element}function It(ir){return ir instanceof ut(ir).HTMLElement||ir instanceof HTMLElement}function Gt(ir){return typeof ShadowRoot<"u"&&(ir instanceof ut(ir).ShadowRoot||ir instanceof ShadowRoot)}const jt={name:"applyStyles",enabled:!0,phase:"write",fn:function(ir){var tt=ir.state;Object.keys(tt.elements).forEach(function(Ut){var Lr=tt.styles[Ut]||{},Mn=tt.attributes[Ut]||{},mn=tt.elements[Ut];It(mn)&&st(mn)&&(Object.assign(mn.style,Lr),Object.keys(Mn).forEach(function(Vn){var aa=Mn[Vn];aa===!1?mn.removeAttribute(Vn):mn.setAttribute(Vn,aa===!0?"":aa)}))})},effect:function(ir){var tt=ir.state,Ut={popper:{position:tt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(tt.elements.popper.style,Ut.popper),tt.styles=Ut,tt.elements.arrow&&Object.assign(tt.elements.arrow.style,Ut.arrow),function(){Object.keys(tt.elements).forEach(function(Lr){var Mn=tt.elements[Lr],mn=tt.attributes[Lr]||{},Vn=Object.keys(tt.styles.hasOwnProperty(Lr)?tt.styles[Lr]:Ut[Lr]).reduce(function(aa,Sa){return aa[Sa]="",aa},{});It(Mn)&&st(Mn)&&(Object.assign(Mn.style,Vn),Object.keys(mn).forEach(function(aa){Mn.removeAttribute(aa)}))})}},requires:["computeStyles"]};function Pt(ir){return ir.split("-")[0]}var Qt=Math.max,or=Math.min,zr=Math.round;function bt(){var ir=navigator.userAgentData;return ir!=null&&ir.brands&&Array.isArray(ir.brands)?ir.brands.map(function(tt){return tt.brand+"/"+tt.version}).join(" "):navigator.userAgent}function Jt(){return!/^((?!chrome|android).)*safari/i.test(bt())}function Zt(ir,tt,Ut){tt===void 0&&(tt=!1),Ut===void 0&&(Ut=!1);var Lr=ir.getBoundingClientRect(),Mn=1,mn=1;tt&&It(ir)&&(Mn=ir.offsetWidth>0&&zr(Lr.width)/ir.offsetWidth||1,mn=ir.offsetHeight>0&&zr(Lr.height)/ir.offsetHeight||1);var Vn=(Tt(ir)?ut(ir):window).visualViewport,aa=!Jt()&&Ut,Sa=(Lr.left+(aa&&Vn?Vn.offsetLeft:0))/Mn,Va=(Lr.top+(aa&&Vn?Vn.offsetTop:0))/mn,Ha=Lr.width/Mn,ka=Lr.height/mn;return{width:Ha,height:ka,top:Va,right:Sa+Ha,bottom:Va+ka,left:Sa,x:Sa,y:Va}}function Ar(ir){var tt=Zt(ir),Ut=ir.offsetWidth,Lr=ir.offsetHeight;return Math.abs(tt.width-Ut)<=1&&(Ut=tt.width),Math.abs(tt.height-Lr)<=1&&(Lr=tt.height),{x:ir.offsetLeft,y:ir.offsetTop,width:Ut,height:Lr}}function dr(ir,tt){var Ut=tt.getRootNode&&tt.getRootNode();if(ir.contains(tt))return!0;if(Ut&&Gt(Ut)){var Lr=tt;do{if(Lr&&ir.isSameNode(Lr))return!0;Lr=Lr.parentNode||Lr.host}while(Lr)}return!1}function ht(ir){return ut(ir).getComputedStyle(ir)}function ct(ir){return["table","td","th"].indexOf(st(ir))>=0}function wt(ir){return((Tt(ir)?ir.ownerDocument:ir.document)||window.document).documentElement}function St(ir){return st(ir)==="html"?ir:ir.assignedSlot||ir.parentNode||(Gt(ir)?ir.host:null)||wt(ir)}function Rt(ir){return It(ir)&&ht(ir).position!=="fixed"?ir.offsetParent:null}function Ct(ir){for(var tt=ut(ir),Ut=Rt(ir);Ut&&ct(Ut)&&ht(Ut).position==="static";)Ut=Rt(Ut);return Ut&&(st(Ut)==="html"||st(Ut)==="body"&&ht(Ut).position==="static")?tt:Ut||function(Lr){var Mn=/firefox/i.test(bt());if(/Trident/i.test(bt())&&It(Lr)&&ht(Lr).position==="fixed")return null;var mn=St(Lr);for(Gt(mn)&&(mn=mn.host);It(mn)&&["html","body"].indexOf(st(mn))<0;){var Vn=ht(mn);if(Vn.transform!=="none"||Vn.perspective!=="none"||Vn.contain==="paint"||["transform","perspective"].indexOf(Vn.willChange)!==-1||Mn&&Vn.willChange==="filter"||Mn&&Vn.filter&&Vn.filter!=="none")return mn;mn=mn.parentNode}return null}(ir)||tt}function Ot(ir){return["top","bottom"].indexOf(ir)>=0?"x":"y"}function Wt(ir,tt,Ut){return Qt(ir,or(tt,Ut))}function er(ir){return Object.assign({},{top:0,right:0,bottom:0,left:0},ir)}function $t(ir,tt){return tt.reduce(function(Ut,Lr){return Ut[Lr]=ir,Ut},{})}const sr={name:"arrow",enabled:!0,phase:"main",fn:function(ir){var tt,Ut=ir.state,Lr=ir.name,Mn=ir.options,mn=Ut.elements.arrow,Vn=Ut.modifiersData.popperOffsets,aa=Pt(Ut.placement),Sa=Ot(aa),Va=[Ge,Pe].indexOf(aa)>=0?"height":"width";if(mn&&Vn){var Ha=function(oi,Si){return er(typeof(oi=typeof oi=="function"?oi(Object.assign({},Si.rects,{placement:Si.placement})):oi)!="number"?oi:$t(oi,qe))}(Mn.padding,Ut),ka=Ar(mn),ci=Sa==="y"?ke:Ge,ri=Sa==="y"?Fe:Pe,ai=Ut.rects.reference[Va]+Ut.rects.reference[Sa]-Vn[Sa]-Ut.rects.popper[Va],ii=Vn[Sa]-Ut.rects.reference[Sa],si=Ct(mn),zi=si?Sa==="y"?si.clientHeight||0:si.clientWidth||0:0,$a=ai/2-ii/2,gi=Ha[ci],vi=zi-ka[Va]-Ha[ri],ui=zi/2-ka[Va]/2+$a,di=Wt(gi,ui,vi),Fi=Sa;Ut.modifiersData[Lr]=((tt={})[Fi]=di,tt.centerOffset=di-ui,tt)}},effect:function(ir){var tt=ir.state,Ut=ir.options.element,Lr=Ut===void 0?"[data-popper-arrow]":Ut;Lr!=null&&(typeof Lr!="string"||(Lr=tt.elements.popper.querySelector(Lr)))&&dr(tt.elements.popper,Lr)&&(tt.elements.arrow=Lr)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cr(ir){return ir.split("-")[1]}var je={top:"auto",right:"auto",bottom:"auto",left:"auto"};function We(ir){var tt,Ut=ir.popper,Lr=ir.popperRect,Mn=ir.placement,mn=ir.variation,Vn=ir.offsets,aa=ir.position,Sa=ir.gpuAcceleration,Va=ir.adaptive,Ha=ir.roundOffsets,ka=ir.isFixed,ci=Vn.x,ri=ci===void 0?0:ci,ai=Vn.y,ii=ai===void 0?0:ai,si=typeof Ha=="function"?Ha({x:ri,y:ii}):{x:ri,y:ii};ri=si.x,ii=si.y;var zi=Vn.hasOwnProperty("x"),$a=Vn.hasOwnProperty("y"),gi=Ge,vi=ke,ui=window;if(Va){var di=Ct(Ut),Fi="clientHeight",oi="clientWidth";di===ut(Ut)&&ht(di=wt(Ut)).position!=="static"&&aa==="absolute"&&(Fi="scrollHeight",oi="scrollWidth"),(Mn===ke||(Mn===Ge||Mn===Pe)&&mn===$e)&&(vi=Fe,ii-=(ka&&di===ui&&ui.visualViewport?ui.visualViewport.height:di[Fi])-Lr.height,ii*=Sa?1:-1),Mn!==Ge&&(Mn!==ke&&Mn!==Fe||mn!==$e)||(gi=Pe,ri-=(ka&&di===ui&&ui.visualViewport?ui.visualViewport.width:di[oi])-Lr.width,ri*=Sa?1:-1)}var Si,wi=Object.assign({position:aa},Va&&je),go=Ha===!0?function(Eo,ho){var Co=Eo.x,Lo=Eo.y,_i=ho.devicePixelRatio||1;return{x:zr(Co*_i)/_i||0,y:zr(Lo*_i)/_i||0}}({x:ri,y:ii},ut(Ut)):{x:ri,y:ii};return ri=go.x,ii=go.y,Sa?Object.assign({},wi,((Si={})[vi]=$a?"0":"",Si[gi]=zi?"0":"",Si.transform=(ui.devicePixelRatio||1)<=1?"translate("+ri+"px, "+ii+"px)":"translate3d("+ri+"px, "+ii+"px, 0)",Si)):Object.assign({},wi,((tt={})[vi]=$a?ii+"px":"",tt[gi]=zi?ri+"px":"",tt.transform="",tt))}const kt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(ir){var tt=ir.state,Ut=ir.options,Lr=Ut.gpuAcceleration,Mn=Lr===void 0||Lr,mn=Ut.adaptive,Vn=mn===void 0||mn,aa=Ut.roundOffsets,Sa=aa===void 0||aa,Va={placement:Pt(tt.placement),variation:Cr(tt.placement),popper:tt.elements.popper,popperRect:tt.rects.popper,gpuAcceleration:Mn,isFixed:tt.options.strategy==="fixed"};tt.modifiersData.popperOffsets!=null&&(tt.styles.popper=Object.assign({},tt.styles.popper,We(Object.assign({},Va,{offsets:tt.modifiersData.popperOffsets,position:tt.options.strategy,adaptive:Vn,roundOffsets:Sa})))),tt.modifiersData.arrow!=null&&(tt.styles.arrow=Object.assign({},tt.styles.arrow,We(Object.assign({},Va,{offsets:tt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Sa})))),tt.attributes.popper=Object.assign({},tt.attributes.popper,{"data-popper-placement":tt.placement})},data:{}};var zt={passive:!0};const Xt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(ir){var tt=ir.state,Ut=ir.instance,Lr=ir.options,Mn=Lr.scroll,mn=Mn===void 0||Mn,Vn=Lr.resize,aa=Vn===void 0||Vn,Sa=ut(tt.elements.popper),Va=[].concat(tt.scrollParents.reference,tt.scrollParents.popper);return mn&&Va.forEach(function(Ha){Ha.addEventListener("scroll",Ut.update,zt)}),aa&&Sa.addEventListener("resize",Ut.update,zt),function(){mn&&Va.forEach(function(Ha){Ha.removeEventListener("scroll",Ut.update,zt)}),aa&&Sa.removeEventListener("resize",Ut.update,zt)}},data:{}};var lr={left:"right",right:"left",bottom:"top",top:"bottom"};function cr(ir){return ir.replace(/left|right|bottom|top/g,function(tt){return lr[tt]})}var nr={start:"end",end:"start"};function Bt(ir){return ir.replace(/start|end/g,function(tt){return nr[tt]})}function vr(ir){var tt=ut(ir);return{scrollLeft:tt.pageXOffset,scrollTop:tt.pageYOffset}}function yr(ir){return Zt(wt(ir)).left+vr(ir).scrollLeft}function mr(ir){var tt=ht(ir),Ut=tt.overflow,Lr=tt.overflowX,Mn=tt.overflowY;return/auto|scroll|overlay|hidden/.test(Ut+Mn+Lr)}function gr(ir){return["html","body","#document"].indexOf(st(ir))>=0?ir.ownerDocument.body:It(ir)&&mr(ir)?ir:gr(St(ir))}function Zr(ir,tt){var Ut;tt===void 0&&(tt=[]);var Lr=gr(ir),Mn=Lr===((Ut=ir.ownerDocument)==null?void 0:Ut.body),mn=ut(Lr),Vn=Mn?[mn].concat(mn.visualViewport||[],mr(Lr)?Lr:[]):Lr,aa=tt.concat(Vn);return Mn?aa:aa.concat(Zr(St(Vn)))}function Ur(ir){return Object.assign({},ir,{left:ir.x,top:ir.y,right:ir.x+ir.width,bottom:ir.y+ir.height})}function Br(ir,tt,Ut){return tt===yt?Ur(function(Lr,Mn){var mn=ut(Lr),Vn=wt(Lr),aa=mn.visualViewport,Sa=Vn.clientWidth,Va=Vn.clientHeight,Ha=0,ka=0;if(aa){Sa=aa.width,Va=aa.height;var ci=Jt();(ci||!ci&&Mn==="fixed")&&(Ha=aa.offsetLeft,ka=aa.offsetTop)}return{width:Sa,height:Va,x:Ha+yr(Lr),y:ka}}(ir,Ut)):Tt(tt)?function(Lr,Mn){var mn=Zt(Lr,!1,Mn==="fixed");return mn.top=mn.top+Lr.clientTop,mn.left=mn.left+Lr.clientLeft,mn.bottom=mn.top+Lr.clientHeight,mn.right=mn.left+Lr.clientWidth,mn.width=Lr.clientWidth,mn.height=Lr.clientHeight,mn.x=mn.left,mn.y=mn.top,mn}(tt,Ut):Ur(function(Lr){var Mn,mn=wt(Lr),Vn=vr(Lr),aa=(Mn=Lr.ownerDocument)==null?void 0:Mn.body,Sa=Qt(mn.scrollWidth,mn.clientWidth,aa?aa.scrollWidth:0,aa?aa.clientWidth:0),Va=Qt(mn.scrollHeight,mn.clientHeight,aa?aa.scrollHeight:0,aa?aa.clientHeight:0),Ha=-Vn.scrollLeft+yr(Lr),ka=-Vn.scrollTop;return ht(aa||mn).direction==="rtl"&&(Ha+=Qt(mn.clientWidth,aa?aa.clientWidth:0)-Sa),{width:Sa,height:Va,x:Ha,y:ka}}(wt(ir)))}function Tn(ir){var tt,Ut=ir.reference,Lr=ir.element,Mn=ir.placement,mn=Mn?Pt(Mn):null,Vn=Mn?Cr(Mn):null,aa=Ut.x+Ut.width/2-Lr.width/2,Sa=Ut.y+Ut.height/2-Lr.height/2;switch(mn){case ke:tt={x:aa,y:Ut.y-Lr.height};break;case Fe:tt={x:aa,y:Ut.y+Ut.height};break;case Pe:tt={x:Ut.x+Ut.width,y:Sa};break;case Ge:tt={x:Ut.x-Lr.width,y:Sa};break;default:tt={x:Ut.x,y:Ut.y}}var Va=mn?Ot(mn):null;if(Va!=null){var Ha=Va==="y"?"height":"width";switch(Vn){case Ke:tt[Va]=tt[Va]-(Ut[Ha]/2-Lr[Ha]/2);break;case $e:tt[Va]=tt[Va]+(Ut[Ha]/2-Lr[Ha]/2)}}return tt}function Kr(ir,tt){tt===void 0&&(tt={});var Ut=tt,Lr=Ut.placement,Mn=Lr===void 0?ir.placement:Lr,mn=Ut.strategy,Vn=mn===void 0?ir.strategy:mn,aa=Ut.boundary,Sa=aa===void 0?vt:aa,Va=Ut.rootBoundary,Ha=Va===void 0?yt:Va,ka=Ut.elementContext,ci=ka===void 0?mt:ka,ri=Ut.altBoundary,ai=ri!==void 0&&ri,ii=Ut.padding,si=ii===void 0?0:ii,zi=er(typeof si!="number"?si:$t(si,qe)),$a=ci===mt?Et:mt,gi=ir.rects.popper,vi=ir.elements[ai?$a:ci],ui=function(ho,Co,Lo,_i){var Po=Co==="clippingParents"?function(Vi){var $o=Zr(St(Vi)),As=["absolute","fixed"].indexOf(ht(Vi).position)>=0&&It(Vi)?Ct(Vi):Vi;return Tt(As)?$o.filter(function(bl){return Tt(bl)&&dr(bl,As)&&st(bl)!=="body"}):[]}(ho):[].concat(Co),ls=[].concat(Po,[Lo]),Gs=ls[0],yo=ls.reduce(function(Vi,$o){var As=Br(ho,$o,_i);return Vi.top=Qt(As.top,Vi.top),Vi.right=or(As.right,Vi.right),Vi.bottom=or(As.bottom,Vi.bottom),Vi.left=Qt(As.left,Vi.left),Vi},Br(ho,Gs,_i));return yo.width=yo.right-yo.left,yo.height=yo.bottom-yo.top,yo.x=yo.left,yo.y=yo.top,yo}(Tt(vi)?vi:vi.contextElement||wt(ir.elements.popper),Sa,Ha,Vn),di=Zt(ir.elements.reference),Fi=Tn({reference:di,element:gi,strategy:"absolute",placement:Mn}),oi=Ur(Object.assign({},gi,Fi)),Si=ci===mt?oi:di,wi={top:ui.top-Si.top+zi.top,bottom:Si.bottom-ui.bottom+zi.bottom,left:ui.left-Si.left+zi.left,right:Si.right-ui.right+zi.right},go=ir.modifiersData.offset;if(ci===mt&&go){var Eo=go[Mn];Object.keys(wi).forEach(function(ho){var Co=[Pe,Fe].indexOf(ho)>=0?1:-1,Lo=[ke,Fe].indexOf(ho)>=0?"y":"x";wi[ho]+=Eo[Lo]*Co})}return wi}function Bn(ir,tt){tt===void 0&&(tt={});var Ut=tt,Lr=Ut.placement,Mn=Ut.boundary,mn=Ut.rootBoundary,Vn=Ut.padding,aa=Ut.flipVariations,Sa=Ut.allowedAutoPlacements,Va=Sa===void 0?Ue:Sa,Ha=Cr(Lr),ka=Ha?aa?Xe:Xe.filter(function(ai){return Cr(ai)===Ha}):qe,ci=ka.filter(function(ai){return Va.indexOf(ai)>=0});ci.length===0&&(ci=ka);var ri=ci.reduce(function(ai,ii){return ai[ii]=Kr(ir,{placement:ii,boundary:Mn,rootBoundary:mn,padding:Vn})[Pt(ii)],ai},{});return Object.keys(ri).sort(function(ai,ii){return ri[ai]-ri[ii]})}const On={name:"flip",enabled:!0,phase:"main",fn:function(ir){var tt=ir.state,Ut=ir.options,Lr=ir.name;if(!tt.modifiersData[Lr]._skip){for(var Mn=Ut.mainAxis,mn=Mn===void 0||Mn,Vn=Ut.altAxis,aa=Vn===void 0||Vn,Sa=Ut.fallbackPlacements,Va=Ut.padding,Ha=Ut.boundary,ka=Ut.rootBoundary,ci=Ut.altBoundary,ri=Ut.flipVariations,ai=ri===void 0||ri,ii=Ut.allowedAutoPlacements,si=tt.options.placement,zi=Pt(si),$a=Sa||(zi!==si&&ai?function(Vi){if(Pt(Vi)===nt)return[];var $o=cr(Vi);return[Bt(Vi),$o,Bt($o)]}(si):[cr(si)]),gi=[si].concat($a).reduce(function(Vi,$o){return Vi.concat(Pt($o)===nt?Bn(tt,{placement:$o,boundary:Ha,rootBoundary:ka,padding:Va,flipVariations:ai,allowedAutoPlacements:ii}):$o)},[]),vi=tt.rects.reference,ui=tt.rects.popper,di=new Map,Fi=!0,oi=gi[0],Si=0;Si<gi.length;Si++){var wi=gi[Si],go=Pt(wi),Eo=Cr(wi)===Ke,ho=[ke,Fe].indexOf(go)>=0,Co=ho?"width":"height",Lo=Kr(tt,{placement:wi,boundary:Ha,rootBoundary:ka,altBoundary:ci,padding:Va}),_i=ho?Eo?Pe:Ge:Eo?Fe:ke;vi[Co]>ui[Co]&&(_i=cr(_i));var Po=cr(_i),ls=[];if(mn&&ls.push(Lo[go]<=0),aa&&ls.push(Lo[_i]<=0,Lo[Po]<=0),ls.every(function(Vi){return Vi})){oi=wi,Fi=!1;break}di.set(wi,ls)}if(Fi)for(var Gs=function(Vi){var $o=gi.find(function(As){var bl=di.get(As);if(bl)return bl.slice(0,Vi).every(function(Bl){return Bl})});if($o)return oi=$o,"break"},yo=ai?3:1;yo>0&&Gs(yo)!=="break";yo--);tt.placement!==oi&&(tt.modifiersData[Lr]._skip=!0,tt.placement=oi,tt.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Tr(ir,tt,Ut){return Ut===void 0&&(Ut={x:0,y:0}),{top:ir.top-tt.height-Ut.y,right:ir.right-tt.width+Ut.x,bottom:ir.bottom-tt.height+Ut.y,left:ir.left-tt.width-Ut.x}}function Mr(ir){return[ke,Pe,Fe,Ge].some(function(tt){return ir[tt]>=0})}const Hr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(ir){var tt=ir.state,Ut=ir.name,Lr=tt.rects.reference,Mn=tt.rects.popper,mn=tt.modifiersData.preventOverflow,Vn=Kr(tt,{elementContext:"reference"}),aa=Kr(tt,{altBoundary:!0}),Sa=Tr(Vn,Lr),Va=Tr(aa,Mn,mn),Ha=Mr(Sa),ka=Mr(Va);tt.modifiersData[Ut]={referenceClippingOffsets:Sa,popperEscapeOffsets:Va,isReferenceHidden:Ha,hasPopperEscaped:ka},tt.attributes.popper=Object.assign({},tt.attributes.popper,{"data-popper-reference-hidden":Ha,"data-popper-escaped":ka})}},Vr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(ir){var tt=ir.state,Ut=ir.options,Lr=ir.name,Mn=Ut.offset,mn=Mn===void 0?[0,0]:Mn,Vn=Ue.reduce(function(Ha,ka){return Ha[ka]=function(ci,ri,ai){var ii=Pt(ci),si=[Ge,ke].indexOf(ii)>=0?-1:1,zi=typeof ai=="function"?ai(Object.assign({},ri,{placement:ci})):ai,$a=zi[0],gi=zi[1];return $a=$a||0,gi=(gi||0)*si,[Ge,Pe].indexOf(ii)>=0?{x:gi,y:$a}:{x:$a,y:gi}}(ka,tt.rects,mn),Ha},{}),aa=Vn[tt.placement],Sa=aa.x,Va=aa.y;tt.modifiersData.popperOffsets!=null&&(tt.modifiersData.popperOffsets.x+=Sa,tt.modifiersData.popperOffsets.y+=Va),tt.modifiersData[Lr]=Vn}},nn={name:"popperOffsets",enabled:!0,phase:"read",fn:function(ir){var tt=ir.state,Ut=ir.name;tt.modifiersData[Ut]=Tn({reference:tt.rects.reference,element:tt.rects.popper,strategy:"absolute",placement:tt.placement})},data:{}},bn={name:"preventOverflow",enabled:!0,phase:"main",fn:function(ir){var tt=ir.state,Ut=ir.options,Lr=ir.name,Mn=Ut.mainAxis,mn=Mn===void 0||Mn,Vn=Ut.altAxis,aa=Vn!==void 0&&Vn,Sa=Ut.boundary,Va=Ut.rootBoundary,Ha=Ut.altBoundary,ka=Ut.padding,ci=Ut.tether,ri=ci===void 0||ci,ai=Ut.tetherOffset,ii=ai===void 0?0:ai,si=Kr(tt,{boundary:Sa,rootBoundary:Va,padding:ka,altBoundary:Ha}),zi=Pt(tt.placement),$a=Cr(tt.placement),gi=!$a,vi=Ot(zi),ui=vi==="x"?"y":"x",di=tt.modifiersData.popperOffsets,Fi=tt.rects.reference,oi=tt.rects.popper,Si=typeof ii=="function"?ii(Object.assign({},tt.rects,{placement:tt.placement})):ii,wi=typeof Si=="number"?{mainAxis:Si,altAxis:Si}:Object.assign({mainAxis:0,altAxis:0},Si),go=tt.modifiersData.offset?tt.modifiersData.offset[tt.placement]:null,Eo={x:0,y:0};if(di){if(mn){var ho,Co=vi==="y"?ke:Ge,Lo=vi==="y"?Fe:Pe,_i=vi==="y"?"height":"width",Po=di[vi],ls=Po+si[Co],Gs=Po-si[Lo],yo=ri?-oi[_i]/2:0,Vi=$a===Ke?Fi[_i]:oi[_i],$o=$a===Ke?-oi[_i]:-Fi[_i],As=tt.elements.arrow,bl=ri&&As?Ar(As):{width:0,height:0},Bl=tt.modifiersData["arrow#persistent"]?tt.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},pf=Bl[Co],Ul=Bl[Lo],Ao=Wt(0,Fi[_i],bl[_i]),us=gi?Fi[_i]/2-yo-Ao-pf-wi.mainAxis:Vi-Ao-pf-wi.mainAxis,mu=gi?-Fi[_i]/2+yo+Ao+Ul+wi.mainAxis:$o+Ao+Ul+wi.mainAxis,nl=tt.elements.arrow&&Ct(tt.elements.arrow),xu=nl?vi==="y"?nl.clientTop||0:nl.clientLeft||0:0,bu=(ho=go==null?void 0:go[vi])!=null?ho:0,bc=Po+mu-bu,gf=Wt(ri?or(ls,Po+us-bu-xu):ls,Po,ri?Qt(Gs,bc):Gs);di[vi]=gf,Eo[vi]=gf-Po}if(aa){var yf,mf=vi==="x"?ke:Ge,wl=vi==="x"?Fe:Pe,Gi=di[ui],gs=ui==="y"?"height":"width",Yu=Gi+si[mf],xf=Gi-si[wl],al=[ke,Ge].indexOf(zi)!==-1,wu=(yf=go==null?void 0:go[ui])!=null?yf:0,Ms=al?Yu:Gi-Fi[gs]-oi[gs]-wu+wi.altAxis,Tu=al?Gi+Fi[gs]+oi[gs]-wu-wi.altAxis:xf,Ws=ri&&al?function(il,bf,Tl){var Ei=Wt(il,bf,Tl);return Ei>Tl?Tl:Ei}(Ms,Gi,Tu):Wt(ri?Ms:Yu,Gi,ri?Tu:xf);di[ui]=Ws,Eo[ui]=Ws-Gi}tt.modifiersData[Lr]=Eo}},requiresIfExists:["offset"]};function dn(ir,tt,Ut){Ut===void 0&&(Ut=!1);var Lr,Mn,mn=It(tt),Vn=It(tt)&&function(ka){var ci=ka.getBoundingClientRect(),ri=zr(ci.width)/ka.offsetWidth||1,ai=zr(ci.height)/ka.offsetHeight||1;return ri!==1||ai!==1}(tt),aa=wt(tt),Sa=Zt(ir,Vn,Ut),Va={scrollLeft:0,scrollTop:0},Ha={x:0,y:0};return(mn||!mn&&!Ut)&&((st(tt)!=="body"||mr(aa))&&(Va=(Lr=tt)!==ut(Lr)&&It(Lr)?{scrollLeft:(Mn=Lr).scrollLeft,scrollTop:Mn.scrollTop}:vr(Lr)),It(tt)?((Ha=Zt(tt,!0)).x+=tt.clientLeft,Ha.y+=tt.clientTop):aa&&(Ha.x=yr(aa))),{x:Sa.left+Va.scrollLeft-Ha.x,y:Sa.top+Va.scrollTop-Ha.y,width:Sa.width,height:Sa.height}}function Pn(ir){var tt=new Map,Ut=new Set,Lr=[];function Mn(mn){Ut.add(mn.name),[].concat(mn.requires||[],mn.requiresIfExists||[]).forEach(function(Vn){if(!Ut.has(Vn)){var aa=tt.get(Vn);aa&&Mn(aa)}}),Lr.push(mn)}return ir.forEach(function(mn){tt.set(mn.name,mn)}),ir.forEach(function(mn){Ut.has(mn.name)||Mn(mn)}),Lr}var zn={placement:"bottom",modifiers:[],strategy:"absolute"};function ta(){for(var ir=arguments.length,tt=new Array(ir),Ut=0;Ut<ir;Ut++)tt[Ut]=arguments[Ut];return!tt.some(function(Lr){return!(Lr&&typeof Lr.getBoundingClientRect=="function")})}function oa(ir){ir===void 0&&(ir={});var tt=ir,Ut=tt.defaultModifiers,Lr=Ut===void 0?[]:Ut,Mn=tt.defaultOptions,mn=Mn===void 0?zn:Mn;return function(Vn,aa,Sa){Sa===void 0&&(Sa=mn);var Va,Ha,ka={placement:"bottom",orderedModifiers:[],options:Object.assign({},zn,mn),modifiersData:{},elements:{reference:Vn,popper:aa},attributes:{},styles:{}},ci=[],ri=!1,ai={state:ka,setOptions:function(si){var zi=typeof si=="function"?si(ka.options):si;ii(),ka.options=Object.assign({},mn,ka.options,zi),ka.scrollParents={reference:Tt(Vn)?Zr(Vn):Vn.contextElement?Zr(Vn.contextElement):[],popper:Zr(aa)};var $a,gi,vi=function(ui){var di=Pn(ui);return Oe.reduce(function(Fi,oi){return Fi.concat(di.filter(function(Si){return Si.phase===oi}))},[])}(($a=[].concat(Lr,ka.options.modifiers),gi=$a.reduce(function(ui,di){var Fi=ui[di.name];return ui[di.name]=Fi?Object.assign({},Fi,di,{options:Object.assign({},Fi.options,di.options),data:Object.assign({},Fi.data,di.data)}):di,ui},{}),Object.keys(gi).map(function(ui){return gi[ui]})));return ka.orderedModifiers=vi.filter(function(ui){return ui.enabled}),ka.orderedModifiers.forEach(function(ui){var di=ui.name,Fi=ui.options,oi=Fi===void 0?{}:Fi,Si=ui.effect;if(typeof Si=="function"){var wi=Si({state:ka,name:di,instance:ai,options:oi});ci.push(wi||function(){})}}),ai.update()},forceUpdate:function(){if(!ri){var si=ka.elements,zi=si.reference,$a=si.popper;if(ta(zi,$a)){ka.rects={reference:dn(zi,Ct($a),ka.options.strategy==="fixed"),popper:Ar($a)},ka.reset=!1,ka.placement=ka.options.placement,ka.orderedModifiers.forEach(function(Si){return ka.modifiersData[Si.name]=Object.assign({},Si.data)});for(var gi=0;gi<ka.orderedModifiers.length;gi++)if(ka.reset!==!0){var vi=ka.orderedModifiers[gi],ui=vi.fn,di=vi.options,Fi=di===void 0?{}:di,oi=vi.name;typeof ui=="function"&&(ka=ui({state:ka,options:Fi,name:oi,instance:ai})||ka)}else ka.reset=!1,gi=-1}}},update:(Va=function(){return new Promise(function(si){ai.forceUpdate(),si(ka)})},function(){return Ha||(Ha=new Promise(function(si){Promise.resolve().then(function(){Ha=void 0,si(Va())})})),Ha}),destroy:function(){ii(),ri=!0}};if(!ta(Vn,aa))return ai;function ii(){ci.forEach(function(si){return si()}),ci=[]}return ai.setOptions(Sa).then(function(si){!ri&&Sa.onFirstUpdate&&Sa.onFirstUpdate(si)}),ai}}var ya=oa(),ca=oa({defaultModifiers:[Xt,nn,kt,jt]}),la=oa({defaultModifiers:[Xt,nn,kt,jt,Vr,On,bn,sr,Hr]});const Pr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Te,afterRead:it,afterWrite:Re,applyStyles:jt,arrow:sr,auto:nt,basePlacements:qe,beforeMain:Ye,beforeRead:Be,beforeWrite:fe,bottom:Fe,clippingParents:vt,computeStyles:kt,createPopper:la,createPopperBase:ya,createPopperLite:ca,detectOverflow:Kr,end:$e,eventListeners:Xt,flip:On,hide:Hr,left:Ge,main:De,modifierPhases:Oe,offset:Vr,placements:Ue,popper:mt,popperGenerator:oa,popperOffsets:nn,preventOverflow:bn,read:rt,reference:Et,right:Pe,start:Ke,top:ke,variationPlacements:Xe,viewport:yt,write:me},Symbol.toStringTag,{value:"Module"})),hn="dropdown",un="ArrowUp",wn="ArrowDown",Zn="click.bs.dropdown.data-api",In="keydown.bs.dropdown.data-api",Dn="show",jn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',va=`${jn}.show`,Ia=".dropdown-menu",hi=t()?"top-end":"top-start",Kt=t()?"top-start":"top-end",Sr=t()?"bottom-end":"bottom-start",fn=t()?"bottom-start":"bottom-end",gn=t()?"left-start":"right-start",yn=t()?"right-start":"left-start",Fn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ln={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ln extends N{constructor(tt,Ut){super(tt,Ut),this._popper=null,this._parent=this._element.parentNode,this._menu=F.next(this._element,Ia)[0]||F.prev(this._element,Ia)[0]||F.findOne(Ia,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Fn}static get DefaultType(){return Ln}static get NAME(){return hn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(R(this._element)||this._isShown())return;const tt={relatedTarget:this._element};if(!E.trigger(this._element,"show.bs.dropdown",tt).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const Ut of[].concat(...document.body.children))E.on(Ut,"mouseover",L);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Dn),this._element.classList.add(Dn),E.trigger(this._element,"shown.bs.dropdown",tt)}}hide(){if(R(this._element)||!this._isShown())return;const tt={relatedTarget:this._element};this._completeHide(tt)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(tt){if(!E.trigger(this._element,"hide.bs.dropdown",tt).defaultPrevented){if("ontouchstart"in document.documentElement)for(const Ut of[].concat(...document.body.children))E.off(Ut,"mouseover",L);this._popper&&this._popper.destroy(),this._menu.classList.remove(Dn),this._element.classList.remove(Dn),this._element.setAttribute("aria-expanded","false"),U.removeDataAttribute(this._menu,"popper"),E.trigger(this._element,"hidden.bs.dropdown",tt)}}_getConfig(tt){if(typeof(tt=super._getConfig(tt)).reference=="object"&&!V(tt.reference)&&typeof tt.reference.getBoundingClientRect!="function")throw new TypeError(`${hn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return tt}_createPopper(){if(Pr===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let tt=this._element;this._config.reference==="parent"?tt=this._parent:V(this._config.reference)?tt=e(this._config.reference):typeof this._config.reference=="object"&&(tt=this._config.reference);const Ut=this._getPopperConfig();this._popper=la(tt,this._menu,Ut)}_isShown(){return this._menu.classList.contains(Dn)}_getPlacement(){const tt=this._parent;if(tt.classList.contains("dropend"))return gn;if(tt.classList.contains("dropstart"))return yn;if(tt.classList.contains("dropup-center"))return"top";if(tt.classList.contains("dropdown-center"))return"bottom";const Ut=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return tt.classList.contains("dropup")?Ut?Kt:hi:Ut?fn:Sr}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:tt}=this._config;return typeof tt=="string"?tt.split(",").map(Ut=>Number.parseInt(Ut,10)):typeof tt=="function"?Ut=>tt(Ut,this._element):tt}_getPopperConfig(){const tt={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(U.setDataAttribute(this._menu,"popper","static"),tt.modifiers=[{name:"applyStyles",enabled:!1}]),{...tt,...l(this._config.popperConfig,[tt])}}_selectMenuItem({key:tt,target:Ut}){const Lr=F.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Mn=>g(Mn));Lr.length&&s(Lr,Ut,tt===wn,!Lr.includes(Ut)).focus()}static jQueryInterface(tt){return this.each(function(){const Ut=ln.getOrCreateInstance(this,tt);if(typeof tt=="string"){if(Ut[tt]===void 0)throw new TypeError(`No method named "${tt}"`);Ut[tt]()}})}static clearMenus(tt){if(tt.button===2||tt.type==="keyup"&&tt.key!=="Tab")return;const Ut=F.find(va);for(const Lr of Ut){const Mn=ln.getInstance(Lr);if(!Mn||Mn._config.autoClose===!1)continue;const mn=tt.composedPath(),Vn=mn.includes(Mn._menu);if(mn.includes(Mn._element)||Mn._config.autoClose==="inside"&&!Vn||Mn._config.autoClose==="outside"&&Vn||Mn._menu.contains(tt.target)&&(tt.type==="keyup"&&tt.key==="Tab"||/input|select|option|textarea|form/i.test(tt.target.tagName)))continue;const aa={relatedTarget:Mn._element};tt.type==="click"&&(aa.clickEvent=tt),Mn._completeHide(aa)}}static dataApiKeydownHandler(tt){const Ut=/input|textarea/i.test(tt.target.tagName),Lr=tt.key==="Escape",Mn=[un,wn].includes(tt.key);if(!Mn&&!Lr||Ut&&!Lr)return;tt.preventDefault();const mn=this.matches(jn)?this:F.prev(this,jn)[0]||F.next(this,jn)[0]||F.findOne(jn,tt.delegateTarget.parentNode),Vn=ln.getOrCreateInstance(mn);if(Mn)return tt.stopPropagation(),Vn.show(),void Vn._selectMenuItem(tt);Vn._isShown()&&(tt.stopPropagation(),Vn.hide(),mn.focus())}}E.on(document,In,jn,ln.dataApiKeydownHandler),E.on(document,In,Ia,ln.dataApiKeydownHandler),E.on(document,Zn,ln.clearMenus),E.on(document,"keyup.bs.dropdown.data-api",ln.clearMenus),E.on(document,Zn,jn,function(ir){ir.preventDefault(),ln.getOrCreateInstance(this).toggle()}),r(ln);const Ir="show",Rr="mousedown.bs.backdrop",Nr={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},xn={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Hn extends z{constructor(tt){super(),this._config=this._getConfig(tt),this._isAppended=!1,this._element=null}static get Default(){return Nr}static get DefaultType(){return xn}static get NAME(){return"backdrop"}show(tt){if(!this._config.isVisible)return void l(tt);this._append();const Ut=this._getElement();this._config.isAnimated&&T(Ut),Ut.classList.add(Ir),this._emulateAnimation(()=>{l(tt)})}hide(tt){this._config.isVisible?(this._getElement().classList.remove(Ir),this._emulateAnimation(()=>{this.dispose(),l(tt)})):l(tt)}dispose(){this._isAppended&&(E.off(this._element,Rr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const tt=document.createElement("div");tt.className=this._config.className,this._config.isAnimated&&tt.classList.add("fade"),this._element=tt}return this._element}_configAfterMerge(tt){return tt.rootElement=e(tt.rootElement),tt}_append(){if(this._isAppended)return;const tt=this._getElement();this._config.rootElement.append(tt),E.on(tt,Rr,()=>{l(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(tt){n(tt,this._getElement(),this._config.isAnimated)}}const Qn=".bs.focustrap",An="backward",Wn={autofocus:!0,trapElement:null},ua={autofocus:"boolean",trapElement:"element"};class ma extends z{constructor(tt){super(),this._config=this._getConfig(tt),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Wn}static get DefaultType(){return ua}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),E.off(document,Qn),E.on(document,"focusin.bs.focustrap",tt=>this._handleFocusin(tt)),E.on(document,"keydown.tab.bs.focustrap",tt=>this._handleKeydown(tt)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,E.off(document,Qn))}_handleFocusin(tt){const{trapElement:Ut}=this._config;if(tt.target===document||tt.target===Ut||Ut.contains(tt.target))return;const Lr=F.focusableChildren(Ut);Lr.length===0?Ut.focus():this._lastTabNavDirection===An?Lr[Lr.length-1].focus():Lr[0].focus()}_handleKeydown(tt){tt.key==="Tab"&&(this._lastTabNavDirection=tt.shiftKey?An:"forward")}}const da=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",pa=".sticky-top",ba="padding-right",So="margin-right";class _o{constructor(){this._element=document.body}getWidth(){const tt=document.documentElement.clientWidth;return Math.abs(window.innerWidth-tt)}hide(){const tt=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ba,Ut=>Ut+tt),this._setElementAttributes(da,ba,Ut=>Ut+tt),this._setElementAttributes(pa,So,Ut=>Ut-tt)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ba),this._resetElementAttributes(da,ba),this._resetElementAttributes(pa,So)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(tt,Ut,Lr){const Mn=this.getWidth();this._applyManipulationCallback(tt,mn=>{if(mn!==this._element&&window.innerWidth>mn.clientWidth+Mn)return;this._saveInitialAttribute(mn,Ut);const Vn=window.getComputedStyle(mn).getPropertyValue(Ut);mn.style.setProperty(Ut,`${Lr(Number.parseFloat(Vn))}px`)})}_saveInitialAttribute(tt,Ut){const Lr=tt.style.getPropertyValue(Ut);Lr&&U.setDataAttribute(tt,Ut,Lr)}_resetElementAttributes(tt,Ut){this._applyManipulationCallback(tt,Lr=>{const Mn=U.getDataAttribute(Lr,Ut);Mn!==null?(U.removeDataAttribute(Lr,Ut),Lr.style.setProperty(Ut,Mn)):Lr.style.removeProperty(Ut)})}_applyManipulationCallback(tt,Ut){if(V(tt))Ut(tt);else for(const Lr of F.find(tt,this._element))Ut(Lr)}}const Go=".bs.modal",Ko="hidden.bs.modal",Wo="show.bs.modal",Uu="modal-open",xi="show",Fl="modal-static",Jl={backdrop:!0,focus:!0,keyboard:!0},Do={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class bo extends N{constructor(tt,Ut){super(tt,Ut),this._dialog=F.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _o,this._addEventListeners()}static get Default(){return Jl}static get DefaultType(){return Do}static get NAME(){return"modal"}toggle(tt){return this._isShown?this.hide():this.show(tt)}show(tt){this._isShown||this._isTransitioning||E.trigger(this._element,Wo,{relatedTarget:tt}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Uu),this._adjustDialog(),this._backdrop.show(()=>this._showElement(tt)))}hide(){this._isShown&&!this._isTransitioning&&(E.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(xi),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){E.off(window,Go),E.off(this._dialog,Go),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Hn({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ma({trapElement:this._element})}_showElement(tt){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const Ut=F.findOne(".modal-body",this._dialog);Ut&&(Ut.scrollTop=0),T(this._element),this._element.classList.add(xi),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,E.trigger(this._element,"shown.bs.modal",{relatedTarget:tt})},this._dialog,this._isAnimated())}_addEventListeners(){E.on(this._element,"keydown.dismiss.bs.modal",tt=>{tt.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),E.on(window,"resize.bs.modal",()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),E.on(this._element,"mousedown.dismiss.bs.modal",tt=>{E.one(this._element,"click.dismiss.bs.modal",Ut=>{this._element===tt.target&&this._element===Ut.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Uu),this._resetAdjustments(),this._scrollBar.reset(),E.trigger(this._element,Ko)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(E.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const tt=this._element.scrollHeight>document.documentElement.clientHeight,Ut=this._element.style.overflowY;Ut==="hidden"||this._element.classList.contains(Fl)||(tt||(this._element.style.overflowY="hidden"),this._element.classList.add(Fl),this._queueCallback(()=>{this._element.classList.remove(Fl),this._queueCallback(()=>{this._element.style.overflowY=Ut},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const tt=this._element.scrollHeight>document.documentElement.clientHeight,Ut=this._scrollBar.getWidth(),Lr=Ut>0;if(Lr&&!tt){const Mn=t()?"paddingLeft":"paddingRight";this._element.style[Mn]=`${Ut}px`}if(!Lr&&tt){const Mn=t()?"paddingRight":"paddingLeft";this._element.style[Mn]=`${Ut}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(tt,Ut){return this.each(function(){const Lr=bo.getOrCreateInstance(this,tt);if(typeof tt=="string"){if(Lr[tt]===void 0)throw new TypeError(`No method named "${tt}"`);Lr[tt](Ut)}})}}E.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(ir){const tt=F.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&ir.preventDefault(),E.one(tt,Wo,Lr=>{Lr.defaultPrevented||E.one(tt,Ko,()=>{g(this)&&this.focus()})});const Ut=F.findOne(".modal.show");Ut&&bo.getInstance(Ut).hide(),bo.getOrCreateInstance(tt).toggle(this)}),H(bo),r(bo);const uf="show",Ql="showing",Xi="hiding",$l=".offcanvas.show",ss="hidePrevented.bs.offcanvas",wo="hidden.bs.offcanvas",ps={backdrop:!0,keyboard:!0,scroll:!1},jo={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class To extends N{constructor(tt,Ut){super(tt,Ut),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ps}static get DefaultType(){return jo}static get NAME(){return"offcanvas"}toggle(tt){return this._isShown?this.hide():this.show(tt)}show(tt){this._isShown||E.trigger(this._element,"show.bs.offcanvas",{relatedTarget:tt}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new _o().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ql),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(uf),this._element.classList.remove(Ql),E.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:tt})},this._element,!0))}hide(){this._isShown&&(E.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Xi),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(uf,Xi),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _o().reset(),E.trigger(this._element,wo)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const tt=!!this._config.backdrop;return new Hn({className:"offcanvas-backdrop",isVisible:tt,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:tt?()=>{this._config.backdrop!=="static"?this.hide():E.trigger(this._element,ss)}:null})}_initializeFocusTrap(){return new ma({trapElement:this._element})}_addEventListeners(){E.on(this._element,"keydown.dismiss.bs.offcanvas",tt=>{tt.key==="Escape"&&(this._config.keyboard?this.hide():E.trigger(this._element,ss))})}static jQueryInterface(tt){return this.each(function(){const Ut=To.getOrCreateInstance(this,tt);if(typeof tt=="string"){if(Ut[tt]===void 0||tt.startsWith("_")||tt==="constructor")throw new TypeError(`No method named "${tt}"`);Ut[tt](this)}})}}E.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(ir){const tt=F.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&ir.preventDefault(),R(this))return;E.one(tt,wo,()=>{g(this)&&this.focus()});const Ut=F.findOne($l);Ut&&Ut!==tt&&To.getInstance(Ut).hide(),To.getOrCreateInstance(tt).toggle(this)}),E.on(window,"load.bs.offcanvas.data-api",()=>{for(const ir of F.find($l))To.getOrCreateInstance(ir).show()}),E.on(window,"resize.bs.offcanvas",()=>{for(const ir of F.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(ir).position!=="fixed"&&To.getOrCreateInstance(ir).hide()}),H(To),r(To);const _s={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qs=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Oo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Hf=(ir,tt)=>{const Ut=ir.nodeName.toLowerCase();return tt.includes(Ut)?!qs.has(Ut)||!!Oo.test(ir.nodeValue):tt.filter(Lr=>Lr instanceof RegExp).some(Lr=>Lr.test(Ut))},Hs={allowList:_s,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},No={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ff={entry:"(string|element|function|null)",selector:"(string|element)"};class el extends z{constructor(tt){super(),this._config=this._getConfig(tt)}static get Default(){return Hs}static get DefaultType(){return No}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(tt=>this._resolvePossibleFunction(tt)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(tt){return this._checkContent(tt),this._config.content={...this._config.content,...tt},this}toHtml(){const tt=document.createElement("div");tt.innerHTML=this._maybeSanitize(this._config.template);for(const[Mn,mn]of Object.entries(this._config.content))this._setContent(tt,mn,Mn);const Ut=tt.children[0],Lr=this._resolvePossibleFunction(this._config.extraClass);return Lr&&Ut.classList.add(...Lr.split(" ")),Ut}_typeCheckConfig(tt){super._typeCheckConfig(tt),this._checkContent(tt.content)}_checkContent(tt){for(const[Ut,Lr]of Object.entries(tt))super._typeCheckConfig({selector:Ut,entry:Lr},ff)}_setContent(tt,Ut,Lr){const Mn=F.findOne(Lr,tt);Mn&&((Ut=this._resolvePossibleFunction(Ut))?V(Ut)?this._putElementInTemplate(e(Ut),Mn):this._config.html?Mn.innerHTML=this._maybeSanitize(Ut):Mn.textContent=Ut:Mn.remove())}_maybeSanitize(tt){return this._config.sanitize?function(Ut,Lr,Mn){if(!Ut.length)return Ut;if(Mn&&typeof Mn=="function")return Mn(Ut);const mn=new window.DOMParser().parseFromString(Ut,"text/html"),Vn=[].concat(...mn.body.querySelectorAll("*"));for(const aa of Vn){const Sa=aa.nodeName.toLowerCase();if(!Object.keys(Lr).includes(Sa)){aa.remove();continue}const Va=[].concat(...aa.attributes),Ha=[].concat(Lr["*"]||[],Lr[Sa]||[]);for(const ka of Va)Hf(ka,Ha)||aa.removeAttribute(ka.nodeName)}return mn.body.innerHTML}(tt,this._config.allowList,this._config.sanitizeFn):tt}_resolvePossibleFunction(tt){return l(tt,[this])}_putElementInTemplate(tt,Ut){if(this._config.html)return Ut.innerHTML="",void Ut.append(tt);Ut.textContent=tt.textContent}}const Vs=new Set(["sanitize","allowList","sanitizeFn"]),gu="fade",ql="show",Vf=".modal",eu="hide.bs.modal",Hu="hover",Gf="focus",yc={AUTO:"auto",TOP:"top",RIGHT:t()?"left":"right",BOTTOM:"bottom",LEFT:t()?"right":"left"},cf={allowList:_s,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},mc={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class zl extends N{constructor(tt,Ut){if(Pr===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(tt,Ut),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return cf}static get DefaultType(){return mc}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),E.off(this._element.closest(Vf),eu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const tt=E.trigger(this._element,this.constructor.eventName("show")),Ut=(i(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(tt.defaultPrevented||!Ut)return;this._disposePopper();const Lr=this._getTipElement();this._element.setAttribute("aria-describedby",Lr.getAttribute("id"));const{container:Mn}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Mn.append(Lr),E.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(Lr),Lr.classList.add(ql),"ontouchstart"in document.documentElement)for(const mn of[].concat(...document.body.children))E.on(mn,"mouseover",L);this._queueCallback(()=>{E.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!E.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ql),"ontouchstart"in document.documentElement)for(const tt of[].concat(...document.body.children))E.off(tt,"mouseover",L);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),E.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(tt){const Ut=this._getTemplateFactory(tt).toHtml();if(!Ut)return null;Ut.classList.remove(gu,ql),Ut.classList.add(`bs-${this.constructor.NAME}-auto`);const Lr=(Mn=>{do Mn+=Math.floor(1e6*Math.random());while(document.getElementById(Mn));return Mn})(this.constructor.NAME).toString();return Ut.setAttribute("id",Lr),this._isAnimated()&&Ut.classList.add(gu),Ut}setContent(tt){this._newContent=tt,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(tt){return this._templateFactory?this._templateFactory.changeContent(tt):this._templateFactory=new el({...this._config,content:tt,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(tt){return this.constructor.getOrCreateInstance(tt.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(gu)}_isShown(){return this.tip&&this.tip.classList.contains(ql)}_createPopper(tt){const Ut=l(this._config.placement,[this,tt,this._element]),Lr=yc[Ut.toUpperCase()];return la(this._element,tt,this._getPopperConfig(Lr))}_getOffset(){const{offset:tt}=this._config;return typeof tt=="string"?tt.split(",").map(Ut=>Number.parseInt(Ut,10)):typeof tt=="function"?Ut=>tt(Ut,this._element):tt}_resolvePossibleFunction(tt){return l(tt,[this._element])}_getPopperConfig(tt){const Ut={placement:tt,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:Lr=>{this._getTipElement().setAttribute("data-popper-placement",Lr.state.placement)}}]};return{...Ut,...l(this._config.popperConfig,[Ut])}}_setListeners(){const tt=this._config.trigger.split(" ");for(const Ut of tt)if(Ut==="click")E.on(this._element,this.constructor.eventName("click"),this._config.selector,Lr=>{this._initializeOnDelegatedTarget(Lr).toggle()});else if(Ut!=="manual"){const Lr=Ut===Hu?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),Mn=Ut===Hu?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");E.on(this._element,Lr,this._config.selector,mn=>{const Vn=this._initializeOnDelegatedTarget(mn);Vn._activeTrigger[mn.type==="focusin"?Gf:Hu]=!0,Vn._enter()}),E.on(this._element,Mn,this._config.selector,mn=>{const Vn=this._initializeOnDelegatedTarget(mn);Vn._activeTrigger[mn.type==="focusout"?Gf:Hu]=Vn._element.contains(mn.relatedTarget),Vn._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},E.on(this._element.closest(Vf),eu,this._hideModalHandler)}_fixTitle(){const tt=this._element.getAttribute("title");tt&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",tt),this._element.setAttribute("data-bs-original-title",tt),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(tt,Ut){clearTimeout(this._timeout),this._timeout=setTimeout(tt,Ut)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(tt){const Ut=U.getDataAttributes(this._element);for(const Lr of Object.keys(Ut))Vs.has(Lr)&&delete Ut[Lr];return tt={...Ut,...typeof tt=="object"&&tt?tt:{}},tt=this._mergeConfigObj(tt),tt=this._configAfterMerge(tt),this._typeCheckConfig(tt),tt}_configAfterMerge(tt){return tt.container=tt.container===!1?document.body:e(tt.container),typeof tt.delay=="number"&&(tt.delay={show:tt.delay,hide:tt.delay}),typeof tt.title=="number"&&(tt.title=tt.title.toString()),typeof tt.content=="number"&&(tt.content=tt.content.toString()),tt}_getDelegateConfig(){const tt={};for(const[Ut,Lr]of Object.entries(this._config))this.constructor.Default[Ut]!==Lr&&(tt[Ut]=Lr);return tt.selector=!1,tt.trigger="manual",tt}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(tt){return this.each(function(){const Ut=zl.getOrCreateInstance(this,tt);if(typeof tt=="string"){if(Ut[tt]===void 0)throw new TypeError(`No method named "${tt}"`);Ut[tt]()}})}}r(zl);const Wf={...zl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},xc={...zl.DefaultType,content:"(null|string|element|function)"};class Vu extends zl{static get Default(){return Wf}static get DefaultType(){return xc}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(tt){return this.each(function(){const Ut=Vu.getOrCreateInstance(this,tt);if(typeof tt=="string"){if(Ut[tt]===void 0)throw new TypeError(`No method named "${tt}"`);Ut[tt]()}})}}r(Vu);const Gu="click.bs.scrollspy",Ds="active",yl="[href]",tu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Wu={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class yu extends N{constructor(tt,Ut){super(tt,Ut),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return tu}static get DefaultType(){return Wu}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const tt of this._observableSections.values())this._observer.observe(tt)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(tt){return tt.target=e(tt.target)||document.body,tt.rootMargin=tt.offset?`${tt.offset}px 0px -30%`:tt.rootMargin,typeof tt.threshold=="string"&&(tt.threshold=tt.threshold.split(",").map(Ut=>Number.parseFloat(Ut))),tt}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(E.off(this._config.target,Gu),E.on(this._config.target,Gu,yl,tt=>{const Ut=this._observableSections.get(tt.target.hash);if(Ut){tt.preventDefault();const Lr=this._rootElement||window,Mn=Ut.offsetTop-this._element.offsetTop;if(Lr.scrollTo)return void Lr.scrollTo({top:Mn,behavior:"smooth"});Lr.scrollTop=Mn}}))}_getNewObserver(){const tt={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(Ut=>this._observerCallback(Ut),tt)}_observerCallback(tt){const Ut=Vn=>this._targetLinks.get(`#${Vn.target.id}`),Lr=Vn=>{this._previousScrollData.visibleEntryTop=Vn.target.offsetTop,this._process(Ut(Vn))},Mn=(this._rootElement||document.documentElement).scrollTop,mn=Mn>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Mn;for(const Vn of tt){if(!Vn.isIntersecting){this._activeTarget=null,this._clearActiveClass(Ut(Vn));continue}const aa=Vn.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(mn&&aa){if(Lr(Vn),!Mn)return}else mn||aa||Lr(Vn)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const tt=F.find(yl,this._config.target);for(const Ut of tt){if(!Ut.hash||R(Ut))continue;const Lr=F.findOne(decodeURI(Ut.hash),this._element);g(Lr)&&(this._targetLinks.set(decodeURI(Ut.hash),Ut),this._observableSections.set(Ut.hash,Lr))}}_process(tt){this._activeTarget!==tt&&(this._clearActiveClass(this._config.target),this._activeTarget=tt,tt.classList.add(Ds),this._activateParents(tt),E.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:tt}))}_activateParents(tt){if(tt.classList.contains("dropdown-item"))F.findOne(".dropdown-toggle",tt.closest(".dropdown")).classList.add(Ds);else for(const Ut of F.parents(tt,".nav, .list-group"))for(const Lr of F.prev(Ut,".nav-link, .nav-item > .nav-link, .list-group-item"))Lr.classList.add(Ds)}_clearActiveClass(tt){tt.classList.remove(Ds);const Ut=F.find("[href].active",tt);for(const Lr of Ut)Lr.classList.remove(Ds)}static jQueryInterface(tt){return this.each(function(){const Ut=yu.getOrCreateInstance(this,tt);if(typeof tt=="string"){if(Ut[tt]===void 0||tt.startsWith("_")||tt==="constructor")throw new TypeError(`No method named "${tt}"`);Ut[tt]()}})}}E.on(window,"load.bs.scrollspy.data-api",()=>{for(const ir of F.find('[data-bs-spy="scroll"]'))yu.getOrCreateInstance(ir)}),r(yu);const tl="ArrowLeft",hf="ArrowRight",vf="ArrowUp",jf="ArrowDown",Jo="active",ml="fade",Ol="show",Nl='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ts=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${Nl}`;class Qo extends N{constructor(tt){super(tt),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),E.on(this._element,"keydown.bs.tab",Ut=>this._keydown(Ut)))}static get NAME(){return"tab"}show(){const tt=this._element;if(this._elemIsActive(tt))return;const Ut=this._getActiveElem(),Lr=Ut?E.trigger(Ut,"hide.bs.tab",{relatedTarget:tt}):null;E.trigger(tt,"show.bs.tab",{relatedTarget:Ut}).defaultPrevented||Lr&&Lr.defaultPrevented||(this._deactivate(Ut,tt),this._activate(tt,Ut))}_activate(tt,Ut){tt&&(tt.classList.add(Jo),this._activate(F.getElementFromSelector(tt)),this._queueCallback(()=>{tt.getAttribute("role")==="tab"?(tt.removeAttribute("tabindex"),tt.setAttribute("aria-selected",!0),this._toggleDropDown(tt,!0),E.trigger(tt,"shown.bs.tab",{relatedTarget:Ut})):tt.classList.add(Ol)},tt,tt.classList.contains(ml)))}_deactivate(tt,Ut){tt&&(tt.classList.remove(Jo),tt.blur(),this._deactivate(F.getElementFromSelector(tt)),this._queueCallback(()=>{tt.getAttribute("role")==="tab"?(tt.setAttribute("aria-selected",!1),tt.setAttribute("tabindex","-1"),this._toggleDropDown(tt,!1),E.trigger(tt,"hidden.bs.tab",{relatedTarget:Ut})):tt.classList.remove(Ol)},tt,tt.classList.contains(ml)))}_keydown(tt){if(![tl,hf,vf,jf].includes(tt.key))return;tt.stopPropagation(),tt.preventDefault();const Ut=[hf,jf].includes(tt.key),Lr=s(this._getChildren().filter(Mn=>!R(Mn)),tt.target,Ut,!0);Lr&&(Lr.focus({preventScroll:!0}),Qo.getOrCreateInstance(Lr).show())}_getChildren(){return F.find(Ts,this._parent)}_getActiveElem(){return this._getChildren().find(tt=>this._elemIsActive(tt))||null}_setInitialAttributes(tt,Ut){this._setAttributeIfNotExists(tt,"role","tablist");for(const Lr of Ut)this._setInitialAttributesOnChild(Lr)}_setInitialAttributesOnChild(tt){tt=this._getInnerElement(tt);const Ut=this._elemIsActive(tt),Lr=this._getOuterElement(tt);tt.setAttribute("aria-selected",Ut),Lr!==tt&&this._setAttributeIfNotExists(Lr,"role","presentation"),Ut||tt.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(tt,"role","tab"),this._setInitialAttributesOnTargetPanel(tt)}_setInitialAttributesOnTargetPanel(tt){const Ut=F.getElementFromSelector(tt);Ut&&(this._setAttributeIfNotExists(Ut,"role","tabpanel"),tt.id&&this._setAttributeIfNotExists(Ut,"aria-labelledby",`${tt.id}`))}_toggleDropDown(tt,Ut){const Lr=this._getOuterElement(tt);if(!Lr.classList.contains("dropdown"))return;const Mn=(mn,Vn)=>{const aa=F.findOne(mn,Lr);aa&&aa.classList.toggle(Vn,Ut)};Mn(".dropdown-toggle",Jo),Mn(".dropdown-menu",Ol),Lr.setAttribute("aria-expanded",Ut)}_setAttributeIfNotExists(tt,Ut,Lr){tt.hasAttribute(Ut)||tt.setAttribute(Ut,Lr)}_elemIsActive(tt){return tt.classList.contains(Jo)}_getInnerElement(tt){return tt.matches(Ts)?tt:F.findOne(Ts,tt)}_getOuterElement(tt){return tt.closest(".nav-item, .list-group-item")||tt}static jQueryInterface(tt){return this.each(function(){const Ut=Qo.getOrCreateInstance(this);if(typeof tt=="string"){if(Ut[tt]===void 0||tt.startsWith("_")||tt==="constructor")throw new TypeError(`No method named "${tt}"`);Ut[tt]()}})}}E.on(document,"click.bs.tab",Nl,function(ir){["A","AREA"].includes(this.tagName)&&ir.preventDefault(),R(this)||Qo.getOrCreateInstance(this).show()}),E.on(window,"load.bs.tab",()=>{for(const ir of F.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Qo.getOrCreateInstance(ir)}),r(Qo);const ju="hide",rl="show",ks="showing",co={animation:"boolean",autohide:"boolean",delay:"number"},df={animation:!0,autohide:!0,delay:5e3};class xl extends N{constructor(tt,Ut){super(tt,Ut),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return df}static get DefaultType(){return co}static get NAME(){return"toast"}show(){E.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ju),T(this._element),this._element.classList.add(rl,ks),this._queueCallback(()=>{this._element.classList.remove(ks),E.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(E.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(ks),this._queueCallback(()=>{this._element.classList.add(ju),this._element.classList.remove(ks,rl),E.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(rl),super.dispose()}isShown(){return this._element.classList.contains(rl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(tt,Ut){switch(tt.type){case"mouseover":case"mouseout":this._hasMouseInteraction=Ut;break;case"focusin":case"focusout":this._hasKeyboardInteraction=Ut}if(Ut)return void this._clearTimeout();const Lr=tt.relatedTarget;this._element===Lr||this._element.contains(Lr)||this._maybeScheduleHide()}_setListeners(){E.on(this._element,"mouseover.bs.toast",tt=>this._onInteraction(tt,!0)),E.on(this._element,"mouseout.bs.toast",tt=>this._onInteraction(tt,!1)),E.on(this._element,"focusin.bs.toast",tt=>this._onInteraction(tt,!0)),E.on(this._element,"focusout.bs.toast",tt=>this._onInteraction(tt,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(tt){return this.each(function(){const Ut=xl.getOrCreateInstance(this,tt);if(typeof tt=="string"){if(Ut[tt]===void 0)throw new TypeError(`No method named "${tt}"`);Ut[tt](this)}})}}return H(xl),r(xl),{Alert:X,Button:ne,Carousel:xe,Collapse:we,Dropdown:ln,Modal:bo,Offcanvas:To,Popover:Vu,ScrollSpy:yu,Tab:Qo,Toast:xl,Tooltip:zl}})})(Z6);var n1={},cT={exports:{}},Nu={},hT={exports:{}},vT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(P){function O(x,a){var E=x.length;x.push(a);e:for(;0<E;){var w=E-1>>>1,k=x[w];if(0<Ae(k,a))x[w]=a,x[E]=k,E=w;else break e}}function $(x){return x.length===0?null:x[0]}function ce(x){if(x.length===0)return null;var a=x[0],E=x.pop();if(E!==a){x[0]=E;e:for(var w=0,k=x.length,I=k>>>1;w<I;){var U=2*(w+1)-1,z=x[U],N=U+1,B=x[N];if(0>Ae(z,E))N<k&&0>Ae(B,z)?(x[w]=B,x[N]=E,w=N):(x[w]=z,x[U]=E,w=U);else if(N<k&&0>Ae(B,E))x[w]=B,x[N]=E,w=N;else break e}}return a}function Ae(x,a){var E=x.sortIndex-a.sortIndex;return E!==0?E:x.id-a.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ze=performance;P.unstable_now=function(){return ze.now()}}else{var G=Date,V=G.now();P.unstable_now=function(){return G.now()-V}}var e=[],g=[],R=1,i=null,L=3,T=!1,v=!1,p=!1,t=typeof setTimeout=="function"?setTimeout:null,r=typeof clearTimeout=="function"?clearTimeout:null,l=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(x){for(var a=$(g);a!==null;){if(a.callback===null)ce(g);else if(a.startTime<=x)ce(g),a.sortIndex=a.expirationTime,O(e,a);else break;a=$(g)}}function s(x){if(p=!1,n(x),!v)if($(e)!==null)v=!0,m(c);else{var a=$(g);a!==null&&S(s,a.startTime-x)}}function c(x,a){v=!1,p&&(p=!1,r(h),h=-1),T=!0;var E=L;try{for(n(a),i=$(e);i!==null&&(!(i.expirationTime>a)||x&&!o());){var w=i.callback;if(typeof w=="function"){i.callback=null,L=i.priorityLevel;var k=w(i.expirationTime<=a);a=P.unstable_now(),typeof k=="function"?i.callback=k:i===$(e)&&ce(e),n(a)}else ce(e);i=$(e)}if(i!==null)var I=!0;else{var U=$(g);U!==null&&S(s,U.startTime-a),I=!1}return I}finally{i=null,L=E,T=!1}}var u=!1,y=null,h=-1,b=5,f=-1;function o(){return!(P.unstable_now()-f<b)}function d(){if(y!==null){var x=P.unstable_now();f=x;var a=!0;try{a=y(!0,x)}finally{a?A():(u=!1,y=null)}}else u=!1}var A;if(typeof l=="function")A=function(){l(d)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,C=M.port2;M.port1.onmessage=d,A=function(){C.postMessage(null)}}else A=function(){t(d,0)};function m(x){y=x,u||(u=!0,A())}function S(x,a){h=t(function(){x(P.unstable_now())},a)}P.unstable_IdlePriority=5,P.unstable_ImmediatePriority=1,P.unstable_LowPriority=4,P.unstable_NormalPriority=3,P.unstable_Profiling=null,P.unstable_UserBlockingPriority=2,P.unstable_cancelCallback=function(x){x.callback=null},P.unstable_continueExecution=function(){v||T||(v=!0,m(c))},P.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<x?Math.floor(1e3/x):5},P.unstable_getCurrentPriorityLevel=function(){return L},P.unstable_getFirstCallbackNode=function(){return $(e)},P.unstable_next=function(x){switch(L){case 1:case 2:case 3:var a=3;break;default:a=L}var E=L;L=a;try{return x()}finally{L=E}},P.unstable_pauseExecution=function(){},P.unstable_requestPaint=function(){},P.unstable_runWithPriority=function(x,a){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var E=L;L=x;try{return a()}finally{L=E}},P.unstable_scheduleCallback=function(x,a,E){var w=P.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?w+E:w):E=w,x){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=E+k,x={id:R++,callback:a,priorityLevel:x,startTime:E,expirationTime:k,sortIndex:-1},E>w?(x.sortIndex=E,O(g,x),$(e)===null&&x===$(g)&&(p?(r(h),h=-1):p=!0,S(s,E-w))):(x.sortIndex=k,O(e,x),v||T||(v=!0,m(c))),x},P.unstable_shouldYield=o,P.unstable_wrapCallback=function(x){var a=L;return function(){var E=L;L=a;try{return x.apply(this,arguments)}finally{L=E}}}})(vT);hT.exports=vT;var X6=hT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT=qn,Ou=X6;function Ma(P){for(var O="https://reactjs.org/docs/error-decoder.html?invariant="+P,$=1;$<arguments.length;$++)O+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+P+"; visit "+O+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pT=new Set,zp={};function pv(P,O){bd(P,O),bd(P+"Capture",O)}function bd(P,O){for(zp[P]=O,P=0;P<O.length;P++)pT.add(O[P])}var Vc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a1=Object.prototype.hasOwnProperty,K6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xb={},Kb={};function J6(P){return a1.call(Kb,P)?!0:a1.call(Xb,P)?!1:K6.test(P)?Kb[P]=!0:(Xb[P]=!0,!1)}function Q6(P,O,$,ce){if($!==null&&$.type===0)return!1;switch(typeof O){case"function":case"symbol":return!0;case"boolean":return ce?!1:$!==null?!$.acceptsBooleans:(P=P.toLowerCase().slice(0,5),P!=="data-"&&P!=="aria-");default:return!1}}function $6(P,O,$,ce){if(O===null||typeof O>"u"||Q6(P,O,$,ce))return!0;if(ce)return!1;if($!==null)switch($.type){case 3:return!O;case 4:return O===!1;case 5:return isNaN(O);case 6:return isNaN(O)||1>O}return!1}function Kl(P,O,$,ce,Ae,ze,G){this.acceptsBooleans=O===2||O===3||O===4,this.attributeName=ce,this.attributeNamespace=Ae,this.mustUseProperty=$,this.propertyName=P,this.type=O,this.sanitizeURL=ze,this.removeEmptyString=G}var pl={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(P){pl[P]=new Kl(P,0,!1,P,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(P){var O=P[0];pl[O]=new Kl(O,1,!1,P[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(P){pl[P]=new Kl(P,2,!1,P.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(P){pl[P]=new Kl(P,2,!1,P,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(P){pl[P]=new Kl(P,3,!1,P.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(P){pl[P]=new Kl(P,3,!0,P,null,!1,!1)});["capture","download"].forEach(function(P){pl[P]=new Kl(P,4,!1,P,null,!1,!1)});["cols","rows","size","span"].forEach(function(P){pl[P]=new Kl(P,6,!1,P,null,!1,!1)});["rowSpan","start"].forEach(function(P){pl[P]=new Kl(P,5,!1,P.toLowerCase(),null,!1,!1)});var yx=/[\-:]([a-z])/g;function mx(P){return P[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(P){var O=P.replace(yx,mx);pl[O]=new Kl(O,1,!1,P,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(P){var O=P.replace(yx,mx);pl[O]=new Kl(O,1,!1,P,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(P){var O=P.replace(yx,mx);pl[O]=new Kl(O,1,!1,P,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(P){pl[P]=new Kl(P,1,!1,P.toLowerCase(),null,!1,!1)});pl.xlinkHref=new Kl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(P){pl[P]=new Kl(P,1,!1,P.toLowerCase(),null,!0,!0)});function xx(P,O,$,ce){var Ae=pl.hasOwnProperty(O)?pl[O]:null;(Ae!==null?Ae.type!==0:ce||!(2<O.length)||O[0]!=="o"&&O[0]!=="O"||O[1]!=="n"&&O[1]!=="N")&&($6(O,$,Ae,ce)&&($=null),ce||Ae===null?J6(O)&&($===null?P.removeAttribute(O):P.setAttribute(O,""+$)):Ae.mustUseProperty?P[Ae.propertyName]=$===null?Ae.type===3?!1:"":$:(O=Ae.attributeName,ce=Ae.attributeNamespace,$===null?P.removeAttribute(O):(Ae=Ae.type,$=Ae===3||Ae===4&&$===!0?"":""+$,ce?P.setAttributeNS(ce,O,$):P.setAttribute(O,$))))}var Xc=dT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X0=Symbol.for("react.element"),Qv=Symbol.for("react.portal"),$v=Symbol.for("react.fragment"),bx=Symbol.for("react.strict_mode"),i1=Symbol.for("react.profiler"),gT=Symbol.for("react.provider"),yT=Symbol.for("react.context"),wx=Symbol.for("react.forward_ref"),o1=Symbol.for("react.suspense"),s1=Symbol.for("react.suspense_list"),Tx=Symbol.for("react.memo"),bh=Symbol.for("react.lazy"),mT=Symbol.for("react.offscreen"),Jb=Symbol.iterator;function op(P){return P===null||typeof P!="object"?null:(P=Jb&&P[Jb]||P["@@iterator"],typeof P=="function"?P:null)}var os=Object.assign,Tm;function bp(P){if(Tm===void 0)try{throw Error()}catch($){var O=$.stack.trim().match(/\n( *(at )?)/);Tm=O&&O[1]||""}return`
`+Tm+P}var Am=!1;function Mm(P,O){if(!P||Am)return"";Am=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(O)if(O=function(){throw Error()},Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(g){var ce=g}Reflect.construct(P,[],O)}else{try{O.call()}catch(g){ce=g}P.call(O.prototype)}else{try{throw Error()}catch(g){ce=g}P()}}catch(g){if(g&&ce&&typeof g.stack=="string"){for(var Ae=g.stack.split(`
`),ze=ce.stack.split(`
`),G=Ae.length-1,V=ze.length-1;1<=G&&0<=V&&Ae[G]!==ze[V];)V--;for(;1<=G&&0<=V;G--,V--)if(Ae[G]!==ze[V]){if(G!==1||V!==1)do if(G--,V--,0>V||Ae[G]!==ze[V]){var e=`
`+Ae[G].replace(" at new "," at ");return P.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",P.displayName)),e}while(1<=G&&0<=V);break}}}finally{Am=!1,Error.prepareStackTrace=$}return(P=P?P.displayName||P.name:"")?bp(P):""}function q6(P){switch(P.tag){case 5:return bp(P.type);case 16:return bp("Lazy");case 13:return bp("Suspense");case 19:return bp("SuspenseList");case 0:case 2:case 15:return P=Mm(P.type,!1),P;case 11:return P=Mm(P.type.render,!1),P;case 1:return P=Mm(P.type,!0),P;default:return""}}function l1(P){if(P==null)return null;if(typeof P=="function")return P.displayName||P.name||null;if(typeof P=="string")return P;switch(P){case $v:return"Fragment";case Qv:return"Portal";case i1:return"Profiler";case bx:return"StrictMode";case o1:return"Suspense";case s1:return"SuspenseList"}if(typeof P=="object")switch(P.$$typeof){case yT:return(P.displayName||"Context")+".Consumer";case gT:return(P._context.displayName||"Context")+".Provider";case wx:var O=P.render;return P=P.displayName,P||(P=O.displayName||O.name||"",P=P!==""?"ForwardRef("+P+")":"ForwardRef"),P;case Tx:return O=P.displayName||null,O!==null?O:l1(P.type)||"Memo";case bh:O=P._payload,P=P._init;try{return l1(P(O))}catch{}}return null}function eE(P){var O=P.type;switch(P.tag){case 24:return"Cache";case 9:return(O.displayName||"Context")+".Consumer";case 10:return(O._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return P=O.render,P=P.displayName||P.name||"",O.displayName||(P!==""?"ForwardRef("+P+")":"ForwardRef");case 7:return"Fragment";case 5:return O;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return l1(O);case 8:return O===bx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof O=="function")return O.displayName||O.name||null;if(typeof O=="string")return O}return null}function Fh(P){switch(typeof P){case"boolean":case"number":case"string":case"undefined":return P;case"object":return P;default:return""}}function xT(P){var O=P.type;return(P=P.nodeName)&&P.toLowerCase()==="input"&&(O==="checkbox"||O==="radio")}function tE(P){var O=xT(P)?"checked":"value",$=Object.getOwnPropertyDescriptor(P.constructor.prototype,O),ce=""+P[O];if(!P.hasOwnProperty(O)&&typeof $<"u"&&typeof $.get=="function"&&typeof $.set=="function"){var Ae=$.get,ze=$.set;return Object.defineProperty(P,O,{configurable:!0,get:function(){return Ae.call(this)},set:function(G){ce=""+G,ze.call(this,G)}}),Object.defineProperty(P,O,{enumerable:$.enumerable}),{getValue:function(){return ce},setValue:function(G){ce=""+G},stopTracking:function(){P._valueTracker=null,delete P[O]}}}}function K0(P){P._valueTracker||(P._valueTracker=tE(P))}function bT(P){if(!P)return!1;var O=P._valueTracker;if(!O)return!0;var $=O.getValue(),ce="";return P&&(ce=xT(P)?P.checked?"true":"false":P.value),P=ce,P!==$?(O.setValue(P),!0):!1}function Fg(P){if(P=P||(typeof document<"u"?document:void 0),typeof P>"u")return null;try{return P.activeElement||P.body}catch{return P.body}}function u1(P,O){var $=O.checked;return os({},O,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:$??P._wrapperState.initialChecked})}function Qb(P,O){var $=O.defaultValue==null?"":O.defaultValue,ce=O.checked!=null?O.checked:O.defaultChecked;$=Fh(O.value!=null?O.value:$),P._wrapperState={initialChecked:ce,initialValue:$,controlled:O.type==="checkbox"||O.type==="radio"?O.checked!=null:O.value!=null}}function wT(P,O){O=O.checked,O!=null&&xx(P,"checked",O,!1)}function f1(P,O){wT(P,O);var $=Fh(O.value),ce=O.type;if($!=null)ce==="number"?($===0&&P.value===""||P.value!=$)&&(P.value=""+$):P.value!==""+$&&(P.value=""+$);else if(ce==="submit"||ce==="reset"){P.removeAttribute("value");return}O.hasOwnProperty("value")?c1(P,O.type,$):O.hasOwnProperty("defaultValue")&&c1(P,O.type,Fh(O.defaultValue)),O.checked==null&&O.defaultChecked!=null&&(P.defaultChecked=!!O.defaultChecked)}function $b(P,O,$){if(O.hasOwnProperty("value")||O.hasOwnProperty("defaultValue")){var ce=O.type;if(!(ce!=="submit"&&ce!=="reset"||O.value!==void 0&&O.value!==null))return;O=""+P._wrapperState.initialValue,$||O===P.value||(P.value=O),P.defaultValue=O}$=P.name,$!==""&&(P.name=""),P.defaultChecked=!!P._wrapperState.initialChecked,$!==""&&(P.name=$)}function c1(P,O,$){(O!=="number"||Fg(P.ownerDocument)!==P)&&($==null?P.defaultValue=""+P._wrapperState.initialValue:P.defaultValue!==""+$&&(P.defaultValue=""+$))}var wp=Array.isArray;function cd(P,O,$,ce){if(P=P.options,O){O={};for(var Ae=0;Ae<$.length;Ae++)O["$"+$[Ae]]=!0;for($=0;$<P.length;$++)Ae=O.hasOwnProperty("$"+P[$].value),P[$].selected!==Ae&&(P[$].selected=Ae),Ae&&ce&&(P[$].defaultSelected=!0)}else{for($=""+Fh($),O=null,Ae=0;Ae<P.length;Ae++){if(P[Ae].value===$){P[Ae].selected=!0,ce&&(P[Ae].defaultSelected=!0);return}O!==null||P[Ae].disabled||(O=P[Ae])}O!==null&&(O.selected=!0)}}function h1(P,O){if(O.dangerouslySetInnerHTML!=null)throw Error(Ma(91));return os({},O,{value:void 0,defaultValue:void 0,children:""+P._wrapperState.initialValue})}function qb(P,O){var $=O.value;if($==null){if($=O.children,O=O.defaultValue,$!=null){if(O!=null)throw Error(Ma(92));if(wp($)){if(1<$.length)throw Error(Ma(93));$=$[0]}O=$}O==null&&(O=""),$=O}P._wrapperState={initialValue:Fh($)}}function TT(P,O){var $=Fh(O.value),ce=Fh(O.defaultValue);$!=null&&($=""+$,$!==P.value&&(P.value=$),O.defaultValue==null&&P.defaultValue!==$&&(P.defaultValue=$)),ce!=null&&(P.defaultValue=""+ce)}function e3(P){var O=P.textContent;O===P._wrapperState.initialValue&&O!==""&&O!==null&&(P.value=O)}function AT(P){switch(P){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function v1(P,O){return P==null||P==="http://www.w3.org/1999/xhtml"?AT(O):P==="http://www.w3.org/2000/svg"&&O==="foreignObject"?"http://www.w3.org/1999/xhtml":P}var J0,MT=function(P){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(O,$,ce,Ae){MSApp.execUnsafeLocalFunction(function(){return P(O,$,ce,Ae)})}:P}(function(P,O){if(P.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in P)P.innerHTML=O;else{for(J0=J0||document.createElement("div"),J0.innerHTML="<svg>"+O.valueOf().toString()+"</svg>",O=J0.firstChild;P.firstChild;)P.removeChild(P.firstChild);for(;O.firstChild;)P.appendChild(O.firstChild)}});function Op(P,O){if(O){var $=P.firstChild;if($&&$===P.lastChild&&$.nodeType===3){$.nodeValue=O;return}}P.textContent=O}var Mp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rE=["Webkit","ms","Moz","O"];Object.keys(Mp).forEach(function(P){rE.forEach(function(O){O=O+P.charAt(0).toUpperCase()+P.substring(1),Mp[O]=Mp[P]})});function ST(P,O,$){return O==null||typeof O=="boolean"||O===""?"":$||typeof O!="number"||O===0||Mp.hasOwnProperty(P)&&Mp[P]?(""+O).trim():O+"px"}function ET(P,O){P=P.style;for(var $ in O)if(O.hasOwnProperty($)){var ce=$.indexOf("--")===0,Ae=ST($,O[$],ce);$==="float"&&($="cssFloat"),ce?P.setProperty($,Ae):P[$]=Ae}}var nE=os({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function d1(P,O){if(O){if(nE[P]&&(O.children!=null||O.dangerouslySetInnerHTML!=null))throw Error(Ma(137,P));if(O.dangerouslySetInnerHTML!=null){if(O.children!=null)throw Error(Ma(60));if(typeof O.dangerouslySetInnerHTML!="object"||!("__html"in O.dangerouslySetInnerHTML))throw Error(Ma(61))}if(O.style!=null&&typeof O.style!="object")throw Error(Ma(62))}}function p1(P,O){if(P.indexOf("-")===-1)return typeof O.is=="string";switch(P){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g1=null;function Ax(P){return P=P.target||P.srcElement||window,P.correspondingUseElement&&(P=P.correspondingUseElement),P.nodeType===3?P.parentNode:P}var y1=null,hd=null,vd=null;function t3(P){if(P=l0(P)){if(typeof y1!="function")throw Error(Ma(280));var O=P.stateNode;O&&(O=gy(O),y1(P.stateNode,P.type,O))}}function CT(P){hd?vd?vd.push(P):vd=[P]:hd=P}function LT(){if(hd){var P=hd,O=vd;if(vd=hd=null,t3(P),O)for(P=0;P<O.length;P++)t3(O[P])}}function PT(P,O){return P(O)}function RT(){}var Sm=!1;function _T(P,O,$){if(Sm)return P(O,$);Sm=!0;try{return PT(P,O,$)}finally{Sm=!1,(hd!==null||vd!==null)&&(RT(),LT())}}function Np(P,O){var $=P.stateNode;if($===null)return null;var ce=gy($);if(ce===null)return null;$=ce[O];e:switch(O){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ce=!ce.disabled)||(P=P.type,ce=!(P==="button"||P==="input"||P==="select"||P==="textarea")),P=!ce;break e;default:P=!1}if(P)return null;if($&&typeof $!="function")throw Error(Ma(231,O,typeof $));return $}var m1=!1;if(Vc)try{var sp={};Object.defineProperty(sp,"passive",{get:function(){m1=!0}}),window.addEventListener("test",sp,sp),window.removeEventListener("test",sp,sp)}catch{m1=!1}function aE(P,O,$,ce,Ae,ze,G,V,e){var g=Array.prototype.slice.call(arguments,3);try{O.apply($,g)}catch(R){this.onError(R)}}var Sp=!1,zg=null,Og=!1,x1=null,iE={onError:function(P){Sp=!0,zg=P}};function oE(P,O,$,ce,Ae,ze,G,V,e){Sp=!1,zg=null,aE.apply(iE,arguments)}function sE(P,O,$,ce,Ae,ze,G,V,e){if(oE.apply(this,arguments),Sp){if(Sp){var g=zg;Sp=!1,zg=null}else throw Error(Ma(198));Og||(Og=!0,x1=g)}}function gv(P){var O=P,$=P;if(P.alternate)for(;O.return;)O=O.return;else{P=O;do O=P,O.flags&4098&&($=O.return),P=O.return;while(P)}return O.tag===3?$:null}function DT(P){if(P.tag===13){var O=P.memoizedState;if(O===null&&(P=P.alternate,P!==null&&(O=P.memoizedState)),O!==null)return O.dehydrated}return null}function r3(P){if(gv(P)!==P)throw Error(Ma(188))}function lE(P){var O=P.alternate;if(!O){if(O=gv(P),O===null)throw Error(Ma(188));return O!==P?null:P}for(var $=P,ce=O;;){var Ae=$.return;if(Ae===null)break;var ze=Ae.alternate;if(ze===null){if(ce=Ae.return,ce!==null){$=ce;continue}break}if(Ae.child===ze.child){for(ze=Ae.child;ze;){if(ze===$)return r3(Ae),P;if(ze===ce)return r3(Ae),O;ze=ze.sibling}throw Error(Ma(188))}if($.return!==ce.return)$=Ae,ce=ze;else{for(var G=!1,V=Ae.child;V;){if(V===$){G=!0,$=Ae,ce=ze;break}if(V===ce){G=!0,ce=Ae,$=ze;break}V=V.sibling}if(!G){for(V=ze.child;V;){if(V===$){G=!0,$=ze,ce=Ae;break}if(V===ce){G=!0,ce=ze,$=Ae;break}V=V.sibling}if(!G)throw Error(Ma(189))}}if($.alternate!==ce)throw Error(Ma(190))}if($.tag!==3)throw Error(Ma(188));return $.stateNode.current===$?P:O}function kT(P){return P=lE(P),P!==null?IT(P):null}function IT(P){if(P.tag===5||P.tag===6)return P;for(P=P.child;P!==null;){var O=IT(P);if(O!==null)return O;P=P.sibling}return null}var FT=Ou.unstable_scheduleCallback,n3=Ou.unstable_cancelCallback,uE=Ou.unstable_shouldYield,fE=Ou.unstable_requestPaint,ws=Ou.unstable_now,cE=Ou.unstable_getCurrentPriorityLevel,Mx=Ou.unstable_ImmediatePriority,zT=Ou.unstable_UserBlockingPriority,Ng=Ou.unstable_NormalPriority,hE=Ou.unstable_LowPriority,OT=Ou.unstable_IdlePriority,hy=null,hc=null;function vE(P){if(hc&&typeof hc.onCommitFiberRoot=="function")try{hc.onCommitFiberRoot(hy,P,void 0,(P.current.flags&128)===128)}catch{}}var Of=Math.clz32?Math.clz32:gE,dE=Math.log,pE=Math.LN2;function gE(P){return P>>>=0,P===0?32:31-(dE(P)/pE|0)|0}var Q0=64,$0=4194304;function Tp(P){switch(P&-P){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return P&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return P&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return P}}function Bg(P,O){var $=P.pendingLanes;if($===0)return 0;var ce=0,Ae=P.suspendedLanes,ze=P.pingedLanes,G=$&268435455;if(G!==0){var V=G&~Ae;V!==0?ce=Tp(V):(ze&=G,ze!==0&&(ce=Tp(ze)))}else G=$&~Ae,G!==0?ce=Tp(G):ze!==0&&(ce=Tp(ze));if(ce===0)return 0;if(O!==0&&O!==ce&&!(O&Ae)&&(Ae=ce&-ce,ze=O&-O,Ae>=ze||Ae===16&&(ze&4194240)!==0))return O;if(ce&4&&(ce|=$&16),O=P.entangledLanes,O!==0)for(P=P.entanglements,O&=ce;0<O;)$=31-Of(O),Ae=1<<$,ce|=P[$],O&=~Ae;return ce}function yE(P,O){switch(P){case 1:case 2:case 4:return O+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return O+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mE(P,O){for(var $=P.suspendedLanes,ce=P.pingedLanes,Ae=P.expirationTimes,ze=P.pendingLanes;0<ze;){var G=31-Of(ze),V=1<<G,e=Ae[G];e===-1?(!(V&$)||V&ce)&&(Ae[G]=yE(V,O)):e<=O&&(P.expiredLanes|=V),ze&=~V}}function b1(P){return P=P.pendingLanes&-1073741825,P!==0?P:P&1073741824?1073741824:0}function NT(){var P=Q0;return Q0<<=1,!(Q0&4194240)&&(Q0=64),P}function Em(P){for(var O=[],$=0;31>$;$++)O.push(P);return O}function o0(P,O,$){P.pendingLanes|=O,O!==536870912&&(P.suspendedLanes=0,P.pingedLanes=0),P=P.eventTimes,O=31-Of(O),P[O]=$}function xE(P,O){var $=P.pendingLanes&~O;P.pendingLanes=O,P.suspendedLanes=0,P.pingedLanes=0,P.expiredLanes&=O,P.mutableReadLanes&=O,P.entangledLanes&=O,O=P.entanglements;var ce=P.eventTimes;for(P=P.expirationTimes;0<$;){var Ae=31-Of($),ze=1<<Ae;O[Ae]=0,ce[Ae]=-1,P[Ae]=-1,$&=~ze}}function Sx(P,O){var $=P.entangledLanes|=O;for(P=P.entanglements;$;){var ce=31-Of($),Ae=1<<ce;Ae&O|P[ce]&O&&(P[ce]|=O),$&=~Ae}}var xo=0;function BT(P){return P&=-P,1<P?4<P?P&268435455?16:536870912:4:1}var UT,Ex,HT,VT,GT,w1=!1,q0=[],Ch=null,Lh=null,Ph=null,Bp=new Map,Up=new Map,Th=[],bE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function a3(P,O){switch(P){case"focusin":case"focusout":Ch=null;break;case"dragenter":case"dragleave":Lh=null;break;case"mouseover":case"mouseout":Ph=null;break;case"pointerover":case"pointerout":Bp.delete(O.pointerId);break;case"gotpointercapture":case"lostpointercapture":Up.delete(O.pointerId)}}function lp(P,O,$,ce,Ae,ze){return P===null||P.nativeEvent!==ze?(P={blockedOn:O,domEventName:$,eventSystemFlags:ce,nativeEvent:ze,targetContainers:[Ae]},O!==null&&(O=l0(O),O!==null&&Ex(O)),P):(P.eventSystemFlags|=ce,O=P.targetContainers,Ae!==null&&O.indexOf(Ae)===-1&&O.push(Ae),P)}function wE(P,O,$,ce,Ae){switch(O){case"focusin":return Ch=lp(Ch,P,O,$,ce,Ae),!0;case"dragenter":return Lh=lp(Lh,P,O,$,ce,Ae),!0;case"mouseover":return Ph=lp(Ph,P,O,$,ce,Ae),!0;case"pointerover":var ze=Ae.pointerId;return Bp.set(ze,lp(Bp.get(ze)||null,P,O,$,ce,Ae)),!0;case"gotpointercapture":return ze=Ae.pointerId,Up.set(ze,lp(Up.get(ze)||null,P,O,$,ce,Ae)),!0}return!1}function WT(P){var O=rv(P.target);if(O!==null){var $=gv(O);if($!==null){if(O=$.tag,O===13){if(O=DT($),O!==null){P.blockedOn=O,GT(P.priority,function(){HT($)});return}}else if(O===3&&$.stateNode.current.memoizedState.isDehydrated){P.blockedOn=$.tag===3?$.stateNode.containerInfo:null;return}}}P.blockedOn=null}function dg(P){if(P.blockedOn!==null)return!1;for(var O=P.targetContainers;0<O.length;){var $=T1(P.domEventName,P.eventSystemFlags,O[0],P.nativeEvent);if($===null){$=P.nativeEvent;var ce=new $.constructor($.type,$);g1=ce,$.target.dispatchEvent(ce),g1=null}else return O=l0($),O!==null&&Ex(O),P.blockedOn=$,!1;O.shift()}return!0}function i3(P,O,$){dg(P)&&$.delete(O)}function TE(){w1=!1,Ch!==null&&dg(Ch)&&(Ch=null),Lh!==null&&dg(Lh)&&(Lh=null),Ph!==null&&dg(Ph)&&(Ph=null),Bp.forEach(i3),Up.forEach(i3)}function up(P,O){P.blockedOn===O&&(P.blockedOn=null,w1||(w1=!0,Ou.unstable_scheduleCallback(Ou.unstable_NormalPriority,TE)))}function Hp(P){function O(Ae){return up(Ae,P)}if(0<q0.length){up(q0[0],P);for(var $=1;$<q0.length;$++){var ce=q0[$];ce.blockedOn===P&&(ce.blockedOn=null)}}for(Ch!==null&&up(Ch,P),Lh!==null&&up(Lh,P),Ph!==null&&up(Ph,P),Bp.forEach(O),Up.forEach(O),$=0;$<Th.length;$++)ce=Th[$],ce.blockedOn===P&&(ce.blockedOn=null);for(;0<Th.length&&($=Th[0],$.blockedOn===null);)WT($),$.blockedOn===null&&Th.shift()}var dd=Xc.ReactCurrentBatchConfig,Ug=!0;function AE(P,O,$,ce){var Ae=xo,ze=dd.transition;dd.transition=null;try{xo=1,Cx(P,O,$,ce)}finally{xo=Ae,dd.transition=ze}}function ME(P,O,$,ce){var Ae=xo,ze=dd.transition;dd.transition=null;try{xo=4,Cx(P,O,$,ce)}finally{xo=Ae,dd.transition=ze}}function Cx(P,O,$,ce){if(Ug){var Ae=T1(P,O,$,ce);if(Ae===null)zm(P,O,ce,Hg,$),a3(P,ce);else if(wE(Ae,P,O,$,ce))ce.stopPropagation();else if(a3(P,ce),O&4&&-1<bE.indexOf(P)){for(;Ae!==null;){var ze=l0(Ae);if(ze!==null&&UT(ze),ze=T1(P,O,$,ce),ze===null&&zm(P,O,ce,Hg,$),ze===Ae)break;Ae=ze}Ae!==null&&ce.stopPropagation()}else zm(P,O,ce,null,$)}}var Hg=null;function T1(P,O,$,ce){if(Hg=null,P=Ax(ce),P=rv(P),P!==null)if(O=gv(P),O===null)P=null;else if($=O.tag,$===13){if(P=DT(O),P!==null)return P;P=null}else if($===3){if(O.stateNode.current.memoizedState.isDehydrated)return O.tag===3?O.stateNode.containerInfo:null;P=null}else O!==P&&(P=null);return Hg=P,null}function jT(P){switch(P){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cE()){case Mx:return 1;case zT:return 4;case Ng:case hE:return 16;case OT:return 536870912;default:return 16}default:return 16}}var Sh=null,Lx=null,pg=null;function YT(){if(pg)return pg;var P,O=Lx,$=O.length,ce,Ae="value"in Sh?Sh.value:Sh.textContent,ze=Ae.length;for(P=0;P<$&&O[P]===Ae[P];P++);var G=$-P;for(ce=1;ce<=G&&O[$-ce]===Ae[ze-ce];ce++);return pg=Ae.slice(P,1<ce?1-ce:void 0)}function gg(P){var O=P.keyCode;return"charCode"in P?(P=P.charCode,P===0&&O===13&&(P=13)):P=O,P===10&&(P=13),32<=P||P===13?P:0}function eg(){return!0}function o3(){return!1}function Bu(P){function O($,ce,Ae,ze,G){this._reactName=$,this._targetInst=Ae,this.type=ce,this.nativeEvent=ze,this.target=G,this.currentTarget=null;for(var V in P)P.hasOwnProperty(V)&&($=P[V],this[V]=$?$(ze):ze[V]);return this.isDefaultPrevented=(ze.defaultPrevented!=null?ze.defaultPrevented:ze.returnValue===!1)?eg:o3,this.isPropagationStopped=o3,this}return os(O.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $=this.nativeEvent;$&&($.preventDefault?$.preventDefault():typeof $.returnValue!="unknown"&&($.returnValue=!1),this.isDefaultPrevented=eg)},stopPropagation:function(){var $=this.nativeEvent;$&&($.stopPropagation?$.stopPropagation():typeof $.cancelBubble!="unknown"&&($.cancelBubble=!0),this.isPropagationStopped=eg)},persist:function(){},isPersistent:eg}),O}var kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(P){return P.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Px=Bu(kd),s0=os({},kd,{view:0,detail:0}),SE=Bu(s0),Cm,Lm,fp,vy=os({},s0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rx,button:0,buttons:0,relatedTarget:function(P){return P.relatedTarget===void 0?P.fromElement===P.srcElement?P.toElement:P.fromElement:P.relatedTarget},movementX:function(P){return"movementX"in P?P.movementX:(P!==fp&&(fp&&P.type==="mousemove"?(Cm=P.screenX-fp.screenX,Lm=P.screenY-fp.screenY):Lm=Cm=0,fp=P),Cm)},movementY:function(P){return"movementY"in P?P.movementY:Lm}}),s3=Bu(vy),EE=os({},vy,{dataTransfer:0}),CE=Bu(EE),LE=os({},s0,{relatedTarget:0}),Pm=Bu(LE),PE=os({},kd,{animationName:0,elapsedTime:0,pseudoElement:0}),RE=Bu(PE),_E=os({},kd,{clipboardData:function(P){return"clipboardData"in P?P.clipboardData:window.clipboardData}}),DE=Bu(_E),kE=os({},kd,{data:0}),l3=Bu(kE),IE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OE(P){var O=this.nativeEvent;return O.getModifierState?O.getModifierState(P):(P=zE[P])?!!O[P]:!1}function Rx(){return OE}var NE=os({},s0,{key:function(P){if(P.key){var O=IE[P.key]||P.key;if(O!=="Unidentified")return O}return P.type==="keypress"?(P=gg(P),P===13?"Enter":String.fromCharCode(P)):P.type==="keydown"||P.type==="keyup"?FE[P.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rx,charCode:function(P){return P.type==="keypress"?gg(P):0},keyCode:function(P){return P.type==="keydown"||P.type==="keyup"?P.keyCode:0},which:function(P){return P.type==="keypress"?gg(P):P.type==="keydown"||P.type==="keyup"?P.keyCode:0}}),BE=Bu(NE),UE=os({},vy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u3=Bu(UE),HE=os({},s0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rx}),VE=Bu(HE),GE=os({},kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),WE=Bu(GE),jE=os({},vy,{deltaX:function(P){return"deltaX"in P?P.deltaX:"wheelDeltaX"in P?-P.wheelDeltaX:0},deltaY:function(P){return"deltaY"in P?P.deltaY:"wheelDeltaY"in P?-P.wheelDeltaY:"wheelDelta"in P?-P.wheelDelta:0},deltaZ:0,deltaMode:0}),YE=Bu(jE),ZE=[9,13,27,32],_x=Vc&&"CompositionEvent"in window,Ep=null;Vc&&"documentMode"in document&&(Ep=document.documentMode);var XE=Vc&&"TextEvent"in window&&!Ep,ZT=Vc&&(!_x||Ep&&8<Ep&&11>=Ep),f3=String.fromCharCode(32),c3=!1;function XT(P,O){switch(P){case"keyup":return ZE.indexOf(O.keyCode)!==-1;case"keydown":return O.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KT(P){return P=P.detail,typeof P=="object"&&"data"in P?P.data:null}var qv=!1;function KE(P,O){switch(P){case"compositionend":return KT(O);case"keypress":return O.which!==32?null:(c3=!0,f3);case"textInput":return P=O.data,P===f3&&c3?null:P;default:return null}}function JE(P,O){if(qv)return P==="compositionend"||!_x&&XT(P,O)?(P=YT(),pg=Lx=Sh=null,qv=!1,P):null;switch(P){case"paste":return null;case"keypress":if(!(O.ctrlKey||O.altKey||O.metaKey)||O.ctrlKey&&O.altKey){if(O.char&&1<O.char.length)return O.char;if(O.which)return String.fromCharCode(O.which)}return null;case"compositionend":return ZT&&O.locale!=="ko"?null:O.data;default:return null}}var QE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h3(P){var O=P&&P.nodeName&&P.nodeName.toLowerCase();return O==="input"?!!QE[P.type]:O==="textarea"}function JT(P,O,$,ce){CT(ce),O=Vg(O,"onChange"),0<O.length&&($=new Px("onChange","change",null,$,ce),P.push({event:$,listeners:O}))}var Cp=null,Vp=null;function $E(P){s5(P,0)}function dy(P){var O=rd(P);if(bT(O))return P}function qE(P,O){if(P==="change")return O}var QT=!1;if(Vc){var Rm;if(Vc){var _m="oninput"in document;if(!_m){var v3=document.createElement("div");v3.setAttribute("oninput","return;"),_m=typeof v3.oninput=="function"}Rm=_m}else Rm=!1;QT=Rm&&(!document.documentMode||9<document.documentMode)}function d3(){Cp&&(Cp.detachEvent("onpropertychange",$T),Vp=Cp=null)}function $T(P){if(P.propertyName==="value"&&dy(Vp)){var O=[];JT(O,Vp,P,Ax(P)),_T($E,O)}}function e8(P,O,$){P==="focusin"?(d3(),Cp=O,Vp=$,Cp.attachEvent("onpropertychange",$T)):P==="focusout"&&d3()}function t8(P){if(P==="selectionchange"||P==="keyup"||P==="keydown")return dy(Vp)}function r8(P,O){if(P==="click")return dy(O)}function n8(P,O){if(P==="input"||P==="change")return dy(O)}function a8(P,O){return P===O&&(P!==0||1/P===1/O)||P!==P&&O!==O}var Uf=typeof Object.is=="function"?Object.is:a8;function Gp(P,O){if(Uf(P,O))return!0;if(typeof P!="object"||P===null||typeof O!="object"||O===null)return!1;var $=Object.keys(P),ce=Object.keys(O);if($.length!==ce.length)return!1;for(ce=0;ce<$.length;ce++){var Ae=$[ce];if(!a1.call(O,Ae)||!Uf(P[Ae],O[Ae]))return!1}return!0}function p3(P){for(;P&&P.firstChild;)P=P.firstChild;return P}function g3(P,O){var $=p3(P);P=0;for(var ce;$;){if($.nodeType===3){if(ce=P+$.textContent.length,P<=O&&ce>=O)return{node:$,offset:O-P};P=ce}e:{for(;$;){if($.nextSibling){$=$.nextSibling;break e}$=$.parentNode}$=void 0}$=p3($)}}function qT(P,O){return P&&O?P===O?!0:P&&P.nodeType===3?!1:O&&O.nodeType===3?qT(P,O.parentNode):"contains"in P?P.contains(O):P.compareDocumentPosition?!!(P.compareDocumentPosition(O)&16):!1:!1}function e5(){for(var P=window,O=Fg();O instanceof P.HTMLIFrameElement;){try{var $=typeof O.contentWindow.location.href=="string"}catch{$=!1}if($)P=O.contentWindow;else break;O=Fg(P.document)}return O}function Dx(P){var O=P&&P.nodeName&&P.nodeName.toLowerCase();return O&&(O==="input"&&(P.type==="text"||P.type==="search"||P.type==="tel"||P.type==="url"||P.type==="password")||O==="textarea"||P.contentEditable==="true")}function i8(P){var O=e5(),$=P.focusedElem,ce=P.selectionRange;if(O!==$&&$&&$.ownerDocument&&qT($.ownerDocument.documentElement,$)){if(ce!==null&&Dx($)){if(O=ce.start,P=ce.end,P===void 0&&(P=O),"selectionStart"in $)$.selectionStart=O,$.selectionEnd=Math.min(P,$.value.length);else if(P=(O=$.ownerDocument||document)&&O.defaultView||window,P.getSelection){P=P.getSelection();var Ae=$.textContent.length,ze=Math.min(ce.start,Ae);ce=ce.end===void 0?ze:Math.min(ce.end,Ae),!P.extend&&ze>ce&&(Ae=ce,ce=ze,ze=Ae),Ae=g3($,ze);var G=g3($,ce);Ae&&G&&(P.rangeCount!==1||P.anchorNode!==Ae.node||P.anchorOffset!==Ae.offset||P.focusNode!==G.node||P.focusOffset!==G.offset)&&(O=O.createRange(),O.setStart(Ae.node,Ae.offset),P.removeAllRanges(),ze>ce?(P.addRange(O),P.extend(G.node,G.offset)):(O.setEnd(G.node,G.offset),P.addRange(O)))}}for(O=[],P=$;P=P.parentNode;)P.nodeType===1&&O.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<O.length;$++)P=O[$],P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}var o8=Vc&&"documentMode"in document&&11>=document.documentMode,ed=null,A1=null,Lp=null,M1=!1;function y3(P,O,$){var ce=$.window===$?$.document:$.nodeType===9?$:$.ownerDocument;M1||ed==null||ed!==Fg(ce)||(ce=ed,"selectionStart"in ce&&Dx(ce)?ce={start:ce.selectionStart,end:ce.selectionEnd}:(ce=(ce.ownerDocument&&ce.ownerDocument.defaultView||window).getSelection(),ce={anchorNode:ce.anchorNode,anchorOffset:ce.anchorOffset,focusNode:ce.focusNode,focusOffset:ce.focusOffset}),Lp&&Gp(Lp,ce)||(Lp=ce,ce=Vg(A1,"onSelect"),0<ce.length&&(O=new Px("onSelect","select",null,O,$),P.push({event:O,listeners:ce}),O.target=ed)))}function tg(P,O){var $={};return $[P.toLowerCase()]=O.toLowerCase(),$["Webkit"+P]="webkit"+O,$["Moz"+P]="moz"+O,$}var td={animationend:tg("Animation","AnimationEnd"),animationiteration:tg("Animation","AnimationIteration"),animationstart:tg("Animation","AnimationStart"),transitionend:tg("Transition","TransitionEnd")},Dm={},t5={};Vc&&(t5=document.createElement("div").style,"AnimationEvent"in window||(delete td.animationend.animation,delete td.animationiteration.animation,delete td.animationstart.animation),"TransitionEvent"in window||delete td.transitionend.transition);function py(P){if(Dm[P])return Dm[P];if(!td[P])return P;var O=td[P],$;for($ in O)if(O.hasOwnProperty($)&&$ in t5)return Dm[P]=O[$];return P}var r5=py("animationend"),n5=py("animationiteration"),a5=py("animationstart"),i5=py("transitionend"),o5=new Map,m3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oh(P,O){o5.set(P,O),pv(O,[P])}for(var km=0;km<m3.length;km++){var Im=m3[km],s8=Im.toLowerCase(),l8=Im[0].toUpperCase()+Im.slice(1);Oh(s8,"on"+l8)}Oh(r5,"onAnimationEnd");Oh(n5,"onAnimationIteration");Oh(a5,"onAnimationStart");Oh("dblclick","onDoubleClick");Oh("focusin","onFocus");Oh("focusout","onBlur");Oh(i5,"onTransitionEnd");bd("onMouseEnter",["mouseout","mouseover"]);bd("onMouseLeave",["mouseout","mouseover"]);bd("onPointerEnter",["pointerout","pointerover"]);bd("onPointerLeave",["pointerout","pointerover"]);pv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pv("onBeforeInput",["compositionend","keypress","textInput","paste"]);pv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ap="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ap));function x3(P,O,$){var ce=P.type||"unknown-event";P.currentTarget=$,sE(ce,O,void 0,P),P.currentTarget=null}function s5(P,O){O=(O&4)!==0;for(var $=0;$<P.length;$++){var ce=P[$],Ae=ce.event;ce=ce.listeners;e:{var ze=void 0;if(O)for(var G=ce.length-1;0<=G;G--){var V=ce[G],e=V.instance,g=V.currentTarget;if(V=V.listener,e!==ze&&Ae.isPropagationStopped())break e;x3(Ae,V,g),ze=e}else for(G=0;G<ce.length;G++){if(V=ce[G],e=V.instance,g=V.currentTarget,V=V.listener,e!==ze&&Ae.isPropagationStopped())break e;x3(Ae,V,g),ze=e}}}if(Og)throw P=x1,Og=!1,x1=null,P}function Ho(P,O){var $=O[P1];$===void 0&&($=O[P1]=new Set);var ce=P+"__bubble";$.has(ce)||(l5(O,P,2,!1),$.add(ce))}function Fm(P,O,$){var ce=0;O&&(ce|=4),l5($,P,ce,O)}var rg="_reactListening"+Math.random().toString(36).slice(2);function Wp(P){if(!P[rg]){P[rg]=!0,pT.forEach(function($){$!=="selectionchange"&&(u8.has($)||Fm($,!1,P),Fm($,!0,P))});var O=P.nodeType===9?P:P.ownerDocument;O===null||O[rg]||(O[rg]=!0,Fm("selectionchange",!1,O))}}function l5(P,O,$,ce){switch(jT(O)){case 1:var Ae=AE;break;case 4:Ae=ME;break;default:Ae=Cx}$=Ae.bind(null,O,$,P),Ae=void 0,!m1||O!=="touchstart"&&O!=="touchmove"&&O!=="wheel"||(Ae=!0),ce?Ae!==void 0?P.addEventListener(O,$,{capture:!0,passive:Ae}):P.addEventListener(O,$,!0):Ae!==void 0?P.addEventListener(O,$,{passive:Ae}):P.addEventListener(O,$,!1)}function zm(P,O,$,ce,Ae){var ze=ce;if(!(O&1)&&!(O&2)&&ce!==null)e:for(;;){if(ce===null)return;var G=ce.tag;if(G===3||G===4){var V=ce.stateNode.containerInfo;if(V===Ae||V.nodeType===8&&V.parentNode===Ae)break;if(G===4)for(G=ce.return;G!==null;){var e=G.tag;if((e===3||e===4)&&(e=G.stateNode.containerInfo,e===Ae||e.nodeType===8&&e.parentNode===Ae))return;G=G.return}for(;V!==null;){if(G=rv(V),G===null)return;if(e=G.tag,e===5||e===6){ce=ze=G;continue e}V=V.parentNode}}ce=ce.return}_T(function(){var g=ze,R=Ax($),i=[];e:{var L=o5.get(P);if(L!==void 0){var T=Px,v=P;switch(P){case"keypress":if(gg($)===0)break e;case"keydown":case"keyup":T=BE;break;case"focusin":v="focus",T=Pm;break;case"focusout":v="blur",T=Pm;break;case"beforeblur":case"afterblur":T=Pm;break;case"click":if($.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=s3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=CE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=VE;break;case r5:case n5:case a5:T=RE;break;case i5:T=WE;break;case"scroll":T=SE;break;case"wheel":T=YE;break;case"copy":case"cut":case"paste":T=DE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=u3}var p=(O&4)!==0,t=!p&&P==="scroll",r=p?L!==null?L+"Capture":null:L;p=[];for(var l=g,n;l!==null;){n=l;var s=n.stateNode;if(n.tag===5&&s!==null&&(n=s,r!==null&&(s=Np(l,r),s!=null&&p.push(jp(l,s,n)))),t)break;l=l.return}0<p.length&&(L=new T(L,v,null,$,R),i.push({event:L,listeners:p}))}}if(!(O&7)){e:{if(L=P==="mouseover"||P==="pointerover",T=P==="mouseout"||P==="pointerout",L&&$!==g1&&(v=$.relatedTarget||$.fromElement)&&(rv(v)||v[Gc]))break e;if((T||L)&&(L=R.window===R?R:(L=R.ownerDocument)?L.defaultView||L.parentWindow:window,T?(v=$.relatedTarget||$.toElement,T=g,v=v?rv(v):null,v!==null&&(t=gv(v),v!==t||v.tag!==5&&v.tag!==6)&&(v=null)):(T=null,v=g),T!==v)){if(p=s3,s="onMouseLeave",r="onMouseEnter",l="mouse",(P==="pointerout"||P==="pointerover")&&(p=u3,s="onPointerLeave",r="onPointerEnter",l="pointer"),t=T==null?L:rd(T),n=v==null?L:rd(v),L=new p(s,l+"leave",T,$,R),L.target=t,L.relatedTarget=n,s=null,rv(R)===g&&(p=new p(r,l+"enter",v,$,R),p.target=n,p.relatedTarget=t,s=p),t=s,T&&v)t:{for(p=T,r=v,l=0,n=p;n;n=Wv(n))l++;for(n=0,s=r;s;s=Wv(s))n++;for(;0<l-n;)p=Wv(p),l--;for(;0<n-l;)r=Wv(r),n--;for(;l--;){if(p===r||r!==null&&p===r.alternate)break t;p=Wv(p),r=Wv(r)}p=null}else p=null;T!==null&&b3(i,L,T,p,!1),v!==null&&t!==null&&b3(i,t,v,p,!0)}}e:{if(L=g?rd(g):window,T=L.nodeName&&L.nodeName.toLowerCase(),T==="select"||T==="input"&&L.type==="file")var c=qE;else if(h3(L))if(QT)c=n8;else{c=t8;var u=e8}else(T=L.nodeName)&&T.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(c=r8);if(c&&(c=c(P,g))){JT(i,c,$,R);break e}u&&u(P,L,g),P==="focusout"&&(u=L._wrapperState)&&u.controlled&&L.type==="number"&&c1(L,"number",L.value)}switch(u=g?rd(g):window,P){case"focusin":(h3(u)||u.contentEditable==="true")&&(ed=u,A1=g,Lp=null);break;case"focusout":Lp=A1=ed=null;break;case"mousedown":M1=!0;break;case"contextmenu":case"mouseup":case"dragend":M1=!1,y3(i,$,R);break;case"selectionchange":if(o8)break;case"keydown":case"keyup":y3(i,$,R)}var y;if(_x)e:{switch(P){case"compositionstart":var h="onCompositionStart";break e;case"compositionend":h="onCompositionEnd";break e;case"compositionupdate":h="onCompositionUpdate";break e}h=void 0}else qv?XT(P,$)&&(h="onCompositionEnd"):P==="keydown"&&$.keyCode===229&&(h="onCompositionStart");h&&(ZT&&$.locale!=="ko"&&(qv||h!=="onCompositionStart"?h==="onCompositionEnd"&&qv&&(y=YT()):(Sh=R,Lx="value"in Sh?Sh.value:Sh.textContent,qv=!0)),u=Vg(g,h),0<u.length&&(h=new l3(h,P,null,$,R),i.push({event:h,listeners:u}),y?h.data=y:(y=KT($),y!==null&&(h.data=y)))),(y=XE?KE(P,$):JE(P,$))&&(g=Vg(g,"onBeforeInput"),0<g.length&&(R=new l3("onBeforeInput","beforeinput",null,$,R),i.push({event:R,listeners:g}),R.data=y))}s5(i,O)})}function jp(P,O,$){return{instance:P,listener:O,currentTarget:$}}function Vg(P,O){for(var $=O+"Capture",ce=[];P!==null;){var Ae=P,ze=Ae.stateNode;Ae.tag===5&&ze!==null&&(Ae=ze,ze=Np(P,$),ze!=null&&ce.unshift(jp(P,ze,Ae)),ze=Np(P,O),ze!=null&&ce.push(jp(P,ze,Ae))),P=P.return}return ce}function Wv(P){if(P===null)return null;do P=P.return;while(P&&P.tag!==5);return P||null}function b3(P,O,$,ce,Ae){for(var ze=O._reactName,G=[];$!==null&&$!==ce;){var V=$,e=V.alternate,g=V.stateNode;if(e!==null&&e===ce)break;V.tag===5&&g!==null&&(V=g,Ae?(e=Np($,ze),e!=null&&G.unshift(jp($,e,V))):Ae||(e=Np($,ze),e!=null&&G.push(jp($,e,V)))),$=$.return}G.length!==0&&P.push({event:O,listeners:G})}var f8=/\r\n?/g,c8=/\u0000|\uFFFD/g;function w3(P){return(typeof P=="string"?P:""+P).replace(f8,`
`).replace(c8,"")}function ng(P,O,$){if(O=w3(O),w3(P)!==O&&$)throw Error(Ma(425))}function Gg(){}var S1=null,E1=null;function C1(P,O){return P==="textarea"||P==="noscript"||typeof O.children=="string"||typeof O.children=="number"||typeof O.dangerouslySetInnerHTML=="object"&&O.dangerouslySetInnerHTML!==null&&O.dangerouslySetInnerHTML.__html!=null}var L1=typeof setTimeout=="function"?setTimeout:void 0,h8=typeof clearTimeout=="function"?clearTimeout:void 0,T3=typeof Promise=="function"?Promise:void 0,v8=typeof queueMicrotask=="function"?queueMicrotask:typeof T3<"u"?function(P){return T3.resolve(null).then(P).catch(d8)}:L1;function d8(P){setTimeout(function(){throw P})}function Om(P,O){var $=O,ce=0;do{var Ae=$.nextSibling;if(P.removeChild($),Ae&&Ae.nodeType===8)if($=Ae.data,$==="/$"){if(ce===0){P.removeChild(Ae),Hp(O);return}ce--}else $!=="$"&&$!=="$?"&&$!=="$!"||ce++;$=Ae}while($);Hp(O)}function Rh(P){for(;P!=null;P=P.nextSibling){var O=P.nodeType;if(O===1||O===3)break;if(O===8){if(O=P.data,O==="$"||O==="$!"||O==="$?")break;if(O==="/$")return null}}return P}function A3(P){P=P.previousSibling;for(var O=0;P;){if(P.nodeType===8){var $=P.data;if($==="$"||$==="$!"||$==="$?"){if(O===0)return P;O--}else $==="/$"&&O++}P=P.previousSibling}return null}var Id=Math.random().toString(36).slice(2),uc="__reactFiber$"+Id,Yp="__reactProps$"+Id,Gc="__reactContainer$"+Id,P1="__reactEvents$"+Id,p8="__reactListeners$"+Id,g8="__reactHandles$"+Id;function rv(P){var O=P[uc];if(O)return O;for(var $=P.parentNode;$;){if(O=$[Gc]||$[uc]){if($=O.alternate,O.child!==null||$!==null&&$.child!==null)for(P=A3(P);P!==null;){if($=P[uc])return $;P=A3(P)}return O}P=$,$=P.parentNode}return null}function l0(P){return P=P[uc]||P[Gc],!P||P.tag!==5&&P.tag!==6&&P.tag!==13&&P.tag!==3?null:P}function rd(P){if(P.tag===5||P.tag===6)return P.stateNode;throw Error(Ma(33))}function gy(P){return P[Yp]||null}var R1=[],nd=-1;function Nh(P){return{current:P}}function Vo(P){0>nd||(P.current=R1[nd],R1[nd]=null,nd--)}function zo(P,O){nd++,R1[nd]=P.current,P.current=O}var zh={},Il=Nh(zh),hu=Nh(!1),uv=zh;function wd(P,O){var $=P.type.contextTypes;if(!$)return zh;var ce=P.stateNode;if(ce&&ce.__reactInternalMemoizedUnmaskedChildContext===O)return ce.__reactInternalMemoizedMaskedChildContext;var Ae={},ze;for(ze in $)Ae[ze]=O[ze];return ce&&(P=P.stateNode,P.__reactInternalMemoizedUnmaskedChildContext=O,P.__reactInternalMemoizedMaskedChildContext=Ae),Ae}function vu(P){return P=P.childContextTypes,P!=null}function Wg(){Vo(hu),Vo(Il)}function M3(P,O,$){if(Il.current!==zh)throw Error(Ma(168));zo(Il,O),zo(hu,$)}function u5(P,O,$){var ce=P.stateNode;if(O=O.childContextTypes,typeof ce.getChildContext!="function")return $;ce=ce.getChildContext();for(var Ae in ce)if(!(Ae in O))throw Error(Ma(108,eE(P)||"Unknown",Ae));return os({},$,ce)}function jg(P){return P=(P=P.stateNode)&&P.__reactInternalMemoizedMergedChildContext||zh,uv=Il.current,zo(Il,P),zo(hu,hu.current),!0}function S3(P,O,$){var ce=P.stateNode;if(!ce)throw Error(Ma(169));$?(P=u5(P,O,uv),ce.__reactInternalMemoizedMergedChildContext=P,Vo(hu),Vo(Il),zo(Il,P)):Vo(hu),zo(hu,$)}var zc=null,yy=!1,Nm=!1;function f5(P){zc===null?zc=[P]:zc.push(P)}function y8(P){yy=!0,f5(P)}function Bh(){if(!Nm&&zc!==null){Nm=!0;var P=0,O=xo;try{var $=zc;for(xo=1;P<$.length;P++){var ce=$[P];do ce=ce(!0);while(ce!==null)}zc=null,yy=!1}catch(Ae){throw zc!==null&&(zc=zc.slice(P+1)),FT(Mx,Bh),Ae}finally{xo=O,Nm=!1}}return null}var ad=[],id=0,Yg=null,Zg=0,tf=[],rf=0,fv=null,Oc=1,Nc="";function ev(P,O){ad[id++]=Zg,ad[id++]=Yg,Yg=P,Zg=O}function c5(P,O,$){tf[rf++]=Oc,tf[rf++]=Nc,tf[rf++]=fv,fv=P;var ce=Oc;P=Nc;var Ae=32-Of(ce)-1;ce&=~(1<<Ae),$+=1;var ze=32-Of(O)+Ae;if(30<ze){var G=Ae-Ae%5;ze=(ce&(1<<G)-1).toString(32),ce>>=G,Ae-=G,Oc=1<<32-Of(O)+Ae|$<<Ae|ce,Nc=ze+P}else Oc=1<<ze|$<<Ae|ce,Nc=P}function kx(P){P.return!==null&&(ev(P,1),c5(P,1,0))}function Ix(P){for(;P===Yg;)Yg=ad[--id],ad[id]=null,Zg=ad[--id],ad[id]=null;for(;P===fv;)fv=tf[--rf],tf[rf]=null,Nc=tf[--rf],tf[rf]=null,Oc=tf[--rf],tf[rf]=null}var Fu=null,ku=null,Xo=!1,zf=null;function h5(P,O){var $=nf(5,null,null,0);$.elementType="DELETED",$.stateNode=O,$.return=P,O=P.deletions,O===null?(P.deletions=[$],P.flags|=16):O.push($)}function E3(P,O){switch(P.tag){case 5:var $=P.type;return O=O.nodeType!==1||$.toLowerCase()!==O.nodeName.toLowerCase()?null:O,O!==null?(P.stateNode=O,Fu=P,ku=Rh(O.firstChild),!0):!1;case 6:return O=P.pendingProps===""||O.nodeType!==3?null:O,O!==null?(P.stateNode=O,Fu=P,ku=null,!0):!1;case 13:return O=O.nodeType!==8?null:O,O!==null?($=fv!==null?{id:Oc,overflow:Nc}:null,P.memoizedState={dehydrated:O,treeContext:$,retryLane:1073741824},$=nf(18,null,null,0),$.stateNode=O,$.return=P,P.child=$,Fu=P,ku=null,!0):!1;default:return!1}}function _1(P){return(P.mode&1)!==0&&(P.flags&128)===0}function D1(P){if(Xo){var O=ku;if(O){var $=O;if(!E3(P,O)){if(_1(P))throw Error(Ma(418));O=Rh($.nextSibling);var ce=Fu;O&&E3(P,O)?h5(ce,$):(P.flags=P.flags&-4097|2,Xo=!1,Fu=P)}}else{if(_1(P))throw Error(Ma(418));P.flags=P.flags&-4097|2,Xo=!1,Fu=P}}}function C3(P){for(P=P.return;P!==null&&P.tag!==5&&P.tag!==3&&P.tag!==13;)P=P.return;Fu=P}function ag(P){if(P!==Fu)return!1;if(!Xo)return C3(P),Xo=!0,!1;var O;if((O=P.tag!==3)&&!(O=P.tag!==5)&&(O=P.type,O=O!=="head"&&O!=="body"&&!C1(P.type,P.memoizedProps)),O&&(O=ku)){if(_1(P))throw v5(),Error(Ma(418));for(;O;)h5(P,O),O=Rh(O.nextSibling)}if(C3(P),P.tag===13){if(P=P.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(Ma(317));e:{for(P=P.nextSibling,O=0;P;){if(P.nodeType===8){var $=P.data;if($==="/$"){if(O===0){ku=Rh(P.nextSibling);break e}O--}else $!=="$"&&$!=="$!"&&$!=="$?"||O++}P=P.nextSibling}ku=null}}else ku=Fu?Rh(P.stateNode.nextSibling):null;return!0}function v5(){for(var P=ku;P;)P=Rh(P.nextSibling)}function Td(){ku=Fu=null,Xo=!1}function Fx(P){zf===null?zf=[P]:zf.push(P)}var m8=Xc.ReactCurrentBatchConfig;function kf(P,O){if(P&&P.defaultProps){O=os({},O),P=P.defaultProps;for(var $ in P)O[$]===void 0&&(O[$]=P[$]);return O}return O}var Xg=Nh(null),Kg=null,od=null,zx=null;function Ox(){zx=od=Kg=null}function Nx(P){var O=Xg.current;Vo(Xg),P._currentValue=O}function k1(P,O,$){for(;P!==null;){var ce=P.alternate;if((P.childLanes&O)!==O?(P.childLanes|=O,ce!==null&&(ce.childLanes|=O)):ce!==null&&(ce.childLanes&O)!==O&&(ce.childLanes|=O),P===$)break;P=P.return}}function pd(P,O){Kg=P,zx=od=null,P=P.dependencies,P!==null&&P.firstContext!==null&&(P.lanes&O&&(cu=!0),P.firstContext=null)}function sf(P){var O=P._currentValue;if(zx!==P)if(P={context:P,memoizedValue:O,next:null},od===null){if(Kg===null)throw Error(Ma(308));od=P,Kg.dependencies={lanes:0,firstContext:P}}else od=od.next=P;return O}var nv=null;function Bx(P){nv===null?nv=[P]:nv.push(P)}function d5(P,O,$,ce){var Ae=O.interleaved;return Ae===null?($.next=$,Bx(O)):($.next=Ae.next,Ae.next=$),O.interleaved=$,Wc(P,ce)}function Wc(P,O){P.lanes|=O;var $=P.alternate;for($!==null&&($.lanes|=O),$=P,P=P.return;P!==null;)P.childLanes|=O,$=P.alternate,$!==null&&($.childLanes|=O),$=P,P=P.return;return $.tag===3?$.stateNode:null}var wh=!1;function Ux(P){P.updateQueue={baseState:P.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p5(P,O){P=P.updateQueue,O.updateQueue===P&&(O.updateQueue={baseState:P.baseState,firstBaseUpdate:P.firstBaseUpdate,lastBaseUpdate:P.lastBaseUpdate,shared:P.shared,effects:P.effects})}function Bc(P,O){return{eventTime:P,lane:O,tag:0,payload:null,callback:null,next:null}}function _h(P,O,$){var ce=P.updateQueue;if(ce===null)return null;if(ce=ce.shared,to&2){var Ae=ce.pending;return Ae===null?O.next=O:(O.next=Ae.next,Ae.next=O),ce.pending=O,Wc(P,$)}return Ae=ce.interleaved,Ae===null?(O.next=O,Bx(ce)):(O.next=Ae.next,Ae.next=O),ce.interleaved=O,Wc(P,$)}function yg(P,O,$){if(O=O.updateQueue,O!==null&&(O=O.shared,($&4194240)!==0)){var ce=O.lanes;ce&=P.pendingLanes,$|=ce,O.lanes=$,Sx(P,$)}}function L3(P,O){var $=P.updateQueue,ce=P.alternate;if(ce!==null&&(ce=ce.updateQueue,$===ce)){var Ae=null,ze=null;if($=$.firstBaseUpdate,$!==null){do{var G={eventTime:$.eventTime,lane:$.lane,tag:$.tag,payload:$.payload,callback:$.callback,next:null};ze===null?Ae=ze=G:ze=ze.next=G,$=$.next}while($!==null);ze===null?Ae=ze=O:ze=ze.next=O}else Ae=ze=O;$={baseState:ce.baseState,firstBaseUpdate:Ae,lastBaseUpdate:ze,shared:ce.shared,effects:ce.effects},P.updateQueue=$;return}P=$.lastBaseUpdate,P===null?$.firstBaseUpdate=O:P.next=O,$.lastBaseUpdate=O}function Jg(P,O,$,ce){var Ae=P.updateQueue;wh=!1;var ze=Ae.firstBaseUpdate,G=Ae.lastBaseUpdate,V=Ae.shared.pending;if(V!==null){Ae.shared.pending=null;var e=V,g=e.next;e.next=null,G===null?ze=g:G.next=g,G=e;var R=P.alternate;R!==null&&(R=R.updateQueue,V=R.lastBaseUpdate,V!==G&&(V===null?R.firstBaseUpdate=g:V.next=g,R.lastBaseUpdate=e))}if(ze!==null){var i=Ae.baseState;G=0,R=g=e=null,V=ze;do{var L=V.lane,T=V.eventTime;if((ce&L)===L){R!==null&&(R=R.next={eventTime:T,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var v=P,p=V;switch(L=O,T=$,p.tag){case 1:if(v=p.payload,typeof v=="function"){i=v.call(T,i,L);break e}i=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,L=typeof v=="function"?v.call(T,i,L):v,L==null)break e;i=os({},i,L);break e;case 2:wh=!0}}V.callback!==null&&V.lane!==0&&(P.flags|=64,L=Ae.effects,L===null?Ae.effects=[V]:L.push(V))}else T={eventTime:T,lane:L,tag:V.tag,payload:V.payload,callback:V.callback,next:null},R===null?(g=R=T,e=i):R=R.next=T,G|=L;if(V=V.next,V===null){if(V=Ae.shared.pending,V===null)break;L=V,V=L.next,L.next=null,Ae.lastBaseUpdate=L,Ae.shared.pending=null}}while(1);if(R===null&&(e=i),Ae.baseState=e,Ae.firstBaseUpdate=g,Ae.lastBaseUpdate=R,O=Ae.shared.interleaved,O!==null){Ae=O;do G|=Ae.lane,Ae=Ae.next;while(Ae!==O)}else ze===null&&(Ae.shared.lanes=0);hv|=G,P.lanes=G,P.memoizedState=i}}function P3(P,O,$){if(P=O.effects,O.effects=null,P!==null)for(O=0;O<P.length;O++){var ce=P[O],Ae=ce.callback;if(Ae!==null){if(ce.callback=null,ce=$,typeof Ae!="function")throw Error(Ma(191,Ae));Ae.call(ce)}}}var g5=new dT.Component().refs;function I1(P,O,$,ce){O=P.memoizedState,$=$(ce,O),$=$==null?O:os({},O,$),P.memoizedState=$,P.lanes===0&&(P.updateQueue.baseState=$)}var my={isMounted:function(P){return(P=P._reactInternals)?gv(P)===P:!1},enqueueSetState:function(P,O,$){P=P._reactInternals;var ce=Zl(),Ae=kh(P),ze=Bc(ce,Ae);ze.payload=O,$!=null&&(ze.callback=$),O=_h(P,ze,Ae),O!==null&&(Nf(O,P,Ae,ce),yg(O,P,Ae))},enqueueReplaceState:function(P,O,$){P=P._reactInternals;var ce=Zl(),Ae=kh(P),ze=Bc(ce,Ae);ze.tag=1,ze.payload=O,$!=null&&(ze.callback=$),O=_h(P,ze,Ae),O!==null&&(Nf(O,P,Ae,ce),yg(O,P,Ae))},enqueueForceUpdate:function(P,O){P=P._reactInternals;var $=Zl(),ce=kh(P),Ae=Bc($,ce);Ae.tag=2,O!=null&&(Ae.callback=O),O=_h(P,Ae,ce),O!==null&&(Nf(O,P,ce,$),yg(O,P,ce))}};function R3(P,O,$,ce,Ae,ze,G){return P=P.stateNode,typeof P.shouldComponentUpdate=="function"?P.shouldComponentUpdate(ce,ze,G):O.prototype&&O.prototype.isPureReactComponent?!Gp($,ce)||!Gp(Ae,ze):!0}function y5(P,O,$){var ce=!1,Ae=zh,ze=O.contextType;return typeof ze=="object"&&ze!==null?ze=sf(ze):(Ae=vu(O)?uv:Il.current,ce=O.contextTypes,ze=(ce=ce!=null)?wd(P,Ae):zh),O=new O($,ze),P.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=my,P.stateNode=O,O._reactInternals=P,ce&&(P=P.stateNode,P.__reactInternalMemoizedUnmaskedChildContext=Ae,P.__reactInternalMemoizedMaskedChildContext=ze),O}function _3(P,O,$,ce){P=O.state,typeof O.componentWillReceiveProps=="function"&&O.componentWillReceiveProps($,ce),typeof O.UNSAFE_componentWillReceiveProps=="function"&&O.UNSAFE_componentWillReceiveProps($,ce),O.state!==P&&my.enqueueReplaceState(O,O.state,null)}function F1(P,O,$,ce){var Ae=P.stateNode;Ae.props=$,Ae.state=P.memoizedState,Ae.refs=g5,Ux(P);var ze=O.contextType;typeof ze=="object"&&ze!==null?Ae.context=sf(ze):(ze=vu(O)?uv:Il.current,Ae.context=wd(P,ze)),Ae.state=P.memoizedState,ze=O.getDerivedStateFromProps,typeof ze=="function"&&(I1(P,O,ze,$),Ae.state=P.memoizedState),typeof O.getDerivedStateFromProps=="function"||typeof Ae.getSnapshotBeforeUpdate=="function"||typeof Ae.UNSAFE_componentWillMount!="function"&&typeof Ae.componentWillMount!="function"||(O=Ae.state,typeof Ae.componentWillMount=="function"&&Ae.componentWillMount(),typeof Ae.UNSAFE_componentWillMount=="function"&&Ae.UNSAFE_componentWillMount(),O!==Ae.state&&my.enqueueReplaceState(Ae,Ae.state,null),Jg(P,$,Ae,ce),Ae.state=P.memoizedState),typeof Ae.componentDidMount=="function"&&(P.flags|=4194308)}function cp(P,O,$){if(P=$.ref,P!==null&&typeof P!="function"&&typeof P!="object"){if($._owner){if($=$._owner,$){if($.tag!==1)throw Error(Ma(309));var ce=$.stateNode}if(!ce)throw Error(Ma(147,P));var Ae=ce,ze=""+P;return O!==null&&O.ref!==null&&typeof O.ref=="function"&&O.ref._stringRef===ze?O.ref:(O=function(G){var V=Ae.refs;V===g5&&(V=Ae.refs={}),G===null?delete V[ze]:V[ze]=G},O._stringRef=ze,O)}if(typeof P!="string")throw Error(Ma(284));if(!$._owner)throw Error(Ma(290,P))}return P}function ig(P,O){throw P=Object.prototype.toString.call(O),Error(Ma(31,P==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":P))}function D3(P){var O=P._init;return O(P._payload)}function m5(P){function O(r,l){if(P){var n=r.deletions;n===null?(r.deletions=[l],r.flags|=16):n.push(l)}}function $(r,l){if(!P)return null;for(;l!==null;)O(r,l),l=l.sibling;return null}function ce(r,l){for(r=new Map;l!==null;)l.key!==null?r.set(l.key,l):r.set(l.index,l),l=l.sibling;return r}function Ae(r,l){return r=Ih(r,l),r.index=0,r.sibling=null,r}function ze(r,l,n){return r.index=n,P?(n=r.alternate,n!==null?(n=n.index,n<l?(r.flags|=2,l):n):(r.flags|=2,l)):(r.flags|=1048576,l)}function G(r){return P&&r.alternate===null&&(r.flags|=2),r}function V(r,l,n,s){return l===null||l.tag!==6?(l=jm(n,r.mode,s),l.return=r,l):(l=Ae(l,n),l.return=r,l)}function e(r,l,n,s){var c=n.type;return c===$v?R(r,l,n.props.children,s,n.key):l!==null&&(l.elementType===c||typeof c=="object"&&c!==null&&c.$$typeof===bh&&D3(c)===l.type)?(s=Ae(l,n.props),s.ref=cp(r,l,n),s.return=r,s):(s=Ag(n.type,n.key,n.props,null,r.mode,s),s.ref=cp(r,l,n),s.return=r,s)}function g(r,l,n,s){return l===null||l.tag!==4||l.stateNode.containerInfo!==n.containerInfo||l.stateNode.implementation!==n.implementation?(l=Ym(n,r.mode,s),l.return=r,l):(l=Ae(l,n.children||[]),l.return=r,l)}function R(r,l,n,s,c){return l===null||l.tag!==7?(l=sv(n,r.mode,s,c),l.return=r,l):(l=Ae(l,n),l.return=r,l)}function i(r,l,n){if(typeof l=="string"&&l!==""||typeof l=="number")return l=jm(""+l,r.mode,n),l.return=r,l;if(typeof l=="object"&&l!==null){switch(l.$$typeof){case X0:return n=Ag(l.type,l.key,l.props,null,r.mode,n),n.ref=cp(r,null,l),n.return=r,n;case Qv:return l=Ym(l,r.mode,n),l.return=r,l;case bh:var s=l._init;return i(r,s(l._payload),n)}if(wp(l)||op(l))return l=sv(l,r.mode,n,null),l.return=r,l;ig(r,l)}return null}function L(r,l,n,s){var c=l!==null?l.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return c!==null?null:V(r,l,""+n,s);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case X0:return n.key===c?e(r,l,n,s):null;case Qv:return n.key===c?g(r,l,n,s):null;case bh:return c=n._init,L(r,l,c(n._payload),s)}if(wp(n)||op(n))return c!==null?null:R(r,l,n,s,null);ig(r,n)}return null}function T(r,l,n,s,c){if(typeof s=="string"&&s!==""||typeof s=="number")return r=r.get(n)||null,V(l,r,""+s,c);if(typeof s=="object"&&s!==null){switch(s.$$typeof){case X0:return r=r.get(s.key===null?n:s.key)||null,e(l,r,s,c);case Qv:return r=r.get(s.key===null?n:s.key)||null,g(l,r,s,c);case bh:var u=s._init;return T(r,l,n,u(s._payload),c)}if(wp(s)||op(s))return r=r.get(n)||null,R(l,r,s,c,null);ig(l,s)}return null}function v(r,l,n,s){for(var c=null,u=null,y=l,h=l=0,b=null;y!==null&&h<n.length;h++){y.index>h?(b=y,y=null):b=y.sibling;var f=L(r,y,n[h],s);if(f===null){y===null&&(y=b);break}P&&y&&f.alternate===null&&O(r,y),l=ze(f,l,h),u===null?c=f:u.sibling=f,u=f,y=b}if(h===n.length)return $(r,y),Xo&&ev(r,h),c;if(y===null){for(;h<n.length;h++)y=i(r,n[h],s),y!==null&&(l=ze(y,l,h),u===null?c=y:u.sibling=y,u=y);return Xo&&ev(r,h),c}for(y=ce(r,y);h<n.length;h++)b=T(y,r,h,n[h],s),b!==null&&(P&&b.alternate!==null&&y.delete(b.key===null?h:b.key),l=ze(b,l,h),u===null?c=b:u.sibling=b,u=b);return P&&y.forEach(function(o){return O(r,o)}),Xo&&ev(r,h),c}function p(r,l,n,s){var c=op(n);if(typeof c!="function")throw Error(Ma(150));if(n=c.call(n),n==null)throw Error(Ma(151));for(var u=c=null,y=l,h=l=0,b=null,f=n.next();y!==null&&!f.done;h++,f=n.next()){y.index>h?(b=y,y=null):b=y.sibling;var o=L(r,y,f.value,s);if(o===null){y===null&&(y=b);break}P&&y&&o.alternate===null&&O(r,y),l=ze(o,l,h),u===null?c=o:u.sibling=o,u=o,y=b}if(f.done)return $(r,y),Xo&&ev(r,h),c;if(y===null){for(;!f.done;h++,f=n.next())f=i(r,f.value,s),f!==null&&(l=ze(f,l,h),u===null?c=f:u.sibling=f,u=f);return Xo&&ev(r,h),c}for(y=ce(r,y);!f.done;h++,f=n.next())f=T(y,r,h,f.value,s),f!==null&&(P&&f.alternate!==null&&y.delete(f.key===null?h:f.key),l=ze(f,l,h),u===null?c=f:u.sibling=f,u=f);return P&&y.forEach(function(d){return O(r,d)}),Xo&&ev(r,h),c}function t(r,l,n,s){if(typeof n=="object"&&n!==null&&n.type===$v&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case X0:e:{for(var c=n.key,u=l;u!==null;){if(u.key===c){if(c=n.type,c===$v){if(u.tag===7){$(r,u.sibling),l=Ae(u,n.props.children),l.return=r,r=l;break e}}else if(u.elementType===c||typeof c=="object"&&c!==null&&c.$$typeof===bh&&D3(c)===u.type){$(r,u.sibling),l=Ae(u,n.props),l.ref=cp(r,u,n),l.return=r,r=l;break e}$(r,u);break}else O(r,u);u=u.sibling}n.type===$v?(l=sv(n.props.children,r.mode,s,n.key),l.return=r,r=l):(s=Ag(n.type,n.key,n.props,null,r.mode,s),s.ref=cp(r,l,n),s.return=r,r=s)}return G(r);case Qv:e:{for(u=n.key;l!==null;){if(l.key===u)if(l.tag===4&&l.stateNode.containerInfo===n.containerInfo&&l.stateNode.implementation===n.implementation){$(r,l.sibling),l=Ae(l,n.children||[]),l.return=r,r=l;break e}else{$(r,l);break}else O(r,l);l=l.sibling}l=Ym(n,r.mode,s),l.return=r,r=l}return G(r);case bh:return u=n._init,t(r,l,u(n._payload),s)}if(wp(n))return v(r,l,n,s);if(op(n))return p(r,l,n,s);ig(r,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,l!==null&&l.tag===6?($(r,l.sibling),l=Ae(l,n),l.return=r,r=l):($(r,l),l=jm(n,r.mode,s),l.return=r,r=l),G(r)):$(r,l)}return t}var Ad=m5(!0),x5=m5(!1),u0={},vc=Nh(u0),Zp=Nh(u0),Xp=Nh(u0);function av(P){if(P===u0)throw Error(Ma(174));return P}function Hx(P,O){switch(zo(Xp,O),zo(Zp,P),zo(vc,u0),P=O.nodeType,P){case 9:case 11:O=(O=O.documentElement)?O.namespaceURI:v1(null,"");break;default:P=P===8?O.parentNode:O,O=P.namespaceURI||null,P=P.tagName,O=v1(O,P)}Vo(vc),zo(vc,O)}function Md(){Vo(vc),Vo(Zp),Vo(Xp)}function b5(P){av(Xp.current);var O=av(vc.current),$=v1(O,P.type);O!==$&&(zo(Zp,P),zo(vc,$))}function Vx(P){Zp.current===P&&(Vo(vc),Vo(Zp))}var as=Nh(0);function Qg(P){for(var O=P;O!==null;){if(O.tag===13){var $=O.memoizedState;if($!==null&&($=$.dehydrated,$===null||$.data==="$?"||$.data==="$!"))return O}else if(O.tag===19&&O.memoizedProps.revealOrder!==void 0){if(O.flags&128)return O}else if(O.child!==null){O.child.return=O,O=O.child;continue}if(O===P)break;for(;O.sibling===null;){if(O.return===null||O.return===P)return null;O=O.return}O.sibling.return=O.return,O=O.sibling}return null}var Bm=[];function Gx(){for(var P=0;P<Bm.length;P++)Bm[P]._workInProgressVersionPrimary=null;Bm.length=0}var mg=Xc.ReactCurrentDispatcher,Um=Xc.ReactCurrentBatchConfig,cv=0,is=null,Ns=null,Qs=null,$g=!1,Pp=!1,Kp=0,x8=0;function Rl(){throw Error(Ma(321))}function Wx(P,O){if(O===null)return!1;for(var $=0;$<O.length&&$<P.length;$++)if(!Uf(P[$],O[$]))return!1;return!0}function jx(P,O,$,ce,Ae,ze){if(cv=ze,is=O,O.memoizedState=null,O.updateQueue=null,O.lanes=0,mg.current=P===null||P.memoizedState===null?A8:M8,P=$(ce,Ae),Pp){ze=0;do{if(Pp=!1,Kp=0,25<=ze)throw Error(Ma(301));ze+=1,Qs=Ns=null,O.updateQueue=null,mg.current=S8,P=$(ce,Ae)}while(Pp)}if(mg.current=qg,O=Ns!==null&&Ns.next!==null,cv=0,Qs=Ns=is=null,$g=!1,O)throw Error(Ma(300));return P}function Yx(){var P=Kp!==0;return Kp=0,P}function oc(){var P={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qs===null?is.memoizedState=Qs=P:Qs=Qs.next=P,Qs}function lf(){if(Ns===null){var P=is.alternate;P=P!==null?P.memoizedState:null}else P=Ns.next;var O=Qs===null?is.memoizedState:Qs.next;if(O!==null)Qs=O,Ns=P;else{if(P===null)throw Error(Ma(310));Ns=P,P={memoizedState:Ns.memoizedState,baseState:Ns.baseState,baseQueue:Ns.baseQueue,queue:Ns.queue,next:null},Qs===null?is.memoizedState=Qs=P:Qs=Qs.next=P}return Qs}function Jp(P,O){return typeof O=="function"?O(P):O}function Hm(P){var O=lf(),$=O.queue;if($===null)throw Error(Ma(311));$.lastRenderedReducer=P;var ce=Ns,Ae=ce.baseQueue,ze=$.pending;if(ze!==null){if(Ae!==null){var G=Ae.next;Ae.next=ze.next,ze.next=G}ce.baseQueue=Ae=ze,$.pending=null}if(Ae!==null){ze=Ae.next,ce=ce.baseState;var V=G=null,e=null,g=ze;do{var R=g.lane;if((cv&R)===R)e!==null&&(e=e.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),ce=g.hasEagerState?g.eagerState:P(ce,g.action);else{var i={lane:R,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};e===null?(V=e=i,G=ce):e=e.next=i,is.lanes|=R,hv|=R}g=g.next}while(g!==null&&g!==ze);e===null?G=ce:e.next=V,Uf(ce,O.memoizedState)||(cu=!0),O.memoizedState=ce,O.baseState=G,O.baseQueue=e,$.lastRenderedState=ce}if(P=$.interleaved,P!==null){Ae=P;do ze=Ae.lane,is.lanes|=ze,hv|=ze,Ae=Ae.next;while(Ae!==P)}else Ae===null&&($.lanes=0);return[O.memoizedState,$.dispatch]}function Vm(P){var O=lf(),$=O.queue;if($===null)throw Error(Ma(311));$.lastRenderedReducer=P;var ce=$.dispatch,Ae=$.pending,ze=O.memoizedState;if(Ae!==null){$.pending=null;var G=Ae=Ae.next;do ze=P(ze,G.action),G=G.next;while(G!==Ae);Uf(ze,O.memoizedState)||(cu=!0),O.memoizedState=ze,O.baseQueue===null&&(O.baseState=ze),$.lastRenderedState=ze}return[ze,ce]}function w5(){}function T5(P,O){var $=is,ce=lf(),Ae=O(),ze=!Uf(ce.memoizedState,Ae);if(ze&&(ce.memoizedState=Ae,cu=!0),ce=ce.queue,Zx(S5.bind(null,$,ce,P),[P]),ce.getSnapshot!==O||ze||Qs!==null&&Qs.memoizedState.tag&1){if($.flags|=2048,Qp(9,M5.bind(null,$,ce,Ae,O),void 0,null),$s===null)throw Error(Ma(349));cv&30||A5($,O,Ae)}return Ae}function A5(P,O,$){P.flags|=16384,P={getSnapshot:O,value:$},O=is.updateQueue,O===null?(O={lastEffect:null,stores:null},is.updateQueue=O,O.stores=[P]):($=O.stores,$===null?O.stores=[P]:$.push(P))}function M5(P,O,$,ce){O.value=$,O.getSnapshot=ce,E5(O)&&C5(P)}function S5(P,O,$){return $(function(){E5(O)&&C5(P)})}function E5(P){var O=P.getSnapshot;P=P.value;try{var $=O();return!Uf(P,$)}catch{return!0}}function C5(P){var O=Wc(P,1);O!==null&&Nf(O,P,1,-1)}function k3(P){var O=oc();return typeof P=="function"&&(P=P()),O.memoizedState=O.baseState=P,P={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jp,lastRenderedState:P},O.queue=P,P=P.dispatch=T8.bind(null,is,P),[O.memoizedState,P]}function Qp(P,O,$,ce){return P={tag:P,create:O,destroy:$,deps:ce,next:null},O=is.updateQueue,O===null?(O={lastEffect:null,stores:null},is.updateQueue=O,O.lastEffect=P.next=P):($=O.lastEffect,$===null?O.lastEffect=P.next=P:(ce=$.next,$.next=P,P.next=ce,O.lastEffect=P)),P}function L5(){return lf().memoizedState}function xg(P,O,$,ce){var Ae=oc();is.flags|=P,Ae.memoizedState=Qp(1|O,$,void 0,ce===void 0?null:ce)}function xy(P,O,$,ce){var Ae=lf();ce=ce===void 0?null:ce;var ze=void 0;if(Ns!==null){var G=Ns.memoizedState;if(ze=G.destroy,ce!==null&&Wx(ce,G.deps)){Ae.memoizedState=Qp(O,$,ze,ce);return}}is.flags|=P,Ae.memoizedState=Qp(1|O,$,ze,ce)}function I3(P,O){return xg(8390656,8,P,O)}function Zx(P,O){return xy(2048,8,P,O)}function P5(P,O){return xy(4,2,P,O)}function R5(P,O){return xy(4,4,P,O)}function _5(P,O){if(typeof O=="function")return P=P(),O(P),function(){O(null)};if(O!=null)return P=P(),O.current=P,function(){O.current=null}}function D5(P,O,$){return $=$!=null?$.concat([P]):null,xy(4,4,_5.bind(null,O,P),$)}function Xx(){}function k5(P,O){var $=lf();O=O===void 0?null:O;var ce=$.memoizedState;return ce!==null&&O!==null&&Wx(O,ce[1])?ce[0]:($.memoizedState=[P,O],P)}function I5(P,O){var $=lf();O=O===void 0?null:O;var ce=$.memoizedState;return ce!==null&&O!==null&&Wx(O,ce[1])?ce[0]:(P=P(),$.memoizedState=[P,O],P)}function F5(P,O,$){return cv&21?(Uf($,O)||($=NT(),is.lanes|=$,hv|=$,P.baseState=!0),O):(P.baseState&&(P.baseState=!1,cu=!0),P.memoizedState=$)}function b8(P,O){var $=xo;xo=$!==0&&4>$?$:4,P(!0);var ce=Um.transition;Um.transition={};try{P(!1),O()}finally{xo=$,Um.transition=ce}}function z5(){return lf().memoizedState}function w8(P,O,$){var ce=kh(P);if($={lane:ce,action:$,hasEagerState:!1,eagerState:null,next:null},O5(P))N5(O,$);else if($=d5(P,O,$,ce),$!==null){var Ae=Zl();Nf($,P,ce,Ae),B5($,O,ce)}}function T8(P,O,$){var ce=kh(P),Ae={lane:ce,action:$,hasEagerState:!1,eagerState:null,next:null};if(O5(P))N5(O,Ae);else{var ze=P.alternate;if(P.lanes===0&&(ze===null||ze.lanes===0)&&(ze=O.lastRenderedReducer,ze!==null))try{var G=O.lastRenderedState,V=ze(G,$);if(Ae.hasEagerState=!0,Ae.eagerState=V,Uf(V,G)){var e=O.interleaved;e===null?(Ae.next=Ae,Bx(O)):(Ae.next=e.next,e.next=Ae),O.interleaved=Ae;return}}catch{}finally{}$=d5(P,O,Ae,ce),$!==null&&(Ae=Zl(),Nf($,P,ce,Ae),B5($,O,ce))}}function O5(P){var O=P.alternate;return P===is||O!==null&&O===is}function N5(P,O){Pp=$g=!0;var $=P.pending;$===null?O.next=O:(O.next=$.next,$.next=O),P.pending=O}function B5(P,O,$){if($&4194240){var ce=O.lanes;ce&=P.pendingLanes,$|=ce,O.lanes=$,Sx(P,$)}}var qg={readContext:sf,useCallback:Rl,useContext:Rl,useEffect:Rl,useImperativeHandle:Rl,useInsertionEffect:Rl,useLayoutEffect:Rl,useMemo:Rl,useReducer:Rl,useRef:Rl,useState:Rl,useDebugValue:Rl,useDeferredValue:Rl,useTransition:Rl,useMutableSource:Rl,useSyncExternalStore:Rl,useId:Rl,unstable_isNewReconciler:!1},A8={readContext:sf,useCallback:function(P,O){return oc().memoizedState=[P,O===void 0?null:O],P},useContext:sf,useEffect:I3,useImperativeHandle:function(P,O,$){return $=$!=null?$.concat([P]):null,xg(4194308,4,_5.bind(null,O,P),$)},useLayoutEffect:function(P,O){return xg(4194308,4,P,O)},useInsertionEffect:function(P,O){return xg(4,2,P,O)},useMemo:function(P,O){var $=oc();return O=O===void 0?null:O,P=P(),$.memoizedState=[P,O],P},useReducer:function(P,O,$){var ce=oc();return O=$!==void 0?$(O):O,ce.memoizedState=ce.baseState=O,P={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:P,lastRenderedState:O},ce.queue=P,P=P.dispatch=w8.bind(null,is,P),[ce.memoizedState,P]},useRef:function(P){var O=oc();return P={current:P},O.memoizedState=P},useState:k3,useDebugValue:Xx,useDeferredValue:function(P){return oc().memoizedState=P},useTransition:function(){var P=k3(!1),O=P[0];return P=b8.bind(null,P[1]),oc().memoizedState=P,[O,P]},useMutableSource:function(){},useSyncExternalStore:function(P,O,$){var ce=is,Ae=oc();if(Xo){if($===void 0)throw Error(Ma(407));$=$()}else{if($=O(),$s===null)throw Error(Ma(349));cv&30||A5(ce,O,$)}Ae.memoizedState=$;var ze={value:$,getSnapshot:O};return Ae.queue=ze,I3(S5.bind(null,ce,ze,P),[P]),ce.flags|=2048,Qp(9,M5.bind(null,ce,ze,$,O),void 0,null),$},useId:function(){var P=oc(),O=$s.identifierPrefix;if(Xo){var $=Nc,ce=Oc;$=(ce&~(1<<32-Of(ce)-1)).toString(32)+$,O=":"+O+"R"+$,$=Kp++,0<$&&(O+="H"+$.toString(32)),O+=":"}else $=x8++,O=":"+O+"r"+$.toString(32)+":";return P.memoizedState=O},unstable_isNewReconciler:!1},M8={readContext:sf,useCallback:k5,useContext:sf,useEffect:Zx,useImperativeHandle:D5,useInsertionEffect:P5,useLayoutEffect:R5,useMemo:I5,useReducer:Hm,useRef:L5,useState:function(){return Hm(Jp)},useDebugValue:Xx,useDeferredValue:function(P){var O=lf();return F5(O,Ns.memoizedState,P)},useTransition:function(){var P=Hm(Jp)[0],O=lf().memoizedState;return[P,O]},useMutableSource:w5,useSyncExternalStore:T5,useId:z5,unstable_isNewReconciler:!1},S8={readContext:sf,useCallback:k5,useContext:sf,useEffect:Zx,useImperativeHandle:D5,useInsertionEffect:P5,useLayoutEffect:R5,useMemo:I5,useReducer:Vm,useRef:L5,useState:function(){return Vm(Jp)},useDebugValue:Xx,useDeferredValue:function(P){var O=lf();return Ns===null?O.memoizedState=P:F5(O,Ns.memoizedState,P)},useTransition:function(){var P=Vm(Jp)[0],O=lf().memoizedState;return[P,O]},useMutableSource:w5,useSyncExternalStore:T5,useId:z5,unstable_isNewReconciler:!1};function Sd(P,O){try{var $="",ce=O;do $+=q6(ce),ce=ce.return;while(ce);var Ae=$}catch(ze){Ae=`
Error generating stack: `+ze.message+`
`+ze.stack}return{value:P,source:O,stack:Ae,digest:null}}function Gm(P,O,$){return{value:P,source:null,stack:$??null,digest:O??null}}function z1(P,O){try{console.error(O.value)}catch($){setTimeout(function(){throw $})}}var E8=typeof WeakMap=="function"?WeakMap:Map;function U5(P,O,$){$=Bc(-1,$),$.tag=3,$.payload={element:null};var ce=O.value;return $.callback=function(){ty||(ty=!0,Y1=ce),z1(P,O)},$}function H5(P,O,$){$=Bc(-1,$),$.tag=3;var ce=P.type.getDerivedStateFromError;if(typeof ce=="function"){var Ae=O.value;$.payload=function(){return ce(Ae)},$.callback=function(){z1(P,O)}}var ze=P.stateNode;return ze!==null&&typeof ze.componentDidCatch=="function"&&($.callback=function(){z1(P,O),typeof ce!="function"&&(Dh===null?Dh=new Set([this]):Dh.add(this));var G=O.stack;this.componentDidCatch(O.value,{componentStack:G!==null?G:""})}),$}function F3(P,O,$){var ce=P.pingCache;if(ce===null){ce=P.pingCache=new E8;var Ae=new Set;ce.set(O,Ae)}else Ae=ce.get(O),Ae===void 0&&(Ae=new Set,ce.set(O,Ae));Ae.has($)||(Ae.add($),P=U8.bind(null,P,O,$),O.then(P,P))}function z3(P){do{var O;if((O=P.tag===13)&&(O=P.memoizedState,O=O!==null?O.dehydrated!==null:!0),O)return P;P=P.return}while(P!==null);return null}function O3(P,O,$,ce,Ae){return P.mode&1?(P.flags|=65536,P.lanes=Ae,P):(P===O?P.flags|=65536:(P.flags|=128,$.flags|=131072,$.flags&=-52805,$.tag===1&&($.alternate===null?$.tag=17:(O=Bc(-1,1),O.tag=2,_h($,O,1))),$.lanes|=1),P)}var C8=Xc.ReactCurrentOwner,cu=!1;function Yl(P,O,$,ce){O.child=P===null?x5(O,null,$,ce):Ad(O,P.child,$,ce)}function N3(P,O,$,ce,Ae){$=$.render;var ze=O.ref;return pd(O,Ae),ce=jx(P,O,$,ce,ze,Ae),$=Yx(),P!==null&&!cu?(O.updateQueue=P.updateQueue,O.flags&=-2053,P.lanes&=~Ae,jc(P,O,Ae)):(Xo&&$&&kx(O),O.flags|=1,Yl(P,O,ce,Ae),O.child)}function B3(P,O,$,ce,Ae){if(P===null){var ze=$.type;return typeof ze=="function"&&!r2(ze)&&ze.defaultProps===void 0&&$.compare===null&&$.defaultProps===void 0?(O.tag=15,O.type=ze,V5(P,O,ze,ce,Ae)):(P=Ag($.type,null,ce,O,O.mode,Ae),P.ref=O.ref,P.return=O,O.child=P)}if(ze=P.child,!(P.lanes&Ae)){var G=ze.memoizedProps;if($=$.compare,$=$!==null?$:Gp,$(G,ce)&&P.ref===O.ref)return jc(P,O,Ae)}return O.flags|=1,P=Ih(ze,ce),P.ref=O.ref,P.return=O,O.child=P}function V5(P,O,$,ce,Ae){if(P!==null){var ze=P.memoizedProps;if(Gp(ze,ce)&&P.ref===O.ref)if(cu=!1,O.pendingProps=ce=ze,(P.lanes&Ae)!==0)P.flags&131072&&(cu=!0);else return O.lanes=P.lanes,jc(P,O,Ae)}return O1(P,O,$,ce,Ae)}function G5(P,O,$){var ce=O.pendingProps,Ae=ce.children,ze=P!==null?P.memoizedState:null;if(ce.mode==="hidden")if(!(O.mode&1))O.memoizedState={baseLanes:0,cachePool:null,transitions:null},zo(ld,_u),_u|=$;else{if(!($&1073741824))return P=ze!==null?ze.baseLanes|$:$,O.lanes=O.childLanes=1073741824,O.memoizedState={baseLanes:P,cachePool:null,transitions:null},O.updateQueue=null,zo(ld,_u),_u|=P,null;O.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce=ze!==null?ze.baseLanes:$,zo(ld,_u),_u|=ce}else ze!==null?(ce=ze.baseLanes|$,O.memoizedState=null):ce=$,zo(ld,_u),_u|=ce;return Yl(P,O,Ae,$),O.child}function W5(P,O){var $=O.ref;(P===null&&$!==null||P!==null&&P.ref!==$)&&(O.flags|=512,O.flags|=2097152)}function O1(P,O,$,ce,Ae){var ze=vu($)?uv:Il.current;return ze=wd(O,ze),pd(O,Ae),$=jx(P,O,$,ce,ze,Ae),ce=Yx(),P!==null&&!cu?(O.updateQueue=P.updateQueue,O.flags&=-2053,P.lanes&=~Ae,jc(P,O,Ae)):(Xo&&ce&&kx(O),O.flags|=1,Yl(P,O,$,Ae),O.child)}function U3(P,O,$,ce,Ae){if(vu($)){var ze=!0;jg(O)}else ze=!1;if(pd(O,Ae),O.stateNode===null)bg(P,O),y5(O,$,ce),F1(O,$,ce,Ae),ce=!0;else if(P===null){var G=O.stateNode,V=O.memoizedProps;G.props=V;var e=G.context,g=$.contextType;typeof g=="object"&&g!==null?g=sf(g):(g=vu($)?uv:Il.current,g=wd(O,g));var R=$.getDerivedStateFromProps,i=typeof R=="function"||typeof G.getSnapshotBeforeUpdate=="function";i||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(V!==ce||e!==g)&&_3(O,G,ce,g),wh=!1;var L=O.memoizedState;G.state=L,Jg(O,ce,G,Ae),e=O.memoizedState,V!==ce||L!==e||hu.current||wh?(typeof R=="function"&&(I1(O,$,R,ce),e=O.memoizedState),(V=wh||R3(O,$,V,ce,L,e,g))?(i||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(O.flags|=4194308)):(typeof G.componentDidMount=="function"&&(O.flags|=4194308),O.memoizedProps=ce,O.memoizedState=e),G.props=ce,G.state=e,G.context=g,ce=V):(typeof G.componentDidMount=="function"&&(O.flags|=4194308),ce=!1)}else{G=O.stateNode,p5(P,O),V=O.memoizedProps,g=O.type===O.elementType?V:kf(O.type,V),G.props=g,i=O.pendingProps,L=G.context,e=$.contextType,typeof e=="object"&&e!==null?e=sf(e):(e=vu($)?uv:Il.current,e=wd(O,e));var T=$.getDerivedStateFromProps;(R=typeof T=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(V!==i||L!==e)&&_3(O,G,ce,e),wh=!1,L=O.memoizedState,G.state=L,Jg(O,ce,G,Ae);var v=O.memoizedState;V!==i||L!==v||hu.current||wh?(typeof T=="function"&&(I1(O,$,T,ce),v=O.memoizedState),(g=wh||R3(O,$,g,ce,L,v,e)||!1)?(R||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(ce,v,e),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(ce,v,e)),typeof G.componentDidUpdate=="function"&&(O.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(O.flags|=1024)):(typeof G.componentDidUpdate!="function"||V===P.memoizedProps&&L===P.memoizedState||(O.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||V===P.memoizedProps&&L===P.memoizedState||(O.flags|=1024),O.memoizedProps=ce,O.memoizedState=v),G.props=ce,G.state=v,G.context=e,ce=g):(typeof G.componentDidUpdate!="function"||V===P.memoizedProps&&L===P.memoizedState||(O.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||V===P.memoizedProps&&L===P.memoizedState||(O.flags|=1024),ce=!1)}return N1(P,O,$,ce,ze,Ae)}function N1(P,O,$,ce,Ae,ze){W5(P,O);var G=(O.flags&128)!==0;if(!ce&&!G)return Ae&&S3(O,$,!1),jc(P,O,ze);ce=O.stateNode,C8.current=O;var V=G&&typeof $.getDerivedStateFromError!="function"?null:ce.render();return O.flags|=1,P!==null&&G?(O.child=Ad(O,P.child,null,ze),O.child=Ad(O,null,V,ze)):Yl(P,O,V,ze),O.memoizedState=ce.state,Ae&&S3(O,$,!0),O.child}function j5(P){var O=P.stateNode;O.pendingContext?M3(P,O.pendingContext,O.pendingContext!==O.context):O.context&&M3(P,O.context,!1),Hx(P,O.containerInfo)}function H3(P,O,$,ce,Ae){return Td(),Fx(Ae),O.flags|=256,Yl(P,O,$,ce),O.child}var B1={dehydrated:null,treeContext:null,retryLane:0};function U1(P){return{baseLanes:P,cachePool:null,transitions:null}}function Y5(P,O,$){var ce=O.pendingProps,Ae=as.current,ze=!1,G=(O.flags&128)!==0,V;if((V=G)||(V=P!==null&&P.memoizedState===null?!1:(Ae&2)!==0),V?(ze=!0,O.flags&=-129):(P===null||P.memoizedState!==null)&&(Ae|=1),zo(as,Ae&1),P===null)return D1(O),P=O.memoizedState,P!==null&&(P=P.dehydrated,P!==null)?(O.mode&1?P.data==="$!"?O.lanes=8:O.lanes=1073741824:O.lanes=1,null):(G=ce.children,P=ce.fallback,ze?(ce=O.mode,ze=O.child,G={mode:"hidden",children:G},!(ce&1)&&ze!==null?(ze.childLanes=0,ze.pendingProps=G):ze=Ty(G,ce,0,null),P=sv(P,ce,$,null),ze.return=O,P.return=O,ze.sibling=P,O.child=ze,O.child.memoizedState=U1($),O.memoizedState=B1,P):Kx(O,G));if(Ae=P.memoizedState,Ae!==null&&(V=Ae.dehydrated,V!==null))return L8(P,O,G,ce,V,Ae,$);if(ze){ze=ce.fallback,G=O.mode,Ae=P.child,V=Ae.sibling;var e={mode:"hidden",children:ce.children};return!(G&1)&&O.child!==Ae?(ce=O.child,ce.childLanes=0,ce.pendingProps=e,O.deletions=null):(ce=Ih(Ae,e),ce.subtreeFlags=Ae.subtreeFlags&14680064),V!==null?ze=Ih(V,ze):(ze=sv(ze,G,$,null),ze.flags|=2),ze.return=O,ce.return=O,ce.sibling=ze,O.child=ce,ce=ze,ze=O.child,G=P.child.memoizedState,G=G===null?U1($):{baseLanes:G.baseLanes|$,cachePool:null,transitions:G.transitions},ze.memoizedState=G,ze.childLanes=P.childLanes&~$,O.memoizedState=B1,ce}return ze=P.child,P=ze.sibling,ce=Ih(ze,{mode:"visible",children:ce.children}),!(O.mode&1)&&(ce.lanes=$),ce.return=O,ce.sibling=null,P!==null&&($=O.deletions,$===null?(O.deletions=[P],O.flags|=16):$.push(P)),O.child=ce,O.memoizedState=null,ce}function Kx(P,O){return O=Ty({mode:"visible",children:O},P.mode,0,null),O.return=P,P.child=O}function og(P,O,$,ce){return ce!==null&&Fx(ce),Ad(O,P.child,null,$),P=Kx(O,O.pendingProps.children),P.flags|=2,O.memoizedState=null,P}function L8(P,O,$,ce,Ae,ze,G){if($)return O.flags&256?(O.flags&=-257,ce=Gm(Error(Ma(422))),og(P,O,G,ce)):O.memoizedState!==null?(O.child=P.child,O.flags|=128,null):(ze=ce.fallback,Ae=O.mode,ce=Ty({mode:"visible",children:ce.children},Ae,0,null),ze=sv(ze,Ae,G,null),ze.flags|=2,ce.return=O,ze.return=O,ce.sibling=ze,O.child=ce,O.mode&1&&Ad(O,P.child,null,G),O.child.memoizedState=U1(G),O.memoizedState=B1,ze);if(!(O.mode&1))return og(P,O,G,null);if(Ae.data==="$!"){if(ce=Ae.nextSibling&&Ae.nextSibling.dataset,ce)var V=ce.dgst;return ce=V,ze=Error(Ma(419)),ce=Gm(ze,ce,void 0),og(P,O,G,ce)}if(V=(G&P.childLanes)!==0,cu||V){if(ce=$s,ce!==null){switch(G&-G){case 4:Ae=2;break;case 16:Ae=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ae=32;break;case 536870912:Ae=268435456;break;default:Ae=0}Ae=Ae&(ce.suspendedLanes|G)?0:Ae,Ae!==0&&Ae!==ze.retryLane&&(ze.retryLane=Ae,Wc(P,Ae),Nf(ce,P,Ae,-1))}return t2(),ce=Gm(Error(Ma(421))),og(P,O,G,ce)}return Ae.data==="$?"?(O.flags|=128,O.child=P.child,O=H8.bind(null,P),Ae._reactRetry=O,null):(P=ze.treeContext,ku=Rh(Ae.nextSibling),Fu=O,Xo=!0,zf=null,P!==null&&(tf[rf++]=Oc,tf[rf++]=Nc,tf[rf++]=fv,Oc=P.id,Nc=P.overflow,fv=O),O=Kx(O,ce.children),O.flags|=4096,O)}function V3(P,O,$){P.lanes|=O;var ce=P.alternate;ce!==null&&(ce.lanes|=O),k1(P.return,O,$)}function Wm(P,O,$,ce,Ae){var ze=P.memoizedState;ze===null?P.memoizedState={isBackwards:O,rendering:null,renderingStartTime:0,last:ce,tail:$,tailMode:Ae}:(ze.isBackwards=O,ze.rendering=null,ze.renderingStartTime=0,ze.last=ce,ze.tail=$,ze.tailMode=Ae)}function Z5(P,O,$){var ce=O.pendingProps,Ae=ce.revealOrder,ze=ce.tail;if(Yl(P,O,ce.children,$),ce=as.current,ce&2)ce=ce&1|2,O.flags|=128;else{if(P!==null&&P.flags&128)e:for(P=O.child;P!==null;){if(P.tag===13)P.memoizedState!==null&&V3(P,$,O);else if(P.tag===19)V3(P,$,O);else if(P.child!==null){P.child.return=P,P=P.child;continue}if(P===O)break e;for(;P.sibling===null;){if(P.return===null||P.return===O)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}ce&=1}if(zo(as,ce),!(O.mode&1))O.memoizedState=null;else switch(Ae){case"forwards":for($=O.child,Ae=null;$!==null;)P=$.alternate,P!==null&&Qg(P)===null&&(Ae=$),$=$.sibling;$=Ae,$===null?(Ae=O.child,O.child=null):(Ae=$.sibling,$.sibling=null),Wm(O,!1,Ae,$,ze);break;case"backwards":for($=null,Ae=O.child,O.child=null;Ae!==null;){if(P=Ae.alternate,P!==null&&Qg(P)===null){O.child=Ae;break}P=Ae.sibling,Ae.sibling=$,$=Ae,Ae=P}Wm(O,!0,$,null,ze);break;case"together":Wm(O,!1,null,null,void 0);break;default:O.memoizedState=null}return O.child}function bg(P,O){!(O.mode&1)&&P!==null&&(P.alternate=null,O.alternate=null,O.flags|=2)}function jc(P,O,$){if(P!==null&&(O.dependencies=P.dependencies),hv|=O.lanes,!($&O.childLanes))return null;if(P!==null&&O.child!==P.child)throw Error(Ma(153));if(O.child!==null){for(P=O.child,$=Ih(P,P.pendingProps),O.child=$,$.return=O;P.sibling!==null;)P=P.sibling,$=$.sibling=Ih(P,P.pendingProps),$.return=O;$.sibling=null}return O.child}function P8(P,O,$){switch(O.tag){case 3:j5(O),Td();break;case 5:b5(O);break;case 1:vu(O.type)&&jg(O);break;case 4:Hx(O,O.stateNode.containerInfo);break;case 10:var ce=O.type._context,Ae=O.memoizedProps.value;zo(Xg,ce._currentValue),ce._currentValue=Ae;break;case 13:if(ce=O.memoizedState,ce!==null)return ce.dehydrated!==null?(zo(as,as.current&1),O.flags|=128,null):$&O.child.childLanes?Y5(P,O,$):(zo(as,as.current&1),P=jc(P,O,$),P!==null?P.sibling:null);zo(as,as.current&1);break;case 19:if(ce=($&O.childLanes)!==0,P.flags&128){if(ce)return Z5(P,O,$);O.flags|=128}if(Ae=O.memoizedState,Ae!==null&&(Ae.rendering=null,Ae.tail=null,Ae.lastEffect=null),zo(as,as.current),ce)break;return null;case 22:case 23:return O.lanes=0,G5(P,O,$)}return jc(P,O,$)}var X5,H1,K5,J5;X5=function(P,O){for(var $=O.child;$!==null;){if($.tag===5||$.tag===6)P.appendChild($.stateNode);else if($.tag!==4&&$.child!==null){$.child.return=$,$=$.child;continue}if($===O)break;for(;$.sibling===null;){if($.return===null||$.return===O)return;$=$.return}$.sibling.return=$.return,$=$.sibling}};H1=function(){};K5=function(P,O,$,ce){var Ae=P.memoizedProps;if(Ae!==ce){P=O.stateNode,av(vc.current);var ze=null;switch($){case"input":Ae=u1(P,Ae),ce=u1(P,ce),ze=[];break;case"select":Ae=os({},Ae,{value:void 0}),ce=os({},ce,{value:void 0}),ze=[];break;case"textarea":Ae=h1(P,Ae),ce=h1(P,ce),ze=[];break;default:typeof Ae.onClick!="function"&&typeof ce.onClick=="function"&&(P.onclick=Gg)}d1($,ce);var G;$=null;for(g in Ae)if(!ce.hasOwnProperty(g)&&Ae.hasOwnProperty(g)&&Ae[g]!=null)if(g==="style"){var V=Ae[g];for(G in V)V.hasOwnProperty(G)&&($||($={}),$[G]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(zp.hasOwnProperty(g)?ze||(ze=[]):(ze=ze||[]).push(g,null));for(g in ce){var e=ce[g];if(V=Ae!=null?Ae[g]:void 0,ce.hasOwnProperty(g)&&e!==V&&(e!=null||V!=null))if(g==="style")if(V){for(G in V)!V.hasOwnProperty(G)||e&&e.hasOwnProperty(G)||($||($={}),$[G]="");for(G in e)e.hasOwnProperty(G)&&V[G]!==e[G]&&($||($={}),$[G]=e[G])}else $||(ze||(ze=[]),ze.push(g,$)),$=e;else g==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,V=V?V.__html:void 0,e!=null&&V!==e&&(ze=ze||[]).push(g,e)):g==="children"?typeof e!="string"&&typeof e!="number"||(ze=ze||[]).push(g,""+e):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(zp.hasOwnProperty(g)?(e!=null&&g==="onScroll"&&Ho("scroll",P),ze||V===e||(ze=[])):(ze=ze||[]).push(g,e))}$&&(ze=ze||[]).push("style",$);var g=ze;(O.updateQueue=g)&&(O.flags|=4)}};J5=function(P,O,$,ce){$!==ce&&(O.flags|=4)};function hp(P,O){if(!Xo)switch(P.tailMode){case"hidden":O=P.tail;for(var $=null;O!==null;)O.alternate!==null&&($=O),O=O.sibling;$===null?P.tail=null:$.sibling=null;break;case"collapsed":$=P.tail;for(var ce=null;$!==null;)$.alternate!==null&&(ce=$),$=$.sibling;ce===null?O||P.tail===null?P.tail=null:P.tail.sibling=null:ce.sibling=null}}function _l(P){var O=P.alternate!==null&&P.alternate.child===P.child,$=0,ce=0;if(O)for(var Ae=P.child;Ae!==null;)$|=Ae.lanes|Ae.childLanes,ce|=Ae.subtreeFlags&14680064,ce|=Ae.flags&14680064,Ae.return=P,Ae=Ae.sibling;else for(Ae=P.child;Ae!==null;)$|=Ae.lanes|Ae.childLanes,ce|=Ae.subtreeFlags,ce|=Ae.flags,Ae.return=P,Ae=Ae.sibling;return P.subtreeFlags|=ce,P.childLanes=$,O}function R8(P,O,$){var ce=O.pendingProps;switch(Ix(O),O.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _l(O),null;case 1:return vu(O.type)&&Wg(),_l(O),null;case 3:return ce=O.stateNode,Md(),Vo(hu),Vo(Il),Gx(),ce.pendingContext&&(ce.context=ce.pendingContext,ce.pendingContext=null),(P===null||P.child===null)&&(ag(O)?O.flags|=4:P===null||P.memoizedState.isDehydrated&&!(O.flags&256)||(O.flags|=1024,zf!==null&&(K1(zf),zf=null))),H1(P,O),_l(O),null;case 5:Vx(O);var Ae=av(Xp.current);if($=O.type,P!==null&&O.stateNode!=null)K5(P,O,$,ce,Ae),P.ref!==O.ref&&(O.flags|=512,O.flags|=2097152);else{if(!ce){if(O.stateNode===null)throw Error(Ma(166));return _l(O),null}if(P=av(vc.current),ag(O)){ce=O.stateNode,$=O.type;var ze=O.memoizedProps;switch(ce[uc]=O,ce[Yp]=ze,P=(O.mode&1)!==0,$){case"dialog":Ho("cancel",ce),Ho("close",ce);break;case"iframe":case"object":case"embed":Ho("load",ce);break;case"video":case"audio":for(Ae=0;Ae<Ap.length;Ae++)Ho(Ap[Ae],ce);break;case"source":Ho("error",ce);break;case"img":case"image":case"link":Ho("error",ce),Ho("load",ce);break;case"details":Ho("toggle",ce);break;case"input":Qb(ce,ze),Ho("invalid",ce);break;case"select":ce._wrapperState={wasMultiple:!!ze.multiple},Ho("invalid",ce);break;case"textarea":qb(ce,ze),Ho("invalid",ce)}d1($,ze),Ae=null;for(var G in ze)if(ze.hasOwnProperty(G)){var V=ze[G];G==="children"?typeof V=="string"?ce.textContent!==V&&(ze.suppressHydrationWarning!==!0&&ng(ce.textContent,V,P),Ae=["children",V]):typeof V=="number"&&ce.textContent!==""+V&&(ze.suppressHydrationWarning!==!0&&ng(ce.textContent,V,P),Ae=["children",""+V]):zp.hasOwnProperty(G)&&V!=null&&G==="onScroll"&&Ho("scroll",ce)}switch($){case"input":K0(ce),$b(ce,ze,!0);break;case"textarea":K0(ce),e3(ce);break;case"select":case"option":break;default:typeof ze.onClick=="function"&&(ce.onclick=Gg)}ce=Ae,O.updateQueue=ce,ce!==null&&(O.flags|=4)}else{G=Ae.nodeType===9?Ae:Ae.ownerDocument,P==="http://www.w3.org/1999/xhtml"&&(P=AT($)),P==="http://www.w3.org/1999/xhtml"?$==="script"?(P=G.createElement("div"),P.innerHTML="<script><\/script>",P=P.removeChild(P.firstChild)):typeof ce.is=="string"?P=G.createElement($,{is:ce.is}):(P=G.createElement($),$==="select"&&(G=P,ce.multiple?G.multiple=!0:ce.size&&(G.size=ce.size))):P=G.createElementNS(P,$),P[uc]=O,P[Yp]=ce,X5(P,O,!1,!1),O.stateNode=P;e:{switch(G=p1($,ce),$){case"dialog":Ho("cancel",P),Ho("close",P),Ae=ce;break;case"iframe":case"object":case"embed":Ho("load",P),Ae=ce;break;case"video":case"audio":for(Ae=0;Ae<Ap.length;Ae++)Ho(Ap[Ae],P);Ae=ce;break;case"source":Ho("error",P),Ae=ce;break;case"img":case"image":case"link":Ho("error",P),Ho("load",P),Ae=ce;break;case"details":Ho("toggle",P),Ae=ce;break;case"input":Qb(P,ce),Ae=u1(P,ce),Ho("invalid",P);break;case"option":Ae=ce;break;case"select":P._wrapperState={wasMultiple:!!ce.multiple},Ae=os({},ce,{value:void 0}),Ho("invalid",P);break;case"textarea":qb(P,ce),Ae=h1(P,ce),Ho("invalid",P);break;default:Ae=ce}d1($,Ae),V=Ae;for(ze in V)if(V.hasOwnProperty(ze)){var e=V[ze];ze==="style"?ET(P,e):ze==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&MT(P,e)):ze==="children"?typeof e=="string"?($!=="textarea"||e!=="")&&Op(P,e):typeof e=="number"&&Op(P,""+e):ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&ze!=="autoFocus"&&(zp.hasOwnProperty(ze)?e!=null&&ze==="onScroll"&&Ho("scroll",P):e!=null&&xx(P,ze,e,G))}switch($){case"input":K0(P),$b(P,ce,!1);break;case"textarea":K0(P),e3(P);break;case"option":ce.value!=null&&P.setAttribute("value",""+Fh(ce.value));break;case"select":P.multiple=!!ce.multiple,ze=ce.value,ze!=null?cd(P,!!ce.multiple,ze,!1):ce.defaultValue!=null&&cd(P,!!ce.multiple,ce.defaultValue,!0);break;default:typeof Ae.onClick=="function"&&(P.onclick=Gg)}switch($){case"button":case"input":case"select":case"textarea":ce=!!ce.autoFocus;break e;case"img":ce=!0;break e;default:ce=!1}}ce&&(O.flags|=4)}O.ref!==null&&(O.flags|=512,O.flags|=2097152)}return _l(O),null;case 6:if(P&&O.stateNode!=null)J5(P,O,P.memoizedProps,ce);else{if(typeof ce!="string"&&O.stateNode===null)throw Error(Ma(166));if($=av(Xp.current),av(vc.current),ag(O)){if(ce=O.stateNode,$=O.memoizedProps,ce[uc]=O,(ze=ce.nodeValue!==$)&&(P=Fu,P!==null))switch(P.tag){case 3:ng(ce.nodeValue,$,(P.mode&1)!==0);break;case 5:P.memoizedProps.suppressHydrationWarning!==!0&&ng(ce.nodeValue,$,(P.mode&1)!==0)}ze&&(O.flags|=4)}else ce=($.nodeType===9?$:$.ownerDocument).createTextNode(ce),ce[uc]=O,O.stateNode=ce}return _l(O),null;case 13:if(Vo(as),ce=O.memoizedState,P===null||P.memoizedState!==null&&P.memoizedState.dehydrated!==null){if(Xo&&ku!==null&&O.mode&1&&!(O.flags&128))v5(),Td(),O.flags|=98560,ze=!1;else if(ze=ag(O),ce!==null&&ce.dehydrated!==null){if(P===null){if(!ze)throw Error(Ma(318));if(ze=O.memoizedState,ze=ze!==null?ze.dehydrated:null,!ze)throw Error(Ma(317));ze[uc]=O}else Td(),!(O.flags&128)&&(O.memoizedState=null),O.flags|=4;_l(O),ze=!1}else zf!==null&&(K1(zf),zf=null),ze=!0;if(!ze)return O.flags&65536?O:null}return O.flags&128?(O.lanes=$,O):(ce=ce!==null,ce!==(P!==null&&P.memoizedState!==null)&&ce&&(O.child.flags|=8192,O.mode&1&&(P===null||as.current&1?Bs===0&&(Bs=3):t2())),O.updateQueue!==null&&(O.flags|=4),_l(O),null);case 4:return Md(),H1(P,O),P===null&&Wp(O.stateNode.containerInfo),_l(O),null;case 10:return Nx(O.type._context),_l(O),null;case 17:return vu(O.type)&&Wg(),_l(O),null;case 19:if(Vo(as),ze=O.memoizedState,ze===null)return _l(O),null;if(ce=(O.flags&128)!==0,G=ze.rendering,G===null)if(ce)hp(ze,!1);else{if(Bs!==0||P!==null&&P.flags&128)for(P=O.child;P!==null;){if(G=Qg(P),G!==null){for(O.flags|=128,hp(ze,!1),ce=G.updateQueue,ce!==null&&(O.updateQueue=ce,O.flags|=4),O.subtreeFlags=0,ce=$,$=O.child;$!==null;)ze=$,P=ce,ze.flags&=14680066,G=ze.alternate,G===null?(ze.childLanes=0,ze.lanes=P,ze.child=null,ze.subtreeFlags=0,ze.memoizedProps=null,ze.memoizedState=null,ze.updateQueue=null,ze.dependencies=null,ze.stateNode=null):(ze.childLanes=G.childLanes,ze.lanes=G.lanes,ze.child=G.child,ze.subtreeFlags=0,ze.deletions=null,ze.memoizedProps=G.memoizedProps,ze.memoizedState=G.memoizedState,ze.updateQueue=G.updateQueue,ze.type=G.type,P=G.dependencies,ze.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),$=$.sibling;return zo(as,as.current&1|2),O.child}P=P.sibling}ze.tail!==null&&ws()>Ed&&(O.flags|=128,ce=!0,hp(ze,!1),O.lanes=4194304)}else{if(!ce)if(P=Qg(G),P!==null){if(O.flags|=128,ce=!0,$=P.updateQueue,$!==null&&(O.updateQueue=$,O.flags|=4),hp(ze,!0),ze.tail===null&&ze.tailMode==="hidden"&&!G.alternate&&!Xo)return _l(O),null}else 2*ws()-ze.renderingStartTime>Ed&&$!==1073741824&&(O.flags|=128,ce=!0,hp(ze,!1),O.lanes=4194304);ze.isBackwards?(G.sibling=O.child,O.child=G):($=ze.last,$!==null?$.sibling=G:O.child=G,ze.last=G)}return ze.tail!==null?(O=ze.tail,ze.rendering=O,ze.tail=O.sibling,ze.renderingStartTime=ws(),O.sibling=null,$=as.current,zo(as,ce?$&1|2:$&1),O):(_l(O),null);case 22:case 23:return e2(),ce=O.memoizedState!==null,P!==null&&P.memoizedState!==null!==ce&&(O.flags|=8192),ce&&O.mode&1?_u&1073741824&&(_l(O),O.subtreeFlags&6&&(O.flags|=8192)):_l(O),null;case 24:return null;case 25:return null}throw Error(Ma(156,O.tag))}function _8(P,O){switch(Ix(O),O.tag){case 1:return vu(O.type)&&Wg(),P=O.flags,P&65536?(O.flags=P&-65537|128,O):null;case 3:return Md(),Vo(hu),Vo(Il),Gx(),P=O.flags,P&65536&&!(P&128)?(O.flags=P&-65537|128,O):null;case 5:return Vx(O),null;case 13:if(Vo(as),P=O.memoizedState,P!==null&&P.dehydrated!==null){if(O.alternate===null)throw Error(Ma(340));Td()}return P=O.flags,P&65536?(O.flags=P&-65537|128,O):null;case 19:return Vo(as),null;case 4:return Md(),null;case 10:return Nx(O.type._context),null;case 22:case 23:return e2(),null;case 24:return null;default:return null}}var sg=!1,kl=!1,D8=typeof WeakSet=="function"?WeakSet:Set,Za=null;function sd(P,O){var $=P.ref;if($!==null)if(typeof $=="function")try{$(null)}catch(ce){ds(P,O,ce)}else $.current=null}function V1(P,O,$){try{$()}catch(ce){ds(P,O,ce)}}var G3=!1;function k8(P,O){if(S1=Ug,P=e5(),Dx(P)){if("selectionStart"in P)var $={start:P.selectionStart,end:P.selectionEnd};else e:{$=($=P.ownerDocument)&&$.defaultView||window;var ce=$.getSelection&&$.getSelection();if(ce&&ce.rangeCount!==0){$=ce.anchorNode;var Ae=ce.anchorOffset,ze=ce.focusNode;ce=ce.focusOffset;try{$.nodeType,ze.nodeType}catch{$=null;break e}var G=0,V=-1,e=-1,g=0,R=0,i=P,L=null;t:for(;;){for(var T;i!==$||Ae!==0&&i.nodeType!==3||(V=G+Ae),i!==ze||ce!==0&&i.nodeType!==3||(e=G+ce),i.nodeType===3&&(G+=i.nodeValue.length),(T=i.firstChild)!==null;)L=i,i=T;for(;;){if(i===P)break t;if(L===$&&++g===Ae&&(V=G),L===ze&&++R===ce&&(e=G),(T=i.nextSibling)!==null)break;i=L,L=i.parentNode}i=T}$=V===-1||e===-1?null:{start:V,end:e}}else $=null}$=$||{start:0,end:0}}else $=null;for(E1={focusedElem:P,selectionRange:$},Ug=!1,Za=O;Za!==null;)if(O=Za,P=O.child,(O.subtreeFlags&1028)!==0&&P!==null)P.return=O,Za=P;else for(;Za!==null;){O=Za;try{var v=O.alternate;if(O.flags&1024)switch(O.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,t=v.memoizedState,r=O.stateNode,l=r.getSnapshotBeforeUpdate(O.elementType===O.type?p:kf(O.type,p),t);r.__reactInternalSnapshotBeforeUpdate=l}break;case 3:var n=O.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ma(163))}}catch(s){ds(O,O.return,s)}if(P=O.sibling,P!==null){P.return=O.return,Za=P;break}Za=O.return}return v=G3,G3=!1,v}function Rp(P,O,$){var ce=O.updateQueue;if(ce=ce!==null?ce.lastEffect:null,ce!==null){var Ae=ce=ce.next;do{if((Ae.tag&P)===P){var ze=Ae.destroy;Ae.destroy=void 0,ze!==void 0&&V1(O,$,ze)}Ae=Ae.next}while(Ae!==ce)}}function by(P,O){if(O=O.updateQueue,O=O!==null?O.lastEffect:null,O!==null){var $=O=O.next;do{if(($.tag&P)===P){var ce=$.create;$.destroy=ce()}$=$.next}while($!==O)}}function G1(P){var O=P.ref;if(O!==null){var $=P.stateNode;switch(P.tag){case 5:P=$;break;default:P=$}typeof O=="function"?O(P):O.current=P}}function Q5(P){var O=P.alternate;O!==null&&(P.alternate=null,Q5(O)),P.child=null,P.deletions=null,P.sibling=null,P.tag===5&&(O=P.stateNode,O!==null&&(delete O[uc],delete O[Yp],delete O[P1],delete O[p8],delete O[g8])),P.stateNode=null,P.return=null,P.dependencies=null,P.memoizedProps=null,P.memoizedState=null,P.pendingProps=null,P.stateNode=null,P.updateQueue=null}function $5(P){return P.tag===5||P.tag===3||P.tag===4}function W3(P){e:for(;;){for(;P.sibling===null;){if(P.return===null||$5(P.return))return null;P=P.return}for(P.sibling.return=P.return,P=P.sibling;P.tag!==5&&P.tag!==6&&P.tag!==18;){if(P.flags&2||P.child===null||P.tag===4)continue e;P.child.return=P,P=P.child}if(!(P.flags&2))return P.stateNode}}function W1(P,O,$){var ce=P.tag;if(ce===5||ce===6)P=P.stateNode,O?$.nodeType===8?$.parentNode.insertBefore(P,O):$.insertBefore(P,O):($.nodeType===8?(O=$.parentNode,O.insertBefore(P,$)):(O=$,O.appendChild(P)),$=$._reactRootContainer,$!=null||O.onclick!==null||(O.onclick=Gg));else if(ce!==4&&(P=P.child,P!==null))for(W1(P,O,$),P=P.sibling;P!==null;)W1(P,O,$),P=P.sibling}function j1(P,O,$){var ce=P.tag;if(ce===5||ce===6)P=P.stateNode,O?$.insertBefore(P,O):$.appendChild(P);else if(ce!==4&&(P=P.child,P!==null))for(j1(P,O,$),P=P.sibling;P!==null;)j1(P,O,$),P=P.sibling}var hl=null,Ff=!1;function mh(P,O,$){for($=$.child;$!==null;)q5(P,O,$),$=$.sibling}function q5(P,O,$){if(hc&&typeof hc.onCommitFiberUnmount=="function")try{hc.onCommitFiberUnmount(hy,$)}catch{}switch($.tag){case 5:kl||sd($,O);case 6:var ce=hl,Ae=Ff;hl=null,mh(P,O,$),hl=ce,Ff=Ae,hl!==null&&(Ff?(P=hl,$=$.stateNode,P.nodeType===8?P.parentNode.removeChild($):P.removeChild($)):hl.removeChild($.stateNode));break;case 18:hl!==null&&(Ff?(P=hl,$=$.stateNode,P.nodeType===8?Om(P.parentNode,$):P.nodeType===1&&Om(P,$),Hp(P)):Om(hl,$.stateNode));break;case 4:ce=hl,Ae=Ff,hl=$.stateNode.containerInfo,Ff=!0,mh(P,O,$),hl=ce,Ff=Ae;break;case 0:case 11:case 14:case 15:if(!kl&&(ce=$.updateQueue,ce!==null&&(ce=ce.lastEffect,ce!==null))){Ae=ce=ce.next;do{var ze=Ae,G=ze.destroy;ze=ze.tag,G!==void 0&&(ze&2||ze&4)&&V1($,O,G),Ae=Ae.next}while(Ae!==ce)}mh(P,O,$);break;case 1:if(!kl&&(sd($,O),ce=$.stateNode,typeof ce.componentWillUnmount=="function"))try{ce.props=$.memoizedProps,ce.state=$.memoizedState,ce.componentWillUnmount()}catch(V){ds($,O,V)}mh(P,O,$);break;case 21:mh(P,O,$);break;case 22:$.mode&1?(kl=(ce=kl)||$.memoizedState!==null,mh(P,O,$),kl=ce):mh(P,O,$);break;default:mh(P,O,$)}}function j3(P){var O=P.updateQueue;if(O!==null){P.updateQueue=null;var $=P.stateNode;$===null&&($=P.stateNode=new D8),O.forEach(function(ce){var Ae=V8.bind(null,P,ce);$.has(ce)||($.add(ce),ce.then(Ae,Ae))})}}function Df(P,O){var $=O.deletions;if($!==null)for(var ce=0;ce<$.length;ce++){var Ae=$[ce];try{var ze=P,G=O,V=G;e:for(;V!==null;){switch(V.tag){case 5:hl=V.stateNode,Ff=!1;break e;case 3:hl=V.stateNode.containerInfo,Ff=!0;break e;case 4:hl=V.stateNode.containerInfo,Ff=!0;break e}V=V.return}if(hl===null)throw Error(Ma(160));q5(ze,G,Ae),hl=null,Ff=!1;var e=Ae.alternate;e!==null&&(e.return=null),Ae.return=null}catch(g){ds(Ae,O,g)}}if(O.subtreeFlags&12854)for(O=O.child;O!==null;)eA(O,P),O=O.sibling}function eA(P,O){var $=P.alternate,ce=P.flags;switch(P.tag){case 0:case 11:case 14:case 15:if(Df(O,P),ic(P),ce&4){try{Rp(3,P,P.return),by(3,P)}catch(p){ds(P,P.return,p)}try{Rp(5,P,P.return)}catch(p){ds(P,P.return,p)}}break;case 1:Df(O,P),ic(P),ce&512&&$!==null&&sd($,$.return);break;case 5:if(Df(O,P),ic(P),ce&512&&$!==null&&sd($,$.return),P.flags&32){var Ae=P.stateNode;try{Op(Ae,"")}catch(p){ds(P,P.return,p)}}if(ce&4&&(Ae=P.stateNode,Ae!=null)){var ze=P.memoizedProps,G=$!==null?$.memoizedProps:ze,V=P.type,e=P.updateQueue;if(P.updateQueue=null,e!==null)try{V==="input"&&ze.type==="radio"&&ze.name!=null&&wT(Ae,ze),p1(V,G);var g=p1(V,ze);for(G=0;G<e.length;G+=2){var R=e[G],i=e[G+1];R==="style"?ET(Ae,i):R==="dangerouslySetInnerHTML"?MT(Ae,i):R==="children"?Op(Ae,i):xx(Ae,R,i,g)}switch(V){case"input":f1(Ae,ze);break;case"textarea":TT(Ae,ze);break;case"select":var L=Ae._wrapperState.wasMultiple;Ae._wrapperState.wasMultiple=!!ze.multiple;var T=ze.value;T!=null?cd(Ae,!!ze.multiple,T,!1):L!==!!ze.multiple&&(ze.defaultValue!=null?cd(Ae,!!ze.multiple,ze.defaultValue,!0):cd(Ae,!!ze.multiple,ze.multiple?[]:"",!1))}Ae[Yp]=ze}catch(p){ds(P,P.return,p)}}break;case 6:if(Df(O,P),ic(P),ce&4){if(P.stateNode===null)throw Error(Ma(162));Ae=P.stateNode,ze=P.memoizedProps;try{Ae.nodeValue=ze}catch(p){ds(P,P.return,p)}}break;case 3:if(Df(O,P),ic(P),ce&4&&$!==null&&$.memoizedState.isDehydrated)try{Hp(O.containerInfo)}catch(p){ds(P,P.return,p)}break;case 4:Df(O,P),ic(P);break;case 13:Df(O,P),ic(P),Ae=P.child,Ae.flags&8192&&(ze=Ae.memoizedState!==null,Ae.stateNode.isHidden=ze,!ze||Ae.alternate!==null&&Ae.alternate.memoizedState!==null||($x=ws())),ce&4&&j3(P);break;case 22:if(R=$!==null&&$.memoizedState!==null,P.mode&1?(kl=(g=kl)||R,Df(O,P),kl=g):Df(O,P),ic(P),ce&8192){if(g=P.memoizedState!==null,(P.stateNode.isHidden=g)&&!R&&P.mode&1)for(Za=P,R=P.child;R!==null;){for(i=Za=R;Za!==null;){switch(L=Za,T=L.child,L.tag){case 0:case 11:case 14:case 15:Rp(4,L,L.return);break;case 1:sd(L,L.return);var v=L.stateNode;if(typeof v.componentWillUnmount=="function"){ce=L,$=L.return;try{O=ce,v.props=O.memoizedProps,v.state=O.memoizedState,v.componentWillUnmount()}catch(p){ds(ce,$,p)}}break;case 5:sd(L,L.return);break;case 22:if(L.memoizedState!==null){Z3(i);continue}}T!==null?(T.return=L,Za=T):Z3(i)}R=R.sibling}e:for(R=null,i=P;;){if(i.tag===5){if(R===null){R=i;try{Ae=i.stateNode,g?(ze=Ae.style,typeof ze.setProperty=="function"?ze.setProperty("display","none","important"):ze.display="none"):(V=i.stateNode,e=i.memoizedProps.style,G=e!=null&&e.hasOwnProperty("display")?e.display:null,V.style.display=ST("display",G))}catch(p){ds(P,P.return,p)}}}else if(i.tag===6){if(R===null)try{i.stateNode.nodeValue=g?"":i.memoizedProps}catch(p){ds(P,P.return,p)}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===P)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===P)break e;for(;i.sibling===null;){if(i.return===null||i.return===P)break e;R===i&&(R=null),i=i.return}R===i&&(R=null),i.sibling.return=i.return,i=i.sibling}}break;case 19:Df(O,P),ic(P),ce&4&&j3(P);break;case 21:break;default:Df(O,P),ic(P)}}function ic(P){var O=P.flags;if(O&2){try{e:{for(var $=P.return;$!==null;){if($5($)){var ce=$;break e}$=$.return}throw Error(Ma(160))}switch(ce.tag){case 5:var Ae=ce.stateNode;ce.flags&32&&(Op(Ae,""),ce.flags&=-33);var ze=W3(P);j1(P,ze,Ae);break;case 3:case 4:var G=ce.stateNode.containerInfo,V=W3(P);W1(P,V,G);break;default:throw Error(Ma(161))}}catch(e){ds(P,P.return,e)}P.flags&=-3}O&4096&&(P.flags&=-4097)}function I8(P,O,$){Za=P,tA(P)}function tA(P,O,$){for(var ce=(P.mode&1)!==0;Za!==null;){var Ae=Za,ze=Ae.child;if(Ae.tag===22&&ce){var G=Ae.memoizedState!==null||sg;if(!G){var V=Ae.alternate,e=V!==null&&V.memoizedState!==null||kl;V=sg;var g=kl;if(sg=G,(kl=e)&&!g)for(Za=Ae;Za!==null;)G=Za,e=G.child,G.tag===22&&G.memoizedState!==null?X3(Ae):e!==null?(e.return=G,Za=e):X3(Ae);for(;ze!==null;)Za=ze,tA(ze),ze=ze.sibling;Za=Ae,sg=V,kl=g}Y3(P)}else Ae.subtreeFlags&8772&&ze!==null?(ze.return=Ae,Za=ze):Y3(P)}}function Y3(P){for(;Za!==null;){var O=Za;if(O.flags&8772){var $=O.alternate;try{if(O.flags&8772)switch(O.tag){case 0:case 11:case 15:kl||by(5,O);break;case 1:var ce=O.stateNode;if(O.flags&4&&!kl)if($===null)ce.componentDidMount();else{var Ae=O.elementType===O.type?$.memoizedProps:kf(O.type,$.memoizedProps);ce.componentDidUpdate(Ae,$.memoizedState,ce.__reactInternalSnapshotBeforeUpdate)}var ze=O.updateQueue;ze!==null&&P3(O,ze,ce);break;case 3:var G=O.updateQueue;if(G!==null){if($=null,O.child!==null)switch(O.child.tag){case 5:$=O.child.stateNode;break;case 1:$=O.child.stateNode}P3(O,G,$)}break;case 5:var V=O.stateNode;if($===null&&O.flags&4){$=V;var e=O.memoizedProps;switch(O.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&$.focus();break;case"img":e.src&&($.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(O.memoizedState===null){var g=O.alternate;if(g!==null){var R=g.memoizedState;if(R!==null){var i=R.dehydrated;i!==null&&Hp(i)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ma(163))}kl||O.flags&512&&G1(O)}catch(L){ds(O,O.return,L)}}if(O===P){Za=null;break}if($=O.sibling,$!==null){$.return=O.return,Za=$;break}Za=O.return}}function Z3(P){for(;Za!==null;){var O=Za;if(O===P){Za=null;break}var $=O.sibling;if($!==null){$.return=O.return,Za=$;break}Za=O.return}}function X3(P){for(;Za!==null;){var O=Za;try{switch(O.tag){case 0:case 11:case 15:var $=O.return;try{by(4,O)}catch(e){ds(O,$,e)}break;case 1:var ce=O.stateNode;if(typeof ce.componentDidMount=="function"){var Ae=O.return;try{ce.componentDidMount()}catch(e){ds(O,Ae,e)}}var ze=O.return;try{G1(O)}catch(e){ds(O,ze,e)}break;case 5:var G=O.return;try{G1(O)}catch(e){ds(O,G,e)}}}catch(e){ds(O,O.return,e)}if(O===P){Za=null;break}var V=O.sibling;if(V!==null){V.return=O.return,Za=V;break}Za=O.return}}var F8=Math.ceil,ey=Xc.ReactCurrentDispatcher,Jx=Xc.ReactCurrentOwner,af=Xc.ReactCurrentBatchConfig,to=0,$s=null,Rs=null,dl=0,_u=0,ld=Nh(0),Bs=0,$p=null,hv=0,wy=0,Qx=0,_p=null,fu=null,$x=0,Ed=1/0,Ic=null,ty=!1,Y1=null,Dh=null,lg=!1,Eh=null,ry=0,Dp=0,Z1=null,wg=-1,Tg=0;function Zl(){return to&6?ws():wg!==-1?wg:wg=ws()}function kh(P){return P.mode&1?to&2&&dl!==0?dl&-dl:m8.transition!==null?(Tg===0&&(Tg=NT()),Tg):(P=xo,P!==0||(P=window.event,P=P===void 0?16:jT(P.type)),P):1}function Nf(P,O,$,ce){if(50<Dp)throw Dp=0,Z1=null,Error(Ma(185));o0(P,$,ce),(!(to&2)||P!==$s)&&(P===$s&&(!(to&2)&&(wy|=$),Bs===4&&Ah(P,dl)),du(P,ce),$===1&&to===0&&!(O.mode&1)&&(Ed=ws()+500,yy&&Bh()))}function du(P,O){var $=P.callbackNode;mE(P,O);var ce=Bg(P,P===$s?dl:0);if(ce===0)$!==null&&n3($),P.callbackNode=null,P.callbackPriority=0;else if(O=ce&-ce,P.callbackPriority!==O){if($!=null&&n3($),O===1)P.tag===0?y8(K3.bind(null,P)):f5(K3.bind(null,P)),v8(function(){!(to&6)&&Bh()}),$=null;else{switch(BT(ce)){case 1:$=Mx;break;case 4:$=zT;break;case 16:$=Ng;break;case 536870912:$=OT;break;default:$=Ng}$=uA($,rA.bind(null,P))}P.callbackPriority=O,P.callbackNode=$}}function rA(P,O){if(wg=-1,Tg=0,to&6)throw Error(Ma(327));var $=P.callbackNode;if(gd()&&P.callbackNode!==$)return null;var ce=Bg(P,P===$s?dl:0);if(ce===0)return null;if(ce&30||ce&P.expiredLanes||O)O=ny(P,ce);else{O=ce;var Ae=to;to|=2;var ze=aA();($s!==P||dl!==O)&&(Ic=null,Ed=ws()+500,ov(P,O));do try{N8();break}catch(V){nA(P,V)}while(1);Ox(),ey.current=ze,to=Ae,Rs!==null?O=0:($s=null,dl=0,O=Bs)}if(O!==0){if(O===2&&(Ae=b1(P),Ae!==0&&(ce=Ae,O=X1(P,Ae))),O===1)throw $=$p,ov(P,0),Ah(P,ce),du(P,ws()),$;if(O===6)Ah(P,ce);else{if(Ae=P.current.alternate,!(ce&30)&&!z8(Ae)&&(O=ny(P,ce),O===2&&(ze=b1(P),ze!==0&&(ce=ze,O=X1(P,ze))),O===1))throw $=$p,ov(P,0),Ah(P,ce),du(P,ws()),$;switch(P.finishedWork=Ae,P.finishedLanes=ce,O){case 0:case 1:throw Error(Ma(345));case 2:tv(P,fu,Ic);break;case 3:if(Ah(P,ce),(ce&130023424)===ce&&(O=$x+500-ws(),10<O)){if(Bg(P,0)!==0)break;if(Ae=P.suspendedLanes,(Ae&ce)!==ce){Zl(),P.pingedLanes|=P.suspendedLanes&Ae;break}P.timeoutHandle=L1(tv.bind(null,P,fu,Ic),O);break}tv(P,fu,Ic);break;case 4:if(Ah(P,ce),(ce&4194240)===ce)break;for(O=P.eventTimes,Ae=-1;0<ce;){var G=31-Of(ce);ze=1<<G,G=O[G],G>Ae&&(Ae=G),ce&=~ze}if(ce=Ae,ce=ws()-ce,ce=(120>ce?120:480>ce?480:1080>ce?1080:1920>ce?1920:3e3>ce?3e3:4320>ce?4320:1960*F8(ce/1960))-ce,10<ce){P.timeoutHandle=L1(tv.bind(null,P,fu,Ic),ce);break}tv(P,fu,Ic);break;case 5:tv(P,fu,Ic);break;default:throw Error(Ma(329))}}}return du(P,ws()),P.callbackNode===$?rA.bind(null,P):null}function X1(P,O){var $=_p;return P.current.memoizedState.isDehydrated&&(ov(P,O).flags|=256),P=ny(P,O),P!==2&&(O=fu,fu=$,O!==null&&K1(O)),P}function K1(P){fu===null?fu=P:fu.push.apply(fu,P)}function z8(P){for(var O=P;;){if(O.flags&16384){var $=O.updateQueue;if($!==null&&($=$.stores,$!==null))for(var ce=0;ce<$.length;ce++){var Ae=$[ce],ze=Ae.getSnapshot;Ae=Ae.value;try{if(!Uf(ze(),Ae))return!1}catch{return!1}}}if($=O.child,O.subtreeFlags&16384&&$!==null)$.return=O,O=$;else{if(O===P)break;for(;O.sibling===null;){if(O.return===null||O.return===P)return!0;O=O.return}O.sibling.return=O.return,O=O.sibling}}return!0}function Ah(P,O){for(O&=~Qx,O&=~wy,P.suspendedLanes|=O,P.pingedLanes&=~O,P=P.expirationTimes;0<O;){var $=31-Of(O),ce=1<<$;P[$]=-1,O&=~ce}}function K3(P){if(to&6)throw Error(Ma(327));gd();var O=Bg(P,0);if(!(O&1))return du(P,ws()),null;var $=ny(P,O);if(P.tag!==0&&$===2){var ce=b1(P);ce!==0&&(O=ce,$=X1(P,ce))}if($===1)throw $=$p,ov(P,0),Ah(P,O),du(P,ws()),$;if($===6)throw Error(Ma(345));return P.finishedWork=P.current.alternate,P.finishedLanes=O,tv(P,fu,Ic),du(P,ws()),null}function qx(P,O){var $=to;to|=1;try{return P(O)}finally{to=$,to===0&&(Ed=ws()+500,yy&&Bh())}}function vv(P){Eh!==null&&Eh.tag===0&&!(to&6)&&gd();var O=to;to|=1;var $=af.transition,ce=xo;try{if(af.transition=null,xo=1,P)return P()}finally{xo=ce,af.transition=$,to=O,!(to&6)&&Bh()}}function e2(){_u=ld.current,Vo(ld)}function ov(P,O){P.finishedWork=null,P.finishedLanes=0;var $=P.timeoutHandle;if($!==-1&&(P.timeoutHandle=-1,h8($)),Rs!==null)for($=Rs.return;$!==null;){var ce=$;switch(Ix(ce),ce.tag){case 1:ce=ce.type.childContextTypes,ce!=null&&Wg();break;case 3:Md(),Vo(hu),Vo(Il),Gx();break;case 5:Vx(ce);break;case 4:Md();break;case 13:Vo(as);break;case 19:Vo(as);break;case 10:Nx(ce.type._context);break;case 22:case 23:e2()}$=$.return}if($s=P,Rs=P=Ih(P.current,null),dl=_u=O,Bs=0,$p=null,Qx=wy=hv=0,fu=_p=null,nv!==null){for(O=0;O<nv.length;O++)if($=nv[O],ce=$.interleaved,ce!==null){$.interleaved=null;var Ae=ce.next,ze=$.pending;if(ze!==null){var G=ze.next;ze.next=Ae,ce.next=G}$.pending=ce}nv=null}return P}function nA(P,O){do{var $=Rs;try{if(Ox(),mg.current=qg,$g){for(var ce=is.memoizedState;ce!==null;){var Ae=ce.queue;Ae!==null&&(Ae.pending=null),ce=ce.next}$g=!1}if(cv=0,Qs=Ns=is=null,Pp=!1,Kp=0,Jx.current=null,$===null||$.return===null){Bs=1,$p=O,Rs=null;break}e:{var ze=P,G=$.return,V=$,e=O;if(O=dl,V.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var g=e,R=V,i=R.tag;if(!(R.mode&1)&&(i===0||i===11||i===15)){var L=R.alternate;L?(R.updateQueue=L.updateQueue,R.memoizedState=L.memoizedState,R.lanes=L.lanes):(R.updateQueue=null,R.memoizedState=null)}var T=z3(G);if(T!==null){T.flags&=-257,O3(T,G,V,ze,O),T.mode&1&&F3(ze,g,O),O=T,e=g;var v=O.updateQueue;if(v===null){var p=new Set;p.add(e),O.updateQueue=p}else v.add(e);break e}else{if(!(O&1)){F3(ze,g,O),t2();break e}e=Error(Ma(426))}}else if(Xo&&V.mode&1){var t=z3(G);if(t!==null){!(t.flags&65536)&&(t.flags|=256),O3(t,G,V,ze,O),Fx(Sd(e,V));break e}}ze=e=Sd(e,V),Bs!==4&&(Bs=2),_p===null?_p=[ze]:_p.push(ze),ze=G;do{switch(ze.tag){case 3:ze.flags|=65536,O&=-O,ze.lanes|=O;var r=U5(ze,e,O);L3(ze,r);break e;case 1:V=e;var l=ze.type,n=ze.stateNode;if(!(ze.flags&128)&&(typeof l.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Dh===null||!Dh.has(n)))){ze.flags|=65536,O&=-O,ze.lanes|=O;var s=H5(ze,V,O);L3(ze,s);break e}}ze=ze.return}while(ze!==null)}oA($)}catch(c){O=c,Rs===$&&$!==null&&(Rs=$=$.return);continue}break}while(1)}function aA(){var P=ey.current;return ey.current=qg,P===null?qg:P}function t2(){(Bs===0||Bs===3||Bs===2)&&(Bs=4),$s===null||!(hv&268435455)&&!(wy&268435455)||Ah($s,dl)}function ny(P,O){var $=to;to|=2;var ce=aA();($s!==P||dl!==O)&&(Ic=null,ov(P,O));do try{O8();break}catch(Ae){nA(P,Ae)}while(1);if(Ox(),to=$,ey.current=ce,Rs!==null)throw Error(Ma(261));return $s=null,dl=0,Bs}function O8(){for(;Rs!==null;)iA(Rs)}function N8(){for(;Rs!==null&&!uE();)iA(Rs)}function iA(P){var O=lA(P.alternate,P,_u);P.memoizedProps=P.pendingProps,O===null?oA(P):Rs=O,Jx.current=null}function oA(P){var O=P;do{var $=O.alternate;if(P=O.return,O.flags&32768){if($=_8($,O),$!==null){$.flags&=32767,Rs=$;return}if(P!==null)P.flags|=32768,P.subtreeFlags=0,P.deletions=null;else{Bs=6,Rs=null;return}}else if($=R8($,O,_u),$!==null){Rs=$;return}if(O=O.sibling,O!==null){Rs=O;return}Rs=O=P}while(O!==null);Bs===0&&(Bs=5)}function tv(P,O,$){var ce=xo,Ae=af.transition;try{af.transition=null,xo=1,B8(P,O,$,ce)}finally{af.transition=Ae,xo=ce}return null}function B8(P,O,$,ce){do gd();while(Eh!==null);if(to&6)throw Error(Ma(327));$=P.finishedWork;var Ae=P.finishedLanes;if($===null)return null;if(P.finishedWork=null,P.finishedLanes=0,$===P.current)throw Error(Ma(177));P.callbackNode=null,P.callbackPriority=0;var ze=$.lanes|$.childLanes;if(xE(P,ze),P===$s&&(Rs=$s=null,dl=0),!($.subtreeFlags&2064)&&!($.flags&2064)||lg||(lg=!0,uA(Ng,function(){return gd(),null})),ze=($.flags&15990)!==0,$.subtreeFlags&15990||ze){ze=af.transition,af.transition=null;var G=xo;xo=1;var V=to;to|=4,Jx.current=null,k8(P,$),eA($,P),i8(E1),Ug=!!S1,E1=S1=null,P.current=$,I8($),fE(),to=V,xo=G,af.transition=ze}else P.current=$;if(lg&&(lg=!1,Eh=P,ry=Ae),ze=P.pendingLanes,ze===0&&(Dh=null),vE($.stateNode),du(P,ws()),O!==null)for(ce=P.onRecoverableError,$=0;$<O.length;$++)Ae=O[$],ce(Ae.value,{componentStack:Ae.stack,digest:Ae.digest});if(ty)throw ty=!1,P=Y1,Y1=null,P;return ry&1&&P.tag!==0&&gd(),ze=P.pendingLanes,ze&1?P===Z1?Dp++:(Dp=0,Z1=P):Dp=0,Bh(),null}function gd(){if(Eh!==null){var P=BT(ry),O=af.transition,$=xo;try{if(af.transition=null,xo=16>P?16:P,Eh===null)var ce=!1;else{if(P=Eh,Eh=null,ry=0,to&6)throw Error(Ma(331));var Ae=to;for(to|=4,Za=P.current;Za!==null;){var ze=Za,G=ze.child;if(Za.flags&16){var V=ze.deletions;if(V!==null){for(var e=0;e<V.length;e++){var g=V[e];for(Za=g;Za!==null;){var R=Za;switch(R.tag){case 0:case 11:case 15:Rp(8,R,ze)}var i=R.child;if(i!==null)i.return=R,Za=i;else for(;Za!==null;){R=Za;var L=R.sibling,T=R.return;if(Q5(R),R===g){Za=null;break}if(L!==null){L.return=T,Za=L;break}Za=T}}}var v=ze.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var t=p.sibling;p.sibling=null,p=t}while(p!==null)}}Za=ze}}if(ze.subtreeFlags&2064&&G!==null)G.return=ze,Za=G;else e:for(;Za!==null;){if(ze=Za,ze.flags&2048)switch(ze.tag){case 0:case 11:case 15:Rp(9,ze,ze.return)}var r=ze.sibling;if(r!==null){r.return=ze.return,Za=r;break e}Za=ze.return}}var l=P.current;for(Za=l;Za!==null;){G=Za;var n=G.child;if(G.subtreeFlags&2064&&n!==null)n.return=G,Za=n;else e:for(G=l;Za!==null;){if(V=Za,V.flags&2048)try{switch(V.tag){case 0:case 11:case 15:by(9,V)}}catch(c){ds(V,V.return,c)}if(V===G){Za=null;break e}var s=V.sibling;if(s!==null){s.return=V.return,Za=s;break e}Za=V.return}}if(to=Ae,Bh(),hc&&typeof hc.onPostCommitFiberRoot=="function")try{hc.onPostCommitFiberRoot(hy,P)}catch{}ce=!0}return ce}finally{xo=$,af.transition=O}}return!1}function J3(P,O,$){O=Sd($,O),O=U5(P,O,1),P=_h(P,O,1),O=Zl(),P!==null&&(o0(P,1,O),du(P,O))}function ds(P,O,$){if(P.tag===3)J3(P,P,$);else for(;O!==null;){if(O.tag===3){J3(O,P,$);break}else if(O.tag===1){var ce=O.stateNode;if(typeof O.type.getDerivedStateFromError=="function"||typeof ce.componentDidCatch=="function"&&(Dh===null||!Dh.has(ce))){P=Sd($,P),P=H5(O,P,1),O=_h(O,P,1),P=Zl(),O!==null&&(o0(O,1,P),du(O,P));break}}O=O.return}}function U8(P,O,$){var ce=P.pingCache;ce!==null&&ce.delete(O),O=Zl(),P.pingedLanes|=P.suspendedLanes&$,$s===P&&(dl&$)===$&&(Bs===4||Bs===3&&(dl&130023424)===dl&&500>ws()-$x?ov(P,0):Qx|=$),du(P,O)}function sA(P,O){O===0&&(P.mode&1?(O=$0,$0<<=1,!($0&130023424)&&($0=4194304)):O=1);var $=Zl();P=Wc(P,O),P!==null&&(o0(P,O,$),du(P,$))}function H8(P){var O=P.memoizedState,$=0;O!==null&&($=O.retryLane),sA(P,$)}function V8(P,O){var $=0;switch(P.tag){case 13:var ce=P.stateNode,Ae=P.memoizedState;Ae!==null&&($=Ae.retryLane);break;case 19:ce=P.stateNode;break;default:throw Error(Ma(314))}ce!==null&&ce.delete(O),sA(P,$)}var lA;lA=function(P,O,$){if(P!==null)if(P.memoizedProps!==O.pendingProps||hu.current)cu=!0;else{if(!(P.lanes&$)&&!(O.flags&128))return cu=!1,P8(P,O,$);cu=!!(P.flags&131072)}else cu=!1,Xo&&O.flags&1048576&&c5(O,Zg,O.index);switch(O.lanes=0,O.tag){case 2:var ce=O.type;bg(P,O),P=O.pendingProps;var Ae=wd(O,Il.current);pd(O,$),Ae=jx(null,O,ce,P,Ae,$);var ze=Yx();return O.flags|=1,typeof Ae=="object"&&Ae!==null&&typeof Ae.render=="function"&&Ae.$$typeof===void 0?(O.tag=1,O.memoizedState=null,O.updateQueue=null,vu(ce)?(ze=!0,jg(O)):ze=!1,O.memoizedState=Ae.state!==null&&Ae.state!==void 0?Ae.state:null,Ux(O),Ae.updater=my,O.stateNode=Ae,Ae._reactInternals=O,F1(O,ce,P,$),O=N1(null,O,ce,!0,ze,$)):(O.tag=0,Xo&&ze&&kx(O),Yl(null,O,Ae,$),O=O.child),O;case 16:ce=O.elementType;e:{switch(bg(P,O),P=O.pendingProps,Ae=ce._init,ce=Ae(ce._payload),O.type=ce,Ae=O.tag=W8(ce),P=kf(ce,P),Ae){case 0:O=O1(null,O,ce,P,$);break e;case 1:O=U3(null,O,ce,P,$);break e;case 11:O=N3(null,O,ce,P,$);break e;case 14:O=B3(null,O,ce,kf(ce.type,P),$);break e}throw Error(Ma(306,ce,""))}return O;case 0:return ce=O.type,Ae=O.pendingProps,Ae=O.elementType===ce?Ae:kf(ce,Ae),O1(P,O,ce,Ae,$);case 1:return ce=O.type,Ae=O.pendingProps,Ae=O.elementType===ce?Ae:kf(ce,Ae),U3(P,O,ce,Ae,$);case 3:e:{if(j5(O),P===null)throw Error(Ma(387));ce=O.pendingProps,ze=O.memoizedState,Ae=ze.element,p5(P,O),Jg(O,ce,null,$);var G=O.memoizedState;if(ce=G.element,ze.isDehydrated)if(ze={element:ce,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},O.updateQueue.baseState=ze,O.memoizedState=ze,O.flags&256){Ae=Sd(Error(Ma(423)),O),O=H3(P,O,ce,$,Ae);break e}else if(ce!==Ae){Ae=Sd(Error(Ma(424)),O),O=H3(P,O,ce,$,Ae);break e}else for(ku=Rh(O.stateNode.containerInfo.firstChild),Fu=O,Xo=!0,zf=null,$=x5(O,null,ce,$),O.child=$;$;)$.flags=$.flags&-3|4096,$=$.sibling;else{if(Td(),ce===Ae){O=jc(P,O,$);break e}Yl(P,O,ce,$)}O=O.child}return O;case 5:return b5(O),P===null&&D1(O),ce=O.type,Ae=O.pendingProps,ze=P!==null?P.memoizedProps:null,G=Ae.children,C1(ce,Ae)?G=null:ze!==null&&C1(ce,ze)&&(O.flags|=32),W5(P,O),Yl(P,O,G,$),O.child;case 6:return P===null&&D1(O),null;case 13:return Y5(P,O,$);case 4:return Hx(O,O.stateNode.containerInfo),ce=O.pendingProps,P===null?O.child=Ad(O,null,ce,$):Yl(P,O,ce,$),O.child;case 11:return ce=O.type,Ae=O.pendingProps,Ae=O.elementType===ce?Ae:kf(ce,Ae),N3(P,O,ce,Ae,$);case 7:return Yl(P,O,O.pendingProps,$),O.child;case 8:return Yl(P,O,O.pendingProps.children,$),O.child;case 12:return Yl(P,O,O.pendingProps.children,$),O.child;case 10:e:{if(ce=O.type._context,Ae=O.pendingProps,ze=O.memoizedProps,G=Ae.value,zo(Xg,ce._currentValue),ce._currentValue=G,ze!==null)if(Uf(ze.value,G)){if(ze.children===Ae.children&&!hu.current){O=jc(P,O,$);break e}}else for(ze=O.child,ze!==null&&(ze.return=O);ze!==null;){var V=ze.dependencies;if(V!==null){G=ze.child;for(var e=V.firstContext;e!==null;){if(e.context===ce){if(ze.tag===1){e=Bc(-1,$&-$),e.tag=2;var g=ze.updateQueue;if(g!==null){g=g.shared;var R=g.pending;R===null?e.next=e:(e.next=R.next,R.next=e),g.pending=e}}ze.lanes|=$,e=ze.alternate,e!==null&&(e.lanes|=$),k1(ze.return,$,O),V.lanes|=$;break}e=e.next}}else if(ze.tag===10)G=ze.type===O.type?null:ze.child;else if(ze.tag===18){if(G=ze.return,G===null)throw Error(Ma(341));G.lanes|=$,V=G.alternate,V!==null&&(V.lanes|=$),k1(G,$,O),G=ze.sibling}else G=ze.child;if(G!==null)G.return=ze;else for(G=ze;G!==null;){if(G===O){G=null;break}if(ze=G.sibling,ze!==null){ze.return=G.return,G=ze;break}G=G.return}ze=G}Yl(P,O,Ae.children,$),O=O.child}return O;case 9:return Ae=O.type,ce=O.pendingProps.children,pd(O,$),Ae=sf(Ae),ce=ce(Ae),O.flags|=1,Yl(P,O,ce,$),O.child;case 14:return ce=O.type,Ae=kf(ce,O.pendingProps),Ae=kf(ce.type,Ae),B3(P,O,ce,Ae,$);case 15:return V5(P,O,O.type,O.pendingProps,$);case 17:return ce=O.type,Ae=O.pendingProps,Ae=O.elementType===ce?Ae:kf(ce,Ae),bg(P,O),O.tag=1,vu(ce)?(P=!0,jg(O)):P=!1,pd(O,$),y5(O,ce,Ae),F1(O,ce,Ae,$),N1(null,O,ce,!0,P,$);case 19:return Z5(P,O,$);case 22:return G5(P,O,$)}throw Error(Ma(156,O.tag))};function uA(P,O){return FT(P,O)}function G8(P,O,$,ce){this.tag=P,this.key=$,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=O,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ce,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nf(P,O,$,ce){return new G8(P,O,$,ce)}function r2(P){return P=P.prototype,!(!P||!P.isReactComponent)}function W8(P){if(typeof P=="function")return r2(P)?1:0;if(P!=null){if(P=P.$$typeof,P===wx)return 11;if(P===Tx)return 14}return 2}function Ih(P,O){var $=P.alternate;return $===null?($=nf(P.tag,O,P.key,P.mode),$.elementType=P.elementType,$.type=P.type,$.stateNode=P.stateNode,$.alternate=P,P.alternate=$):($.pendingProps=O,$.type=P.type,$.flags=0,$.subtreeFlags=0,$.deletions=null),$.flags=P.flags&14680064,$.childLanes=P.childLanes,$.lanes=P.lanes,$.child=P.child,$.memoizedProps=P.memoizedProps,$.memoizedState=P.memoizedState,$.updateQueue=P.updateQueue,O=P.dependencies,$.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext},$.sibling=P.sibling,$.index=P.index,$.ref=P.ref,$}function Ag(P,O,$,ce,Ae,ze){var G=2;if(ce=P,typeof P=="function")r2(P)&&(G=1);else if(typeof P=="string")G=5;else e:switch(P){case $v:return sv($.children,Ae,ze,O);case bx:G=8,Ae|=8;break;case i1:return P=nf(12,$,O,Ae|2),P.elementType=i1,P.lanes=ze,P;case o1:return P=nf(13,$,O,Ae),P.elementType=o1,P.lanes=ze,P;case s1:return P=nf(19,$,O,Ae),P.elementType=s1,P.lanes=ze,P;case mT:return Ty($,Ae,ze,O);default:if(typeof P=="object"&&P!==null)switch(P.$$typeof){case gT:G=10;break e;case yT:G=9;break e;case wx:G=11;break e;case Tx:G=14;break e;case bh:G=16,ce=null;break e}throw Error(Ma(130,P==null?P:typeof P,""))}return O=nf(G,$,O,Ae),O.elementType=P,O.type=ce,O.lanes=ze,O}function sv(P,O,$,ce){return P=nf(7,P,ce,O),P.lanes=$,P}function Ty(P,O,$,ce){return P=nf(22,P,ce,O),P.elementType=mT,P.lanes=$,P.stateNode={isHidden:!1},P}function jm(P,O,$){return P=nf(6,P,null,O),P.lanes=$,P}function Ym(P,O,$){return O=nf(4,P.children!==null?P.children:[],P.key,O),O.lanes=$,O.stateNode={containerInfo:P.containerInfo,pendingChildren:null,implementation:P.implementation},O}function j8(P,O,$,ce,Ae){this.tag=O,this.containerInfo=P,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Em(0),this.expirationTimes=Em(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Em(0),this.identifierPrefix=ce,this.onRecoverableError=Ae,this.mutableSourceEagerHydrationData=null}function n2(P,O,$,ce,Ae,ze,G,V,e){return P=new j8(P,O,$,V,e),O===1?(O=1,ze===!0&&(O|=8)):O=0,ze=nf(3,null,null,O),P.current=ze,ze.stateNode=P,ze.memoizedState={element:ce,isDehydrated:$,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ux(ze),P}function Y8(P,O,$){var ce=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qv,key:ce==null?null:""+ce,children:P,containerInfo:O,implementation:$}}function fA(P){if(!P)return zh;P=P._reactInternals;e:{if(gv(P)!==P||P.tag!==1)throw Error(Ma(170));var O=P;do{switch(O.tag){case 3:O=O.stateNode.context;break e;case 1:if(vu(O.type)){O=O.stateNode.__reactInternalMemoizedMergedChildContext;break e}}O=O.return}while(O!==null);throw Error(Ma(171))}if(P.tag===1){var $=P.type;if(vu($))return u5(P,$,O)}return O}function cA(P,O,$,ce,Ae,ze,G,V,e){return P=n2($,ce,!0,P,Ae,ze,G,V,e),P.context=fA(null),$=P.current,ce=Zl(),Ae=kh($),ze=Bc(ce,Ae),ze.callback=O??null,_h($,ze,Ae),P.current.lanes=Ae,o0(P,Ae,ce),du(P,ce),P}function Ay(P,O,$,ce){var Ae=O.current,ze=Zl(),G=kh(Ae);return $=fA($),O.context===null?O.context=$:O.pendingContext=$,O=Bc(ze,G),O.payload={element:P},ce=ce===void 0?null:ce,ce!==null&&(O.callback=ce),P=_h(Ae,O,G),P!==null&&(Nf(P,Ae,G,ze),yg(P,Ae,G)),G}function ay(P){if(P=P.current,!P.child)return null;switch(P.child.tag){case 5:return P.child.stateNode;default:return P.child.stateNode}}function Q3(P,O){if(P=P.memoizedState,P!==null&&P.dehydrated!==null){var $=P.retryLane;P.retryLane=$!==0&&$<O?$:O}}function a2(P,O){Q3(P,O),(P=P.alternate)&&Q3(P,O)}function Z8(){return null}var hA=typeof reportError=="function"?reportError:function(P){console.error(P)};function i2(P){this._internalRoot=P}My.prototype.render=i2.prototype.render=function(P){var O=this._internalRoot;if(O===null)throw Error(Ma(409));Ay(P,O,null,null)};My.prototype.unmount=i2.prototype.unmount=function(){var P=this._internalRoot;if(P!==null){this._internalRoot=null;var O=P.containerInfo;vv(function(){Ay(null,P,null,null)}),O[Gc]=null}};function My(P){this._internalRoot=P}My.prototype.unstable_scheduleHydration=function(P){if(P){var O=VT();P={blockedOn:null,target:P,priority:O};for(var $=0;$<Th.length&&O!==0&&O<Th[$].priority;$++);Th.splice($,0,P),$===0&&WT(P)}};function o2(P){return!(!P||P.nodeType!==1&&P.nodeType!==9&&P.nodeType!==11)}function Sy(P){return!(!P||P.nodeType!==1&&P.nodeType!==9&&P.nodeType!==11&&(P.nodeType!==8||P.nodeValue!==" react-mount-point-unstable "))}function $3(){}function X8(P,O,$,ce,Ae){if(Ae){if(typeof ce=="function"){var ze=ce;ce=function(){var g=ay(G);ze.call(g)}}var G=cA(O,ce,P,0,null,!1,!1,"",$3);return P._reactRootContainer=G,P[Gc]=G.current,Wp(P.nodeType===8?P.parentNode:P),vv(),G}for(;Ae=P.lastChild;)P.removeChild(Ae);if(typeof ce=="function"){var V=ce;ce=function(){var g=ay(e);V.call(g)}}var e=n2(P,0,!1,null,null,!1,!1,"",$3);return P._reactRootContainer=e,P[Gc]=e.current,Wp(P.nodeType===8?P.parentNode:P),vv(function(){Ay(O,e,$,ce)}),e}function Ey(P,O,$,ce,Ae){var ze=$._reactRootContainer;if(ze){var G=ze;if(typeof Ae=="function"){var V=Ae;Ae=function(){var e=ay(G);V.call(e)}}Ay(O,G,P,Ae)}else G=X8($,O,P,Ae,ce);return ay(G)}UT=function(P){switch(P.tag){case 3:var O=P.stateNode;if(O.current.memoizedState.isDehydrated){var $=Tp(O.pendingLanes);$!==0&&(Sx(O,$|1),du(O,ws()),!(to&6)&&(Ed=ws()+500,Bh()))}break;case 13:vv(function(){var ce=Wc(P,1);if(ce!==null){var Ae=Zl();Nf(ce,P,1,Ae)}}),a2(P,1)}};Ex=function(P){if(P.tag===13){var O=Wc(P,134217728);if(O!==null){var $=Zl();Nf(O,P,134217728,$)}a2(P,134217728)}};HT=function(P){if(P.tag===13){var O=kh(P),$=Wc(P,O);if($!==null){var ce=Zl();Nf($,P,O,ce)}a2(P,O)}};VT=function(){return xo};GT=function(P,O){var $=xo;try{return xo=P,O()}finally{xo=$}};y1=function(P,O,$){switch(O){case"input":if(f1(P,$),O=$.name,$.type==="radio"&&O!=null){for($=P;$.parentNode;)$=$.parentNode;for($=$.querySelectorAll("input[name="+JSON.stringify(""+O)+'][type="radio"]'),O=0;O<$.length;O++){var ce=$[O];if(ce!==P&&ce.form===P.form){var Ae=gy(ce);if(!Ae)throw Error(Ma(90));bT(ce),f1(ce,Ae)}}}break;case"textarea":TT(P,$);break;case"select":O=$.value,O!=null&&cd(P,!!$.multiple,O,!1)}};PT=qx;RT=vv;var K8={usingClientEntryPoint:!1,Events:[l0,rd,gy,CT,LT,qx]},vp={findFiberByHostInstance:rv,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},J8={bundleType:vp.bundleType,version:vp.version,rendererPackageName:vp.rendererPackageName,rendererConfig:vp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xc.ReactCurrentDispatcher,findHostInstanceByFiber:function(P){return P=kT(P),P===null?null:P.stateNode},findFiberByHostInstance:vp.findFiberByHostInstance||Z8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ug=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ug.isDisabled&&ug.supportsFiber)try{hy=ug.inject(J8),hc=ug}catch{}}Nu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K8;Nu.createPortal=function(P,O){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o2(O))throw Error(Ma(200));return Y8(P,O,null,$)};Nu.createRoot=function(P,O){if(!o2(P))throw Error(Ma(299));var $=!1,ce="",Ae=hA;return O!=null&&(O.unstable_strictMode===!0&&($=!0),O.identifierPrefix!==void 0&&(ce=O.identifierPrefix),O.onRecoverableError!==void 0&&(Ae=O.onRecoverableError)),O=n2(P,1,!1,null,null,$,!1,ce,Ae),P[Gc]=O.current,Wp(P.nodeType===8?P.parentNode:P),new i2(O)};Nu.findDOMNode=function(P){if(P==null)return null;if(P.nodeType===1)return P;var O=P._reactInternals;if(O===void 0)throw typeof P.render=="function"?Error(Ma(188)):(P=Object.keys(P).join(","),Error(Ma(268,P)));return P=kT(O),P=P===null?null:P.stateNode,P};Nu.flushSync=function(P){return vv(P)};Nu.hydrate=function(P,O,$){if(!Sy(O))throw Error(Ma(200));return Ey(null,P,O,!0,$)};Nu.hydrateRoot=function(P,O,$){if(!o2(P))throw Error(Ma(405));var ce=$!=null&&$.hydratedSources||null,Ae=!1,ze="",G=hA;if($!=null&&($.unstable_strictMode===!0&&(Ae=!0),$.identifierPrefix!==void 0&&(ze=$.identifierPrefix),$.onRecoverableError!==void 0&&(G=$.onRecoverableError)),O=cA(O,null,P,1,$??null,Ae,!1,ze,G),P[Gc]=O.current,Wp(P),ce)for(P=0;P<ce.length;P++)$=ce[P],Ae=$._getVersion,Ae=Ae($._source),O.mutableSourceEagerHydrationData==null?O.mutableSourceEagerHydrationData=[$,Ae]:O.mutableSourceEagerHydrationData.push($,Ae);return new My(O)};Nu.render=function(P,O,$){if(!Sy(O))throw Error(Ma(200));return Ey(null,P,O,!1,$)};Nu.unmountComponentAtNode=function(P){if(!Sy(P))throw Error(Ma(40));return P._reactRootContainer?(vv(function(){Ey(null,null,P,!1,function(){P._reactRootContainer=null,P[Gc]=null})}),!0):!1};Nu.unstable_batchedUpdates=qx;Nu.unstable_renderSubtreeIntoContainer=function(P,O,$,ce){if(!Sy($))throw Error(Ma(200));if(P==null||P._reactInternals===void 0)throw Error(Ma(38));return Ey(P,O,$,!1,ce)};Nu.version="18.2.0-next-9e3b772b8-20220608";function vA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vA)}catch(P){console.error(P)}}vA(),cT.exports=Nu;var Q8=cT.exports,q3=Q8;n1.createRoot=q3.createRoot,n1.hydrateRoot=q3.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fo(){return fo=Object.assign?Object.assign.bind():function(P){for(var O=1;O<arguments.length;O++){var $=arguments[O];for(var ce in $)Object.prototype.hasOwnProperty.call($,ce)&&(P[ce]=$[ce])}return P},fo.apply(this,arguments)}var Ls;(function(P){P.Pop="POP",P.Push="PUSH",P.Replace="REPLACE"})(Ls||(Ls={}));const ew="popstate";function $8(P){P===void 0&&(P={});function O(ce,Ae){let{pathname:ze,search:G,hash:V}=ce.location;return qp("",{pathname:ze,search:G,hash:V},Ae.state&&Ae.state.usr||null,Ae.state&&Ae.state.key||"default")}function $(ce,Ae){return typeof Ae=="string"?Ae:f0(Ae)}return eC(O,$,null,P)}function qi(P,O){if(P===!1||P===null||typeof P>"u")throw new Error(O)}function Cd(P,O){if(!P){typeof console<"u"&&console.warn(O);try{throw new Error(O)}catch{}}}function q8(){return Math.random().toString(36).substr(2,8)}function tw(P,O){return{usr:P.state,key:P.key,idx:O}}function qp(P,O,$,ce){return $===void 0&&($=null),fo({pathname:typeof P=="string"?P:P.pathname,search:"",hash:""},typeof O=="string"?Kc(O):O,{state:$,key:O&&O.key||ce||q8()})}function f0(P){let{pathname:O="/",search:$="",hash:ce=""}=P;return $&&$!=="?"&&(O+=$.charAt(0)==="?"?$:"?"+$),ce&&ce!=="#"&&(O+=ce.charAt(0)==="#"?ce:"#"+ce),O}function Kc(P){let O={};if(P){let $=P.indexOf("#");$>=0&&(O.hash=P.substr($),P=P.substr(0,$));let ce=P.indexOf("?");ce>=0&&(O.search=P.substr(ce),P=P.substr(0,ce)),P&&(O.pathname=P)}return O}function eC(P,O,$,ce){ce===void 0&&(ce={});let{window:Ae=document.defaultView,v5Compat:ze=!1}=ce,G=Ae.history,V=Ls.Pop,e=null,g=R();g==null&&(g=0,G.replaceState(fo({},G.state,{idx:g}),""));function R(){return(G.state||{idx:null}).idx}function i(){V=Ls.Pop;let t=R(),r=t==null?null:t-g;g=t,e&&e({action:V,location:p.location,delta:r})}function L(t,r){V=Ls.Push;let l=qp(p.location,t,r);$&&$(l,t),g=R()+1;let n=tw(l,g),s=p.createHref(l);try{G.pushState(n,"",s)}catch(c){if(c instanceof DOMException&&c.name==="DataCloneError")throw c;Ae.location.assign(s)}ze&&e&&e({action:V,location:p.location,delta:1})}function T(t,r){V=Ls.Replace;let l=qp(p.location,t,r);$&&$(l,t),g=R();let n=tw(l,g),s=p.createHref(l);G.replaceState(n,"",s),ze&&e&&e({action:V,location:p.location,delta:0})}function v(t){let r=Ae.location.origin!=="null"?Ae.location.origin:Ae.location.href,l=typeof t=="string"?t:f0(t);return qi(r,"No window.location.(origin|href) available to create URL for href: "+l),new URL(l,r)}let p={get action(){return V},get location(){return P(Ae,G)},listen(t){if(e)throw new Error("A history only accepts one active listener");return Ae.addEventListener(ew,i),e=t,()=>{Ae.removeEventListener(ew,i),e=null}},createHref(t){return O(Ae,t)},createURL:v,encodeLocation(t){let r=v(t);return{pathname:r.pathname,search:r.search,hash:r.hash}},push:L,replace:T,go(t){return G.go(t)}};return p}var Os;(function(P){P.data="data",P.deferred="deferred",P.redirect="redirect",P.error="error"})(Os||(Os={}));const tC=new Set(["lazy","caseSensitive","path","id","index","children"]);function rC(P){return P.index===!0}function J1(P,O,$,ce){return $===void 0&&($=[]),ce===void 0&&(ce={}),P.map((Ae,ze)=>{let G=[...$,ze],V=typeof Ae.id=="string"?Ae.id:G.join("-");if(qi(Ae.index!==!0||!Ae.children,"Cannot specify children on an index route"),qi(!ce[V],'Found a route id collision on id "'+V+`".  Route id's must be globally unique within Data Router usages`),rC(Ae)){let e=fo({},Ae,O(Ae),{id:V});return ce[V]=e,e}else{let e=fo({},Ae,O(Ae),{id:V,children:void 0});return ce[V]=e,Ae.children&&(e.children=J1(Ae.children,O,G,ce)),e}})}function ud(P,O,$){$===void 0&&($="/");let ce=typeof O=="string"?Kc(O):O,Ae=c0(ce.pathname||"/",$);if(Ae==null)return null;let ze=dA(P);nC(ze);let G=null;for(let V=0;G==null&&V<ze.length;++V)G=hC(ze[V],pC(Ae));return G}function dA(P,O,$,ce){O===void 0&&(O=[]),$===void 0&&($=[]),ce===void 0&&(ce="");let Ae=(ze,G,V)=>{let e={relativePath:V===void 0?ze.path||"":V,caseSensitive:ze.caseSensitive===!0,childrenIndex:G,route:ze};e.relativePath.startsWith("/")&&(qi(e.relativePath.startsWith(ce),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+ce+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(ce.length));let g=lv([ce,e.relativePath]),R=$.concat(e);ze.children&&ze.children.length>0&&(qi(ze.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),dA(ze.children,O,R,g)),!(ze.path==null&&!ze.index)&&O.push({path:g,score:fC(g,ze.index),routesMeta:R})};return P.forEach((ze,G)=>{var V;if(ze.path===""||!((V=ze.path)!=null&&V.includes("?")))Ae(ze,G);else for(let e of pA(ze.path))Ae(ze,G,e)}),O}function pA(P){let O=P.split("/");if(O.length===0)return[];let[$,...ce]=O,Ae=$.endsWith("?"),ze=$.replace(/\?$/,"");if(ce.length===0)return Ae?[ze,""]:[ze];let G=pA(ce.join("/")),V=[];return V.push(...G.map(e=>e===""?ze:[ze,e].join("/"))),Ae&&V.push(...G),V.map(e=>P.startsWith("/")&&e===""?"/":e)}function nC(P){P.sort((O,$)=>O.score!==$.score?$.score-O.score:cC(O.routesMeta.map(ce=>ce.childrenIndex),$.routesMeta.map(ce=>ce.childrenIndex)))}const aC=/^:\w+$/,iC=3,oC=2,sC=1,lC=10,uC=-2,rw=P=>P==="*";function fC(P,O){let $=P.split("/"),ce=$.length;return $.some(rw)&&(ce+=uC),O&&(ce+=oC),$.filter(Ae=>!rw(Ae)).reduce((Ae,ze)=>Ae+(aC.test(ze)?iC:ze===""?sC:lC),ce)}function cC(P,O){return P.length===O.length&&P.slice(0,-1).every((ce,Ae)=>ce===O[Ae])?P[P.length-1]-O[O.length-1]:0}function hC(P,O){let{routesMeta:$}=P,ce={},Ae="/",ze=[];for(let G=0;G<$.length;++G){let V=$[G],e=G===$.length-1,g=Ae==="/"?O:O.slice(Ae.length)||"/",R=vC({path:V.relativePath,caseSensitive:V.caseSensitive,end:e},g);if(!R)return null;Object.assign(ce,R.params);let i=V.route;ze.push({params:ce,pathname:lv([Ae,R.pathname]),pathnameBase:bC(lv([Ae,R.pathnameBase])),route:i}),R.pathnameBase!=="/"&&(Ae=lv([Ae,R.pathnameBase]))}return ze}function vC(P,O){typeof P=="string"&&(P={path:P,caseSensitive:!1,end:!0});let[$,ce]=dC(P.path,P.caseSensitive,P.end),Ae=O.match($);if(!Ae)return null;let ze=Ae[0],G=ze.replace(/(.)\/+$/,"$1"),V=Ae.slice(1);return{params:ce.reduce((g,R,i)=>{if(R==="*"){let L=V[i]||"";G=ze.slice(0,ze.length-L.length).replace(/(.)\/+$/,"$1")}return g[R]=gC(V[i]||"",R),g},{}),pathname:ze,pathnameBase:G,pattern:P}}function dC(P,O,$){O===void 0&&(O=!1),$===void 0&&($=!0),Cd(P==="*"||!P.endsWith("*")||P.endsWith("/*"),'Route path "'+P+'" will be treated as if it were '+('"'+P.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+P.replace(/\*$/,"/*")+'".'));let ce=[],Ae="^"+P.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(G,V)=>(ce.push(V),"/([^\\/]+)"));return P.endsWith("*")?(ce.push("*"),Ae+=P==="*"||P==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):$?Ae+="\\/*$":P!==""&&P!=="/"&&(Ae+="(?:(?=\\/|$))"),[new RegExp(Ae,O?void 0:"i"),ce]}function pC(P){try{return decodeURI(P)}catch(O){return Cd(!1,'The URL path "'+P+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+O+").")),P}}function gC(P,O){try{return decodeURIComponent(P)}catch($){return Cd(!1,'The value for the URL param "'+O+'" will not be decoded because'+(' the string "'+P+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+$+").")),P}}function c0(P,O){if(O==="/")return P;if(!P.toLowerCase().startsWith(O.toLowerCase()))return null;let $=O.endsWith("/")?O.length-1:O.length,ce=P.charAt($);return ce&&ce!=="/"?null:P.slice($)||"/"}function yC(P,O){O===void 0&&(O="/");let{pathname:$,search:ce="",hash:Ae=""}=typeof P=="string"?Kc(P):P;return{pathname:$?$.startsWith("/")?$:mC($,O):O,search:wC(ce),hash:TC(Ae)}}function mC(P,O){let $=O.replace(/\/+$/,"").split("/");return P.split("/").forEach(Ae=>{Ae===".."?$.length>1&&$.pop():Ae!=="."&&$.push(Ae)}),$.length>1?$.join("/"):"/"}function Zm(P,O,$,ce){return"Cannot include a '"+P+"' character in a manually specified "+("`to."+O+"` field ["+JSON.stringify(ce)+"].  Please separate it out to the ")+("`to."+$+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gA(P){return P.filter((O,$)=>$===0||O.route.path&&O.route.path.length>0)}function xC(P,O,$,ce){ce===void 0&&(ce=!1);let Ae;typeof P=="string"?Ae=Kc(P):(Ae=fo({},P),qi(!Ae.pathname||!Ae.pathname.includes("?"),Zm("?","pathname","search",Ae)),qi(!Ae.pathname||!Ae.pathname.includes("#"),Zm("#","pathname","hash",Ae)),qi(!Ae.search||!Ae.search.includes("#"),Zm("#","search","hash",Ae)));let ze=P===""||Ae.pathname==="",G=ze?"/":Ae.pathname,V;if(ce||G==null)V=$;else{let i=O.length-1;if(G.startsWith("..")){let L=G.split("/");for(;L[0]==="..";)L.shift(),i-=1;Ae.pathname=L.join("/")}V=i>=0?O[i]:"/"}let e=yC(Ae,V),g=G&&G!=="/"&&G.endsWith("/"),R=(ze||G===".")&&$.endsWith("/");return!e.pathname.endsWith("/")&&(g||R)&&(e.pathname+="/"),e}const lv=P=>P.join("/").replace(/\/\/+/g,"/"),bC=P=>P.replace(/\/+$/,"").replace(/^\/*/,"/"),wC=P=>!P||P==="?"?"":P.startsWith("?")?P:"?"+P,TC=P=>!P||P==="#"?"":P.startsWith("#")?P:"#"+P;class s2{constructor(O,$,ce,Ae){Ae===void 0&&(Ae=!1),this.status=O,this.statusText=$||"",this.internal=Ae,ce instanceof Error?(this.data=ce.toString(),this.error=ce):this.data=ce}}function yA(P){return P!=null&&typeof P.status=="number"&&typeof P.statusText=="string"&&typeof P.internal=="boolean"&&"data"in P}const mA=["post","put","patch","delete"],AC=new Set(mA),MC=["get",...mA],SC=new Set(MC),EC=new Set([301,302,303,307,308]),CC=new Set([307,308]),Xm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},LC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},nw={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PC=P=>({hasErrorBoundary:!!P.hasErrorBoundary});function RC(P){const O=P.window?P.window:typeof window<"u"?window:void 0,$=typeof O<"u"&&typeof O.document<"u"&&typeof O.document.createElement<"u",ce=!$;qi(P.routes.length>0,"You must provide a non-empty routes array to createRouter");let Ae;if(P.mapRouteProperties)Ae=P.mapRouteProperties;else if(P.detectErrorBoundary){let we=P.detectErrorBoundary;Ae=ke=>({hasErrorBoundary:we(ke)})}else Ae=PC;let ze={},G=J1(P.routes,Ae,void 0,ze),V,e=P.basename||"/",g=fo({v7_normalizeFormMethod:!1,v7_prependBasename:!1},P.future),R=null,i=new Set,L=null,T=null,v=null,p=P.hydrationData!=null,t=ud(G,P.history.location,e),r=null;if(t==null){let we=If(404,{pathname:P.history.location.pathname}),{matches:ke,route:Fe}=fw(G);t=ke,r={[Fe.id]:we}}let l=!t.some(we=>we.route.lazy)&&(!t.some(we=>we.route.loader)||P.hydrationData!=null),n,s={historyAction:P.history.action,location:P.history.location,matches:t,initialized:l,navigation:Xm,restoreScrollPosition:P.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:P.hydrationData&&P.hydrationData.loaderData||{},actionData:P.hydrationData&&P.hydrationData.actionData||null,errors:P.hydrationData&&P.hydrationData.errors||r,fetchers:new Map,blockers:new Map},c=Ls.Pop,u=!1,y,h=!1,b=!1,f=[],o=[],d=new Map,A=0,M=-1,C=new Map,m=new Set,S=new Map,x=new Map,a=new Map,E=!1;function w(){return R=P.history.listen(we=>{let{action:ke,location:Fe,delta:Pe}=we;if(E){E=!1;return}Cd(a.size===0||Pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ge=Se({currentLocation:s.location,nextLocation:Fe,historyAction:ke});if(Ge&&Pe!=null){E=!0,P.history.go(Pe*-1),xe(Ge,{state:"blocked",location:Fe,proceed(){xe(Ge,{state:"proceeding",proceed:void 0,reset:void 0,location:Fe}),P.history.go(Pe)},reset(){he(Ge),U({blockers:new Map(n.state.blockers)})}});return}return F(ke,Fe)}),s.initialized||F(Ls.Pop,s.location),n}function k(){R&&R(),i.clear(),y&&y.abort(),s.fetchers.forEach((we,ke)=>te(ke)),s.blockers.forEach((we,ke)=>he(ke))}function I(we){return i.add(we),()=>i.delete(we)}function U(we){s=fo({},s,we),i.forEach(ke=>ke(s))}function z(we,ke){var Fe,Pe;let Ge=s.actionData!=null&&s.navigation.formMethod!=null&&Fc(s.navigation.formMethod)&&s.navigation.state==="loading"&&((Fe=we.state)==null?void 0:Fe._isRedirect)!==!0,nt;ke.actionData?Object.keys(ke.actionData).length>0?nt=ke.actionData:nt=null:Ge?nt=s.actionData:nt=null;let qe=ke.loaderData?uw(s.loaderData,ke.loaderData,ke.matches||[],ke.errors):s.loaderData;for(let[$e]of a)he($e);let Ke=u===!0||s.navigation.formMethod!=null&&Fc(s.navigation.formMethod)&&((Pe=we.state)==null?void 0:Pe._isRedirect)!==!0;V&&(G=V,V=void 0),U(fo({},ke,{actionData:nt,loaderData:qe,historyAction:c,location:we,initialized:!0,navigation:Xm,revalidation:"idle",restoreScrollPosition:Ce(we,ke.matches||s.matches),preventScrollReset:Ke,blockers:new Map(s.blockers)})),h||c===Ls.Pop||(c===Ls.Push?P.history.push(we,we.state):c===Ls.Replace&&P.history.replace(we,we.state)),c=Ls.Pop,u=!1,h=!1,b=!1,f=[],o=[]}async function N(we,ke){if(typeof we=="number"){P.history.go(we);return}let Fe=Q1(s.location,s.matches,e,g.v7_prependBasename,we,ke==null?void 0:ke.fromRouteId,ke==null?void 0:ke.relative),{path:Pe,submission:Ge,error:nt}=aw(g.v7_normalizeFormMethod,!1,Fe,ke),qe=s.location,Ke=qp(s.location,Pe,ke&&ke.state);Ke=fo({},Ke,P.history.encodeLocation(Ke));let $e=ke&&ke.replace!=null?ke.replace:void 0,vt=Ls.Push;$e===!0?vt=Ls.Replace:$e===!1||Ge!=null&&Fc(Ge.formMethod)&&Ge.formAction===s.location.pathname+s.location.search&&(vt=Ls.Replace);let yt=ke&&"preventScrollReset"in ke?ke.preventScrollReset===!0:void 0,mt=Se({currentLocation:qe,nextLocation:Ke,historyAction:vt});if(mt){xe(mt,{state:"blocked",location:Ke,proceed(){xe(mt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ke}),N(we,ke)},reset(){he(mt),U({blockers:new Map(s.blockers)})}});return}return await F(vt,Ke,{submission:Ge,pendingError:nt,preventScrollReset:yt,replace:ke&&ke.replace})}function B(){if(j(),U({revalidation:"loading"}),s.navigation.state!=="submitting"){if(s.navigation.state==="idle"){F(s.historyAction,s.location,{startUninterruptedRevalidation:!0});return}F(c||s.historyAction,s.navigation.location,{overrideNavigation:s.navigation})}}async function F(we,ke,Fe){y&&y.abort(),y=null,c=we,h=(Fe&&Fe.startUninterruptedRevalidation)===!0,He(s.location,s.matches),u=(Fe&&Fe.preventScrollReset)===!0;let Pe=V||G,Ge=Fe&&Fe.overrideNavigation,nt=ud(Pe,ke,e);if(!nt){let Et=If(404,{pathname:ke.pathname}),{matches:Xe,route:Ue}=fw(Pe);Ee(),z(ke,{matches:Xe,loaderData:{},errors:{[Ue.id]:Et}});return}if(s.initialized&&!b&&FC(s.location,ke)&&!(Fe&&Fe.submission&&Fc(Fe.submission.formMethod))){z(ke,{matches:nt});return}y=new AbortController;let qe=pp(P.history,ke,y.signal,Fe&&Fe.submission),Ke,$e;if(Fe&&Fe.pendingError)$e={[fd(nt).route.id]:Fe.pendingError};else if(Fe&&Fe.submission&&Fc(Fe.submission.formMethod)){let Et=await H(qe,ke,Fe.submission,nt,{replace:Fe.replace});if(Et.shortCircuited)return;Ke=Et.pendingActionData,$e=Et.pendingActionError,Ge=fo({state:"loading",location:ke},Fe.submission),qe=new Request(qe.url,{signal:qe.signal})}let{shortCircuited:vt,loaderData:yt,errors:mt}=await X(qe,ke,nt,Ge,Fe&&Fe.submission,Fe&&Fe.fetcherSubmission,Fe&&Fe.replace,Ke,$e);vt||(y=null,z(ke,fo({matches:nt},Ke?{actionData:Ke}:{},{loaderData:yt,errors:mt})))}async function H(we,ke,Fe,Pe,Ge){j();let nt=fo({state:"submitting",location:ke},Fe);U({navigation:nt});let qe,Ke=$1(Pe,ke);if(!Ke.route.action&&!Ke.route.lazy)qe={type:Os.error,error:If(405,{method:we.method,pathname:ke.pathname,routeId:Ke.route.id})};else if(qe=await dp("action",we,Ke,Pe,ze,Ae,e),we.signal.aborted)return{shortCircuited:!0};if(yd(qe)){let $e;return Ge&&Ge.replace!=null?$e=Ge.replace:$e=qe.location===s.location.pathname+s.location.search,await J(s,qe,{submission:Fe,replace:$e}),{shortCircuited:!0}}if(kp(qe)){let $e=fd(Pe,Ke.route.id);return(Ge&&Ge.replace)!==!0&&(c=Ls.Push),{pendingActionData:{},pendingActionError:{[$e.route.id]:qe.error}}}if(iv(qe))throw If(400,{type:"defer-action"});return{pendingActionData:{[Ke.route.id]:qe.data}}}async function X(we,ke,Fe,Pe,Ge,nt,qe,Ke,$e){let vt=Pe;vt||(vt=fo({state:"loading",location:ke,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Ge));let yt=Ge||nt?Ge||nt:vt.formMethod&&vt.formAction&&vt.formData&&vt.formEncType?{formMethod:vt.formMethod,formAction:vt.formAction,formData:vt.formData,formEncType:vt.formEncType}:void 0,mt=V||G,[Et,Xe]=iw(P.history,s,Fe,yt,ke,b,f,o,S,mt,e,Ke,$e);if(Ee(Oe=>!(Fe&&Fe.some(st=>st.route.id===Oe))||Et&&Et.some(st=>st.route.id===Oe)),Et.length===0&&Xe.length===0){let Oe=ee();return z(ke,fo({matches:Fe,loaderData:{},errors:$e||null},Ke?{actionData:Ke}:{},Oe?{fetchers:new Map(s.fetchers)}:{})),{shortCircuited:!0}}if(!h){Xe.forEach(st=>{let ut=s.fetchers.get(st.key),Tt={state:"loading",data:ut&&ut.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};s.fetchers.set(st.key,Tt)});let Oe=Ke||s.actionData;U(fo({navigation:vt},Oe?Object.keys(Oe).length===0?{actionData:null}:{actionData:Oe}:{},Xe.length>0?{fetchers:new Map(s.fetchers)}:{}))}M=++A,Xe.forEach(Oe=>{Oe.controller&&d.set(Oe.key,Oe.controller)});let Ue=()=>Xe.forEach(Oe=>se(Oe.key));y&&y.signal.addEventListener("abort",Ue);let{results:Be,loaderResults:rt,fetcherResults:it}=await Y(s.matches,Fe,Et,Xe,we);if(we.signal.aborted)return{shortCircuited:!0};y&&y.signal.removeEventListener("abort",Ue),Xe.forEach(Oe=>d.delete(Oe.key));let Ye=cw(Be);if(Ye)return await J(s,Ye,{replace:qe}),{shortCircuited:!0};let{loaderData:De,errors:Te}=lw(s,Fe,Et,rt,$e,Xe,it,x);x.forEach((Oe,st)=>{Oe.subscribe(ut=>{(ut||Oe.done)&&x.delete(st)})});let fe=ee(),me=le(M),Re=fe||me||Xe.length>0;return fo({loaderData:De,errors:Te},Re?{fetchers:new Map(s.fetchers)}:{})}function q(we){return s.fetchers.get(we)||LC}function ne(we,ke,Fe,Pe){if(ce)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");d.has(we)&&se(we);let Ge=V||G,nt=Q1(s.location,s.matches,e,g.v7_prependBasename,Fe,ke,Pe==null?void 0:Pe.relative),qe=ud(Ge,nt,e);if(!qe){K(we,ke,If(404,{pathname:nt}));return}let{path:Ke,submission:$e}=aw(g.v7_normalizeFormMethod,!0,nt,Pe),vt=$1(qe,Ke);if(u=(Pe&&Pe.preventScrollReset)===!0,$e&&Fc($e.formMethod)){oe(we,ke,Ke,vt,qe,$e);return}S.set(we,{routeId:ke,path:Ke}),ve(we,ke,Ke,vt,qe,$e)}async function oe(we,ke,Fe,Pe,Ge,nt){if(j(),S.delete(we),!Pe.route.action&&!Pe.route.lazy){let Tt=If(405,{method:nt.formMethod,pathname:Fe,routeId:ke});K(we,ke,Tt);return}let qe=s.fetchers.get(we),Ke=fo({state:"submitting"},nt,{data:qe&&qe.data," _hasFetcherDoneAnything ":!0});s.fetchers.set(we,Ke),U({fetchers:new Map(s.fetchers)});let $e=new AbortController,vt=pp(P.history,Fe,$e.signal,nt);d.set(we,$e);let yt=await dp("action",vt,Pe,Ge,ze,Ae,e);if(vt.signal.aborted){d.get(we)===$e&&d.delete(we);return}if(yd(yt)){d.delete(we),m.add(we);let Tt=fo({state:"loading"},nt,{data:void 0," _hasFetcherDoneAnything ":!0});return s.fetchers.set(we,Tt),U({fetchers:new Map(s.fetchers)}),J(s,yt,{submission:nt,isFetchActionRedirect:!0})}if(kp(yt)){K(we,ke,yt.error);return}if(iv(yt))throw If(400,{type:"defer-action"});let mt=s.navigation.location||s.location,Et=pp(P.history,mt,$e.signal),Xe=V||G,Ue=s.navigation.state!=="idle"?ud(Xe,s.navigation.location,e):s.matches;qi(Ue,"Didn't find any matches after fetcher action");let Be=++A;C.set(we,Be);let rt=fo({state:"loading",data:yt.data},nt,{" _hasFetcherDoneAnything ":!0});s.fetchers.set(we,rt);let[it,Ye]=iw(P.history,s,Ue,nt,mt,b,f,o,S,Xe,e,{[Pe.route.id]:yt.data},void 0);Ye.filter(Tt=>Tt.key!==we).forEach(Tt=>{let It=Tt.key,Gt=s.fetchers.get(It),jt={state:"loading",data:Gt&&Gt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};s.fetchers.set(It,jt),Tt.controller&&d.set(It,Tt.controller)}),U({fetchers:new Map(s.fetchers)});let De=()=>Ye.forEach(Tt=>se(Tt.key));$e.signal.addEventListener("abort",De);let{results:Te,loaderResults:fe,fetcherResults:me}=await Y(s.matches,Ue,it,Ye,Et);if($e.signal.aborted)return;$e.signal.removeEventListener("abort",De),C.delete(we),d.delete(we),Ye.forEach(Tt=>d.delete(Tt.key));let Re=cw(Te);if(Re)return J(s,Re);let{loaderData:Oe,errors:st}=lw(s,s.matches,it,fe,void 0,Ye,me,x);if(s.fetchers.has(we)){let Tt={state:"idle",data:yt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};s.fetchers.set(we,Tt)}let ut=le(Be);s.navigation.state==="loading"&&Be>M?(qi(c,"Expected pending action"),y&&y.abort(),z(s.navigation.location,{matches:Ue,loaderData:Oe,errors:st,fetchers:new Map(s.fetchers)})):(U(fo({errors:st,loaderData:uw(s.loaderData,Oe,Ue,st)},ut||Ye.length>0?{fetchers:new Map(s.fetchers)}:{})),b=!1)}async function ve(we,ke,Fe,Pe,Ge,nt){let qe=s.fetchers.get(we),Ke=fo({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},nt,{data:qe&&qe.data," _hasFetcherDoneAnything ":!0});s.fetchers.set(we,Ke),U({fetchers:new Map(s.fetchers)});let $e=new AbortController,vt=pp(P.history,Fe,$e.signal);d.set(we,$e);let yt=await dp("loader",vt,Pe,Ge,ze,Ae,e);if(iv(yt)&&(yt=await AA(yt,vt.signal,!0)||yt),d.get(we)===$e&&d.delete(we),vt.signal.aborted)return;if(yd(yt)){m.add(we),await J(s,yt);return}if(kp(yt)){let Et=fd(s.matches,ke);s.fetchers.delete(we),U({fetchers:new Map(s.fetchers),errors:{[Et.route.id]:yt.error}});return}qi(!iv(yt),"Unhandled fetcher deferred data");let mt={state:"idle",data:yt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};s.fetchers.set(we,mt),U({fetchers:new Map(s.fetchers)})}async function J(we,ke,Fe){let{submission:Pe,replace:Ge,isFetchActionRedirect:nt}=Fe===void 0?{}:Fe;ke.revalidate&&(b=!0);let qe=qp(we.location,ke.location,fo({_isRedirect:!0},nt?{_isFetchActionRedirect:!0}:{}));if(qi(qe,"Expected a location on the redirect navigation"),xA.test(ke.location)&&$){let Et=P.history.createURL(ke.location),Xe=c0(Et.pathname,e)==null;if(O.location.origin!==Et.origin||Xe){Ge?O.location.replace(ke.location):O.location.assign(ke.location);return}}y=null;let Ke=Ge===!0?Ls.Replace:Ls.Push,{formMethod:$e,formAction:vt,formEncType:yt,formData:mt}=we.navigation;!Pe&&$e&&vt&&mt&&yt&&(Pe={formMethod:$e,formAction:vt,formEncType:yt,formData:mt}),CC.has(ke.status)&&Pe&&Fc(Pe.formMethod)?await F(Ke,qe,{submission:fo({},Pe,{formAction:ke.location}),preventScrollReset:u}):nt?await F(Ke,qe,{overrideNavigation:{state:"loading",location:qe,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:Pe,preventScrollReset:u}):await F(Ke,qe,{overrideNavigation:{state:"loading",location:qe,formMethod:Pe?Pe.formMethod:void 0,formAction:Pe?Pe.formAction:void 0,formEncType:Pe?Pe.formEncType:void 0,formData:Pe?Pe.formData:void 0},preventScrollReset:u})}async function Y(we,ke,Fe,Pe,Ge){let nt=await Promise.all([...Fe.map($e=>dp("loader",Ge,$e,ke,ze,Ae,e)),...Pe.map($e=>$e.matches&&$e.match&&$e.controller?dp("loader",pp(P.history,$e.path,$e.controller.signal),$e.match,$e.matches,ze,Ae,e):{type:Os.error,error:If(404,{pathname:$e.path})})]),qe=nt.slice(0,Fe.length),Ke=nt.slice(Fe.length);return await Promise.all([hw(we,Fe,qe,qe.map(()=>Ge.signal),!1,s.loaderData),hw(we,Pe.map($e=>$e.match),Ke,Pe.map($e=>$e.controller?$e.controller.signal:null),!0)]),{results:nt,loaderResults:qe,fetcherResults:Ke}}function j(){b=!0,f.push(...Ee()),S.forEach((we,ke)=>{d.has(ke)&&(o.push(ke),se(ke))})}function K(we,ke,Fe){let Pe=fd(s.matches,ke);te(we),U({errors:{[Pe.route.id]:Fe},fetchers:new Map(s.fetchers)})}function te(we){let ke=s.fetchers.get(we);d.has(we)&&!(ke&&ke.state==="loading"&&C.has(we))&&se(we),S.delete(we),C.delete(we),m.delete(we),s.fetchers.delete(we)}function se(we){let ke=d.get(we);qi(ke,"Expected fetch controller: "+we),ke.abort(),d.delete(we)}function Q(we){for(let ke of we){let Pe={state:"idle",data:q(ke).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};s.fetchers.set(ke,Pe)}}function ee(){let we=[],ke=!1;for(let Fe of m){let Pe=s.fetchers.get(Fe);qi(Pe,"Expected fetcher: "+Fe),Pe.state==="loading"&&(m.delete(Fe),we.push(Fe),ke=!0)}return Q(we),ke}function le(we){let ke=[];for(let[Fe,Pe]of C)if(Pe<we){let Ge=s.fetchers.get(Fe);qi(Ge,"Expected fetcher: "+Fe),Ge.state==="loading"&&(se(Fe),C.delete(Fe),ke.push(Fe))}return Q(ke),ke.length>0}function ie(we,ke){let Fe=s.blockers.get(we)||nw;return a.get(we)!==ke&&a.set(we,ke),Fe}function he(we){s.blockers.delete(we),a.delete(we)}function xe(we,ke){let Fe=s.blockers.get(we)||nw;qi(Fe.state==="unblocked"&&ke.state==="blocked"||Fe.state==="blocked"&&ke.state==="blocked"||Fe.state==="blocked"&&ke.state==="proceeding"||Fe.state==="blocked"&&ke.state==="unblocked"||Fe.state==="proceeding"&&ke.state==="unblocked","Invalid blocker state transition: "+Fe.state+" -> "+ke.state),s.blockers.set(we,ke),U({blockers:new Map(s.blockers)})}function Se(we){let{currentLocation:ke,nextLocation:Fe,historyAction:Pe}=we;if(a.size===0)return;a.size>1&&Cd(!1,"A router only supports one blocker at a time");let Ge=Array.from(a.entries()),[nt,qe]=Ge[Ge.length-1],Ke=s.blockers.get(nt);if(!(Ke&&Ke.state==="proceeding")&&qe({currentLocation:ke,nextLocation:Fe,historyAction:Pe}))return nt}function Ee(we){let ke=[];return x.forEach((Fe,Pe)=>{(!we||we(Pe))&&(Fe.cancel(),ke.push(Pe),x.delete(Pe))}),ke}function Ne(we,ke,Fe){if(L=we,v=ke,T=Fe||(Pe=>Pe.key),!p&&s.navigation===Xm){p=!0;let Pe=Ce(s.location,s.matches);Pe!=null&&U({restoreScrollPosition:Pe})}return()=>{L=null,v=null,T=null}}function He(we,ke){if(L&&T&&v){let Fe=ke.map(Ge=>vw(Ge,s.loaderData)),Pe=T(we,Fe)||we.key;L[Pe]=v()}}function Ce(we,ke){if(L&&T&&v){let Fe=ke.map(nt=>vw(nt,s.loaderData)),Pe=T(we,Fe)||we.key,Ge=L[Pe];if(typeof Ge=="number")return Ge}return null}function be(we){ze={},V=J1(we,Ae,void 0,ze)}return n={get basename(){return e},get state(){return s},get routes(){return G},initialize:w,subscribe:I,enableScrollRestoration:Ne,navigate:N,fetch:ne,revalidate:B,createHref:we=>P.history.createHref(we),encodeLocation:we=>P.history.encodeLocation(we),getFetcher:q,deleteFetcher:te,dispose:k,getBlocker:ie,deleteBlocker:he,_internalFetchControllers:d,_internalActiveDeferreds:x,_internalSetRoutes:be},n}function _C(P){return P!=null&&"formData"in P}function Q1(P,O,$,ce,Ae,ze,G){let V,e;if(ze!=null&&G!=="path"){V=[];for(let R of O)if(V.push(R),R.route.id===ze){e=R;break}}else V=O,e=O[O.length-1];let g=xC(Ae||".",gA(V).map(R=>R.pathnameBase),c0(P.pathname,$)||P.pathname,G==="path");return Ae==null&&(g.search=P.search,g.hash=P.hash),(Ae==null||Ae===""||Ae===".")&&e&&e.route.index&&!l2(g.search)&&(g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index"),ce&&$!=="/"&&(g.pathname=g.pathname==="/"?$:lv([$,g.pathname])),f0(g)}function aw(P,O,$,ce){if(!ce||!_C(ce))return{path:$};if(ce.formMethod&&!NC(ce.formMethod))return{path:$,error:If(405,{method:ce.formMethod})};let Ae;if(ce.formData){let V=ce.formMethod||"get";if(Ae={formMethod:P?V.toUpperCase():V.toLowerCase(),formAction:TA($),formEncType:ce&&ce.formEncType||"application/x-www-form-urlencoded",formData:ce.formData},Fc(Ae.formMethod))return{path:$,submission:Ae}}let ze=Kc($),G=wA(ce.formData);return O&&ze.search&&l2(ze.search)&&G.append("index",""),ze.search="?"+G,{path:f0(ze),submission:Ae}}function DC(P,O){let $=P;if(O){let ce=P.findIndex(Ae=>Ae.route.id===O);ce>=0&&($=P.slice(0,ce))}return $}function iw(P,O,$,ce,Ae,ze,G,V,e,g,R,i,L){let T=L?Object.values(L)[0]:i?Object.values(i)[0]:void 0,v=P.createURL(O.location),p=P.createURL(Ae),t=L?Object.keys(L)[0]:void 0,l=DC($,t).filter((s,c)=>{if(s.route.lazy)return!0;if(s.route.loader==null)return!1;if(kC(O.loaderData,O.matches[c],s)||G.some(h=>h===s.route.id))return!0;let u=O.matches[c],y=s;return ow(s,fo({currentUrl:v,currentParams:u.params,nextUrl:p,nextParams:y.params},ce,{actionResult:T,defaultShouldRevalidate:ze||v.pathname+v.search===p.pathname+p.search||v.search!==p.search||bA(u,y)}))}),n=[];return e.forEach((s,c)=>{if(!$.some(b=>b.route.id===s.routeId))return;let u=ud(g,s.path,R);if(!u){n.push({key:c,routeId:s.routeId,path:s.path,matches:null,match:null,controller:null});return}let y=$1(u,s.path);if(V.includes(c)){n.push({key:c,routeId:s.routeId,path:s.path,matches:u,match:y,controller:new AbortController});return}ow(y,fo({currentUrl:v,currentParams:O.matches[O.matches.length-1].params,nextUrl:p,nextParams:$[$.length-1].params},ce,{actionResult:T,defaultShouldRevalidate:ze}))&&n.push({key:c,routeId:s.routeId,path:s.path,matches:u,match:y,controller:new AbortController})}),[l,n]}function kC(P,O,$){let ce=!O||$.route.id!==O.route.id,Ae=P[$.route.id]===void 0;return ce||Ae}function bA(P,O){let $=P.route.path;return P.pathname!==O.pathname||$!=null&&$.endsWith("*")&&P.params["*"]!==O.params["*"]}function ow(P,O){if(P.route.shouldRevalidate){let $=P.route.shouldRevalidate(O);if(typeof $=="boolean")return $}return O.defaultShouldRevalidate}async function sw(P,O,$){if(!P.lazy)return;let ce=await P.lazy();if(!P.lazy)return;let Ae=$[P.id];qi(Ae,"No route found in manifest");let ze={};for(let G in ce){let e=Ae[G]!==void 0&&G!=="hasErrorBoundary";Cd(!e,'Route "'+Ae.id+'" has a static property "'+G+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+G+'" will be ignored.')),!e&&!tC.has(G)&&(ze[G]=ce[G])}Object.assign(Ae,ze),Object.assign(Ae,fo({},O(Ae),{lazy:void 0}))}async function dp(P,O,$,ce,Ae,ze,G,V,e,g){V===void 0&&(V=!1),e===void 0&&(e=!1);let R,i,L,T=t=>{let r,l=new Promise((n,s)=>r=s);return L=()=>r(),O.signal.addEventListener("abort",L),Promise.race([t({request:O,params:$.params,context:g}),l])};try{let t=$.route[P];if($.route.lazy)if(t)i=(await Promise.all([T(t),sw($.route,ze,Ae)]))[0];else if(await sw($.route,ze,Ae),t=$.route[P],t)i=await T(t);else if(P==="action"){let r=new URL(O.url),l=r.pathname+r.search;throw If(405,{method:O.method,pathname:l,routeId:$.route.id})}else return{type:Os.data,data:void 0};else if(t)i=await T(t);else{let r=new URL(O.url),l=r.pathname+r.search;throw If(404,{pathname:l})}qi(i!==void 0,"You defined "+(P==="action"?"an action":"a loader")+" for route "+('"'+$.route.id+"\" but didn't return anything from your `"+P+"` ")+"function. Please return a value or `null`.")}catch(t){R=Os.error,i=t}finally{L&&O.signal.removeEventListener("abort",L)}if(OC(i)){let t=i.status;if(EC.has(t)){let n=i.headers.get("Location");if(qi(n,"Redirects returned/thrown from loaders/actions must have a Location header"),!xA.test(n))n=Q1(new URL(O.url),ce.slice(0,ce.indexOf($)+1),G,!0,n);else if(!V){let s=new URL(O.url),c=n.startsWith("//")?new URL(s.protocol+n):new URL(n),u=c0(c.pathname,G)!=null;c.origin===s.origin&&u&&(n=c.pathname+c.search+c.hash)}if(V)throw i.headers.set("Location",n),i;return{type:Os.redirect,status:t,location:n,revalidate:i.headers.get("X-Remix-Revalidate")!==null}}if(e)throw{type:R||Os.data,response:i};let r,l=i.headers.get("Content-Type");return l&&/\bapplication\/json\b/.test(l)?r=await i.json():r=await i.text(),R===Os.error?{type:R,error:new s2(t,i.statusText,r),headers:i.headers}:{type:Os.data,data:r,statusCode:i.status,headers:i.headers}}if(R===Os.error)return{type:R,error:i};if(zC(i)){var v,p;return{type:Os.deferred,deferredData:i,statusCode:(v=i.init)==null?void 0:v.status,headers:((p=i.init)==null?void 0:p.headers)&&new Headers(i.init.headers)}}return{type:Os.data,data:i}}function pp(P,O,$,ce){let Ae=P.createURL(TA(O)).toString(),ze={signal:$};if(ce&&Fc(ce.formMethod)){let{formMethod:G,formEncType:V,formData:e}=ce;ze.method=G.toUpperCase(),ze.body=V==="application/x-www-form-urlencoded"?wA(e):e}return new Request(Ae,ze)}function wA(P){let O=new URLSearchParams;for(let[$,ce]of P.entries())O.append($,ce instanceof File?ce.name:ce);return O}function IC(P,O,$,ce,Ae){let ze={},G=null,V,e=!1,g={};return $.forEach((R,i)=>{let L=O[i].route.id;if(qi(!yd(R),"Cannot handle redirect results in processLoaderData"),kp(R)){let T=fd(P,L),v=R.error;ce&&(v=Object.values(ce)[0],ce=void 0),G=G||{},G[T.route.id]==null&&(G[T.route.id]=v),ze[L]=void 0,e||(e=!0,V=yA(R.error)?R.error.status:500),R.headers&&(g[L]=R.headers)}else iv(R)?(Ae.set(L,R.deferredData),ze[L]=R.deferredData.data):ze[L]=R.data,R.statusCode!=null&&R.statusCode!==200&&!e&&(V=R.statusCode),R.headers&&(g[L]=R.headers)}),ce&&(G=ce,ze[Object.keys(ce)[0]]=void 0),{loaderData:ze,errors:G,statusCode:V||200,loaderHeaders:g}}function lw(P,O,$,ce,Ae,ze,G,V){let{loaderData:e,errors:g}=IC(O,$,ce,Ae,V);for(let R=0;R<ze.length;R++){let{key:i,match:L,controller:T}=ze[R];qi(G!==void 0&&G[R]!==void 0,"Did not find corresponding fetcher result");let v=G[R];if(!(T&&T.signal.aborted))if(kp(v)){let p=fd(P.matches,L==null?void 0:L.route.id);g&&g[p.route.id]||(g=fo({},g,{[p.route.id]:v.error})),P.fetchers.delete(i)}else if(yd(v))qi(!1,"Unhandled fetcher revalidation redirect");else if(iv(v))qi(!1,"Unhandled fetcher deferred data");else{let p={state:"idle",data:v.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};P.fetchers.set(i,p)}}return{loaderData:e,errors:g}}function uw(P,O,$,ce){let Ae=fo({},O);for(let ze of $){let G=ze.route.id;if(O.hasOwnProperty(G)?O[G]!==void 0&&(Ae[G]=O[G]):P[G]!==void 0&&ze.route.loader&&(Ae[G]=P[G]),ce&&ce.hasOwnProperty(G))break}return Ae}function fd(P,O){return(O?P.slice(0,P.findIndex(ce=>ce.route.id===O)+1):[...P]).reverse().find(ce=>ce.route.hasErrorBoundary===!0)||P[0]}function fw(P){let O=P.find($=>$.index||!$.path||$.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:O}],route:O}}function If(P,O){let{pathname:$,routeId:ce,method:Ae,type:ze}=O===void 0?{}:O,G="Unknown Server Error",V="Unknown @remix-run/router error";return P===400?(G="Bad Request",Ae&&$&&ce?V="You made a "+Ae+' request to "'+$+'" but '+('did not provide a `loader` for route "'+ce+'", ')+"so there is no way to handle the request.":ze==="defer-action"&&(V="defer() is not supported in actions")):P===403?(G="Forbidden",V='Route "'+ce+'" does not match URL "'+$+'"'):P===404?(G="Not Found",V='No route matches URL "'+$+'"'):P===405&&(G="Method Not Allowed",Ae&&$&&ce?V="You made a "+Ae.toUpperCase()+' request to "'+$+'" but '+('did not provide an `action` for route "'+ce+'", ')+"so there is no way to handle the request.":Ae&&(V='Invalid request method "'+Ae.toUpperCase()+'"')),new s2(P||500,G,new Error(V),!0)}function cw(P){for(let O=P.length-1;O>=0;O--){let $=P[O];if(yd($))return $}}function TA(P){let O=typeof P=="string"?Kc(P):P;return f0(fo({},O,{hash:""}))}function FC(P,O){return P.pathname!==O.pathname||P.search!==O.search?!1:P.hash===""?O.hash!=="":P.hash===O.hash?!0:O.hash!==""}function iv(P){return P.type===Os.deferred}function kp(P){return P.type===Os.error}function yd(P){return(P&&P.type)===Os.redirect}function zC(P){let O=P;return O&&typeof O=="object"&&typeof O.data=="object"&&typeof O.subscribe=="function"&&typeof O.cancel=="function"&&typeof O.resolveData=="function"}function OC(P){return P!=null&&typeof P.status=="number"&&typeof P.statusText=="string"&&typeof P.headers=="object"&&typeof P.body<"u"}function NC(P){return SC.has(P.toLowerCase())}function Fc(P){return AC.has(P.toLowerCase())}async function hw(P,O,$,ce,Ae,ze){for(let G=0;G<$.length;G++){let V=$[G],e=O[G];if(!e)continue;let g=P.find(i=>i.route.id===e.route.id),R=g!=null&&!bA(g,e)&&(ze&&ze[e.route.id])!==void 0;if(iv(V)&&(Ae||R)){let i=ce[G];qi(i,"Expected an AbortSignal for revalidating fetcher deferred result"),await AA(V,i,Ae).then(L=>{L&&($[G]=L||$[G])})}}}async function AA(P,O,$){if($===void 0&&($=!1),!await P.deferredData.resolveData(O)){if($)try{return{type:Os.data,data:P.deferredData.unwrappedData}}catch(Ae){return{type:Os.error,error:Ae}}return{type:Os.data,data:P.deferredData.data}}}function l2(P){return new URLSearchParams(P).getAll("index").some(O=>O==="")}function vw(P,O){let{route:$,pathname:ce,params:Ae}=P;return{id:$.id,pathname:ce,params:Ae,data:O[$.id],handle:$.handle}}function $1(P,O){let $=typeof O=="string"?Kc(O).search:O.search;if(P[P.length-1].route.index&&l2($||""))return P[P.length-1];let ce=gA(P);return ce[ce.length-1]}/**
 * React Router v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function q1(){return q1=Object.assign?Object.assign.bind():function(P){for(var O=1;O<arguments.length;O++){var $=arguments[O];for(var ce in $)Object.prototype.hasOwnProperty.call($,ce)&&(P[ce]=$[ce])}return P},q1.apply(this,arguments)}const MA=qn.createContext(null),SA=qn.createContext(null),EA=qn.createContext(null),Cy=qn.createContext(null),h0=qn.createContext({outlet:null,matches:[],isDataRoute:!1}),CA=qn.createContext(null);function u2(){return qn.useContext(Cy)!=null}function BC(){return u2()||qi(!1),qn.useContext(Cy).location}function UC(){let{matches:P}=qn.useContext(h0),O=P[P.length-1];return O?O.params:{}}function HC(P,O,$){u2()||qi(!1);let{navigator:ce}=qn.useContext(EA),{matches:Ae}=qn.useContext(h0),ze=Ae[Ae.length-1],G=ze?ze.params:{};ze&&ze.pathname;let V=ze?ze.pathnameBase:"/";ze&&ze.route;let e=BC(),g;if(O){var R;let p=typeof O=="string"?Kc(O):O;V==="/"||(R=p.pathname)!=null&&R.startsWith(V)||qi(!1),g=p}else g=e;let i=g.pathname||"/",L=V==="/"?i:i.slice(V.length)||"/",T=ud(P,{pathname:L}),v=YC(T&&T.map(p=>Object.assign({},p,{params:Object.assign({},G,p.params),pathname:lv([V,ce.encodeLocation?ce.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?V:lv([V,ce.encodeLocation?ce.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),Ae,$);return O&&v?qn.createElement(Cy.Provider,{value:{location:q1({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Ls.Pop}},v):v}function VC(){let P=JC(),O=yA(P)?P.status+" "+P.statusText:P instanceof Error?P.message:JSON.stringify(P),$=P instanceof Error?P.stack:null,Ae={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},ze=null;return qn.createElement(qn.Fragment,null,qn.createElement("h2",null,"Unexpected Application Error!"),qn.createElement("h3",{style:{fontStyle:"italic"}},O),$?qn.createElement("pre",{style:Ae},$):null,ze)}const GC=qn.createElement(VC,null);class WC extends qn.Component{constructor(O){super(O),this.state={location:O.location,revalidation:O.revalidation,error:O.error}}static getDerivedStateFromError(O){return{error:O}}static getDerivedStateFromProps(O,$){return $.location!==O.location||$.revalidation!=="idle"&&O.revalidation==="idle"?{error:O.error,location:O.location,revalidation:O.revalidation}:{error:O.error||$.error,location:$.location,revalidation:O.revalidation||$.revalidation}}componentDidCatch(O,$){console.error("React Router caught the following error during render",O,$)}render(){return this.state.error?qn.createElement(h0.Provider,{value:this.props.routeContext},qn.createElement(CA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jC(P){let{routeContext:O,match:$,children:ce}=P,Ae=qn.useContext(MA);return Ae&&Ae.static&&Ae.staticContext&&($.route.errorElement||$.route.ErrorBoundary)&&(Ae.staticContext._deepestRenderedBoundaryId=$.route.id),qn.createElement(h0.Provider,{value:O},ce)}function YC(P,O,$){var ce;if(O===void 0&&(O=[]),$===void 0&&($=null),P==null){var Ae;if((Ae=$)!=null&&Ae.errors)P=$.matches;else return null}let ze=P,G=(ce=$)==null?void 0:ce.errors;if(G!=null){let V=ze.findIndex(e=>e.route.id&&(G==null?void 0:G[e.route.id]));V>=0||qi(!1),ze=ze.slice(0,Math.min(ze.length,V+1))}return ze.reduceRight((V,e,g)=>{let R=e.route.id?G==null?void 0:G[e.route.id]:null,i=null;$&&(i=e.route.errorElement||GC);let L=O.concat(ze.slice(0,g+1)),T=()=>{let v;return R?v=i:e.route.Component?v=qn.createElement(e.route.Component,null):e.route.element?v=e.route.element:v=V,qn.createElement(jC,{match:e,routeContext:{outlet:V,matches:L,isDataRoute:$!=null},children:v})};return $&&(e.route.ErrorBoundary||e.route.errorElement||g===0)?qn.createElement(WC,{location:$.location,revalidation:$.revalidation,component:i,error:R,children:T(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):T()},null)}var dw;(function(P){P.UseBlocker="useBlocker",P.UseRevalidator="useRevalidator",P.UseNavigateStable="useNavigate"})(dw||(dw={}));var iy;(function(P){P.UseBlocker="useBlocker",P.UseLoaderData="useLoaderData",P.UseActionData="useActionData",P.UseRouteError="useRouteError",P.UseNavigation="useNavigation",P.UseRouteLoaderData="useRouteLoaderData",P.UseMatches="useMatches",P.UseRevalidator="useRevalidator",P.UseNavigateStable="useNavigate",P.UseRouteId="useRouteId"})(iy||(iy={}));function ZC(P){let O=qn.useContext(SA);return O||qi(!1),O}function XC(P){let O=qn.useContext(h0);return O||qi(!1),O}function KC(P){let O=XC(),$=O.matches[O.matches.length-1];return $.route.id||qi(!1),$.route.id}function JC(){var P;let O=qn.useContext(CA),$=ZC(iy.UseRouteError),ce=KC(iy.UseRouteError);return O||((P=$.errors)==null?void 0:P[ce])}const pw="startTransition";function QC(P){let{fallbackElement:O,router:$}=P,[ce,Ae]=qn.useState($.state),ze=qn.useCallback(g=>{pw in Fp?Fp[pw](()=>Ae(g)):Ae(g)},[Ae]);qn.useLayoutEffect(()=>$.subscribe(ze),[$,ze]);let G=qn.useMemo(()=>({createHref:$.createHref,encodeLocation:$.encodeLocation,go:g=>$.navigate(g),push:(g,R,i)=>$.navigate(g,{state:R,preventScrollReset:i==null?void 0:i.preventScrollReset}),replace:(g,R,i)=>$.navigate(g,{replace:!0,state:R,preventScrollReset:i==null?void 0:i.preventScrollReset})}),[$]),V=$.basename||"/",e=qn.useMemo(()=>({router:$,navigator:G,static:!1,basename:V}),[$,G,V]);return qn.createElement(qn.Fragment,null,qn.createElement(MA.Provider,{value:e},qn.createElement(SA.Provider,{value:ce},qn.createElement(qC,{basename:V,location:ce.location,navigationType:ce.historyAction,navigator:G},ce.initialized?qn.createElement($C,{routes:$.routes,state:ce}):O))),null)}function $C(P){let{routes:O,state:$}=P;return HC(O,void 0,$)}function qC(P){let{basename:O="/",children:$=null,location:ce,navigationType:Ae=Ls.Pop,navigator:ze,static:G=!1}=P;u2()&&qi(!1);let V=O.replace(/^\/*/,"/"),e=qn.useMemo(()=>({basename:V,navigator:ze,static:G}),[V,ze,G]);typeof ce=="string"&&(ce=Kc(ce));let{pathname:g="/",search:R="",hash:i="",state:L=null,key:T="default"}=ce,v=qn.useMemo(()=>{let p=c0(g,V);return p==null?null:{location:{pathname:p,search:R,hash:i,state:L,key:T},navigationType:Ae}},[V,g,R,i,L,T,Ae]);return v==null?null:qn.createElement(EA.Provider,{value:e},qn.createElement(Cy.Provider,{children:$,value:v}))}var gw;(function(P){P[P.pending=0]="pending",P[P.success=1]="success",P[P.error=2]="error"})(gw||(gw={}));new Promise(()=>{});function eL(P){let O={hasErrorBoundary:P.ErrorBoundary!=null||P.errorElement!=null};return P.Component&&Object.assign(O,{element:qn.createElement(P.Component),Component:void 0}),P.ErrorBoundary&&Object.assign(O,{errorElement:qn.createElement(P.ErrorBoundary),ErrorBoundary:void 0}),O}/**
 * React Router DOM v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oy(){return oy=Object.assign?Object.assign.bind():function(P){for(var O=1;O<arguments.length;O++){var $=arguments[O];for(var ce in $)Object.prototype.hasOwnProperty.call($,ce)&&(P[ce]=$[ce])}return P},oy.apply(this,arguments)}function tL(P,O){return RC({basename:O==null?void 0:O.basename,future:oy({},O==null?void 0:O.future,{v7_prependBasename:!0}),history:$8({window:O==null?void 0:O.window}),hydrationData:(O==null?void 0:O.hydrationData)||rL(),routes:P,mapRouteProperties:eL}).initialize()}function rL(){var P;let O=(P=window)==null?void 0:P.__staticRouterHydrationData;return O&&O.errors&&(O=oy({},O,{errors:nL(O.errors)})),O}function nL(P){if(!P)return null;let O=Object.entries(P),$={};for(let[ce,Ae]of O)if(Ae&&Ae.__type==="RouteErrorResponse")$[ce]=new s2(Ae.status,Ae.statusText,Ae.data,Ae.internal===!0);else if(Ae&&Ae.__type==="Error"){let ze=new Error(Ae.message);ze.stack="",$[ce]=ze}else $[ce]=Ae;return $}var yw;(function(P){P.UseScrollRestoration="useScrollRestoration",P.UseSubmitImpl="useSubmitImpl",P.UseFetcher="useFetcher"})(yw||(yw={}));var mw;(function(P){P.UseFetchers="useFetchers",P.UseScrollRestoration="useScrollRestoration"})(mw||(mw={}));function Jc(){const P=window.location.pathname,[O]=qn.useState(!1),[$]=qn.useState(!1);return qn.useEffect(()=>{},[]),an.jsx("div",{children:an.jsxs("nav",{className:"navbar navbar-expand-lg navbar-light ",style:{background:"#e3f2fd"},children:[an.jsx("a",{className:"navbar-brand",href:"/",children:an.jsx("img",{src:"/fnuc.png",className:"navbar-link m-5 mb-0 mt-0",style:{width:"15%",height:"15%"},alt:"Fnuc"})}),an.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarToggler","aria-controls":"navbarToggler","aria-expanded":"false","aria-label":"Toggle navigation",children:an.jsx("span",{className:"navbar-toggler-icon"})}),an.jsx("div",{className:"collapse navbar-collapse",id:"navbarToggler",children:an.jsxs("ul",{className:"navbar-nav ms-5 me-auto mb-2 mb-lg-0",children:[an.jsx("li",{className:`nav-item ${P==="/"?"text-decoration-underline":""}`,children:an.jsx("a",{className:"nav-link text-dark",href:"/",children:"Acceuil"})}),O&&an.jsx("li",{className:`nav-item ${P==="/profil"?"text-decoration-underline":""}`,children:an.jsx("a",{className:"nav-link text-dark",href:"/profil",children:"Profil"})}),$&&an.jsx("li",{className:`nav-item ${P==="/administration"?"text-decoration-underline":""}`,children:an.jsx("a",{className:"nav-link text-dark",href:"/administration",children:"Administration"})}),an.jsx("li",{className:`nav-item ${P==="/search"?"text-decoration-underline":""}`,children:an.jsx("a",{className:"nav-link text-dark",href:"/search",children:"Recherche"})}),!O&&an.jsx("li",{className:`nav-item ${P==="/signin"?"text-decoration-underline":""}`,children:an.jsx("a",{className:"nav-link text-dark",href:"/signin",children:"Connexion"})}),!O&&an.jsx("li",{className:`nav-item ${P==="/signup"?"text-decoration-underline":""}`,children:an.jsx("a",{className:"nav-link text-dark",href:"/signup",children:"S'enregistrer"})}),O&&an.jsx("li",{className:"nav-item",children:an.jsx("a",{className:"btn btn-danger",href:"/disconnect",children:"Dconnexion"})})]})})]})})}function aL(){return an.jsxs("div",{id:"error-page",children:[an.jsx(Jc,{}),an.jsx("div",{className:"",children:an.jsxs("div",{className:"col d-flex justify-content-center align-items-center",children:[an.jsx("div",{className:"row",children:an.jsx("h1",{className:"m-5",children:"Ooups!"})}),an.jsx("div",{className:"row",children:an.jsx("h4",{children:"Dsol il y a une erreur qui a eu lieu."})})]})})]})}function iL(){const[P,O]=qn.useState(""),[$,ce]=qn.useState(""),Ae=ze=>{ze.preventDefault(),alert(`j'envois login : ${P}, et passsword : ${$}`)};return an.jsxs("div",{children:[an.jsx("input",{type:"email",placeholder:"Email",value:P,onChange:ze=>O(ze.target.value)}),an.jsx("input",{type:"password",placeholder:"Mot de passe",value:$,onChange:ze=>ce(ze.target.value)}),an.jsx("input",{type:"submit",value:"Valider",onClick:Ae})]})}function oL(){return an.jsxs(an.Fragment,{children:[an.jsx(Jc,{}),an.jsx(iL,{})]})}function LA(P,O){return function(){return P.apply(O,arguments)}}const{toString:sL}=Object.prototype,{getPrototypeOf:f2}=Object,Ly=(P=>O=>{const $=sL.call(O);return P[$]||(P[$]=$.slice(8,-1).toLowerCase())})(Object.create(null)),gc=P=>(P=P.toLowerCase(),O=>Ly(O)===P),Py=P=>O=>typeof O===P,{isArray:Fd}=Array,e0=Py("undefined");function lL(P){return P!==null&&!e0(P)&&P.constructor!==null&&!e0(P.constructor)&&of(P.constructor.isBuffer)&&P.constructor.isBuffer(P)}const PA=gc("ArrayBuffer");function uL(P){let O;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?O=ArrayBuffer.isView(P):O=P&&P.buffer&&PA(P.buffer),O}const fL=Py("string"),of=Py("function"),RA=Py("number"),Ry=P=>P!==null&&typeof P=="object",cL=P=>P===!0||P===!1,Mg=P=>{if(Ly(P)!=="object")return!1;const O=f2(P);return(O===null||O===Object.prototype||Object.getPrototypeOf(O)===null)&&!(Symbol.toStringTag in P)&&!(Symbol.iterator in P)},hL=gc("Date"),vL=gc("File"),dL=gc("Blob"),pL=gc("FileList"),gL=P=>Ry(P)&&of(P.pipe),yL=P=>{let O;return P&&(typeof FormData=="function"&&P instanceof FormData||of(P.append)&&((O=Ly(P))==="formdata"||O==="object"&&of(P.toString)&&P.toString()==="[object FormData]"))},mL=gc("URLSearchParams"),xL=P=>P.trim?P.trim():P.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function v0(P,O,{allOwnKeys:$=!1}={}){if(P===null||typeof P>"u")return;let ce,Ae;if(typeof P!="object"&&(P=[P]),Fd(P))for(ce=0,Ae=P.length;ce<Ae;ce++)O.call(null,P[ce],ce,P);else{const ze=$?Object.getOwnPropertyNames(P):Object.keys(P),G=ze.length;let V;for(ce=0;ce<G;ce++)V=ze[ce],O.call(null,P[V],V,P)}}function _A(P,O){O=O.toLowerCase();const $=Object.keys(P);let ce=$.length,Ae;for(;ce-- >0;)if(Ae=$[ce],O===Ae.toLowerCase())return Ae;return null}const DA=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),kA=P=>!e0(P)&&P!==DA;function ex(){const{caseless:P}=kA(this)&&this||{},O={},$=(ce,Ae)=>{const ze=P&&_A(O,Ae)||Ae;Mg(O[ze])&&Mg(ce)?O[ze]=ex(O[ze],ce):Mg(ce)?O[ze]=ex({},ce):Fd(ce)?O[ze]=ce.slice():O[ze]=ce};for(let ce=0,Ae=arguments.length;ce<Ae;ce++)arguments[ce]&&v0(arguments[ce],$);return O}const bL=(P,O,$,{allOwnKeys:ce}={})=>(v0(O,(Ae,ze)=>{$&&of(Ae)?P[ze]=LA(Ae,$):P[ze]=Ae},{allOwnKeys:ce}),P),wL=P=>(P.charCodeAt(0)===65279&&(P=P.slice(1)),P),TL=(P,O,$,ce)=>{P.prototype=Object.create(O.prototype,ce),P.prototype.constructor=P,Object.defineProperty(P,"super",{value:O.prototype}),$&&Object.assign(P.prototype,$)},AL=(P,O,$,ce)=>{let Ae,ze,G;const V={};if(O=O||{},P==null)return O;do{for(Ae=Object.getOwnPropertyNames(P),ze=Ae.length;ze-- >0;)G=Ae[ze],(!ce||ce(G,P,O))&&!V[G]&&(O[G]=P[G],V[G]=!0);P=$!==!1&&f2(P)}while(P&&(!$||$(P,O))&&P!==Object.prototype);return O},ML=(P,O,$)=>{P=String(P),($===void 0||$>P.length)&&($=P.length),$-=O.length;const ce=P.indexOf(O,$);return ce!==-1&&ce===$},SL=P=>{if(!P)return null;if(Fd(P))return P;let O=P.length;if(!RA(O))return null;const $=new Array(O);for(;O-- >0;)$[O]=P[O];return $},EL=(P=>O=>P&&O instanceof P)(typeof Uint8Array<"u"&&f2(Uint8Array)),CL=(P,O)=>{const ce=(P&&P[Symbol.iterator]).call(P);let Ae;for(;(Ae=ce.next())&&!Ae.done;){const ze=Ae.value;O.call(P,ze[0],ze[1])}},LL=(P,O)=>{let $;const ce=[];for(;($=P.exec(O))!==null;)ce.push($);return ce},PL=gc("HTMLFormElement"),RL=P=>P.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function($,ce,Ae){return ce.toUpperCase()+Ae}),xw=(({hasOwnProperty:P})=>(O,$)=>P.call(O,$))(Object.prototype),_L=gc("RegExp"),IA=(P,O)=>{const $=Object.getOwnPropertyDescriptors(P),ce={};v0($,(Ae,ze)=>{O(Ae,ze,P)!==!1&&(ce[ze]=Ae)}),Object.defineProperties(P,ce)},DL=P=>{IA(P,(O,$)=>{if(of(P)&&["arguments","caller","callee"].indexOf($)!==-1)return!1;const ce=P[$];if(of(ce)){if(O.enumerable=!1,"writable"in O){O.writable=!1;return}O.set||(O.set=()=>{throw Error("Can not rewrite read-only method '"+$+"'")})}})},kL=(P,O)=>{const $={},ce=Ae=>{Ae.forEach(ze=>{$[ze]=!0})};return Fd(P)?ce(P):ce(String(P).split(O)),$},IL=()=>{},FL=(P,O)=>(P=+P,Number.isFinite(P)?P:O),Km="abcdefghijklmnopqrstuvwxyz",bw="0123456789",FA={DIGIT:bw,ALPHA:Km,ALPHA_DIGIT:Km+Km.toUpperCase()+bw},zL=(P=16,O=FA.ALPHA_DIGIT)=>{let $="";const{length:ce}=O;for(;P--;)$+=O[Math.random()*ce|0];return $};function OL(P){return!!(P&&of(P.append)&&P[Symbol.toStringTag]==="FormData"&&P[Symbol.iterator])}const NL=P=>{const O=new Array(10),$=(ce,Ae)=>{if(Ry(ce)){if(O.indexOf(ce)>=0)return;if(!("toJSON"in ce)){O[Ae]=ce;const ze=Fd(ce)?[]:{};return v0(ce,(G,V)=>{const e=$(G,Ae+1);!e0(e)&&(ze[V]=e)}),O[Ae]=void 0,ze}}return ce};return $(P,0)},BL=gc("AsyncFunction"),UL=P=>P&&(Ry(P)||of(P))&&of(P.then)&&of(P.catch),na={isArray:Fd,isArrayBuffer:PA,isBuffer:lL,isFormData:yL,isArrayBufferView:uL,isString:fL,isNumber:RA,isBoolean:cL,isObject:Ry,isPlainObject:Mg,isUndefined:e0,isDate:hL,isFile:vL,isBlob:dL,isRegExp:_L,isFunction:of,isStream:gL,isURLSearchParams:mL,isTypedArray:EL,isFileList:pL,forEach:v0,merge:ex,extend:bL,trim:xL,stripBOM:wL,inherits:TL,toFlatObject:AL,kindOf:Ly,kindOfTest:gc,endsWith:ML,toArray:SL,forEachEntry:CL,matchAll:LL,isHTMLForm:PL,hasOwnProperty:xw,hasOwnProp:xw,reduceDescriptors:IA,freezeMethods:DL,toObjectSet:kL,toCamelCase:RL,noop:IL,toFiniteNumber:FL,findKey:_A,global:DA,isContextDefined:kA,ALPHABET:FA,generateString:zL,isSpecCompliantForm:OL,toJSONObject:NL,isAsyncFn:BL,isThenable:UL};function eo(P,O,$,ce,Ae){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=P,this.name="AxiosError",O&&(this.code=O),$&&(this.config=$),ce&&(this.request=ce),Ae&&(this.response=Ae)}na.inherits(eo,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:na.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zA=eo.prototype,OA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(P=>{OA[P]={value:P}});Object.defineProperties(eo,OA);Object.defineProperty(zA,"isAxiosError",{value:!0});eo.from=(P,O,$,ce,Ae,ze)=>{const G=Object.create(zA);return na.toFlatObject(P,G,function(e){return e!==Error.prototype},V=>V!=="isAxiosError"),eo.call(G,P.message,O,$,ce,Ae),G.cause=P,G.name=P.name,ze&&Object.assign(G,ze),G};const HL=null;function tx(P){return na.isPlainObject(P)||na.isArray(P)}function NA(P){return na.endsWith(P,"[]")?P.slice(0,-2):P}function ww(P,O,$){return P?P.concat(O).map(function(Ae,ze){return Ae=NA(Ae),!$&&ze?"["+Ae+"]":Ae}).join($?".":""):O}function VL(P){return na.isArray(P)&&!P.some(tx)}const GL=na.toFlatObject(na,{},null,function(O){return/^is[A-Z]/.test(O)});function _y(P,O,$){if(!na.isObject(P))throw new TypeError("target must be an object");O=O||new FormData,$=na.toFlatObject($,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,t){return!na.isUndefined(t[p])});const ce=$.metaTokens,Ae=$.visitor||R,ze=$.dots,G=$.indexes,e=($.Blob||typeof Blob<"u"&&Blob)&&na.isSpecCompliantForm(O);if(!na.isFunction(Ae))throw new TypeError("visitor must be a function");function g(v){if(v===null)return"";if(na.isDate(v))return v.toISOString();if(!e&&na.isBlob(v))throw new eo("Blob is not supported. Use a Buffer instead.");return na.isArrayBuffer(v)||na.isTypedArray(v)?e&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function R(v,p,t){let r=v;if(v&&!t&&typeof v=="object"){if(na.endsWith(p,"{}"))p=ce?p:p.slice(0,-2),v=JSON.stringify(v);else if(na.isArray(v)&&VL(v)||(na.isFileList(v)||na.endsWith(p,"[]"))&&(r=na.toArray(v)))return p=NA(p),r.forEach(function(n,s){!(na.isUndefined(n)||n===null)&&O.append(G===!0?ww([p],s,ze):G===null?p:p+"[]",g(n))}),!1}return tx(v)?!0:(O.append(ww(t,p,ze),g(v)),!1)}const i=[],L=Object.assign(GL,{defaultVisitor:R,convertValue:g,isVisitable:tx});function T(v,p){if(!na.isUndefined(v)){if(i.indexOf(v)!==-1)throw Error("Circular reference detected in "+p.join("."));i.push(v),na.forEach(v,function(r,l){(!(na.isUndefined(r)||r===null)&&Ae.call(O,r,na.isString(l)?l.trim():l,p,L))===!0&&T(r,p?p.concat(l):[l])}),i.pop()}}if(!na.isObject(P))throw new TypeError("data must be an object");return T(P),O}function Tw(P){const O={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(P).replace(/[!'()~]|%20|%00/g,function(ce){return O[ce]})}function c2(P,O){this._pairs=[],P&&_y(P,this,O)}const BA=c2.prototype;BA.append=function(O,$){this._pairs.push([O,$])};BA.toString=function(O){const $=O?function(ce){return O.call(this,ce,Tw)}:Tw;return this._pairs.map(function(Ae){return $(Ae[0])+"="+$(Ae[1])},"").join("&")};function WL(P){return encodeURIComponent(P).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function UA(P,O,$){if(!O)return P;const ce=$&&$.encode||WL,Ae=$&&$.serialize;let ze;if(Ae?ze=Ae(O,$):ze=na.isURLSearchParams(O)?O.toString():new c2(O,$).toString(ce),ze){const G=P.indexOf("#");G!==-1&&(P=P.slice(0,G)),P+=(P.indexOf("?")===-1?"?":"&")+ze}return P}class jL{constructor(){this.handlers=[]}use(O,$,ce){return this.handlers.push({fulfilled:O,rejected:$,synchronous:ce?ce.synchronous:!1,runWhen:ce?ce.runWhen:null}),this.handlers.length-1}eject(O){this.handlers[O]&&(this.handlers[O]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(O){na.forEach(this.handlers,function(ce){ce!==null&&O(ce)})}}const Aw=jL,HA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YL=typeof URLSearchParams<"u"?URLSearchParams:c2,ZL=typeof FormData<"u"?FormData:null,XL=typeof Blob<"u"?Blob:null,KL=(()=>{let P;return typeof navigator<"u"&&((P=navigator.product)==="ReactNative"||P==="NativeScript"||P==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),JL=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),cc={isBrowser:!0,classes:{URLSearchParams:YL,FormData:ZL,Blob:XL},isStandardBrowserEnv:KL,isStandardBrowserWebWorkerEnv:JL,protocols:["http","https","file","blob","url","data"]};function QL(P,O){return _y(P,new cc.classes.URLSearchParams,Object.assign({visitor:function($,ce,Ae,ze){return cc.isNode&&na.isBuffer($)?(this.append(ce,$.toString("base64")),!1):ze.defaultVisitor.apply(this,arguments)}},O))}function $L(P){return na.matchAll(/\w+|\[(\w*)]/g,P).map(O=>O[0]==="[]"?"":O[1]||O[0])}function qL(P){const O={},$=Object.keys(P);let ce;const Ae=$.length;let ze;for(ce=0;ce<Ae;ce++)ze=$[ce],O[ze]=P[ze];return O}function VA(P){function O($,ce,Ae,ze){let G=$[ze++];const V=Number.isFinite(+G),e=ze>=$.length;return G=!G&&na.isArray(Ae)?Ae.length:G,e?(na.hasOwnProp(Ae,G)?Ae[G]=[Ae[G],ce]:Ae[G]=ce,!V):((!Ae[G]||!na.isObject(Ae[G]))&&(Ae[G]=[]),O($,ce,Ae[G],ze)&&na.isArray(Ae[G])&&(Ae[G]=qL(Ae[G])),!V)}if(na.isFormData(P)&&na.isFunction(P.entries)){const $={};return na.forEachEntry(P,(ce,Ae)=>{O($L(ce),Ae,$,0)}),$}return null}const e7={"Content-Type":void 0};function t7(P,O,$){if(na.isString(P))try{return(O||JSON.parse)(P),na.trim(P)}catch(ce){if(ce.name!=="SyntaxError")throw ce}return($||JSON.stringify)(P)}const Dy={transitional:HA,adapter:["xhr","http"],transformRequest:[function(O,$){const ce=$.getContentType()||"",Ae=ce.indexOf("application/json")>-1,ze=na.isObject(O);if(ze&&na.isHTMLForm(O)&&(O=new FormData(O)),na.isFormData(O))return Ae&&Ae?JSON.stringify(VA(O)):O;if(na.isArrayBuffer(O)||na.isBuffer(O)||na.isStream(O)||na.isFile(O)||na.isBlob(O))return O;if(na.isArrayBufferView(O))return O.buffer;if(na.isURLSearchParams(O))return $.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),O.toString();let V;if(ze){if(ce.indexOf("application/x-www-form-urlencoded")>-1)return QL(O,this.formSerializer).toString();if((V=na.isFileList(O))||ce.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return _y(V?{"files[]":O}:O,e&&new e,this.formSerializer)}}return ze||Ae?($.setContentType("application/json",!1),t7(O)):O}],transformResponse:[function(O){const $=this.transitional||Dy.transitional,ce=$&&$.forcedJSONParsing,Ae=this.responseType==="json";if(O&&na.isString(O)&&(ce&&!this.responseType||Ae)){const G=!($&&$.silentJSONParsing)&&Ae;try{return JSON.parse(O)}catch(V){if(G)throw V.name==="SyntaxError"?eo.from(V,eo.ERR_BAD_RESPONSE,this,null,this.response):V}}return O}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cc.classes.FormData,Blob:cc.classes.Blob},validateStatus:function(O){return O>=200&&O<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};na.forEach(["delete","get","head"],function(O){Dy.headers[O]={}});na.forEach(["post","put","patch"],function(O){Dy.headers[O]=na.merge(e7)});const h2=Dy,r7=na.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),n7=P=>{const O={};let $,ce,Ae;return P&&P.split(`
`).forEach(function(G){Ae=G.indexOf(":"),$=G.substring(0,Ae).trim().toLowerCase(),ce=G.substring(Ae+1).trim(),!(!$||O[$]&&r7[$])&&($==="set-cookie"?O[$]?O[$].push(ce):O[$]=[ce]:O[$]=O[$]?O[$]+", "+ce:ce)}),O},Mw=Symbol("internals");function gp(P){return P&&String(P).trim().toLowerCase()}function Sg(P){return P===!1||P==null?P:na.isArray(P)?P.map(Sg):String(P)}function a7(P){const O=Object.create(null),$=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let ce;for(;ce=$.exec(P);)O[ce[1]]=ce[2];return O}const i7=P=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(P.trim());function Jm(P,O,$,ce,Ae){if(na.isFunction(ce))return ce.call(this,O,$);if(Ae&&(O=$),!!na.isString(O)){if(na.isString(ce))return O.indexOf(ce)!==-1;if(na.isRegExp(ce))return ce.test(O)}}function o7(P){return P.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(O,$,ce)=>$.toUpperCase()+ce)}function s7(P,O){const $=na.toCamelCase(" "+O);["get","set","has"].forEach(ce=>{Object.defineProperty(P,ce+$,{value:function(Ae,ze,G){return this[ce].call(this,O,Ae,ze,G)},configurable:!0})})}class ky{constructor(O){O&&this.set(O)}set(O,$,ce){const Ae=this;function ze(V,e,g){const R=gp(e);if(!R)throw new Error("header name must be a non-empty string");const i=na.findKey(Ae,R);(!i||Ae[i]===void 0||g===!0||g===void 0&&Ae[i]!==!1)&&(Ae[i||e]=Sg(V))}const G=(V,e)=>na.forEach(V,(g,R)=>ze(g,R,e));return na.isPlainObject(O)||O instanceof this.constructor?G(O,$):na.isString(O)&&(O=O.trim())&&!i7(O)?G(n7(O),$):O!=null&&ze($,O,ce),this}get(O,$){if(O=gp(O),O){const ce=na.findKey(this,O);if(ce){const Ae=this[ce];if(!$)return Ae;if($===!0)return a7(Ae);if(na.isFunction($))return $.call(this,Ae,ce);if(na.isRegExp($))return $.exec(Ae);throw new TypeError("parser must be boolean|regexp|function")}}}has(O,$){if(O=gp(O),O){const ce=na.findKey(this,O);return!!(ce&&this[ce]!==void 0&&(!$||Jm(this,this[ce],ce,$)))}return!1}delete(O,$){const ce=this;let Ae=!1;function ze(G){if(G=gp(G),G){const V=na.findKey(ce,G);V&&(!$||Jm(ce,ce[V],V,$))&&(delete ce[V],Ae=!0)}}return na.isArray(O)?O.forEach(ze):ze(O),Ae}clear(O){const $=Object.keys(this);let ce=$.length,Ae=!1;for(;ce--;){const ze=$[ce];(!O||Jm(this,this[ze],ze,O,!0))&&(delete this[ze],Ae=!0)}return Ae}normalize(O){const $=this,ce={};return na.forEach(this,(Ae,ze)=>{const G=na.findKey(ce,ze);if(G){$[G]=Sg(Ae),delete $[ze];return}const V=O?o7(ze):String(ze).trim();V!==ze&&delete $[ze],$[V]=Sg(Ae),ce[V]=!0}),this}concat(...O){return this.constructor.concat(this,...O)}toJSON(O){const $=Object.create(null);return na.forEach(this,(ce,Ae)=>{ce!=null&&ce!==!1&&($[Ae]=O&&na.isArray(ce)?ce.join(", "):ce)}),$}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([O,$])=>O+": "+$).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(O){return O instanceof this?O:new this(O)}static concat(O,...$){const ce=new this(O);return $.forEach(Ae=>ce.set(Ae)),ce}static accessor(O){const ce=(this[Mw]=this[Mw]={accessors:{}}).accessors,Ae=this.prototype;function ze(G){const V=gp(G);ce[V]||(s7(Ae,G),ce[V]=!0)}return na.isArray(O)?O.forEach(ze):ze(O),this}}ky.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);na.freezeMethods(ky.prototype);na.freezeMethods(ky);const Uc=ky;function Qm(P,O){const $=this||h2,ce=O||$,Ae=Uc.from(ce.headers);let ze=ce.data;return na.forEach(P,function(V){ze=V.call($,ze,Ae.normalize(),O?O.status:void 0)}),Ae.normalize(),ze}function GA(P){return!!(P&&P.__CANCEL__)}function d0(P,O,$){eo.call(this,P??"canceled",eo.ERR_CANCELED,O,$),this.name="CanceledError"}na.inherits(d0,eo,{__CANCEL__:!0});function l7(P,O,$){const ce=$.config.validateStatus;!$.status||!ce||ce($.status)?P($):O(new eo("Request failed with status code "+$.status,[eo.ERR_BAD_REQUEST,eo.ERR_BAD_RESPONSE][Math.floor($.status/100)-4],$.config,$.request,$))}const u7=cc.isStandardBrowserEnv?function(){return{write:function($,ce,Ae,ze,G,V){const e=[];e.push($+"="+encodeURIComponent(ce)),na.isNumber(Ae)&&e.push("expires="+new Date(Ae).toGMTString()),na.isString(ze)&&e.push("path="+ze),na.isString(G)&&e.push("domain="+G),V===!0&&e.push("secure"),document.cookie=e.join("; ")},read:function($){const ce=document.cookie.match(new RegExp("(^|;\\s*)("+$+")=([^;]*)"));return ce?decodeURIComponent(ce[3]):null},remove:function($){this.write($,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function f7(P){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(P)}function c7(P,O){return O?P.replace(/\/+$/,"")+"/"+O.replace(/^\/+/,""):P}function WA(P,O){return P&&!f7(O)?c7(P,O):O}const h7=cc.isStandardBrowserEnv?function(){const O=/(msie|trident)/i.test(navigator.userAgent),$=document.createElement("a");let ce;function Ae(ze){let G=ze;return O&&($.setAttribute("href",G),G=$.href),$.setAttribute("href",G),{href:$.href,protocol:$.protocol?$.protocol.replace(/:$/,""):"",host:$.host,search:$.search?$.search.replace(/^\?/,""):"",hash:$.hash?$.hash.replace(/^#/,""):"",hostname:$.hostname,port:$.port,pathname:$.pathname.charAt(0)==="/"?$.pathname:"/"+$.pathname}}return ce=Ae(window.location.href),function(G){const V=na.isString(G)?Ae(G):G;return V.protocol===ce.protocol&&V.host===ce.host}}():function(){return function(){return!0}}();function v7(P){const O=/^([-+\w]{1,25})(:?\/\/|:)/.exec(P);return O&&O[1]||""}function d7(P,O){P=P||10;const $=new Array(P),ce=new Array(P);let Ae=0,ze=0,G;return O=O!==void 0?O:1e3,function(e){const g=Date.now(),R=ce[ze];G||(G=g),$[Ae]=e,ce[Ae]=g;let i=ze,L=0;for(;i!==Ae;)L+=$[i++],i=i%P;if(Ae=(Ae+1)%P,Ae===ze&&(ze=(ze+1)%P),g-G<O)return;const T=R&&g-R;return T?Math.round(L*1e3/T):void 0}}function Sw(P,O){let $=0;const ce=d7(50,250);return Ae=>{const ze=Ae.loaded,G=Ae.lengthComputable?Ae.total:void 0,V=ze-$,e=ce(V),g=ze<=G;$=ze;const R={loaded:ze,total:G,progress:G?ze/G:void 0,bytes:V,rate:e||void 0,estimated:e&&G&&g?(G-ze)/e:void 0,event:Ae};R[O?"download":"upload"]=!0,P(R)}}const p7=typeof XMLHttpRequest<"u",g7=p7&&function(P){return new Promise(function($,ce){let Ae=P.data;const ze=Uc.from(P.headers).normalize(),G=P.responseType;let V;function e(){P.cancelToken&&P.cancelToken.unsubscribe(V),P.signal&&P.signal.removeEventListener("abort",V)}na.isFormData(Ae)&&(cc.isStandardBrowserEnv||cc.isStandardBrowserWebWorkerEnv?ze.setContentType(!1):ze.setContentType("multipart/form-data;",!1));let g=new XMLHttpRequest;if(P.auth){const T=P.auth.username||"",v=P.auth.password?unescape(encodeURIComponent(P.auth.password)):"";ze.set("Authorization","Basic "+btoa(T+":"+v))}const R=WA(P.baseURL,P.url);g.open(P.method.toUpperCase(),UA(R,P.params,P.paramsSerializer),!0),g.timeout=P.timeout;function i(){if(!g)return;const T=Uc.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),p={data:!G||G==="text"||G==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:T,config:P,request:g};l7(function(r){$(r),e()},function(r){ce(r),e()},p),g=null}if("onloadend"in g?g.onloadend=i:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(i)},g.onabort=function(){g&&(ce(new eo("Request aborted",eo.ECONNABORTED,P,g)),g=null)},g.onerror=function(){ce(new eo("Network Error",eo.ERR_NETWORK,P,g)),g=null},g.ontimeout=function(){let v=P.timeout?"timeout of "+P.timeout+"ms exceeded":"timeout exceeded";const p=P.transitional||HA;P.timeoutErrorMessage&&(v=P.timeoutErrorMessage),ce(new eo(v,p.clarifyTimeoutError?eo.ETIMEDOUT:eo.ECONNABORTED,P,g)),g=null},cc.isStandardBrowserEnv){const T=(P.withCredentials||h7(R))&&P.xsrfCookieName&&u7.read(P.xsrfCookieName);T&&ze.set(P.xsrfHeaderName,T)}Ae===void 0&&ze.setContentType(null),"setRequestHeader"in g&&na.forEach(ze.toJSON(),function(v,p){g.setRequestHeader(p,v)}),na.isUndefined(P.withCredentials)||(g.withCredentials=!!P.withCredentials),G&&G!=="json"&&(g.responseType=P.responseType),typeof P.onDownloadProgress=="function"&&g.addEventListener("progress",Sw(P.onDownloadProgress,!0)),typeof P.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",Sw(P.onUploadProgress)),(P.cancelToken||P.signal)&&(V=T=>{g&&(ce(!T||T.type?new d0(null,P,g):T),g.abort(),g=null)},P.cancelToken&&P.cancelToken.subscribe(V),P.signal&&(P.signal.aborted?V():P.signal.addEventListener("abort",V)));const L=v7(R);if(L&&cc.protocols.indexOf(L)===-1){ce(new eo("Unsupported protocol "+L+":",eo.ERR_BAD_REQUEST,P));return}g.send(Ae||null)})},Eg={http:HL,xhr:g7};na.forEach(Eg,(P,O)=>{if(P){try{Object.defineProperty(P,"name",{value:O})}catch{}Object.defineProperty(P,"adapterName",{value:O})}});const y7={getAdapter:P=>{P=na.isArray(P)?P:[P];const{length:O}=P;let $,ce;for(let Ae=0;Ae<O&&($=P[Ae],!(ce=na.isString($)?Eg[$.toLowerCase()]:$));Ae++);if(!ce)throw ce===!1?new eo(`Adapter ${$} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(na.hasOwnProp(Eg,$)?`Adapter '${$}' is not available in the build`:`Unknown adapter '${$}'`);if(!na.isFunction(ce))throw new TypeError("adapter is not a function");return ce},adapters:Eg};function $m(P){if(P.cancelToken&&P.cancelToken.throwIfRequested(),P.signal&&P.signal.aborted)throw new d0(null,P)}function Ew(P){return $m(P),P.headers=Uc.from(P.headers),P.data=Qm.call(P,P.transformRequest),["post","put","patch"].indexOf(P.method)!==-1&&P.headers.setContentType("application/x-www-form-urlencoded",!1),y7.getAdapter(P.adapter||h2.adapter)(P).then(function(ce){return $m(P),ce.data=Qm.call(P,P.transformResponse,ce),ce.headers=Uc.from(ce.headers),ce},function(ce){return GA(ce)||($m(P),ce&&ce.response&&(ce.response.data=Qm.call(P,P.transformResponse,ce.response),ce.response.headers=Uc.from(ce.response.headers))),Promise.reject(ce)})}const Cw=P=>P instanceof Uc?P.toJSON():P;function Ld(P,O){O=O||{};const $={};function ce(g,R,i){return na.isPlainObject(g)&&na.isPlainObject(R)?na.merge.call({caseless:i},g,R):na.isPlainObject(R)?na.merge({},R):na.isArray(R)?R.slice():R}function Ae(g,R,i){if(na.isUndefined(R)){if(!na.isUndefined(g))return ce(void 0,g,i)}else return ce(g,R,i)}function ze(g,R){if(!na.isUndefined(R))return ce(void 0,R)}function G(g,R){if(na.isUndefined(R)){if(!na.isUndefined(g))return ce(void 0,g)}else return ce(void 0,R)}function V(g,R,i){if(i in O)return ce(g,R);if(i in P)return ce(void 0,g)}const e={url:ze,method:ze,data:ze,baseURL:G,transformRequest:G,transformResponse:G,paramsSerializer:G,timeout:G,timeoutMessage:G,withCredentials:G,adapter:G,responseType:G,xsrfCookieName:G,xsrfHeaderName:G,onUploadProgress:G,onDownloadProgress:G,decompress:G,maxContentLength:G,maxBodyLength:G,beforeRedirect:G,transport:G,httpAgent:G,httpsAgent:G,cancelToken:G,socketPath:G,responseEncoding:G,validateStatus:V,headers:(g,R)=>Ae(Cw(g),Cw(R),!0)};return na.forEach(Object.keys(Object.assign({},P,O)),function(R){const i=e[R]||Ae,L=i(P[R],O[R],R);na.isUndefined(L)&&i!==V||($[R]=L)}),$}const jA="1.4.0",v2={};["object","boolean","number","function","string","symbol"].forEach((P,O)=>{v2[P]=function(ce){return typeof ce===P||"a"+(O<1?"n ":" ")+P}});const Lw={};v2.transitional=function(O,$,ce){function Ae(ze,G){return"[Axios v"+jA+"] Transitional option '"+ze+"'"+G+(ce?". "+ce:"")}return(ze,G,V)=>{if(O===!1)throw new eo(Ae(G," has been removed"+($?" in "+$:"")),eo.ERR_DEPRECATED);return $&&!Lw[G]&&(Lw[G]=!0,console.warn(Ae(G," has been deprecated since v"+$+" and will be removed in the near future"))),O?O(ze,G,V):!0}};function m7(P,O,$){if(typeof P!="object")throw new eo("options must be an object",eo.ERR_BAD_OPTION_VALUE);const ce=Object.keys(P);let Ae=ce.length;for(;Ae-- >0;){const ze=ce[Ae],G=O[ze];if(G){const V=P[ze],e=V===void 0||G(V,ze,P);if(e!==!0)throw new eo("option "+ze+" must be "+e,eo.ERR_BAD_OPTION_VALUE);continue}if($!==!0)throw new eo("Unknown option "+ze,eo.ERR_BAD_OPTION)}}const rx={assertOptions:m7,validators:v2},xh=rx.validators;class sy{constructor(O){this.defaults=O,this.interceptors={request:new Aw,response:new Aw}}request(O,$){typeof O=="string"?($=$||{},$.url=O):$=O||{},$=Ld(this.defaults,$);const{transitional:ce,paramsSerializer:Ae,headers:ze}=$;ce!==void 0&&rx.assertOptions(ce,{silentJSONParsing:xh.transitional(xh.boolean),forcedJSONParsing:xh.transitional(xh.boolean),clarifyTimeoutError:xh.transitional(xh.boolean)},!1),Ae!=null&&(na.isFunction(Ae)?$.paramsSerializer={serialize:Ae}:rx.assertOptions(Ae,{encode:xh.function,serialize:xh.function},!0)),$.method=($.method||this.defaults.method||"get").toLowerCase();let G;G=ze&&na.merge(ze.common,ze[$.method]),G&&na.forEach(["delete","get","head","post","put","patch","common"],v=>{delete ze[v]}),$.headers=Uc.concat(G,ze);const V=[];let e=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen($)===!1||(e=e&&p.synchronous,V.unshift(p.fulfilled,p.rejected))});const g=[];this.interceptors.response.forEach(function(p){g.push(p.fulfilled,p.rejected)});let R,i=0,L;if(!e){const v=[Ew.bind(this),void 0];for(v.unshift.apply(v,V),v.push.apply(v,g),L=v.length,R=Promise.resolve($);i<L;)R=R.then(v[i++],v[i++]);return R}L=V.length;let T=$;for(i=0;i<L;){const v=V[i++],p=V[i++];try{T=v(T)}catch(t){p.call(this,t);break}}try{R=Ew.call(this,T)}catch(v){return Promise.reject(v)}for(i=0,L=g.length;i<L;)R=R.then(g[i++],g[i++]);return R}getUri(O){O=Ld(this.defaults,O);const $=WA(O.baseURL,O.url);return UA($,O.params,O.paramsSerializer)}}na.forEach(["delete","get","head","options"],function(O){sy.prototype[O]=function($,ce){return this.request(Ld(ce||{},{method:O,url:$,data:(ce||{}).data}))}});na.forEach(["post","put","patch"],function(O){function $(ce){return function(ze,G,V){return this.request(Ld(V||{},{method:O,headers:ce?{"Content-Type":"multipart/form-data"}:{},url:ze,data:G}))}}sy.prototype[O]=$(),sy.prototype[O+"Form"]=$(!0)});const Cg=sy;class d2{constructor(O){if(typeof O!="function")throw new TypeError("executor must be a function.");let $;this.promise=new Promise(function(ze){$=ze});const ce=this;this.promise.then(Ae=>{if(!ce._listeners)return;let ze=ce._listeners.length;for(;ze-- >0;)ce._listeners[ze](Ae);ce._listeners=null}),this.promise.then=Ae=>{let ze;const G=new Promise(V=>{ce.subscribe(V),ze=V}).then(Ae);return G.cancel=function(){ce.unsubscribe(ze)},G},O(function(ze,G,V){ce.reason||(ce.reason=new d0(ze,G,V),$(ce.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(O){if(this.reason){O(this.reason);return}this._listeners?this._listeners.push(O):this._listeners=[O]}unsubscribe(O){if(!this._listeners)return;const $=this._listeners.indexOf(O);$!==-1&&this._listeners.splice($,1)}static source(){let O;return{token:new d2(function(Ae){O=Ae}),cancel:O}}}const x7=d2;function b7(P){return function($){return P.apply(null,$)}}function w7(P){return na.isObject(P)&&P.isAxiosError===!0}const nx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nx).forEach(([P,O])=>{nx[O]=P});const T7=nx;function YA(P){const O=new Cg(P),$=LA(Cg.prototype.request,O);return na.extend($,Cg.prototype,O,{allOwnKeys:!0}),na.extend($,O,null,{allOwnKeys:!0}),$.create=function(Ae){return YA(Ld(P,Ae))},$}const Us=YA(h2);Us.Axios=Cg;Us.CanceledError=d0;Us.CancelToken=x7;Us.isCancel=GA;Us.VERSION=jA;Us.toFormData=_y;Us.AxiosError=eo;Us.Cancel=Us.CanceledError;Us.all=function(O){return Promise.all(O)};Us.spread=b7;Us.isAxiosError=w7;Us.mergeConfig=Ld;Us.AxiosHeaders=Uc;Us.formToJSON=P=>VA(na.isHTMLForm(P)?new FormData(P):P);Us.HttpStatusCode=T7;Us.default=Us;const dv=Us;let A7={data:""},M7=P=>typeof window=="object"?((P?P.querySelector("#_goober"):window._goober)||Object.assign((P||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:P||A7,S7=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,E7=/\/\*[^]*?\*\/|  +/g,Pw=/\n+/g,Mh=(P,O)=>{let $="",ce="",Ae="";for(let ze in P){let G=P[ze];ze[0]=="@"?ze[1]=="i"?$=ze+" "+G+";":ce+=ze[1]=="f"?Mh(G,ze):ze+"{"+Mh(G,ze[1]=="k"?"":O)+"}":typeof G=="object"?ce+=Mh(G,O?O.replace(/([^,])+/g,V=>ze.replace(/(^:.*)|([^,])+/g,e=>/&/.test(e)?e.replace(/&/g,V):V?V+" "+e:e)):ze):G!=null&&(ze=/^--/.test(ze)?ze:ze.replace(/[A-Z]/g,"-$&").toLowerCase(),Ae+=Mh.p?Mh.p(ze,G):ze+":"+G+";")}return $+(O&&Ae?O+"{"+Ae+"}":Ae)+ce},kc={},ZA=P=>{if(typeof P=="object"){let O="";for(let $ in P)O+=$+ZA(P[$]);return O}return P},C7=(P,O,$,ce,Ae)=>{let ze=ZA(P),G=kc[ze]||(kc[ze]=(e=>{let g=0,R=11;for(;g<e.length;)R=101*R+e.charCodeAt(g++)>>>0;return"go"+R})(ze));if(!kc[G]){let e=ze!==P?P:(g=>{let R,i,L=[{}];for(;R=S7.exec(g.replace(E7,""));)R[4]?L.shift():R[3]?(i=R[3].replace(Pw," ").trim(),L.unshift(L[0][i]=L[0][i]||{})):L[0][R[1]]=R[2].replace(Pw," ").trim();return L[0]})(P);kc[G]=Mh(Ae?{["@keyframes "+G]:e}:e,$?"":"."+G)}let V=$&&kc.g?kc.g:null;return $&&(kc.g=kc[G]),((e,g,R,i)=>{i?g.data=g.data.replace(i,e):g.data.indexOf(e)===-1&&(g.data=R?e+g.data:g.data+e)})(kc[G],O,ce,V),G},L7=(P,O,$)=>P.reduce((ce,Ae,ze)=>{let G=O[ze];if(G&&G.call){let V=G($),e=V&&V.props&&V.props.className||/^go/.test(V)&&V;G=e?"."+e:V&&typeof V=="object"?V.props?"":Mh(V,""):V===!1?"":V}return ce+Ae+(G??"")},"");function Iy(P){let O=this||{},$=P.call?P(O.p):P;return C7($.unshift?$.raw?L7($,[].slice.call(arguments,1),O.p):$.reduce((ce,Ae)=>Object.assign(ce,Ae&&Ae.call?Ae(O.p):Ae),{}):$,M7(O.target),O.g,O.o,O.k)}let XA,ax,ix;Iy.bind({g:1});let Yc=Iy.bind({k:1});function P7(P,O,$,ce){Mh.p=O,XA=P,ax=$,ix=ce}function Uh(P,O){let $=this||{};return function(){let ce=arguments;function Ae(ze,G){let V=Object.assign({},ze),e=V.className||Ae.className;$.p=Object.assign({theme:ax&&ax()},V),$.o=/ *go\d+/.test(e),V.className=Iy.apply($,ce)+(e?" "+e:""),O&&(V.ref=G);let g=P;return P[0]&&(g=V.as||P,delete V.as),ix&&g[0]&&ix(V),XA(g,V)}return O?O(Ae):Ae}}var R7=P=>typeof P=="function",ly=(P,O)=>R7(P)?P(O):P,_7=(()=>{let P=0;return()=>(++P).toString()})(),KA=(()=>{let P;return()=>{if(P===void 0&&typeof window<"u"){let O=matchMedia("(prefers-reduced-motion: reduce)");P=!O||O.matches}return P}})(),D7=20,Lg=new Map,k7=1e3,Rw=P=>{if(Lg.has(P))return;let O=setTimeout(()=>{Lg.delete(P),yv({type:4,toastId:P})},k7);Lg.set(P,O)},I7=P=>{let O=Lg.get(P);O&&clearTimeout(O)},ox=(P,O)=>{switch(O.type){case 0:return{...P,toasts:[O.toast,...P.toasts].slice(0,D7)};case 1:return O.toast.id&&I7(O.toast.id),{...P,toasts:P.toasts.map(ze=>ze.id===O.toast.id?{...ze,...O.toast}:ze)};case 2:let{toast:$}=O;return P.toasts.find(ze=>ze.id===$.id)?ox(P,{type:1,toast:$}):ox(P,{type:0,toast:$});case 3:let{toastId:ce}=O;return ce?Rw(ce):P.toasts.forEach(ze=>{Rw(ze.id)}),{...P,toasts:P.toasts.map(ze=>ze.id===ce||ce===void 0?{...ze,visible:!1}:ze)};case 4:return O.toastId===void 0?{...P,toasts:[]}:{...P,toasts:P.toasts.filter(ze=>ze.id!==O.toastId)};case 5:return{...P,pausedAt:O.time};case 6:let Ae=O.time-(P.pausedAt||0);return{...P,pausedAt:void 0,toasts:P.toasts.map(ze=>({...ze,pauseDuration:ze.pauseDuration+Ae}))}}},Pg=[],Rg={toasts:[],pausedAt:void 0},yv=P=>{Rg=ox(Rg,P),Pg.forEach(O=>{O(Rg)})},F7={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},z7=(P={})=>{let[O,$]=qn.useState(Rg);qn.useEffect(()=>(Pg.push($),()=>{let Ae=Pg.indexOf($);Ae>-1&&Pg.splice(Ae,1)}),[O]);let ce=O.toasts.map(Ae=>{var ze,G;return{...P,...P[Ae.type],...Ae,duration:Ae.duration||((ze=P[Ae.type])==null?void 0:ze.duration)||(P==null?void 0:P.duration)||F7[Ae.type],style:{...P.style,...(G=P[Ae.type])==null?void 0:G.style,...Ae.style}}});return{...O,toasts:ce}},O7=(P,O="blank",$)=>({createdAt:Date.now(),visible:!0,type:O,ariaProps:{role:"status","aria-live":"polite"},message:P,pauseDuration:0,...$,id:($==null?void 0:$.id)||_7()}),p0=P=>(O,$)=>{let ce=O7(O,P,$);return yv({type:2,toast:ce}),ce.id},Iu=(P,O)=>p0("blank")(P,O);Iu.error=p0("error");Iu.success=p0("success");Iu.loading=p0("loading");Iu.custom=p0("custom");Iu.dismiss=P=>{yv({type:3,toastId:P})};Iu.remove=P=>yv({type:4,toastId:P});Iu.promise=(P,O,$)=>{let ce=Iu.loading(O.loading,{...$,...$==null?void 0:$.loading});return P.then(Ae=>(Iu.success(ly(O.success,Ae),{id:ce,...$,...$==null?void 0:$.success}),Ae)).catch(Ae=>{Iu.error(ly(O.error,Ae),{id:ce,...$,...$==null?void 0:$.error})}),P};var N7=(P,O)=>{yv({type:1,toast:{id:P,height:O}})},B7=()=>{yv({type:5,time:Date.now()})},U7=P=>{let{toasts:O,pausedAt:$}=z7(P);qn.useEffect(()=>{if($)return;let ze=Date.now(),G=O.map(V=>{if(V.duration===1/0)return;let e=(V.duration||0)+V.pauseDuration-(ze-V.createdAt);if(e<0){V.visible&&Iu.dismiss(V.id);return}return setTimeout(()=>Iu.dismiss(V.id),e)});return()=>{G.forEach(V=>V&&clearTimeout(V))}},[O,$]);let ce=qn.useCallback(()=>{$&&yv({type:6,time:Date.now()})},[$]),Ae=qn.useCallback((ze,G)=>{let{reverseOrder:V=!1,gutter:e=8,defaultPosition:g}=G||{},R=O.filter(T=>(T.position||g)===(ze.position||g)&&T.height),i=R.findIndex(T=>T.id===ze.id),L=R.filter((T,v)=>v<i&&T.visible).length;return R.filter(T=>T.visible).slice(...V?[L+1]:[0,L]).reduce((T,v)=>T+(v.height||0)+e,0)},[O]);return{toasts:O,handlers:{updateHeight:N7,startPause:B7,endPause:ce,calculateOffset:Ae}}},H7=Yc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,V7=Yc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,G7=Yc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,W7=Uh("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${P=>P.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${H7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${V7} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${P=>P.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${G7} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,j7=Yc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Y7=Uh("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${P=>P.secondary||"#e0e0e0"};
  border-right-color: ${P=>P.primary||"#616161"};
  animation: ${j7} 1s linear infinite;
`,Z7=Yc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,X7=Yc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,K7=Uh("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${P=>P.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Z7} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${X7} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${P=>P.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,J7=Uh("div")`
  position: absolute;
`,Q7=Uh("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$7=Yc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,q7=Uh("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$7} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,e9=({toast:P})=>{let{icon:O,type:$,iconTheme:ce}=P;return O!==void 0?typeof O=="string"?qn.createElement(q7,null,O):O:$==="blank"?null:qn.createElement(Q7,null,qn.createElement(Y7,{...ce}),$!=="loading"&&qn.createElement(J7,null,$==="error"?qn.createElement(W7,{...ce}):qn.createElement(K7,{...ce})))},t9=P=>`
0% {transform: translate3d(0,${P*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,r9=P=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${P*-150}%,-1px) scale(.6); opacity:0;}
`,n9="0%{opacity:0;} 100%{opacity:1;}",a9="0%{opacity:1;} 100%{opacity:0;}",i9=Uh("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,o9=Uh("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,s9=(P,O)=>{let $=P.includes("top")?1:-1,[ce,Ae]=KA()?[n9,a9]:[t9($),r9($)];return{animation:O?`${Yc(ce)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Yc(Ae)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},l9=qn.memo(({toast:P,position:O,style:$,children:ce})=>{let Ae=P.height?s9(P.position||O||"top-center",P.visible):{opacity:0},ze=qn.createElement(e9,{toast:P}),G=qn.createElement(o9,{...P.ariaProps},ly(P.message,P));return qn.createElement(i9,{className:P.className,style:{...Ae,...$,...P.style}},typeof ce=="function"?ce({icon:ze,message:G}):qn.createElement(qn.Fragment,null,ze,G))});P7(qn.createElement);var u9=({id:P,className:O,style:$,onHeightUpdate:ce,children:Ae})=>{let ze=qn.useCallback(G=>{if(G){let V=()=>{let e=G.getBoundingClientRect().height;ce(P,e)};V(),new MutationObserver(V).observe(G,{subtree:!0,childList:!0,characterData:!0})}},[P,ce]);return qn.createElement("div",{ref:ze,className:O,style:$},Ae)},f9=(P,O)=>{let $=P.includes("top"),ce=$?{top:0}:{bottom:0},Ae=P.includes("center")?{justifyContent:"center"}:P.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:KA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${O*($?1:-1)}px)`,...ce,...Ae}},c9=Iy`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,fg=16,zd=({reverseOrder:P,position:O="top-center",toastOptions:$,gutter:ce,children:Ae,containerStyle:ze,containerClassName:G})=>{let{toasts:V,handlers:e}=U7($);return qn.createElement("div",{style:{position:"fixed",zIndex:9999,top:fg,left:fg,right:fg,bottom:fg,pointerEvents:"none",...ze},className:G,onMouseEnter:e.startPause,onMouseLeave:e.endPause},V.map(g=>{let R=g.position||O,i=e.calculateOffset(g,{reverseOrder:P,gutter:ce,defaultPosition:O}),L=f9(R,i);return qn.createElement(u9,{id:g.id,key:g.id,onHeightUpdate:e.updateHeight,className:g.visible?c9:"",style:L},g.type==="custom"?ly(g.message,g):Ae?Ae(g):qn.createElement(l9,{toast:g,position:R}))}))},Bf=Iu;const h9="Pierre",v9="Linz",d9="pierre.linz@ntm.fr",p9="1280",g9={firstname:h9,lastname:v9,email:d9,cumulative_sales:p9};function y9(){const[P,O]=qn.useState(g9);return qn.useEffect(()=>{dv.get("https://apimysql-1-r1261081.deta.app/customers/12",{withCredentials:!0}).then($=>{O($.data)}).catch($=>{console.log($),Bf.error($.response.data.detail)})},[]),an.jsxs("div",{className:"container mt-4",children:[an.jsx("div",{className:"card",children:an.jsxs("div",{className:"card-body",children:[an.jsx("h5",{className:"card-title text-center",children:"Information du profile :"}),an.jsx("table",{className:"table",children:an.jsxs("tbody",{children:[an.jsxs("tr",{children:[an.jsx("td",{className:"fw-bold",children:"Nom:"}),an.jsx("td",{children:P.firstname})]}),an.jsxs("tr",{children:[an.jsx("td",{className:"fw-bold",children:"Prnom:"}),an.jsx("td",{children:P.lastname})]}),an.jsxs("tr",{children:[an.jsx("td",{className:"fw-bold",children:"Email:"}),an.jsx("td",{children:P.email})]}),an.jsxs("tr",{children:[an.jsx("td",{className:"fw-bold",children:"Total dpens :"}),an.jsx("td",{children:P.cumulative_sales})]})]})})]})}),an.jsx(zd,{})]})}var JA={},QA={},$A={exports:{}},m9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",x9=m9,b9=x9;function qA(){}function e4(){}e4.resetWarningCache=qA;var w9=function(){function P(ce,Ae,ze,G,V,e){if(e!==b9){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}P.isRequired=P;function O(){return P}var $={array:P,bigint:P,bool:P,func:P,number:P,object:P,string:P,symbol:P,any:P,arrayOf:O,element:P,elementType:P,instanceOf:O,node:P,objectOf:O,oneOf:O,oneOfType:O,shape:O,exact:O,checkPropTypes:e4,resetWarningCache:qA};return $.PropTypes=$,$};$A.exports=w9();var T9=$A.exports;(function(P){function O(c){"@babel/helpers - typeof";return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},O(c)}Object.defineProperty(P,"__esModule",{value:!0}),P.default=s;var $=G(qn),ce=Ae(T9);function Ae(c){return c&&c.__esModule?c:{default:c}}function ze(c){if(typeof WeakMap!="function")return null;var u=new WeakMap,y=new WeakMap;return(ze=function(b){return b?y:u})(c)}function G(c,u){if(!u&&c&&c.__esModule)return c;if(c===null||O(c)!=="object"&&typeof c!="function")return{default:c};var y=ze(u);if(y&&y.has(c))return y.get(c);var h={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in c)if(f!=="default"&&Object.prototype.hasOwnProperty.call(c,f)){var o=b?Object.getOwnPropertyDescriptor(c,f):null;o&&(o.get||o.set)?Object.defineProperty(h,f,o):h[f]=c[f]}return h.default=c,y&&y.set(c,h),h}function V(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function e(c,u){for(var y=0;y<u.length;y++){var h=u[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function g(c,u,y){return u&&e(c.prototype,u),y&&e(c,y),Object.defineProperty(c,"prototype",{writable:!1}),c}function R(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),u&&i(c,u)}function i(c,u){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,b){return h.__proto__=b,h},i(c,u)}function L(c){var u=p();return function(){var h=t(c),b;if(u){var f=t(this).constructor;b=Reflect.construct(h,arguments,f)}else b=h.apply(this,arguments);return T(this,b)}}function T(c,u){if(u&&(O(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(c)}function v(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t(c){return t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},t(c)}var r=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],l=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function s(c){var u=function(y){R(b,y);var h=L(b);function b(f){var o;return V(this,b),o=h.call(this,f),o.p=Promise.resolve(),o.resizeHandler=null,o.handlers={},o.syncWindowResize=o.syncWindowResize.bind(v(o)),o.syncEventHandlers=o.syncEventHandlers.bind(v(o)),o.attachUpdateEvents=o.attachUpdateEvents.bind(v(o)),o.getRef=o.getRef.bind(v(o)),o.handleUpdate=o.handleUpdate.bind(v(o)),o.figureCallback=o.figureCallback.bind(v(o)),o.updatePlotly=o.updatePlotly.bind(v(o)),o}return g(b,[{key:"updatePlotly",value:function(o,d,A){var M=this;this.p=this.p.then(function(){if(!M.unmounting){if(!M.el)throw new Error("Missing element reference");return c.react(M.el,{data:M.props.data,layout:M.props.layout,config:M.props.config,frames:M.props.frames})}}).then(function(){M.unmounting||(M.syncWindowResize(o),M.syncEventHandlers(),M.figureCallback(d),A&&M.attachUpdateEvents())}).catch(function(C){M.props.onError&&M.props.onError(C)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(o){this.unmounting=!1;var d=o.frames&&o.frames.length?o.frames.length:0,A=this.props.frames&&this.props.frames.length?this.props.frames.length:0,M=!(o.layout===this.props.layout&&o.data===this.props.data&&o.config===this.props.config&&A===d),C=o.revision!==void 0,m=o.revision!==this.props.revision;!M&&(!C||C&&!m)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),c.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||l.forEach(function(d){o.el.on(d,o.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var o=this;!this.el||!this.el.removeListener||l.forEach(function(d){o.el.removeListener(d,o.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(o){if(typeof o=="function"){var d=this.el,A=d.data,M=d.layout,C=this.el._transitionData?this.el._transitionData._frames:null,m={data:A,layout:M,frames:C};o(m,this.el)}}},{key:"syncWindowResize",value:function(o){var d=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return c.Plots.resize(d.el)},window.addEventListener("resize",this.resizeHandler),o&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(o){this.el=o,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var o=this;r.forEach(function(d){var A=o.props["on"+d],M=o.handlers[d],C=!!M;A&&!C?o.addEventHandler(d,A):!A&&C?o.removeEventHandler(d):A&&C&&A!==M&&(o.removeEventHandler(d),o.addEventHandler(d,A))})}},{key:"addEventHandler",value:function(o,d){this.handlers[o]=d,this.el.on(this.getPlotlyEventName(o),this.handlers[o])}},{key:"removeEventHandler",value:function(o){this.el.removeListener(this.getPlotlyEventName(o),this.handlers[o]),delete this.handlers[o]}},{key:"getPlotlyEventName",value:function(o){return"plotly_"+o.toLowerCase()}},{key:"render",value:function(){return $.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),b}($.Component);return u.propTypes={data:ce.default.arrayOf(ce.default.object),config:ce.default.object,layout:ce.default.object,frames:ce.default.arrayOf(ce.default.object),revision:ce.default.number,onInitialized:ce.default.func,onPurge:ce.default.func,onError:ce.default.func,onUpdate:ce.default.func,debug:ce.default.bool,style:ce.default.object,className:ce.default.string,useResizeHandler:ce.default.bool,divId:ce.default.string},r.forEach(function(y){u.propTypes["on"+y]=ce.default.func}),u.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},u}})(QA);var t4={exports:{}};(function(P,O){(function(ce,Ae){P.exports=Ae()})(self,function(){return function(){var $={98847:function(G,V,e){var g=e(71828),R={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in R){var L=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");g.addStyleRule(L,R[i])}},98222:function(G,V,e){G.exports=e(82887)},27206:function(G,V,e){G.exports=e(60822)},59893:function(G,V,e){G.exports=e(23381)},5224:function(G,V,e){G.exports=e(83832)},59509:function(G,V,e){G.exports=e(72201)},75557:function(G,V,e){G.exports=e(91815)},40338:function(G,V,e){G.exports=e(21462)},35080:function(G,V,e){G.exports=e(51319)},61396:function(G,V,e){G.exports=e(57516)},40549:function(G,V,e){G.exports=e(98128)},49866:function(G,V,e){G.exports=e(99442)},36089:function(G,V,e){G.exports=e(93740)},19548:function(G,V,e){G.exports=e(8729)},35831:function(G,V,e){G.exports=e(93814)},61039:function(G,V,e){G.exports=e(14382)},97040:function(G,V,e){G.exports=e(51759)},77986:function(G,V,e){G.exports=e(10421)},24296:function(G,V,e){G.exports=e(43102)},58872:function(G,V,e){G.exports=e(92165)},29626:function(G,V,e){G.exports=e(3325)},65591:function(G,V,e){G.exports=e(36071)},69738:function(G,V,e){G.exports=e(43905)},92650:function(G,V,e){G.exports=e(35902)},35630:function(G,V,e){G.exports=e(69816)},73434:function(G,V,e){G.exports=e(94507)},27909:function(G,V,e){var g=e(19548);g.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),G.exports=g},46163:function(G,V,e){G.exports=e(15154)},96881:function(G,V,e){G.exports=e(64943)},50581:function(G,V,e){G.exports=e(21164)},55334:function(G,V,e){G.exports=e(54186)},65317:function(G,V,e){G.exports=e(94873)},10021:function(G,V,e){G.exports=e(67618)},54201:function(G,V,e){G.exports=e(58810)},5861:function(G,V,e){G.exports=e(20593)},16122:function(G,V,e){G.exports=e(29396)},83043:function(G,V,e){G.exports=e(13551)},48131:function(G,V,e){G.exports=e(46858)},47582:function(G,V,e){G.exports=e(17988)},21641:function(G,V,e){G.exports=e(68868)},96268:function(G,V,e){G.exports=e(20467)},19440:function(G,V,e){G.exports=e(91271)},99488:function(G,V,e){G.exports=e(21461)},97393:function(G,V,e){G.exports=e(85956)},25743:function(G,V,e){G.exports=e(52979)},66398:function(G,V,e){G.exports=e(32275)},17280:function(G,V,e){G.exports=e(6419)},77900:function(G,V,e){G.exports=e(61510)},81299:function(G,V,e){G.exports=e(87619)},93005:function(G,V,e){G.exports=e(93601)},40344:function(G,V,e){G.exports=e(96595)},47645:function(G,V,e){G.exports=e(70954)},6197:function(G,V,e){G.exports=e(47462)},4534:function(G,V,e){G.exports=e(17659)},85461:function(G,V,e){G.exports=e(19990)},82884:function(G){G.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(G,V,e){var g=e(82884),R=e(41940),i=e(85555),L=e(44467).templatedArray;e(24695),G.exports=L("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:R({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:R({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(G,V,e){var g=e(71828),R=e(89298),i=e(92605).draw;G.exports=function(p){var t=p._fullLayout,r=g.filterVisible(t.annotations);if(r.length&&p._fullData.length)return g.syncOrAsync([i,L],p)};function L(v){var p=v._fullLayout;g.filterVisible(p.annotations).forEach(function(t){var r=R.getFromId(v,t.xref),l=R.getFromId(v,t.yref),n=R.getRefType(t.xref),s=R.getRefType(t.yref);t._extremes={},n==="range"&&T(t,r),s==="range"&&T(t,l)})}function T(v,p){var t=p._id,r=t.charAt(0),l=v[r],n=v["a"+r],s=v[r+"ref"],c=v["a"+r+"ref"],u=v["_"+r+"padplus"],y=v["_"+r+"padminus"],h={x:1,y:-1}[r]*v[r+"shift"],b=3*v.arrowsize*v.arrowwidth||0,f=b+h,o=b-h,d=3*v.startarrowsize*v.arrowwidth||0,A=d+h,M=d-h,C;if(c===s){var m=R.findExtremes(p,[p.r2c(l)],{ppadplus:f,ppadminus:o}),S=R.findExtremes(p,[p.r2c(n)],{ppadplus:Math.max(u,A),ppadminus:Math.max(y,M)});C={min:[m.min[0],S.min[0]],max:[m.max[0],S.max[0]]}}else A=n?A+n:A,M=n?M-n:M,C=R.findExtremes(p,[p.r2c(l)],{ppadplus:Math.max(u,f,A),ppadminus:Math.max(y,o,M)});v._extremes[t]=C}},44317:function(G,V,e){var g=e(71828),R=e(73972),i=e(44467).arrayEditor;G.exports={hasClickToShow:L,onClick:T};function L(t,r){var l=v(t,r);return l.on.length>0||l.explicitOff.length>0}function T(t,r){var l=v(t,r),n=l.on,s=l.off.concat(l.explicitOff),c={},u=t._fullLayout.annotations,y,h;if(n.length||s.length){for(y=0;y<n.length;y++)h=i(t.layout,"annotations",u[n[y]]),h.modifyItem("visible",!0),g.extendFlat(c,h.getUpdateObj());for(y=0;y<s.length;y++)h=i(t.layout,"annotations",u[s[y]]),h.modifyItem("visible",!1),g.extendFlat(c,h.getUpdateObj());return R.call("update",t,{},c)}}function v(t,r){var l=t._fullLayout.annotations,n=[],s=[],c=[],u=(r||[]).length,y,h,b,f,o,d,A,M;for(y=0;y<l.length;y++)if(b=l[y],f=b.clicktoshow,f){for(h=0;h<u;h++)if(o=r[h],d=o.xaxis,A=o.yaxis,d._id===b.xref&&A._id===b.yref&&d.d2r(o.x)===p(b._xclick,d)&&A.d2r(o.y)===p(b._yclick,A)){b.visible?f==="onout"?M=s:M=c:M=n,M.push(y);break}h===u&&b.visible&&f==="onout"&&s.push(y)}return{on:n,off:s,explicitOff:c}}function p(t,r){return r.type==="log"?r.l2r(t):r.d2r(t)}},25625:function(G,V,e){var g=e(71828),R=e(7901);G.exports=function(L,T,v,p){p("opacity");var t=p("bgcolor"),r=p("bordercolor"),l=R.opacity(r);p("borderpad");var n=p("borderwidth"),s=p("showarrow");p("text",s?" ":v._dfltTitle.annotation),p("textangle"),g.coerceFont(p,"font",v.font),p("width"),p("align");var c=p("height");if(c&&p("valign"),s){var u=p("arrowside"),y,h;u.indexOf("end")!==-1&&(y=p("arrowhead"),h=p("arrowsize")),u.indexOf("start")!==-1&&(p("startarrowhead",y),p("startarrowsize",h)),p("arrowcolor",l?T.bordercolor:R.defaultLine),p("arrowwidth",(l&&n||1)*2),p("standoff"),p("startstandoff")}var b=p("hovertext"),f=v.hoverlabel||{};if(b){var o=p("hoverlabel.bgcolor",f.bgcolor||(R.opacity(t)?R.rgb(t):R.defaultLine)),d=p("hoverlabel.bordercolor",f.bordercolor||R.contrast(o));g.coerceFont(p,"hoverlabel.font",{family:f.font.family,size:f.font.size,color:f.font.color||d})}p("captureevents",!!b)}},94128:function(G,V,e){var g=e(92770),R=e(58163);G.exports=function(L,T,v,p){T=T||{};var t=v==="log"&&T.type==="linear",r=v==="linear"&&T.type==="log";if(!(t||r))return;var l=L._fullLayout.annotations,n=T._id.charAt(0),s,c;function u(h){var b=s[h],f=null;t?f=R(b,T.range):f=Math.pow(10,b),g(f)||(f=null),p(c+h,f)}for(var y=0;y<l.length;y++)s=l[y],c="annotations["+y+"].",s[n+"ref"]===T._id&&u(n),s["a"+n+"ref"]===T._id&&u("a"+n)}},84046:function(G,V,e){var g=e(71828),R=e(89298),i=e(85501),L=e(25625),T=e(50215);G.exports=function(t,r){i(t,r,{name:"annotations",handleItemDefaults:v})};function v(p,t,r){function l(x,a){return g.coerce(p,t,T,x,a)}var n=l("visible"),s=l("clicktoshow");if(n||s){L(p,t,r,l);for(var c=t.showarrow,u=["x","y"],y=[-10,-30],h={_fullLayout:r},b=0;b<2;b++){var f=u[b],o=R.coerceRef(p,t,h,f,"","paper");if(o!=="paper"){var d=R.getFromId(h,o);d._annIndices.push(t._index)}if(R.coercePosition(t,h,l,o,f,.5),c){var A="a"+f,M=R.coerceRef(p,t,h,A,"pixel",["pixel","paper"]);M!=="pixel"&&M!==o&&(M=t[A]="pixel");var C=M==="pixel"?y[b]:.4;R.coercePosition(t,h,l,M,A,C)}l(f+"anchor"),l(f+"shift")}if(g.noneOrAll(p,t,["x","y"]),c&&g.noneOrAll(p,t,["ax","ay"]),s){var m=l("xclick"),S=l("yclick");t._xclick=m===void 0?t.x:R.cleanPosition(m,h,t.xref),t._yclick=S===void 0?t.y:R.cleanPosition(S,h,t.yref)}}}},92605:function(G,V,e){var g=e(39898),R=e(73972),i=e(74875),L=e(71828),T=L.strTranslate,v=e(89298),p=e(7901),t=e(91424),r=e(30211),l=e(63893),n=e(6964),s=e(28569),c=e(44467).arrayEditor,u=e(13011);G.exports={draw:y,drawOne:h,drawRaw:f};function y(o){var d=o._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var A=0;A<d.annotations.length;A++)d.annotations[A].visible&&h(o,A);return i.previousPromises(o)}function h(o,d){var A=o._fullLayout,M=A.annotations[d]||{},C=v.getFromId(o,M.xref),m=v.getFromId(o,M.yref);C&&C.setScale(),m&&m.setScale(),f(o,M,d,!1,C,m)}function b(o,d,A,M,C){var m=C[A],S=C[A+"ref"],x=A.indexOf("y")!==-1,a=v.getRefType(S)==="domain",E=x?M.h:M.w;return o?a?m+(x?-d:d)/o._length:o.p2r(o.r2p(m)+d):m+(x?-d:d)/E}function f(o,d,A,M,C,m){var S=o._fullLayout,x=o._fullLayout._size,a=o._context.edits,E,w;M?(E="annotation-"+M,w=M+".annotations"):(E="annotation",w="annotations");var k=c(o.layout,w,d),I=k.modifyBase,U=k.modifyItem,z=k.getUpdateObj;S._infolayer.selectAll("."+E+'[data-index="'+A+'"]').remove();var N="clip"+S._uid+"_ann"+A;if(!d._input||d.visible===!1){g.selectAll("#"+N).remove();return}var B={x:{},y:{}},F=+d.textangle||0,H=S._infolayer.append("g").classed(E,!0).attr("data-index",String(A)).style("opacity",d.opacity),X=H.append("g").classed("annotation-text-g",!0),q=a[d.showarrow?"annotationTail":"annotationPosition"],ne=d.captureevents||a.annotationText||q;function oe(xe){var Se={index:A,annotation:d._input,fullAnnotation:d,event:xe};return M&&(Se.subplotId=M),Se}var ve=X.append("g").style("pointer-events",ne?"all":null).call(n,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",oe(g.event))});d.hovertext&&ve.on("mouseover",function(){var xe=d.hoverlabel,Se=xe.font,Ee=this.getBoundingClientRect(),Ne=o.getBoundingClientRect();r.loneHover({x0:Ee.left-Ne.left,x1:Ee.right-Ne.left,y:(Ee.top+Ee.bottom)/2-Ne.top,text:d.hovertext,color:xe.bgcolor,borderColor:xe.bordercolor,fontFamily:Se.family,fontSize:Se.size,fontColor:Se.color},{container:S._hoverlayer.node(),outerContainer:S._paper.node(),gd:o})}).on("mouseout",function(){r.loneUnhover(S._hoverlayer.node())});var J=d.borderwidth,Y=d.borderpad,j=J+Y,K=ve.append("rect").attr("class","bg").style("stroke-width",J+"px").call(p.stroke,d.bordercolor).call(p.fill,d.bgcolor),te=d.width||d.height,se=S._topclips.selectAll("#"+N).data(te?[0]:[]);se.enter().append("clipPath").classed("annclip",!0).attr("id",N).append("rect"),se.exit().remove();var Q=d.font,ee=S._meta?L.templateString(d.text,S._meta):d.text,le=ve.append("text").classed("annotation-text",!0).text(ee);function ie(xe){return xe.call(t.font,Q).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),l.convertToTspans(xe,o,he),xe}function he(){var xe=le.selectAll("a");if(xe.size()===1&&xe.text()===le.text()){var Se=ve.insert("a",":first-child").attr({"xlink:xlink:href":xe.attr("xlink:href"),"xlink:xlink:show":xe.attr("xlink:show")}).style({cursor:"pointer"});Se.node().appendChild(K.node())}var Ee=ve.select(".annotation-text-math-group"),Ne=!Ee.empty(),He=t.bBox((Ne?Ee:le).node()),Ce=He.width,be=He.height,we=d.width||Ce,ke=d.height||be,Fe=Math.round(we+2*j),Pe=Math.round(ke+2*j);function Ge(Ar,dr){return dr==="auto"&&(Ar<.3333333333333333?dr="left":Ar>.6666666666666666?dr="right":dr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[dr]}for(var nt=!1,qe=["x","y"],Ke=0;Ke<qe.length;Ke++){var $e=qe[Ke],vt=d[$e+"ref"]||$e,yt=d["a"+$e+"ref"],mt={x:C,y:m}[$e],Et=(F+($e==="x"?0:-90))*Math.PI/180,Xe=Fe*Math.cos(Et),Ue=Pe*Math.sin(Et),Be=Math.abs(Xe)+Math.abs(Ue),rt=d[$e+"anchor"],it=d[$e+"shift"]*($e==="x"?1:-1),Ye=B[$e],De,Te,fe,me,Re,Oe=v.getRefType(vt);if(mt&&Oe!=="domain"){var st=mt.r2fraction(d[$e]);(st<0||st>1)&&(yt===vt?(st=mt.r2fraction(d["a"+$e]),(st<0||st>1)&&(nt=!0)):nt=!0),De=mt._offset+mt.r2p(d[$e]),me=.5}else{var ut=Oe==="domain";$e==="x"?(fe=d[$e],De=ut?mt._offset+mt._length*fe:De=x.l+x.w*fe):(fe=1-d[$e],De=ut?mt._offset+mt._length*fe:De=x.t+x.h*fe),me=d.showarrow?.5:fe}if(d.showarrow){Ye.head=De;var Tt=d["a"+$e];if(Re=Xe*Ge(.5,d.xanchor)-Ue*Ge(.5,d.yanchor),yt===vt){var It=v.getRefType(yt);It==="domain"?($e==="y"&&(Tt=1-Tt),Ye.tail=mt._offset+mt._length*Tt):It==="paper"?$e==="y"?(Tt=1-Tt,Ye.tail=x.t+x.h*Tt):Ye.tail=x.l+x.w*Tt:Ye.tail=mt._offset+mt.r2p(Tt),Te=Re}else Ye.tail=De+Tt,Te=Re+Tt;Ye.text=Ye.tail+Re;var Gt=S[$e==="x"?"width":"height"];if(vt==="paper"&&(Ye.head=L.constrain(Ye.head,1,Gt-1)),yt==="pixel"){var jt=-Math.max(Ye.tail-3,Ye.text),Pt=Math.min(Ye.tail+3,Ye.text)-Gt;jt>0?(Ye.tail+=jt,Ye.text+=jt):Pt>0&&(Ye.tail-=Pt,Ye.text-=Pt)}Ye.tail+=it,Ye.head+=it}else Re=Be*Ge(me,rt),Te=Re,Ye.text=De+Re;Ye.text+=it,Re+=it,Te+=it,d["_"+$e+"padplus"]=Be/2+Te,d["_"+$e+"padminus"]=Be/2-Te,d["_"+$e+"size"]=Be,d["_"+$e+"shift"]=Re}if(nt){ve.remove();return}var Qt=0,or=0;if(d.align!=="left"&&(Qt=(we-Ce)*(d.align==="center"?.5:1)),d.valign!=="top"&&(or=(ke-be)*(d.valign==="middle"?.5:1)),Ne)Ee.select("svg").attr({x:j+Qt-1,y:j+or}).call(t.setClipUrl,te?N:null,o);else{var zr=j+or-He.top,bt=j+Qt-He.left;le.call(l.positionText,bt,zr).call(t.setClipUrl,te?N:null,o)}se.select("rect").call(t.setRect,j,j,we,ke),K.call(t.setRect,J/2,J/2,Fe-J,Pe-J),ve.call(t.setTranslate,Math.round(B.x.text-Fe/2),Math.round(B.y.text-Pe/2)),X.attr({transform:"rotate("+F+","+B.x.text+","+B.y.text+")"});var Jt=function(Ar,dr){H.selectAll(".annotation-arrow-g").remove();var ht=B.x.head,ct=B.y.head,wt=B.x.tail+Ar,St=B.y.tail+dr,Rt=B.x.text+Ar,Ct=B.y.text+dr,Ot=L.rotationXYMatrix(F,Rt,Ct),Wt=L.apply2DTransform(Ot),er=L.apply2DTransform2(Ot),$t=+K.attr("width"),sr=+K.attr("height"),Cr=Rt-.5*$t,je=Cr+$t,We=Ct-.5*sr,kt=We+sr,zt=[[Cr,We,Cr,kt],[Cr,kt,je,kt],[je,kt,je,We],[je,We,Cr,We]].map(er);if(!zt.reduce(function(Br,Tn){return Br^!!L.segmentsIntersect(ht,ct,ht+1e6,ct+1e6,Tn[0],Tn[1],Tn[2],Tn[3])},!1)){zt.forEach(function(Br){var Tn=L.segmentsIntersect(wt,St,ht,ct,Br[0],Br[1],Br[2],Br[3]);Tn&&(wt=Tn.x,St=Tn.y)});var Xt=d.arrowwidth,lr=d.arrowcolor,cr=d.arrowside,nr=H.append("g").style({opacity:p.opacity(lr)}).classed("annotation-arrow-g",!0),Bt=nr.append("path").attr("d","M"+wt+","+St+"L"+ht+","+ct).style("stroke-width",Xt+"px").call(p.stroke,p.rgb(lr));if(u(Bt,cr,d),a.annotationPosition&&Bt.node().parentNode&&!M){var vr=ht,yr=ct;if(d.standoff){var mr=Math.sqrt(Math.pow(ht-wt,2)+Math.pow(ct-St,2));vr+=d.standoff*(wt-ht)/mr,yr+=d.standoff*(St-ct)/mr}var gr=nr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(wt-vr)+","+(St-yr),transform:T(vr,yr)}).style("stroke-width",Xt+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),Zr,Ur;s.init({element:gr.node(),gd:o,prepFn:function(){var Br=t.getTranslate(ve);Zr=Br.x,Ur=Br.y,C&&C.autorange&&I(C._name+".autorange",!0),m&&m.autorange&&I(m._name+".autorange",!0)},moveFn:function(Br,Tn){var Kr=Wt(Zr,Ur),Bn=Kr[0]+Br,On=Kr[1]+Tn;ve.call(t.setTranslate,Bn,On),U("x",b(C,Br,"x",x,d)),U("y",b(m,Tn,"y",x,d)),d.axref===d.xref&&U("ax",b(C,Br,"ax",x,d)),d.ayref===d.yref&&U("ay",b(m,Tn,"ay",x,d)),nr.attr("transform",T(Br,Tn)),X.attr({transform:"rotate("+F+","+Bn+","+On+")"})},doneFn:function(){R.call("_guiRelayout",o,z());var Br=document.querySelector(".js-notes-box-panel");Br&&Br.redraw(Br.selectedObj)}})}}};if(d.showarrow&&Jt(0,0),q){var Zt;s.init({element:ve.node(),gd:o,prepFn:function(){Zt=X.attr("transform")},moveFn:function(Ar,dr){var ht="pointer";if(d.showarrow)d.axref===d.xref?U("ax",b(C,Ar,"ax",x,d)):U("ax",d.ax+Ar),d.ayref===d.yref?U("ay",b(m,dr,"ay",x.w,d)):U("ay",d.ay+dr),Jt(Ar,dr);else{if(M)return;var ct,wt;if(C)ct=b(C,Ar,"x",x,d);else{var St=d._xsize/x.w,Rt=d.x+(d._xshift-d.xshift)/x.w-St/2;ct=s.align(Rt+Ar/x.w,St,0,1,d.xanchor)}if(m)wt=b(m,dr,"y",x,d);else{var Ct=d._ysize/x.h,Ot=d.y-(d._yshift+d.yshift)/x.h-Ct/2;wt=s.align(Ot-dr/x.h,Ct,0,1,d.yanchor)}U("x",ct),U("y",wt),(!C||!m)&&(ht=s.getCursor(C?.5:ct,m?.5:wt,d.xanchor,d.yanchor))}X.attr({transform:T(Ar,dr)+Zt}),n(ve,ht)},clickFn:function(Ar,dr){d.captureevents&&o.emit("plotly_clickannotation",oe(dr))},doneFn:function(){n(ve),R.call("_guiRelayout",o,z());var Ar=document.querySelector(".js-notes-box-panel");Ar&&Ar.redraw(Ar.selectedObj)}})}}a.annotationText?le.call(l.makeEditable,{delegate:ve,gd:o}).call(ie).on("edit",function(xe){d.text=xe,this.call(ie),U("text",xe),C&&C.autorange&&I(C._name+".autorange",!0),m&&m.autorange&&I(m._name+".autorange",!0),R.call("_guiRelayout",o,z())}):le.call(ie)}},13011:function(G,V,e){var g=e(39898),R=e(7901),i=e(82884),L=e(71828),T=L.strScale,v=L.strRotate,p=L.strTranslate;G.exports=function(r,l,n){var s=r.node(),c=i[n.arrowhead||0],u=i[n.startarrowhead||0],y=(n.arrowwidth||1)*(n.arrowsize||1),h=(n.arrowwidth||1)*(n.startarrowsize||1),b=l.indexOf("start")>=0,f=l.indexOf("end")>=0,o=c.backoff*y+n.standoff,d=u.backoff*h+n.startstandoff,A,M,C,m;if(s.nodeName==="line"){A={x:+r.attr("x1"),y:+r.attr("y1")},M={x:+r.attr("x2"),y:+r.attr("y2")};var S=A.x-M.x,x=A.y-M.y;if(C=Math.atan2(x,S),m=C+Math.PI,o&&d&&o+d>Math.sqrt(S*S+x*x)){X();return}if(o){if(o*o>S*S+x*x){X();return}var a=o*Math.cos(C),E=o*Math.sin(C);M.x+=a,M.y+=E,r.attr({x2:M.x,y2:M.y})}if(d){if(d*d>S*S+x*x){X();return}var w=d*Math.cos(C),k=d*Math.sin(C);A.x-=w,A.y-=k,r.attr({x1:A.x,y1:A.y})}}else if(s.nodeName==="path"){var I=s.getTotalLength(),U="";if(I<o+d){X();return}var z=s.getPointAtLength(0),N=s.getPointAtLength(.1);C=Math.atan2(z.y-N.y,z.x-N.x),A=s.getPointAtLength(Math.min(d,I)),U="0px,"+d+"px,";var B=s.getPointAtLength(I),F=s.getPointAtLength(I-.1);m=Math.atan2(B.y-F.y,B.x-F.x),M=s.getPointAtLength(Math.max(0,I-o));var H=U?d+o:o;U+=I-H+"px,"+I+"px",r.style("stroke-dasharray",U)}function X(){r.style("stroke-dasharray","0px,100px")}function q(ne,oe,ve,J){ne.path&&(ne.noRotate&&(ve=0),g.select(s.parentNode).append("path").attr({class:r.attr("class"),d:ne.path,transform:p(oe.x,oe.y)+v(ve*180/Math.PI)+T(J)}).style({fill:R.rgb(n.arrowcolor),"stroke-width":0}))}b&&q(u,A,C,h),f&&q(c,M,m,y)}},32745:function(G,V,e){var g=e(92605),R=e(44317);G.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:g.draw,drawOne:g.drawOne,drawRaw:g.drawRaw,hasClickToShow:R.hasClickToShow,onClick:R.onClick,convertCoords:e(94128)}},26997:function(G,V,e){var g=e(50215),R=e(30962).overrideAll,i=e(44467).templatedArray;G.exports=R(i("annotation",{visible:g.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:g.xanchor,xshift:g.xshift,yanchor:g.yanchor,yshift:g.yshift,text:g.text,textangle:g.textangle,font:g.font,width:g.width,height:g.height,opacity:g.opacity,align:g.align,valign:g.valign,bgcolor:g.bgcolor,bordercolor:g.bordercolor,borderpad:g.borderpad,borderwidth:g.borderwidth,showarrow:g.showarrow,arrowcolor:g.arrowcolor,arrowhead:g.arrowhead,startarrowhead:g.startarrowhead,arrowside:g.arrowside,arrowsize:g.arrowsize,startarrowsize:g.startarrowsize,arrowwidth:g.arrowwidth,standoff:g.standoff,startstandoff:g.startstandoff,hovertext:g.hovertext,hoverlabel:g.hoverlabel,captureevents:g.captureevents}),"calc","from-root")},5485:function(G,V,e){var g=e(71828),R=e(89298);G.exports=function(T){for(var v=T.fullSceneLayout,p=v.annotations,t=0;t<p.length;t++)i(p[t],T);T.fullLayout._infolayer.selectAll(".annotation-"+T.id).remove()};function i(L,T){var v=T.fullSceneLayout,p=v.domain,t=T.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};L._xa={},g.extendFlat(L._xa,r),R.setConvert(L._xa),L._xa._offset=t.l+p.x[0]*t.w,L._xa.l2p=function(){return .5*(1+L._pdata[0]/L._pdata[3])*t.w*(p.x[1]-p.x[0])},L._ya={},g.extendFlat(L._ya,r),R.setConvert(L._ya),L._ya._offset=t.t+(1-p.y[1])*t.h,L._ya.l2p=function(){return .5*(1-L._pdata[1]/L._pdata[3])*t.h*(p.y[1]-p.y[0])}}},20226:function(G,V,e){var g=e(71828),R=e(89298),i=e(85501),L=e(25625),T=e(26997);G.exports=function(t,r,l){i(t,r,{name:"annotations",handleItemDefaults:v,fullLayout:l.fullLayout})};function v(p,t,r,l){function n(u,y){return g.coerce(p,t,T,u,y)}function s(u){var y=u+"axis",h={_fullLayout:{}};return h._fullLayout[y]=r[y],R.coercePosition(t,h,n,u,u,.5)}var c=n("visible");c&&(L(p,t,l.fullLayout,n),s("x"),s("y"),s("z"),g.noneOrAll(p,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",n("ax",-10),n("ay",-30),g.noneOrAll(p,t,["ax","ay"])))}},82188:function(G,V,e){var g=e(92605).drawRaw,R=e(63538),i=["x","y","z"];G.exports=function(T){for(var v=T.fullSceneLayout,p=T.dataScale,t=v.annotations,r=0;r<t.length;r++){for(var l=t[r],n=!1,s=0;s<3;s++){var c=i[s],u=l[c],y=v[c+"axis"],h=y.r2fraction(u);if(h<0||h>1){n=!0;break}}n?T.fullLayout._infolayer.select(".annotation-"+T.id+'[data-index="'+r+'"]').remove():(l._pdata=R(T.glplot.cameraParams,[v.xaxis.r2l(l.x)*p[0],v.yaxis.r2l(l.y)*p[1],v.zaxis.r2l(l.z)*p[2]]),g(T.graphDiv,l,r,T.id,l._xa,l._ya))}}},2468:function(G,V,e){var g=e(73972),R=e(71828);G.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:i,convert:e(5485),draw:e(82188)};function i(L,T){var v=g.subplotsRegistry.gl3d;if(v)for(var p=v.attrRegex,t=Object.keys(L),r=0;r<t.length;r++){var l=t[r];p.test(l)&&(L[l].annotations||[]).length&&(R.pushUnique(T._basePlotModules,v),R.pushUnique(T._subplots.gl3d,l))}}},7561:function(G,V,e){G.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(G,V,e){var g=e(7561),R=e(71828),i=e(50606),L=i.EPOCHJD,T=i.ONEDAY,v={valType:"enumerated",values:R.sortObjectKeys(g.calendars),editType:"calc",dflt:"gregorian"},p=function(C,m,S,x){var a={};return a[S]=v,R.coerce(C,m,a,S,x)},t=function(C,m,S,x){for(var a=0;a<S.length;a++)p(C,m,S[a]+"calendar",x.calendar)},r={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},l={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},s="##",c={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:s,w:s,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function u(C,m,S){for(var x=Math.floor((m+.05)/T)+L,a=h(S).fromJD(x),E=0,w,k,I,U,z;(E=C.indexOf("%",E))!==-1;)w=C.charAt(E+1),w==="0"||w==="-"||w==="_"?(I=3,k=C.charAt(E+2),w==="_"&&(w="-")):(k=w,w="0",I=2),U=c[k],U?(U===s?z=s:z=a.formatDate(U[w]),C=C.substr(0,E)+z+C.substr(E+I),E+=z.length):E+=I;return C}var y={};function h(C){var m=y[C];return m||(m=y[C]=g.instance(C),m)}function b(C){return R.extendFlat({},v,{description:C})}function f(C){return"Sets the calendar system to use with `"+C+"` date data."}var o={xcalendar:b(f("x"))},d=R.extendFlat({},o,{ycalendar:b(f("y"))}),A=R.extendFlat({},d,{zcalendar:b(f("z"))}),M=b(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));G.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:A,surface:A,mesh3d:A,scattergl:d,ohlc:o,candlestick:o},layout:{calendar:b(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:M},yaxis:{calendar:M},scene:{xaxis:{calendar:M},yaxis:{calendar:M},zaxis:{calendar:M}},polar:{radialaxis:{calendar:M}}},transforms:{filter:{valuecalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:p,handleTraceDefaults:t,CANONICAL_SUNDAY:l,CANONICAL_TICK:r,DFLTRANGE:n,getCal:h,worldCalFmt:u}},22399:function(G,V){V.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],V.defaultLine="#444",V.lightLine="#eee",V.background="#fff",V.borderLine="#BEC8D9",V.lightFraction=90.9090909090909},7901:function(G,V,e){var g=e(84267),R=e(92770),i=e(73627).isTypedArray,L=G.exports={},T=e(22399);L.defaults=T.defaults;var v=L.defaultLine=T.defaultLine;L.lightLine=T.lightLine;var p=L.background=T.background;L.tinyRGB=function(r){var l=r.toRgb();return"rgb("+Math.round(l.r)+", "+Math.round(l.g)+", "+Math.round(l.b)+")"},L.rgb=function(r){return L.tinyRGB(g(r))},L.opacity=function(r){return r?g(r).getAlpha():0},L.addOpacity=function(r,l){var n=g(r).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+l+")"},L.combine=function(r,l){var n=g(r).toRgb();if(n.a===1)return g(r).toRgbString();var s=g(l||p).toRgb(),c=s.a===1?s:{r:255*(1-s.a)+s.r*s.a,g:255*(1-s.a)+s.g*s.a,b:255*(1-s.a)+s.b*s.a},u={r:c.r*(1-n.a)+n.r*n.a,g:c.g*(1-n.a)+n.g*n.a,b:c.b*(1-n.a)+n.b*n.a};return g(u).toRgbString()},L.contrast=function(r,l,n){var s=g(r);s.getAlpha()!==1&&(s=g(L.combine(r,p)));var c=s.isDark()?l?s.lighten(l):p:n?s.darken(n):v;return c.toString()},L.stroke=function(r,l){var n=g(l);r.style({stroke:L.tinyRGB(n),"stroke-opacity":n.getAlpha()})},L.fill=function(r,l){var n=g(l);r.style({fill:L.tinyRGB(n),"fill-opacity":n.getAlpha()})},L.clean=function(r){if(!(!r||typeof r!="object")){var l=Object.keys(r),n,s,c,u;for(n=0;n<l.length;n++)if(c=l[n],u=r[c],c.substr(c.length-5)==="color")if(Array.isArray(u))for(s=0;s<u.length;s++)u[s]=t(u[s]);else r[c]=t(u);else if(c.substr(c.length-10)==="colorscale"&&Array.isArray(u))for(s=0;s<u.length;s++)Array.isArray(u[s])&&(u[s][1]=t(u[s][1]));else if(Array.isArray(u)){var y=u[0];if(!Array.isArray(y)&&y&&typeof y=="object")for(s=0;s<u.length;s++)L.clean(u[s])}else u&&typeof u=="object"&&!i(u)&&L.clean(u)}};function t(r){if(R(r)||typeof r!="string")return r;var l=r.trim();if(l.substr(0,3)!=="rgb")return r;var n=l.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return r;var s=n[1].trim().split(/\s*[\s,]\s*/),c=l.charAt(3)==="a"&&s.length===4;if(!c&&s.length!==3)return r;for(var u=0;u<s.length;u++){if(!s[u].length||(s[u]=Number(s[u]),!(s[u]>=0)))return r;if(u===3)s[u]>1&&(s[u]=1);else if(s[u]>=1)return r}var y=Math.round(s[0]*255)+", "+Math.round(s[1]*255)+", "+Math.round(s[2]*255);return c?"rgba("+y+", "+s[3]+")":"rgb("+y+")"}},63583:function(G,V,e){var g=e(13838),R=e(41940),i=e(1426).extendFlat,L=e(30962).overrideAll;G.exports=L({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:g.linecolor,outlinewidth:g.linewidth,bordercolor:g.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:i({},g.ticks,{dflt:""}),ticklabeloverflow:i({},g.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:R({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,title:{text:{valType:"string"},font:R({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:R({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(G){G.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(G,V,e){var g=e(71828),R=e(44467),i=e(26218),L=e(38701),T=e(96115),v=e(89426),p=e(63583);G.exports=function(r,l,n){var s=R.newContainer(l,"colorbar"),c=r.colorbar||{};function u(B,F){return g.coerce(c,s,p,B,F)}var y=n.margin||{t:0,b:0,l:0,r:0},h=n.width-y.l-y.r,b=n.height-y.t-y.b,f=u("orientation"),o=f==="v",d=u("thicknessmode");u("thickness",d==="fraction"?30/(o?h:b):30);var A=u("lenmode");u("len",A==="fraction"?1:o?b:h);var M=u("yref"),C=u("xref"),m=M==="paper",S=C==="paper",x,a,E,w="left";o?(E="middle",w=S?"left":"right",x=S?1.02:1,a=.5):(E=m?"bottom":"top",w="center",x=.5,a=m?1.02:1),g.coerce(c,s,{x:{valType:"number",min:S?-2:0,max:S?3:1,dflt:x}},"x"),g.coerce(c,s,{y:{valType:"number",min:m?-2:0,max:m?3:1,dflt:a}},"y"),u("xanchor",w),u("xpad"),u("yanchor",E),u("ypad"),g.noneOrAll(c,s,["x","y"]),u("outlinecolor"),u("outlinewidth"),u("bordercolor"),u("borderwidth"),u("bgcolor");var k=g.coerce(c,s,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");u("ticklabeloverflow",k.indexOf("inside")!==-1?"hide past domain":"hide past div"),i(c,s,u,"linear");var I=n.font,U={outerTicks:!1,font:I};k.indexOf("inside")!==-1&&(U.bgColor="black"),v(c,s,u,"linear",U),T(c,s,u,"linear",U),L(c,s,u,"linear",U),u("title.text",n._dfltTitle.colorbar);var z=s.showticklabels?s.tickfont:I,N=g.extendFlat({},z,{color:I.color,size:g.bigFont(z.size)});g.coerceFont(u,"title.font",N),u("title.side",o?"top":"right")}},98981:function(G,V,e){var g=e(39898),R=e(84267),i=e(74875),L=e(73972),T=e(89298),v=e(28569),p=e(71828),t=p.strTranslate,r=e(1426).extendFlat,l=e(6964),n=e(91424),s=e(7901),c=e(92998),u=e(63893),y=e(52075).flipScale,h=e(71453),b=e(52830),f=e(13838),o=e(18783),d=o.LINE_SPACING,A=o.FROM_TL,M=o.FROM_BR,C=e(30939).cn;function m(k){var I=k._fullLayout,U=I._infolayer.selectAll("g."+C.colorbar).data(S(k),function(z){return z._id});U.enter().append("g").attr("class",function(z){return z._id}).classed(C.colorbar,!0),U.each(function(z){var N=g.select(this);p.ensureSingle(N,"rect",C.cbbg),p.ensureSingle(N,"g",C.cbfills),p.ensureSingle(N,"g",C.cblines),p.ensureSingle(N,"g",C.cbaxis,function(F){F.classed(C.crisp,!0)}),p.ensureSingle(N,"g",C.cbtitleunshift,function(F){F.append("g").classed(C.cbtitle,!0)}),p.ensureSingle(N,"rect",C.cboutline);var B=x(N,z,k);B&&B.then&&(k._promises||[]).push(B),k._context.edits.colorbarPosition&&a(N,z,k)}),U.exit().each(function(z){i.autoMargin(k,z._id)}).remove(),U.order()}function S(k){var I=k._fullLayout,U=k.calcdata,z=[],N,B,F,H;function X(Q){return r(Q,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function q(){typeof H.calc=="function"?H.calc(k,F,N):(N._fillgradient=B.reversescale?y(B.colorscale):B.colorscale,N._zrange=[B[H.min],B[H.max]])}for(var ne=0;ne<U.length;ne++){var oe=U[ne];F=oe[0].trace;var ve=F._module.colorbar;if(F.visible===!0&&ve)for(var J=Array.isArray(ve),Y=J?ve:[ve],j=0;j<Y.length;j++){H=Y[j];var K=H.container;B=K?F[K]:F,B&&B.showscale&&(N=X(B.colorbar),N._id="cb"+F.uid+(J&&K?"-"+K:""),N._traceIndex=F.index,N._propPrefix=(K?K+".":"")+"colorbar.",N._meta=F._meta,q(),z.push(N))}}for(var te in I._colorAxes)if(B=I[te],B.showscale){var se=I._colorAxes[te];N=X(B.colorbar),N._id="cb"+te,N._propPrefix=te+".colorbar.",N._meta=I._meta,H={min:"cmin",max:"cmax"},se[0]!=="heatmap"&&(F=se[1],H.calc=F._module.colorbar.calc),q(),z.push(N)}return z}function x(k,I,U){var z=I.orientation==="v",N=I.len,B=I.lenmode,F=I.thickness,H=I.thicknessmode,X=I.outlinewidth,q=I.borderwidth,ne=I.bgcolor,oe=I.xanchor,ve=I.yanchor,J=I.xpad,Y=I.ypad,j=I.x,K=z?I.y:1-I.y,te=I.yref==="paper",se=I.xref==="paper",Q=U._fullLayout,ee=Q._size,le=I._fillcolor,ie=I._line,he=I.title,xe=he.side,Se=I._zrange||g.extent((typeof le=="function"?le:ie.color).domain()),Ee=typeof ie.color=="function"?ie.color:function(){return ie.color},Ne=typeof le=="function"?le:function(){return le},He=I._levels,Ce=E(U,I,Se),be=Ce.fill,we=Ce.line,ke=Math.round(F*(H==="fraction"?z?ee.w:ee.h:1)),Fe=ke/(z?ee.w:ee.h),Pe=Math.round(N*(B==="fraction"?z?ee.h:ee.w:1)),Ge=Pe/(z?ee.h:ee.w),nt=se?ee.w:U._fullLayout.width,qe=te?ee.h:U._fullLayout.height,Ke=Math.round(z?j*nt+J:K*qe+Y),$e={center:.5,right:1}[oe]||0,vt={top:1,middle:.5}[ve]||0,yt=z?j-$e*Fe:K-vt*Fe,mt=z?K-vt*Ge:j-$e*Ge,Et=Math.round(z?qe*(1-mt):nt*mt);I._lenFrac=Ge,I._thickFrac=Fe,I._uFrac=yt,I._vFrac=mt;var Xe=I._axis=w(U,I,Se);Xe.position=Fe+(z?j+J/ee.w:K+Y/ee.h);var Ue=["top","bottom"].indexOf(xe)!==-1;if(z&&Ue&&(Xe.title.side=xe,Xe.titlex=j+J/ee.w,Xe.titley=mt+(he.side==="top"?Ge-Y/ee.h:Y/ee.h)),!z&&!Ue&&(Xe.title.side=xe,Xe.titley=K+Y/ee.h,Xe.titlex=mt+J/ee.w),ie.color&&I.tickmode==="auto"){Xe.tickmode="linear",Xe.tick0=He.start;var Be=He.size,rt=p.constrain(Pe/50,4,15)+1,it=(Se[1]-Se[0])/((I.nticks||rt)*Be);if(it>1){var Ye=Math.pow(10,Math.floor(Math.log(it)/Math.LN10));Be*=Ye*p.roundUp(it/Ye,[2,5,10]),(Math.abs(He.start)/He.size+1e-6)%1<2e-6&&(Xe.tick0=0)}Xe.dtick=Be}Xe.domain=z?[mt+Y/ee.h,mt+Ge-Y/ee.h]:[mt+J/ee.w,mt+Ge-J/ee.w],Xe.setScale(),k.attr("transform",t(Math.round(ee.l),Math.round(ee.t)));var De=k.select("."+C.cbtitleunshift).attr("transform",t(-Math.round(ee.l),-Math.round(ee.t))),Te=Xe.ticklabelposition,fe=Xe.title.font.size,me=k.select("."+C.cbaxis),Re,Oe=0,st=0;function ut(Pt,Qt){var or={propContainer:Xe,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:Q._dfltTitle.colorbar,containerGroup:k.select("."+C.cbtitle)},zr=Pt.charAt(0)==="h"?Pt.substr(1):"h"+Pt;k.selectAll("."+zr+",."+zr+"-math-group").remove(),c.draw(U,Pt,r(or,Qt||{}))}function Tt(){if(z&&Ue||!z&&!Ue){var Pt,Qt;xe==="top"&&(Pt=J+ee.l+nt*j,Qt=Y+ee.t+qe*(1-mt-Ge)+3+fe*.75),xe==="bottom"&&(Pt=J+ee.l+nt*j,Qt=Y+ee.t+qe*(1-mt)-3-fe*.25),xe==="right"&&(Qt=Y+ee.t+qe*K+3+fe*.75,Pt=J+ee.l+nt*mt),ut(Xe._id+"title",{attributes:{x:Pt,y:Qt,"text-anchor":z?"start":"middle"}})}}function It(){if(z&&!Ue||!z&&Ue){var Pt=Xe.position||0,Qt=Xe._offset+Xe._length/2,or,zr;if(xe==="right")zr=Qt,or=ee.l+nt*Pt+10+fe*(Xe.showticklabels?1:.5);else if(or=Qt,xe==="bottom"&&(zr=ee.t+qe*Pt+10+(Te.indexOf("inside")===-1?Xe.tickfont.size:0)+(Xe.ticks!=="intside"&&I.ticklen||0)),xe==="top"){var bt=he.text.split("<br>").length;zr=ee.t+qe*Pt+10-ke-d*fe*bt}ut((z?"h":"v")+Xe._id+"title",{avoid:{selection:g.select(U).selectAll("g."+Xe._id+"tick"),side:xe,offsetTop:z?0:ee.t,offsetLeft:z?ee.l:0,maxShift:z?Q.width:Q.height},attributes:{x:or,y:zr,"text-anchor":"middle"},transform:{rotate:z?-90:0,offset:0}})}}function Gt(){if(!z&&!Ue||z&&Ue){var Pt=k.select("."+C.cbtitle),Qt=Pt.select("text"),or=[-X/2,X/2],zr=Pt.select(".h"+Xe._id+"title-math-group").node(),bt=15.6;Qt.node()&&(bt=parseInt(Qt.node().style.fontSize,10)*d);var Jt;if(zr?(Jt=n.bBox(zr),st=Jt.width,Oe=Jt.height,Oe>bt&&(or[1]-=(Oe-bt)/2)):Qt.node()&&!Qt.classed(C.jsPlaceholder)&&(Jt=n.bBox(Qt.node()),st=Jt.width,Oe=Jt.height),z){if(Oe){if(Oe+=5,xe==="top")Xe.domain[1]-=Oe/ee.h,or[1]*=-1;else{Xe.domain[0]+=Oe/ee.h;var Zt=u.lineCount(Qt);or[1]+=(1-Zt)*bt}Pt.attr("transform",t(or[0],or[1])),Xe.setScale()}}else st&&(xe==="right"&&(Xe.domain[0]+=(st+fe/2)/ee.w),Pt.attr("transform",t(or[0],or[1])),Xe.setScale())}k.selectAll("."+C.cbfills+",."+C.cblines).attr("transform",z?t(0,Math.round(ee.h*(1-Xe.domain[1]))):t(Math.round(ee.w*Xe.domain[0]),0)),me.attr("transform",z?t(0,Math.round(-ee.t)):t(Math.round(-ee.l),0));var Ar=k.select("."+C.cbfills).selectAll("rect."+C.cbfill).attr("style","").data(be);Ar.enter().append("rect").classed(C.cbfill,!0).style("stroke","none"),Ar.exit().remove();var dr=Se.map(Xe.c2p).map(Math.round).sort(function(Rt,Ct){return Rt-Ct});Ar.each(function(Rt,Ct){var Ot=[Ct===0?Se[0]:(be[Ct]+be[Ct-1])/2,Ct===be.length-1?Se[1]:(be[Ct]+be[Ct+1])/2].map(Xe.c2p).map(Math.round);z&&(Ot[1]=p.constrain(Ot[1]+(Ot[1]>Ot[0])?1:-1,dr[0],dr[1]));var Wt=g.select(this).attr(z?"x":"y",Ke).attr(z?"y":"x",g.min(Ot)).attr(z?"width":"height",Math.max(ke,2)).attr(z?"height":"width",Math.max(g.max(Ot)-g.min(Ot),2));if(I._fillgradient)n.gradient(Wt,U,I._id,z?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var er=Ne(Rt).replace("e-","");Wt.attr("fill",R(er).toHexString())}});var ht=k.select("."+C.cblines).selectAll("path."+C.cbline).data(ie.color&&ie.width?we:[]);ht.enter().append("path").classed(C.cbline,!0),ht.exit().remove(),ht.each(function(Rt){var Ct=Ke,Ot=Math.round(Xe.c2p(Rt))+ie.width/2%1;g.select(this).attr("d","M"+(z?Ct+","+Ot:Ot+","+Ct)+(z?"h":"v")+ke).call(n.lineGroupStyle,ie.width,Ee(Rt),ie.dash)}),me.selectAll("g."+Xe._id+"tick,path").remove();var ct=Ke+ke+(X||0)/2-(I.ticks==="outside"?1:0),wt=T.calcTicks(Xe),St=T.getTickSigns(Xe)[2];return T.drawTicks(U,Xe,{vals:Xe.ticks==="inside"?T.clipEnds(Xe,wt):wt,layer:me,path:T.makeTickPath(Xe,ct,St),transFn:T.makeTransTickFn(Xe)}),T.drawLabels(U,Xe,{vals:wt,layer:me,transFn:T.makeTransTickLabelFn(Xe),labelFns:T.makeLabelFns(Xe,ct)})}function jt(){var Pt,Qt=ke+X/2;Te.indexOf("inside")===-1&&(Pt=n.bBox(me.node()),Qt+=z?Pt.width:Pt.height),Re=De.select("text");var or=0,zr=z&&xe==="top",bt=!z&&xe==="right",Jt=0;if(Re.node()&&!Re.classed(C.jsPlaceholder)){var Zt,Ar=De.select(".h"+Xe._id+"title-math-group").node();Ar&&(z&&Ue||!z&&!Ue)?(Pt=n.bBox(Ar),or=Pt.width,Zt=Pt.height):(Pt=n.bBox(De.node()),or=Pt.right-ee.l-(z?Ke:Et),Zt=Pt.bottom-ee.t-(z?Et:Ke),!z&&xe==="top"&&(Qt+=Pt.height,Jt=Pt.height)),bt&&(Re.attr("transform",t(or/2+fe/2,0)),or*=2),Qt=Math.max(Qt,z?or:Zt)}var dr=(z?J:Y)*2+Qt+q+X/2,ht=0;!z&&he.text&&ve==="bottom"&&K<=0&&(ht=dr/2,dr+=ht,Jt+=ht),Q._hColorbarMoveTitle=ht,Q._hColorbarMoveCBTitle=Jt;var ct=q+X,wt=(z?Ke:Et)-ct/2-(z?J:0),St=(z?Et:Ke)-(z?Pe:Y+Jt-ht);k.select("."+C.cbbg).attr("x",wt).attr("y",St).attr(z?"width":"height",Math.max(dr-ht,2)).attr(z?"height":"width",Math.max(Pe+ct,2)).call(s.fill,ne).call(s.stroke,I.bordercolor).style("stroke-width",q);var Rt=bt?Math.max(or-10,0):0;k.selectAll("."+C.cboutline).attr("x",(z?Ke:Et+J)+Rt).attr("y",(z?Et+Y-Pe:Ke)+(zr?Oe:0)).attr(z?"width":"height",Math.max(ke,2)).attr(z?"height":"width",Math.max(Pe-(z?2*Y+Oe:2*J+Rt),2)).call(s.stroke,I.outlinecolor).style({fill:"none","stroke-width":X});var Ct=z?$e*dr:0,Ot=z?0:(1-vt)*dr-Jt;if(Ct=se?ee.l-Ct:-Ct,Ot=te?ee.t-Ot:-Ot,k.attr("transform",t(Ct,Ot)),!z&&(q||R(ne).getAlpha()&&!R.equals(Q.paper_bgcolor,ne))){var Wt=me.selectAll("text"),er=Wt[0].length,$t=k.select("."+C.cbbg).node(),sr=n.bBox($t),Cr=n.getTranslate(k),je=2;Wt.each(function(yr,mr){var gr=0,Zr=er-1;if(mr===gr||mr===Zr){var Ur=n.bBox(this),Br=n.getTranslate(this),Tn;if(mr===Zr){var Kr=Ur.right+Br.x,Bn=sr.right+Cr.x+Et-q-je+j;Tn=Bn-Kr,Tn>0&&(Tn=0)}else if(mr===gr){var On=Ur.left+Br.x,Tr=sr.left+Cr.x+Et+q+je;Tn=Tr-On,Tn<0&&(Tn=0)}Tn&&(er<3?this.setAttribute("transform","translate("+Tn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var We={},kt=A[oe],zt=M[oe],Xt=A[ve],lr=M[ve],cr=dr-ke;z?(B==="pixels"?(We.y=K,We.t=Pe*Xt,We.b=Pe*lr):(We.t=We.b=0,We.yt=K+N*Xt,We.yb=K-N*lr),H==="pixels"?(We.x=j,We.l=dr*kt,We.r=dr*zt):(We.l=cr*kt,We.r=cr*zt,We.xl=j-F*kt,We.xr=j+F*zt)):(B==="pixels"?(We.x=j,We.l=Pe*kt,We.r=Pe*zt):(We.l=We.r=0,We.xl=j+N*kt,We.xr=j-N*zt),H==="pixels"?(We.y=1-K,We.t=dr*Xt,We.b=dr*lr):(We.t=cr*Xt,We.b=cr*lr,We.yt=K-F*Xt,We.yb=K+F*lr));var nr=I.y<.5?"b":"t",Bt=I.x<.5?"l":"r";U._fullLayout._reservedMargin[I._id]={};var vr={r:Q.width-wt-Ct,l:wt+We.r,b:Q.height-St-Ot,t:St+We.b};se&&te?i.autoMargin(U,I._id,We):se?U._fullLayout._reservedMargin[I._id][nr]=vr[nr]:te||z?U._fullLayout._reservedMargin[I._id][Bt]=vr[Bt]:U._fullLayout._reservedMargin[I._id][nr]=vr[nr]}return p.syncOrAsync([i.previousPromises,Tt,Gt,It,i.previousPromises,jt],U)}function a(k,I,U){var z=I.orientation==="v",N=U._fullLayout,B=N._size,F,H,X;v.init({element:k.node(),gd:U,prepFn:function(){F=k.attr("transform"),l(k)},moveFn:function(q,ne){k.attr("transform",F+t(q,ne)),H=v.align((z?I._uFrac:I._vFrac)+q/B.w,z?I._thickFrac:I._lenFrac,0,1,I.xanchor),X=v.align((z?I._vFrac:1-I._uFrac)-ne/B.h,z?I._lenFrac:I._thickFrac,0,1,I.yanchor);var oe=v.getCursor(H,X,I.xanchor,I.yanchor);l(k,oe)},doneFn:function(){if(l(k),H!==void 0&&X!==void 0){var q={};q[I._propPrefix+"x"]=H,q[I._propPrefix+"y"]=X,I._traceIndex!==void 0?L.call("_guiRestyle",U,q,I._traceIndex):L.call("_guiRelayout",U,q)}}})}function E(k,I,U){var z=I._levels,N=[],B=[],F,H,X=z.end+z.size/100,q=z.size,ne=1.001*U[0]-.001*U[1],oe=1.001*U[1]-.001*U[0];for(H=0;H<1e5&&(F=z.start+H*q,!(q>0?F>=X:F<=X));H++)F>ne&&F<oe&&N.push(F);if(I._fillgradient)B=[0];else if(typeof I._fillcolor=="function"){var ve=I._filllevels;if(ve)for(X=ve.end+ve.size/100,q=ve.size,H=0;H<1e5&&(F=ve.start+H*q,!(q>0?F>=X:F<=X));H++)F>U[0]&&F<U[1]&&B.push(F);else B=N.map(function(J){return J-z.size/2}),B.push(B[B.length-1]+z.size)}else I._fillcolor&&typeof I._fillcolor=="string"&&(B=[0]);return z.size<0&&(N.reverse(),B.reverse()),{line:N,fill:B}}function w(k,I,U){var z=k._fullLayout,N=I.orientation==="v",B={type:"linear",range:U,tickmode:I.tickmode,nticks:I.nticks,tick0:I.tick0,dtick:I.dtick,tickvals:I.tickvals,ticktext:I.ticktext,ticks:I.ticks,ticklen:I.ticklen,tickwidth:I.tickwidth,tickcolor:I.tickcolor,showticklabels:I.showticklabels,labelalias:I.labelalias,ticklabelposition:I.ticklabelposition,ticklabeloverflow:I.ticklabeloverflow,ticklabelstep:I.ticklabelstep,tickfont:I.tickfont,tickangle:I.tickangle,tickformat:I.tickformat,exponentformat:I.exponentformat,minexponent:I.minexponent,separatethousands:I.separatethousands,showexponent:I.showexponent,showtickprefix:I.showtickprefix,tickprefix:I.tickprefix,showticksuffix:I.showticksuffix,ticksuffix:I.ticksuffix,title:I.title,showline:!0,anchor:"free",side:N?"right":"bottom",position:1},F=N?"y":"x",H={type:"linear",_id:F+I._id},X={letter:F,font:z.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:z.calendar};function q(ne,oe){return p.coerce(B,H,f,ne,oe)}return h(B,H,q,X,z),b(B,H,q,X),H}G.exports={draw:m}},76228:function(G,V,e){var g=e(71828);G.exports=function(i){return g.isPlainObject(i.colorbar)}},12311:function(G,V,e){G.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(G,V,e){var g=e(63583),R=e(30587).counter,i=e(78607),L=e(63282).scales;i(L),G.exports=function(v,p){v=v||"",p=p||{};var t=p.cLetter||"c";"onlyIfNumerical"in p&&p.onlyIfNumerical;var r="noScale"in p?p.noScale:v==="marker.line",l="showScaleDflt"in p?p.showScaleDflt:t==="z",n=typeof p.colorscaleDflt=="string"?L[p.colorscaleDflt]:null,s=p.editTypeOverride||"",c;"colorAttr"in p?(c=p.colorAttr,p.colorAttr):c={z:"z",c:"color"}[t];var u=t+"auto",y=t+"min",h=t+"max",b=t+"mid",f={};f[y]=f[h]=void 0;var o={};o[u]=!1;var d={};return c==="color"&&(d.color={valType:"color",arrayOk:!0,editType:s||"style"},p.anim&&(d.color.anim=!0)),d[u]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:f},d[y]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:o},d[h]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:o},d[b]={valType:"number",dflt:null,editType:"calc",impliedEdits:f},d.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:p.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(d.showscale={valType:"boolean",dflt:l,editType:"calc"},d.colorbar=g),p.noColorAxis||(d.coloraxis={valType:"subplotid",regex:R("coloraxis"),dflt:null,editType:"calc"}),d}},78803:function(G,V,e){var g=e(92770),R=e(71828),i=e(52075).extractOpts;G.exports=function(T,v,p){var t=T._fullLayout,r=p.vals,l=p.containerStr,n=l?R.nestedProperty(v,l).get():v,s=i(n),c=s.auto!==!1,u=s.min,y=s.max,h=s.mid,b=function(){return R.aggNums(Math.min,null,r)},f=function(){return R.aggNums(Math.max,null,r)};if(u===void 0?u=b():c&&(n._colorAx&&g(u)?u=Math.min(u,b()):u=b()),y===void 0?y=f():c&&(n._colorAx&&g(y)?y=Math.max(y,f()):y=f()),c&&h!==void 0&&(y-h>h-u?u=h-(y-h):y-h<h-u&&(y=h+(h-u))),u===y&&(u-=.5,y+=.5),s._sync("min",u),s._sync("max",y),s.autocolorscale){var o;u*y<0?o=t.colorscale.diverging:u>=0?o=t.colorscale.sequential:o=t.colorscale.sequentialminus,s._sync("colorscale",o)}}},33046:function(G,V,e){var g=e(71828),R=e(52075).hasColorscale,i=e(52075).extractOpts;G.exports=function(T,v){function p(u,y){var h=u["_"+y];h!==void 0&&(u[y]=h)}function t(u,y){var h=y.container?g.nestedProperty(u,y.container).get():u;if(h)if(h.coloraxis)h._colorAx=v[h.coloraxis];else{var b=i(h),f=b.auto;(f||b.min===void 0)&&p(h,y.min),(f||b.max===void 0)&&p(h,y.max),b.autocolorscale&&p(h,"colorscale")}}for(var r=0;r<T.length;r++){var l=T[r],n=l._module.colorbar;if(n)if(Array.isArray(n))for(var s=0;s<n.length;s++)t(l,n[s]);else t(l,n);R(l,"marker.line")&&t(l,{container:"marker.line",min:"cmin",max:"cmax"})}for(var c in v._colorAxes)t(v[c],{min:"cmin",max:"cmax"})}},1586:function(G,V,e){var g=e(92770),R=e(71828),i=e(76228),L=e(62499),T=e(63282).isValid,v=e(73972).traceIs;function p(t,r){var l=r.slice(0,r.length-1);return r?R.nestedProperty(t,l).get()||{}:t}G.exports=function t(r,l,n,s,c){var u=c.prefix,y=c.cLetter,h="_module"in l,b=p(r,u),f=p(l,u),o=p(l._template||{},u)||{},d=function(){return delete r.coloraxis,delete l.coloraxis,t(r,l,n,s,c)};if(h){var A=n._colorAxes||{},M=s(u+"coloraxis");if(M){var C=v(l,"contour")&&R.nestedProperty(l,"contours.coloring").get()||"heatmap",m=A[M];m?(m[2].push(d),m[0]!==C&&(m[0]=!1,R.warn(["Ignoring coloraxis:",M,"setting","as it is linked to incompatible colorscales."].join(" ")))):A[M]=[C,l,[d]];return}}var S=b[y+"min"],x=b[y+"max"],a=g(S)&&g(x)&&S<x,E=s(u+y+"auto",!a);E?s(u+y+"mid"):(s(u+y+"min"),s(u+y+"max"));var w=b.colorscale,k=o.colorscale,I;if(w!==void 0&&(I=!T(w)),k!==void 0&&(I=!T(k)),s(u+"autocolorscale",I),s(u+"colorscale"),s(u+"reversescale"),u!=="marker.line."){var U;u&&h&&(U=i(b));var z=s(u+"showscale",U);z&&(u&&o&&(f._template=o),L(b,f,n))}}},52075:function(G,V,e){var g=e(39898),R=e(84267),i=e(92770),L=e(71828),T=e(7901),v=e(63282).isValid;function p(h,b,f){var o=b?L.nestedProperty(h,b).get()||{}:h,d=o[f||"color"],A=!1;if(L.isArrayOrTypedArray(d)){for(var M=0;M<d.length;M++)if(i(d[M])){A=!0;break}}return L.isPlainObject(o)&&(A||o.showscale===!0||i(o.cmin)&&i(o.cmax)||v(o.colorscale)||L.isPlainObject(o.colorbar))}var t=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function l(h){var b=h._colorAx,f=b||h,o={},d,A,M;for(A=0;A<t.length;A++)M=t[A],o[M]=f[M];if(b)for(d="c",A=0;A<r.length;A++)M=r[A],o[M]=f["c"+M];else{var C;for(A=0;A<r.length;A++){if(M=r[A],C="c"+M,C in f){o[M]=f[C];continue}C="z"+M,C in f&&(o[M]=f[C])}d=C.charAt(0)}return o._sync=function(m,S){var x=r.indexOf(m)!==-1?d+m:m;f[x]=f["_"+x]=S},o}function n(h){for(var b=l(h),f=b.min,o=b.max,d=b.reversescale?s(b.colorscale):b.colorscale,A=d.length,M=new Array(A),C=new Array(A),m=0;m<A;m++){var S=d[m];M[m]=f+S[0]*(o-f),C[m]=S[1]}return{domain:M,range:C}}function s(h){for(var b=h.length,f=new Array(b),o=b-1,d=0;o>=0;o--,d++){var A=h[o];f[d]=[1-A[0],A[1]]}return f}function c(h,b){b=b||{};for(var f=h.domain,o=h.range,d=o.length,A=new Array(d),M=0;M<d;M++){var C=R(o[M]).toRgb();A[M]=[C.r,C.g,C.b,C.a]}var m=g.scale.linear().domain(f).range(A).clamp(!0),S=b.noNumericCheck,x=b.returnArray,a;return S&&x?a=m:S?a=function(E){return y(m(E))}:x?a=function(E){return i(E)?m(E):R(E).isValid()?E:T.defaultLine}:a=function(E){return i(E)?y(m(E)):R(E).isValid()?E:T.defaultLine},a.domain=m.domain,a.range=function(){return o},a}function u(h,b){return c(n(h),b)}function y(h){var b={r:h[0],g:h[1],b:h[2],a:h[3]};return R(b).toRgbString()}G.exports={hasColorscale:p,extractOpts:l,extractScale:n,flipScale:s,makeColorScaleFunc:c,makeColorScaleFuncFromTrace:u}},21081:function(G,V,e){var g=e(63282),R=e(52075);G.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:g.scales,defaultScale:g.defaultScale,getScale:g.get,isValidScale:g.isValid,hasColorscale:R.hasColorscale,extractOpts:R.extractOpts,extractScale:R.extractScale,flipScale:R.flipScale,makeColorScaleFunc:R.makeColorScaleFunc,makeColorScaleFuncFromTrace:R.makeColorScaleFuncFromTrace}},72673:function(G,V,e){var g=e(1426).extendFlat,R=e(50693),i=e(63282).scales;G.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:g({_isSubplotObj:!0,editType:"calc"},R("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(G,V,e){var g=e(71828),R=e(44467),i=e(72673),L=e(1586);G.exports=function(v,p){function t(h,b){return g.coerce(v,p,i,h,b)}t("colorscale.sequential"),t("colorscale.sequentialminus"),t("colorscale.diverging");var r=p._colorAxes,l,n;function s(h,b){return g.coerce(l,n,i.coloraxis,h,b)}for(var c in r){var u=r[c];if(u[0])l=v[c]||{},n=R.newContainer(p,c,"coloraxis"),n._name=c,L(l,n,p,s,{prefix:"",cLetter:"c"});else{for(var y=0;y<u[2].length;y++)u[2][y]();delete p._colorAxes[c]}}}},63282:function(G,V,e){var g=e(84267),R={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=R.RdBu;function L(p,t){if(t||(t=i),!p)return t;function r(){try{p=R[p]||JSON.parse(p)}catch{p=t}}return typeof p=="string"&&(r(),typeof p=="string"&&r()),T(p)?p:t}function T(p){var t=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var r=0;r<p.length;r++){var l=p[r];if(l.length!==2||+l[0]<t||!g(l[1]).isValid())return!1;t=+l[0]}return!0}function v(p){return R[p]!==void 0?!0:T(p)}G.exports={scales:R,defaultScale:i,get:L,isValid:v}},92807:function(G){G.exports=function(e,g,R,i,L){var T=(e-R)/(i-R),v=T+g/(i-R),p=(T+v)/2;return L==="left"||L==="bottom"?T:L==="center"||L==="middle"?p:L==="right"||L==="top"?v:T<.6666666666666666-p?T:v>1.3333333333333333-p?v:p}},70461:function(G,V,e){var g=e(71828),R=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];G.exports=function(L,T,v,p){return v==="left"?L=0:v==="center"?L=1:v==="right"?L=2:L=g.constrain(Math.floor(L*3),0,2),p==="bottom"?T=0:p==="middle"?T=1:p==="top"?T=2:T=g.constrain(Math.floor(T*3),0,2),R[T][L]}},64505:function(G,V){V.selectMode=function(e){return e==="lasso"||e==="select"},V.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},V.openMode=function(e){return e==="drawline"||e==="drawopenpath"},V.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},V.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},V.selectingOrDrawing=function(e){return V.freeMode(e)||V.rectMode(e)}},28569:function(G,V,e){var g=e(48956),R=e(57035),i=e(38520),L=e(71828).removeElement,T=e(85555),v=G.exports={};v.align=e(92807),v.getCursor=e(70461);var p=e(26041);v.unhover=p.wrapped,v.unhoverRaw=p.raw,v.init=function(n){var s=n.gd,c=1,u=s._context.doubleClickDelay,y=n.element,h,b,f,o,d,A,M,C;s._mouseDownTime||(s._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=x,i?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=x,y.addEventListener("touchstart",x,{passive:!1})):y.ontouchstart=x;function m(w,k,I){return Math.abs(w)<I&&(w=0),Math.abs(k)<I&&(k=0),[w,k]}var S=n.clampFn||m;function x(w){s._dragged=!1,s._dragging=!0;var k=r(w);h=k[0],b=k[1],M=w.target,A=w,C=w.buttons===2||w.ctrlKey,typeof w.clientX>"u"&&typeof w.clientY>"u"&&(w.clientX=h,w.clientY=b),f=new Date().getTime(),f-s._mouseDownTime<u?c+=1:(c=1,s._mouseDownTime=f),n.prepFn&&n.prepFn(w,h,b),R&&!C?(d=t(),d.style.cursor=window.getComputedStyle(y).cursor):R||(d=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",E),document.addEventListener("touchend",E),n.dragmode!==!1&&(w.preventDefault(),document.addEventListener("mousemove",a),document.addEventListener("touchmove",a,{passive:!1}))}function a(w){w.preventDefault();var k=r(w),I=n.minDrag||T.MINDRAG,U=S(k[0]-h,k[1]-b,I),z=U[0],N=U[1];(z||N)&&(s._dragged=!0,v.unhover(s,w)),s._dragged&&n.moveFn&&!C&&(s._dragdata={element:y,dx:z,dy:N},n.moveFn(z,N))}function E(w){if(delete s._dragdata,n.dragmode!==!1&&(w.preventDefault(),document.removeEventListener("mousemove",a),document.removeEventListener("touchmove",a)),document.removeEventListener("mouseup",E),document.removeEventListener("touchend",E),R?L(d):o&&(d.documentElement.style.cursor=o,o=null),!s._dragging){s._dragged=!1;return}if(s._dragging=!1,new Date().getTime()-s._mouseDownTime>u&&(c=Math.max(c-1,1)),s._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(c,A),!C){var k;try{k=new MouseEvent("click",w)}catch{var I=r(w);k=document.createEvent("MouseEvents"),k.initMouseEvent("click",w.bubbles,w.cancelable,w.view,w.detail,w.screenX,w.screenY,I[0],I[1],w.ctrlKey,w.altKey,w.shiftKey,w.metaKey,w.button,w.relatedTarget)}M.dispatchEvent(k)}s._dragging=!1,s._dragged=!1}};function t(){var l=document.createElement("div");l.className="dragcover";var n=l.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(l),l}v.coverSlip=t;function r(l){return g(l.changedTouches?l.changedTouches[0]:l,document.body)}},26041:function(G,V,e){var g=e(11086),R=e(79990),i=e(24401).getGraphDiv,L=e(26675),T=G.exports={};T.wrapped=function(v,p,t){v=i(v),v._fullLayout&&R.clear(v._fullLayout._uid+L.HOVERID),T.raw(v,p,t)},T.raw=function(p,t){var r=p._fullLayout,l=p._hoverdata;t||(t={}),!(t.target&&!p._dragged&&g.triggerHandler(p,"plotly_beforehover",t)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,t.target&&l&&p.emit("plotly_unhover",{event:t,points:l}))}},79952:function(G,V){V.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},V.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(G,V,e){var g=e(39898),R=e(71828),i=R.numberFormat,L=e(92770),T=e(84267),v=e(73972),p=e(7901),t=e(21081),r=R.strTranslate,l=e(63893),n=e(77922),s=e(18783),c=s.LINE_SPACING,u=e(37822).DESELECTDIM,y=e(34098),h=e(39984),b=e(23469).appendArrayPointValue,f=G.exports={};f.font=function(Ce,be,we,ke){R.isPlainObject(be)&&(ke=be.color,we=be.size,be=be.family),be&&Ce.style("font-family",be),we+1&&Ce.style("font-size",we+"px"),ke&&Ce.call(p.fill,ke)},f.setPosition=function(Ce,be,we){Ce.attr("x",be).attr("y",we)},f.setSize=function(Ce,be,we){Ce.attr("width",be).attr("height",we)},f.setRect=function(Ce,be,we,ke,Fe){Ce.call(f.setPosition,be,we).call(f.setSize,ke,Fe)},f.translatePoint=function(Ce,be,we,ke){var Fe=we.c2p(Ce.x),Pe=ke.c2p(Ce.y);if(L(Fe)&&L(Pe)&&be.node())be.node().nodeName==="text"?be.attr("x",Fe).attr("y",Pe):be.attr("transform",r(Fe,Pe));else return!1;return!0},f.translatePoints=function(Ce,be,we){Ce.each(function(ke){var Fe=g.select(this);f.translatePoint(ke,Fe,be,we)})},f.hideOutsideRangePoint=function(Ce,be,we,ke,Fe,Pe){be.attr("display",we.isPtWithinRange(Ce,Fe)&&ke.isPtWithinRange(Ce,Pe)?null:"none")},f.hideOutsideRangePoints=function(Ce,be){if(be._hasClipOnAxisFalse){var we=be.xaxis,ke=be.yaxis;Ce.each(function(Fe){var Pe=Fe[0].trace,Ge=Pe.xcalendar,nt=Pe.ycalendar,qe=v.traceIs(Pe,"bar-like")?".bartext":".point,.textpoint";Ce.selectAll(qe).each(function(Ke){f.hideOutsideRangePoint(Ke,g.select(this),we,ke,Ge,nt)})})}},f.crispRound=function(Ce,be,we){return!be||!L(be)?we||0:Ce._context.staticPlot?be:be<1?1:Math.round(be)},f.singleLineStyle=function(Ce,be,we,ke,Fe){be.style("fill","none");var Pe=(((Ce||[])[0]||{}).trace||{}).line||{},Ge=we||Pe.width||0,nt=Fe||Pe.dash||"";p.stroke(be,ke||Pe.color),f.dashLine(be,nt,Ge)},f.lineGroupStyle=function(Ce,be,we,ke){Ce.style("fill","none").each(function(Fe){var Pe=(((Fe||[])[0]||{}).trace||{}).line||{},Ge=be||Pe.width||0,nt=ke||Pe.dash||"";g.select(this).call(p.stroke,we||Pe.color).call(f.dashLine,nt,Ge)})},f.dashLine=function(Ce,be,we){we=+we||0,be=f.dashStyle(be,we),Ce.style({"stroke-dasharray":be,"stroke-width":we+"px"})},f.dashStyle=function(Ce,be){be=+be||1;var we=Math.max(be,3);return Ce==="solid"?Ce="":Ce==="dot"?Ce=we+"px,"+we+"px":Ce==="dash"?Ce=3*we+"px,"+3*we+"px":Ce==="longdash"?Ce=5*we+"px,"+5*we+"px":Ce==="dashdot"?Ce=3*we+"px,"+we+"px,"+we+"px,"+we+"px":Ce==="longdashdot"&&(Ce=5*we+"px,"+2*we+"px,"+we+"px,"+2*we+"px"),Ce};function o(Ce,be,we){var ke=be.fillpattern,Fe=ke&&f.getPatternAttr(ke.shape,0,"");if(Fe){var Pe=f.getPatternAttr(ke.bgcolor,0,null),Ge=f.getPatternAttr(ke.fgcolor,0,null),nt=ke.fgopacity,qe=f.getPatternAttr(ke.size,0,8),Ke=f.getPatternAttr(ke.solidity,0,.3),$e=be.uid;f.pattern(Ce,"point",we,$e,Fe,qe,Ke,void 0,ke.fillmode,Pe,Ge,nt)}else be.fillcolor&&Ce.call(p.fill,be.fillcolor)}f.singleFillStyle=function(Ce,be){var we=g.select(Ce.node()),ke=we.data(),Fe=((ke[0]||[])[0]||{}).trace||{};o(Ce,Fe,be)},f.fillGroupStyle=function(Ce,be){Ce.style("stroke-width",0).each(function(we){var ke=g.select(this);we[0].trace&&o(ke,we[0].trace,be)})};var d=e(90998);f.symbolNames=[],f.symbolFuncs=[],f.symbolBackOffs=[],f.symbolNeedLines={},f.symbolNoDot={},f.symbolNoFill={},f.symbolList=[],Object.keys(d).forEach(function(Ce){var be=d[Ce],we=be.n;f.symbolList.push(we,String(we),Ce,we+100,String(we+100),Ce+"-open"),f.symbolNames[we]=Ce,f.symbolFuncs[we]=be.f,f.symbolBackOffs[we]=be.backoff||0,be.needLine&&(f.symbolNeedLines[we]=!0),be.noDot?f.symbolNoDot[we]=!0:f.symbolList.push(we+200,String(we+200),Ce+"-dot",we+300,String(we+300),Ce+"-open-dot"),be.noFill&&(f.symbolNoFill[we]=!0)});var A=f.symbolNames.length,M="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";f.symbolNumber=function(Ce){if(L(Ce))Ce=+Ce;else if(typeof Ce=="string"){var be=0;Ce.indexOf("-open")>0&&(be=100,Ce=Ce.replace("-open","")),Ce.indexOf("-dot")>0&&(be+=200,Ce=Ce.replace("-dot","")),Ce=f.symbolNames.indexOf(Ce),Ce>=0&&(Ce+=be)}return Ce%100>=A||Ce>=400?0:Math.floor(Math.max(Ce,0))};function C(Ce,be,we,ke){var Fe=Ce%100;return f.symbolFuncs[Fe](be,we,ke)+(Ce>=200?M:"")}var m={x1:1,x2:0,y1:0,y2:0},S={x1:0,x2:0,y1:1,y2:0},x=i("~f"),a={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:m},horizontalreversed:{node:"linearGradient",attrs:m,reversed:!0},vertical:{node:"linearGradient",attrs:S},verticalreversed:{node:"linearGradient",attrs:S,reversed:!0}};f.gradient=function(Ce,be,we,ke,Fe,Pe){for(var Ge=Fe.length,nt=a[ke],qe=new Array(Ge),Ke=0;Ke<Ge;Ke++)nt.reversed?qe[Ge-1-Ke]=[x((1-Fe[Ke][0])*100),Fe[Ke][1]]:qe[Ke]=[x(Fe[Ke][0]*100),Fe[Ke][1]];var $e=be._fullLayout,vt="g"+$e._uid+"-"+we,yt=$e._defs.select(".gradients").selectAll("#"+vt).data([ke+qe.join(";")],R.identity);yt.exit().remove(),yt.enter().append(nt.node).each(function(){var mt=g.select(this);nt.attrs&&mt.attr(nt.attrs),mt.attr("id",vt);var Et=mt.selectAll("stop").data(qe);Et.exit().remove(),Et.enter().append("stop"),Et.each(function(Xe){var Ue=T(Xe[1]);g.select(this).attr({offset:Xe[0]+"%","stop-color":p.tinyRGB(Ue),"stop-opacity":Ue.getAlpha()})})}),Ce.style(Pe,Y(vt,be)).style(Pe+"-opacity",null),Ce.classed("gradient_filled",!0)},f.pattern=function(Ce,be,we,ke,Fe,Pe,Ge,nt,qe,Ke,$e,vt){var yt=be==="legend";nt&&(qe==="overlay"?(Ke=nt,$e=p.contrast(Ke)):(Ke=void 0,$e=nt));var mt=we._fullLayout,Et="p"+mt._uid+"-"+ke,Xe,Ue,Be=function(Tt,It,Gt,jt,Pt){return jt+(Pt-jt)*(Tt-It)/(Gt-It)},rt,it,Ye,De,Te={},fe=T($e),me=p.tinyRGB(fe),Re=fe.getAlpha(),Oe=vt*Re;switch(Fe){case"/":Xe=Pe*Math.sqrt(2),Ue=Pe*Math.sqrt(2),rt="M-"+Xe/4+","+Ue/4+"l"+Xe/2+",-"+Ue/2+"M0,"+Ue+"L"+Xe+",0M"+Xe/4*3+","+Ue/4*5+"l"+Xe/2+",-"+Ue/2,it=Ge*Pe,De="path",Te={d:rt,opacity:Oe,stroke:me,"stroke-width":it+"px"};break;case"\\":Xe=Pe*Math.sqrt(2),Ue=Pe*Math.sqrt(2),rt="M"+Xe/4*3+",-"+Ue/4+"l"+Xe/2+","+Ue/2+"M0,0L"+Xe+","+Ue+"M-"+Xe/4+","+Ue/4*3+"l"+Xe/2+","+Ue/2,it=Ge*Pe,De="path",Te={d:rt,opacity:Oe,stroke:me,"stroke-width":it+"px"};break;case"x":Xe=Pe*Math.sqrt(2),Ue=Pe*Math.sqrt(2),rt="M-"+Xe/4+","+Ue/4+"l"+Xe/2+",-"+Ue/2+"M0,"+Ue+"L"+Xe+",0M"+Xe/4*3+","+Ue/4*5+"l"+Xe/2+",-"+Ue/2+"M"+Xe/4*3+",-"+Ue/4+"l"+Xe/2+","+Ue/2+"M0,0L"+Xe+","+Ue+"M-"+Xe/4+","+Ue/4*3+"l"+Xe/2+","+Ue/2,it=Pe-Pe*Math.sqrt(1-Ge),De="path",Te={d:rt,opacity:Oe,stroke:me,"stroke-width":it+"px"};break;case"|":Xe=Pe,Ue=Pe,De="path",rt="M"+Xe/2+",0L"+Xe/2+","+Ue,it=Ge*Pe,De="path",Te={d:rt,opacity:Oe,stroke:me,"stroke-width":it+"px"};break;case"-":Xe=Pe,Ue=Pe,De="path",rt="M0,"+Ue/2+"L"+Xe+","+Ue/2,it=Ge*Pe,De="path",Te={d:rt,opacity:Oe,stroke:me,"stroke-width":it+"px"};break;case"+":Xe=Pe,Ue=Pe,De="path",rt="M"+Xe/2+",0L"+Xe/2+","+Ue+"M0,"+Ue/2+"L"+Xe+","+Ue/2,it=Pe-Pe*Math.sqrt(1-Ge),De="path",Te={d:rt,opacity:Oe,stroke:me,"stroke-width":it+"px"};break;case".":Xe=Pe,Ue=Pe,Ge<Math.PI/4?Ye=Math.sqrt(Ge*Pe*Pe/Math.PI):Ye=Be(Ge,Math.PI/4,1,Pe/2,Pe/Math.sqrt(2)),De="circle",Te={cx:Xe/2,cy:Ue/2,r:Ye,opacity:Oe,fill:me};break}var st=[Fe||"noSh",Ke||"noBg",$e||"noFg",Pe,Ge].join(";"),ut=mt._defs.select(".patterns").selectAll("#"+Et).data([st],R.identity);ut.exit().remove(),ut.enter().append("pattern").each(function(){var Tt=g.select(this);if(Tt.attr({id:Et,width:Xe+"px",height:Ue+"px",patternUnits:"userSpaceOnUse",patternTransform:yt?"scale(0.8)":""}),Ke){var It=T(Ke),Gt=p.tinyRGB(It),jt=It.getAlpha(),Pt=Tt.selectAll("rect").data([0]);Pt.exit().remove(),Pt.enter().append("rect").attr({width:Xe+"px",height:Ue+"px",fill:Gt,"fill-opacity":jt})}var Qt=Tt.selectAll(De).data([0]);Qt.exit().remove(),Qt.enter().append(De).attr(Te)}),Ce.style("fill",Y(Et,we)).style("fill-opacity",null),Ce.classed("pattern_filled",!0)},f.initGradients=function(Ce){var be=Ce._fullLayout,we=R.ensureSingle(be._defs,"g","gradients");we.selectAll("linearGradient,radialGradient").remove(),g.select(Ce).selectAll(".gradient_filled").classed("gradient_filled",!1)},f.initPatterns=function(Ce){var be=Ce._fullLayout,we=R.ensureSingle(be._defs,"g","patterns");we.selectAll("pattern").remove(),g.select(Ce).selectAll(".pattern_filled").classed("pattern_filled",!1)},f.getPatternAttr=function(Ce,be,we){return Ce&&R.isArrayOrTypedArray(Ce)?be<Ce.length?Ce[be]:we:Ce},f.pointStyle=function(Ce,be,we,ke){if(Ce.size()){var Fe=f.makePointStyleFns(be);Ce.each(function(Pe){f.singlePointStyle(Pe,g.select(this),be,Fe,we,ke)})}},f.singlePointStyle=function(Ce,be,we,ke,Fe,Pe){var Ge=we.marker,nt=Ge.line;if(Pe&&Pe.i>=0&&Ce.i===void 0&&(Ce.i=Pe.i),be.style("opacity",ke.selectedOpacityFn?ke.selectedOpacityFn(Ce):Ce.mo===void 0?Ge.opacity:Ce.mo),ke.ms2mrc){var qe;Ce.ms==="various"||Ge.size==="various"?qe=3:qe=ke.ms2mrc(Ce.ms),Ce.mrc=qe,ke.selectedSizeFn&&(qe=Ce.mrc=ke.selectedSizeFn(Ce));var Ke=f.symbolNumber(Ce.mx||Ge.symbol)||0;Ce.om=Ke%200>=100;var $e=He(Ce,we),vt=te(Ce,we);be.attr("d",C(Ke,qe,$e,vt))}var yt=!1,mt,Et,Xe;if(Ce.so)Xe=nt.outlierwidth,Et=nt.outliercolor,mt=Ge.outliercolor;else{var Ue=(nt||{}).width;Xe=(Ce.mlw+1||Ue+1||(Ce.trace?(Ce.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Ce?Et=Ce.mlcc=ke.lineScale(Ce.mlc):R.isArrayOrTypedArray(nt.color)?Et=p.defaultLine:Et=nt.color,R.isArrayOrTypedArray(Ge.color)&&(mt=p.defaultLine,yt=!0),"mc"in Ce?mt=Ce.mcc=ke.markerScale(Ce.mc):mt=Ge.color||Ge.colors||"rgba(0,0,0,0)",ke.selectedColorFn&&(mt=ke.selectedColorFn(Ce))}if(Ce.om)be.call(p.stroke,mt).style({"stroke-width":(Xe||1)+"px",fill:"none"});else{be.style("stroke-width",(Ce.isBlank?0:Xe)+"px");var Be=Ge.gradient,rt=Ce.mgt;rt?yt=!0:rt=Be&&Be.type,R.isArrayOrTypedArray(rt)&&(rt=rt[0],a[rt]||(rt=0));var it=Ge.pattern,Ye=it&&f.getPatternAttr(it.shape,Ce.i,"");if(rt&&rt!=="none"){var De=Ce.mgc;De?yt=!0:De=Be.color;var Te=we.uid;yt&&(Te+="-"+Ce.i),f.gradient(be,Fe,Te,rt,[[0,De],[1,mt]],"fill")}else if(Ye){var fe=!1,me=it.fgcolor;!me&&Pe&&Pe.color&&(me=Pe.color,fe=!0);var Re=f.getPatternAttr(me,Ce.i,Pe&&Pe.color||null),Oe=f.getPatternAttr(it.bgcolor,Ce.i,null),st=it.fgopacity,ut=f.getPatternAttr(it.size,Ce.i,8),Tt=f.getPatternAttr(it.solidity,Ce.i,.3);fe=fe||Ce.mcc||R.isArrayOrTypedArray(it.shape)||R.isArrayOrTypedArray(it.bgcolor)||R.isArrayOrTypedArray(it.fgcolor)||R.isArrayOrTypedArray(it.size)||R.isArrayOrTypedArray(it.solidity);var It=we.uid;fe&&(It+="-"+Ce.i),f.pattern(be,"point",Fe,It,Ye,ut,Tt,Ce.mcc,it.fillmode,Oe,Re,st)}else R.isArrayOrTypedArray(mt)?p.fill(be,mt[Ce.i]):p.fill(be,mt);Xe&&p.stroke(be,Et)}},f.makePointStyleFns=function(Ce){var be={},we=Ce.marker;return be.markerScale=f.tryColorscale(we,""),be.lineScale=f.tryColorscale(we,"line"),v.traceIs(Ce,"symbols")&&(be.ms2mrc=y.isBubble(Ce)?h(Ce):function(){return(we.size||6)/2}),Ce.selectedpoints&&R.extendFlat(be,f.makeSelectedPointStyleFns(Ce)),be},f.makeSelectedPointStyleFns=function(Ce){var be={},we=Ce.selected||{},ke=Ce.unselected||{},Fe=Ce.marker||{},Pe=we.marker||{},Ge=ke.marker||{},nt=Fe.opacity,qe=Pe.opacity,Ke=Ge.opacity,$e=qe!==void 0,vt=Ke!==void 0;(R.isArrayOrTypedArray(nt)||$e||vt)&&(be.selectedOpacityFn=function(Ye){var De=Ye.mo===void 0?Fe.opacity:Ye.mo;return Ye.selected?$e?qe:De:vt?Ke:u*De});var yt=Fe.color,mt=Pe.color,Et=Ge.color;(mt||Et)&&(be.selectedColorFn=function(Ye){var De=Ye.mcc||yt;return Ye.selected?mt||De:Et||De});var Xe=Fe.size,Ue=Pe.size,Be=Ge.size,rt=Ue!==void 0,it=Be!==void 0;return v.traceIs(Ce,"symbols")&&(rt||it)&&(be.selectedSizeFn=function(Ye){var De=Ye.mrc||Xe/2;return Ye.selected?rt?Ue/2:De:it?Be/2:De}),be},f.makeSelectedTextStyleFns=function(Ce){var be={},we=Ce.selected||{},ke=Ce.unselected||{},Fe=Ce.textfont||{},Pe=we.textfont||{},Ge=ke.textfont||{},nt=Fe.color,qe=Pe.color,Ke=Ge.color;return be.selectedTextColorFn=function($e){var vt=$e.tc||nt;return $e.selected?qe||vt:Ke||(qe?vt:p.addOpacity(vt,u))},be},f.selectedPointStyle=function(Ce,be){if(!(!Ce.size()||!be.selectedpoints)){var we=f.makeSelectedPointStyleFns(be),ke=be.marker||{},Fe=[];we.selectedOpacityFn&&Fe.push(function(Pe,Ge){Pe.style("opacity",we.selectedOpacityFn(Ge))}),we.selectedColorFn&&Fe.push(function(Pe,Ge){p.fill(Pe,we.selectedColorFn(Ge))}),we.selectedSizeFn&&Fe.push(function(Pe,Ge){var nt=Ge.mx||ke.symbol||0,qe=we.selectedSizeFn(Ge);Pe.attr("d",C(f.symbolNumber(nt),qe,He(Ge,be),te(Ge,be))),Ge.mrc2=qe}),Fe.length&&Ce.each(function(Pe){for(var Ge=g.select(this),nt=0;nt<Fe.length;nt++)Fe[nt](Ge,Pe)})}},f.tryColorscale=function(Ce,be){var we=be?R.nestedProperty(Ce,be).get():Ce;if(we){var ke=we.color;if((we.colorscale||we._colorAx)&&R.isArrayOrTypedArray(ke))return t.makeColorScaleFuncFromTrace(we)}return R.identity};var E={start:1,end:-1,middle:0,bottom:1,top:-1};function w(Ce,be,we,ke,Fe){var Pe=g.select(Ce.node().parentNode),Ge=be.indexOf("top")!==-1?"top":be.indexOf("bottom")!==-1?"bottom":"middle",nt=be.indexOf("left")!==-1?"end":be.indexOf("right")!==-1?"start":"middle",qe=ke?ke/.8+1:0,Ke=(l.lineCount(Ce)-1)*c+1,$e=E[nt]*qe,vt=we*.75+E[Ge]*qe+(E[Ge]-1)*Ke*we/2;Ce.attr("text-anchor",nt),Fe||Pe.attr("transform",r($e,vt))}function k(Ce,be){var we=Ce.ts||be.textfont.size;return L(we)&&we>0?we:0}f.textPointStyle=function(Ce,be,we){if(Ce.size()){var ke;if(be.selectedpoints){var Fe=f.makeSelectedTextStyleFns(be);ke=Fe.selectedTextColorFn}var Pe=be.texttemplate,Ge=we._fullLayout;Ce.each(function(nt){var qe=g.select(this),Ke=Pe?R.extractOption(nt,be,"txt","texttemplate"):R.extractOption(nt,be,"tx","text");if(!Ke&&Ke!==0){qe.remove();return}if(Pe){var $e=be._module.formatLabels,vt=$e?$e(nt,be,Ge):{},yt={};b(yt,be,nt.i);var mt=be._meta||{};Ke=R.texttemplateString(Ke,vt,Ge._d3locale,yt,nt,mt)}var Et=nt.tp||be.textposition,Xe=k(nt,be),Ue=ke?ke(nt):nt.tc||be.textfont.color;qe.call(f.font,nt.tf||be.textfont.family,Xe,Ue).text(Ke).call(l.convertToTspans,we).call(w,Et,Xe,nt.mrc)})}},f.selectedTextStyle=function(Ce,be){if(!(!Ce.size()||!be.selectedpoints)){var we=f.makeSelectedTextStyleFns(be);Ce.each(function(ke){var Fe=g.select(this),Pe=we.selectedTextColorFn(ke),Ge=ke.tp||be.textposition,nt=k(ke,be);p.fill(Fe,Pe);var qe=v.traceIs(be,"bar-like");w(Fe,Ge,nt,ke.mrc2||ke.mrc,qe)})}};var I=.5;f.smoothopen=function(Ce,be){if(Ce.length<3)return"M"+Ce.join("L");var we="M"+Ce[0],ke=[],Fe;for(Fe=1;Fe<Ce.length-1;Fe++)ke.push(H(Ce[Fe-1],Ce[Fe],Ce[Fe+1],be));for(we+="Q"+ke[0][0]+" "+Ce[1],Fe=2;Fe<Ce.length-1;Fe++)we+="C"+ke[Fe-2][1]+" "+ke[Fe-1][0]+" "+Ce[Fe];return we+="Q"+ke[Ce.length-3][1]+" "+Ce[Ce.length-1],we},f.smoothclosed=function(Ce,be){if(Ce.length<3)return"M"+Ce.join("L")+"Z";var we="M"+Ce[0],ke=Ce.length-1,Fe=[H(Ce[ke],Ce[0],Ce[1],be)],Pe;for(Pe=1;Pe<ke;Pe++)Fe.push(H(Ce[Pe-1],Ce[Pe],Ce[Pe+1],be));for(Fe.push(H(Ce[ke-1],Ce[ke],Ce[0],be)),Pe=1;Pe<=ke;Pe++)we+="C"+Fe[Pe-1][1]+" "+Fe[Pe][0]+" "+Ce[Pe];return we+="C"+Fe[ke][1]+" "+Fe[0][0]+" "+Ce[0]+"Z",we};var U,z;function N(Ce,be,we){return we&&(Ce=ne(Ce)),be?F(Ce[1]):B(Ce[0])}function B(Ce){var be=g.round(Ce,2);return U=be,be}function F(Ce){var be=g.round(Ce,2);return z=be,be}function H(Ce,be,we,ke){var Fe=Ce[0]-be[0],Pe=Ce[1]-be[1],Ge=we[0]-be[0],nt=we[1]-be[1],qe=Math.pow(Fe*Fe+Pe*Pe,I/2),Ke=Math.pow(Ge*Ge+nt*nt,I/2),$e=(Ke*Ke*Fe-qe*qe*Ge)*ke,vt=(Ke*Ke*Pe-qe*qe*nt)*ke,yt=3*Ke*(qe+Ke),mt=3*qe*(qe+Ke);return[[B(be[0]+(yt&&$e/yt)),F(be[1]+(yt&&vt/yt))],[B(be[0]-(mt&&$e/mt)),F(be[1]-(mt&&vt/mt))]]}var X={hv:function(Ce,be,we){return"H"+B(be[0])+"V"+N(be,1,we)},vh:function(Ce,be,we){return"V"+F(be[1])+"H"+N(be,0,we)},hvh:function(Ce,be,we){return"H"+B((Ce[0]+be[0])/2)+"V"+F(be[1])+"H"+N(be,0,we)},vhv:function(Ce,be,we){return"V"+F((Ce[1]+be[1])/2)+"H"+B(be[0])+"V"+N(be,1,we)}},q=function(Ce,be,we){return"L"+N(be,0,we)+","+N(be,1,we)};f.steps=function(Ce){var be=X[Ce]||q;return function(we){for(var ke="M"+B(we[0][0])+","+F(we[0][1]),Fe=we.length,Pe=1;Pe<Fe;Pe++)ke+=be(we[Pe-1],we[Pe],Pe===Fe-1);return ke}};function ne(Ce,be){var we=Ce.backoff,ke=Ce.trace,Fe=Ce.d,Pe=Ce.i;if(we&&ke&&ke.marker&&ke.marker.angle%360===0&&ke.line&&ke.line.shape!=="spline"){var Ge=R.isArrayOrTypedArray(we),nt=Ce,qe=be?be[0]:U||0,Ke=be?be[1]:z||0,$e=nt[0],vt=nt[1],yt=$e-qe,mt=vt-Ke,Et=Math.atan2(mt,yt),Xe=Ge?we[Pe]:we;if(Xe==="auto"){var Ue=nt.i;ke.type==="scatter"&&Ue--;var Be=nt.marker,rt=Be.symbol;R.isArrayOrTypedArray(rt)&&(rt=rt[Ue]);var it=Be.size;R.isArrayOrTypedArray(it)&&(it=it[Ue]),Xe=Be?f.symbolBackOffs[f.symbolNumber(rt)]*it:0,Xe+=f.getMarkerStandoff(Fe[Ue],ke)||0}var Ye=$e-Xe*Math.cos(Et),De=vt-Xe*Math.sin(Et);(Ye<=$e&&Ye>=qe||Ye>=$e&&Ye<=qe)&&(De<=vt&&De>=Ke||De>=vt&&De<=Ke)&&(Ce=[Ye,De])}return Ce}f.applyBackoff=ne,f.makeTester=function(){var Ce=R.ensureSingleById(g.select("body"),"svg","js-plotly-tester",function(we){we.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),be=R.ensureSingle(Ce,"path","js-reference-point",function(we){we.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});f.tester=Ce,f.testref=be},f.savedBBoxes={};var oe=0,ve=1e4;f.bBox=function(Ce,be,we){we||(we=J(Ce));var ke;if(we){if(ke=f.savedBBoxes[we],ke)return R.extendFlat({},ke)}else if(Ce.childNodes.length===1){var Fe=Ce.childNodes[0];if(we=J(Fe),we){var Pe=+Fe.getAttribute("x")||0,Ge=+Fe.getAttribute("y")||0,nt=Fe.getAttribute("transform");if(!nt){var qe=f.bBox(Fe,!1,we);return Pe&&(qe.left+=Pe,qe.right+=Pe),Ge&&(qe.top+=Ge,qe.bottom+=Ge),qe}if(we+="~"+Pe+"~"+Ge+"~"+nt,ke=f.savedBBoxes[we],ke)return R.extendFlat({},ke)}}var Ke,$e;be?Ke=Ce:($e=f.tester.node(),Ke=Ce.cloneNode(!0),$e.appendChild(Ke)),g.select(Ke).attr("transform",null).call(l.positionText,0,0);var vt=Ke.getBoundingClientRect(),yt=f.testref.node().getBoundingClientRect();be||$e.removeChild(Ke);var mt={height:vt.height,width:vt.width,left:vt.left-yt.left,top:vt.top-yt.top,right:vt.right-yt.left,bottom:vt.bottom-yt.top};return oe>=ve&&(f.savedBBoxes={},oe=0),we&&(f.savedBBoxes[we]=mt),oe++,R.extendFlat({},mt)};function J(Ce){var be=Ce.getAttribute("data-unformatted");if(be!==null)return be+Ce.getAttribute("data-math")+Ce.getAttribute("text-anchor")+Ce.getAttribute("style")}f.setClipUrl=function(Ce,be,we){Ce.attr("clip-path",Y(be,we))};function Y(Ce,be){if(!Ce)return null;var we=be._context,ke=we._exportedPlot?"":we._baseUrl||"";return ke?"url('"+ke+"#"+Ce+"')":"url(#"+Ce+")"}f.getTranslate=function(Ce){var be=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,we=Ce.attr?"attr":"getAttribute",ke=Ce[we]("transform")||"",Fe=ke.replace(be,function(Pe,Ge,nt){return[Ge,nt].join(" ")}).split(" ");return{x:+Fe[0]||0,y:+Fe[1]||0}},f.setTranslate=function(Ce,be,we){var ke=/(\btranslate\(.*?\);?)/,Fe=Ce.attr?"attr":"getAttribute",Pe=Ce.attr?"attr":"setAttribute",Ge=Ce[Fe]("transform")||"";return be=be||0,we=we||0,Ge=Ge.replace(ke,"").trim(),Ge+=r(be,we),Ge=Ge.trim(),Ce[Pe]("transform",Ge),Ge},f.getScale=function(Ce){var be=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,we=Ce.attr?"attr":"getAttribute",ke=Ce[we]("transform")||"",Fe=ke.replace(be,function(Pe,Ge,nt){return[Ge,nt].join(" ")}).split(" ");return{x:+Fe[0]||1,y:+Fe[1]||1}},f.setScale=function(Ce,be,we){var ke=/(\bscale\(.*?\);?)/,Fe=Ce.attr?"attr":"getAttribute",Pe=Ce.attr?"attr":"setAttribute",Ge=Ce[Fe]("transform")||"";return be=be||1,we=we||1,Ge=Ge.replace(ke,"").trim(),Ge+="scale("+be+","+we+")",Ge=Ge.trim(),Ce[Pe]("transform",Ge),Ge};var j=/\s*sc.*/;f.setPointGroupScale=function(Ce,be,we){if(be=be||1,we=we||1,!!Ce){var ke=be===1&&we===1?"":"scale("+be+","+we+")";Ce.each(function(){var Fe=(this.getAttribute("transform")||"").replace(j,"");Fe+=ke,Fe=Fe.trim(),this.setAttribute("transform",Fe)})}};var K=/translate\([^)]*\)\s*$/;f.setTextPointsScale=function(Ce,be,we){Ce&&Ce.each(function(){var ke,Fe=g.select(this),Pe=Fe.select("text");if(Pe.node()){var Ge=parseFloat(Pe.attr("x")||0),nt=parseFloat(Pe.attr("y")||0),qe=(Fe.attr("transform")||"").match(K);be===1&&we===1?ke=[]:ke=[r(Ge,nt),"scale("+be+","+we+")",r(-Ge,-nt)],qe&&ke.push(qe),Fe.attr("transform",ke.join(""))}})};function te(Ce,be){var we;return Ce&&(we=Ce.mf),we===void 0&&(we=be.marker&&be.marker.standoff||0),!be._geo&&!be._xA?-we:we}f.getMarkerStandoff=te;var se=Math.atan2,Q=Math.cos,ee=Math.sin;function le(Ce,be){var we=be[0],ke=be[1];return[we*Q(Ce)-ke*ee(Ce),we*ee(Ce)+ke*Q(Ce)]}var ie,he,xe,Se,Ee,Ne;function He(Ce,be){var we=Ce.ma;we===void 0&&(we=be.marker.angle||0);var ke,Fe,Pe=be.marker.angleref;if(Pe==="previous"||Pe==="north"){if(be._geo){var Ge=be._geo.project(Ce.lonlat);ke=Ge[0],Fe=Ge[1]}else{var nt=be._xA,qe=be._yA;if(nt&&qe)ke=nt.c2p(Ce.x),Fe=qe.c2p(Ce.y);else return 90}if(be._geo){var Ke=Ce.lonlat[0],$e=Ce.lonlat[1],vt=be._geo.project([Ke,$e+1e-5]),yt=be._geo.project([Ke+1e-5,$e]),mt=se(yt[1]-Fe,yt[0]-ke),Et=se(vt[1]-Fe,vt[0]-ke),Xe;if(Pe==="north")Xe=we/180*Math.PI;else if(Pe==="previous"){var Ue=Ke/180*Math.PI,Be=$e/180*Math.PI,rt=ie/180*Math.PI,it=he/180*Math.PI,Ye=rt-Ue,De=Q(it)*ee(Ye),Te=ee(it)*Q(Be)-Q(it)*ee(Be)*Q(Ye);Xe=-se(De,Te)-Math.PI,ie=Ke,he=$e}var fe=le(mt,[Q(Xe),0]),me=le(Et,[ee(Xe),0]);we=se(fe[1]+me[1],fe[0]+me[0])/Math.PI*180,Pe==="previous"&&!(Ne===be.uid&&Ce.i===Ee+1)&&(we=null)}if(Pe==="previous"&&!be._geo)if(Ne===be.uid&&Ce.i===Ee+1&&L(ke)&&L(Fe)){var Re=ke-xe,Oe=Fe-Se,st=be.line&&be.line.shape||"",ut=st.slice(st.length-1);ut==="h"&&(Oe=0),ut==="v"&&(Re=0),we+=se(Oe,Re)/Math.PI*180+90}else we=null}return xe=ke,Se=Fe,Ee=Ce.i,Ne=be.uid,we}f.getMarkerAngle=He},90998:function(G,V,e){var g=e(95616),R=e(39898).round,i="M0,0Z",L=Math.sqrt(2),T=Math.sqrt(3),v=Math.PI,p=Math.cos,t=Math.sin;G.exports={circle:{n:0,f:function(y,h,b){if(r(h))return i;var f=R(y,2),o="M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z";return b?u(h,b,o):o}},square:{n:1,f:function(y,h,b){if(r(h))return i;var f=R(y,2);return u(h,b,"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")}},diamond:{n:2,f:function(y,h,b){if(r(h))return i;var f=R(y*1.3,2);return u(h,b,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"Z")}},cross:{n:3,f:function(y,h,b){if(r(h))return i;var f=R(y*.4,2),o=R(y*1.2,2);return u(h,b,"M"+o+","+f+"H"+f+"V"+o+"H-"+f+"V"+f+"H-"+o+"V-"+f+"H-"+f+"V-"+o+"H"+f+"V-"+f+"H"+o+"Z")}},x:{n:4,f:function(y,h,b){if(r(h))return i;var f=R(y*.8/L,2),o="l"+f+","+f,d="l"+f+",-"+f,A="l-"+f+",-"+f,M="l-"+f+","+f;return u(h,b,"M0,"+f+o+d+A+d+A+M+A+M+o+M+o+"Z")}},"triangle-up":{n:5,f:function(y,h,b){if(r(h))return i;var f=R(y*2/T,2),o=R(y/2,2),d=R(y,2);return u(h,b,"M-"+f+","+o+"H"+f+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(y,h,b){if(r(h))return i;var f=R(y*2/T,2),o=R(y/2,2),d=R(y,2);return u(h,b,"M-"+f+",-"+o+"H"+f+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(y,h,b){if(r(h))return i;var f=R(y*2/T,2),o=R(y/2,2),d=R(y,2);return u(h,b,"M"+o+",-"+f+"V"+f+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(y,h,b){if(r(h))return i;var f=R(y*2/T,2),o=R(y/2,2),d=R(y,2);return u(h,b,"M-"+o+",-"+f+"V"+f+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(y,h,b){if(r(h))return i;var f=R(y*.6,2),o=R(y*1.2,2);return u(h,b,"M-"+o+",-"+f+"H"+f+"V"+o+"Z")}},"triangle-se":{n:10,f:function(y,h,b){if(r(h))return i;var f=R(y*.6,2),o=R(y*1.2,2);return u(h,b,"M"+f+",-"+o+"V"+f+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(y,h,b){if(r(h))return i;var f=R(y*.6,2),o=R(y*1.2,2);return u(h,b,"M"+o+","+f+"H-"+f+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(y,h,b){if(r(h))return i;var f=R(y*.6,2),o=R(y*1.2,2);return u(h,b,"M-"+f+","+o+"V-"+f+"H"+o+"Z")}},pentagon:{n:13,f:function(y,h,b){if(r(h))return i;var f=R(y*.951,2),o=R(y*.588,2),d=R(-y,2),A=R(y*-.309,2),M=R(y*.809,2);return u(h,b,"M"+f+","+A+"L"+o+","+M+"H-"+o+"L-"+f+","+A+"L0,"+d+"Z")}},hexagon:{n:14,f:function(y,h,b){if(r(h))return i;var f=R(y,2),o=R(y/2,2),d=R(y*T/2,2);return u(h,b,"M"+d+",-"+o+"V"+o+"L0,"+f+"L-"+d+","+o+"V-"+o+"L0,-"+f+"Z")}},hexagon2:{n:15,f:function(y,h,b){if(r(h))return i;var f=R(y,2),o=R(y/2,2),d=R(y*T/2,2);return u(h,b,"M-"+o+","+d+"H"+o+"L"+f+",0L"+o+",-"+d+"H-"+o+"L-"+f+",0Z")}},octagon:{n:16,f:function(y,h,b){if(r(h))return i;var f=R(y*.924,2),o=R(y*.383,2);return u(h,b,"M-"+o+",-"+f+"H"+o+"L"+f+",-"+o+"V"+o+"L"+o+","+f+"H-"+o+"L-"+f+","+o+"V-"+o+"Z")}},star:{n:17,f:function(y,h,b){if(r(h))return i;var f=y*1.4,o=R(f*.225,2),d=R(f*.951,2),A=R(f*.363,2),M=R(f*.588,2),C=R(-f,2),m=R(f*-.309,2),S=R(f*.118,2),x=R(f*.809,2),a=R(f*.382,2);return u(h,b,"M"+o+","+m+"H"+d+"L"+A+","+S+"L"+M+","+x+"L0,"+a+"L-"+M+","+x+"L-"+A+","+S+"L-"+d+","+m+"H-"+o+"L0,"+C+"Z")}},hexagram:{n:18,f:function(y,h,b){if(r(h))return i;var f=R(y*.66,2),o=R(y*.38,2),d=R(y*.76,2);return u(h,b,"M-"+d+",0l-"+o+",-"+f+"h"+d+"l"+o+",-"+f+"l"+o+","+f+"h"+d+"l-"+o+","+f+"l"+o+","+f+"h-"+d+"l-"+o+","+f+"l-"+o+",-"+f+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(y,h,b){if(r(h))return i;var f=R(y*T*.8,2),o=R(y*.8,2),d=R(y*1.6,2),A=R(y*4,2),M="A "+A+","+A+" 0 0 1 ";return u(h,b,"M-"+f+","+o+M+f+","+o+M+"0,-"+d+M+"-"+f+","+o+"Z")}},"star-triangle-down":{n:20,f:function(y,h,b){if(r(h))return i;var f=R(y*T*.8,2),o=R(y*.8,2),d=R(y*1.6,2),A=R(y*4,2),M="A "+A+","+A+" 0 0 1 ";return u(h,b,"M"+f+",-"+o+M+"-"+f+",-"+o+M+"0,"+d+M+f+",-"+o+"Z")}},"star-square":{n:21,f:function(y,h,b){if(r(h))return i;var f=R(y*1.1,2),o=R(y*2,2),d="A "+o+","+o+" 0 0 1 ";return u(h,b,"M-"+f+",-"+f+d+"-"+f+","+f+d+f+","+f+d+f+",-"+f+d+"-"+f+",-"+f+"Z")}},"star-diamond":{n:22,f:function(y,h,b){if(r(h))return i;var f=R(y*1.4,2),o=R(y*1.9,2),d="A "+o+","+o+" 0 0 1 ";return u(h,b,"M-"+f+",0"+d+"0,"+f+d+f+",0"+d+"0,-"+f+d+"-"+f+",0Z")}},"diamond-tall":{n:23,f:function(y,h,b){if(r(h))return i;var f=R(y*.7,2),o=R(y*1.4,2);return u(h,b,"M0,"+o+"L"+f+",0L0,-"+o+"L-"+f+",0Z")}},"diamond-wide":{n:24,f:function(y,h,b){if(r(h))return i;var f=R(y*1.4,2),o=R(y*.7,2);return u(h,b,"M0,"+o+"L"+f+",0L0,-"+o+"L-"+f+",0Z")}},hourglass:{n:25,f:function(y,h,b){if(r(h))return i;var f=R(y,2);return u(h,b,"M"+f+","+f+"H-"+f+"L"+f+",-"+f+"H-"+f+"Z")},noDot:!0},bowtie:{n:26,f:function(y,h,b){if(r(h))return i;var f=R(y,2);return u(h,b,"M"+f+","+f+"V-"+f+"L-"+f+","+f+"V-"+f+"Z")},noDot:!0},"circle-cross":{n:27,f:function(y,h,b){if(r(h))return i;var f=R(y,2);return u(h,b,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(y,h,b){if(r(h))return i;var f=R(y,2),o=R(y/L,2);return u(h,b,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+f+",0A"+f+","+f+" 0 1,1 0,-"+f+"A"+f+","+f+" 0 0,1 "+f+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(y,h,b){if(r(h))return i;var f=R(y,2);return u(h,b,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(y,h,b){if(r(h))return i;var f=R(y,2);return u(h,b,"M"+f+","+f+"L-"+f+",-"+f+"M"+f+",-"+f+"L-"+f+","+f+"M"+f+","+f+"H-"+f+"V-"+f+"H"+f+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(y,h,b){if(r(h))return i;var f=R(y*1.3,2);return u(h,b,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"ZM0,-"+f+"V"+f+"M-"+f+",0H"+f)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(y,h,b){if(r(h))return i;var f=R(y*1.3,2),o=R(y*.65,2);return u(h,b,"M"+f+",0L0,"+f+"L-"+f+",0L0,-"+f+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(y,h,b){if(r(h))return i;var f=R(y*1.4,2);return u(h,b,"M0,"+f+"V-"+f+"M"+f+",0H-"+f)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(y,h,b){if(r(h))return i;var f=R(y,2);return u(h,b,"M"+f+","+f+"L-"+f+",-"+f+"M"+f+",-"+f+"L-"+f+","+f)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(y,h,b){if(r(h))return i;var f=R(y*1.2,2),o=R(y*.85,2);return u(h,b,"M0,"+f+"V-"+f+"M"+f+",0H-"+f+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(y,h,b){if(r(h))return i;var f=R(y/2,2),o=R(y,2);return u(h,b,"M"+f+","+o+"V-"+o+"M"+(f-o)+",-"+o+"V"+o+"M"+o+","+f+"H-"+o+"M-"+o+","+(f-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(y,h,b){if(r(h))return i;var f=R(y*1.2,2),o=R(y*1.6,2),d=R(y*.8,2);return u(h,b,"M-"+f+","+d+"L0,0M"+f+","+d+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(y,h,b){if(r(h))return i;var f=R(y*1.2,2),o=R(y*1.6,2),d=R(y*.8,2);return u(h,b,"M-"+f+",-"+d+"L0,0M"+f+",-"+d+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(y,h,b){if(r(h))return i;var f=R(y*1.2,2),o=R(y*1.6,2),d=R(y*.8,2);return u(h,b,"M"+d+","+f+"L0,0M"+d+",-"+f+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(y,h,b){if(r(h))return i;var f=R(y*1.2,2),o=R(y*1.6,2),d=R(y*.8,2);return u(h,b,"M-"+d+","+f+"L0,0M-"+d+",-"+f+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(y,h,b){if(r(h))return i;var f=R(y*1.4,2);return u(h,b,"M"+f+",0H-"+f)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(y,h,b){if(r(h))return i;var f=R(y*1.4,2);return u(h,b,"M0,"+f+"V-"+f)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(y,h,b){if(r(h))return i;var f=R(y,2);return u(h,b,"M"+f+",-"+f+"L-"+f+","+f)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(y,h,b){if(r(h))return i;var f=R(y,2);return u(h,b,"M"+f+","+f+"L-"+f+",-"+f)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(y,h,b){if(r(h))return i;var f=R(y,2),o=R(y*2,2);return u(h,b,"M0,0L-"+f+","+o+"H"+f+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(y,h,b){if(r(h))return i;var f=R(y,2),o=R(y*2,2);return u(h,b,"M0,0L-"+f+",-"+o+"H"+f+"Z")},noDot:!0},"arrow-left":{n:47,f:function(y,h,b){if(r(h))return i;var f=R(y*2,2),o=R(y,2);return u(h,b,"M0,0L"+f+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(y,h,b){if(r(h))return i;var f=R(y*2,2),o=R(y,2);return u(h,b,"M0,0L-"+f+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(y,h,b){if(r(h))return i;var f=R(y,2),o=R(y*2,2);return u(h,b,"M-"+f+",0H"+f+"M0,0L-"+f+","+o+"H"+f+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(y,h,b){if(r(h))return i;var f=R(y,2),o=R(y*2,2);return u(h,b,"M-"+f+",0H"+f+"M0,0L-"+f+",-"+o+"H"+f+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(y,h,b){if(r(h))return i;var f=R(y*2,2),o=R(y,2);return u(h,b,"M0,-"+o+"V"+o+"M0,0L"+f+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(y,h,b){if(r(h))return i;var f=R(y*2,2),o=R(y,2);return u(h,b,"M0,-"+o+"V"+o+"M0,0L-"+f+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(y,h,b){if(r(h))return i;var f=v/2.5,o=2*y*p(f),d=2*y*t(f);return u(h,b,"M0,0L"+-o+","+d+"L"+o+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(y,h,b){if(r(h))return i;var f=v/4,o=2*y*p(f),d=2*y*t(f);return u(h,b,"M0,0L"+-o+","+d+"A "+2*y+","+2*y+" 0 0 1 "+o+","+d+"Z")},backoff:.4,noDot:!0}};function r(y){return y===null}var l,n,s,c;function u(y,h,b){if((!y||y%360===0)&&!h)return b;if(s===y&&c===h&&l===b)return n;s=y,c=h,l=b;function f(I,U){var z=p(I),N=t(I),B=U[0],F=U[1]+(h||0);return[B*z-F*N,B*N+F*z]}for(var o=y/180*v,d=0,A=0,M=g(b),C="",m=0;m<M.length;m++){var S=M[m],x=S[0],a=d,E=A;if(x==="M"||x==="L")d=+S[1],A=+S[2];else if(x==="m"||x==="l")d+=+S[1],A+=+S[2];else if(x==="H")d=+S[1];else if(x==="h")d+=+S[1];else if(x==="V")A=+S[1];else if(x==="v")A+=+S[1];else if(x==="A"){d=+S[1],A=+S[2];var w=f(o,[+S[6],+S[7]]);S[6]=w[0],S[7]=w[1],S[3]=+S[3]+y}(x==="H"||x==="V")&&(x="L"),(x==="h"||x==="v")&&(x="l"),(x==="m"||x==="l")&&(d-=a,A-=E);var k=f(o,[d,A]);(x==="H"||x==="V")&&(x="L"),(x==="M"||x==="L"||x==="m"||x==="l")&&(S[1]=k[0],S[2]=k[1]),S[0]=x,C+=S[0]+S.slice(1).join(",")}return n=C,C}},25673:function(G){G.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(G,V,e){var g=e(92770),R=e(73972),i=e(89298),L=e(71828),T=e(45827);G.exports=function(t){for(var r=t.calcdata,l=0;l<r.length;l++){var n=r[l],s=n[0].trace;if(s.visible===!0&&R.traceIs(s,"errorBarsOK")){var c=i.getFromId(t,s.xaxis),u=i.getFromId(t,s.yaxis);v(n,s,c,"x"),v(n,s,u,"y")}}};function v(p,t,r,l){var n=t["error_"+l]||{},s=n.visible&&["linear","log"].indexOf(r.type)!==-1,c=[];if(s){for(var u=T(n),y=0;y<p.length;y++){var h=p[y],b=h.i;if(b===void 0)b=y;else if(b===null)continue;var f=h[l];if(g(r.c2l(f))){var o=u(f,b);if(g(o[0])&&g(o[1])){var d=h[l+"s"]=f-o[0],A=h[l+"h"]=f+o[1];c.push(d,A)}}}var M=r._id,C=t._extremes[M],m=i.findExtremes(r,c,L.extendFlat({tozero:C.opts.tozero},{padded:!0}));C.min=C.min.concat(m.min),C.max=C.max.concat(m.max)}}},45827:function(G){G.exports=function(g){var R=g.type,i=g.symmetric;if(R==="data"){var L=g.array||[];if(i)return function(r,l){var n=+L[l];return[n,n]};var T=g.arrayminus||[];return function(r,l){var n=+L[l],s=+T[l];return!isNaN(n)||!isNaN(s)?[s||0,n||0]:[NaN,NaN]}}else{var v=V(R,g.value),p=V(R,g.valueminus);return i||g.valueminus===void 0?function(r){var l=v(r);return[l,l]}:function(r){return[p(r),v(r)]}}};function V(e,g){if(e==="percent")return function(R){return Math.abs(R*g/100)};if(e==="constant")return function(){return Math.abs(g)};if(e==="sqrt")return function(R){return Math.sqrt(Math.abs(R))}}},97587:function(G,V,e){var g=e(92770),R=e(73972),i=e(71828),L=e(44467),T=e(25673);G.exports=function(v,p,t,r){var l="error_"+r.axis,n=L.newContainer(p,l),s=v[l]||{};function c(d,A){return i.coerce(s,n,T,d,A)}var u=s.array!==void 0||s.value!==void 0||s.type==="sqrt",y=c("visible",u);if(y!==!1){var h=c("type","array"in s?"data":"percent"),b=!0;h!=="sqrt"&&(b=c("symmetric",!((h==="data"?"arrayminus":"valueminus")in s))),h==="data"?(c("array"),c("traceref"),b||(c("arrayminus"),c("tracerefminus"))):(h==="percent"||h==="constant")&&(c("value"),b||c("valueminus"));var f="copy_"+r.inherit+"style";if(r.inherit){var o=p["error_"+r.inherit];(o||{}).visible&&c(f,!(s.color||g(s.thickness)||g(s.width)))}(!r.inherit||!n[f])&&(c("color",t),c("thickness"),c("width",R.traceIs(p,"gl3d")?0:4))}}},37369:function(G,V,e){var g=e(71828),R=e(30962).overrideAll,i=e(25673),L={error_x:g.extendFlat({},i),error_y:g.extendFlat({},i)};delete L.error_x.copy_zstyle,delete L.error_y.copy_zstyle,delete L.error_y.copy_ystyle;var T={error_x:g.extendFlat({},i),error_y:g.extendFlat({},i),error_z:g.extendFlat({},i)};delete T.error_x.copy_ystyle,delete T.error_y.copy_ystyle,delete T.error_z.copy_ystyle,delete T.error_z.copy_zstyle,G.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:L,bar:L,histogram:L,scatter3d:R(T,"calc","nested"),scattergl:R(L,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:v};function v(p,t,r){(t.error_y||{}).visible&&(r.yerr=p.yh-p.y,t.error_y.symmetric||(r.yerrneg=p.y-p.ys)),(t.error_x||{}).visible&&(r.xerr=p.xh-p.x,t.error_x.symmetric||(r.xerrneg=p.x-p.xs))}},19398:function(G,V,e){var g=e(39898),R=e(92770),i=e(91424),L=e(34098);G.exports=function(p,t,r,l){var n,s=r.xaxis,c=r.yaxis,u=l&&l.duration>0,y=p._context.staticPlot;t.each(function(h){var b=h[0].trace,f=b.error_x||{},o=b.error_y||{},d;b.ids&&(d=function(m){return m.id});var A=L.hasMarkers(b)&&b.marker.maxdisplayed>0;!o.visible&&!f.visible&&(h=[]);var M=g.select(this).selectAll("g.errorbar").data(h,d);if(M.exit().remove(),!!h.length){f.visible||M.selectAll("path.xerror").remove(),o.visible||M.selectAll("path.yerror").remove(),M.style("opacity",1);var C=M.enter().append("g").classed("errorbar",!0);u&&C.style("opacity",0).transition().duration(l.duration).style("opacity",1),i.setClipUrl(M,r.layerClipId,p),M.each(function(m){var S=g.select(this),x=T(m,s,c);if(!(A&&!m.vis)){var a,E=S.select("path.yerror");if(o.visible&&R(x.x)&&R(x.yh)&&R(x.ys)){var w=o.width;a="M"+(x.x-w)+","+x.yh+"h"+2*w+"m-"+w+",0V"+x.ys,x.noYS||(a+="m-"+w+",0h"+2*w),n=!E.size(),n?E=S.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("yerror",!0):u&&(E=E.transition().duration(l.duration).ease(l.easing)),E.attr("d",a)}else E.remove();var k=S.select("path.xerror");if(f.visible&&R(x.y)&&R(x.xh)&&R(x.xs)){var I=(f.copy_ystyle?o:f).width;a="M"+x.xh+","+(x.y-I)+"v"+2*I+"m0,-"+I+"H"+x.xs,x.noXS||(a+="m0,-"+I+"v"+2*I),n=!k.size(),n?k=S.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("xerror",!0):u&&(k=k.transition().duration(l.duration).ease(l.easing)),k.attr("d",a)}else k.remove()}})}})};function T(v,p,t){var r={x:p.c2p(v.x),y:t.c2p(v.y)};return v.yh!==void 0&&(r.yh=t.c2p(v.yh),r.ys=t.c2p(v.ys),R(r.ys)||(r.noYS=!0,r.ys=t.c2p(v.ys,!0))),v.xh!==void 0&&(r.xh=p.c2p(v.xh),r.xs=p.c2p(v.xs),R(r.xs)||(r.noXS=!0,r.xs=p.c2p(v.xs,!0))),r}},62662:function(G,V,e){var g=e(39898),R=e(7901);G.exports=function(L){L.each(function(T){var v=T[0].trace,p=v.error_y||{},t=v.error_x||{},r=g.select(this);r.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(R.stroke,p.color),t.copy_ystyle&&(t=p),r.selectAll("path.xerror").style("stroke-width",t.thickness+"px").call(R.stroke,t.color)})}},77914:function(G,V,e){var g=e(41940),R=e(528).hoverlabel,i=e(1426).extendFlat;G.exports={hoverlabel:{bgcolor:i({},R.bgcolor,{arrayOk:!0}),bordercolor:i({},R.bordercolor,{arrayOk:!0}),font:g({arrayOk:!0,editType:"none"}),align:i({},R.align,{arrayOk:!0}),namelength:i({},R.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(G,V,e){var g=e(71828),R=e(73972);G.exports=function(T){var v=T.calcdata,p=T._fullLayout;function t(c){return function(u){return g.coerceHoverinfo({hoverinfo:u},{_module:c._module},p)}}for(var r=0;r<v.length;r++){var l=v[r],n=l[0].trace;if(!R.traceIs(n,"pie-like")){var s=R.traceIs(n,"2dMap")?i:g.fillArray;s(n.hoverinfo,l,"hi",t(n)),n.hovertemplate&&s(n.hovertemplate,l,"ht"),n.hoverlabel&&(s(n.hoverlabel.bgcolor,l,"hbg"),s(n.hoverlabel.bordercolor,l,"hbc"),s(n.hoverlabel.font.size,l,"hts"),s(n.hoverlabel.font.color,l,"htc"),s(n.hoverlabel.font.family,l,"htf"),s(n.hoverlabel.namelength,l,"hnl"),s(n.hoverlabel.align,l,"hta"))}}};function i(L,T,v,p){p=p||g.identity,Array.isArray(L)&&(T[0][v]=p(L))}},75914:function(G,V,e){var g=e(73972),R=e(88335).hover;G.exports=function(L,T,v){var p=g.getComponentMethod("annotations","onClick")(L,L._hoverdata);v!==void 0&&R(L,T,v,!0);function t(){L.emit("plotly_click",{points:L._hoverdata,event:T})}L._hoverdata&&T&&T.target&&(p&&p.then?p.then(t):t(),T.stopImmediatePropagation&&T.stopImmediatePropagation())}},26675:function(G){G.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(G,V,e){var g=e(71828),R=e(77914),i=e(38048);G.exports=function(T,v,p,t){function r(n,s){return g.coerce(T,v,R,n,s)}var l=g.extendFlat({},t.hoverlabel);v.hovertemplate&&(l.namelength=-1),i(T,v,r,l)}},23469:function(G,V,e){var g=e(71828);V.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},V.isTraceInSubplots=function(p,t){if(p.type==="splom"){for(var r=p.xaxes||[],l=p.yaxes||[],n=0;n<r.length;n++)for(var s=0;s<l.length;s++)if(t.indexOf(r[n]+l[s])!==-1)return!0;return!1}return t.indexOf(V.getSubplot(p))!==-1},V.flat=function(p,t){for(var r=new Array(p.length),l=0;l<p.length;l++)r[l]=t;return r},V.p2c=function(p,t){for(var r=new Array(p.length),l=0;l<p.length;l++)r[l]=p[l].p2c(t);return r},V.getDistanceFunction=function(p,t,r,l){return p==="closest"?l||V.quadrature(t,r):p.charAt(0)==="x"?t:r},V.getClosest=function(p,t,r){if(r.index!==!1)r.index>=0&&r.index<p.length?r.distance=0:r.index=!1;else for(var l=0;l<p.length;l++){var n=t(p[l]);n<=r.distance&&(r.index=l,r.distance=n)}return r},V.inbox=function(p,t,r){return p*t<0||p===0?r:1/0},V.quadrature=function(p,t){return function(r){var l=p(r),n=t(r);return Math.sqrt(l*l+n*n)}},V.makeEventData=function(p,t,r){var l="index"in p?p.index:p.pointNumber,n={data:t._input,fullData:t,curveNumber:t.index,pointNumber:l};if(t._indexToPoints){var s=t._indexToPoints[l];s.length===1?n.pointIndex=s[0]:n.pointIndices=s}else n.pointIndex=l;return t._module.eventData?n=t._module.eventData(n,p,t,r,l):("xVal"in p?n.x=p.xVal:"x"in p&&(n.x=p.x),"yVal"in p?n.y=p.yVal:"y"in p&&(n.y=p.y),p.xa&&(n.xaxis=p.xa),p.ya&&(n.yaxis=p.ya),p.zLabelVal!==void 0&&(n.z=p.zLabelVal)),V.appendArrayPointValue(n,t,l),n},V.appendArrayPointValue=function(p,t,r){var l=t._arrayAttrs;if(l)for(var n=0;n<l.length;n++){var s=l[n],c=i(s);if(p[c]===void 0){var u=g.nestedProperty(t,s).get(),y=L(u,r);y!==void 0&&(p[c]=y)}}},V.appendArrayMultiPointValues=function(p,t,r){var l=t._arrayAttrs;if(l)for(var n=0;n<l.length;n++){var s=l[n],c=i(s);if(p[c]===void 0){for(var u=g.nestedProperty(t,s).get(),y=new Array(r.length),h=0;h<r.length;h++)y[h]=L(u,r[h]);p[c]=y}}};var R={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(p){return R[p]||p}function L(p,t){if(Array.isArray(t)){if(Array.isArray(p)&&Array.isArray(p[t[0]]))return p[t[0]][t[1]]}else return p[t]}var T={x:!0,y:!0},v={"x unified":!0,"y unified":!0};V.isUnifiedHover=function(p){return typeof p!="string"?!1:!!v[p]},V.isXYhover=function(p){return typeof p!="string"?!1:!!T[p]}},88335:function(G,V,e){var g=e(39898),R=e(92770),i=e(84267),L=e(71828),T=L.strTranslate,v=L.strRotate,p=e(11086),t=e(63893),r=e(39918),l=e(91424),n=e(7901),s=e(28569),c=e(89298),u=e(73972),y=e(23469),h=e(26675),b=e(99017),f=e(43969),o=h.YANGLE,d=Math.PI*o/180,A=1/Math.sin(d),M=Math.cos(d),C=Math.sin(d),m=h.HOVERARROWSIZE,S=h.HOVERTEXTPAD,x={box:!0,ohlc:!0,violin:!0,candlestick:!0},a={scatter:!0,scattergl:!0,splom:!0};V.hover=function(se,Q,ee,le){se=L.getGraphDiv(se);var ie=Q.target;L.throttle(se._fullLayout._uid+h.HOVERID,h.HOVERMINTIME,function(){E(se,Q,ee,le,ie)})},V.loneHover=function(se,Q){var ee=!0;Array.isArray(se)||(ee=!1,se=[se]);var le=Q.gd,ie=Y(le),he=j(le),xe=se.map(function(Fe){var Pe=Fe._x0||Fe.x0||Fe.x||0,Ge=Fe._x1||Fe.x1||Fe.x||0,nt=Fe._y0||Fe.y0||Fe.y||0,qe=Fe._y1||Fe.y1||Fe.y||0,Ke=Fe.eventData;if(Ke){var $e=Math.min(Pe,Ge),vt=Math.max(Pe,Ge),yt=Math.min(nt,qe),mt=Math.max(nt,qe),Et=Fe.trace;if(u.traceIs(Et,"gl3d")){var Xe=le._fullLayout[Et.scene]._scene.container,Ue=Xe.offsetLeft,Be=Xe.offsetTop;$e+=Ue,vt+=Ue,yt+=Be,mt+=Be}Ke.bbox={x0:$e+he,x1:vt+he,y0:yt+ie,y1:mt+ie},Q.inOut_bbox&&Q.inOut_bbox.push(Ke.bbox)}else Ke=!1;return{color:Fe.color||n.defaultLine,x0:Fe.x0||Fe.x||0,x1:Fe.x1||Fe.x||0,y0:Fe.y0||Fe.y||0,y1:Fe.y1||Fe.y||0,xLabel:Fe.xLabel,yLabel:Fe.yLabel,zLabel:Fe.zLabel,text:Fe.text,name:Fe.name,idealAlign:Fe.idealAlign,borderColor:Fe.borderColor,fontFamily:Fe.fontFamily,fontSize:Fe.fontSize,fontColor:Fe.fontColor,nameLength:Fe.nameLength,textAlign:Fe.textAlign,trace:Fe.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Fe.hovertemplate||!1,hovertemplateLabels:Fe.hovertemplateLabels||!1,eventData:Ke}}),Se=!1,Ee=I(xe,{gd:le,hovermode:"closest",rotateLabels:Se,bgColor:Q.bgColor||n.background,container:g.select(Q.container),outerContainer:Q.outerContainer||Q.container}),Ne=Ee.hoverLabels,He=5,Ce=0,be=0;Ne.sort(function(Fe,Pe){return Fe.y0-Pe.y0}).each(function(Fe,Pe){var Ge=Fe.y0-Fe.by/2;Ge-He<Ce?Fe.offset=Ce-Ge+He:Fe.offset=0,Ce=Ge+Fe.by+Fe.offset,Pe===Q.anchorIndex&&(be=Fe.offset)}).each(function(Fe){Fe.offset-=be});var we=le._fullLayout._invScaleX,ke=le._fullLayout._invScaleY;return F(Ne,Se,we,ke),ee?Ne:Ne.node()};function E(te,se,Q,ee,le){Q||(Q="xy");var ie=Array.isArray(Q)?Q:[Q],he=te._fullLayout,xe=he._plots||[],Se=xe[Q],Ee=he._has("cartesian");if(Se){var Ne=Se.overlays.map(function(Mr){return Mr.id});ie=ie.concat(Ne)}for(var He=ie.length,Ce=new Array(He),be=new Array(He),we=!1,ke=0;ke<He;ke++){var Fe=ie[ke];if(xe[Fe])we=!0,Ce[ke]=xe[Fe].xaxis,be[ke]=xe[Fe].yaxis;else if(he[Fe]&&he[Fe]._subplot){var Pe=he[Fe]._subplot;Ce[ke]=Pe.xaxis,be[ke]=Pe.yaxis}else{L.warn("Unrecognized subplot: "+Fe);return}}var Ge=se.hovermode||he.hovermode;if(Ge&&!we&&(Ge="closest"),["x","y","closest","x unified","y unified"].indexOf(Ge)===-1||!te.calcdata||te.querySelector(".zoombox")||te._dragging)return s.unhoverRaw(te,se);var nt=he.hoverdistance;nt===-1&&(nt=1/0);var qe=he.spikedistance;qe===-1&&(qe=1/0);var Ke=[],$e=[],vt,yt,mt,Et,Xe,Ue,Be,rt,it,Ye,De,Te,fe,me={hLinePoint:null,vLinePoint:null},Re=!1;if(Array.isArray(se))for(Ge="array",mt=0;mt<se.length;mt++)Xe=te.calcdata[se[mt].curveNumber||0],Xe&&(Ue=Xe[0].trace,Xe[0].trace.hoverinfo!=="skip"&&($e.push(Xe),Ue.orientation==="h"&&(Re=!0)));else{for(Et=0;Et<te.calcdata.length;Et++)Xe=te.calcdata[Et],Ue=Xe[0].trace,Ue.hoverinfo!=="skip"&&y.isTraceInSubplots(Ue,ie)&&($e.push(Xe),Ue.orientation==="h"&&(Re=!0));var Oe=!le,st,ut;if(Oe)"xpx"in se?st=se.xpx:st=Ce[0]._length/2,"ypx"in se?ut=se.ypx:ut=be[0]._length/2;else{if(p.triggerHandler(te,"plotly_beforehover",se)===!1)return;var Tt=le.getBoundingClientRect();st=se.clientX-Tt.left,ut=se.clientY-Tt.top,he._calcInverseTransform(te);var It=L.apply3DTransform(he._invTransform)(st,ut);if(st=It[0],ut=It[1],st<0||st>Ce[0]._length||ut<0||ut>be[0]._length)return s.unhoverRaw(te,se)}if(se.pointerX=st+Ce[0]._offset,se.pointerY=ut+be[0]._offset,"xval"in se?vt=y.flat(ie,se.xval):vt=y.p2c(Ce,st),"yval"in se?yt=y.flat(ie,se.yval):yt=y.p2c(be,ut),!R(vt[0])||!R(yt[0]))return L.warn("Fx.hover failed",se,te),s.unhoverRaw(te,se)}var Gt=1/0;function jt(Mr,Hr){for(Et=0;Et<$e.length;Et++)if(Xe=$e[Et],!(!Xe||!Xe[0]||!Xe[0].trace)&&(Ue=Xe[0].trace,!(Ue.visible!==!0||Ue._length===0)&&["carpet","contourcarpet"].indexOf(Ue._module.name)===-1)){if(Ue.type==="splom"?(rt=0,Be=ie[rt]):(Be=y.getSubplot(Ue),rt=ie.indexOf(Be)),it=Ge,y.isUnifiedHover(it)&&(it=it.charAt(0)),Te={cd:Xe,trace:Ue,xa:Ce[rt],ya:be[rt],maxHoverDistance:nt,maxSpikeDistance:qe,index:!1,distance:Math.min(Gt,nt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:Ue.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},he[Be]&&(Te.subplot=he[Be]._subplot),he._splomScenes&&he._splomScenes[Ue.uid]&&(Te.scene=he._splomScenes[Ue.uid]),fe=Ke.length,it==="array"){var Vr=se[Et];"pointNumber"in Vr?(Te.index=Vr.pointNumber,it="closest"):(it="","xval"in Vr&&(Ye=Vr.xval,it="x"),"yval"in Vr&&(De=Vr.yval,it=it?"closest":"y"))}else Mr!==void 0&&Hr!==void 0?(Ye=Mr,De=Hr):(Ye=vt[rt],De=yt[rt]);if(nt!==0)if(Ue._module&&Ue._module.hoverPoints){var nn=Ue._module.hoverPoints(Te,Ye,De,it,{finiteRange:!0,hoverLayer:he._hoverlayer});if(nn)for(var bn,dn=0;dn<nn.length;dn++)bn=nn[dn],R(bn.x0)&&R(bn.y0)&&Ke.push(H(bn,Ge))}else L.log("Unrecognized trace type in hover:",Ue);if(Ge==="closest"&&Ke.length>fe&&(Ke.splice(0,fe),Gt=Ke[0].distance),Ee&&qe!==0&&Ke.length===0){Te.distance=qe,Te.index=!1;var Pn=Ue._module.hoverPoints(Te,Ye,De,"closest",{hoverLayer:he._hoverlayer});if(Pn&&(Pn=Pn.filter(function(la){return la.spikeDistance<=qe})),Pn&&Pn.length){var zn,ta=Pn.filter(function(la){return la.xa.showspikes&&la.xa.spikesnap!=="hovered data"});if(ta.length){var oa=ta[0];R(oa.x0)&&R(oa.y0)&&(zn=Qt(oa),(!me.vLinePoint||me.vLinePoint.spikeDistance>zn.spikeDistance)&&(me.vLinePoint=zn))}var ya=Pn.filter(function(la){return la.ya.showspikes&&la.ya.spikesnap!=="hovered data"});if(ya.length){var ca=ya[0];R(ca.x0)&&R(ca.y0)&&(zn=Qt(ca),(!me.hLinePoint||me.hLinePoint.spikeDistance>zn.spikeDistance)&&(me.hLinePoint=zn))}}}}}jt();function Pt(Mr,Hr,Vr){for(var nn=null,bn=1/0,dn,Pn=0;Pn<Mr.length;Pn++)dn=Mr[Pn].spikeDistance,Vr&&Pn===0&&(dn=-1/0),dn<=bn&&dn<=Hr&&(nn=Mr[Pn],bn=dn);return nn}function Qt(Mr){return Mr?{xa:Mr.xa,ya:Mr.ya,x:Mr.xSpike!==void 0?Mr.xSpike:(Mr.x0+Mr.x1)/2,y:Mr.ySpike!==void 0?Mr.ySpike:(Mr.y0+Mr.y1)/2,distance:Mr.distance,spikeDistance:Mr.spikeDistance,curveNumber:Mr.trace.index,color:Mr.color,pointNumber:Mr.index}:null}var or={fullLayout:he,container:he._hoverlayer,event:se},zr=te._spikepoints,bt={vLinePoint:me.vLinePoint,hLinePoint:me.hLinePoint};te._spikepoints=bt;var Jt=function(){Ke.sort(function(Mr,Hr){return Mr.distance-Hr.distance}),Ke=ve(Ke,Ge)};Jt();var Zt=Ge.charAt(0),Ar=(Zt==="x"||Zt==="y")&&Ke[0]&&a[Ke[0].trace.type];if(Ee&&qe!==0&&Ke.length!==0){var dr=Ke.filter(function(Mr){return Mr.ya.showspikes}),ht=Pt(dr,qe,Ar);me.hLinePoint=Qt(ht);var ct=Ke.filter(function(Mr){return Mr.xa.showspikes}),wt=Pt(ct,qe,Ar);me.vLinePoint=Qt(wt)}if(Ke.length===0){var St=s.unhoverRaw(te,se);return Ee&&(me.hLinePoint!==null||me.vLinePoint!==null)&&ne(zr)&&X(te,me,or),St}if(Ee&&ne(zr)&&X(te,me,or),y.isXYhover(it)&&Ke[0].length!==0&&Ke[0].trace.type!=="splom"){var Rt=Ke[0];x[Rt.trace.type]?Ke=Ke.filter(function(Mr){return Mr.trace.index===Rt.trace.index}):Ke=[Rt];var Ct=Ke.length,Ot=J("x",Rt,he),Wt=J("y",Rt,he);jt(Ot,Wt);var er=[],$t={},sr=0,Cr=function(Mr){var Hr=x[Mr.trace.type]?w(Mr):Mr.trace.index;if(!$t[Hr])sr++,$t[Hr]=sr,er.push(Mr);else{var Vr=$t[Hr]-1,nn=er[Vr];Vr>0&&Math.abs(Mr.distance)<Math.abs(nn.distance)&&(er[Vr]=Mr)}},je;for(je=0;je<Ct;je++)Cr(Ke[je]);for(je=Ke.length-1;je>Ct-1;je--)Cr(Ke[je]);Ke=er,Jt()}var We=te._hoverdata,kt=[],zt=Y(te),Xt=j(te);for(mt=0;mt<Ke.length;mt++){var lr=Ke[mt],cr=y.makeEventData(lr,lr.trace,lr.cd);if(lr.hovertemplate!==!1){var nr=!1;lr.cd[lr.index]&&lr.cd[lr.index].ht&&(nr=lr.cd[lr.index].ht),lr.hovertemplate=nr||lr.trace.hovertemplate||!1}if(lr.xa&&lr.ya){var Bt=lr.x0+lr.xa._offset,vr=lr.x1+lr.xa._offset,yr=lr.y0+lr.ya._offset,mr=lr.y1+lr.ya._offset,gr=Math.min(Bt,vr),Zr=Math.max(Bt,vr),Ur=Math.min(yr,mr),Br=Math.max(yr,mr);cr.bbox={x0:gr+Xt,x1:Zr+Xt,y0:Ur+zt,y1:Br+zt}}lr.eventData=[cr],kt.push(cr)}te._hoverdata=kt;var Tn=Ge==="y"&&($e.length>1||Ke.length>1)||Ge==="closest"&&Re&&Ke.length>1,Kr=n.combine(he.plot_bgcolor||n.background,he.paper_bgcolor),Bn=I(Ke,{gd:te,hovermode:Ge,rotateLabels:Tn,bgColor:Kr,container:he._hoverlayer,outerContainer:he._paper.node(),commonLabelOpts:he.hoverlabel,hoverdistance:he.hoverdistance}),On=Bn.hoverLabels;if(y.isUnifiedHover(Ge)||(z(On,Tn,he,Bn.commonLabelBoundingBox),F(On,Tn,he._invScaleX,he._invScaleY)),le&&le.tagName){var Tr=u.getComponentMethod("annotations","hasClickToShow")(te,kt);r(g.select(le),Tr?"pointer":"")}!le||ee||!q(te,se,We)||(We&&te.emit("plotly_unhover",{event:se,points:We}),te.emit("plotly_hover",{event:se,points:te._hoverdata,xaxes:Ce,yaxes:be,xvals:vt,yvals:yt}))}function w(te){return[te.trace.index,te.index,te.x0,te.y0,te.name,te.attr,te.xa?te.xa._id:"",te.ya?te.ya._id:""].join(",")}var k=/<extra>([\s\S]*)<\/extra>/;function I(te,se){var Q=se.gd,ee=Q._fullLayout,le=se.hovermode,ie=se.rotateLabels,he=se.bgColor,xe=se.container,Se=se.outerContainer,Ee=se.commonLabelOpts||{};if(te.length===0)return[[]];var Ne=se.fontFamily||h.HOVERFONT,He=se.fontSize||h.HOVERFONTSIZE,Ce=te[0],be=Ce.xa,we=Ce.ya,ke=le.charAt(0),Fe=ke+"Label",Pe=Ce[Fe];if(Pe===void 0&&be.type==="multicategory")for(var Ge=0;Ge<te.length&&(Pe=te[Ge][Fe],Pe===void 0);Ge++);var nt=K(Q,Se),qe=nt.top,Ke=nt.width,$e=nt.height,vt=Pe!==void 0&&Ce.distance<=se.hoverdistance&&(le==="x"||le==="y");if(vt){var yt=!0,mt,Et;for(mt=0;mt<te.length;mt++)if(yt&&te[mt].zLabel===void 0&&(yt=!1),Et=te[mt].hoverinfo||te[mt].trace.hoverinfo,Et){var Xe=Array.isArray(Et)?Et:Et.split("+");if(Xe.indexOf("all")===-1&&Xe.indexOf(le)===-1){vt=!1;break}}yt&&(vt=!1)}var Ue=xe.selectAll("g.axistext").data(vt?[0]:[]);Ue.enter().append("g").classed("axistext",!0),Ue.exit().remove();var Be={minX:0,maxX:0,minY:0,maxY:0};if(Ue.each(function(){var Ct=g.select(this),Ot=L.ensureSingle(Ct,"path","",function(Ur){Ur.style({"stroke-width":"1px"})}),Wt=L.ensureSingle(Ct,"text","",function(Ur){Ur.attr("data-notex",1)}),er=Ee.bgcolor||n.defaultLine,$t=Ee.bordercolor||n.contrast(er),sr=n.contrast(er),Cr={family:Ee.font.family||Ne,size:Ee.font.size||He,color:Ee.font.color||sr};Ot.style({fill:er,stroke:$t}),Wt.text(Pe).call(l.font,Cr).call(t.positionText,0,0).call(t.convertToTspans,Q),Ct.attr("transform","");var je=K(Q,Wt.node()),We,kt;if(le==="x"){var zt=be.side==="top"?"-":"";Wt.attr("text-anchor","middle").call(t.positionText,0,be.side==="top"?qe-je.bottom-m-S:qe-je.top+m+S),We=be._offset+(Ce.x0+Ce.x1)/2,kt=we._offset+(be.side==="top"?0:we._length);var Xt=je.width/2+S;We<Xt?(We=Xt,Ot.attr("d","M-"+(Xt-m)+",0L-"+(Xt-m*2)+","+zt+m+"H"+Xt+"v"+zt+(S*2+je.height)+"H-"+Xt+"V"+zt+m+"Z")):We>ee.width-Xt?(We=ee.width-Xt,Ot.attr("d","M"+(Xt-m)+",0L"+Xt+","+zt+m+"v"+zt+(S*2+je.height)+"H-"+Xt+"V"+zt+m+"H"+(Xt-m*2)+"Z")):Ot.attr("d","M0,0L"+m+","+zt+m+"H"+Xt+"v"+zt+(S*2+je.height)+"H-"+Xt+"V"+zt+m+"H-"+m+"Z"),Be.minX=We-Xt,Be.maxX=We+Xt,be.side==="top"?(Be.minY=kt-(S*2+je.height),Be.maxY=kt-S):(Be.minY=kt+S,Be.maxY=kt+(S*2+je.height))}else{var lr,cr,nr;we.side==="right"?(lr="start",cr=1,nr="",We=be._offset+be._length):(lr="end",cr=-1,nr="-",We=be._offset),kt=we._offset+(Ce.y0+Ce.y1)/2,Wt.attr("text-anchor",lr),Ot.attr("d","M0,0L"+nr+m+","+m+"V"+(S+je.height/2)+"h"+nr+(S*2+je.width)+"V-"+(S+je.height/2)+"H"+nr+m+"V-"+m+"Z"),Be.minY=kt-(S+je.height/2),Be.maxY=kt+(S+je.height/2),we.side==="right"?(Be.minX=We+m,Be.maxX=We+m+(S*2+je.width)):(Be.minX=We-m-(S*2+je.width),Be.maxX=We-m);var Bt=je.height/2,vr=qe-je.top-Bt,yr="clip"+ee._uid+"commonlabel"+we._id,mr;if(We<je.width+2*S+m){mr="M-"+(m+S)+"-"+Bt+"h-"+(je.width-S)+"V"+Bt+"h"+(je.width-S)+"Z";var gr=je.width-We+S;t.positionText(Wt,gr,vr),lr==="end"&&Wt.selectAll("tspan").each(function(){var Ur=g.select(this),Br=l.tester.append("text").text(Ur.text()).call(l.font,Cr),Tn=K(Q,Br.node());Math.round(Tn.width)<Math.round(je.width)&&Ur.attr("x",gr-Tn.width),Br.remove()})}else t.positionText(Wt,cr*(S+m),vr),mr=null;var Zr=ee._topclips.selectAll("#"+yr).data(mr?[0]:[]);Zr.enter().append("clipPath").attr("id",yr).append("path"),Zr.exit().remove(),Zr.select("path").attr("d",mr),l.setClipUrl(Wt,mr?yr:null,Q)}Ct.attr("transform",T(We,kt))}),y.isUnifiedHover(le)){xe.selectAll("g.hovertext").remove();var rt=te.filter(function(Ct){return Ct.hoverinfo!=="none"});if(rt.length===0)return[];var it=ee.hoverlabel,Ye=it.font,De={showlegend:!0,legend:{title:{text:Pe,font:Ye},font:Ye,bgcolor:it.bgcolor,bordercolor:it.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ee.legend?ee.legend.traceorder:void 0,orientation:"v"}},Te={font:Ye};b(De,Te,Q._fullData);var fe=Te.legend;fe.entries=[];for(var me=0;me<rt.length;me++){var Re=rt[me];if(Re.hoverinfo!=="none"){var Oe=U(Re,!0,le,ee,Pe),st=Oe[0],ut=Oe[1];Re.name=ut,ut!==""?Re.text=ut+" : "+st:Re.text=st;var Tt=Re.cd[Re.index];Tt&&(Tt.mc&&(Re.mc=Tt.mc),Tt.mcc&&(Re.mc=Tt.mcc),Tt.mlc&&(Re.mlc=Tt.mlc),Tt.mlcc&&(Re.mlc=Tt.mlcc),Tt.mlw&&(Re.mlw=Tt.mlw),Tt.mrc&&(Re.mrc=Tt.mrc),Tt.dir&&(Re.dir=Tt.dir)),Re._distinct=!0,fe.entries.push([Re])}}fe.entries.sort(function(Ct,Ot){return Ct[0].trace.index-Ot[0].trace.index}),fe.layer=xe,fe._inHover=!0,fe._groupTitleFont=it.grouptitlefont,f(Q,fe);var It=xe.select("g.legend"),Gt=K(Q,It.node()),jt=Gt.width+2*S,Pt=Gt.height+2*S,Qt=rt[0],or=(Qt.x0+Qt.x1)/2,zr=(Qt.y0+Qt.y1)/2,bt=!(u.traceIs(Qt.trace,"bar-like")||u.traceIs(Qt.trace,"box-violin")),Jt,Zt;ke==="y"?bt?(Zt=zr-S,Jt=zr+S):(Zt=Math.min.apply(null,rt.map(function(Ct){return Math.min(Ct.y0,Ct.y1)})),Jt=Math.max.apply(null,rt.map(function(Ct){return Math.max(Ct.y0,Ct.y1)}))):Zt=Jt=L.mean(rt.map(function(Ct){return(Ct.y0+Ct.y1)/2}))-Pt/2;var Ar,dr;ke==="x"?bt?(Ar=or+S,dr=or-S):(Ar=Math.max.apply(null,rt.map(function(Ct){return Math.max(Ct.x0,Ct.x1)})),dr=Math.min.apply(null,rt.map(function(Ct){return Math.min(Ct.x0,Ct.x1)}))):Ar=dr=L.mean(rt.map(function(Ct){return(Ct.x0+Ct.x1)/2}))-jt/2;var ht=be._offset,ct=we._offset;Jt+=ct,Ar+=ht,dr+=ht-jt,Zt+=ct-Pt;var wt,St;return Ar+jt<Ke&&Ar>=0?wt=Ar:dr+jt<Ke&&dr>=0?wt=dr:ht+jt<Ke?wt=ht:Ar-or<or-dr+jt?wt=Ke-jt:wt=0,wt+=S,Jt+Pt<$e&&Jt>=0?St=Jt:Zt+Pt<$e&&Zt>=0?St=Zt:ct+Pt<$e?St=ct:Jt-zr<zr-Zt+Pt?St=$e-Pt:St=0,St+=S,It.attr("transform",T(wt-1,St-1)),It}var Rt=xe.selectAll("g.hovertext").data(te,function(Ct){return w(Ct)});return Rt.enter().append("g").classed("hovertext",!0).each(function(){var Ct=g.select(this);Ct.append("rect").call(n.fill,n.addOpacity(he,.8)),Ct.append("text").classed("name",!0),Ct.append("path").style("stroke-width","1px"),Ct.append("text").classed("nums",!0).call(l.font,Ne,He)}),Rt.exit().remove(),Rt.each(function(Ct){var Ot=g.select(this).attr("transform",""),Wt=Ct.color;Array.isArray(Wt)&&(Wt=Wt[Ct.eventData[0].pointNumber]);var er=Ct.bgcolor||Wt,$t=n.combine(n.opacity(er)?er:n.defaultLine,he),sr=n.combine(n.opacity(Wt)?Wt:n.defaultLine,he),Cr=Ct.borderColor||n.contrast($t),je=U(Ct,vt,le,ee,Pe,Ot),We=je[0],kt=je[1],zt=Ot.select("text.nums").call(l.font,Ct.fontFamily||Ne,Ct.fontSize||He,Ct.fontColor||Cr).text(We).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,Q),Xt=Ot.select("text.name"),lr=0,cr=0;if(kt&&kt!==We){Xt.call(l.font,Ct.fontFamily||Ne,Ct.fontSize||He,sr).text(kt).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,Q);var nr=K(Q,Xt.node());lr=nr.width+2*S,cr=nr.height+2*S}else Xt.remove(),Ot.select("rect").remove();Ot.select("path").style({fill:$t,stroke:Cr});var Bt=Ct.xa._offset+(Ct.x0+Ct.x1)/2,vr=Ct.ya._offset+(Ct.y0+Ct.y1)/2,yr=Math.abs(Ct.x1-Ct.x0),mr=Math.abs(Ct.y1-Ct.y0),gr=K(Q,zt.node()),Zr=gr.width/ee._invScaleX,Ur=gr.height/ee._invScaleY;Ct.ty0=(qe-gr.top)/ee._invScaleY,Ct.bx=Zr+2*S,Ct.by=Math.max(Ur+2*S,cr),Ct.anchor="start",Ct.txwidth=Zr,Ct.tx2width=lr,Ct.offset=0;var Br=(Zr+m+S+lr)*ee._invScaleX,Tn,Kr;if(ie)Ct.pos=Bt,Tn=vr+mr/2+Br<=$e,Kr=vr-mr/2-Br>=0,(Ct.idealAlign==="top"||!Tn)&&Kr?(vr-=mr/2,Ct.anchor="end"):Tn?(vr+=mr/2,Ct.anchor="start"):Ct.anchor="middle",Ct.crossPos=vr;else{if(Ct.pos=vr,Tn=Bt+yr/2+Br<=Ke,Kr=Bt-yr/2-Br>=0,(Ct.idealAlign==="left"||!Tn)&&Kr)Bt-=yr/2,Ct.anchor="end";else if(Tn)Bt+=yr/2,Ct.anchor="start";else{Ct.anchor="middle";var Bn=Br/2,On=Bt+Bn-Ke,Tr=Bt-Bn;On>0&&(Bt-=On),Tr<0&&(Bt+=-Tr)}Ct.crossPos=Bt}zt.attr("text-anchor",Ct.anchor),lr&&Xt.attr("text-anchor",Ct.anchor),Ot.attr("transform",T(Bt,vr)+(ie?v(o):""))}),{hoverLabels:Rt,commonLabelBoundingBox:Be}}function U(te,se,Q,ee,le,ie){var he="",xe="";te.nameOverride!==void 0&&(te.name=te.nameOverride),te.name&&(te.trace._meta&&(te.name=L.templateString(te.name,te.trace._meta)),he=oe(te.name,te.nameLength));var Se=Q.charAt(0),Ee=Se==="x"?"y":"x";te.zLabel!==void 0?(te.xLabel!==void 0&&(xe+="x: "+te.xLabel+"<br>"),te.yLabel!==void 0&&(xe+="y: "+te.yLabel+"<br>"),te.trace.type!=="choropleth"&&te.trace.type!=="choroplethmapbox"&&(xe+=(xe?"z: ":"")+te.zLabel)):se&&te[Se+"Label"]===le?xe=te[Ee+"Label"]||"":te.xLabel===void 0?te.yLabel!==void 0&&te.trace.type!=="scattercarpet"&&(xe=te.yLabel):te.yLabel===void 0?xe=te.xLabel:xe="("+te.xLabel+", "+te.yLabel+")",(te.text||te.text===0)&&!Array.isArray(te.text)&&(xe+=(xe?"<br>":"")+te.text),te.extraText!==void 0&&(xe+=(xe?"<br>":"")+te.extraText),ie&&xe===""&&!te.hovertemplate&&(he===""&&ie.remove(),xe=he);var Ne=te.hovertemplate||!1;if(Ne){var He=te.hovertemplateLabels||te;te[Se+"Label"]!==le&&(He[Se+"other"]=He[Se+"Val"],He[Se+"otherLabel"]=He[Se+"Label"]),xe=L.hovertemplateString(Ne,He,ee._d3locale,te.eventData[0]||{},te.trace._meta),xe=xe.replace(k,function(Ce,be){return he=oe(be,te.nameLength),""})}return[xe,he]}function z(te,se,Q,ee){var le=se?"xa":"ya",ie=se?"ya":"xa",he=0,xe=1,Se=te.size(),Ee=new Array(Se),Ne=0,He=ee.minX,Ce=ee.maxX,be=ee.minY,we=ee.maxY,ke=function(Ye){return Ye*Q._invScaleX},Fe=function(Ye){return Ye*Q._invScaleY};te.each(function(Ye){var De=Ye[le],Te=Ye[ie],fe=De._id.charAt(0)==="x",me=De.range;Ne===0&&me&&me[0]>me[1]!==fe&&(xe=-1);var Re=0,Oe=fe?Q.width:Q.height;if(Q.hovermode==="x"||Q.hovermode==="y"){var st=N(Ye,se),ut=Ye.anchor,Tt=ut==="end"?-1:1,It,Gt;if(ut==="middle")It=Ye.crossPos+(fe?Fe(st.y-Ye.by/2):ke(Ye.bx/2+Ye.tx2width/2)),Gt=It+(fe?Fe(Ye.by):ke(Ye.bx));else if(fe)It=Ye.crossPos+Fe(m+st.y)-Fe(Ye.by/2-m),Gt=It+Fe(Ye.by);else{var jt=ke(Tt*m+st.x),Pt=jt+ke(Tt*Ye.bx);It=Ye.crossPos+Math.min(jt,Pt),Gt=Ye.crossPos+Math.max(jt,Pt)}fe?be!==void 0&&we!==void 0&&Math.min(Gt,we)-Math.max(It,be)>1&&(Te.side==="left"?(Re=Te._mainLinePosition,Oe=Q.width):Oe=Te._mainLinePosition):He!==void 0&&Ce!==void 0&&Math.min(Gt,Ce)-Math.max(It,He)>1&&(Te.side==="top"?(Re=Te._mainLinePosition,Oe=Q.height):Oe=Te._mainLinePosition)}Ee[Ne++]=[{datum:Ye,traceIndex:Ye.trace.index,dp:0,pos:Ye.pos,posref:Ye.posref,size:Ye.by*(fe?A:1)/2,pmin:Re,pmax:Oe}]}),Ee.sort(function(Ye,De){return Ye[0].posref-De[0].posref||xe*(De[0].traceIndex-Ye[0].traceIndex)});var Pe,Ge,nt,qe,Ke,$e,vt;function yt(Ye){var De=Ye[0],Te=Ye[Ye.length-1];if(Ge=De.pmin-De.pos-De.dp+De.size,nt=Te.pos+Te.dp+Te.size-De.pmax,Ge>.01){for(Ke=Ye.length-1;Ke>=0;Ke--)Ye[Ke].dp+=Ge;Pe=!1}if(!(nt<.01)){if(Ge<-.01){for(Ke=Ye.length-1;Ke>=0;Ke--)Ye[Ke].dp-=nt;Pe=!1}if(Pe){var fe=0;for(qe=0;qe<Ye.length;qe++)$e=Ye[qe],$e.pos+$e.dp+$e.size>De.pmax&&fe++;for(qe=Ye.length-1;qe>=0&&!(fe<=0);qe--)$e=Ye[qe],$e.pos>De.pmax-1&&($e.del=!0,fe--);for(qe=0;qe<Ye.length&&!(fe<=0);qe++)if($e=Ye[qe],$e.pos<De.pmin+1)for($e.del=!0,fe--,nt=$e.size*2,Ke=Ye.length-1;Ke>=0;Ke--)Ye[Ke].dp-=nt;for(qe=Ye.length-1;qe>=0&&!(fe<=0);qe--)$e=Ye[qe],$e.pos+$e.dp+$e.size>De.pmax&&($e.del=!0,fe--)}}}for(;!Pe&&he<=Se;){for(he++,Pe=!0,qe=0;qe<Ee.length-1;){var mt=Ee[qe],Et=Ee[qe+1],Xe=mt[mt.length-1],Ue=Et[0];if(Ge=Xe.pos+Xe.dp+Xe.size-Ue.pos-Ue.dp+Ue.size,Ge>.01&&Xe.pmin===Ue.pmin&&Xe.pmax===Ue.pmax){for(Ke=Et.length-1;Ke>=0;Ke--)Et[Ke].dp+=Ge;for(mt.push.apply(mt,Et),Ee.splice(qe+1,1),vt=0,Ke=mt.length-1;Ke>=0;Ke--)vt+=mt[Ke].dp;for(nt=vt/mt.length,Ke=mt.length-1;Ke>=0;Ke--)mt[Ke].dp-=nt;Pe=!1}else qe++}Ee.forEach(yt)}for(qe=Ee.length-1;qe>=0;qe--){var Be=Ee[qe];for(Ke=Be.length-1;Ke>=0;Ke--){var rt=Be[Ke],it=rt.datum;it.offset=rt.dp,it.del=rt.del}}}function N(te,se){var Q=0,ee=te.offset;return se&&(ee*=-C,Q=te.offset*M),{x:Q,y:ee}}function B(te){var se={start:1,end:-1,middle:0}[te.anchor],Q=se*(m+S),ee=Q+se*(te.txwidth+S),le=te.anchor==="middle";return le&&(Q-=te.tx2width/2,ee+=te.txwidth/2+S),{alignShift:se,textShiftX:Q,text2ShiftX:ee}}function F(te,se,Q,ee){var le=function(he){return he*Q},ie=function(he){return he*ee};te.each(function(he){var xe=g.select(this);if(he.del)return xe.remove();var Se=xe.select("text.nums"),Ee=he.anchor,Ne=Ee==="end"?-1:1,He=B(he),Ce=N(he,se),be=Ce.x,we=Ce.y,ke=Ee==="middle";xe.select("path").attr("d",ke?"M-"+le(he.bx/2+he.tx2width/2)+","+ie(we-he.by/2)+"h"+le(he.bx)+"v"+ie(he.by)+"h-"+le(he.bx)+"Z":"M0,0L"+le(Ne*m+be)+","+ie(m+we)+"v"+ie(he.by/2-m)+"h"+le(Ne*he.bx)+"v-"+ie(he.by)+"H"+le(Ne*m+be)+"V"+ie(we-m)+"Z");var Fe=be+He.textShiftX,Pe=we+he.ty0-he.by/2+S,Ge=he.textAlign||"auto";Ge!=="auto"&&(Ge==="left"&&Ee!=="start"?(Se.attr("text-anchor","start"),Fe=ke?-he.bx/2-he.tx2width/2+S:-he.bx-S):Ge==="right"&&Ee!=="end"&&(Se.attr("text-anchor","end"),Fe=ke?he.bx/2-he.tx2width/2-S:he.bx+S)),Se.call(t.positionText,le(Fe),ie(Pe)),he.tx2width&&(xe.select("text.name").call(t.positionText,le(He.text2ShiftX+He.alignShift*S+be),ie(we+he.ty0-he.by/2+S)),xe.select("rect").call(l.setRect,le(He.text2ShiftX+(He.alignShift-1)*he.tx2width/2+be),ie(we-he.by/2-1),le(he.tx2width),ie(he.by+2)))})}function H(te,se){var Q=te.index,ee=te.trace||{},le=te.cd[0],ie=te.cd[Q]||{};function he(Ce){return Ce||R(Ce)&&Ce===0}var xe=Array.isArray(Q)?function(Ce,be){var we=L.castOption(le,Q,Ce);return he(we)?we:L.extractOption({},ee,"",be)}:function(Ce,be){return L.extractOption(ie,ee,Ce,be)};function Se(Ce,be,we){var ke=xe(be,we);he(ke)&&(te[Ce]=ke)}if(Se("hoverinfo","hi","hoverinfo"),Se("bgcolor","hbg","hoverlabel.bgcolor"),Se("borderColor","hbc","hoverlabel.bordercolor"),Se("fontFamily","htf","hoverlabel.font.family"),Se("fontSize","hts","hoverlabel.font.size"),Se("fontColor","htc","hoverlabel.font.color"),Se("nameLength","hnl","hoverlabel.namelength"),Se("textAlign","hta","hoverlabel.align"),te.posref=se==="y"||se==="closest"&&ee.orientation==="h"?te.xa._offset+(te.x0+te.x1)/2:te.ya._offset+(te.y0+te.y1)/2,te.x0=L.constrain(te.x0,0,te.xa._length),te.x1=L.constrain(te.x1,0,te.xa._length),te.y0=L.constrain(te.y0,0,te.ya._length),te.y1=L.constrain(te.y1,0,te.ya._length),te.xLabelVal!==void 0&&(te.xLabel="xLabel"in te?te.xLabel:c.hoverLabelText(te.xa,te.xLabelVal,ee.xhoverformat),te.xVal=te.xa.c2d(te.xLabelVal)),te.yLabelVal!==void 0&&(te.yLabel="yLabel"in te?te.yLabel:c.hoverLabelText(te.ya,te.yLabelVal,ee.yhoverformat),te.yVal=te.ya.c2d(te.yLabelVal)),te.zLabelVal!==void 0&&te.zLabel===void 0&&(te.zLabel=String(te.zLabelVal)),!isNaN(te.xerr)&&!(te.xa.type==="log"&&te.xerr<=0)){var Ee=c.tickText(te.xa,te.xa.c2l(te.xerr),"hover").text;te.xerrneg!==void 0?te.xLabel+=" +"+Ee+" / -"+c.tickText(te.xa,te.xa.c2l(te.xerrneg),"hover").text:te.xLabel+="  "+Ee,se==="x"&&(te.distance+=1)}if(!isNaN(te.yerr)&&!(te.ya.type==="log"&&te.yerr<=0)){var Ne=c.tickText(te.ya,te.ya.c2l(te.yerr),"hover").text;te.yerrneg!==void 0?te.yLabel+=" +"+Ne+" / -"+c.tickText(te.ya,te.ya.c2l(te.yerrneg),"hover").text:te.yLabel+="  "+Ne,se==="y"&&(te.distance+=1)}var He=te.hoverinfo||te.trace.hoverinfo;return He&&He!=="all"&&(He=Array.isArray(He)?He:He.split("+"),He.indexOf("x")===-1&&(te.xLabel=void 0),He.indexOf("y")===-1&&(te.yLabel=void 0),He.indexOf("z")===-1&&(te.zLabel=void 0),He.indexOf("text")===-1&&(te.text=void 0),He.indexOf("name")===-1&&(te.name=void 0)),te}function X(te,se,Q){var ee=Q.container,le=Q.fullLayout,ie=le._size,he=Q.event,xe=!!se.hLinePoint,Se=!!se.vLinePoint,Ee,Ne;if(ee.selectAll(".spikeline").remove(),!!(Se||xe)){var He=n.combine(le.plot_bgcolor,le.paper_bgcolor);if(xe){var Ce=se.hLinePoint,be,we;Ee=Ce&&Ce.xa,Ne=Ce&&Ce.ya;var ke=Ne.spikesnap;ke==="cursor"?(be=he.pointerX,we=he.pointerY):(be=Ee._offset+Ce.x,we=Ne._offset+Ce.y);var Fe=i.readability(Ce.color,He)<1.5?n.contrast(He):Ce.color,Pe=Ne.spikemode,Ge=Ne.spikethickness,nt=Ne.spikecolor||Fe,qe=c.getPxPosition(te,Ne),Ke,$e;if(Pe.indexOf("toaxis")!==-1||Pe.indexOf("across")!==-1){if(Pe.indexOf("toaxis")!==-1&&(Ke=qe,$e=be),Pe.indexOf("across")!==-1){var vt=Ne._counterDomainMin,yt=Ne._counterDomainMax;Ne.anchor==="free"&&(vt=Math.min(vt,Ne.position),yt=Math.max(yt,Ne.position)),Ke=ie.l+vt*ie.w,$e=ie.l+yt*ie.w}ee.insert("line",":first-child").attr({x1:Ke,x2:$e,y1:we,y2:we,"stroke-width":Ge,stroke:nt,"stroke-dasharray":l.dashStyle(Ne.spikedash,Ge)}).classed("spikeline",!0).classed("crisp",!0),ee.insert("line",":first-child").attr({x1:Ke,x2:$e,y1:we,y2:we,"stroke-width":Ge+2,stroke:He}).classed("spikeline",!0).classed("crisp",!0)}Pe.indexOf("marker")!==-1&&ee.insert("circle",":first-child").attr({cx:qe+(Ne.side!=="right"?Ge:-Ge),cy:we,r:Ge,fill:nt}).classed("spikeline",!0)}if(Se){var mt=se.vLinePoint,Et,Xe;Ee=mt&&mt.xa,Ne=mt&&mt.ya;var Ue=Ee.spikesnap;Ue==="cursor"?(Et=he.pointerX,Xe=he.pointerY):(Et=Ee._offset+mt.x,Xe=Ne._offset+mt.y);var Be=i.readability(mt.color,He)<1.5?n.contrast(He):mt.color,rt=Ee.spikemode,it=Ee.spikethickness,Ye=Ee.spikecolor||Be,De=c.getPxPosition(te,Ee),Te,fe;if(rt.indexOf("toaxis")!==-1||rt.indexOf("across")!==-1){if(rt.indexOf("toaxis")!==-1&&(Te=De,fe=Xe),rt.indexOf("across")!==-1){var me=Ee._counterDomainMin,Re=Ee._counterDomainMax;Ee.anchor==="free"&&(me=Math.min(me,Ee.position),Re=Math.max(Re,Ee.position)),Te=ie.t+(1-Re)*ie.h,fe=ie.t+(1-me)*ie.h}ee.insert("line",":first-child").attr({x1:Et,x2:Et,y1:Te,y2:fe,"stroke-width":it,stroke:Ye,"stroke-dasharray":l.dashStyle(Ee.spikedash,it)}).classed("spikeline",!0).classed("crisp",!0),ee.insert("line",":first-child").attr({x1:Et,x2:Et,y1:Te,y2:fe,"stroke-width":it+2,stroke:He}).classed("spikeline",!0).classed("crisp",!0)}rt.indexOf("marker")!==-1&&ee.insert("circle",":first-child").attr({cx:Et,cy:De-(Ee.side!=="top"?it:-it),r:it,fill:Ye}).classed("spikeline",!0)}}}function q(te,se,Q){if(!Q||Q.length!==te._hoverdata.length)return!0;for(var ee=Q.length-1;ee>=0;ee--){var le=Q[ee],ie=te._hoverdata[ee];if(le.curveNumber!==ie.curveNumber||String(le.pointNumber)!==String(ie.pointNumber)||String(le.pointNumbers)!==String(ie.pointNumbers))return!0}return!1}function ne(te,se){return!se||se.vLinePoint!==te._spikepoints.vLinePoint||se.hLinePoint!==te._spikepoints.hLinePoint}function oe(te,se){return t.plainText(te||"",{len:se,allowedTags:["br","sub","sup","b","i","em"]})}function ve(te,se){for(var Q=se.charAt(0),ee=[],le=[],ie=[],he=0;he<te.length;he++){var xe=te[he];u.traceIs(xe.trace,"bar-like")||u.traceIs(xe.trace,"box-violin")?ie.push(xe):xe.trace[Q+"period"]?le.push(xe):ee.push(xe)}return ee.concat(le).concat(ie)}function J(te,se,Q){var ee=se[te+"a"],le=se[te+"Val"],ie=se.cd[0];if(ee.type==="category"||ee.type==="multicategory")le=ee._categoriesMap[le];else if(ee.type==="date"){var he=se.trace[te+"periodalignment"];if(he){var xe=se.cd[se.index],Se=xe[te+"Start"];Se===void 0&&(Se=xe[te]);var Ee=xe[te+"End"];Ee===void 0&&(Ee=xe[te]);var Ne=Ee-Se;he==="end"?le+=Ne:he==="middle"&&(le+=Ne/2)}le=ee.d2c(le)}return ie&&ie.t&&ie.t.posLetter===ee._id&&(Q.boxmode==="group"||Q.violinmode==="group")&&(le+=ie.t.dPos),le}function Y(te){return te.offsetTop+te.clientTop}function j(te){return te.offsetLeft+te.clientLeft}function K(te,se){var Q=te._fullLayout,ee=se.getBoundingClientRect(),le=ee.left,ie=ee.top,he=le+ee.width,xe=ie+ee.height,Se=L.apply3DTransform(Q._invTransform)(le,ie),Ee=L.apply3DTransform(Q._invTransform)(he,xe),Ne=Se[0],He=Se[1],Ce=Ee[0],be=Ee[1];return{x:Ne,y:He,width:Ce-Ne,height:be-He,top:Math.min(He,be),left:Math.min(Ne,Ce),right:Math.max(Ne,Ce),bottom:Math.max(He,be)}}},38048:function(G,V,e){var g=e(71828),R=e(7901),i=e(23469).isUnifiedHover;G.exports=function(T,v,p,t){t=t||{};var r=v.legend;function l(n){t.font[n]||(t.font[n]=r?v.legend.font[n]:v.font[n])}v&&i(v.hovermode)&&(t.font||(t.font={}),l("size"),l("family"),l("color"),r?(t.bgcolor||(t.bgcolor=R.combine(v.legend.bgcolor,v.paper_bgcolor)),t.bordercolor||(t.bordercolor=v.legend.bordercolor)):t.bgcolor||(t.bgcolor=v.paper_bgcolor)),p("hoverlabel.bgcolor",t.bgcolor),p("hoverlabel.bordercolor",t.bordercolor),p("hoverlabel.namelength",t.namelength),g.coerceFont(p,"hoverlabel.font",t.font),p("hoverlabel.align",t.align)}},98212:function(G,V,e){var g=e(71828),R=e(528);G.exports=function(L,T){function v(p,t){return T[p]!==void 0?T[p]:g.coerce(L,T,R,p,t)}return v("clickmode"),v("hovermode")}},30211:function(G,V,e){var g=e(39898),R=e(71828),i=e(28569),L=e(23469),T=e(528),v=e(88335);G.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:T},attributes:e(77914),layoutAttributes:T,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:L.getDistanceFunction,getClosest:L.getClosest,inbox:L.inbox,quadrature:L.quadrature,appendArrayPointValue:L.appendArrayPointValue,castHoverOption:t,castHoverinfo:r,hover:v.hover,unhover:i.unhover,loneHover:v.loneHover,loneUnhover:p,click:e(75914)};function p(l){var n=R.isD3Selection(l)?l:g.select(l);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function t(l,n,s){return R.castOption(l,n,"hoverlabel."+s)}function r(l,n,s){function c(u){return R.coerceHoverinfo({hoverinfo:u},{_module:l._module},n)}return R.castOption(l,s,"hoverinfo",c)}},528:function(G,V,e){var g=e(26675),R=e(41940),i=R({editType:"none"});i.family.dflt=g.HOVERFONT,i.size.dflt=g.HOVERFONTSIZE,G.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,grouptitlefont:R({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(G,V,e){var g=e(71828),R=e(528),i=e(98212),L=e(38048);G.exports=function(v,p){function t(u,y){return g.coerce(v,p,R,u,y)}var r=i(v,p);r&&(t("hoverdistance"),t("spikedistance"));var l=t("dragmode");l==="select"&&t("selectdirection");var n=p._has("mapbox"),s=p._has("geo"),c=p._basePlotModules.length;p.dragmode==="zoom"&&((n||s)&&c===1||n&&s&&c===2)&&(p.dragmode="pan"),L(v,p,t),g.coerceFont(t,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},22774:function(G,V,e){var g=e(71828),R=e(38048),i=e(528);G.exports=function(T,v){function p(t,r){return g.coerce(T,v,i,t,r)}R(T,v,p)}},83312:function(G,V,e){var g=e(71828),R=e(30587).counter,i=e(27670).Y,L=e(85555).idRegex,T=e(44467),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[R("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[L.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(s,c,u){var y=c[u+"axes"],h=Object.keys((s._splomAxes||{})[u]||{});if(Array.isArray(y))return y;if(h.length)return h}function t(s,c){var u=s.grid||{},y=p(c,u,"x"),h=p(c,u,"y");if(!s.grid&&!y&&!h)return;var b=Array.isArray(u.subplots)&&Array.isArray(u.subplots[0]),f=Array.isArray(y),o=Array.isArray(h),d=f&&y!==u.xaxes&&o&&h!==u.yaxes,A,M;b?(A=u.subplots.length,M=u.subplots[0].length):(o&&(A=h.length),f&&(M=y.length));var C=T.newContainer(c,"grid");function m(N,B){return g.coerce(u,C,v,N,B)}var S=m("rows",A),x=m("columns",M);if(!(S*x>1)){delete c.grid;return}if(!b&&!f&&!o){var a=m("pattern")==="independent";a&&(b=!0)}C._hasSubplotGrid=b;var E=m("roworder"),w=E==="top to bottom",k=b?.2:.1,I=b?.3:.1,U,z;d&&c._splomGridDflt&&(U=c._splomGridDflt.xside,z=c._splomGridDflt.yside),C._domains={x:r("x",m,k,U,x),y:r("y",m,I,z,S,w)}}function r(s,c,u,y,h,b){var f=c(s+"gap",u),o=c("domain."+s);c(s+"side",y);for(var d=new Array(h),A=o[0],M=(o[1]-A)/(h-f),C=M*(1-f),m=0;m<h;m++){var S=A+M*m;d[b?h-1-m:m]=[S,S+C]}return d}function l(s,c){var u=c.grid;if(!(!u||!u._domains)){var y=s.grid||{},h=c._subplots,b=u._hasSubplotGrid,f=u.rows,o=u.columns,d=u.pattern==="independent",A,M,C,m,S,x,a,E=u._axisMap={};if(b){var w=y.subplots||[];x=u.subplots=new Array(f);var k=1;for(A=0;A<f;A++){var I=x[A]=new Array(o),U=w[A]||[];for(M=0;M<o;M++)if(d?(S=k===1?"xy":"x"+k+"y"+k,k++):S=U[M],I[M]="",h.cartesian.indexOf(S)!==-1){if(a=S.indexOf("y"),C=S.slice(0,a),m=S.slice(a),E[C]!==void 0&&E[C]!==M||E[m]!==void 0&&E[m]!==A)continue;I[M]=S,E[C]=M,E[m]=A}}}else{var z=p(c,y,"x"),N=p(c,y,"y");u.xaxes=n(z,h.xaxis,o,E,"x"),u.yaxes=n(N,h.yaxis,f,E,"y")}var B=u._anchors={},F=u.roworder==="top to bottom";for(var H in E){var X=H.charAt(0),q=u[X+"side"],ne,oe,ve;if(q.length<8)B[H]="free";else if(X==="x"){if(q.charAt(0)==="t"===F?(ne=0,oe=1,ve=f):(ne=f-1,oe=-1,ve=-1),b){var J=E[H];for(A=ne;A!==ve;A+=oe)if(S=x[A][J],!!S&&(a=S.indexOf("y"),S.slice(0,a)===H)){B[H]=S.slice(a);break}}else for(A=ne;A!==ve;A+=oe)if(m=u.yaxes[A],h.cartesian.indexOf(H+m)!==-1){B[H]=m;break}}else if(q.charAt(0)==="l"?(ne=0,oe=1,ve=o):(ne=o-1,oe=-1,ve=-1),b){var Y=E[H];for(A=ne;A!==ve;A+=oe)if(S=x[Y][A],!!S&&(a=S.indexOf("y"),S.slice(a)===H)){B[H]=S.slice(0,a);break}}else for(A=ne;A!==ve;A+=oe)if(C=u.xaxes[A],h.cartesian.indexOf(C+H)!==-1){B[H]=C;break}}}}function n(s,c,u,y,h){var b=new Array(u),f;function o(d,A){c.indexOf(A)!==-1&&y[A]===void 0?(b[d]=A,y[A]=d):b[d]=""}if(Array.isArray(s))for(f=0;f<u;f++)o(f,s[f]);else for(o(0,h),f=1;f<u;f++)o(f,h+(f+1));return b}G.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:t,contentDefaults:l}},69819:function(G,V,e){var g=e(85555),R=e(44467).templatedArray;e(24695),G.exports=R("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",g.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",g.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(G,V,e){var g=e(92770),R=e(58163);G.exports=function(L,T,v,p){T=T||{};var t=v==="log"&&T.type==="linear",r=v==="linear"&&T.type==="log";if(t||r){for(var l=L._fullLayout.images,n=T._id.charAt(0),s,c,u=0;u<l.length;u++)if(s=l[u],c="images["+u+"].",s[n+"ref"]===T._id){var y=s[n],h=s["size"+n],b=null,f=null;if(t){b=R(y,T.range);var o=h/Math.pow(10,b)/2;f=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else b=Math.pow(10,y),f=b*(Math.pow(10,h/2)-Math.pow(10,-h/2));g(b)?g(f)||(f=null):(b=null,f=null),p(c+n,b),p(c+"size"+n,f)}}}},81603:function(G,V,e){var g=e(71828),R=e(89298),i=e(85501),L=e(69819),T="images";G.exports=function(t,r){var l={name:T,handleItemDefaults:v};i(t,r,l)};function v(p,t,r){function l(o,d){return g.coerce(p,t,L,o,d)}var n=l("source"),s=l("visible",!!n);if(!s)return t;l("layer"),l("xanchor"),l("yanchor"),l("sizex"),l("sizey"),l("sizing"),l("opacity");for(var c={_fullLayout:r},u=["x","y"],y=0;y<2;y++){var h=u[y],b=R.coerceRef(p,t,c,h,"paper",void 0);if(b!=="paper"){var f=R.getFromId(c,b);f._imgIndices.push(t._index)}R.coercePosition(t,c,l,b,h,0)}return t}},80750:function(G,V,e){var g=e(39898),R=e(91424),i=e(89298),L=e(41675),T=e(77922);G.exports=function(p){var t=p._fullLayout,r=[],l={},n=[],s,c;for(c=0;c<t.images.length;c++){var u=t.images[c];if(u.visible)if(u.layer==="below"&&u.xref!=="paper"&&u.yref!=="paper"){s=L.ref2id(u.xref)+L.ref2id(u.yref);var y=t._plots[s];if(!y){n.push(u);continue}y.mainplot&&(s=y.mainplot.id),l[s]||(l[s]=[]),l[s].push(u)}else u.layer==="above"?r.push(u):n.push(u)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function b(m){var S=g.select(this);if(this._imgSrc!==m.source)if(S.attr("xmlns",T.svg),m.source&&m.source.slice(0,5)==="data:")S.attr("xlink:href",m.source),this._imgSrc=m.source;else{var x=new Promise(function(a){var E=new Image;this.img=E,E.setAttribute("crossOrigin","anonymous"),E.onerror=w,E.onload=function(){var k=document.createElement("canvas");k.width=this.width,k.height=this.height;var I=k.getContext("2d",{willReadFrequently:!0});I.drawImage(this,0,0);var U=k.toDataURL("image/png");S.attr("xlink:href",U),a()},S.on("error",w),E.src=m.source,this._imgSrc=m.source;function w(){S.remove(),a()}}.bind(this));p._promises.push(x)}}function f(m){var S=g.select(this),x=i.getFromId(p,m.xref),a=i.getFromId(p,m.yref),E=i.getRefType(m.xref)==="domain",w=i.getRefType(m.yref)==="domain",k=t._size,I,U;x!==void 0?I=typeof m.xref=="string"&&E?x._length*m.sizex:Math.abs(x.l2p(m.sizex)-x.l2p(0)):I=m.sizex*k.w,a!==void 0?U=typeof m.yref=="string"&&w?a._length*m.sizey:Math.abs(a.l2p(m.sizey)-a.l2p(0)):U=m.sizey*k.h;var z=I*h.x[m.xanchor].offset,N=U*h.y[m.yanchor].offset,B=h.x[m.xanchor].sizing+h.y[m.yanchor].sizing,F,H;switch(x!==void 0?F=typeof m.xref=="string"&&E?x._length*m.x+x._offset:x.r2p(m.x)+x._offset:F=m.x*k.w+k.l,F+=z,a!==void 0?H=typeof m.yref=="string"&&w?a._length*(1-m.y)+a._offset:a.r2p(m.y)+a._offset:H=k.h-m.y*k.h+k.t,H+=N,m.sizing){case"fill":B+=" slice";break;case"stretch":B="none";break}S.attr({x:F,y:H,width:I,height:U,preserveAspectRatio:B,opacity:m.opacity});var X=x&&i.getRefType(m.xref)!=="domain"?x._id:"",q=a&&i.getRefType(m.yref)!=="domain"?a._id:"",ne=X+q;R.setClipUrl(S,ne?"clip"+t._uid+ne:null,p)}var o=t._imageLowerLayer.selectAll("image").data(n),d=t._imageUpperLayer.selectAll("image").data(r);o.enter().append("image"),d.enter().append("image"),o.exit().remove(),d.exit().remove(),o.each(function(m){b.bind(this)(m),f.bind(this)(m)}),d.each(function(m){b.bind(this)(m),f.bind(this)(m)});var A=Object.keys(t._plots);for(c=0;c<A.length;c++){s=A[c];var M=t._plots[s];if(M.imagelayer){var C=M.imagelayer.selectAll("image").data(l[s]||[]);C.enter().append("image"),C.exit().remove(),C.each(function(m){b.bind(this)(m),f.bind(this)(m)})}}}},68804:function(G,V,e){G.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(G,V,e){var g=e(41940),R=e(22399);G.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:R.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:g({editType:"legend"}),grouptitlefont:g({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:g({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(G){G.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(G,V,e){var g=e(73972),R=e(71828),i=e(44467),L=e(9012),T=e(33030),v=e(10820),p=e(10130);function t(r,l,n,s){var c=l[r]||{},u=i.newContainer(n,r);function y(q,ne){return R.coerce(c,u,T,q,ne)}var h=R.coerceFont(y,"font",n.font);y("bgcolor",n.paper_bgcolor),y("bordercolor");var b=y("visible");if(b){for(var f,o=function(q,ne){var oe=f._input,ve=f;return R.coerce(oe,ve,L,q,ne)},d=n.font||{},A=R.coerceFont(y,"grouptitlefont",R.extendFlat({},d,{size:Math.round(d.size*1.1)})),M=0,C=!1,m="normal",S=0;S<s.length;S++)f=s[S],f.visible&&((f.showlegend||f._dfltShowLegend&&!(f._module&&f._module.attributes&&f._module.attributes.showlegend&&f._module.attributes.showlegend.dflt===!1))&&(M++,f.showlegend&&(C=!0,(g.traceIs(f,"pie-like")||f._input.showlegend===!0)&&M++),R.coerceFont(o,"legendgrouptitle.font",A)),(g.traceIs(f,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(f.fill)!==-1)&&(m=p.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),f.legendgroup!==void 0&&f.legendgroup!==""&&(m=p.isReversed({traceorder:m})?"reversed+grouped":"grouped"));var x=R.coerce(l,n,v,"showlegend",C&&M>1);if(x===!1&&(n.legend=void 0),!(x===!1&&!c.uirevision)&&(y("uirevision",n.uirevision),x!==!1)){y("borderwidth");var a=y("orientation"),E=y("yref"),w=y("xref"),k=a==="h",I=E==="paper",U=w==="paper",z,N,B,F="left";k?(z=0,g.getComponentMethod("rangeslider","isVisible")(l.xaxis)?I?(N=1.1,B="bottom"):(N=1,B="top"):I?(N=-.1,B="top"):(N=0,B="bottom")):(N=1,B="auto",U?z=1.02:(z=1,F="right")),R.coerce(c,u,{x:{valType:"number",editType:"legend",min:U?-2:0,max:U?3:1,dflt:z}},"x"),R.coerce(c,u,{y:{valType:"number",editType:"legend",min:I?-2:0,max:I?3:1,dflt:N}},"y"),y("traceorder",m),p.isGrouped(n.legend)&&y("tracegroupgap"),y("entrywidth"),y("entrywidthmode"),y("itemsizing"),y("itemwidth"),y("itemclick"),y("itemdoubleclick"),y("groupclick"),y("xanchor",F),y("yanchor",B),y("valign"),R.noneOrAll(c,u,["x","y"]);var H=y("title.text");if(H){y("title.side",k?"left":"top");var X=R.extendFlat({},h,{size:R.bigFont(h.size)});R.coerceFont(y,"title.font",X)}}}}G.exports=function(l,n,s){var c,u=["legend"];for(c=0;c<s.length;c++)R.pushUnique(u,s[c].legend);for(n._legends=[],c=0;c<u.length;c++){var y=u[c];t(y,l,n,s),n[y]&&n[y].visible&&(n[y]._id=y),n._legends.push(y)}}},43969:function(G,V,e){var g=e(39898),R=e(71828),i=e(74875),L=e(73972),T=e(11086),v=e(28569),p=e(91424),t=e(7901),r=e(63893),l=e(85167),n=e(14928),s=e(18783),c=s.LINE_SPACING,u=s.FROM_TL,y=s.FROM_BR,h=e(82424),b=e(53630),f=e(10130),o=1,d=/^legend[0-9]*$/;G.exports=function(F,H){if(H)A(F,H);else{var X=F._fullLayout,q=X._legends,ne=X._infolayer.selectAll('[class^="legend"]');ne.each(function(){var Y=g.select(this),j=Y.attr("class"),K=j.split(" ")[0];K.match(d)&&q.indexOf(K)===-1&&Y.remove()});for(var oe=0;oe<q.length;oe++){var ve=q[oe],J=F._fullLayout[ve];A(F,J)}}};function A(B,F){var H=F||{},X=B._fullLayout,q=N(H),ne,oe,ve=H._inHover;if(ve?(oe=H.layer,ne="hover"):(oe=X._infolayer,ne=q),!!oe){ne+=X._uid,B._legendMouseDownTime||(B._legendMouseDownTime=0);var J;if(ve){if(!H.entries)return;J=h(H.entries,H)}else{if(!B.calcdata)return;J=X.showlegend&&h(B.calcdata,H,X._legends.length>1)}var Y=X.hiddenlabels||[];if(!ve&&(!X.showlegend||!J.length))return oe.selectAll("."+q).remove(),X._topdefs.select("#"+ne).remove(),i.autoMargin(B,q);var j=R.ensureSingle(oe,"g",q,function(xe){ve||xe.attr("pointer-events","all")}),K=R.ensureSingleById(X._topdefs,"clipPath",ne,function(xe){xe.append("rect")}),te=R.ensureSingle(j,"rect","bg",function(xe){xe.attr("shape-rendering","crispEdges")});te.call(t.stroke,H.bordercolor).call(t.fill,H.bgcolor).style("stroke-width",H.borderwidth+"px");var se=R.ensureSingle(j,"g","scrollbox"),Q=H.title;if(H._titleWidth=0,H._titleHeight=0,Q.text){var ee=R.ensureSingle(se,"text",q+"titletext");ee.attr("text-anchor","start").call(p.font,Q.font).text(Q.text),a(ee,se,B,H,o)}else se.selectAll("."+q+"titletext").remove();var le=R.ensureSingle(j,"rect","scrollbar",function(xe){xe.attr(n.scrollBarEnterAttrs).call(t.fill,n.scrollBarColor)}),ie=se.selectAll("g.groups").data(J);ie.enter().append("g").attr("class","groups"),ie.exit().remove();var he=ie.selectAll("g.traces").data(R.identity);he.enter().append("g").attr("class","traces"),he.exit().remove(),he.style("opacity",function(xe){var Se=xe[0].trace;return L.traceIs(Se,"pie-like")?Y.indexOf(xe[0].label)!==-1?.5:1:Se.visible==="legendonly"?.5:1}).each(function(){g.select(this).call(m,B,H)}).call(b,B,H).each(function(){ve||g.select(this).call(x,B,q)}),R.syncOrAsync([i.previousPromises,function(){return k(B,ie,he,H)},function(){var xe=X._size,Se=H.borderwidth,Ee=H.xref==="paper",Ne=H.yref==="paper";if(!ve){var He,Ce;Ee?He=xe.l+xe.w*H.x-u[U(H)]*H._width:He=X.width*H.x-u[U(H)]*H._width,Ne?Ce=xe.t+xe.h*(1-H.y)-u[z(H)]*H._effHeight:Ce=X.height*(1-H.y)-u[z(H)]*H._effHeight;var be=I(B,q,He,Ce);if(be)return;if(X.margin.autoexpand){var we=He,ke=Ce;He=Ee?R.constrain(He,0,X.width-H._width):we,Ce=Ne?R.constrain(Ce,0,X.height-H._effHeight):ke,He!==we&&R.log("Constrain "+q+".x to make legend fit inside graph"),Ce!==ke&&R.log("Constrain "+q+".y to make legend fit inside graph")}p.setTranslate(j,He,Ce)}if(le.on(".drag",null),j.on("wheel",null),ve||H._height<=H._maxHeight||B._context.staticPlot){var Fe=H._effHeight;ve&&(Fe=H._height),te.attr({width:H._width-Se,height:Fe-Se,x:Se/2,y:Se/2}),p.setTranslate(se,0,0),K.select("rect").attr({width:H._width-2*Se,height:Fe-2*Se,x:Se,y:Se}),p.setClipUrl(se,ne,B),p.setRect(le,0,0,0,0),delete H._scrollY}else{var Pe=Math.max(n.scrollBarMinHeight,H._effHeight*H._effHeight/H._height),Ge=H._effHeight-Pe-2*n.scrollBarMargin,nt=H._height-H._effHeight,qe=Ge/nt,Ke=Math.min(H._scrollY||0,nt);te.attr({width:H._width-2*Se+n.scrollBarWidth+n.scrollBarMargin,height:H._effHeight-Se,x:Se/2,y:Se/2}),K.select("rect").attr({width:H._width-2*Se+n.scrollBarWidth+n.scrollBarMargin,height:H._effHeight-2*Se,x:Se,y:Se+Ke}),p.setClipUrl(se,ne,B),Be(Ke,Pe,qe),j.on("wheel",function(){Ke=R.constrain(H._scrollY+g.event.deltaY/Ge*nt,0,nt),Be(Ke,Pe,qe),Ke!==0&&Ke!==nt&&g.event.preventDefault()});var $e,vt,yt,mt=function(Te,fe,me){var Re=(me-fe)/qe+Te;return R.constrain(Re,0,nt)},Et=function(Te,fe,me){var Re=(fe-me)/qe+Te;return R.constrain(Re,0,nt)},Xe=g.behavior.drag().on("dragstart",function(){var Te=g.event.sourceEvent;Te.type==="touchstart"?$e=Te.changedTouches[0].clientY:$e=Te.clientY,yt=Ke}).on("drag",function(){var Te=g.event.sourceEvent;Te.buttons===2||Te.ctrlKey||(Te.type==="touchmove"?vt=Te.changedTouches[0].clientY:vt=Te.clientY,Ke=mt(yt,$e,vt),Be(Ke,Pe,qe))});le.call(Xe);var Ue=g.behavior.drag().on("dragstart",function(){var Te=g.event.sourceEvent;Te.type==="touchstart"&&($e=Te.changedTouches[0].clientY,yt=Ke)}).on("drag",function(){var Te=g.event.sourceEvent;Te.type==="touchmove"&&(vt=Te.changedTouches[0].clientY,Ke=Et(yt,$e,vt),Be(Ke,Pe,qe))});se.call(Ue)}function Be(Te,fe,me){H._scrollY=B._fullLayout[q]._scrollY=Te,p.setTranslate(se,0,-Te),p.setRect(le,H._width,n.scrollBarMargin+Te*me,n.scrollBarWidth,fe),K.select("rect").attr("y",Se+Te)}if(B._context.edits.legendPosition){var rt,it,Ye,De;j.classed("cursor-move",!0),v.init({element:j.node(),gd:B,prepFn:function(){var Te=p.getTranslate(j);Ye=Te.x,De=Te.y},moveFn:function(Te,fe){var me=Ye+Te,Re=De+fe;p.setTranslate(j,me,Re),rt=v.align(me,H._width,xe.l,xe.l+xe.w,H.xanchor),it=v.align(Re+H._height,-H._height,xe.t+xe.h,xe.t,H.yanchor)},doneFn:function(){if(rt!==void 0&&it!==void 0){var Te={};Te[q+".x"]=rt,Te[q+".y"]=it,L.call("_guiRelayout",B,Te)}},clickFn:function(Te,fe){var me=oe.selectAll("g.traces").filter(function(){var Re=this.getBoundingClientRect();return fe.clientX>=Re.left&&fe.clientX<=Re.right&&fe.clientY>=Re.top&&fe.clientY<=Re.bottom});me.size()>0&&C(B,j,me,Te,fe)}})}}],B)}}function M(B,F,H){var X=B[0],q=X.width,ne=F.entrywidthmode,oe=X.trace.legendwidth||F.entrywidth;return ne==="fraction"?F._maxWidth*oe:H+(oe||q)}function C(B,F,H,X,q){var ne=H.data()[0][0].trace,oe={event:q,node:H.node(),curveNumber:ne.index,expandedIndex:ne._expandedIndex,data:B.data,layout:B.layout,frames:B._transitionData._frames,config:B._context,fullData:B._fullData,fullLayout:B._fullLayout};ne._group&&(oe.group=ne._group),L.traceIs(ne,"pie-like")&&(oe.label=H.datum()[0].label);var ve=T.triggerHandler(B,"plotly_legendclick",oe);if(ve!==!1){if(X===1)F._clickTimeout=setTimeout(function(){B._fullLayout&&l(H,B,X)},B._context.doubleClickDelay);else if(X===2){F._clickTimeout&&clearTimeout(F._clickTimeout),B._legendMouseDownTime=0;var J=T.triggerHandler(B,"plotly_legenddoubleclick",oe);J!==!1&&l(H,B,X)}}}function m(B,F,H){var X=N(H),q=B.data()[0][0],ne=q.trace,oe=L.traceIs(ne,"pie-like"),ve=!H._inHover&&F._context.edits.legendText&&!oe,J=H._maxNameLength,Y,j;q.groupTitle?(Y=q.groupTitle.text,j=q.groupTitle.font):(j=H.font,H.entries?Y=q.text:(Y=oe?q.label:ne.name,ne._meta&&(Y=R.templateString(Y,ne._meta))));var K=R.ensureSingle(B,"text",X+"text");K.attr("text-anchor","start").call(p.font,j).text(ve?S(Y,J):Y);var te=H.itemwidth+n.itemGap*2;r.positionText(K,te,0),ve?K.call(r.makeEditable,{gd:F,text:Y}).call(a,B,F,H).on("edit",function(se){this.text(S(se,J)).call(a,B,F,H);var Q=q.trace._fullInput||{},ee={};if(L.hasTransform(Q,"groupby")){var le=L.getTransformIndices(Q,"groupby"),ie=le[le.length-1],he=R.keyedContainer(Q,"transforms["+ie+"].styles","target","value.name");he.set(q.trace._group,se),ee=he.constructUpdate()}else ee.name=se;return L.call("_guiRestyle",F,ee,ne.index)}):a(K,B,F,H)}function S(B,F){var H=Math.max(4,F);if(B&&B.trim().length>=H/2)return B;B=B||"";for(var X=H-B.length;X>0;X--)B+=" ";return B}function x(B,F,H){var X=F._context.doubleClickDelay,q,ne=1,oe=R.ensureSingle(B,"rect",H+"toggle",function(ve){F._context.staticPlot||ve.style("cursor","pointer").attr("pointer-events","all"),ve.call(t.fill,"rgba(0,0,0,0)")});F._context.staticPlot||(oe.on("mousedown",function(){q=new Date().getTime(),q-F._legendMouseDownTime<X?ne+=1:(ne=1,F._legendMouseDownTime=q)}),oe.on("mouseup",function(){if(!(F._dragged||F._editing)){var ve=F._fullLayout[H];new Date().getTime()-F._legendMouseDownTime>X&&(ne=Math.max(ne-1,1)),C(F,ve,B,ne,g.event)}}))}function a(B,F,H,X,q){X._inHover&&B.attr("data-notex",!0),r.convertToTspans(B,H,function(){E(F,H,X,q)})}function E(B,F,H,X){var q=B.data()[0][0];if(!H._inHover&&q&&!q.trace.showlegend){B.remove();return}var ne=B.select("g[class*=math-group]"),oe=ne.node(),ve=N(H);H||(H=F._fullLayout[ve]);var J=H.borderwidth,Y;X===o?Y=H.title.font:q.groupTitle?Y=q.groupTitle.font:Y=H.font;var j=Y.size*c,K,te;if(oe){var se=p.bBox(oe);K=se.height,te=se.width,X===o?p.setTranslate(ne,J,J+K*.75):p.setTranslate(ne,0,K*.25)}else{var Q="."+ve+(X===o?"title":"")+"text",ee=B.select(Q),le=r.lineCount(ee),ie=ee.node();if(K=j*le,te=ie?p.bBox(ie).width:0,X===o)H.title.side==="left"&&(te+=n.itemGap*2),r.positionText(ee,J+n.titlePad,J+j);else{var he=n.itemGap*2+H.itemwidth;q.groupTitle&&(he=n.itemGap,te-=H.itemwidth),r.positionText(ee,he,-j*((le-1)/2-.3))}}X===o?(H._titleWidth=te,H._titleHeight=K):(q.lineHeight=j,q.height=Math.max(K,16)+3,q.width=te)}function w(B){var F=0,H=0,X=B.title.side;return X&&(X.indexOf("left")!==-1&&(F=B._titleWidth),X.indexOf("top")!==-1&&(H=B._titleHeight)),[F,H]}function k(B,F,H,X){var q=B._fullLayout,ne=N(X);X||(X=q[ne]);var oe=q._size,ve=f.isVertical(X),J=f.isGrouped(X),Y=X.entrywidthmode==="fraction",j=X.borderwidth,K=2*j,te=n.itemGap,se=X.itemwidth+te*2,Q=2*(j+te),ee=z(X),le=X.y<0||X.y===0&&ee==="top",ie=X.y>1||X.y===1&&ee==="bottom",he=X.tracegroupgap,xe={};X._maxHeight=Math.max(le||ie?q.height/2:oe.h,30);var Se=0;X._width=0,X._height=0;var Ee=w(X);if(ve)H.each(function(Be){var rt=Be[0].height;p.setTranslate(this,j+Ee[0],j+Ee[1]+X._height+rt/2+te),X._height+=rt,X._width=Math.max(X._width,Be[0].width)}),Se=se+X._width,X._width+=te+se+K,X._height+=Q,J&&(F.each(function(Be,rt){p.setTranslate(this,0,rt*X.tracegroupgap)}),X._height+=(X._lgroupsLength-1)*X.tracegroupgap);else{var Ne=U(X),He=X.x<0||X.x===0&&Ne==="right",Ce=X.x>1||X.x===1&&Ne==="left",be=ie||le,we=q.width/2;X._maxWidth=Math.max(He?be&&Ne==="left"?oe.l+oe.w:we:Ce?be&&Ne==="right"?oe.r+oe.w:we:oe.w,2*se);var ke=0,Fe=0;H.each(function(Be){var rt=M(Be,X,se);ke=Math.max(ke,rt),Fe+=rt}),Se=null;var Pe=0;if(J){var Ge=0,nt=0,qe=0;F.each(function(){var Be=0,rt=0;g.select(this).selectAll("g.traces").each(function(Ye){var De=M(Ye,X,se),Te=Ye[0].height;p.setTranslate(this,Ee[0],Ee[1]+j+te+Te/2+rt),rt+=Te,Be=Math.max(Be,De),xe[Ye[0].trace.legendgroup]=Be});var it=Be+te;nt>0&&it+j+nt>X._maxWidth?(Pe=Math.max(Pe,nt),nt=0,qe+=Ge+he,Ge=rt):Ge=Math.max(Ge,rt),p.setTranslate(this,nt,qe),nt+=it}),X._width=Math.max(Pe,nt)+j,X._height=qe+Ge+Q}else{var Ke=H.size(),$e=Fe+K+(Ke-1)*te<X._maxWidth,vt=0,yt=0,mt=0,Et=0;H.each(function(Be){var rt=Be[0].height,it=M(Be,X,se),Ye=$e?it:ke;Y||(Ye+=te),Ye+j+yt-te>=X._maxWidth&&(Pe=Math.max(Pe,Et),yt=0,mt+=vt,X._height+=vt,vt=0),p.setTranslate(this,Ee[0]+j+yt,Ee[1]+j+mt+rt/2+te),Et=yt+it+te,yt+=Ye,vt=Math.max(vt,rt)}),$e?(X._width=yt+K,X._height=vt+Q):(X._width=Math.max(Pe,Et)+K,X._height+=vt+Q)}}X._width=Math.ceil(Math.max(X._width+Ee[0],X._titleWidth+2*(j+n.titlePad))),X._height=Math.ceil(Math.max(X._height+Ee[1],X._titleHeight+2*(j+n.itemGap))),X._effHeight=Math.min(X._height,X._maxHeight);var Xe=B._context.edits,Ue=Xe.legendText||Xe.legendPosition;H.each(function(Be){var rt=g.select(this).select("."+ne+"toggle"),it=Be[0].height,Ye=Be[0].trace.legendgroup,De=M(Be,X,se);J&&Ye!==""&&(De=xe[Ye]);var Te=Ue?se:Se||De;!ve&&!Y&&(Te+=te/2),p.setRect(rt,0,-it/2,Te,it)})}function I(B,F,H,X){var q=B._fullLayout,ne=q[F],oe=U(ne),ve=z(ne),J=ne.xref==="paper",Y=ne.yref==="paper";B._fullLayout._reservedMargin[F]={};var j=ne.y<.5?"b":"t",K=ne.x<.5?"l":"r",te={r:q.width-H,l:H+ne._width,b:q.height-X,t:X+ne._effHeight};if(J&&Y)return i.autoMargin(B,F,{x:ne.x,y:ne.y,l:ne._width*u[oe],r:ne._width*y[oe],b:ne._effHeight*y[ve],t:ne._effHeight*u[ve]});J?B._fullLayout._reservedMargin[F][j]=te[j]:Y||ne.orientation==="v"?B._fullLayout._reservedMargin[F][K]=te[K]:B._fullLayout._reservedMargin[F][j]=te[j]}function U(B){return R.isRightAnchor(B)?"right":R.isCenterAnchor(B)?"center":"left"}function z(B){return R.isBottomAnchor(B)?"bottom":R.isMiddleAnchor(B)?"middle":"top"}function N(B){return B._id||"legend"}},82424:function(G,V,e){var g=e(73972),R=e(10130);G.exports=function(L,T,v){var p=T._inHover,t=R.isGrouped(T),r=R.isReversed(T),l={},n=[],s=!1,c={},u=0,y=0,h,b;function f(F,H,X){if(T.visible!==!1&&!(v&&F!==T._id))if(H===""||!R.isGrouped(T)){var q="~~i"+u;n.push(q),l[q]=[X],u++}else n.indexOf(H)===-1?(n.push(H),s=!0,l[H]=[X]):l[H].push(X)}for(h=0;h<L.length;h++){var o=L[h],d=o[0],A=d.trace,M=A.legend,C=A.legendgroup;if(!(!p&&(!A.visible||!A.showlegend)))if(g.traceIs(A,"pie-like"))for(c[C]||(c[C]={}),b=0;b<o.length;b++){var m=o[b].label;c[C][m]||(f(M,C,{label:m,color:o[b].color,i:o[b].i,trace:A,pts:o[b].pts}),c[C][m]=!0,y=Math.max(y,(m||"").length))}else f(M,C,d),y=Math.max(y,(A.name||"").length)}if(!n.length)return[];var S=!s||!t,x=[];for(h=0;h<n.length;h++){var a=l[n[h]];S?x.push(a[0]):x.push(a)}for(S&&(x=[x]),h=0;h<x.length;h++){var E=1/0;for(b=0;b<x[h].length;b++){var w=x[h][b].trace.legendrank;E>w&&(E=w)}x[h][0]._groupMinRank=E,x[h][0]._preGroupSort=h}var k=function(F,H){return F[0]._groupMinRank-H[0]._groupMinRank||F[0]._preGroupSort-H[0]._preGroupSort},I=function(F,H){return F.trace.legendrank-H.trace.legendrank||F._preSort-H._preSort};for(x.forEach(function(F,H){F[0]._preGroupSort=H}),x.sort(k),h=0;h<x.length;h++){x[h].forEach(function(F,H){F._preSort=H}),x[h].sort(I);var U=x[h][0].trace,z=null;for(b=0;b<x[h].length;b++){var N=x[h][b].trace.legendgrouptitle;if(N&&N.text){z=N,p&&(N.font=T._groupTitleFont);break}}if(r&&x[h].reverse(),z){var B=!1;for(b=0;b<x[h].length;b++)if(g.traceIs(x[h][b].trace,"pie-like")){B=!0;break}x[h].unshift({i:-1,groupTitle:z,noClick:B,trace:{showlegend:U.showlegend,legendgroup:U.legendgroup,visible:T.groupclick==="toggleitem"?!0:U.visible}})}for(b=0;b<x[h].length;b++)x[h][b]=[x[h][b]]}return T._lgroupsLength=x.length,T._maxNameLength=y,x}},85167:function(G,V,e){var g=e(71828),R=e(73972),i=!0;G.exports=function(T,v,p){var t=v._fullLayout;if(v._dragged||v._editing)return;var r=t.legend.itemclick,l=t.legend.itemdoubleclick,n=t.legend.groupclick;p===1&&r==="toggle"&&l==="toggleothers"&&i&&v.data&&v._context.showTips&&g.notifier(g._(v,"Double-click on legend to isolate one trace"),"long"),i=!1;var s;if(p===1?s=r:p===2&&(s=l),!s)return;var c=n==="togglegroup",u=t.hiddenlabels?t.hiddenlabels.slice():[],y=T.data()[0][0];if(y.groupTitle&&y.noClick)return;var h=v._fullData,b=y.trace,f=b.legendgroup,o,d,A,M,C,m,S={},x=[],a=[],E=[];function w(Y,j,K){var te=x.indexOf(Y),se=S[j];return se||(se=S[j]=[]),x.indexOf(Y)===-1&&(x.push(Y),te=x.length-1),se[te]=K,te}function k(Y,j){if(!(y.groupTitle&&!c)){var K=Y._fullInput;if(R.hasTransform(K,"groupby")){var te=a[K.index];if(!te){var se=R.getTransformIndices(K,"groupby"),Q=se[se.length-1];te=g.keyedContainer(K,"transforms["+Q+"].styles","target","value.visible"),a[K.index]=te}var ee=te.get(Y._group);ee===void 0&&(ee=!0),ee!==!1&&te.set(Y._group,j),E[K.index]=w(K.index,"visible",K.visible!==!1)}else{var le=K.visible===!1?!1:j;w(K.index,"visible",le)}}}if(R.traceIs(b,"pie-like")){var I=y.label,U=u.indexOf(I);s==="toggle"?U===-1?u.push(I):u.splice(U,1):s==="toggleothers"&&(u=[],v.calcdata[0].forEach(function(Y){I!==Y.label&&u.push(Y.label)}),v._fullLayout.hiddenlabels&&v._fullLayout.hiddenlabels.length===u.length&&U===-1&&(u=[])),R.call("_guiRelayout",v,"hiddenlabels",u)}else{var z=f&&f.length,N=[],B;if(z)for(o=0;o<h.length;o++)B=h[o],B.visible&&B.legendgroup===f&&N.push(o);if(s==="toggle"){var F;switch(b.visible){case!0:F="legendonly";break;case!1:F=!1;break;case"legendonly":F=!0;break}if(z)if(c)for(o=0;o<h.length;o++)h[o].visible!==!1&&h[o].legendgroup===f&&k(h[o],F);else k(b,F);else k(b,F)}else if(s==="toggleothers"){var H,X,q,ne,oe=!0;for(o=0;o<h.length;o++)if(H=h[o]===b,q=h[o].showlegend!==!0,!(H||q)&&(X=z&&h[o].legendgroup===f,!X&&h[o].visible===!0&&!R.traceIs(h[o],"notLegendIsolatable"))){oe=!1;break}for(o=0;o<h.length;o++)if(h[o].visible!==!1&&!R.traceIs(h[o],"notLegendIsolatable"))switch(b.visible){case"legendonly":k(h[o],!0);break;case!0:ne=oe?!0:"legendonly",H=h[o]===b,q=h[o].showlegend!==!0&&!h[o].legendgroup,X=H||z&&h[o].legendgroup===f,k(h[o],X||q?!0:ne);break}}for(o=0;o<a.length;o++)if(A=a[o],!!A){var ve=A.constructUpdate(),J=Object.keys(ve);for(d=0;d<J.length;d++)M=J[d],m=S[M]=S[M]||[],m[E[o]]=ve[M]}for(C=Object.keys(S),o=0;o<C.length;o++)for(M=C[o],d=0;d<x.length;d++)S[M].hasOwnProperty(d)||(S[M][d]=void 0);R.call("_guiRestyle",v,S,x)}}},10130:function(G,V){V.isGrouped=function(g){return(g.traceorder||"").indexOf("grouped")!==-1},V.isVertical=function(g){return g.orientation!=="h"},V.isReversed=function(g){return(g.traceorder||"").indexOf("reversed")!==-1}},2199:function(G,V,e){G.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(G,V,e){var g=e(39898),R=e(73972),i=e(71828),L=i.strTranslate,T=e(91424),v=e(7901),p=e(52075).extractOpts,t=e(34098),r=e(63463),l=e(53581).castOption,n=e(14928),s=12,c=5,u=2,y=10,h=5;G.exports=function(A,M,C){var m=M._fullLayout;C||(C=m.legend);var S=C.itemsizing==="constant",x=C.itemwidth,a=(x+n.itemGap*2)/2,E=L(a,0),w=function(J,Y,j,K){var te;if(J+1)te=J;else if(Y&&Y.width>0)te=Y.width;else return 0;return S?K:Math.min(te,j)};A.each(function(J){var Y=g.select(this),j=i.ensureSingle(Y,"g","layers");j.style("opacity",J[0].trace.opacity);var K=C.valign,te=J[0].lineHeight,se=J[0].height;if(K==="middle"||!te||!se)j.attr("transform",null);else{var Q={top:1,bottom:-1}[K],ee=Q*(.5*(te-se+3));j.attr("transform",L(0,ee))}var le=j.selectAll("g.legendfill").data([J]);le.enter().append("g").classed("legendfill",!0);var ie=j.selectAll("g.legendlines").data([J]);ie.enter().append("g").classed("legendlines",!0);var he=j.selectAll("g.legendsymbols").data([J]);he.enter().append("g").classed("legendsymbols",!0),he.selectAll("g.legendpoints").data([J]).enter().append("g").classed("legendpoints",!0)}).each(ve).each(U).each(N).each(z).each(F).each(ne).each(q).each(k).each(I).each(H).each(X);function k(J){var Y=f(J),j=Y.showFill,K=Y.showLine,te=Y.showGradientLine,se=Y.showGradientFill,Q=Y.anyFill,ee=Y.anyLine,le=J[0],ie=le.trace,he,xe,Se=p(ie),Ee=Se.colorscale,Ne=Se.reversescale,He=function(Ge){if(Ge.size())if(j)T.fillGroupStyle(Ge,M);else{var nt="legendfill-"+ie.uid;T.gradient(Ge,M,nt,b(Ne),Ee,"fill")}},Ce=function(Ge){if(Ge.size()){var nt="legendline-"+ie.uid;T.lineGroupStyle(Ge),T.gradient(Ge,M,nt,b(Ne),Ee,"stroke")}},be=t.hasMarkers(ie)||!Q?"M5,0":ee?"M5,-2":"M5,-3",we=g.select(this),ke=we.select(".legendfill").selectAll("path").data(j||se?[J]:[]);if(ke.enter().append("path").classed("js-fill",!0),ke.exit().remove(),ke.attr("d",be+"h"+x+"v6h-"+x+"z").call(He),K||te){var Fe=w(void 0,ie.line,y,c);xe=i.minExtend(ie,{line:{width:Fe}}),he=[i.minExtend(le,{trace:xe})]}var Pe=we.select(".legendlines").selectAll("path").data(K||te?[he]:[]);Pe.enter().append("path").classed("js-line",!0),Pe.exit().remove(),Pe.attr("d",be+(te?"l"+x+",0.0001":"h"+x)).call(K?T.lineGroupStyle:Ce)}function I(J){var Y=f(J),j=Y.anyFill,K=Y.anyLine,te=Y.showLine,se=Y.showMarker,Q=J[0],ee=Q.trace,le=!se&&!K&&!j&&t.hasText(ee),ie,he;function xe(ke,Fe,Pe,Ge){var nt=i.nestedProperty(ee,ke).get(),qe=i.isArrayOrTypedArray(nt)&&Fe?Fe(nt):nt;if(S&&qe&&Ge!==void 0&&(qe=Ge),Pe){if(qe<Pe[0])return Pe[0];if(qe>Pe[1])return Pe[1]}return qe}function Se(ke){return Q._distinct&&Q.index&&ke[Q.index]?ke[Q.index]:ke[0]}if(se||le||te){var Ee={},Ne={};if(se){Ee.mc=xe("marker.color",Se),Ee.mx=xe("marker.symbol",Se),Ee.mo=xe("marker.opacity",i.mean,[.2,1]),Ee.mlc=xe("marker.line.color",Se),Ee.mlw=xe("marker.line.width",i.mean,[0,5],u),Ne.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var He=xe("marker.size",i.mean,[2,16],s);Ee.ms=He,Ne.marker.size=He}te&&(Ne.line={width:xe("line.width",Se,[0,10],c)}),le&&(Ee.tx="Aa",Ee.tp=xe("textposition",Se),Ee.ts=10,Ee.tc=xe("textfont.color",Se),Ee.tf=xe("textfont.family",Se)),ie=[i.minExtend(Q,Ee)],he=i.minExtend(ee,Ne),he.selectedpoints=null,he.texttemplate=null}var Ce=g.select(this).select("g.legendpoints"),be=Ce.selectAll("path.scatterpts").data(se?ie:[]);be.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",E),be.exit().remove(),be.call(T.pointStyle,he,M),se&&(ie[0].mrc=3);var we=Ce.selectAll("g.pointtext").data(le?ie:[]);we.enter().append("g").classed("pointtext",!0).append("text").attr("transform",E),we.exit().remove(),we.selectAll("text").call(T.textPointStyle,he,M)}function U(J){var Y=J[0].trace,j=Y.type==="waterfall";if(J[0]._distinct&&j){var K=J[0].trace[J[0].dir].marker;return J[0].mc=K.color,J[0].mlw=K.line.width,J[0].mlc=K.line.color,B(J,this,"waterfall")}var te=[];Y.visible&&j&&(te=J[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var se=g.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(te);se.enter().append("path").classed("legendwaterfall",!0).attr("transform",E).style("stroke-miterlimit",1),se.exit().remove(),se.each(function(Q){var ee=g.select(this),le=Y[Q[0]].marker,ie=w(void 0,le.line,h,u);ee.attr("d",Q[1]).style("stroke-width",ie+"px").call(v.fill,le.color),ie&&ee.call(v.stroke,le.line.color)})}function z(J){B(J,this)}function N(J){B(J,this,"funnel")}function B(J,Y,j){var K=J[0].trace,te=K.marker||{},se=te.line||{},Q=j?K.visible&&K.type===j:R.traceIs(K,"bar"),ee=g.select(Y).select("g.legendpoints").selectAll("path.legend"+j).data(Q?[J]:[]);ee.enter().append("path").classed("legend"+j,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),ee.exit().remove(),ee.each(function(le){var ie=g.select(this),he=le[0],xe=w(he.mlw,te.line,h,u);ie.style("stroke-width",xe+"px");var Se=he.mcc;if(!C._inHover&&"mc"in he){var Ee=p(te),Ne=Ee.mid;Ne===void 0&&(Ne=(Ee.max+Ee.min)/2),Se=T.tryColorscale(te,"")(Ne)}var He=Se||he.mc||te.color,Ce=te.pattern,be=Ce&&T.getPatternAttr(Ce.shape,0,"");if(be){var we=T.getPatternAttr(Ce.bgcolor,0,null),ke=T.getPatternAttr(Ce.fgcolor,0,null),Fe=Ce.fgopacity,Pe=o(Ce.size,8,10),Ge=o(Ce.solidity,.5,1),nt="legend-"+K.uid;ie.call(T.pattern,"legend",M,nt,be,Pe,Ge,Se,Ce.fillmode,we,ke,Fe)}else ie.call(v.fill,He);xe&&v.stroke(ie,he.mlc||se.color)})}function F(J){var Y=J[0].trace,j=g.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Y.visible&&R.traceIs(Y,"box-violin")?[J]:[]);j.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),j.exit().remove(),j.each(function(){var K=g.select(this);if((Y.boxpoints==="all"||Y.points==="all")&&v.opacity(Y.fillcolor)===0&&v.opacity((Y.line||{}).color)===0){var te=i.minExtend(Y,{marker:{size:S?s:i.constrain(Y.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});j.call(T.pointStyle,te,M)}else{var se=w(void 0,Y.line,h,u);K.style("stroke-width",se+"px").call(v.fill,Y.fillcolor),se&&v.stroke(K,Y.line.color)}})}function H(J){var Y=J[0].trace,j=g.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Y.visible&&Y.type==="candlestick"?[J,J]:[]);j.enter().append("path").classed("legendcandle",!0).attr("d",function(K,te){return te?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",E).style("stroke-miterlimit",1),j.exit().remove(),j.each(function(K,te){var se=g.select(this),Q=Y[te?"increasing":"decreasing"],ee=w(void 0,Q.line,h,u);se.style("stroke-width",ee+"px").call(v.fill,Q.fillcolor),ee&&v.stroke(se,Q.line.color)})}function X(J){var Y=J[0].trace,j=g.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Y.visible&&Y.type==="ohlc"?[J,J]:[]);j.enter().append("path").classed("legendohlc",!0).attr("d",function(K,te){return te?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",E).style("stroke-miterlimit",1),j.exit().remove(),j.each(function(K,te){var se=g.select(this),Q=Y[te?"increasing":"decreasing"],ee=w(void 0,Q.line,h,u);se.style("fill","none").call(T.dashLine,Q.line.dash,ee),ee&&v.stroke(se,Q.line.color)})}function q(J){oe(J,this,"pie")}function ne(J){oe(J,this,"funnelarea")}function oe(J,Y,j){var K=J[0],te=K.trace,se=j?te.visible&&te.type===j:R.traceIs(te,j),Q=g.select(Y).select("g.legendpoints").selectAll("path.legend"+j).data(se?[J]:[]);if(Q.enter().append("path").classed("legend"+j,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",E),Q.exit().remove(),Q.size()){var ee=te.marker||{},le=w(l(ee.line.width,K.pts),ee.line,h,u),ie="pieLike",he=i.minExtend(te,{marker:{line:{width:le}}},ie),xe=i.minExtend(K,{trace:he},ie);r(Q,xe,he,M)}}function ve(J){var Y=J[0].trace,j,K=[];if(Y.visible)switch(Y.type){case"histogram2d":case"heatmap":K=[["M-15,-2V4H15V-2Z"]],j=!0;break;case"choropleth":case"choroplethmapbox":K=[["M-6,-6V6H6V-6Z"]],j=!0;break;case"densitymapbox":K=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],j="radial";break;case"cone":K=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],j=!1;break;case"streamtube":K=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],j=!1;break;case"surface":K=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],j=!0;break;case"mesh3d":K=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],j=!1;break;case"volume":K=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],j=!0;break;case"isosurface":K=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],j=!1;break}var te=g.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(K);te.enter().append("path").classed("legend3dandfriends",!0).attr("transform",E).style("stroke-miterlimit",1),te.exit().remove(),te.each(function(se,Q){var ee=g.select(this),le=p(Y),ie=le.colorscale,he=le.reversescale,xe=function(He){if(He.size()){var Ce="legendfill-"+Y.uid;T.gradient(He,M,Ce,b(he,j==="radial"),ie,"fill")}},Se;if(ie){if(!j){var Ne=ie.length;Se=Q===0?ie[he?Ne-1:0][1]:Q===1?ie[he?0:Ne-1][1]:ie[Math.floor((Ne-1)/2)][1]}}else{var Ee=Y.vertexcolor||Y.facecolor||Y.color;Se=i.isArrayOrTypedArray(Ee)?Ee[Q]||Ee[0]:Ee}ee.attr("d",se[0]),Se?ee.call(v.fill,Se):ee.call(xe)})}};function b(d,A){var M=A?"radial":"horizontal";return M+(d?"":"reversed")}function f(d){var A=d[0].trace,M=A.contours,C=t.hasLines(A),m=t.hasMarkers(A),S=A.visible&&A.fill&&A.fill!=="none",x=!1,a=!1;if(M){var E=M.coloring;E==="lines"?x=!0:C=E==="none"||E==="heatmap"||M.showlines,M.type==="constraint"?S=M._operation!=="=":(E==="fill"||E==="heatmap")&&(a=!0)}return{showMarker:m,showLine:C,showFill:S,showGradientLine:x,showGradientFill:a,anyLine:C||x,anyFill:S||a}}function o(d,A,M){return d&&i.isArrayOrTypedArray(d)?A:d>M?M:d}},42068:function(G,V,e){e(93348),G.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(G,V,e){var g=e(73972),R=e(74875),i=e(41675),L=e(24255),T=e(34031).eraseActiveShape,v=e(71828),p=v._,t=G.exports={};t.toImage={name:"toImage",title:function(d){var A=d._context.toImageButtonOptions||{},M=A.format||"png";return M==="png"?p(d,"Download plot as a png"):p(d,"Download plot")},icon:L.camera,click:function(d){var A=d._context.toImageButtonOptions,M={format:A.format||"png"};v.notifier(p(d,"Taking snapshot - this may take a few seconds"),"long"),M.format!=="svg"&&v.isIE()&&(v.notifier(p(d,"IE only supports svg.  Changing format to svg."),"long"),M.format="svg"),["filename","width","height","scale"].forEach(function(C){C in A&&(M[C]=A[C])}),g.call("downloadImage",d,M).then(function(C){v.notifier(p(d,"Snapshot succeeded")+" - "+C,"long")}).catch(function(){v.notifier(p(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.disk,click:function(d){R.sendDataToCloud(d)}},t.editInChartStudio={name:"editInChartStudio",title:function(d){return p(d,"Edit in Chart Studio")},icon:L.pencil,click:function(d){R.sendDataToCloud(d)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"dragmode",val:"zoom",icon:L.zoombox,click:r},t.pan2d={name:"pan2d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"dragmode",val:"pan",icon:L.pan,click:r},t.select2d={name:"select2d",_cat:"select",title:function(d){return p(d,"Box Select")},attr:"dragmode",val:"select",icon:L.selectbox,click:r},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return p(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:L.lasso,click:r},t.drawclosedpath={name:"drawclosedpath",title:function(d){return p(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:L.drawclosedpath,click:r},t.drawopenpath={name:"drawopenpath",title:function(d){return p(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:L.drawopenpath,click:r},t.drawline={name:"drawline",title:function(d){return p(d,"Draw line")},attr:"dragmode",val:"drawline",icon:L.drawline,click:r},t.drawrect={name:"drawrect",title:function(d){return p(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:L.drawrect,click:r},t.drawcircle={name:"drawcircle",title:function(d){return p(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:L.drawcircle,click:r},t.eraseshape={name:"eraseshape",title:function(d){return p(d,"Erase active shape")},icon:L.eraseshape,click:T},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:r},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:r},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return p(d,"Autoscale")},attr:"zoom",val:"auto",icon:L.autoscale,click:r},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return p(d,"Reset axes")},attr:"zoom",val:"reset",icon:L.home,click:r},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return p(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:r},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return p(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:L.tooltip_compare,gravity:"ne",click:r};function r(d,A){var M=A.currentTarget,C=M.getAttribute("data-attr"),m=M.getAttribute("data-val")||!0,S=d._fullLayout,x={},a=i.list(d,null,!0),E=S._cartesianSpikesEnabled,w,k;if(C==="zoom"){var I=m==="in"?.5:2,U=(1+I)/2,z=(1-I)/2,N;for(k=0;k<a.length;k++)if(w=a[k],!w.fixedrange)if(N=w._name,m==="auto")x[N+".autorange"]=!0;else if(m==="reset"){if(w._rangeInitial===void 0)x[N+".autorange"]=!0;else{var B=w._rangeInitial.slice();x[N+".range[0]"]=B[0],x[N+".range[1]"]=B[1]}w._showSpikeInitial!==void 0&&(x[N+".showspikes"]=w._showSpikeInitial,E==="on"&&!w._showSpikeInitial&&(E="off"))}else{var F=[w.r2l(w.range[0]),w.r2l(w.range[1])],H=[U*F[0]+z*F[1],U*F[1]+z*F[0]];x[N+".range[0]"]=w.l2r(H[0]),x[N+".range[1]"]=w.l2r(H[1])}}else C==="hovermode"&&(m==="x"||m==="y")&&(m=S._isHoriz?"y":"x",M.setAttribute("data-val",m)),x[C]=m;S._cartesianSpikesEnabled=E,g.call("_guiRelayout",d,x)}t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return p(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:L.zoombox,click:l},t.pan3d={name:"pan3d",_cat:"pan",title:function(d){return p(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:L.pan,click:l},t.orbitRotation={name:"orbitRotation",title:function(d){return p(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:L["3d_rotate"],click:l},t.tableRotation={name:"tableRotation",title:function(d){return p(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:L["z-axis"],click:l};function l(d,A){for(var M=A.currentTarget,C=M.getAttribute("data-attr"),m=M.getAttribute("data-val")||!0,S=d._fullLayout._subplots.gl3d||[],x={},a=C.split("."),E=0;E<S.length;E++)x[S[E]+"."+a[1]]=m;var w=m==="pan"?m:"zoom";x.dragmode=w,g.call("_guiRelayout",d,x)}t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return p(d,"Reset camera to default")},attr:"resetDefault",icon:L.home,click:n},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return p(d,"Reset camera to last save")},attr:"resetLastSave",icon:L.movie,click:n};function n(d,A){for(var M=A.currentTarget,C=M.getAttribute("data-attr"),m=C==="resetLastSave",S=C==="resetDefault",x=d._fullLayout,a=x._subplots.gl3d||[],E={},w=0;w<a.length;w++){var k=a[w],I=k+".camera",U=k+".aspectratio",z=k+".aspectmode",N=x[k]._scene,B;m?(E[I+".up"]=N.viewInitial.up,E[I+".eye"]=N.viewInitial.eye,E[I+".center"]=N.viewInitial.center,B=!0):S&&(E[I+".up"]=null,E[I+".eye"]=null,E[I+".center"]=null,B=!0),B&&(E[U+".x"]=N.viewInitial.aspectratio.x,E[U+".y"]=N.viewInitial.aspectratio.y,E[U+".z"]=N.viewInitial.aspectratio.z,E[z]=N.viewInitial.aspectmode)}g.call("_guiRelayout",d,E)}t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:c};function s(d,A){var M=A.currentTarget,C=M._previousVal,m=d._fullLayout,S=m._subplots.gl3d||[],x=["xaxis","yaxis","zaxis"],a={},E={};if(C)E=C,M._previousVal=null;else{for(var w=0;w<S.length;w++){var k=S[w],I=m[k],U=k+".hovermode";a[U]=I.hovermode,E[U]=!1;for(var z=0;z<3;z++){var N=x[z],B=k+"."+N+".showspikes";E[B]=!1,a[B]=I[N].showspikes}}M._previousVal=a}return E}function c(d,A){var M=s(d,A);g.call("_guiRelayout",d,M)}t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:u},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:u},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return p(d,"Reset")},attr:"reset",val:null,icon:L.autoscale,click:u},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h};function u(d,A){for(var M=A.currentTarget,C=M.getAttribute("data-attr"),m=M.getAttribute("data-val")||!0,S=d._fullLayout,x=S._subplots.geo||[],a=0;a<x.length;a++){var E=x[a],w=S[E];if(C==="zoom"){var k=w.projection.scale,I=m==="in"?2*k:.5*k;g.call("_guiRelayout",d,E+".projection.scale",I)}}C==="reset"&&o(d,"geo")}t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:h},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:L.tooltip_basic,gravity:"ne",click:h};function y(d){var A=d._fullLayout;return A.hovermode?!1:A._has("cartesian")?A._isHoriz?"y":"x":"closest"}function h(d){var A=y(d);g.call("_guiRelayout",d,"hovermode",A)}t.resetViewSankey={name:"resetSankeyGroup",title:function(d){return p(d,"Reset view")},icon:L.home,click:function(d){for(var A={"node.groups":[],"node.x":[],"node.y":[]},M=0;M<d._fullData.length;M++){var C=d._fullData[M]._viewInitial;A["node.groups"].push(C.node.groups.slice()),A["node.x"].push(C.node.x.slice()),A["node.y"].push(C.node.y.slice())}g.call("restyle",d,A)}},t.toggleHover={name:"toggleHover",title:function(d){return p(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:L.tooltip_basic,gravity:"ne",click:function(d,A){var M=s(d,A);M.hovermode=y(d),g.call("_guiRelayout",d,M)}},t.resetViews={name:"resetViews",title:function(d){return p(d,"Reset views")},icon:L.home,click:function(d,A){var M=A.currentTarget;M.setAttribute("data-attr","zoom"),M.setAttribute("data-val","reset"),r(d,A),M.setAttribute("data-attr","resetLastSave"),n(d,A),o(d,"geo"),o(d,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(d){return p(d,"Toggle Spike Lines")},icon:L.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var A=d._fullLayout,M=A._cartesianSpikesEnabled;A._cartesianSpikesEnabled=M==="on"?"off":"on",g.call("_guiRelayout",d,b(d))}};function b(d){for(var A=d._fullLayout,M=A._cartesianSpikesEnabled==="on",C=i.list(d,null,!0),m={},S=0;S<C.length;S++){var x=C[S];m[x._name+".showspikes"]=M?!0:x._showSpikeInitial}return m}t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return p(d,"Reset view")},attr:"reset",icon:L.home,click:function(d){o(d,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return p(d,"Zoom in")},attr:"zoom",val:"in",icon:L.zoom_plus,click:f},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return p(d,"Zoom out")},attr:"zoom",val:"out",icon:L.zoom_minus,click:f};function f(d,A){for(var M=A.currentTarget,C=M.getAttribute("data-val"),m=d._fullLayout,S=m._subplots.mapbox||[],x=1.05,a={},E=0;E<S.length;E++){var w=S[E],k=m[w].zoom,I=C==="in"?x*k:k/x;a[w+".zoom"]=I}g.call("_guiRelayout",d,a)}function o(d,A){for(var M=d._fullLayout,C=M._subplots[A]||[],m={},S=0;S<C.length;S++)for(var x=C[S],a=M[x]._subplot,E=a.viewInitial,w=Object.keys(E),k=0;k<w.length;k++){var I=w[k];m[x+"."+I]=E[I]}g.call("_guiRelayout",d,m)}},93348:function(G,V,e){var g=e(26023),R=Object.keys(g),i=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],L=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(i),T=[],v=function(p){if(L.indexOf(p._cat||p.name)===-1){var t=p.name,r=(p._cat||p.name).toLowerCase();T.indexOf(t)===-1&&T.push(t),T.indexOf(r)===-1&&T.push(r)}};R.forEach(function(p){v(g[p])}),T.sort(),G.exports={DRAW_MODES:i,backButtons:L,foreButtons:T}},35750:function(G,V,e){var g=e(71828),R=e(7901),i=e(44467),L=e(42068);G.exports=function(v,p){var t=v.modebar||{},r=i.newContainer(p,"modebar");function l(s,c){return g.coerce(t,r,L,s,c)}l("orientation"),l("bgcolor",R.addOpacity(p.paper_bgcolor,.5));var n=R.contrast(R.rgb(p.modebar.bgcolor));l("color",R.addOpacity(n,.3)),l("activecolor",R.addOpacity(n,.7)),l("uirevision",p.uirevision),l("add"),l("remove")}},64168:function(G,V,e){G.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(G,V,e){var g=e(41675),R=e(34098),i=e(73972),L=e(23469).isUnifiedHover,T=e(37676),v=e(26023),p=e(93348).DRAW_MODES,t=e(71828).extendDeep;G.exports=function(h){var b=h._fullLayout,f=h._context,o=b._modeBar;if(!f.displayModeBar&&!f.watermark){o&&(o.destroy(),delete b._modeBar);return}if(!Array.isArray(f.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(f.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=f.modeBarButtons,A;Array.isArray(d)&&d.length?A=u(d):!f.displayModeBar&&f.watermark?A=[]:A=r(h),o?o.update(h,A):b._modeBar=T(h,A)};function r(y){var h=y._fullLayout,b=y._fullData,f=y._context;function o(Q,ee){if(typeof ee=="string"){if(ee.toLowerCase()===Q.toLowerCase())return!0}else{var le=ee.name,ie=ee._cat||ee.name;if(le===Q||ie===Q.toLowerCase())return!0}return!1}var d=h.modebar.add;typeof d=="string"&&(d=[d]);var A=h.modebar.remove;typeof A=="string"&&(A=[A]);var M=f.modeBarButtonsToAdd.concat(d.filter(function(Q){for(var ee=0;ee<f.modeBarButtonsToRemove.length;ee++)if(o(Q,f.modeBarButtonsToRemove[ee]))return!1;return!0})),C=f.modeBarButtonsToRemove.concat(A.filter(function(Q){for(var ee=0;ee<f.modeBarButtonsToAdd.length;ee++)if(o(Q,f.modeBarButtonsToAdd[ee]))return!1;return!0})),m=h._has("cartesian"),S=h._has("gl3d"),x=h._has("geo"),a=h._has("pie"),E=h._has("funnelarea"),w=h._has("gl2d"),k=h._has("ternary"),I=h._has("mapbox"),U=h._has("polar"),z=h._has("smith"),N=h._has("sankey"),B=l(h),F=L(h.hovermode),H=[];function X(Q){if(Q.length){for(var ee=[],le=0;le<Q.length;le++){for(var ie=Q[le],he=v[ie],xe=he.name.toLowerCase(),Se=(he._cat||he.name).toLowerCase(),Ee=!1,Ne=0;Ne<C.length;Ne++){var He=C[Ne].toLowerCase();if(He===xe||He===Se){Ee=!0;break}}Ee||ee.push(v[ie])}H.push(ee)}}var q=["toImage"];f.showEditInChartStudio?q.push("editInChartStudio"):f.showSendToCloud&&q.push("sendDataToCloud"),X(q);var ne=[],oe=[],ve=[],J=[];(m||w||a||E||k)+x+S+I+U+z>1?(oe=["toggleHover"],ve=["resetViews"]):x?(ne=["zoomInGeo","zoomOutGeo"],oe=["hoverClosestGeo"],ve=["resetGeo"]):S?(oe=["hoverClosest3d"],ve=["resetCameraDefault3d","resetCameraLastSave3d"]):I?(ne=["zoomInMapbox","zoomOutMapbox"],oe=["toggleHover"],ve=["resetViewMapbox"]):w?oe=["hoverClosestGl2d"]:a?oe=["hoverClosestPie"]:N?(oe=["hoverClosestCartesian","hoverCompareCartesian"],ve=["resetViewSankey"]):oe=["toggleHover"],m&&(oe=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(s(b)||F)&&(oe=[]),(m||w)&&!B&&(ne=["zoomIn2d","zoomOut2d","autoScale2d"],ve[0]!=="resetViews"&&(ve=["resetScale2d"])),S?J=["zoom3d","pan3d","orbitRotation","tableRotation"]:(m||w)&&!B||k?J=["zoom2d","pan2d"]:I||x?J=["pan2d"]:U&&(J=["zoom2d"]),n(b)&&J.push("select2d","lasso2d");var Y=[],j=function(Q){Y.indexOf(Q)===-1&&oe.indexOf(Q)!==-1&&Y.push(Q)};if(Array.isArray(M)){for(var K=[],te=0;te<M.length;te++){var se=M[te];typeof se=="string"?(se=se.toLowerCase(),p.indexOf(se)!==-1?(h._has("mapbox")||h._has("cartesian"))&&J.push(se):se==="togglespikelines"?j("toggleSpikelines"):se==="togglehover"?j("toggleHover"):se==="hovercompare"?j("hoverCompareCartesian"):se==="hoverclosest"?(j("hoverClosestCartesian"),j("hoverClosestGeo"),j("hoverClosest3d"),j("hoverClosestGl2d"),j("hoverClosestPie")):se==="v1hovermode"&&(j("toggleHover"),j("hoverClosestCartesian"),j("hoverCompareCartesian"),j("hoverClosestGeo"),j("hoverClosest3d"),j("hoverClosestGl2d"),j("hoverClosestPie"))):K.push(se)}M=K}return X(J),X(ne.concat(ve)),X(Y),c(H,M)}function l(y){for(var h=g.list({_fullLayout:y},null,!0),b=0;b<h.length;b++)if(!h[b].fixedrange)return!1;return!0}function n(y){for(var h=!1,b=0;b<y.length&&!h;b++){var f=y[b];!f._module||!f._module.selectPoints||(i.traceIs(f,"scatter-like")?(R.hasMarkers(f)||R.hasText(f))&&(h=!0):i.traceIs(f,"box-violin")?(f.boxpoints==="all"||f.points==="all")&&(h=!0):h=!0)}return h}function s(y){for(var h=0;h<y.length;h++)if(!i.traceIs(y[h],"noHover"))return!1;return!0}function c(y,h){if(h.length)if(Array.isArray(h[0]))for(var b=0;b<h.length;b++)y.push(h[b]);else y.push(h);return y}function u(y){for(var h=t([],y),b=0;b<h.length;b++)for(var f=h[b],o=0;o<f.length;o++){var d=f[o];if(typeof d=="string")if(v[d]!==void 0)h[b][o]=v[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return h}},37676:function(G,V,e){var g=e(39898),R=e(92770),i=e(71828),L=e(24255),T=e(11506).version,v=new DOMParser;function p(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var t=p.prototype;t.update=function(n,s){this.graphInfo=n;var c=this.graphInfo._context,u=this.graphInfo._fullLayout,y="modebar-"+u._uid;this.element.setAttribute("id",y),this._uid=y,this.element.className="modebar",c.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),u.modebar.orientation==="v"&&(this.element.className+=" vertical",s=s.reverse());var h=u.modebar,b=c.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(y),i.addRelatedStyleRule(y,b+"#"+y+" .modebar-group","background-color: "+h.bgcolor),i.addRelatedStyleRule(y,"#"+y+" .modebar-btn .icon path","fill: "+h.color),i.addRelatedStyleRule(y,"#"+y+" .modebar-btn:hover .icon path","fill: "+h.activecolor),i.addRelatedStyleRule(y,"#"+y+" .modebar-btn.active .icon path","fill: "+h.activecolor);var f=!this.hasButtons(s),o=this.hasLogo!==c.displaylogo,d=this.locale!==c.locale;if(this.locale=c.locale,(f||o||d)&&(this.removeAllButtons(),this.updateButtons(s),c.watermark||c.displaylogo)){var A=this.getLogo();c.watermark&&(A.className=A.className+" watermark"),u.modebar.orientation==="v"?this.element.insertBefore(A,this.element.childNodes[0]):this.element.appendChild(A),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(n){var s=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(c){var u=s.createGroup();c.forEach(function(y){var h=y.name;if(!h)throw new Error("must provide button 'name' in button config");if(s.buttonsNames.indexOf(h)!==-1)throw new Error("button name '"+h+"' is taken");s.buttonsNames.push(h);var b=s.createButton(y);s.buttonElements.push(b),u.appendChild(b)}),s.element.appendChild(u)})},t.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},t.createButton=function(n){var s=this,c=document.createElement("a");c.setAttribute("rel","tooltip"),c.className="modebar-btn";var u=n.title;u===void 0?u=n.name:typeof u=="function"&&(u=u(this.graphInfo)),(u||u===0)&&c.setAttribute("data-title",u),n.attr!==void 0&&c.setAttribute("data-attr",n.attr);var y=n.val;y!==void 0&&(typeof y=="function"&&(y=y(this.graphInfo)),c.setAttribute("data-val",y));var h=n.click;if(typeof h!="function")throw new Error("must provide button 'click' function in button config");c.addEventListener("click",function(f){n.click(s.graphInfo,f),s.updateActiveButton(f.currentTarget)}),c.setAttribute("data-toggle",n.toggle||!1),n.toggle&&g.select(c).classed("active",!0);var b=n.icon;return typeof b=="function"?c.appendChild(b()):c.appendChild(this.createIcon(b||L.question)),c.setAttribute("data-gravity",n.gravity||"n"),c},t.createIcon=function(n){var s=R(n.height)?Number(n.height):n.ascent-n.descent,c="http://www.w3.org/2000/svg",u;if(n.path){u=document.createElementNS(c,"svg"),u.setAttribute("viewBox",[0,0,n.width,s].join(" ")),u.setAttribute("class","icon");var y=document.createElementNS(c,"path");y.setAttribute("d",n.path),n.transform?y.setAttribute("transform",n.transform):n.ascent!==void 0&&y.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),u.appendChild(y)}if(n.svg){var h=v.parseFromString(n.svg,"application/xml");u=h.childNodes[0]}return u.setAttribute("height","1em"),u.setAttribute("width","1em"),u},t.updateActiveButton=function(n){var s=this.graphInfo._fullLayout,c=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(u){var y=u.getAttribute("data-val")||!0,h=u.getAttribute("data-attr"),b=u.getAttribute("data-toggle")==="true",f=g.select(u);if(b)h===c&&f.classed("active",!f.classed("active"));else{var o=h===null?h:i.nestedProperty(s,h).get();f.classed("active",o===y)}})},t.hasButtons=function(n){var s=this.buttons;if(!s||n.length!==s.length)return!1;for(var c=0;c<n.length;++c){if(n[c].length!==s[c].length)return!1;for(var u=0;u<n[c].length;u++)if(n[c][u].name!==s[c][u].name)return!1}return!0};function r(n){return n+" (v"+T+")"}t.getLogo=function(){var n=this.createGroup(),s=document.createElement("a");return s.href="https://plotly.com/",s.target="_blank",s.setAttribute("data-title",r(i._(this.graphInfo,"Produced with Plotly.js"))),s.className="modebar-btn plotlyjsicon modebar-btn--logo",s.appendChild(this.createIcon(L.newplotlylogo)),n.appendChild(s),n},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)};function l(n,s){var c=n._fullLayout,u=new p({graphInfo:n,container:c._modebardiv.node(),buttons:s});return c._privateplot&&g.select(u.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),u}G.exports=l},37113:function(G,V,e){var g=e(41940),R=e(22399),i=e(44467).templatedArray,L=i("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});G.exports={visible:{valType:"boolean",editType:"plot"},buttons:L,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:g({editType:"plot"}),bgcolor:{valType:"color",dflt:R.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:R.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(G){G.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(G,V,e){var g=e(71828),R=e(7901),i=e(44467),L=e(85501),T=e(37113),v=e(89573);G.exports=function(l,n,s,c,u){var y=l.rangeselector||{},h=i.newContainer(n,"rangeselector");function b(M,C){return g.coerce(y,h,T,M,C)}var f=L(y,h,{name:"buttons",handleItemDefaults:p,calendar:u}),o=b("visible",f.length>0);if(o){var d=t(n,s,c);b("x",d[0]),b("y",d[1]),g.noneOrAll(l,n,["x","y"]),b("xanchor"),b("yanchor"),g.coerceFont(b,"font",s.font);var A=b("bgcolor");b("activecolor",R.contrast(A,v.lightAmount,v.darkAmount)),b("bordercolor"),b("borderwidth")}};function p(r,l,n,s){var c=s.calendar;function u(b,f){return g.coerce(r,l,T.buttons,b,f)}var y=u("visible");if(y){var h=u("step");h!=="all"&&(c&&c!=="gregorian"&&(h==="month"||h==="year")?l.stepmode="backward":u("stepmode"),u("count")),u("label")}}function t(r,l,n){for(var s=n.filter(function(h){return l[h].anchor===r._id}),c=0,u=0;u<s.length;u++){var y=l[s[u]].domain;y&&(c=Math.max(y[1],c))}return[r.domain[0],c+v.yPad]}},21598:function(G,V,e){var g=e(39898),R=e(73972),i=e(74875),L=e(7901),T=e(91424),v=e(71828),p=v.strTranslate,t=e(63893),r=e(41675),l=e(18783),n=l.LINE_SPACING,s=l.FROM_TL,c=l.FROM_BR,u=e(89573),y=e(70565);G.exports=function(S){var x=S._fullLayout,a=x._infolayer.selectAll(".rangeselector").data(h(S),b);a.enter().append("g").classed("rangeselector",!0),a.exit().remove(),a.style({cursor:"pointer","pointer-events":"all"}),a.each(function(E){var w=g.select(this),k=E,I=k.rangeselector,U=w.selectAll("g.button").data(v.filterVisible(I.buttons));U.enter().append("g").classed("button",!0),U.exit().remove(),U.each(function(z){var N=g.select(this),B=y(k,z);z._isActive=f(k,z,B),N.call(o,I,z),N.call(A,I,z,S),N.on("click",function(){S._dragged||R.call("_guiRelayout",S,B)}),N.on("mouseover",function(){z._isHovered=!0,N.call(o,I,z)}),N.on("mouseout",function(){z._isHovered=!1,N.call(o,I,z)})}),C(S,U,I,k._name,w)})};function h(m){for(var S=r.list(m,"x",!0),x=[],a=0;a<S.length;a++){var E=S[a];E.rangeselector&&E.rangeselector.visible&&x.push(E)}return x}function b(m){return m._id}function f(m,S,x){if(S.step==="all")return m.autorange===!0;var a=Object.keys(x);return m.range[0]===x[a[0]]&&m.range[1]===x[a[1]]}function o(m,S,x){var a=v.ensureSingle(m,"rect","selector-rect",function(E){E.attr("shape-rendering","crispEdges")});a.attr({rx:u.rx,ry:u.ry}),a.call(L.stroke,S.bordercolor).call(L.fill,d(S,x)).style("stroke-width",S.borderwidth+"px")}function d(m,S){return S._isActive||S._isHovered?m.activecolor:m.bgcolor}function A(m,S,x,a){function E(k){t.convertToTspans(k,a)}var w=v.ensureSingle(m,"text","selector-text",function(k){k.attr("text-anchor","middle")});w.call(T.font,S.font).text(M(x,a._fullLayout._meta)).call(E)}function M(m,S){return m.label?S?v.templateString(m.label,S):m.label:m.step==="all"?"all":m.count+m.step.charAt(0)}function C(m,S,x,a,E){var w=0,k=0,I=x.borderwidth;S.each(function(){var H=g.select(this),X=H.select(".selector-text"),q=x.font.size*n,ne=Math.max(q*t.lineCount(X),16)+3;k=Math.max(k,ne)}),S.each(function(){var H=g.select(this),X=H.select(".selector-rect"),q=H.select(".selector-text"),ne=q.node()&&T.bBox(q.node()).width,oe=x.font.size*n,ve=t.lineCount(q),J=Math.max(ne+10,u.minButtonWidth);H.attr("transform",p(I+w,I)),X.attr({x:0,y:0,width:J,height:k}),t.positionText(q,J/2,k/2-(ve-1)*oe/2+3),w+=J+5});var U=m._fullLayout._size,z=U.l+U.w*x.x,N=U.t+U.h*(1-x.y),B="left";v.isRightAnchor(x)&&(z-=w,B="right"),v.isCenterAnchor(x)&&(z-=w/2,B="center");var F="top";v.isBottomAnchor(x)&&(N-=k,F="bottom"),v.isMiddleAnchor(x)&&(N-=k/2,F="middle"),w=Math.ceil(w),k=Math.ceil(k),z=Math.round(z),N=Math.round(N),i.autoMargin(m,a+"-range-selector",{x:x.x,y:x.y,l:w*s[B],r:w*c[B],b:k*c[F],t:k*s[F]}),E.attr("transform",p(z,N))}},70565:function(G,V,e){var g=e(81041),R=e(71828).titleCase;G.exports=function(T,v){var p=T._name,t={};if(v.step==="all")t[p+".autorange"]=!0;else{var r=i(T,v);t[p+".range[0]"]=r[0],t[p+".range[1]"]=r[1]}return t};function i(L,T){var v=L.range,p=new Date(L.r2l(v[1])),t=T.step,r=g["utc"+R(t)],l=T.count,n;switch(T.stepmode){case"backward":n=L.l2r(+r.offset(p,-l));break;case"todate":var s=r.offset(p,-l);n=L.l2r(+r.ceil(s));break}var c=v[1];return[n,c]}},97218:function(G,V,e){G.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(G,V,e){var g=e(22399);G.exports={bgcolor:{valType:"color",dflt:g.background,editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(G,V,e){var g=e(41675).list,R=e(71739).getAutoRange,i=e(73251);G.exports=function(T){for(var v=g(T,"x",!0),p=0;p<v.length;p++){var t=v[p],r=t[i.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=R(T,t))}}},73251:function(G){G.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(G,V,e){var g=e(71828),R=e(44467),i=e(41675),L=e(75148),T=e(47850);G.exports=function(p,t,r){var l=p[r],n=t[r];if(!(l.rangeslider||t._requestRangeslider[n._id]))return;g.isPlainObject(l.rangeslider)||(l.rangeslider={});var s=l.rangeslider,c=R.newContainer(n,"rangeslider");function u(a,E){return g.coerce(s,c,L,a,E)}var y,h;function b(a,E){return g.coerce(y,h,T,a,E)}var f=u("visible");if(f){u("bgcolor",t.plot_bgcolor),u("bordercolor"),u("borderwidth"),u("thickness"),u("autorange",!n.isValidRange(s.range)),u("range");var o=t._subplots;if(o)for(var d=o.cartesian.filter(function(a){return a.substr(0,a.indexOf("y"))===i.name2id(r)}).map(function(a){return a.substr(a.indexOf("y"),a.length)}),A=g.simpleMap(d,i.id2name),M=0;M<A.length;M++){var C=A[M];y=s[C]||{},h=R.newContainer(c,C,"yaxis");var m=t[C],S;y.range&&m.isValidRange(y.range)&&(S="fixed");var x=b("rangemode",S);x!=="match"&&b("range",m.range.slice())}c._input=s}}},72413:function(G,V,e){var g=e(39898),R=e(73972),i=e(74875),L=e(71828),T=L.strTranslate,v=e(91424),p=e(7901),t=e(92998),r=e(93612),l=e(41675),n=e(28569),s=e(6964),c=e(73251);G.exports=function(m){for(var S=m._fullLayout,x=S._rangeSliderData,a=0;a<x.length;a++){var E=x[a][c.name];E._clipId=E._id+"-"+S._uid}function w(I){return I._name}var k=S._infolayer.selectAll("g."+c.containerClassName).data(x,w);k.exit().each(function(I){var U=I[c.name];S._topdefs.select("#"+U._clipId).remove()}).remove(),x.length!==0&&(k.enter().append("g").classed(c.containerClassName,!0).attr("pointer-events","all"),k.each(function(I){var U=g.select(this),z=I[c.name],N=S[l.id2name(I.anchor)],B=z[l.id2name(I.anchor)];if(z.range){var F=L.simpleMap(z.range,I.r2l),H=L.simpleMap(I.range,I.r2l),X;H[0]<H[1]?X=[Math.min(F[0],H[0]),Math.max(F[1],H[1])]:X=[Math.max(F[0],H[0]),Math.min(F[1],H[1])],z.range=z._input.range=L.simpleMap(X,I.l2r)}I.cleanRange("rangeslider.range");var q=S._size,ne=I.domain;z._width=q.w*(ne[1]-ne[0]);var oe=Math.round(q.l+q.w*ne[0]),ve=Math.round(q.t+q.h*(1-I._counterDomainMin)+(I.side==="bottom"?I._depth:0)+z._offsetShift+c.extraPad);U.attr("transform",T(oe,ve)),z._rl=L.simpleMap(z.range,I.r2l);var J=z._rl[0],Y=z._rl[1],j=Y-J;if(z.p2d=function(Se){return Se/z._width*j+J},z.d2p=function(Se){return(Se-J)/j*z._width},I.rangebreaks){var K=I.locateBreaks(J,Y);if(K.length){var te,se,Q=0;for(te=0;te<K.length;te++)se=K[te],Q+=se.max-se.min;var ee=z._width/(Y-J-Q),le=[-ee*J];for(te=0;te<K.length;te++)se=K[te],le.push(le[le.length-1]-ee*(se.max-se.min));for(z.d2p=function(Se){for(var Ee=le[0],Ne=0;Ne<K.length;Ne++){var He=K[Ne];if(Se>=He.max)Ee=le[Ne+1];else if(Se<He.min)break}return Ee+ee*Se},te=0;te<K.length;te++)se=K[te],se.pmin=z.d2p(se.min),se.pmax=z.d2p(se.max);z.p2d=function(Se){for(var Ee=le[0],Ne=0;Ne<K.length;Ne++){var He=K[Ne];if(Se>=He.pmax)Ee=le[Ne+1];else if(Se<He.pmin)break}return(Se-Ee)/ee}}}if(B.rangemode!=="match"){var ie=N.r2l(B.range[0]),he=N.r2l(B.range[1]),xe=he-ie;z.d2pOppAxis=function(Se){return(Se-ie)/xe*z._height}}U.call(b,m,I,z).call(f,m,I,z).call(o,m,I,z).call(A,m,I,z,B).call(M,m,I,z).call(C,m,I,z),u(U,m,I,z),h(U,m,I,z,N,B),I.side==="bottom"&&t.draw(m,I._id+"title",{propContainer:I,propName:I._name+".title",placeholder:S._dfltTitle.x,attributes:{x:I._offset+I._length/2,y:ve+z._height+z._offsetShift+10+1.5*I.title.font.size,"text-anchor":"middle"}})}))};function u(m,S,x,a){if(S._context.staticPlot)return;var E=m.select("rect."+c.slideBoxClassName).node(),w=m.select("rect."+c.grabAreaMinClassName).node(),k=m.select("rect."+c.grabAreaMaxClassName).node();function I(){var U=g.event,z=U.target,N=U.clientX||U.touches[0].clientX,B=N-m.node().getBoundingClientRect().left,F=a.d2p(x._rl[0]),H=a.d2p(x._rl[1]),X=n.coverSlip();this.addEventListener("touchmove",q),this.addEventListener("touchend",ne),X.addEventListener("mousemove",q),X.addEventListener("mouseup",ne);function q(oe){var ve=oe.clientX||oe.touches[0].clientX,J=+ve-N,Y,j,K;switch(z){case E:if(K="ew-resize",F+J>x._length||H+J<0)return;Y=F+J,j=H+J;break;case w:if(K="col-resize",F+J>x._length)return;Y=F+J,j=H;break;case k:if(K="col-resize",H+J<0)return;Y=F,j=H+J;break;default:K="ew-resize",Y=B,j=B+J;break}if(j<Y){var te=j;j=Y,Y=te}a._pixelMin=Y,a._pixelMax=j,s(g.select(X),K),y(m,S,x,a)}function ne(){X.removeEventListener("mousemove",q),X.removeEventListener("mouseup",ne),this.removeEventListener("touchmove",q),this.removeEventListener("touchend",ne),L.removeElement(X)}}m.on("mousedown",I),m.on("touchstart",I)}function y(m,S,x,a){function E(I){return x.l2r(L.constrain(I,a._rl[0],a._rl[1]))}var w=E(a.p2d(a._pixelMin)),k=E(a.p2d(a._pixelMax));window.requestAnimationFrame(function(){R.call("_guiRelayout",S,x._name+".range",[w,k])})}function h(m,S,x,a,E,w){var k=c.handleWidth/2;function I(oe){return L.constrain(oe,0,a._width)}function U(oe){return L.constrain(oe,0,a._height)}function z(oe){return L.constrain(oe,-k,a._width+k)}var N=I(a.d2p(x._rl[0])),B=I(a.d2p(x._rl[1]));if(m.select("rect."+c.slideBoxClassName).attr("x",N).attr("width",B-N),m.select("rect."+c.maskMinClassName).attr("width",N),m.select("rect."+c.maskMaxClassName).attr("x",B).attr("width",a._width-B),w.rangemode!=="match"){var F=a._height-U(a.d2pOppAxis(E._rl[1])),H=a._height-U(a.d2pOppAxis(E._rl[0]));m.select("rect."+c.maskMinOppAxisClassName).attr("x",N).attr("height",F).attr("width",B-N),m.select("rect."+c.maskMaxOppAxisClassName).attr("x",N).attr("y",H).attr("height",a._height-H).attr("width",B-N),m.select("rect."+c.slideBoxClassName).attr("y",F).attr("height",H-F)}var X=.5,q=Math.round(z(N-k))-X,ne=Math.round(z(B-k))+X;m.select("g."+c.grabberMinClassName).attr("transform",T(q,X)),m.select("g."+c.grabberMaxClassName).attr("transform",T(ne,X))}function b(m,S,x,a){var E=L.ensureSingle(m,"rect",c.bgClassName,function(U){U.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),w=a.borderwidth%2===0?a.borderwidth:a.borderwidth-1,k=-a._offsetShift,I=v.crispRound(S,a.borderwidth);E.attr({width:a._width+w,height:a._height+w,transform:T(k,k),"stroke-width":I}).call(p.stroke,a.bordercolor).call(p.fill,a.bgcolor)}function f(m,S,x,a){var E=S._fullLayout,w=L.ensureSingleById(E._topdefs,"clipPath",a._clipId,function(k){k.append("rect").attr({x:0,y:0})});w.select("rect").attr({width:a._width,height:a._height})}function o(m,S,x,a){var E=S.calcdata,w=m.selectAll("g."+c.rangePlotClassName).data(x._subplotsWith,L.identity);w.enter().append("g").attr("class",function(I){return c.rangePlotClassName+" "+I}).call(v.setClipUrl,a._clipId,S),w.order(),w.exit().remove();var k;w.each(function(I,U){var z=g.select(this),N=U===0,B=l.getFromId(S,I,"y"),F=B._name,H=a[F],X={data:[],layout:{xaxis:{type:x.type,domain:[0,1],range:a.range.slice(),calendar:x.calendar},width:a._width,height:a._height,margin:{t:0,b:0,l:0,r:0}},_context:S._context};x.rangebreaks&&(X.layout.xaxis.rangebreaks=x.rangebreaks),X.layout[F]={type:B.type,domain:[0,1],range:H.rangemode!=="match"?H.range.slice():B.range.slice(),calendar:B.calendar},B.rangebreaks&&(X.layout[F].rangebreaks=B.rangebreaks),i.supplyDefaults(X);var q=X._fullLayout.xaxis,ne=X._fullLayout[F];q.clearCalc(),q.setScale(),ne.clearCalc(),ne.setScale();var oe={id:I,plotgroup:z,xaxis:q,yaxis:ne,isRangePlot:!0};N?k=oe:(oe.mainplot="xy",oe.mainplotinfo=k),r.rangePlot(S,oe,d(E,I))})}function d(m,S){for(var x=[],a=0;a<m.length;a++){var E=m[a],w=E[0].trace;w.xaxis+w.yaxis===S&&x.push(E)}return x}function A(m,S,x,a,E){var w=L.ensureSingle(m,"rect",c.maskMinClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})});w.attr("height",a._height).call(p.fill,c.maskColor);var k=L.ensureSingle(m,"rect",c.maskMaxClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});if(k.attr("height",a._height).call(p.fill,c.maskColor),E.rangemode!=="match"){var I=L.ensureSingle(m,"rect",c.maskMinOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});I.attr("width",a._width).call(p.fill,c.maskOppAxisColor);var U=L.ensureSingle(m,"rect",c.maskMaxOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});U.attr("width",a._width).style("border-top",c.maskOppBorder).call(p.fill,c.maskOppAxisColor)}}function M(m,S,x,a){if(!S._context.staticPlot){var E=L.ensureSingle(m,"rect",c.slideBoxClassName,function(w){w.attr({y:0,cursor:c.slideBoxCursor,"shape-rendering":"crispEdges"})});E.attr({height:a._height,fill:c.slideBoxFill})}}function C(m,S,x,a){var E=L.ensureSingle(m,"g",c.grabberMinClassName),w=L.ensureSingle(m,"g",c.grabberMaxClassName),k={x:0,width:c.handleWidth,rx:c.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":c.handleStrokeWidth,"shape-rendering":"crispEdges"},I={y:Math.round(a._height/4),height:Math.round(a._height/2)},U=L.ensureSingle(E,"rect",c.handleMinClassName,function(H){H.attr(k)});U.attr(I);var z=L.ensureSingle(w,"rect",c.handleMaxClassName,function(H){H.attr(k)});z.attr(I);var N={width:c.grabAreaWidth,x:0,y:0,fill:c.grabAreaFill,cursor:S._context.staticPlot?void 0:c.grabAreaCursor},B=L.ensureSingle(E,"rect",c.grabAreaMinClassName,function(H){H.attr(N)});B.attr("height",a._height);var F=L.ensureSingle(w,"rect",c.grabAreaMaxClassName,function(H){H.attr(N)});F.attr("height",a._height)}},549:function(G,V,e){var g=e(41675),R=e(63893),i=e(73251),L=e(18783).LINE_SPACING,T=i.name;function v(p){var t=p&&p[T];return t&&t.visible}V.isVisible=v,V.makeData=function(p){var t=g.list({_fullLayout:p},"x",!0),r=p.margin,l=[];if(!p._has("gl2d"))for(var n=0;n<t.length;n++){var s=t[n];if(v(s)){l.push(s);var c=s[T];c._id=T+s._id,c._height=(p.height-r.b-r.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}p._rangeSliderData=l},V.autoMarginOpts=function(p,t){var r=p._fullLayout,l=t[T],n=t._id.charAt(0),s=0,c=0;if(t.side==="bottom"&&(s=t._depth,t.title.text!==r._dfltTitle[n])){c=1.5*t.title.font.size+10+l._offsetShift;var u=(t.title.text.match(R.BR_TAG_ALL)||[]).length;c+=u*t.title.font.size*L}return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:l._height+s+Math.max(r.margin.b,c),pad:i.extraPad+l._offsetShift*2}}},13137:function(G,V,e){var g=e(71828),R=e(75148),i=e(47850),L=e(549);G.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:g.extendFlat({},R,{yaxis:i})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:L.isVisible,makeData:L.makeData,autoMarginOpts:L.autoMarginOpts}},47850:function(G){G.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(G,V,e){var g=e(50215),R=e(82196).line,i=e(79952).P,L=e(1426).extendFlat,T=e(30962).overrideAll,v=e(44467).templatedArray;e(24695),G.exports=T(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:L({},g.xref,{}),yref:L({},g.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:R.color,width:L({},R.width,{min:1,dflt:1}),dash:L({},i,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(G){G.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(G,V,e){var g=e(71828),R=e(89298),i=e(85501),L=e(8389),T=e(30477);G.exports=function(t,r){i(t,r,{name:"selections",handleItemDefaults:v});for(var l=r.selections,n=0;n<l.length;n++){var s=l[n];s&&s.path===void 0&&(s.x0===void 0||s.x1===void 0||s.y0===void 0||s.y1===void 0)&&(r.selections[n]=null)}};function v(p,t,r){function l(w,k){return g.coerce(p,t,L,w,k)}var n=l("path"),s=n?"path":"rect",c=l("type",s),u=c!=="path";u&&delete t.path,l("opacity"),l("line.color"),l("line.width"),l("line.dash");for(var y=["x","y"],h=0;h<2;h++){var b=y[h],f={_fullLayout:r},o,d,A,M=R.coerceRef(p,t,f,b);if(o=R.getFromId(f,M),o._selectionIndices.push(t._index),A=T.rangeToShapePosition(o),d=T.shapePositionToRange(o),u){var C=b+"0",m=b+"1",S=p[C],x=p[m];p[C]=d(p[C],!0),p[m]=d(p[m],!0),R.coercePosition(t,f,l,M,C),R.coercePosition(t,f,l,M,m);var a=t[C],E=t[m];a!==void 0&&E!==void 0&&(t[C]=A(a),t[m]=A(E),p[C]=S,p[m]=x)}}u&&g.noneOrAll(p,t,["x0","x1","y0","y1"])}},32485:function(G,V,e){var g=e(60165).readPaths,R=e(42359),i=e(51873).clearOutlineControllers,L=e(7901),T=e(91424),v=e(44467).arrayEditor,p=e(30477),t=p.getPathString;G.exports={draw:r,drawOne:n,activateLastSelection:u};function r(h){var b=h._fullLayout;i(h),b._selectionLayer.selectAll("path").remove();for(var f in b._plots){var o=b._plots[f].selectionLayer;o&&o.selectAll("path").remove()}for(var d=0;d<b.selections.length;d++)n(h,d)}function l(h){return h._context.editSelection}function n(h,b){h._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+b+'"]').remove();var f=p.makeSelectionsOptionsAndPlotinfo(h,b),o=f.options,d=f.plotinfo;if(!o._input)return;A(h._fullLayout._selectionLayer);function A(M){var C=t(h,o),m={"data-index":b,"fill-rule":"evenodd",d:C},S=o.opacity,x="rgba(0,0,0,0)",a=o.line.color||L.contrast(h._fullLayout.plot_bgcolor),E=o.line.width,w=o.line.dash;E||(E=5,w="solid");var k=l(h)&&h._fullLayout._activeSelectionIndex===b;k&&(x=h._fullLayout.activeselection.fillcolor,S=h._fullLayout.activeselection.opacity);for(var I=[],U=1;U>=0;U--){var z=M.append("path").attr(m).style("opacity",U?.1:S).call(L.stroke,a).call(L.fill,x).call(T.dashLine,U?"solid":w,U?4+E:E);if(s(z,h,o),k){var N=v(h.layout,"selections",o);z.style({cursor:"move"});var B={element:z.node(),plotinfo:d,gd:h,editHelpers:N,isActiveSelection:!0},F=g(C,h);R(F,z,B)}else z.style("pointer-events",U?"all":"none");I[U]=z}var H=I[0],X=I[1];X.node().addEventListener("click",function(){return c(h,H)})}}function s(h,b,f){var o=f.xref+f.yref;T.setClipUrl(h,"clip"+b._fullLayout._uid+o,b)}function c(h,b){if(l(h)){var f=b.node(),o=+f.getAttribute("data-index");if(o>=0){if(o===h._fullLayout._activeSelectionIndex){y(h);return}h._fullLayout._activeSelectionIndex=o,h._fullLayout._deactivateSelection=y,r(h)}}}function u(h){if(l(h)){var b=h._fullLayout.selections.length-1;h._fullLayout._activeSelectionIndex=b,h._fullLayout._deactivateSelection=y,r(h)}}function y(h){if(l(h)){var b=h._fullLayout._activeSelectionIndex;b>=0&&(i(h),delete h._fullLayout._activeSelectionIndex,r(h))}}},53777:function(G,V,e){var g=e(79952).P,R=e(1426).extendFlat;G.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:R({},g,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(G){G.exports=function(e,g,R){R("newselection.mode");var i=R("newselection.line.width");i&&(R("newselection.line.color"),R("newselection.line.dash")),R("activeselection.fillcolor"),R("activeselection.opacity")}},35855:function(G,V,e){var g=e(64505),R=g.selectMode,i=e(51873),L=i.clearOutline,T=e(60165),v=T.readPaths,p=T.writePaths,t=T.fixDatesForPaths;G.exports=function(l,n){if(l.length){var s=l[0][0];if(s){var c=s.getAttribute("d"),u=n.gd,y=u._fullLayout.newselection,h=n.plotinfo,b=h.xaxis,f=h.yaxis,o=n.isActiveSelection,d=n.dragmode,A=(u.layout||{}).selections||[];if(!R(d)&&o!==void 0){var M=u._fullLayout._activeSelectionIndex;if(M<A.length)switch(u._fullLayout.selections[M].type){case"rect":d="select";break;case"path":d="lasso";break}}var C=v(c,u,h,o),m={xref:b._id,yref:f._id,opacity:y.opacity,line:{color:y.line.color,width:y.line.width,dash:y.line.dash}},S;C.length===1&&(S=C[0]),S&&S.length===5&&d==="select"?(m.type="rect",m.x0=S[0][1],m.y0=S[0][2],m.x1=S[2][1],m.y1=S[2][2]):(m.type="path",b&&f&&t(C,b,f),m.path=p(C),S=null),L(u);for(var x=n.editHelpers,a=(x||{}).modifyItem,E=[],w=0;w<A.length;w++){var k=u._fullLayout.selections[w];if(!k){E[w]=k;continue}if(E[w]=k._input,o!==void 0&&w===u._fullLayout._activeSelectionIndex){var I=m;switch(k.type){case"rect":a("x0",I.x0),a("x1",I.x1),a("y0",I.y0),a("y1",I.y1);break;case"path":a("path",I.path);break}}}return o===void 0?(E.push(m),E):x?x.getUpdateObj():{}}}}},75549:function(G,V,e){var g=e(71828).strTranslate;function R(v,p){switch(v.type){case"log":return v.p2d(p);case"date":return v.p2r(p,0,v.calendar);default:return v.p2r(p)}}function i(v,p){switch(v.type){case"log":return v.d2p(p);case"date":return v.r2p(p,0,v.calendar);default:return v.r2p(p)}}function L(v){var p=v._id.charAt(0)==="y"?1:0;return function(t){return R(v,t[p])}}function T(v){return g(v.xaxis._offset,v.yaxis._offset)}G.exports={p2r:R,r2p:i,axValue:L,getTransform:T}},47322:function(G,V,e){var g=e(32485),R=e(3937);G.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:g.draw,drawOne:g.drawOne,reselect:R.reselect,prepSelect:R.prepSelect,clearOutline:R.clearOutline,clearSelectionsCache:R.clearSelectionsCache,selectOnClick:R.selectOnClick}},3937:function(G,V,e){var g=e(52142),R=e(38258),i=e(73972),L=e(91424).dashStyle,T=e(7901),v=e(30211),p=e(23469).makeEventData,t=e(64505),r=t.freeMode,l=t.rectMode,n=t.drawMode,s=t.openMode,c=t.selectMode,u=e(30477),y=e(21459),h=e(42359),b=e(51873).clearOutline,f=e(60165),o=f.handleEllipse,d=f.readPaths,A=e(90551).newShapes,M=e(35855),C=e(32485).activateLastSelection,m=e(71828),S=m.sorterAsc,x=e(61082),a=e(79990),E=e(41675).getFromId,w=e(33306),k=e(61549).redrawReglTraces,I=e(34122),U=I.MINSELECT,z=x.filter,N=x.tester,B=e(75549),F=B.p2r,H=B.axValue,X=B.getTransform;function q(Ye){return Ye.subplot!==void 0}function ne(Ye,De,Te,fe,me){var Re=!q(fe),Oe=r(me),st=l(me),ut=s(me),Tt=n(me),It=c(me),Gt=me==="drawline",jt=me==="drawcircle",Pt=Gt||jt,Qt=fe.gd,or=Qt._fullLayout,zr=It&&or.newselection.mode==="immediate"&&Re,bt=or._zoomlayer,Jt=fe.element.getBoundingClientRect(),Zt=fe.plotinfo,Ar=X(Zt),dr=De-Jt.left,ht=Te-Jt.top;or._calcInverseTransform(Qt);var ct=m.apply3DTransform(or._invTransform)(dr,ht);dr=ct[0],ht=ct[1];var wt=or._invScaleX,St=or._invScaleY,Rt=dr,Ct=ht,Ot="M"+dr+","+ht,Wt=fe.xaxes[0],er=fe.yaxes[0],$t=Wt._length,sr=er._length,Cr=Ye.altKey&&!(n(me)&&ut),je,We,kt,zt,Xt,lr,cr;K(Ye,Qt,fe),Oe&&(je=z([[dr,ht]],I.BENDPX));var nr=bt.selectAll("path.select-outline-"+Zt.id).data([1]),Bt=Tt?or.newshape:or.newselection;Tt&&(fe.hasText=Bt.label.text||Bt.label.texttemplate);var vr=Tt&&!ut?Bt.fillcolor:"rgba(0,0,0,0)",yr=Bt.line.color||(Re?T.contrast(Qt._fullLayout.plot_bgcolor):"#7f7f7f");nr.enter().append("path").attr("class","select-outline select-outline-"+Zt.id).style({opacity:Tt?Bt.opacity/2:1,"stroke-dasharray":L(Bt.line.dash,Bt.line.width),"stroke-width":Bt.line.width+"px","shape-rendering":"crispEdges"}).call(T.stroke,yr).call(T.fill,vr).attr("fill-rule","evenodd").classed("cursor-move",!!Tt).attr("transform",Ar).attr("d",Ot+"Z");var mr=bt.append("path").attr("class","zoombox-corners").style({fill:T.background,stroke:T.defaultLine,"stroke-width":1}).attr("transform",Ar).attr("d","M0,0Z");if(Tt&&fe.hasText){var gr=bt.select(".label-temp");gr.empty()&&(gr=bt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Zr=or._uid+I.SELECTID,Ur=[],Br=le(Qt,fe.xaxes,fe.yaxes,fe.subplot);zr&&!Ye.shiftKey&&(fe._clearSubplotSelections=function(){if(Re){var Kr=Wt._id,Bn=er._id;qe(Qt,Kr,Bn,Br);for(var On=(Qt.layout||{}).selections||[],Tr=[],Mr=!1,Hr=0;Hr<On.length;Hr++){var Vr=or.selections[Hr];Vr.xref!==Kr||Vr.yref!==Bn?Tr.push(On[Hr]):Mr=!0}Mr&&(Qt._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Qt,{selections:Tr}))}});var Tn=Ue(fe);fe.moveFn=function(Kr,Bn){fe._clearSubplotSelections&&(fe._clearSubplotSelections(),fe._clearSubplotSelections=void 0),Rt=Math.max(0,Math.min($t,wt*Kr+dr)),Ct=Math.max(0,Math.min(sr,St*Bn+ht));var On=Math.abs(Rt-dr),Tr=Math.abs(Ct-ht);if(st){var Mr,Hr,Vr;if(It){var nn=or.selectdirection;switch(nn==="any"?Tr<Math.min(On*.6,U)?Mr="h":On<Math.min(Tr*.6,U)?Mr="v":Mr="d":Mr=nn,Mr){case"h":Hr=jt?sr/2:0,Vr=sr;break;case"v":Hr=jt?$t/2:0,Vr=$t;break}}if(Tt)switch(or.newshape.drawdirection){case"vertical":Mr="h",Hr=jt?sr/2:0,Vr=sr;break;case"horizontal":Mr="v",Hr=jt?$t/2:0,Vr=$t;break;case"ortho":On<Tr?(Mr="h",Hr=ht,Vr=Ct):(Mr="v",Hr=dr,Vr=Rt);break;default:Mr="d"}Mr==="h"?(zt=Pt?o(jt,[Rt,Hr],[Rt,Vr]):[[dr,Hr],[dr,Vr],[Rt,Vr],[Rt,Hr]],zt.xmin=Pt?Rt:Math.min(dr,Rt),zt.xmax=Pt?Rt:Math.max(dr,Rt),zt.ymin=Math.min(Hr,Vr),zt.ymax=Math.max(Hr,Vr),mr.attr("d","M"+zt.xmin+","+(ht-U)+"h-4v"+2*U+"h4ZM"+(zt.xmax-1)+","+(ht-U)+"h4v"+2*U+"h-4Z")):Mr==="v"?(zt=Pt?o(jt,[Hr,Ct],[Vr,Ct]):[[Hr,ht],[Hr,Ct],[Vr,Ct],[Vr,ht]],zt.xmin=Math.min(Hr,Vr),zt.xmax=Math.max(Hr,Vr),zt.ymin=Pt?Ct:Math.min(ht,Ct),zt.ymax=Pt?Ct:Math.max(ht,Ct),mr.attr("d","M"+(dr-U)+","+zt.ymin+"v-4h"+2*U+"v4ZM"+(dr-U)+","+(zt.ymax-1)+"v4h"+2*U+"v-4Z")):Mr==="d"&&(zt=Pt?o(jt,[dr,ht],[Rt,Ct]):[[dr,ht],[dr,Ct],[Rt,Ct],[Rt,ht]],zt.xmin=Math.min(dr,Rt),zt.xmax=Math.max(dr,Rt),zt.ymin=Math.min(ht,Ct),zt.ymax=Math.max(ht,Ct),mr.attr("d","M0,0Z"))}else Oe&&(je.addPt([Rt,Ct]),zt=je.filtered);if(fe.selectionDefs&&fe.selectionDefs.length?(kt=be(fe.mergedPolygons,zt,Cr),zt.subtract=Cr,We=j(fe.selectionDefs.concat([zt]))):(kt=[zt],We=N(zt)),h(ke(kt,ut),nr,fe),It){var bn=Pe(Qt,!1),dn=bn.eventData?bn.eventData.points.slice():[];bn=Pe(Qt,!1,We,Br,fe),We=bn.selectionTesters,cr=bn.eventData;var Pn;je?Pn=je.filtered:Pn=mt(kt),a.throttle(Zr,I.SELECTDELAY,function(){Ur=Fe(We,Br);for(var zn=Ur.slice(),ta=0;ta<dn.length;ta++){for(var oa=dn[ta],ya=!1,ca=0;ca<zn.length;ca++)if(zn[ca].curveNumber===oa.curveNumber&&zn[ca].pointNumber===oa.pointNumber){ya=!0;break}ya||zn.push(oa)}zn.length&&(cr||(cr={}),cr.points=zn),Tn(cr,Pn),Be(Qt,cr)})}},fe.clickFn=function(Kr,Bn){if(mr.remove(),Qt._fullLayout._activeShapeIndex>=0){Qt._fullLayout._deactivateShape(Qt);return}if(!Tt){var On=or.clickmode;a.done(Zr).then(function(){if(a.clear(Zr),Kr===2){for(nr.remove(),Xt=0;Xt<Br.length;Xt++)lr=Br[Xt],lr._module.selectPoints(lr,!1);if(He(Qt,Br),Q(fe),it(Qt),Br.length){var Tr=Br[0].xaxis,Mr=Br[0].yaxis;if(Tr&&Mr){for(var Hr=[],Vr=Qt._fullLayout.selections,nn=0;nn<Vr.length;nn++){var bn=Vr[nn];bn&&(bn.xref!==Tr._id||bn.yref!==Mr._id)&&Hr.push(bn)}Hr.length<Vr.length&&(Qt._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",Qt,{selections:Hr}))}}}else On.indexOf("select")>-1&&oe(Bn,Qt,fe.xaxes,fe.yaxes,fe.subplot,fe,nr),On==="event"&&rt(Qt,void 0);v.click(Qt,Bn)}).catch(m.error)}},fe.doneFn=function(){mr.remove(),a.done(Zr).then(function(){a.clear(Zr),!zr&&zt&&fe.selectionDefs&&(zt.subtract=Cr,fe.selectionDefs.push(zt),fe.mergedPolygons.length=0,[].push.apply(fe.mergedPolygons,kt)),(zr||Tt)&&Q(fe,zr),fe.doneFnCompleted&&fe.doneFnCompleted(Ur),It&&rt(Qt,cr)}).catch(m.error)}}function oe(Ye,De,Te,fe,me,Re,Oe){var st=De._hoverdata,ut=De._fullLayout,Tt=ut.clickmode,It=Tt.indexOf("event")>-1,Gt=[],jt,Pt,Qt,or,zr,bt,Jt,Zt,Ar,dr;if(he(st)){K(Ye,De,Re),jt=le(De,Te,fe,me);var ht=xe(st,jt),ct=ht.pointNumbers.length>0;if(ct?Ee(jt,ht):Ne(jt)&&(Jt=Se(ht))){for(Oe&&Oe.remove(),dr=0;dr<jt.length;dr++)Pt=jt[dr],Pt._module.selectPoints(Pt,!1);He(De,jt),Q(Re),It&&it(De)}else{Zt=Ye.shiftKey&&(Jt!==void 0?Jt:Se(ht)),Qt=ve(ht.pointNumber,ht.searchInfo,Zt);var wt=Re.selectionDefs.concat([Qt]);for(or=j(wt),dr=0;dr<jt.length;dr++)if(zr=jt[dr]._module.selectPoints(jt[dr],or),bt=we(zr,jt[dr]),Gt.length)for(var St=0;St<bt.length;St++)Gt.push(bt[St]);else Gt=bt;if(Ar={points:Gt},He(De,jt,Ar),Qt&&Re&&Re.selectionDefs.push(Qt),Oe){var Rt=Re.mergedPolygons,Ct=s(Re.dragmode);h(ke(Rt,Ct),Oe,Re)}It&&rt(De,Ar)}}}function ve(Ye,De,Te){return{pointNumber:Ye,searchInfo:De,subtract:!!Te}}function J(Ye){return"pointNumber"in Ye&&"searchInfo"in Ye}function Y(Ye){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(De,Te,fe,me){var Re=Ye.searchInfo.cd[0].trace._expandedIndex,Oe=me.cd[0].trace._expandedIndex;return Oe===Re&&fe===Ye.pointNumber},isRect:!1,degenerate:!1,subtract:!!Ye.subtract}}function j(Ye){if(!Ye.length)return;for(var De=[],Te=J(Ye[0])?0:Ye[0][0][0],fe=Te,me=J(Ye[0])?0:Ye[0][0][1],Re=me,Oe=0;Oe<Ye.length;Oe++)if(J(Ye[Oe]))De.push(Y(Ye[Oe]));else{var st=N(Ye[Oe]);st.subtract=!!Ye[Oe].subtract,De.push(st),Te=Math.min(Te,st.xmin),fe=Math.max(fe,st.xmax),me=Math.min(me,st.ymin),Re=Math.max(Re,st.ymax)}function ut(Tt,It,Gt,jt){for(var Pt=!1,Qt=0;Qt<De.length;Qt++)De[Qt].contains(Tt,It,Gt,jt)&&(Pt=!De[Qt].subtract);return Pt}return{xmin:Te,xmax:fe,ymin:me,ymax:Re,pts:[],contains:ut,isRect:!1,degenerate:!1}}function K(Ye,De,Te){var fe=De._fullLayout,me=Te.plotinfo,Re=Te.dragmode,Oe=fe._lastSelectedSubplot&&fe._lastSelectedSubplot===me.id,st=(Ye.shiftKey||Ye.altKey)&&!(n(Re)&&s(Re));Oe&&st&&me.selection&&me.selection.selectionDefs&&!Te.selectionDefs?(Te.selectionDefs=me.selection.selectionDefs,Te.mergedPolygons=me.selection.mergedPolygons):(!st||!me.selection)&&Q(Te),Oe||(b(De),fe._lastSelectedSubplot=me.id)}function te(Ye){return Ye._fullLayout._activeShapeIndex>=0}function se(Ye){return Ye._fullLayout._activeSelectionIndex>=0}function Q(Ye,De){var Te=Ye.dragmode,fe=Ye.plotinfo,me=Ye.gd;te(me)&&me._fullLayout._deactivateShape(me),se(me)&&me._fullLayout._deactivateSelection(me);var Re=me._fullLayout,Oe=Re._zoomlayer,st=n(Te),ut=c(Te);if(st||ut){var Tt=Oe.selectAll(".select-outline-"+fe.id);if(Tt&&me._fullLayout._outlining){var It;st&&(It=A(Tt,Ye)),It&&i.call("_guiRelayout",me,{shapes:It});var Gt;ut&&!q(Ye)&&(Gt=M(Tt,Ye)),Gt&&(me._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",me,{selections:Gt}).then(function(){De&&C(me)})),me._fullLayout._outlining=!1}}fe.selection={},fe.selection.selectionDefs=Ye.selectionDefs=[],fe.selection.mergedPolygons=Ye.mergedPolygons=[]}function ee(Ye){return Ye._id}function le(Ye,De,Te,fe){if(!Ye.calcdata)return[];var me=[],Re=De.map(ee),Oe=Te.map(ee),st,ut,Tt;for(Tt=0;Tt<Ye.calcdata.length;Tt++)if(st=Ye.calcdata[Tt],ut=st[0].trace,!(ut.visible!==!0||!ut._module||!ut._module.selectPoints))if(q({subplot:fe})&&(ut.subplot===fe||ut.geo===fe))me.push(ie(ut._module,st,De[0],Te[0]));else if(ut.type==="splom"){if(ut._xaxes[Re[0]]&&ut._yaxes[Oe[0]]){var It=ie(ut._module,st,De[0],Te[0]);It.scene=Ye._fullLayout._splomScenes[ut.uid],me.push(It)}}else if(ut.type==="sankey"){var Gt=ie(ut._module,st,De[0],Te[0]);me.push(Gt)}else{if(Re.indexOf(ut.xaxis)===-1||Oe.indexOf(ut.yaxis)===-1)continue;me.push(ie(ut._module,st,E(Ye,ut.xaxis),E(Ye,ut.yaxis)))}return me}function ie(Ye,De,Te,fe){return{_module:Ye,cd:De,xaxis:Te,yaxis:fe}}function he(Ye){return Ye&&Array.isArray(Ye)&&Ye[0].hoverOnBox!==!0}function xe(Ye,De){var Te=Ye[0],fe=-1,me=[],Re,Oe;for(Oe=0;Oe<De.length;Oe++)if(Re=De[Oe],Te.fullData._expandedIndex===Re.cd[0].trace._expandedIndex){if(Te.hoverOnBox===!0)break;Te.pointNumber!==void 0?fe=Te.pointNumber:Te.binNumber!==void 0&&(fe=Te.binNumber,me=Te.pointNumbers);break}return{pointNumber:fe,pointNumbers:me,searchInfo:Re}}function Se(Ye){var De=Ye.searchInfo.cd[0].trace,Te=Ye.pointNumber,fe=Ye.pointNumbers,me=fe.length>0,Re=me?fe[0]:Te;return De.selectedpoints?De.selectedpoints.indexOf(Re)>-1:!1}function Ee(Ye,De){var Te=[],fe,me,Re,Oe;for(Oe=0;Oe<Ye.length;Oe++)fe=Ye[Oe],fe.cd[0].trace.selectedpoints&&fe.cd[0].trace.selectedpoints.length>0&&Te.push(fe);if(Te.length===1&&(Re=Te[0]===De.searchInfo,Re&&(me=De.searchInfo.cd[0].trace,me.selectedpoints.length===De.pointNumbers.length))){for(Oe=0;Oe<De.pointNumbers.length;Oe++)if(me.selectedpoints.indexOf(De.pointNumbers[Oe])<0)return!1;return!0}return!1}function Ne(Ye){var De=0,Te,fe,me;for(me=0;me<Ye.length;me++)if(Te=Ye[me],fe=Te.cd[0].trace,fe.selectedpoints&&(fe.selectedpoints.length>1||(De+=fe.selectedpoints.length,De>1)))return!1;return De===1}function He(Ye,De,Te){var fe;for(fe=0;fe<De.length;fe++){var me=De[fe].cd[0].trace._fullInput,Re=Ye._fullLayout._tracePreGUI[me.uid]||{};Re.selectedpoints===void 0&&(Re.selectedpoints=me._input.selectedpoints||null)}var Oe;if(Te){var st=Te.points||[];for(fe=0;fe<De.length;fe++)Oe=De[fe].cd[0].trace,Oe._input.selectedpoints=Oe._fullInput.selectedpoints=[],Oe._fullInput!==Oe&&(Oe.selectedpoints=[]);for(var ut=0;ut<st.length;ut++){var Tt=st[ut],It=Tt.data,Gt=Tt.fullData,jt=Tt.pointIndex,Pt=Tt.pointIndices;Pt?([].push.apply(It.selectedpoints,Pt),Oe._fullInput!==Oe&&[].push.apply(Gt.selectedpoints,Pt)):(It.selectedpoints.push(jt),Oe._fullInput!==Oe&&Gt.selectedpoints.push(jt))}}else for(fe=0;fe<De.length;fe++)Oe=De[fe].cd[0].trace,delete Oe.selectedpoints,delete Oe._input.selectedpoints,Oe._fullInput!==Oe&&delete Oe._fullInput.selectedpoints;Ce(Ye,De)}function Ce(Ye,De){for(var Te=!1,fe=0;fe<De.length;fe++){var me=De[fe],Re=me.cd;i.traceIs(Re[0].trace,"regl")&&(Te=!0);var Oe=me._module,st=Oe.styleOnSelect||Oe.style;st&&(st(Ye,Re,Re[0].node3),Re[0].nodeRangePlot3&&st(Ye,Re,Re[0].nodeRangePlot3))}Te&&(w(Ye),k(Ye))}function be(Ye,De,Te){for(var fe=Te?g.difference:g.union,me=fe({regions:Ye},{regions:[De]}),Re=me.regions.reverse(),Oe=0;Oe<Re.length;Oe++){var st=Re[Oe];st.subtract=vt(st,Re.slice(0,Oe))}return Re}function we(Ye,De){if(Array.isArray(Ye))for(var Te=De.cd,fe=De.cd[0].trace,me=0;me<Ye.length;me++)Ye[me]=p(Ye[me],fe,Te);return Ye}function ke(Ye,De){for(var Te=[],fe=0;fe<Ye.length;fe++){Te[fe]=[];for(var me=0;me<Ye[fe].length;me++){Te[fe][me]=[],Te[fe][me][0]=me?"L":"M";for(var Re=0;Re<Ye[fe][me].length;Re++)Te[fe][me].push(Ye[fe][me][Re])}De||Te[fe].push(["Z",Te[fe][0][1],Te[fe][0][2]])}return Te}function Fe(Ye,De){for(var Te=[],fe,me,Re=0;Re<De.length;Re++){var Oe=De[Re];me=Oe._module.selectPoints(Oe,Ye),fe=we(me,Oe),Te=Te.concat(fe)}return Te}function Pe(Ye,De,Te,fe,me){var Re=!!fe,Oe,st,ut;me&&(Oe=me.plotinfo,st=me.xaxes[0]._id,ut=me.yaxes[0]._id);var Tt=[],It=[],Gt=$e(Ye),jt=Ye._fullLayout;if(Oe){var Pt=jt._zoomlayer,Qt=jt.dragmode,or=n(Qt),zr=c(Qt);if(or||zr){var bt=E(Ye,st,"x"),Jt=E(Ye,ut,"y");if(bt&&Jt){var Zt=Pt.selectAll(".select-outline-"+Oe.id);if(Zt&&Ye._fullLayout._outlining&&Zt.length){for(var Ar=Zt[0][0],dr=Ar.getAttribute("d"),ht=d(dr,Ye,Oe),ct=[],wt=0;wt<ht.length;wt++){for(var St=ht[wt],Rt=[],Ct=0;Ct<St.length;Ct++)Rt.push([yt(bt,St[Ct][1]),yt(Jt,St[Ct][2])]);Rt.xref=st,Rt.yref=ut,Rt.subtract=vt(Rt,ct),ct.push(Rt)}Gt=Gt.concat(ct)}}}}var Ot=st&&ut?[st+ut]:jt._subplots.cartesian;Ge(Ye);for(var Wt={},er=0;er<Ot.length;er++){var $t=Ot[er],sr=$t.indexOf("y"),Cr=$t.slice(0,sr),je=$t.slice(sr),We=st&&ut?Te:void 0;if(We=Ke(Gt,Cr,je,We),We){var kt=fe;if(!Re){var zt=E(Ye,Cr,"x"),Xt=E(Ye,je,"y");kt=le(Ye,[zt],[Xt],$t);for(var lr=0;lr<kt.length;lr++){var cr=kt[lr],nr=cr.cd[0],Bt=nr.trace;if(cr._module.name==="scattergl"&&!nr.t.xpx){var vr=Bt.x,yr=Bt.y,mr=Bt._length;nr.t.xpx=[],nr.t.ypx=[];for(var gr=0;gr<mr;gr++)nr.t.xpx[gr]=zt.c2p(vr[gr]),nr.t.ypx[gr]=Xt.c2p(yr[gr])}cr._module.name==="splom"&&(Wt[Bt.uid]||(Wt[Bt.uid]=!0))}}var Zr=Fe(We,kt);Tt=Tt.concat(Zr),It=It.concat(kt)}}var Ur={points:Tt};He(Ye,It,Ur);var Br=jt.clickmode,Tn=Br.indexOf("event")>-1&&De;if(!Oe&&De){var Kr=$e(Ye,!0);if(Kr.length){var Bn=Kr[0].xref,On=Kr[0].yref;if(Bn&&On){var Tr=mt(Kr),Mr=Xe([E(Ye,Bn,"x"),E(Ye,On,"y")]);Mr(Ur,Tr)}}Ye._fullLayout._noEmitSelectedAtStart?Ye._fullLayout._noEmitSelectedAtStart=!1:Tn&&rt(Ye,Ur),jt._reselect=!1}if(!Oe&&jt._deselect){var Hr=jt._deselect;st=Hr.xref,ut=Hr.yref,nt(st,ut,It)||qe(Ye,st,ut,fe),Tn&&(Ur.points.length?rt(Ye,Ur):it(Ye)),jt._deselect=!1}return{eventData:Ur,selectionTesters:Te}}function Ge(Ye){var De=Ye.calcdata;if(De)for(var Te=0;Te<De.length;Te++){var fe=De[Te][0],me=fe.trace,Re=Ye._fullLayout._splomScenes;if(Re){var Oe=Re[me.uid];Oe&&(Oe.selectBatch=[])}}}function nt(Ye,De,Te){for(var fe=0;fe<Te.length;fe++){var me=Te[fe];if(me.xaxis&&me.xaxis._id===Ye&&me.yaxis&&me.yaxis._id===De)return!0}return!1}function qe(Ye,De,Te,fe){fe=le(Ye,[E(Ye,De,"x")],[E(Ye,Te,"y")],De+Te);for(var me=0;me<fe.length;me++){var Re=fe[me];Re._module.selectPoints(Re,!1)}He(Ye,fe)}function Ke(Ye,De,Te,fe){for(var me,Re=0;Re<Ye.length;Re++){var Oe=Ye[Re];if(!(De!==Oe.xref||Te!==Oe.yref))if(me){var st=!!Oe.subtract;me=be(me,Oe,st),fe=j(me)}else me=[Oe],fe=N(Oe)}return fe}function $e(Ye,De){for(var Te=[],fe=Ye._fullLayout,me=fe.selections,Re=me.length,Oe=0;Oe<Re;Oe++)if(!(De&&Oe!==fe._activeSelectionIndex)){var st=me[Oe];if(st){var ut=st.xref,Tt=st.yref,It=E(Ye,ut,"x"),Gt=E(Ye,Tt,"y"),jt,Pt,Qt,or,zr;if(st.type==="rect"){zr=[];var bt=yt(It,st.x0),Jt=yt(It,st.x1),Zt=yt(Gt,st.y0),Ar=yt(Gt,st.y1);zr=[[bt,Zt],[bt,Ar],[Jt,Ar],[Jt,Zt]],jt=Math.min(bt,Jt),Pt=Math.max(bt,Jt),Qt=Math.min(Zt,Ar),or=Math.max(Zt,Ar),zr.xmin=jt,zr.xmax=Pt,zr.ymin=Qt,zr.ymax=or,zr.xref=ut,zr.yref=Tt,zr.subtract=!1,zr.isRect=!0,Te.push(zr)}else if(st.type==="path")for(var dr=st.path.split("Z"),ht=[],ct=0;ct<dr.length;ct++){var wt=dr[ct];if(wt){wt+="Z";var St=u.extractPathCoords(wt,y.paramIsX,"raw"),Rt=u.extractPathCoords(wt,y.paramIsY,"raw");jt=1/0,Pt=-1/0,Qt=1/0,or=-1/0,zr=[];for(var Ct=0;Ct<St.length;Ct++){var Ot=yt(It,St[Ct]),Wt=yt(Gt,Rt[Ct]);zr.push([Ot,Wt]),jt=Math.min(Ot,jt),Pt=Math.max(Ot,Pt),Qt=Math.min(Wt,Qt),or=Math.max(Wt,or)}zr.xmin=jt,zr.xmax=Pt,zr.ymin=Qt,zr.ymax=or,zr.xref=ut,zr.yref=Tt,zr.subtract=vt(zr,ht),ht.push(zr),Te.push(zr)}}}}return Te}function vt(Ye,De){for(var Te=!1,fe=0;fe<De.length;fe++)for(var me=De[fe],Re=0;Re<Ye.length;Re++)if(R(Ye[Re],me)){Te=!Te;break}return Te}function yt(Ye,De){return Ye.type==="date"&&(De=De.replace("_"," ")),Ye.type==="log"?Ye.c2p(De):Ye.r2p(De,null,Ye.calendar)}function mt(Ye){for(var De=Ye.length,Te=[],fe=0;fe<De;fe++){var me=Ye[fe];Te=Te.concat(me),Te=Te.concat([me[0]])}return Et(Te)}function Et(Ye){return Ye.isRect=Ye.length===5&&Ye[0][0]===Ye[4][0]&&Ye[0][1]===Ye[4][1]&&Ye[0][0]===Ye[1][0]&&Ye[2][0]===Ye[3][0]&&Ye[0][1]===Ye[3][1]&&Ye[1][1]===Ye[2][1]||Ye[0][1]===Ye[1][1]&&Ye[2][1]===Ye[3][1]&&Ye[0][0]===Ye[3][0]&&Ye[1][0]===Ye[2][0],Ye.isRect&&(Ye.xmin=Math.min(Ye[0][0],Ye[2][0]),Ye.xmax=Math.max(Ye[0][0],Ye[2][0]),Ye.ymin=Math.min(Ye[0][1],Ye[2][1]),Ye.ymax=Math.max(Ye[0][1],Ye[2][1])),Ye}function Xe(Ye){return function(De,Te){for(var fe,me,Re=0;Re<Ye.length;Re++){var Oe=Ye[Re],st=Oe._id,ut=st.charAt(0);if(Te.isRect){fe||(fe={});var Tt=Te[ut+"min"],It=Te[ut+"max"];Tt!==void 0&&It!==void 0&&(fe[st]=[F(Oe,Tt),F(Oe,It)].sort(S))}else me||(me={}),me[st]=Te.map(H(Oe))}fe&&(De.range=fe),me&&(De.lassoPoints=me)}}function Ue(Ye){var De=Ye.plotinfo;return De.fillRangeItems||Xe(Ye.xaxes.concat(Ye.yaxes))}function Be(Ye,De){Ye.emit("plotly_selecting",De)}function rt(Ye,De){De&&(De.selections=(Ye.layout||{}).selections||[]),Ye.emit("plotly_selected",De)}function it(Ye){Ye.emit("plotly_deselect",null)}G.exports={reselect:Pe,prepSelect:ne,clearOutline:b,clearSelectionsCache:Q,selectOnClick:oe}},89827:function(G,V,e){var g=e(50215),R=e(41940),i=e(82196).line,L=e(79952).P,T=e(1426).extendFlat,v=e(44467).templatedArray;e(24695);var p=e(5386).R,t=e(37281);G.exports=v("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:T({},g.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:T({},g.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:T({},i.color,{editType:"arraydraw"}),width:T({},i.width,{editType:"calc+arraydraw"}),dash:T({},L,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:p({},{keys:Object.keys(t)}),font:R({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(G,V,e){var g=e(71828),R=e(89298),i=e(21459),L=e(30477);G.exports=function(l){var n=l._fullLayout,s=g.filterVisible(n.shapes);if(!(!s.length||!l._fullData.length))for(var c=0;c<s.length;c++){var u=s[c];u._extremes={};var y,h,b=R.getRefType(u.xref),f=R.getRefType(u.yref);if(u.xref!=="paper"&&b!=="domain"){var o=u.xsizemode==="pixel"?u.xanchor:u.x0,d=u.xsizemode==="pixel"?u.xanchor:u.x1;y=R.getFromId(l,u.xref),h=t(y,o,d,u.path,i.paramIsX),h&&(u._extremes[y._id]=R.findExtremes(y,h,T(u)))}if(u.yref!=="paper"&&f!=="domain"){var A=u.ysizemode==="pixel"?u.yanchor:u.y0,M=u.ysizemode==="pixel"?u.yanchor:u.y1;y=R.getFromId(l,u.yref),h=t(y,A,M,u.path,i.paramIsY),h&&(u._extremes[y._id]=R.findExtremes(y,h,v(u)))}}};function T(r){return p(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function v(r){return p(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function p(r,l,n,s,c,u){var y=r/2,h=u;if(l==="pixel"){var b=c?L.extractPathCoords(c,u?i.paramIsY:i.paramIsX):[n,s],f=g.aggNums(Math.max,null,b),o=g.aggNums(Math.min,null,b),d=o<0?Math.abs(o)+y:y,A=f>0?f+y:y;return{ppad:y,ppadplus:h?d:A,ppadminus:h?A:d}}else return{ppad:y}}function t(r,l,n,s,c){var u=r.type==="category"||r.type==="multicategory"?r.r2c:r.d2c;if(l!==void 0)return[u(l),u(n)];if(s){var y=1/0,h=-1/0,b=s.match(i.segmentRE),f,o,d,A,M;for(r.type==="date"&&(u=L.decodeDate(u)),f=0;f<b.length;f++)o=b[f],d=c[o.charAt(0)].drawn,d!==void 0&&(A=b[f].substr(1).match(i.paramRE),!(!A||A.length<d)&&(M=u(A[d]),M<y&&(y=M),M>h&&(h=M)));if(h>=y)return[y,h]}}},21459:function(G){G.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(G,V,e){var g=e(71828),R=e(89298),i=e(85501),L=e(89827),T=e(30477);G.exports=function(r,l){i(r,l,{name:"shapes",handleItemDefaults:p})};function v(t,r){return t?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function p(t,r,l){function n(ve,J){return g.coerce(t,r,L,ve,J)}var s=n("visible");if(s){var c=n("path"),u=c?"path":"rect",y=n("type",u),h=y!=="path";h&&delete r.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var b=n("line.width");b&&(n("line.color"),n("line.dash"));for(var f=n("xsizemode"),o=n("ysizemode"),d=["x","y"],A=0;A<2;A++){var M=d[A],C=M+"anchor",m=M==="x"?f:o,S={_fullLayout:l},x,a,E,w=R.coerceRef(t,r,S,M,void 0,"paper"),k=R.getRefType(w);if(k==="range"?(x=R.getFromId(S,w),x._shapeIndices.push(r._index),E=T.rangeToShapePosition(x),a=T.shapePositionToRange(x)):a=E=g.identity,h){var I=.25,U=.75,z=M+"0",N=M+"1",B=t[z],F=t[N];t[z]=a(t[z],!0),t[N]=a(t[N],!0),m==="pixel"?(n(z,0),n(N,10)):(R.coercePosition(r,S,n,w,z,I),R.coercePosition(r,S,n,w,N,U)),r[z]=E(r[z]),r[N]=E(r[N]),t[z]=B,t[N]=F}if(m==="pixel"){var H=t[C];t[C]=a(t[C],!0),R.coercePosition(r,S,n,w,C,.25),r[C]=E(r[C]),t[C]=H}}h&&g.noneOrAll(t,r,["x0","x1","y0","y1"]);var X=y==="line",q,ne;if(h&&(q=n("label.texttemplate")),q||(ne=n("label.text")),ne||q){n("label.textangle");var oe=n("label.textposition",X?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v(X,oe)),n("label.padding"),g.coerceFont(n,"label.font",l.font)}}}},48100:function(G,V,e){var g=e(71828),R=e(89298),i=e(63893),L=e(91424),T=e(60165).readPaths,v=e(30477),p=v.getPathString,t=e(37281),r=e(18783).FROM_TL;G.exports=function(c,u,y,h){if(h.selectAll(".shape-label").remove(),!!(y.label.text||y.label.texttemplate)){var b;if(y.label.texttemplate){var f={};if(y.type!=="path"){var o=R.getFromId(c,y.xref),d=R.getFromId(c,y.yref);for(var A in t){var M=t[A](y,o,d);M!==void 0&&(f[A]=M)}}b=g.texttemplateStringForShapes(y.label.texttemplate,{},c._fullLayout._d3locale,f)}else b=y.label.text;var C={"data-index":u},m=y.label.font,S={"data-notex":1},x=h.append("g").attr(C).classed("shape-label",!0),a=x.append("text").attr(S).classed("shape-label-text",!0).text(b),E,w,k,I;if(y.path){var U=p(c,y),z=T(U,c);E=1/0,k=1/0,w=-1/0,I=-1/0;for(var N=0;N<z.length;N++)for(var B=0;B<z[N].length;B++)for(var F=z[N][B],H=1;H<F.length;H+=2){var X=F[H],q=F[H+1];E=Math.min(E,X),w=Math.max(w,X),k=Math.min(k,q),I=Math.max(I,q)}}else{var ne=R.getFromId(c,y.xref),oe=R.getRefType(y.xref),ve=R.getFromId(c,y.yref),J=R.getRefType(y.yref),Y=v.getDataToPixel(c,ne,!1,oe),j=v.getDataToPixel(c,ve,!0,J);E=Y(y.x0),w=Y(y.x1),k=j(y.y0),I=j(y.y1)}var K=y.label.textangle;K==="auto"&&(y.type==="line"?K=l(E,k,w,I):K=0),a.call(function(ie){return ie.call(L.font,m).attr({}),i.convertToTspans(ie,c),ie});var te=L.bBox(a.node()),se=n(E,k,w,I,y,K,te),Q=se.textx,ee=se.texty,le=se.xanchor;a.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[le],y:ee,x:Q,transform:"rotate("+K+","+Q+","+ee+")"}).call(i.positionText,Q,ee)}};function l(s,c,u,y){var h,b;return b=Math.abs(u-s),u>=s?h=c-y:h=y-c,-180/Math.PI*Math.atan2(h,b)}function n(s,c,u,y,h,b,f){var o=h.label.textposition,d=h.label.textangle,A=h.label.padding,M=h.type,C=Math.PI/180*b,m=Math.sin(C),S=Math.cos(C),x=h.label.xanchor,a=h.label.yanchor,E,w,k,I;if(M==="line"){o==="start"?(E=s,w=c):o==="end"?(E=u,w=y):(E=(s+u)/2,w=(c+y)/2),x==="auto"&&(o==="start"?d==="auto"?u>s?x="left":u<s?x="right":x="center":u>s?x="right":u<s?x="left":x="center":o==="end"?d==="auto"?u>s?x="right":u<s?x="left":x="center":u>s?x="left":u<s?x="right":x="center":x="center");var U={left:1,center:0,right:-1},z={bottom:-1,middle:0,top:1};if(d==="auto"){var N=z[a];k=-A*m*N,I=A*S*N}else{var B=U[x],F=z[a];k=A*B,I=A*F}E=E+k,w=w+I}else k=A+3,o.indexOf("right")!==-1?(E=Math.max(s,u)-k,x==="auto"&&(x="right")):o.indexOf("left")!==-1?(E=Math.min(s,u)+k,x==="auto"&&(x="left")):(E=(s+u)/2,x==="auto"&&(x="center")),o.indexOf("top")!==-1?w=Math.min(c,y):o.indexOf("bottom")!==-1?w=Math.max(c,y):w=(c+y)/2,I=A,a==="bottom"?w=w-I:a==="top"&&(w=w+I);var H=r[a],X=h.label.font.size,q=f.height,ne=(q*H-X)*m,oe=-(q*H-X)*S;return{textx:E+ne,texty:w+oe,xanchor:x}}},42359:function(G,V,e){var g=e(71828),R=g.strTranslate,i=e(28569),L=e(64505),T=L.drawMode,v=L.selectMode,p=e(73972),t=e(7901),r=e(89995),l=r.i000,n=r.i090,s=r.i180,c=r.i270,u=e(51873),y=u.clearOutlineControllers,h=e(60165),b=h.pointsOnRectangle,f=h.pointsOnEllipse,o=h.writePaths,d=e(90551).newShapes,A=e(90551).createShapeObj,M=e(35855),C=e(48100);G.exports=function a(E,w,k,I){I||(I=0);var U=k.gd;function z(){a(E,w,k,I++),(f(E[0])||k.hasText)&&N({redrawing:!0})}function N(be){var we={};k.isActiveShape!==void 0&&(k.isActiveShape=!1,we=d(w,k)),k.isActiveSelection!==void 0&&(k.isActiveSelection=!1,we=M(w,k),U._fullLayout._reselect=!0),Object.keys(we).length&&p.call((be||{}).redrawing?"relayout":"_guiRelayout",U,we)}var B=U._fullLayout,F=B._zoomlayer,H=k.dragmode,X=T(H),q=v(H);(X||q)&&(U._fullLayout._outlining=!0),y(U),w.attr("d",o(E));var ne,oe,ve,J,Y;if(!I&&(k.isActiveShape||k.isActiveSelection)){Y=m([],E);var j=F.append("g").attr("class","outline-controllers");he(j),Ce()}if(X&&k.hasText){var K=F.select(".label-temp"),te=A(w,k,k.dragmode);C(U,"label-temp",te,K)}function se(be){ve=+be.srcElement.getAttribute("data-i"),J=+be.srcElement.getAttribute("data-j"),ne[ve][J].moveFn=Q}function Q(be,we){if(E.length){var ke=Y[ve][J][1],Fe=Y[ve][J][2],Pe=E[ve],Ge=Pe.length;if(b(Pe)){var nt=be,qe=we;if(k.isActiveSelection){var Ke=S(Pe,J);Ke[1]===Pe[J][1]?qe=0:nt=0}for(var $e=0;$e<Ge;$e++)if($e!==J){var vt=Pe[$e];vt[1]===Pe[J][1]&&(vt[1]=ke+nt),vt[2]===Pe[J][2]&&(vt[2]=Fe+qe)}if(Pe[J][1]=ke+nt,Pe[J][2]=Fe+qe,!b(Pe))for(var yt=0;yt<Ge;yt++)for(var mt=0;mt<Pe[yt].length;mt++)Pe[yt][mt]=Y[ve][yt][mt]}else Pe[J][1]=ke+be,Pe[J][2]=Fe+we;z()}}function ee(){N()}function le(){if(E.length&&E[ve]&&E[ve].length){for(var be=[],we=0;we<E[ve].length;we++)we!==J&&be.push(E[ve][we]);be.length>1&&!(be.length===2&&be[1][0]==="Z")&&(J===0&&(be[0][0]="M"),E[ve]=be,z(),N())}}function ie(be,we){if(be===2){ve=+we.srcElement.getAttribute("data-i"),J=+we.srcElement.getAttribute("data-j");var ke=E[ve];!b(ke)&&!f(ke)&&le()}}function he(be){ne=[];for(var we=0;we<E.length;we++){var ke=E[we],Fe=b(ke),Pe=!Fe&&f(ke);ne[we]=[];for(var Ge=ke.length,nt=0;nt<Ge;nt++)if(ke[nt][0]!=="Z"&&!(Pe&&nt!==l&&nt!==n&&nt!==s&&nt!==c)){var qe=Fe&&k.isActiveSelection,Ke;qe&&(Ke=S(ke,nt));var $e=ke[nt][1],vt=ke[nt][2],yt=be.append(qe?"rect":"circle").attr("data-i",we).attr("data-j",nt).style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(qe){var mt=Ke[1]-$e,Et=Ke[2]-vt,Xe=Et?5:Math.max(Math.min(25,Math.abs(mt)-5),5),Ue=mt?5:Math.max(Math.min(25,Math.abs(Et)-5),5);yt.classed(Et?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Xe).attr("height",Ue).attr("x",$e-Xe/2).attr("y",vt-Ue/2).attr("transform",R(mt/2,Et/2))}else yt.classed("cursor-grab",!0).attr("r",5).attr("cx",$e).attr("cy",vt);ne[we][nt]={element:yt.node(),gd:U,prepFn:se,doneFn:ee,clickFn:ie},i.init(ne[we][nt])}}}function xe(be,we){if(E.length)for(var ke=0;ke<E.length;ke++)for(var Fe=0;Fe<E[ke].length;Fe++)for(var Pe=0;Pe+2<E[ke][Fe].length;Pe+=2)E[ke][Fe][Pe+1]=Y[ke][Fe][Pe+1]+be,E[ke][Fe][Pe+2]=Y[ke][Fe][Pe+2]+we}function Se(be,we){xe(be,we),z()}function Ee(be){ve=+be.srcElement.getAttribute("data-i"),ve||(ve=0),oe[ve].moveFn=Se}function Ne(){N()}function He(be){be===2&&x(U)}function Ce(){if(oe=[],!!E.length){var be=0;oe[be]={element:w[0][0],gd:U,prepFn:Ee,doneFn:Ne,clickFn:He},i.init(oe[be])}}};function m(a,E){for(var w=0;w<E.length;w++){var k=E[w];a[w]=[];for(var I=0;I<k.length;I++){a[w][I]=[];for(var U=0;U<k[I].length;U++)a[w][I][U]=k[I][U]}}return a}function S(a,E){var w=a[E][1],k=a[E][2],I=a.length,U,z,N;return U=(E+1)%I,z=a[U][1],N=a[U][2],z===w&&N===k&&(U=(E+2)%I,z=a[U][1],N=a[U][2]),[U,z,N]}function x(a){if(v(a._fullLayout.dragmode)){y(a);var E=a._fullLayout._activeSelectionIndex,w=(a.layout||{}).selections||[];if(E<w.length){for(var k=[],I=0;I<w.length;I++)I!==E&&k.push(w[I]);delete a._fullLayout._activeSelectionIndex;var U=a._fullLayout.selections[E];a._fullLayout._deselect={xref:U.xref,yref:U.yref},p.call("_guiRelayout",a,{selections:k})}}}},34031:function(G,V,e){var g=e(39898),R=e(73972),i=e(71828),L=e(89298),T=e(60165).readPaths,v=e(42359),p=e(48100),t=e(51873).clearOutlineControllers,r=e(7901),l=e(91424),n=e(44467).arrayEditor,s=e(28569),c=e(6964),u=e(21459),y=e(30477),h=y.getPathString;G.exports={draw:b,drawOne:d,eraseActiveShape:x,drawLabel:p};function b(a){var E=a._fullLayout;E._shapeUpperLayer.selectAll("path").remove(),E._shapeLowerLayer.selectAll("path").remove(),E._shapeUpperLayer.selectAll("text").remove(),E._shapeLowerLayer.selectAll("text").remove();for(var w in E._plots){var k=E._plots[w].shapelayer;k&&(k.selectAll("path").remove(),k.selectAll("text").remove())}for(var I=0;I<E.shapes.length;I++)E.shapes[I].visible&&d(a,I)}function f(a){return!!a._fullLayout._outlining}function o(a){return!a._context.edits.shapePosition}function d(a,E){a._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+E+'"]').remove();var w=y.makeShapesOptionsAndPlotinfo(a,E),k=w.options,I=w.plotinfo;if(!k._input||k.visible===!1)return;if(k.layer!=="below")z(a._fullLayout._shapeUpperLayer);else if(k.xref==="paper"||k.yref==="paper")z(a._fullLayout._shapeLowerLayer);else if(I._hadPlotinfo){var U=I.mainplotinfo||I;z(U.shapelayer)}else z(a._fullLayout._shapeLowerLayer);function z(N){var B=h(a,k),F={"data-index":E,"fill-rule":k.fillrule,d:B},H=k.opacity,X=k.fillcolor,q=k.line.width?k.line.color:"rgba(0,0,0,0)",ne=k.line.width,oe=k.line.dash;!ne&&k.editable===!0&&(ne=5,oe="solid");var ve=B[B.length-1]!=="Z",J=o(a)&&k.editable&&a._fullLayout._activeShapeIndex===E;J&&(X=ve?"rgba(0,0,0,0)":a._fullLayout.activeshape.fillcolor,H=a._fullLayout.activeshape.opacity);var Y=N.append("g").classed("shape-group",!0).attr({"data-index":E}),j=Y.append("path").attr(F).style("opacity",H).call(r.stroke,q).call(r.fill,X).call(l.dashLine,oe,ne);A(Y,a,k),p(a,E,k,Y);var K;if((J||a._context.edits.shapePosition)&&(K=n(a.layout,"shapes",k)),J){j.style({cursor:"move"});var te={element:j.node(),plotinfo:I,gd:a,editHelpers:K,hasText:k.label.text||k.label.texttemplate,isActiveShape:!0},se=T(B,a);v(se,j,te)}else a._context.edits.shapePosition?M(a,j,k,E,N,K):k.editable===!0&&j.style("pointer-events",ve||r.opacity(X)*H<=.5?"stroke":"all");j.node().addEventListener("click",function(){return m(a,j)})}}function A(a,E,w){var k=(w.xref+w.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");l.setClipUrl(a,k?"clip"+E._fullLayout._uid+k:null,E)}function M(a,E,w,k,I,U){var z=10,N=10,B=w.xsizemode==="pixel",F=w.ysizemode==="pixel",H=w.type==="line",X=w.type==="path",q=U.modifyItem,ne,oe,ve,J,Y,j,K,te,se,Q,ee,le,ie,he,xe,Se=g.select(E.node().parentNode),Ee=L.getFromId(a,w.xref),Ne=L.getRefType(w.xref),He=L.getFromId(a,w.yref),Ce=L.getRefType(w.yref),be=y.getDataToPixel(a,Ee,!1,Ne),we=y.getDataToPixel(a,He,!0,Ce),ke=y.getPixelToData(a,Ee,!1,Ne),Fe=y.getPixelToData(a,He,!0,Ce),Pe=qe(),Ge={element:Pe.node(),gd:a,prepFn:vt,doneFn:yt,clickFn:mt},nt;s.init(Ge),Pe.node().onmousemove=$e;function qe(){return H?Ke():E}function Ke(){var it=10,Ye=Math.max(w.line.width,it),De=I.append("g").attr("data-index",k).attr("drag-helper",!0);De.append("path").attr("d",E.attr("d")).style({cursor:"move","stroke-width":Ye,"stroke-opacity":"0"});var Te={"fill-opacity":"0"},fe=Math.max(Ye/2,it);return De.append("circle").attr({"data-line-point":"start-point",cx:B?be(w.xanchor)+w.x0:be(w.x0),cy:F?we(w.yanchor)-w.y0:we(w.y0),r:fe}).style(Te).classed("cursor-grab",!0),De.append("circle").attr({"data-line-point":"end-point",cx:B?be(w.xanchor)+w.x1:be(w.x1),cy:F?we(w.yanchor)-w.y1:we(w.y1),r:fe}).style(Te).classed("cursor-grab",!0),De}function $e(it){if(f(a)){nt=null;return}if(H)it.target.tagName==="path"?nt="move":nt=it.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Ye=Ge.element.getBoundingClientRect(),De=Ye.right-Ye.left,Te=Ye.bottom-Ye.top,fe=it.clientX-Ye.left,me=it.clientY-Ye.top,Re=!X&&De>z&&Te>N&&!it.shiftKey?s.getCursor(fe/De,1-me/Te):"move";c(E,Re),nt=Re.split("-")[0]}}function vt(it){f(a)||(B&&(Y=be(w.xanchor)),F&&(j=we(w.yanchor)),w.type==="path"?xe=w.path:(ne=B?w.x0:be(w.x0),oe=F?w.y0:we(w.y0),ve=B?w.x1:be(w.x1),J=F?w.y1:we(w.y1)),ne<ve?(se=ne,ie="x0",Q=ve,he="x1"):(se=ve,ie="x1",Q=ne,he="x0"),!F&&oe<J||F&&oe>J?(K=oe,ee="y0",te=J,le="y1"):(K=J,ee="y1",te=oe,le="y0"),$e(it),Ue(I,w),rt(E,w,a),Ge.moveFn=nt==="move"?Et:Xe,Ge.altKey=it.altKey)}function yt(){f(a)||(c(E),Be(I),A(E,a,w),R.call("_guiRelayout",a,U.getUpdateObj()))}function mt(){f(a)||Be(I)}function Et(it,Ye){if(w.type==="path"){var De=function(me){return me},Te=De,fe=De;B?q("xanchor",w.xanchor=ke(Y+it)):(Te=function(Re){return ke(be(Re)+it)},Ee&&Ee.type==="date"&&(Te=y.encodeDate(Te))),F?q("yanchor",w.yanchor=Fe(j+Ye)):(fe=function(Re){return Fe(we(Re)+Ye)},He&&He.type==="date"&&(fe=y.encodeDate(fe))),q("path",w.path=C(xe,Te,fe))}else B?q("xanchor",w.xanchor=ke(Y+it)):(q("x0",w.x0=ke(ne+it)),q("x1",w.x1=ke(ve+it))),F?q("yanchor",w.yanchor=Fe(j+Ye)):(q("y0",w.y0=Fe(oe+Ye)),q("y1",w.y1=Fe(J+Ye)));E.attr("d",h(a,w)),Ue(I,w),p(a,k,w,Se)}function Xe(it,Ye){if(X){var De=function(bt){return bt},Te=De,fe=De;B?q("xanchor",w.xanchor=ke(Y+it)):(Te=function(Jt){return ke(be(Jt)+it)},Ee&&Ee.type==="date"&&(Te=y.encodeDate(Te))),F?q("yanchor",w.yanchor=Fe(j+Ye)):(fe=function(Jt){return Fe(we(Jt)+Ye)},He&&He.type==="date"&&(fe=y.encodeDate(fe))),q("path",w.path=C(xe,Te,fe))}else if(H){if(nt==="resize-over-start-point"){var me=ne+it,Re=F?oe-Ye:oe+Ye;q("x0",w.x0=B?me:ke(me)),q("y0",w.y0=F?Re:Fe(Re))}else if(nt==="resize-over-end-point"){var Oe=ve+it,st=F?J-Ye:J+Ye;q("x1",w.x1=B?Oe:ke(Oe)),q("y1",w.y1=F?st:Fe(st))}}else{var ut=function(bt){return nt.indexOf(bt)!==-1},Tt=ut("n"),It=ut("s"),Gt=ut("w"),jt=ut("e"),Pt=Tt?K+Ye:K,Qt=It?te+Ye:te,or=Gt?se+it:se,zr=jt?Q+it:Q;F&&(Tt&&(Pt=K-Ye),It&&(Qt=te-Ye)),(!F&&Qt-Pt>N||F&&Pt-Qt>N)&&(q(ee,w[ee]=F?Pt:Fe(Pt)),q(le,w[le]=F?Qt:Fe(Qt))),zr-or>z&&(q(ie,w[ie]=B?or:ke(or)),q(he,w[he]=B?zr:ke(zr)))}E.attr("d",h(a,w)),Ue(I,w),p(a,k,w,Se)}function Ue(it,Ye){(B||F)&&De();function De(){var Te=Ye.type!=="path",fe=it.selectAll(".visual-cue").data([0]),me=1;fe.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":me}).classed("visual-cue",!0);var Re=be(B?Ye.xanchor:i.midRange(Te?[Ye.x0,Ye.x1]:y.extractPathCoords(Ye.path,u.paramIsX))),Oe=we(F?Ye.yanchor:i.midRange(Te?[Ye.y0,Ye.y1]:y.extractPathCoords(Ye.path,u.paramIsY)));if(Re=y.roundPositionForSharpStrokeRendering(Re,me),Oe=y.roundPositionForSharpStrokeRendering(Oe,me),B&&F){var st="M"+(Re-1-me)+","+(Oe-1-me)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";fe.attr("d",st)}else if(B){var ut="M"+(Re-1-me)+","+(Oe-9-me)+"v18 h2 v-18 Z";fe.attr("d",ut)}else{var Tt="M"+(Re-9-me)+","+(Oe-1-me)+"h18 v2 h-18 Z";fe.attr("d",Tt)}}}function Be(it){it.selectAll(".visual-cue").remove()}function rt(it,Ye,De){var Te=Ye.xref,fe=Ye.yref,me=L.getFromId(De,Te),Re=L.getFromId(De,fe),Oe="";Te!=="paper"&&!me.autorange&&(Oe+=Te),fe!=="paper"&&!Re.autorange&&(Oe+=fe),l.setClipUrl(it,Oe?"clip"+De._fullLayout._uid+Oe:null,De)}}function C(a,E,w){return a.replace(u.segmentRE,function(k){var I=0,U=k.charAt(0),z=u.paramIsX[U],N=u.paramIsY[U],B=u.numParams[U],F=k.substr(1).replace(u.paramRE,function(H){return I>=B||(z[I]?H=E(H):N[I]&&(H=w(H)),I++),H});return U+F})}function m(a,E){if(o(a)){var w=E.node(),k=+w.getAttribute("data-index");if(k>=0){if(k===a._fullLayout._activeShapeIndex){S(a);return}a._fullLayout._activeShapeIndex=k,a._fullLayout._deactivateShape=S,b(a)}}}function S(a){if(o(a)){var E=a._fullLayout._activeShapeIndex;E>=0&&(t(a),delete a._fullLayout._activeShapeIndex,b(a))}}function x(a){if(o(a)){t(a);var E=a._fullLayout._activeShapeIndex,w=(a.layout||{}).shapes||[];if(E<w.length){for(var k=[],I=0;I<w.length;I++)I!==E&&k.push(w[I]);delete a._fullLayout._activeShapeIndex,R.call("_guiRelayout",a,{shapes:k})}}}},29241:function(G,V,e){var g=e(41940),R=e(79952).P,i=e(1426).extendFlat,L=e(5386).R,T=e(37281);G.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:i({},R,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},label:{text:{valType:"string",dflt:"",editType:"none"},texttemplate:L({newshape:!0,editType:"none"},{keys:Object.keys(T)}),font:g({editType:"none"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"none"},textangle:{valType:"angle",dflt:"auto",editType:"none"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"none"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"none"},padding:{valType:"number",dflt:3,min:0,editType:"none"},editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},89995:function(G){var V=32;G.exports={CIRCLE_SIDES:V,i000:0,i090:V/4,i180:V/2,i270:V/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(G,V,e){var g=e(7901),R=e(71828);function i(L,T){return L?"bottom":T.indexOf("top")!==-1?"top":T.indexOf("bottom")!==-1?"bottom":"middle"}G.exports=function(T,v,p){p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var t=p("newshape.line.width");if(t){var r=(T||{}).plot_bgcolor||"#FFF";p("newshape.line.color",g.contrast(r)),p("newshape.line.dash")}var l=T.dragmode==="drawline",n=p("newshape.label.text"),s=p("newshape.label.texttemplate");if(n||s){p("newshape.label.textangle");var c=p("newshape.label.textposition",l?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",i(l,c)),p("newshape.label.padding"),R.coerceFont(p,"newshape.label.font",v.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},60165:function(G,V,e){var g=e(95616),R=e(89995),i=R.CIRCLE_SIDES,L=R.SQRT2,T=e(75549),v=T.p2r,p=T.r2p,t=[0,3,4,5,6,1,2],r=[0,3,4,1,2];V.writePaths=function(s){var c=s.length;if(!c)return"M0,0Z";for(var u="",y=0;y<c;y++)for(var h=s[y].length,b=0;b<h;b++){var f=s[y][b][0];if(f==="Z")u+="Z";else for(var o=s[y][b].length,d=0;d<o;d++){var A=d;f==="Q"||f==="S"?A=r[d]:f==="C"&&(A=t[d]),u+=s[y][b][A],d>0&&d<o-1&&(u+=",")}}return u},V.readPaths=function(s,c,u,y){var h=g(s),b=[],f=-1,o=function(){f++,b[f]=[]},d,A=0,M=0,C,m,S=function(){C=A,m=M};S();for(var x=0;x<h.length;x++){var a=[],E,w,k,I,U=h[x][0],z=U;switch(U){case"M":o(),A=+h[x][1],M=+h[x][2],a.push([z,A,M]),S();break;case"Q":case"S":E=+h[x][1],k=+h[x][2],A=+h[x][3],M=+h[x][4],a.push([z,A,M,E,k]);break;case"C":E=+h[x][1],k=+h[x][2],w=+h[x][3],I=+h[x][4],A=+h[x][5],M=+h[x][6],a.push([z,A,M,E,k,w,I]);break;case"T":case"L":A=+h[x][1],M=+h[x][2],a.push([z,A,M]);break;case"H":z="L",A=+h[x][1],a.push([z,A,M]);break;case"V":z="L",M=+h[x][1],a.push([z,A,M]);break;case"A":z="L";var N=+h[x][1],B=+h[x][2];+h[x][4]||(N=-N,B=-B);var F=A-N,H=M;for(d=1;d<=i/2;d++){var X=2*Math.PI*d/i;a.push([z,F+N*Math.cos(X),H+B*Math.sin(X)])}break;case"Z":(A!==C||M!==m)&&(A=C,M=m,a.push([z,A,M]));break}for(var q=(u||{}).domain,ne=c._fullLayout._size,oe=u&&u.xsizemode==="pixel",ve=u&&u.ysizemode==="pixel",J=y===!1,Y=0;Y<a.length;Y++){for(d=0;d+2<7;d+=2){var j=a[Y][d+1],K=a[Y][d+2];j===void 0||K===void 0||(A=j,M=K,u&&(u.xaxis&&u.xaxis.p2r?(J&&(j-=u.xaxis._offset),oe?j=p(u.xaxis,u.xanchor)+j:j=v(u.xaxis,j)):(J&&(j-=ne.l),q?j=q.x[0]+j/ne.w:j=j/ne.w),u.yaxis&&u.yaxis.p2r?(J&&(K-=u.yaxis._offset),ve?K=p(u.yaxis,u.yanchor)-K:K=v(u.yaxis,K)):(J&&(K-=ne.t),q?K=q.y[1]-K/ne.h:K=1-K/ne.h)),a[Y][d+1]=j,a[Y][d+2]=K)}b[f].push(a[Y].slice())}}return b};function l(s,c){return Math.abs(s-c)<=1e-6}function n(s,c){var u=c[1]-s[1],y=c[2]-s[2];return Math.sqrt(u*u+y*y)}V.pointsOnRectangle=function(s){var c=s.length;if(c!==5)return!1;for(var u=1;u<3;u++){var y=s[0][u]-s[1][u],h=s[3][u]-s[2][u];if(!l(y,h))return!1;var b=s[0][u]-s[3][u],f=s[1][u]-s[2][u];if(!l(b,f))return!1}return!l(s[0][1],s[1][1])&&!l(s[0][1],s[3][1])?!1:!!(n(s[0],s[1])*n(s[0],s[3]))},V.pointsOnEllipse=function(s){var c=s.length;if(c!==i+1)return!1;c=i;for(var u=0;u<c;u++){var y=(c*2-u)%c,h=(c/2+y)%c,b=(c/2+u)%c;if(!l(n(s[u],s[b]),n(s[y],s[h])))return!1}return!0},V.handleEllipse=function(s,c,u){if(!s)return[c,u];var y=V.ellipseOver({x0:c[0],y0:c[1],x1:u[0],y1:u[1]}),h=(y.x1+y.x0)/2,b=(y.y1+y.y0)/2,f=(y.x1-y.x0)/2,o=(y.y1-y.y0)/2;f||(f=o=o/L),o||(o=f=f/L);for(var d=[],A=0;A<i;A++){var M=A*2*Math.PI/i;d.push([h+f*Math.cos(M),b+o*Math.sin(M)])}return d},V.ellipseOver=function(s){var c=s.x0,u=s.y0,y=s.x1,h=s.y1,b=y-c,f=h-u;c-=b,u-=f;var o=(c+y)/2,d=(u+h)/2,A=L;return b*=A,f*=A,{x0:o-b,y0:d-f,x1:o+b,y1:d+f}},V.fixDatesForPaths=function(s,c,u){var y=c.type==="date",h=u.type==="date";if(!y&&!h)return s;for(var b=0;b<s.length;b++)for(var f=0;f<s[b].length;f++)for(var o=0;o+2<s[b][f].length;o+=2)y&&(s[b][f][o+1]=s[b][f][o+1].replace(" ","_")),h&&(s[b][f][o+2]=s[b][f][o+2].replace(" ","_"));return s}},90551:function(G,V,e){var g=e(64505),R=g.drawMode,i=g.openMode,L=e(89995),T=L.i000,v=L.i090,p=L.i180,t=L.i270,r=L.cos45,l=L.sin45,n=e(75549),s=n.p2r,c=n.r2p,u=e(51873),y=u.clearOutline,h=e(60165),b=h.readPaths,f=h.writePaths,o=h.ellipseOver,d=h.fixDatesForPaths;function A(C,m){if(C.length){var S=C[0][0];if(S){var x=m.gd,a=m.isActiveShape,E=m.dragmode,w=(x.layout||{}).shapes||[];if(!R(E)&&a!==void 0){var k=x._fullLayout._activeShapeIndex;if(k<w.length)switch(x._fullLayout.shapes[k].type){case"rect":E="drawrect";break;case"circle":E="drawcircle";break;case"line":E="drawline";break;case"path":var I=w[k].path||"";I[I.length-1]==="Z"?E="drawclosedpath":E="drawopenpath";break}}var U=M(C,m,E);y(x);for(var z=m.editHelpers,N=(z||{}).modifyItem,B=[],F=0;F<w.length;F++){var H=x._fullLayout.shapes[F];if(B[F]=H._input,a!==void 0&&F===x._fullLayout._activeShapeIndex){var X=U;switch(H.type){case"line":case"rect":case"circle":N("x0",X.x0),N("x1",X.x1),N("y0",X.y0),N("y1",X.y1);break;case"path":N("path",X.path);break}}}return a===void 0?(B.push(U),B):z?z.getUpdateObj():{}}}}function M(C,m,S){var x=C[0][0],a=m.gd,E=x.getAttribute("d"),w=a._fullLayout.newshape,k=m.plotinfo,I=m.isActiveShape,U=k.xaxis,z=k.yaxis,N=!!k.domain||!k.xaxis,B=!!k.domain||!k.yaxis,F=i(S),H=b(E,a,k,I),X={editable:!0,label:w.label,xref:N?"paper":U._id,yref:B?"paper":z._id,layer:w.layer,opacity:w.opacity,line:{color:w.line.color,width:w.line.width,dash:w.line.dash}};F||(X.fillcolor=w.fillcolor,X.fillrule=w.fillrule);var q;if(H.length===1&&(q=H[0]),q&&q.length===5&&S==="drawrect")X.type="rect",X.x0=q[0][1],X.y0=q[0][2],X.x1=q[2][1],X.y1=q[2][2];else if(q&&S==="drawline")X.type="line",X.x0=q[0][1],X.y0=q[0][2],X.x1=q[1][1],X.y1=q[1][2];else if(q&&S==="drawcircle"){X.type="circle";var ne=q[T][1],oe=q[v][1],ve=q[p][1],J=q[t][1],Y=q[T][2],j=q[v][2],K=q[p][2],te=q[t][2],se=k.xaxis&&(k.xaxis.type==="date"||k.xaxis.type==="log"),Q=k.yaxis&&(k.yaxis.type==="date"||k.yaxis.type==="log");se&&(ne=c(k.xaxis,ne),oe=c(k.xaxis,oe),ve=c(k.xaxis,ve),J=c(k.xaxis,J)),Q&&(Y=c(k.yaxis,Y),j=c(k.yaxis,j),K=c(k.yaxis,K),te=c(k.yaxis,te));var ee=(oe+J)/2,le=(Y+K)/2,ie=(J-oe+ve-ne)/2,he=(te-j+K-Y)/2,xe=o({x0:ee,y0:le,x1:ee+ie*r,y1:le+he*l});se&&(xe.x0=s(k.xaxis,xe.x0),xe.x1=s(k.xaxis,xe.x1)),Q&&(xe.y0=s(k.yaxis,xe.y0),xe.y1=s(k.yaxis,xe.y1)),X.x0=xe.x0,X.y0=xe.y0,X.x1=xe.x1,X.y1=xe.y1}else X.type="path",U&&z&&d(H,U,z),X.path=f(H),q=null;return X}G.exports={newShapes:A,createShapeObj:M}},51873:function(G){function V(g){var R=g._fullLayout._zoomlayer;R&&R.selectAll(".outline-controllers").remove()}function e(g){var R=g._fullLayout._zoomlayer;R&&R.selectAll(".select-outline").remove(),g._fullLayout._outlining=!1}G.exports={clearOutlineControllers:V,clearOutline:e}},30477:function(G,V,e){var g=e(21459),R=e(71828),i=e(89298);V.rangeToShapePosition=function(T){return T.type==="log"?T.r2d:function(v){return v}},V.shapePositionToRange=function(T){return T.type==="log"?T.d2r:function(v){return v}},V.decodeDate=function(T){return function(v){return v.replace&&(v=v.replace("_"," ")),T(v)}},V.encodeDate=function(T){return function(v){return T(v).replace(" ","_")}},V.extractPathCoords=function(T,v,p){var t=[],r=T.match(g.segmentRE);return r.forEach(function(l){var n=v[l.charAt(0)].drawn;if(n!==void 0){var s=l.substr(1).match(g.paramRE);if(!(!s||s.length<n)){var c=s[n],u=p?c:R.cleanNumber(c);t.push(u)}}}),t},V.getDataToPixel=function(T,v,p,t){var r=T._fullLayout._size,l;if(v)if(t==="domain")l=function(s){return v._length*(p?1-s:s)+v._offset};else{var n=V.shapePositionToRange(v);l=function(s){return v._offset+v.r2p(n(s,!0))},v.type==="date"&&(l=V.decodeDate(l))}else p?l=function(s){return r.t+r.h*(1-s)}:l=function(s){return r.l+r.w*s};return l},V.getPixelToData=function(T,v,p,t){var r=T._fullLayout._size,l;if(v)if(t==="domain")l=function(s){var c=(s-v._offset)/v._length;return p?1-c:c};else{var n=V.rangeToShapePosition(v);l=function(s){return n(v.p2r(s-v._offset))}}else p?l=function(s){return 1-(s-r.t)/r.h}:l=function(s){return(s-r.l)/r.w};return l},V.roundPositionForSharpStrokeRendering=function(T,v){var p=Math.round(v%2)===1,t=Math.round(T);return p?t+.5:t},V.makeShapesOptionsAndPlotinfo=function(T,v){var p=T._fullLayout.shapes[v]||{},t=T._fullLayout._plots[p.xref+p.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},p.xref&&p.xref!=="paper"&&(t.xaxis=T._fullLayout[p.xref+"axis"]),p.yref&&p.yref!=="paper"&&(t.yaxis=T._fullLayout[p.yref+"axis"])),t.xsizemode=p.xsizemode,t.ysizemode=p.ysizemode,t.xanchor=p.xanchor,t.yanchor=p.yanchor,{options:p,plotinfo:t}},V.makeSelectionsOptionsAndPlotinfo=function(T,v){var p=T._fullLayout.selections[v]||{},t=T._fullLayout._plots[p.xref+p.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},p.xref&&(t.xaxis=T._fullLayout[p.xref+"axis"]),p.yref&&(t.yaxis=T._fullLayout[p.yref+"axis"])),{options:p,plotinfo:t}},V.getPathString=function(T,v){var p=v.type,t=i.getRefType(v.xref),r=i.getRefType(v.yref),l=i.getFromId(T,v.xref),n=i.getFromId(T,v.yref),s=T._fullLayout._size,c,u,y,h,b,f,o,d;if(l?t==="domain"?u=function(k){return l._offset+l._length*k}:(c=V.shapePositionToRange(l),u=function(k){return l._offset+l.r2p(c(k,!0))}):u=function(k){return s.l+s.w*k},n?r==="domain"?h=function(k){return n._offset+n._length*(1-k)}:(y=V.shapePositionToRange(n),h=function(k){return n._offset+n.r2p(y(k,!0))}):h=function(k){return s.t+s.h*(1-k)},p==="path")return l&&l.type==="date"&&(u=V.decodeDate(u)),n&&n.type==="date"&&(h=V.decodeDate(h)),L(v,u,h);if(v.xsizemode==="pixel"){var A=u(v.xanchor);b=A+v.x0,f=A+v.x1}else b=u(v.x0),f=u(v.x1);if(v.ysizemode==="pixel"){var M=h(v.yanchor);o=M-v.y0,d=M-v.y1}else o=h(v.y0),d=h(v.y1);if(p==="line")return"M"+b+","+o+"L"+f+","+d;if(p==="rect")return"M"+b+","+o+"H"+f+"V"+d+"H"+b+"Z";var C=(b+f)/2,m=(o+d)/2,S=Math.abs(C-b),x=Math.abs(m-o),a="A"+S+","+x,E=C+S+","+m,w=C+","+(m-x);return"M"+E+a+" 0 1,1 "+w+a+" 0 0,1 "+E+"Z"};function L(T,v,p){var t=T.path,r=T.xsizemode,l=T.ysizemode,n=T.xanchor,s=T.yanchor;return t.replace(g.segmentRE,function(c){var u=0,y=c.charAt(0),h=g.paramIsX[y],b=g.paramIsY[y],f=g.numParams[y],o=c.substr(1).replace(g.paramRE,function(d){return h[u]?r==="pixel"?d=v(n)+Number(d):d=v(d):b[u]&&(l==="pixel"?d=p(s)-Number(d):d=p(d)),u++,u>f&&(d="X"),d});return u>f&&(o=o.replace(/[\s,]*X.*/,""),R.log("Ignoring extra params in segment "+c)),y+o})}},89853:function(G,V,e){var g=e(34031);G.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:g.draw,drawOne:g.drawOne}},37281:function(G){function V(c,u){return u?u.d2l(c):c}function e(c,u){return u?u.l2d(c):c}function g(c){return c.x0}function R(c){return c.x1}function i(c){return c.y0}function L(c){return c.y1}function T(c,u){return V(c.x1,u)-V(c.x0,u)}function v(c,u,y){return V(c.y1,y)-V(c.y0,y)}function p(c,u){return Math.abs(T(c,u))}function t(c,u,y){return Math.abs(v(c,u,y))}function r(c,u,y){return c.type!=="line"?void 0:Math.sqrt(Math.pow(T(c,u),2)+Math.pow(v(c,u,y),2))}function l(c,u){return e((V(c.x1,u)+V(c.x0,u))/2,u)}function n(c,u,y){return e((V(c.y1,y)+V(c.y0,y))/2,y)}function s(c,u,y){return c.type!=="line"?void 0:v(c,u,y)/T(c,u)}G.exports={x0:g,x1:R,y0:i,y1:L,slope:s,dx:T,dy:v,width:p,height:t,length:r,xcenter:l,ycenter:n}},75067:function(G,V,e){var g=e(41940),R=e(35025),i=e(1426).extendDeepAll,L=e(30962).overrideAll,T=e(85594),v=e(44467).templatedArray,p=e(98292),t=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});G.exports=L(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(R({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:T.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:g({})},font:g({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},98292:function(G){G.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(G,V,e){var g=e(71828),R=e(85501),i=e(75067),L=e(98292),T=L.name,v=i.steps;G.exports=function(l,n){R(l,n,{name:T,handleItemDefaults:p})};function p(r,l,n){function s(d,A){return g.coerce(r,l,i,d,A)}for(var c=R(r,l,{name:"steps",handleItemDefaults:t}),u=0,y=0;y<c.length;y++)c[y].visible&&u++;var h;if(u<2?h=l.visible=!1:h=s("visible"),!!h){l._stepCount=u;var b=l._visibleSteps=g.filterVisible(c),f=s("active");(c[f]||{}).visible||(l.active=b[0]._index),s("x"),s("y"),g.noneOrAll(r,l,["x","y"]),s("xanchor"),s("yanchor"),s("len"),s("lenmode"),s("pad.t"),s("pad.r"),s("pad.b"),s("pad.l"),g.coerceFont(s,"font",n.font);var o=s("currentvalue.visible");o&&(s("currentvalue.xanchor"),s("currentvalue.prefix"),s("currentvalue.suffix"),s("currentvalue.offset"),g.coerceFont(s,"currentvalue.font",l.font)),s("transition.duration"),s("transition.easing"),s("bgcolor"),s("activebgcolor"),s("bordercolor"),s("borderwidth"),s("ticklen"),s("tickwidth"),s("tickcolor"),s("minorticklen")}}function t(r,l){function n(u,y){return g.coerce(r,l,v,u,y)}var s;if(r.method!=="skip"&&!Array.isArray(r.args)?s=l.visible=!1:s=n("visible"),s){n("method"),n("args");var c=n("label","step-"+l._index);n("value",c),n("execute")}}},44504:function(G,V,e){var g=e(39898),R=e(74875),i=e(7901),L=e(91424),T=e(71828),v=T.strTranslate,p=e(63893),t=e(44467).arrayEditor,r=e(98292),l=e(18783),n=l.LINE_SPACING,s=l.FROM_TL,c=l.FROM_BR;G.exports=function(N){var B=N._context.staticPlot,F=N._fullLayout,H=y(F,N),X=F._infolayer.selectAll("g."+r.containerClassName).data(H.length>0?[0]:[]);X.enter().append("g").classed(r.containerClassName,!0).style("cursor",B?null:"ew-resize");function q(J){J._commandObserver&&(J._commandObserver.remove(),delete J._commandObserver),R.autoMargin(N,u(J))}if(X.exit().each(function(){g.select(this).selectAll("g."+r.groupClassName).each(q)}).remove(),H.length!==0){var ne=X.selectAll("g."+r.groupClassName).data(H,h);ne.enter().append("g").classed(r.groupClassName,!0),ne.exit().each(q).remove();for(var oe=0;oe<H.length;oe++){var ve=H[oe];b(N,ve)}ne.each(function(J){var Y=g.select(this);a(J),R.manageCommandObserver(N,J,J._visibleSteps,function(j){var K=Y.data()[0];K.active!==j.index&&(K._dragging||m(N,Y,K,j.index,!1,!0))}),f(N,g.select(this),J)})}};function u(z){return r.autoMarginIdRoot+z._index}function y(z,N){for(var B=z[r.name],F=[],H=0;H<B.length;H++){var X=B[H];X.visible&&(X._gd=N,F.push(X))}return F}function h(z){return z._index}function b(z,N){var B=L.tester.selectAll("g."+r.labelGroupClass).data(N._visibleSteps);B.enter().append("g").classed(r.labelGroupClass,!0);var F=0,H=0;B.each(function(te){var se=g.select(this),Q=A(se,{step:te},N),ee=Q.node();if(ee){var le=L.bBox(ee);H=Math.max(H,le.height),F=Math.max(F,le.width)}}),B.remove();var X=N._dims={};X.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var q=z._fullLayout._size;X.lx=q.l+q.w*N.x,X.ly=q.t+q.h*(1-N.y),N.lenmode==="fraction"?X.outerLength=Math.round(q.w*N.len):X.outerLength=N.len,X.inputAreaStart=0,X.inputAreaLength=Math.round(X.outerLength-N.pad.l-N.pad.r);var ne=X.inputAreaLength-2*r.stepInset,oe=ne/(N._stepCount-1),ve=F+r.labelPadding;if(X.labelStride=Math.max(1,Math.ceil(ve/oe)),X.labelHeight=H,X.currentValueMaxWidth=0,X.currentValueHeight=0,X.currentValueTotalHeight=0,X.currentValueMaxLines=1,N.currentvalue.visible){var J=L.tester.append("g");B.each(function(te){var se=o(J,N,te.label),Q=se.node()&&L.bBox(se.node())||{width:0,height:0},ee=p.lineCount(se);X.currentValueMaxWidth=Math.max(X.currentValueMaxWidth,Math.ceil(Q.width)),X.currentValueHeight=Math.max(X.currentValueHeight,Math.ceil(Q.height)),X.currentValueMaxLines=Math.max(X.currentValueMaxLines,ee)}),X.currentValueTotalHeight=X.currentValueHeight+N.currentvalue.offset,J.remove()}X.height=X.currentValueTotalHeight+r.tickOffset+N.ticklen+r.labelOffset+X.labelHeight+N.pad.t+N.pad.b;var Y="left";T.isRightAnchor(N)&&(X.lx-=X.outerLength,Y="right"),T.isCenterAnchor(N)&&(X.lx-=X.outerLength/2,Y="center");var j="top";T.isBottomAnchor(N)&&(X.ly-=X.height,j="bottom"),T.isMiddleAnchor(N)&&(X.ly-=X.height/2,j="middle"),X.outerLength=Math.ceil(X.outerLength),X.height=Math.ceil(X.height),X.lx=Math.round(X.lx),X.ly=Math.round(X.ly);var K={y:N.y,b:X.height*c[j],t:X.height*s[j]};N.lenmode==="fraction"?(K.l=0,K.xl=N.x-N.len*s[Y],K.r=0,K.xr=N.x+N.len*c[Y]):(K.x=N.x,K.l=X.outerLength*s[Y],K.r=X.outerLength*c[Y]),R.autoMargin(z,u(N),K)}function f(z,N,B){(B.steps[B.active]||{}).visible||(B.active=B._visibleSteps[0]._index),N.call(o,B).call(U,B).call(M,B).call(x,B).call(I,z,B).call(d,z,B);var F=B._dims;L.setTranslate(N,F.lx+B.pad.l,F.ly+B.pad.t),N.call(E,B,!1),N.call(o,B)}function o(z,N,B){if(N.currentvalue.visible){var F=N._dims,H,X;switch(N.currentvalue.xanchor){case"right":H=F.inputAreaLength-r.currentValueInset-F.currentValueMaxWidth,X="left";break;case"center":H=F.inputAreaLength*.5,X="middle";break;default:H=r.currentValueInset,X="left"}var q=T.ensureSingle(z,"text",r.labelClass,function(j){j.attr({"text-anchor":X,"data-notex":1})}),ne=N.currentvalue.prefix?N.currentvalue.prefix:"";if(typeof B=="string")ne+=B;else{var oe=N.steps[N.active].label,ve=N._gd._fullLayout._meta;ve&&(oe=T.templateString(oe,ve)),ne+=oe}N.currentvalue.suffix&&(ne+=N.currentvalue.suffix),q.call(L.font,N.currentvalue.font).text(ne).call(p.convertToTspans,N._gd);var J=p.lineCount(q),Y=(F.currentValueMaxLines+1-J)*N.currentvalue.font.size*n;return p.positionText(q,H,Y),q}}function d(z,N,B){var F=T.ensureSingle(z,"rect",r.gripRectClass,function(H){H.call(S,N,z,B).style("pointer-events","all")});F.attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(i.stroke,B.bordercolor).call(i.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px")}function A(z,N,B){var F=T.ensureSingle(z,"text",r.labelClass,function(q){q.attr({"text-anchor":"middle","data-notex":1})}),H=N.step.label,X=B._gd._fullLayout._meta;return X&&(H=T.templateString(H,X)),F.call(L.font,B.font).text(H).call(p.convertToTspans,B._gd),F}function M(z,N){var B=T.ensureSingle(z,"g",r.labelsClass),F=N._dims,H=B.selectAll("g."+r.labelGroupClass).data(F.labelSteps);H.enter().append("g").classed(r.labelGroupClass,!0),H.exit().remove(),H.each(function(X){var q=g.select(this);q.call(A,X,N),L.setTranslate(q,w(N,X.fraction),r.tickOffset+N.ticklen+N.font.size*n+r.labelOffset+F.currentValueTotalHeight)})}function C(z,N,B,F,H){var X=Math.round(F*(B._stepCount-1)),q=B._visibleSteps[X]._index;q!==B.active&&m(z,N,B,q,!0,H)}function m(z,N,B,F,H,X){var q=B.active;B.active=F,t(z.layout,r.name,B).applyUpdate("active",F);var ne=B.steps[B.active];N.call(E,B,X),N.call(o,B),z.emit("plotly_sliderchange",{slider:B,step:B.steps[B.active],interaction:H,previousActive:q}),ne&&ne.method&&H&&(N._nextMethod?(N._nextMethod.step=ne,N._nextMethod.doCallback=H,N._nextMethod.doTransition=X):(N._nextMethod={step:ne,doCallback:H,doTransition:X},N._nextMethodRaf=window.requestAnimationFrame(function(){var oe=N._nextMethod.step;oe.method&&(oe.execute&&R.executeAPICommand(z,oe.method,oe.args),N._nextMethod=null,N._nextMethodRaf=null)})))}function S(z,N,B){if(N._context.staticPlot)return;var F=B.node(),H=g.select(N);function X(){return B.data()[0]}function q(){var ne=X();N.emit("plotly_sliderstart",{slider:ne});var oe=B.select("."+r.gripRectClass);g.event.stopPropagation(),g.event.preventDefault(),oe.call(i.fill,ne.activebgcolor);var ve=k(ne,g.mouse(F)[0]);C(N,B,ne,ve,!0),ne._dragging=!0;function J(){var j=X(),K=k(j,g.mouse(F)[0]);C(N,B,j,K,!1)}H.on("mousemove",J),H.on("touchmove",J);function Y(){var j=X();j._dragging=!1,oe.call(i.fill,j.bgcolor),H.on("mouseup",null),H.on("mousemove",null),H.on("touchend",null),H.on("touchmove",null),N.emit("plotly_sliderend",{slider:j,step:j.steps[j.active]})}H.on("mouseup",Y),H.on("touchend",Y)}z.on("mousedown",q),z.on("touchstart",q)}function x(z,N){var B=z.selectAll("rect."+r.tickRectClass).data(N._visibleSteps),F=N._dims;B.enter().append("rect").classed(r.tickRectClass,!0),B.exit().remove(),B.attr({width:N.tickwidth+"px","shape-rendering":"crispEdges"}),B.each(function(H,X){var q=X%F.labelStride===0,ne=g.select(this);ne.attr({height:q?N.ticklen:N.minorticklen}).call(i.fill,N.tickcolor),L.setTranslate(ne,w(N,X/(N._stepCount-1))-.5*N.tickwidth,(q?r.tickOffset:r.minorTickOffset)+F.currentValueTotalHeight)})}function a(z){var N=z._dims;N.labelSteps=[];for(var B=z._stepCount,F=0;F<B;F+=N.labelStride)N.labelSteps.push({fraction:F/(B-1),step:z._visibleSteps[F]})}function E(z,N,B){for(var F=z.select("rect."+r.gripRectClass),H=0,X=0;X<N._stepCount;X++)if(N._visibleSteps[X]._index===N.active){H=X;break}var q=w(N,H/(N._stepCount-1));if(!N._invokingCommand){var ne=F;B&&N.transition.duration>0&&(ne=ne.transition().duration(N.transition.duration).ease(N.transition.easing)),ne.attr("transform",v(q-r.gripWidth*.5,N._dims.currentValueTotalHeight))}}function w(z,N){var B=z._dims;return B.inputAreaStart+r.stepInset+(B.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,N))}function k(z,N){var B=z._dims;return Math.min(1,Math.max(0,(N-r.stepInset-B.inputAreaStart)/(B.inputAreaLength-2*r.stepInset-2*B.inputAreaStart)))}function I(z,N,B){var F=B._dims,H=T.ensureSingle(z,"rect",r.railTouchRectClass,function(X){X.call(S,N,z,B).style("pointer-events","all")});H.attr({width:F.inputAreaLength,height:Math.max(F.inputAreaWidth,r.tickOffset+B.ticklen+F.labelHeight)}).call(i.fill,B.bgcolor).attr("opacity",0),L.setTranslate(H,0,F.currentValueTotalHeight)}function U(z,N){var B=N._dims,F=B.inputAreaLength-r.railInset*2,H=T.ensureSingle(z,"rect",r.railRectClass);H.attr({width:F,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,N.bordercolor).call(i.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px"),L.setTranslate(H,r.railInset,(B.inputAreaWidth-r.railWidth)*.5+B.currentValueTotalHeight)}},23243:function(G,V,e){var g=e(98292);G.exports={moduleType:"component",name:g.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(G,V,e){var g=e(39898),R=e(92770),i=e(74875),L=e(73972),T=e(71828),v=T.strTranslate,p=e(91424),t=e(7901),r=e(63893),l=e(37822),n=e(18783).OPPOSITE_SIDE,s=/ [XY][0-9]* /;function c(u,y,h){var b=h.propContainer,f=h.propName,o=h.placeholder,d=h.traceIndex,A=h.avoid||{},M=h.attributes,C=h.transform,m=h.containerGroup,S=u._fullLayout,x=1,a=!1,E=b.title,w=(E&&E.text?E.text:"").trim(),k=E&&E.font?E.font:{},I=k.family,U=k.size,z=k.color,N;f==="title.text"?N="titleText":f.indexOf("axis")!==-1?N="axisTitleText":f.indexOf("colorbar"!==-1)&&(N="colorbarTitleText");var B=u._context.edits[N];w===""?x=0:w.replace(s," % ")===o.replace(s," % ")&&(x=.2,a=!0,B||(w="")),h._meta?w=T.templateString(w,h._meta):S._meta&&(w=T.templateString(w,S._meta));var F=w||B,H;m||(m=T.ensureSingle(S._infolayer,"g","g-"+y),H=S._hColorbarMoveTitle);var X=m.selectAll("text").data(F?[0]:[]);if(X.enter().append("text"),X.text(w).attr("class",y),X.exit().remove(),!F)return m;function q(J){T.syncOrAsync([ne,oe],J)}function ne(J){var Y;return!C&&H&&(C={}),C?(Y="",C.rotate&&(Y+="rotate("+[C.rotate,M.x,M.y]+")"),(C.offset||H)&&(Y+=v(0,(C.offset||0)-(H||0)))):Y=null,J.attr("transform",Y),J.style({"font-family":I,"font-size":g.round(U,2)+"px",fill:t.rgb(z),opacity:x*t.opacity(z),"font-weight":i.fontWeight}).attr(M).call(r.convertToTspans,u),i.previousPromises(u)}function oe(J){var Y=g.select(J.node().parentNode);if(A&&A.selection&&A.side&&w){Y.attr("transform",null);var j=n[A.side],K=A.side==="left"||A.side==="top"?-1:1,te=R(A.pad)?A.pad:2,se=p.bBox(Y.node()),Q={t:0,b:0,l:0,r:0},ee=u._fullLayout._reservedMargin;for(var le in ee)for(var ie in ee[le]){var he=ee[le][ie];Q[ie]=Math.max(Q[ie],he)}var xe={left:Q.l,top:Q.t,right:S.width-Q.r,bottom:S.height-Q.b},Se=A.maxShift||K*(xe[A.side]-se[A.side]),Ee=0;if(Se<0)Ee=Se;else{var Ne=A.offsetLeft||0,He=A.offsetTop||0;se.left-=Ne,se.right-=Ne,se.top-=He,se.bottom-=He,A.selection.each(function(){var be=p.bBox(this);T.bBoxIntersect(se,be,te)&&(Ee=Math.max(Ee,K*(be[A.side]-se[j])+te))}),Ee=Math.min(Se,Ee),b._titleScoot=Math.abs(Ee)}if(Ee>0||Se<0){var Ce={left:[-Ee,0],right:[Ee,0],top:[0,-Ee],bottom:[0,Ee]}[A.side];Y.attr("transform",v(Ce[0],Ce[1]))}}}X.call(q);function ve(){x=0,a=!0,X.text(o).on("mouseover.opacity",function(){g.select(this).transition().duration(l.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){g.select(this).transition().duration(l.HIDE_PLACEHOLDER).style("opacity",0)})}return B&&(w?X.on(".opacity",null):ve(),X.call(r.makeEditable,{gd:u}).on("edit",function(J){d!==void 0?L.call("_guiRestyle",u,f,J,d):L.call("_guiRelayout",u,f,J)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(q)}).on("input",function(J){this.text(J||" ").call(r.positionText,M.x,M.y)})),X.classed("js-placeholder",a),m}G.exports={draw:c}},7163:function(G,V,e){var g=e(41940),R=e(22399),i=e(1426).extendFlat,L=e(30962).overrideAll,T=e(35025),v=e(44467).templatedArray,p=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});G.exports=L(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(T({editType:"arraydraw"}),{}),font:g({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:R.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(G){G.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},64897:function(G,V,e){var g=e(71828),R=e(85501),i=e(7163),L=e(75909),T=L.name,v=i.buttons;G.exports=function(l,n){var s={name:T,handleItemDefaults:p};R(l,n,s)};function p(r,l,n){function s(y,h){return g.coerce(r,l,i,y,h)}var c=R(r,l,{name:"buttons",handleItemDefaults:t}),u=s("visible",c.length>0);u&&(s("active"),s("direction"),s("type"),s("showactive"),s("x"),s("y"),g.noneOrAll(r,l,["x","y"]),s("xanchor"),s("yanchor"),s("pad.t"),s("pad.r"),s("pad.b"),s("pad.l"),g.coerceFont(s,"font",n.font),s("bgcolor",n.paper_bgcolor),s("bordercolor"),s("borderwidth"))}function t(r,l){function n(c,u){return g.coerce(r,l,v,c,u)}var s=n("visible",r.method==="skip"||Array.isArray(r.args));s&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},13689:function(G,V,e){var g=e(39898),R=e(74875),i=e(7901),L=e(91424),T=e(71828),v=e(63893),p=e(44467).arrayEditor,t=e(18783).LINE_SPACING,r=e(75909),l=e(25849);G.exports=function(k){var I=k._fullLayout,U=T.filterVisible(I[r.name]);function z(oe){R.autoMargin(k,x(oe))}var N=I._menulayer.selectAll("g."+r.containerClassName).data(U.length>0?[0]:[]);if(N.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),N.exit().each(function(){g.select(this).selectAll("g."+r.headerGroupClassName).each(z)}).remove(),U.length!==0){var B=N.selectAll("g."+r.headerGroupClassName).data(U,n);B.enter().append("g").classed(r.headerGroupClassName,!0);for(var F=T.ensureSingle(N,"g",r.dropdownButtonGroupClassName,function(oe){oe.style("pointer-events","all")}),H=0;H<U.length;H++){var X=U[H];S(k,X)}var q="updatemenus"+I._uid,ne=new l(k,F,q);B.enter().size()&&(F.node().parentNode.appendChild(F.node()),F.call(E)),B.exit().each(function(oe){F.call(E),z(oe)}).remove(),B.each(function(oe){var ve=g.select(this),J=oe.type==="dropdown"?F:null;R.manageCommandObserver(k,oe,oe.buttons,function(Y){u(k,oe,oe.buttons[Y.index],ve,J,ne,Y.index,!0)}),oe.type==="dropdown"?(y(k,ve,F,ne,oe),c(F,oe)&&h(k,ve,F,ne,oe)):h(k,ve,null,null,oe)})}};function n(w){return w._index}function s(w){return+w.attr(r.menuIndexAttrName)==-1}function c(w,k){return+w.attr(r.menuIndexAttrName)===k._index}function u(w,k,I,U,z,N,B,F){k.active=B,p(w.layout,r.name,k).applyUpdate("active",B),k.type==="buttons"?h(w,U,null,null,k):k.type==="dropdown"&&(z.attr(r.menuIndexAttrName,"-1"),y(w,U,z,N,k),F||h(w,U,z,N,k))}function y(w,k,I,U,z){var N=T.ensureSingle(k,"g",r.headerClassName,function(oe){oe.style("pointer-events","all")}),B=z._dims,F=z.active,H=z.buttons[F]||r.blankHeaderOpts,X={y:z.pad.t,yPad:0,x:z.pad.l,xPad:0,index:0},q={width:B.headerWidth,height:B.headerHeight};N.call(o,z,H,w).call(a,z,X,q);var ne=T.ensureSingle(k,"text",r.headerArrowClassName,function(oe){oe.attr("text-anchor","end").call(L.font,z.font).text(r.arrowSymbol[z.direction])});ne.attr({x:B.headerWidth-r.arrowOffsetX+z.pad.l,y:B.headerHeight/2+r.textOffsetY+z.pad.t}),N.on("click",function(){I.call(E,String(c(I,z)?-1:z._index)),h(w,k,I,U,z)}),N.on("mouseover",function(){N.call(C)}),N.on("mouseout",function(){N.call(m,z)}),L.setTranslate(k,B.lx,B.ly)}function h(w,k,I,U,z){I||(I=k,I.attr("pointer-events","all"));var N=!s(I)||z.type==="buttons"?z.buttons:[],B=z.type==="dropdown"?r.dropdownButtonClassName:r.buttonClassName,F=I.selectAll("g."+B).data(T.filterVisible(N)),H=F.enter().append("g").classed(B,!0),X=F.exit();z.type==="dropdown"?(H.attr("opacity","0").transition().attr("opacity","1"),X.transition().attr("opacity","0").remove()):X.remove();var q=0,ne=0,oe=z._dims,ve=["up","down"].indexOf(z.direction)!==-1;z.type==="dropdown"&&(ve?ne=oe.headerHeight+r.gapButtonHeader:q=oe.headerWidth+r.gapButtonHeader),z.type==="dropdown"&&z.direction==="up"&&(ne=-r.gapButtonHeader+r.gapButton-oe.openHeight),z.type==="dropdown"&&z.direction==="left"&&(q=-r.gapButtonHeader+r.gapButton-oe.openWidth);var J={x:oe.lx+q+z.pad.l,y:oe.ly+ne+z.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},Y={l:J.x+z.borderwidth,t:J.y+z.borderwidth};F.each(function(j,K){var te=g.select(this);te.call(o,z,j,w).call(a,z,J),te.on("click",function(){g.event.defaultPrevented||(j.execute&&(j.args2&&z.active===K?(u(w,z,j,k,I,U,-1),R.executeAPICommand(w,j.method,j.args2)):(u(w,z,j,k,I,U,K),R.executeAPICommand(w,j.method,j.args))),w.emit("plotly_buttonclicked",{menu:z,button:j,active:z.active}))}),te.on("mouseover",function(){te.call(C)}),te.on("mouseout",function(){te.call(m,z),F.call(M,z)})}),F.call(M,z),ve?(Y.w=Math.max(oe.openWidth,oe.headerWidth),Y.h=J.y-Y.t):(Y.w=J.x-Y.l,Y.h=Math.max(oe.openHeight,oe.headerHeight)),Y.direction=z.direction,U&&(F.size()?b(w,k,I,U,z,Y):f(U))}function b(w,k,I,U,z,N){var B=z.direction,F=B==="up"||B==="down",H=z._dims,X=z.active,q,ne,oe;if(F)for(ne=0,oe=0;oe<X;oe++)ne+=H.heights[oe]+r.gapButton;else for(q=0,oe=0;oe<X;oe++)q+=H.widths[oe]+r.gapButton;U.enable(N,q,ne),U.hbar&&U.hbar.attr("opacity","0").transition().attr("opacity","1"),U.vbar&&U.vbar.attr("opacity","0").transition().attr("opacity","1")}function f(w){var k=!!w.hbar,I=!!w.vbar;k&&w.hbar.transition().attr("opacity","0").each("end",function(){k=!1,I||w.disable()}),I&&w.vbar.transition().attr("opacity","0").each("end",function(){I=!1,k||w.disable()})}function o(w,k,I,U){w.call(d,k).call(A,k,I,U)}function d(w,k){var I=T.ensureSingle(w,"rect",r.itemRectClassName,function(U){U.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})});I.call(i.stroke,k.bordercolor).call(i.fill,k.bgcolor).style("stroke-width",k.borderwidth+"px")}function A(w,k,I,U){var z=T.ensureSingle(w,"text",r.itemTextClassName,function(F){F.attr({"text-anchor":"start","data-notex":1})}),N=I.label,B=U._fullLayout._meta;B&&(N=T.templateString(N,B)),z.call(L.font,k.font).text(N).call(v.convertToTspans,U)}function M(w,k){var I=k.active;w.each(function(U,z){var N=g.select(this);z===I&&k.showactive&&N.select("rect."+r.itemRectClassName).call(i.fill,r.activeColor)})}function C(w){w.select("rect."+r.itemRectClassName).call(i.fill,r.hoverColor)}function m(w,k){w.select("rect."+r.itemRectClassName).call(i.fill,k.bgcolor)}function S(w,k){var I=k._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},U=L.tester.selectAll("g."+r.dropdownButtonClassName).data(T.filterVisible(k.buttons));U.enter().append("g").classed(r.dropdownButtonClassName,!0);var z=["up","down"].indexOf(k.direction)!==-1;U.each(function(q,ne){var oe=g.select(this);oe.call(o,k,q,w);var ve=oe.select("."+r.itemTextClassName),J=ve.node()&&L.bBox(ve.node()).width,Y=Math.max(J+r.textPadX,r.minWidth),j=k.font.size*t,K=v.lineCount(ve),te=Math.max(j*K,r.minHeight)+r.textOffsetY;te=Math.ceil(te),Y=Math.ceil(Y),I.widths[ne]=Y,I.heights[ne]=te,I.height1=Math.max(I.height1,te),I.width1=Math.max(I.width1,Y),z?(I.totalWidth=Math.max(I.totalWidth,Y),I.openWidth=I.totalWidth,I.totalHeight+=te+r.gapButton,I.openHeight+=te+r.gapButton):(I.totalWidth+=Y+r.gapButton,I.openWidth+=Y+r.gapButton,I.totalHeight=Math.max(I.totalHeight,te),I.openHeight=I.totalHeight)}),z?I.totalHeight-=r.gapButton:I.totalWidth-=r.gapButton,I.headerWidth=I.width1+r.arrowPadX,I.headerHeight=I.height1,k.type==="dropdown"&&(z?(I.width1+=r.arrowPadX,I.totalHeight=I.height1):I.totalWidth=I.width1,I.totalWidth+=r.arrowPadX),U.remove();var N=I.totalWidth+k.pad.l+k.pad.r,B=I.totalHeight+k.pad.t+k.pad.b,F=w._fullLayout._size;I.lx=F.l+F.w*k.x,I.ly=F.t+F.h*(1-k.y);var H="left";T.isRightAnchor(k)&&(I.lx-=N,H="right"),T.isCenterAnchor(k)&&(I.lx-=N/2,H="center");var X="top";T.isBottomAnchor(k)&&(I.ly-=B,X="bottom"),T.isMiddleAnchor(k)&&(I.ly-=B/2,X="middle"),I.totalWidth=Math.ceil(I.totalWidth),I.totalHeight=Math.ceil(I.totalHeight),I.lx=Math.round(I.lx),I.ly=Math.round(I.ly),R.autoMargin(w,x(k),{x:k.x,y:k.y,l:N*({right:1,center:.5}[H]||0),r:N*({left:1,center:.5}[H]||0),b:B*({top:1,middle:.5}[X]||0),t:B*({bottom:1,middle:.5}[X]||0)})}function x(w){return r.autoMarginIdRoot+w._index}function a(w,k,I,U){U=U||{};var z=w.select("."+r.itemRectClassName),N=w.select("."+r.itemTextClassName),B=k.borderwidth,F=I.index,H=k._dims;L.setTranslate(w,B+I.x,B+I.y);var X=["up","down"].indexOf(k.direction)!==-1,q=U.height||(X?H.heights[F]:H.height1);z.attr({x:0,y:0,width:U.width||(X?H.width1:H.widths[F]),height:q});var ne=k.font.size*t,oe=v.lineCount(N),ve=(oe-1)*ne/2;v.positionText(N,r.textOffsetX,q/2-ve+r.textOffsetY),X?I.y+=H.heights[F]+I.yPad:I.x+=H.widths[F]+I.xPad,I.index++}function E(w,k){w.attr(r.menuIndexAttrName,k||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}},20763:function(G,V,e){var g=e(75909);G.exports={moduleType:"component",name:g.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(G,V,e){G.exports=T;var g=e(39898),R=e(7901),i=e(91424),L=e(71828);function T(v,p,t){this.gd=v,this.container=p,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}T.barWidth=2,T.barLength=20,T.barRadius=2,T.barPad=1,T.barColor="#808BA4",T.prototype.enable=function(p,t,r){var l=this.gd._fullLayout,n=l.width,s=l.height;this.position=p;var c=this.position.l,u=this.position.w,y=this.position.t,h=this.position.h,b=this.position.direction,f=b==="down",o=b==="left",d=b==="right",A=b==="up",M=u,C=h,m,S,x,a;!f&&!o&&!d&&!A&&(this.position.direction="down",f=!0);var E=f||A;E?(m=c,S=m+M,f?(x=y,a=Math.min(x+C,s),C=a-x):(a=y+C,x=Math.max(a-C,0),C=a-x)):(x=y,a=x+C,o?(S=c+M,m=Math.max(S-M,0),M=S-m):(m=c,S=Math.min(m+M,n),M=S-m)),this._box={l:m,t:x,w:M,h:C};var w=u>M,k=T.barLength+2*T.barPad,I=T.barWidth+2*T.barPad,U=c,z=y+h;z+I>s&&(z=s-I);var N=this.container.selectAll("rect.scrollbar-horizontal").data(w?[0]:[]);N.exit().on(".drag",null).remove(),N.enter().append("rect").classed("scrollbar-horizontal",!0).call(R.fill,T.barColor),w?(this.hbar=N.attr({rx:T.barRadius,ry:T.barRadius,x:U,y:z,width:k,height:I}),this._hbarXMin=U+k/2,this._hbarTranslateMax=M-k):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var B=h>C,F=T.barWidth+2*T.barPad,H=T.barLength+2*T.barPad,X=c+u,q=y;X+F>n&&(X=n-F);var ne=this.container.selectAll("rect.scrollbar-vertical").data(B?[0]:[]);ne.exit().on(".drag",null).remove(),ne.enter().append("rect").classed("scrollbar-vertical",!0).call(R.fill,T.barColor),B?(this.vbar=ne.attr({rx:T.barRadius,ry:T.barRadius,x:X,y:q,width:F,height:H}),this._vbarYMin=q+H/2,this._vbarTranslateMax=C-H):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var oe=this.id,ve=m-.5,J=B?S+F+.5:S+.5,Y=x-.5,j=w?a+I+.5:a+.5,K=l._topdefs.selectAll("#"+oe).data(w||B?[0]:[]);if(K.exit().remove(),K.enter().append("clipPath").attr("id",oe).append("rect"),w||B?(this._clipRect=K.select("rect").attr({x:Math.floor(ve),y:Math.floor(Y),width:Math.ceil(J)-Math.floor(ve),height:Math.ceil(j)-Math.floor(Y)}),this.container.call(i.setClipUrl,oe,this.gd),this.bg.attr({x:c,y,width:u,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),w||B){var te=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(te);var se=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault(),g.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));w&&this.hbar.on(".drag",null).call(se),B&&this.vbar.on(".drag",null).call(se)}this.setTranslate(t,r)},T.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},T.prototype._onBoxDrag=function(){var p=this.translateX,t=this.translateY;this.hbar&&(p-=g.event.dx),this.vbar&&(t-=g.event.dy),this.setTranslate(p,t)},T.prototype._onBoxWheel=function(){var p=this.translateX,t=this.translateY;this.hbar&&(p+=g.event.deltaY),this.vbar&&(t+=g.event.deltaY),this.setTranslate(p,t)},T.prototype._onBarDrag=function(){var p=this.translateX,t=this.translateY;if(this.hbar){var r=p+this._hbarXMin,l=r+this._hbarTranslateMax,n=L.constrain(g.event.x,r,l),s=(n-r)/(l-r),c=this.position.w-this._box.w;p=s*c}if(this.vbar){var u=t+this._vbarYMin,y=u+this._vbarTranslateMax,h=L.constrain(g.event.y,u,y),b=(h-u)/(y-u),f=this.position.h-this._box.h;t=b*f}this.setTranslate(p,t)},T.prototype.setTranslate=function(p,t){var r=this.position.w-this._box.w,l=this.position.h-this._box.h;if(p=L.constrain(p||0,0,r),t=L.constrain(t||0,0,l),this.translateX=p,this.translateY=t,this.container.call(i.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var n=p/r;this.hbar.call(i.setTranslate,p+n*this._hbarTranslateMax,t)}if(this.vbar){var s=t/l;this.vbar.call(i.setTranslate,p,t+s*this._vbarTranslateMax)}}},18783:function(G){G.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(G){G.exports={axisRefDescription:function(V,e,g){return["If set to a",V,"axis id (e.g. *"+V+"* or","*"+V+"2*), the `"+V+"` position refers to a",V,"coordinate. If set to *paper*, the `"+V+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+g+"). If set to a",V,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+V+"2 domain* refers to the domain of the second",V," axis and a",V,"position of 0.5 refers to the","point between the",e,"and the",g,"of the domain of the","second",V,"axis."].join(" ")}}},22372:function(G){G.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},31562:function(G){G.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(G){G.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(G){G.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(G){G.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},37822:function(G){G.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(G){G.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},32396:function(G,V){V.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],V.STYLE=V.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(G,V){V.xmlns="http://www.w3.org/2000/xmlns/",V.svg="http://www.w3.org/2000/svg",V.xlink="http://www.w3.org/1999/xlink",V.svgAttrs={xmlns:V.svg,"xmlns:xlink":V.xlink}},8729:function(G,V,e){V.version=e(11506).version,e(7417),e(98847);for(var g=e(73972),R=V.register=g.register,i=e(10641),L=Object.keys(i),T=0;T<L.length;T++){var v=L[T];v.charAt(0)!=="_"&&(V[v]=i[v]),R({moduleType:"apiMethod",name:v,fn:i[v]})}R(e(67368)),R([e(2199),e(30211),e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(64168)]),R([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(R(window.PlotlyLocales),delete window.PlotlyLocales),V.Icons=e(24255);var p=e(30211),t=e(74875);V.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},V.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},V.Snapshot=e(44511),V.PlotSchema=e(86281)},24255:function(G){G.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(G,V){V.isLeftAnchor=function(g){return g.xanchor==="left"||g.xanchor==="auto"&&g.x<=.3333333333333333},V.isCenterAnchor=function(g){return g.xanchor==="center"||g.xanchor==="auto"&&g.x>.3333333333333333&&g.x<.6666666666666666},V.isRightAnchor=function(g){return g.xanchor==="right"||g.xanchor==="auto"&&g.x>=.6666666666666666},V.isTopAnchor=function(g){return g.yanchor==="top"||g.yanchor==="auto"&&g.y>=.6666666666666666},V.isMiddleAnchor=function(g){return g.yanchor==="middle"||g.yanchor==="auto"&&g.y>.3333333333333333&&g.y<.6666666666666666},V.isBottomAnchor=function(g){return g.yanchor==="bottom"||g.yanchor==="auto"&&g.y<=.3333333333333333}},26348:function(G,V,e){var g=e(64872),R=g.mod,i=g.modHalf,L=Math.PI,T=2*L;function v(b){return b/180*L}function p(b){return b/L*180}function t(b){return Math.abs(b[1]-b[0])>T-1e-14}function r(b,f){return i(f-b,T)}function l(b,f){return Math.abs(r(b,f))}function n(b,f){if(t(f))return!0;var o,d;f[0]<f[1]?(o=f[0],d=f[1]):(o=f[1],d=f[0]),o=R(o,T),d=R(d,T),o>d&&(d+=T);var A=R(b,T),M=A+T;return A>=o&&A<=d||M>=o&&M<=d}function s(b,f,o,d){if(!n(f,d))return!1;var A,M;return o[0]<o[1]?(A=o[0],M=o[1]):(A=o[1],M=o[0]),b>=A&&b<=M}function c(b,f,o,d,A,M,C){A=A||0,M=M||0;var m=t([o,d]),S,x,a,E,w;m?(S=0,x=L,a=T):o<d?(S=o,a=d):(S=d,a=o),b<f?(E=b,w=f):(E=f,w=b);function k(N,B){return[N*Math.cos(B)+A,M-N*Math.sin(B)]}var I=Math.abs(a-S)<=L?0:1;function U(N,B,F){return"A"+[N,N]+" "+[0,I,F]+" "+k(N,B)}var z;return m?E===null?z="M"+k(w,S)+U(w,x,0)+U(w,a,0)+"Z":z="M"+k(E,S)+U(E,x,0)+U(E,a,0)+"ZM"+k(w,S)+U(w,x,1)+U(w,a,1)+"Z":E===null?(z="M"+k(w,S)+U(w,a,0),C&&(z+="L0,0Z")):z="M"+k(E,S)+"L"+k(w,S)+U(w,a,0)+"L"+k(E,a)+U(E,S,1)+"Z",z}function u(b,f,o,d,A){return c(null,b,f,o,d,A,0)}function y(b,f,o,d,A){return c(null,b,f,o,d,A,1)}function h(b,f,o,d,A,M){return c(b,f,o,d,A,M,1)}G.exports={deg2rad:v,rad2deg:p,angleDelta:r,angleDist:l,isFullCircle:t,isAngleInsideSector:n,isPtInsideSector:s,pathArc:u,pathSector:y,pathAnnulus:h}},73627:function(G,V){var e=Array.isArray,g=ArrayBuffer,R=DataView;function i(p){return g.isView(p)&&!(p instanceof R)}V.isTypedArray=i;function L(p){return e(p)||i(p)}V.isArrayOrTypedArray=L;function T(p){return!L(p[0])}V.isArray1D=T,V.ensureArray=function(p,t){return e(p)||(p=[]),p.length=t,p},V.concat=function(){var p=[],t=!0,r=0,l,n,s,c,u,y,h,b;for(s=0;s<arguments.length;s++)c=arguments[s],y=c.length,y&&(n?p.push(c):(n=c,u=y),e(c)?l=!1:(t=!1,r?l!==c.constructor&&(l=!1):l=c.constructor),r+=y);if(!r)return[];if(!p.length)return n;if(t)return n.concat.apply(n,p);if(l){for(h=new l(r),h.set(n),s=0;s<p.length;s++)c=p[s],h.set(c,u),u+=c.length;return h}for(h=new Array(r),b=0;b<n.length;b++)h[b]=n[b];for(s=0;s<p.length;s++){for(c=p[s],b=0;b<c.length;b++)h[u+b]=c[b];u+=b}return h},V.maxRowLength=function(p){return v(p,Math.max,0)},V.minRowLength=function(p){return v(p,Math.min,1/0)};function v(p,t,r){if(L(p))if(L(p[0])){for(var l=r,n=0;n<p.length;n++)l=t(l,p[n].length);return l}else return p.length;return 0}},95218:function(G,V,e){var g=e(92770),R=e(50606).BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;G.exports=function(T){return typeof T=="string"&&(T=T.replace(i,"")),g(T)?Number(T):R}},33306:function(G){G.exports=function(e){var g=e._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(R){R.regl&&R.regl.clear({color:!0,depth:!0})})}},86367:function(G){G.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(G,V,e){var g=e(92770),R=e(84267),i=e(9012),L=e(63282),T=e(7901),v=e(37822).DESELECTDIM,p=e(65487),t=e(30587).counter,r=e(64872).modHalf,l=e(73627).isArrayOrTypedArray;V.valObjectMeta={data_array:{coerceFunction:function(s,c,u){l(s)?c.set(s):u!==void 0&&c.set(u)}},enumerated:{coerceFunction:function(s,c,u,y){y.coerceNumber&&(s=+s),y.values.indexOf(s)===-1?c.set(u):c.set(s)},validateFunction:function(s,c){c.coerceNumber&&(s=+s);for(var u=c.values,y=0;y<u.length;y++){var h=String(u[y]);if(h.charAt(0)==="/"&&h.charAt(h.length-1)==="/"){var b=new RegExp(h.substr(1,h.length-2));if(b.test(s))return!0}else if(s===u[y])return!0}return!1}},boolean:{coerceFunction:function(s,c,u){s===!0||s===!1?c.set(s):c.set(u)}},number:{coerceFunction:function(s,c,u,y){!g(s)||y.min!==void 0&&s<y.min||y.max!==void 0&&s>y.max?c.set(u):c.set(+s)}},integer:{coerceFunction:function(s,c,u,y){s%1||!g(s)||y.min!==void 0&&s<y.min||y.max!==void 0&&s>y.max?c.set(u):c.set(+s)}},string:{coerceFunction:function(s,c,u,y){if(typeof s!="string"){var h=typeof s=="number";y.strict===!0||!h?c.set(u):c.set(String(s))}else y.noBlank&&!s?c.set(u):c.set(s)}},color:{coerceFunction:function(s,c,u){R(s).isValid()?c.set(s):c.set(u)}},colorlist:{coerceFunction:function(s,c,u){function y(h){return R(h).isValid()}!Array.isArray(s)||!s.length?c.set(u):s.every(y)?c.set(s):c.set(u)}},colorscale:{coerceFunction:function(s,c,u){c.set(L.get(s,u))}},angle:{coerceFunction:function(s,c,u){s==="auto"?c.set("auto"):g(s)?c.set(r(+s,360)):c.set(u)}},subplotid:{coerceFunction:function(s,c,u,y){var h=y.regex||t(u);if(typeof s=="string"&&h.test(s)){c.set(s);return}c.set(u)},validateFunction:function(s,c){var u=c.dflt;return s===u?!0:typeof s!="string"?!1:!!t(u).test(s)}},flaglist:{coerceFunction:function(s,c,u,y){if((y.extras||[]).indexOf(s)!==-1){c.set(s);return}if(typeof s!="string"){c.set(u);return}for(var h=s.split("+"),b=0;b<h.length;){var f=h[b];y.flags.indexOf(f)===-1||h.indexOf(f)<b?h.splice(b,1):b++}h.length?c.set(h.join("+")):c.set(u)}},any:{coerceFunction:function(s,c,u){s===void 0?c.set(u):c.set(s)}},info_array:{coerceFunction:function(s,c,u,y){function h(k,I,U){var z,N={set:function(B){z=B}};return U===void 0&&(U=I.dflt),V.valObjectMeta[I.valType].coerceFunction(k,N,U,I),z}var b=y.dimensions===2||y.dimensions==="1-2"&&Array.isArray(s)&&Array.isArray(s[0]);if(!Array.isArray(s)){c.set(u);return}var f=y.items,o=[],d=Array.isArray(f),A=d&&b&&Array.isArray(f[0]),M=b&&d&&!A,C=d&&!M?f.length:s.length,m,S,x,a,E,w;if(u=Array.isArray(u)?u:[],b)for(m=0;m<C;m++)for(o[m]=[],x=Array.isArray(s[m])?s[m]:[],M?E=f.length:d?E=f[m].length:E=x.length,S=0;S<E;S++)M?a=f[S]:d?a=f[m][S]:a=f,w=h(x[S],a,(u[m]||[])[S]),w!==void 0&&(o[m][S]=w);else for(m=0;m<C;m++)w=h(s[m],d?f[m]:f,u[m]),w!==void 0&&(o[m]=w);c.set(o)},validateFunction:function(s,c){if(!Array.isArray(s))return!1;var u=c.items,y=Array.isArray(u),h=c.dimensions===2;if(!c.freeLength&&s.length!==u.length)return!1;for(var b=0;b<s.length;b++)if(h){if(!Array.isArray(s[b])||!c.freeLength&&s[b].length!==u[b].length)return!1;for(var f=0;f<s[b].length;f++)if(!n(s[b][f],y?u[b][f]:u))return!1}else if(!n(s[b],y?u[b]:u))return!1;return!0}}},V.coerce=function(s,c,u,y,h){var b=p(u,y).get(),f=p(s,y),o=p(c,y),d=f.get(),A=c._template;if(d===void 0&&A&&(d=p(A,y).get(),A=0),h===void 0&&(h=b.dflt),b.arrayOk&&l(d))return o.set(d),d;var M=V.valObjectMeta[b.valType].coerceFunction;M(d,o,h,b);var C=o.get();return A&&C===h&&!n(d,b)&&(d=p(A,y).get(),M(d,o,h,b),C=o.get()),C},V.coerce2=function(s,c,u,y,h){var b=p(s,y),f=V.coerce(s,c,u,y,h),o=b.get();return o!=null?f:!1},V.coerceFont=function(s,c,u){var y={};return u=u||{},y.family=s(c+".family",u.family),y.size=s(c+".size",u.size),y.color=s(c+".color",u.color),y},V.coercePattern=function(s,c,u,y){var h=s(c+".shape");if(h){s(c+".solidity"),s(c+".size");var b=s(c+".fillmode"),f=b==="overlay";if(!y){var o=s(c+".bgcolor",f?u:void 0);s(c+".fgcolor",f?T.contrast(o):u)}s(c+".fgopacity",f?.5:1)}},V.coerceHoverinfo=function(s,c,u){var y=c._module.attributes,h=y.hoverinfo?y:i,b=h.hoverinfo,f;if(u._dataLength===1){var o=b.dflt==="all"?b.flags.slice():b.dflt.split("+");o.splice(o.indexOf("name"),1),f=o.join("+")}return V.coerce(s,c,h,"hoverinfo",f)},V.coerceSelectionMarkerOpacity=function(s,c){if(s.marker){var u=s.marker.opacity;if(u!==void 0){var y,h;!l(u)&&!s.selected&&!s.unselected&&(y=u,h=v*u),c("selected.marker.opacity",y),c("unselected.marker.opacity",h)}}};function n(s,c){var u=V.valObjectMeta[c.valType];if(c.arrayOk&&l(s))return!0;if(u.validateFunction)return u.validateFunction(s,c);var y={},h=y,b={set:function(f){h=f}};return u.coerceFunction(s,b,y,c),h!==y}V.validate=n},41631:function(G,V,e){var g=e(84096).i$,R=e(92770),i=e(47769),L=e(64872).mod,T=e(50606),v=T.BADNUM,p=T.ONEDAY,t=T.ONEHOUR,r=T.ONEMIN,l=T.ONESEC,n=T.EPOCHJD,s=e(73972),c=e(84096).g0,u=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,h=new Date().getFullYear()-70;function b(z){return z&&s.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}V.dateTick0=function(z,N){var B=f(z,!!N);if(N<2)return B;var F=V.dateTime2ms(B,z);return F+=p*(N-1),V.ms2DateTime(F,0,z)};function f(z,N){return b(z)?N?s.getComponentMethod("calendars","CANONICAL_SUNDAY")[z]:s.getComponentMethod("calendars","CANONICAL_TICK")[z]:N?"2000-01-02":"2000-01-01"}V.dfltRange=function(z){return b(z)?s.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},V.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"};var o,d;V.dateTime2ms=function(z,N){if(V.isJSDate(z)){var B=z.getTimezoneOffset()*r,F=(z.getUTCMinutes()-z.getMinutes())*r+(z.getUTCSeconds()-z.getSeconds())*l+(z.getUTCMilliseconds()-z.getMilliseconds());if(F){var H=3*r;B=B-H/2+L(F-B+H/2,H)}return z=Number(z)-B,z>=o&&z<=d?z:v}if(typeof z!="string"&&typeof z!="number")return v;z=String(z);var X=b(N),q=z.charAt(0);X&&(q==="G"||q==="g")&&(z=z.substr(1),N="");var ne=X&&N.substr(0,7)==="chinese",oe=z.match(ne?y:u);if(!oe)return v;var ve=oe[1],J=oe[3]||"1",Y=Number(oe[5]||1),j=Number(oe[7]||0),K=Number(oe[9]||0),te=Number(oe[11]||0);if(X){if(ve.length===2)return v;ve=Number(ve);var se;try{var Q=s.getComponentMethod("calendars","getCal")(N);if(ne){var ee=J.charAt(J.length-1)==="i";J=parseInt(J,10),se=Q.newDate(ve,Q.toMonthIndex(ve,J,ee),Y)}else se=Q.newDate(ve,Number(J),Y)}catch{return v}return se?(se.toJD()-n)*p+j*t+K*r+te*l:v}ve.length===2?ve=(Number(ve)+2e3-h)%100+h:ve=Number(ve),J-=1;var le=new Date(Date.UTC(2e3,J,Y,j,K));return le.setUTCFullYear(ve),le.getUTCMonth()!==J||le.getUTCDate()!==Y?v:le.getTime()+te*l},o=V.MIN_MS=V.dateTime2ms("-9999"),d=V.MAX_MS=V.dateTime2ms("9999-12-31 23:59:59.9999"),V.isDateTime=function(z,N){return V.dateTime2ms(z,N)!==v};function A(z,N){return String(z+Math.pow(10,N)).substr(1)}var M=90*p,C=3*t,m=5*r;V.ms2DateTime=function(z,N,B){if(typeof z!="number"||!(z>=o&&z<=d))return v;N||(N=0);var F=Math.floor(L(z+.05,1)*10),H=Math.round(z-F/10),X,q,ne,oe,ve,J;if(b(B)){var Y=Math.floor(H/p)+n,j=Math.floor(L(z,p));try{X=s.getComponentMethod("calendars","getCal")(B).fromJD(Y).formatDate("yyyy-mm-dd")}catch{X=c("G%Y-%m-%d")(new Date(H))}if(X.charAt(0)==="-")for(;X.length<11;)X="-0"+X.substr(1);else for(;X.length<10;)X="0"+X;q=N<M?Math.floor(j/t):0,ne=N<M?Math.floor(j%t/r):0,oe=N<C?Math.floor(j%r/l):0,ve=N<m?j%l*10+F:0}else J=new Date(H),X=c("%Y-%m-%d")(J),q=N<M?J.getUTCHours():0,ne=N<M?J.getUTCMinutes():0,oe=N<C?J.getUTCSeconds():0,ve=N<m?J.getUTCMilliseconds()*10+F:0;return S(X,q,ne,oe,ve)},V.ms2DateTimeLocal=function(z){if(!(z>=o+p&&z<=d-p))return v;var N=Math.floor(L(z+.05,1)*10),B=new Date(Math.round(z-N/10)),F=g("%Y-%m-%d")(B),H=B.getHours(),X=B.getMinutes(),q=B.getSeconds(),ne=B.getUTCMilliseconds()*10+N;return S(F,H,X,q,ne)};function S(z,N,B,F,H){if((N||B||F||H)&&(z+=" "+A(N,2)+":"+A(B,2),(F||H)&&(z+=":"+A(F,2),H))){for(var X=4;H%10===0;)X-=1,H/=10;z+="."+A(H,X)}return z}V.cleanDate=function(z,N,B){if(z===v)return N;if(V.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(b(B))return i.error("JS Dates and milliseconds are incompatible with world calendars",z),N;if(z=V.ms2DateTimeLocal(+z),!z&&N!==void 0)return N}else if(!V.isDateTime(z,B))return i.error("unrecognized date",z),N;return z};var x=/%\d?f/g,a=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function w(z,N,B,F){z=z.replace(x,function(X){var q=Math.min(+X.charAt(1)||6,6),ne=(N/1e3%1+2).toFixed(q).substr(2).replace(/0+$/,"")||"0";return ne});var H=new Date(Math.floor(N+.05));if(z=z.replace(a,function(){return E[B("%q")(H)]}),b(F))try{z=s.getComponentMethod("calendars","worldCalFmt")(z,N,F)}catch{return"Invalid"}return B(z)(H)}var k=[59,59.9,59.99,59.999,59.9999];function I(z,N){var B=L(z+.05,p),F=A(Math.floor(B/t),2)+":"+A(L(Math.floor(B/r),60),2);if(N!=="M"){R(N)||(N=0);var H=Math.min(L(z/l,60),k[N]),X=(100+H).toFixed(N).substr(1);N>0&&(X=X.replace(/0+$/,"").replace(/[\.]$/,"")),F+=":"+X}return F}V.formatDate=function(z,N,B,F,H,X){if(H=b(H)&&H,!N)if(B==="y")N=X.year;else if(B==="m")N=X.month;else if(B==="d")N=X.dayMonth+`
`+X.year;else return I(z,B)+`
`+w(X.dayMonthYear,z,F,H);return w(N,z,F,H)};var U=3*p;V.incrementMonth=function(z,N,B){B=b(B)&&B;var F=L(z,p);if(z=Math.round(z-F),B)try{var H=Math.round(z/p)+n,X=s.getComponentMethod("calendars","getCal")(B),q=X.fromJD(H);return N%12?X.add(q,N,"m"):X.add(q,N/12,"y"),(q.toJD()-n)*p+F}catch{i.error("invalid ms "+z+" in calendar "+B)}var ne=new Date(z+U);return ne.setUTCMonth(ne.getUTCMonth()+N)+F-U},V.findExactDates=function(z,N){for(var B=0,F=0,H=0,X=0,q,ne,oe=b(N)&&s.getComponentMethod("calendars","getCal")(N),ve=0;ve<z.length;ve++){if(ne=z[ve],!R(ne)){X++;continue}if(!(ne%p))if(oe)try{q=oe.fromJD(ne/p+n),q.day()===1?q.month()===1?B++:F++:H++}catch{}else q=new Date(ne),q.getUTCDate()===1?q.getUTCMonth()===0?B++:F++:H++}F+=B,H+=F;var J=z.length-X;return{exactYears:B/J,exactMonths:F/J,exactDays:H/J}}},24401:function(G,V,e){var g=e(39898),R=e(47769),i=e(35657),L=e(79576);function T(h){var b;if(typeof h=="string"){if(b=document.getElementById(h),b===null)throw new Error("No DOM element with id '"+h+"' exists on the page.");return b}else if(h==null)throw new Error("DOM element provided is null or undefined");return h}function v(h){var b=g.select(h);return b.node()instanceof HTMLElement&&b.size()&&b.classed("js-plotly-plot")}function p(h){var b=h&&h.parentNode;b&&b.removeChild(h)}function t(h,b){r("global",h,b)}function r(h,b,f){var o="plotly.js-style-"+h,d=document.getElementById(o);d||(d=document.createElement("style"),d.setAttribute("id",o),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var A=d.sheet;A.insertRule?A.insertRule(b+"{"+f+"}",0):A.addRule?A.addRule(b,f,0):R.warn("addStyleRule failed")}function l(h){var b="plotly.js-style-"+h,f=document.getElementById(b);f&&p(f)}function n(h){var b=c(h),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return b.forEach(function(o){var d=s(o);if(d){var A=i.convertCssMatrix(d);f=L.multiply(f,f,A)}}),f}function s(h){var b=window.getComputedStyle(h,null),f=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("-moz-transform")||b.getPropertyValue("-ms-transform")||b.getPropertyValue("-o-transform")||b.getPropertyValue("transform");return f==="none"?null:f.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function c(h){for(var b=[];u(h);)b.push(h),h=h.parentNode;return b}function u(h){return h&&(h instanceof Element||h instanceof HTMLElement)}function y(h,b){return h&&b&&h.top===b.top&&h.left===b.left&&h.right===b.right&&h.bottom===b.bottom}G.exports={getGraphDiv:T,isPlotDiv:v,removeElement:p,addStyleRule:t,addRelatedStyleRule:r,deleteRelatedStyleRule:l,getFullTransformMatrix:n,getElementTransformMatrix:s,getElementAndAncestors:c,equalDomRects:y}},11086:function(G,V,e){var g=e(15398).EventEmitter,R={init:function(i){if(i._ev instanceof g)return i;var L=new g,T=new g;return i._ev=L,i._internalEv=T,i.on=L.on.bind(L),i.once=L.once.bind(L),i.removeListener=L.removeListener.bind(L),i.removeAllListeners=L.removeAllListeners.bind(L),i._internalOn=T.on.bind(T),i._internalOnce=T.once.bind(T),i._removeInternalListener=T.removeListener.bind(T),i._removeAllInternalListeners=T.removeAllListeners.bind(T),i.emit=function(v,p){typeof jQuery<"u"&&jQuery(i).trigger(v,p),L.emit(v,p),T.emit(v,p)},i},triggerHandler:function(i,L,T){var v,p;typeof jQuery<"u"&&(v=jQuery(i).triggerHandler(L,T));var t=i._ev;if(!t)return v;var r=t._events[L];if(!r)return v;function l(s){if(s.listener){if(t.removeListener(L,s.listener),!s.fired)return s.fired=!0,s.listener.apply(t,[T])}else return s.apply(t,[T])}r=Array.isArray(r)?r:[r];var n;for(n=0;n<r.length-1;n++)l(r[n]);return p=l(r[n]),v!==void 0?v:p},purge:function(i){return delete i._ev,delete i.on,delete i.once,delete i.removeListener,delete i.removeAllListeners,delete i.emit,delete i._ev,delete i._internalEv,delete i._internalOn,delete i._internalOnce,delete i._removeInternalListener,delete i._removeAllInternalListeners,i}};G.exports=R},1426:function(G,V,e){var g=e(41965),R=Array.isArray;function i(T,v){var p,t;for(p=0;p<T.length;p++){if(t=T[p],t!==null&&typeof t=="object")return!1;t!==void 0&&(v[p]=t)}return!0}V.extendFlat=function(){return L(arguments,!1,!1,!1)},V.extendDeep=function(){return L(arguments,!0,!1,!1)},V.extendDeepAll=function(){return L(arguments,!0,!0,!1)},V.extendDeepNoArrays=function(){return L(arguments,!0,!1,!0)};function L(T,v,p,t){var r=T[0],l=T.length,n,s,c,u,y,h,b;if(l===2&&R(r)&&R(T[1])&&r.length===0){if(b=i(T[1],r),b)return r;r.splice(0,r.length)}for(var f=1;f<l;f++){n=T[f];for(s in n)c=r[s],u=n[s],t&&R(u)?r[s]=u:v&&u&&(g(u)||(y=R(u)))?(y?(y=!1,h=c&&R(c)?c:[]):h=c&&g(c)?c:{},r[s]=L([h,u],v,p,t)):(typeof u<"u"||p)&&(r[s]=u)}return r}},75744:function(G){G.exports=function(e){for(var g={},R=[],i=0,L=0;L<e.length;L++){var T=e[L];g[T]!==1&&(g[T]=1,R[i++]=T)}return R}},76756:function(G){G.exports=function(i){for(var L=g(i)?e:V,T=[],v=0;v<i.length;v++){var p=i[v];L(p)&&T.push(p)}return T};function V(R){return R.visible===!0}function e(R){var i=R[0].trace;return i.visible===!0&&i._length!==0}function g(R){return Array.isArray(R)&&Array.isArray(R[0])&&R[0][0]&&R[0][0].trace}},41327:function(G,V,e){var g=e(39898),R=e(24138),i=e(30774),L=e(29261),T=e(85268),v=e(23389),p=e(47769),t=e(41965),r=e(65487),l=e(61082),n=Object.keys(R),s={"ISO-3":v,"USA-states":v,"country names":c};function c(A){for(var M=0;M<n.length;M++){var C=n[M],m=new RegExp(R[C]);if(m.test(A.trim().toLowerCase()))return C}return p.log("Unrecognized country name: "+A+"."),!1}function u(A,M,C){if(!M||typeof M!="string")return!1;var m=s[A](M),S,x,a;if(m){if(A==="USA-states")for(S=[],a=0;a<C.length;a++)x=C[a],x.properties&&x.properties.gu&&x.properties.gu==="USA"&&S.push(x);else S=C;for(a=0;a<S.length;a++)if(x=S[a],x.id===m)return x;p.log(["Location with id",m,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function y(A){var M=A.geometry,C=M.coordinates,m=A.id,S=[],x,a,E,w;function k(I){for(var U=0;U<I.length-1;U++)if(I[U][0]>0&&I[U+1][0]<0)return U;return null}switch(m==="RUS"||m==="FJI"?x=function(I){var U;if(k(I)===null)U=I;else for(U=new Array(I.length),w=0;w<I.length;w++)U[w]=[I[w][0]<0?I[w][0]+360:I[w][0],I[w][1]];S.push(l.tester(U))}:m==="ATA"?x=function(I){var U=k(I);if(U===null)return S.push(l.tester(I));var z=new Array(I.length+1),N=0;for(w=0;w<I.length;w++)w>U?z[N++]=[I[w][0]+360,I[w][1]]:w===U?(z[N++]=I[w],z[N++]=[I[w][0],-90]):z[N++]=I[w];var B=l.tester(z);B.pts.pop(),S.push(B)}:x=function(I){S.push(l.tester(I))},M.type){case"MultiPolygon":for(a=0;a<C.length;a++)for(E=0;E<C[a].length;E++)x(C[a][E]);break;case"Polygon":for(a=0;a<C.length;a++)x(C[a]);break}return S}function h(A){var M=A.geojson,C=window.PlotlyGeoAssets||{},m=typeof M=="string"?C[M]:M;return t(m)?m:(p.error("Oops ... something went wrong when fetching "+M),!1)}function b(A){var M=A[0].trace,C=h(M);if(!C)return!1;var m={},S=[],x;for(x=0;x<M._length;x++){var a=A[x];(a.loc||a.loc===0)&&(m[a.loc]=a)}function E(I){var U=r(I,M.featureidkey||"id").get(),z=m[U];if(z){var N=I.geometry;if(N.type==="Polygon"||N.type==="MultiPolygon"){var B={type:"Feature",id:U,geometry:N,properties:{}};B.properties.ct=f(B),z.fIn=I,z.fOut=B,S.push(B)}else p.log(["Location",z.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete m[U]}switch(C.type){case"FeatureCollection":var w=C.features;for(x=0;x<w.length;x++)E(w[x]);break;case"Feature":E(C);break;default:return p.warn(["Invalid GeoJSON type",(C.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var k in m)p.log(["Location *"+k+"*","does not have a matching feature with id-key","*"+M.featureidkey+"*."].join(" "));return S}function f(A){var M=A.geometry,C;if(M.type==="MultiPolygon")for(var m=M.coordinates,S=0,x=0;x<m.length;x++){var a={type:"Polygon",coordinates:m[x]},E=i.default(a);E>S&&(S=E,C=a)}else C=M;return L.default(C).geometry.coordinates}function o(A){var M=window.PlotlyGeoAssets||{},C=[];function m(w){return new Promise(function(k,I){g.json(w,function(U,z){if(U){delete M[w];var N=U.status===404?'GeoJSON at URL "'+w+'" does not exist.':"Unexpected error while fetching from "+w;return I(new Error(N))}return M[w]=z,k(z)})})}function S(w){return new Promise(function(k,I){var U=0,z=setInterval(function(){if(M[w]&&M[w]!=="pending")return clearInterval(z),k(M[w]);if(U>100)return clearInterval(z),I("Unexpected error while fetching from "+w);U++},50)})}for(var x=0;x<A.length;x++){var a=A[x][0].trace,E=a.geojson;typeof E=="string"&&(M[E]?M[E]==="pending"&&C.push(S(E)):(M[E]="pending",C.push(m(E))))}return C}function d(A){return T.default(A)}G.exports={locationToFeature:u,feature2polygons:y,getTraceGeojson:h,extractTraceFeature:b,fetchTraceGeoData:o,computeBbox:d}},18214:function(G,V,e){var g=e(50606).BADNUM;V.calcTraceToLineCoords=function(R){for(var i=R[0].trace,L=i.connectgaps,T=[],v=[],p=0;p<R.length;p++){var t=R[p],r=t.lonlat;r[0]!==g?v.push(r):!L&&v.length>0&&(T.push(v),v=[])}return v.length>0&&T.push(v),T},V.makeLine=function(R){return R.length===1?{type:"LineString",coordinates:R[0]}:{type:"MultiLineString",coordinates:R}},V.makePolygon=function(R){if(R.length===1)return{type:"Polygon",coordinates:R};for(var i=new Array(R.length),L=0;L<R.length;L++)i[L]=[R[L]];return{type:"MultiPolygon",coordinates:i}},V.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(G,V,e){var g=e(64872).mod;V.segmentsIntersect=R;function R(p,t,r,l,n,s,c,u){var y=r-p,h=n-p,b=c-n,f=l-t,o=s-t,d=u-s,A=y*d-b*f;if(A===0)return null;var M=(h*d-b*o)/A,C=(h*f-y*o)/A;return C<0||C>1||M<0||M>1?null:{x:p+y*M,y:t+f*M}}V.segmentDistance=function(t,r,l,n,s,c,u,y){if(R(t,r,l,n,s,c,u,y))return 0;var h=l-t,b=n-r,f=u-s,o=y-c,d=h*h+b*b,A=f*f+o*o,M=Math.min(i(h,b,d,s-t,c-r),i(h,b,d,u-t,y-r),i(f,o,A,t-s,r-c),i(f,o,A,l-s,n-c));return Math.sqrt(M)};function i(p,t,r,l,n){var s=l*p+n*t;if(s<0)return l*l+n*n;if(s>r){var c=l-p,u=n-t;return c*c+u*u}else{var y=l*t-n*p;return y*y/r}}var L,T,v;V.getTextLocation=function(t,r,l,n){if((t!==T||n!==v)&&(L={},T=t,v=n),L[l])return L[l];var s=t.getPointAtLength(g(l-n/2,r)),c=t.getPointAtLength(g(l+n/2,r)),u=Math.atan((c.y-s.y)/(c.x-s.x)),y=t.getPointAtLength(g(l,r)),h=(y.x*4+s.x+c.x)/6,b=(y.y*4+s.y+c.y)/6,f={x:h,y:b,theta:u};return L[l]=f,f},V.clearLocationCache=function(){T=null},V.getVisibleSegment=function(t,r,l){var n=r.left,s=r.right,c=r.top,u=r.bottom,y=0,h=t.getTotalLength(),b=h,f,o;function d(M){var C=t.getPointAtLength(M);M===0?f=C:M===h&&(o=C);var m=C.x<n?n-C.x:C.x>s?C.x-s:0,S=C.y<c?c-C.y:C.y>u?C.y-u:0;return Math.sqrt(m*m+S*S)}for(var A=d(y);A;){if(y+=A+l,y>b)return;A=d(y)}for(A=d(b);A;){if(b-=A+l,y>b)return;A=d(b)}return{min:y,max:b,len:b-y,total:h,isClosed:y===0&&b===h&&Math.abs(f.x-o.x)<.1&&Math.abs(f.y-o.y)<.1}},V.findPointOnPath=function(t,r,l,n){n=n||{};for(var s=n.pathLength||t.getTotalLength(),c=n.tolerance||.001,u=n.iterationLimit||30,y=t.getPointAtLength(0)[l]>t.getPointAtLength(s)[l]?-1:1,h=0,b=0,f=s,o,d,A;h<u;){if(o=(b+f)/2,d=t.getPointAtLength(o),A=d[l]-r,Math.abs(A)<c)return d;y*A>0?f=o:b=o,h++}return d}},81697:function(G,V,e){var g=e(92770),R=e(84267),i=e(25075),L=e(21081),T=e(22399).defaultLine,v=e(73627).isArrayOrTypedArray,p=i(T),t=1;function r(u,y){var h=u;return h[3]*=y,h}function l(u){if(g(u))return p;var y=i(u);return y.length?y:p}function n(u){return g(u)?u:t}function s(u,y,h){var b=u.color,f=v(b),o=v(y),d=L.extractOpts(u),A=[],M,C,m,S,x;if(d.colorscale!==void 0?M=L.makeColorScaleFuncFromTrace(u):M=l,f?C=function(E,w){return E[w]===void 0?p:i(M(E[w]))}:C=l,o?m=function(E,w){return E[w]===void 0?t:n(E[w])}:m=n,f||o)for(var a=0;a<h;a++)S=C(b,a),x=m(y,a),A[a]=r(S,x);else A=r(i(b),y);return A}function c(u){var y=L.extractOpts(u),h=y.colorscale;return y.reversescale&&(h=L.flipScale(y.colorscale)),h.map(function(b){var f=b[0],o=R(b[1]),d=o.toRgb();return{index:f,rgb:[d.r,d.g,d.b,d.a]}})}G.exports={formatColor:s,parseColorScale:c}},28984:function(G,V,e){var g=e(23389);function R(i){return[i]}G.exports={keyFun:function(i){return i.key},repeat:R,descend:g,wrap:R,unwrap:function(i){return i[0]}}},23389:function(G){G.exports=function(e){return e}},39240:function(G){G.exports=function(e,g){if(!g)return e;var R=1/Math.abs(g),i=R>1?(R*e+R*g)/R:e+g,L=String(i).length;if(L>16){var T=String(g).length,v=String(e).length;if(L>=v+T){var p=parseFloat(i).toPrecision(12);p.indexOf("e+")===-1&&(i=+p)}}return i}},71828:function(G,V,e){var g=e(39898),R=e(84096).g0,i=e(60721).WU,L=e(92770),T=e(50606),v=T.FP_SAFE,p=-v,t=T.BADNUM,r=G.exports={};r.adjustFormat=function(te){return!te||/^\d[.]\df/.test(te)||/[.]\d%/.test(te)?te:te==="0.f"?"~f":/^\d%/.test(te)?"~%":/^\ds/.test(te)?"~s":!/^[~,.0$]/.test(te)&&/[&fps]/.test(te)?"~"+te:te};var l={};r.warnBadFormat=function(K){var te=String(K);l[te]||(l[te]=1,r.warn('encountered bad format: "'+te+'"'))},r.noFormat=function(K){return String(K)},r.numberFormat=function(K){var te;try{te=i(r.adjustFormat(K))}catch{return r.warnBadFormat(K),r.noFormat}return te},r.nestedProperty=e(65487),r.keyedContainer=e(66636),r.relativeAttr=e(6962),r.isPlainObject=e(41965),r.toLogRange=e(58163),r.relinkPrivateKeys=e(51332);var n=e(73627);r.isTypedArray=n.isTypedArray,r.isArrayOrTypedArray=n.isArrayOrTypedArray,r.isArray1D=n.isArray1D,r.ensureArray=n.ensureArray,r.concat=n.concat,r.maxRowLength=n.maxRowLength,r.minRowLength=n.minRowLength;var s=e(64872);r.mod=s.mod,r.modHalf=s.modHalf;var c=e(96554);r.valObjectMeta=c.valObjectMeta,r.coerce=c.coerce,r.coerce2=c.coerce2,r.coerceFont=c.coerceFont,r.coercePattern=c.coercePattern,r.coerceHoverinfo=c.coerceHoverinfo,r.coerceSelectionMarkerOpacity=c.coerceSelectionMarkerOpacity,r.validate=c.validate;var u=e(41631);r.dateTime2ms=u.dateTime2ms,r.isDateTime=u.isDateTime,r.ms2DateTime=u.ms2DateTime,r.ms2DateTimeLocal=u.ms2DateTimeLocal,r.cleanDate=u.cleanDate,r.isJSDate=u.isJSDate,r.formatDate=u.formatDate,r.incrementMonth=u.incrementMonth,r.dateTick0=u.dateTick0,r.dfltRange=u.dfltRange,r.findExactDates=u.findExactDates,r.MIN_MS=u.MIN_MS,r.MAX_MS=u.MAX_MS;var y=e(65888);r.findBin=y.findBin,r.sorterAsc=y.sorterAsc,r.sorterDes=y.sorterDes,r.distinctVals=y.distinctVals,r.roundUp=y.roundUp,r.sort=y.sort,r.findIndexOfMin=y.findIndexOfMin,r.sortObjectKeys=e(78607);var h=e(80038);r.aggNums=h.aggNums,r.len=h.len,r.mean=h.mean,r.median=h.median,r.midRange=h.midRange,r.variance=h.variance,r.stdev=h.stdev,r.interp=h.interp;var b=e(35657);r.init2dArray=b.init2dArray,r.transposeRagged=b.transposeRagged,r.dot=b.dot,r.translationMatrix=b.translationMatrix,r.rotationMatrix=b.rotationMatrix,r.rotationXYMatrix=b.rotationXYMatrix,r.apply3DTransform=b.apply3DTransform,r.apply2DTransform=b.apply2DTransform,r.apply2DTransform2=b.apply2DTransform2,r.convertCssMatrix=b.convertCssMatrix,r.inverseTransformMatrix=b.inverseTransformMatrix;var f=e(26348);r.deg2rad=f.deg2rad,r.rad2deg=f.rad2deg,r.angleDelta=f.angleDelta,r.angleDist=f.angleDist,r.isFullCircle=f.isFullCircle,r.isAngleInsideSector=f.isAngleInsideSector,r.isPtInsideSector=f.isPtInsideSector,r.pathArc=f.pathArc,r.pathSector=f.pathSector,r.pathAnnulus=f.pathAnnulus;var o=e(99863);r.isLeftAnchor=o.isLeftAnchor,r.isCenterAnchor=o.isCenterAnchor,r.isRightAnchor=o.isRightAnchor,r.isTopAnchor=o.isTopAnchor,r.isMiddleAnchor=o.isMiddleAnchor,r.isBottomAnchor=o.isBottomAnchor;var d=e(87642);r.segmentsIntersect=d.segmentsIntersect,r.segmentDistance=d.segmentDistance,r.getTextLocation=d.getTextLocation,r.clearLocationCache=d.clearLocationCache,r.getVisibleSegment=d.getVisibleSegment,r.findPointOnPath=d.findPointOnPath;var A=e(1426);r.extendFlat=A.extendFlat,r.extendDeep=A.extendDeep,r.extendDeepAll=A.extendDeepAll,r.extendDeepNoArrays=A.extendDeepNoArrays;var M=e(47769);r.log=M.log,r.warn=M.warn,r.error=M.error;var C=e(30587);r.counterRegex=C.counter;var m=e(79990);r.throttle=m.throttle,r.throttleDone=m.done,r.clearThrottle=m.clear;var S=e(24401);r.getGraphDiv=S.getGraphDiv,r.isPlotDiv=S.isPlotDiv,r.removeElement=S.removeElement,r.addStyleRule=S.addStyleRule,r.addRelatedStyleRule=S.addRelatedStyleRule,r.deleteRelatedStyleRule=S.deleteRelatedStyleRule,r.getFullTransformMatrix=S.getFullTransformMatrix,r.getElementTransformMatrix=S.getElementTransformMatrix,r.getElementAndAncestors=S.getElementAndAncestors,r.equalDomRects=S.equalDomRects,r.clearResponsive=e(86367),r.preserveDrawingBuffer=e(45142),r.makeTraceGroups=e(77310),r._=e(15867),r.notifier=e(75046),r.filterUnique=e(75744),r.filterVisible=e(76756),r.pushUnique=e(75138),r.increment=e(39240),r.cleanNumber=e(95218),r.ensureNumber=function(te){return L(te)?(te=Number(te),te>v||te<p?t:te):t},r.isIndex=function(K,te){return te!==void 0&&K>=te?!1:L(K)&&K>=0&&K%1===0},r.noop=e(64213),r.identity=e(23389),r.repeat=function(K,te){for(var se=new Array(te),Q=0;Q<te;Q++)se[Q]=K;return se},r.swapAttrs=function(K,te,se,Q){se||(se="x"),Q||(Q="y");for(var ee=0;ee<te.length;ee++){var le=te[ee],ie=r.nestedProperty(K,le.replace("?",se)),he=r.nestedProperty(K,le.replace("?",Q)),xe=ie.get();ie.set(he.get()),he.set(xe)}},r.raiseToTop=function(te){te.parentNode.appendChild(te)},r.cancelTransition=function(K){return K.transition().duration(0)},r.constrain=function(K,te,se){return te>se?Math.max(se,Math.min(te,K)):Math.max(te,Math.min(se,K))},r.bBoxIntersect=function(K,te,se){return se=se||0,K.left<=te.right+se&&te.left<=K.right+se&&K.top<=te.bottom+se&&te.top<=K.bottom+se},r.simpleMap=function(K,te,se,Q,ee){for(var le=K.length,ie=new Array(le),he=0;he<le;he++)ie[he]=te(K[he],se,Q,ee);return ie},r.randstr=function K(te,se,Q,ee){if(Q||(Q=16),se===void 0&&(se=24),se<=0)return"0";var le=Math.log(Math.pow(2,se))/Math.log(Q),ie="",he,xe,Se;for(he=2;le===1/0;he*=2)le=Math.log(Math.pow(2,se/he))/Math.log(Q)*he;var Ee=le-Math.floor(le);for(he=0;he<Math.floor(le);he++)Se=Math.floor(Math.random()*Q).toString(Q),ie=Se+ie;Ee&&(xe=Math.pow(Q,Ee),Se=Math.floor(Math.random()*xe).toString(Q),ie=Se+ie);var Ne=parseInt(ie,Q);return te&&te[ie]||Ne!==1/0&&Ne>=Math.pow(2,se)?ee>10?(r.warn("randstr failed uniqueness"),ie):K(te,se,Q,(ee||0)+1):ie},r.OptionControl=function(K,te){K||(K={}),te||(te="opt");var se={};return se.optionList=[],se._newoption=function(Q){Q[te]=K,se[Q.name]=Q,se.optionList.push(Q)},se["_"+te]=K,se},r.smooth=function(K,te){if(te=Math.round(te)||0,te<2)return K;var se=K.length,Q=2*se,ee=2*te-1,le=new Array(ee),ie=new Array(se),he,xe,Se,Ee;for(he=0;he<ee;he++)le[he]=(1-Math.cos(Math.PI*(he+1)/te))/(2*te);for(he=0;he<se;he++){for(Ee=0,xe=0;xe<ee;xe++)Se=he+xe+1-te,Se<-se?Se-=Q*Math.round(Se/Q):Se>=Q&&(Se-=Q*Math.floor(Se/Q)),Se<0?Se=-1-Se:Se>=se&&(Se=Q-1-Se),Ee+=K[Se]*le[xe];ie[he]=Ee}return ie},r.syncOrAsync=function(K,te,se){var Q,ee;function le(){return r.syncOrAsync(K,te,se)}for(;K.length;)if(ee=K.splice(0,1)[0],Q=ee(te),Q&&Q.then)return Q.then(le);return se&&se(te)},r.stripTrailingSlash=function(K){return K.substr(-1)==="/"?K.substr(0,K.length-1):K},r.noneOrAll=function(K,te,se){if(K){var Q=!1,ee=!0,le,ie;for(le=0;le<se.length;le++)ie=K[se[le]],ie!=null?Q=!0:ee=!1;if(Q&&!ee)for(le=0;le<se.length;le++)K[se[le]]=te[se[le]]}},r.mergeArray=function(K,te,se,Q){var ee=typeof Q=="function";if(r.isArrayOrTypedArray(K))for(var le=Math.min(K.length,te.length),ie=0;ie<le;ie++){var he=K[ie];te[ie][se]=ee?Q(he):he}},r.mergeArrayCastPositive=function(K,te,se){return r.mergeArray(K,te,se,function(Q){var ee=+Q;return isFinite(ee)&&ee>0?ee:0})},r.fillArray=function(K,te,se,Q){if(Q=Q||r.identity,r.isArrayOrTypedArray(K))for(var ee=0;ee<te.length;ee++)te[ee][se]=Q(K[ee])},r.castOption=function(K,te,se,Q){Q=Q||r.identity;var ee=r.nestedProperty(K,se).get();return r.isArrayOrTypedArray(ee)?Array.isArray(te)&&r.isArrayOrTypedArray(ee[te[0]])?Q(ee[te[0]][te[1]]):Q(ee[te]):ee},r.extractOption=function(K,te,se,Q){if(se in K)return K[se];var ee=r.nestedProperty(te,Q).get();if(!Array.isArray(ee))return ee};function x(K){var te={};for(var se in K)for(var Q=K[se],ee=0;ee<Q.length;ee++)te[Q[ee]]=+se;return te}r.tagSelected=function(K,te,se){var Q=te.selectedpoints,ee=te._indexToPoints,le;ee&&(le=x(ee));function ie(Ne){return Ne!==void 0&&Ne<K.length}for(var he=0;he<Q.length;he++){var xe=Q[he];if(r.isIndex(xe)||r.isArrayOrTypedArray(xe)&&r.isIndex(xe[0])&&r.isIndex(xe[1])){var Se=le?le[xe]:xe,Ee=se?se[Se]:Se;ie(Ee)&&(K[Ee].selected=1)}}},r.selIndices2selPoints=function(K){var te=K.selectedpoints,se=K._indexToPoints;if(se){for(var Q=x(se),ee=[],le=0;le<te.length;le++){var ie=te[le];if(r.isIndex(ie)){var he=Q[ie];r.isIndex(he)&&ee.push(he)}}return ee}else return te},r.getTargetArray=function(K,te){var se=te.target;if(typeof se=="string"&&se){var Q=r.nestedProperty(K,se).get();return Array.isArray(Q)?Q:!1}else if(Array.isArray(se))return se;return!1};function a(K,te,se){var Q={};typeof te!="object"&&(te={});var ee=se==="pieLike"?-1:3,le=Object.keys(K),ie,he,xe;for(ie=0;ie<le.length;ie++)he=le[ie],xe=K[he],!(he.charAt(0)==="_"||typeof xe=="function")&&(he==="module"?Q[he]=xe:Array.isArray(xe)?he==="colorscale"||ee===-1?Q[he]=xe.slice():Q[he]=xe.slice(0,ee):r.isTypedArray(xe)?ee===-1?Q[he]=xe.subarray():Q[he]=xe.subarray(0,ee):xe&&typeof xe=="object"?Q[he]=a(K[he],te[he],se):Q[he]=xe);for(le=Object.keys(te),ie=0;ie<le.length;ie++)he=le[ie],xe=te[he],(typeof xe!="object"||!(he in Q)||typeof Q[he]!="object")&&(Q[he]=xe);return Q}r.minExtend=a,r.titleCase=function(K){return K.charAt(0).toUpperCase()+K.substr(1)},r.containsAny=function(K,te){for(var se=0;se<te.length;se++)if(K.indexOf(te[se])!==-1)return!0;return!1},r.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var E=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return E.test(window.navigator.userAgent)};var w=/iPad|iPhone|iPod/;r.isIOS=function(){return w.test(window.navigator.userAgent)};var k=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var K=k.exec(window.navigator.userAgent);if(K&&K.length===2){var te=parseInt(K[1]);if(!isNaN(te))return te}return null},r.isD3Selection=function(K){return K instanceof g.selection},r.ensureSingle=function(K,te,se,Q){var ee=K.select(te+(se?"."+se:""));if(ee.size())return ee;var le=K.append(te);return se&&le.classed(se,!0),Q&&le.call(Q),le},r.ensureSingleById=function(K,te,se,Q){var ee=K.select(te+"#"+se);if(ee.size())return ee;var le=K.append(te).attr("id",se);return Q&&le.call(Q),le},r.objectFromPath=function(K,te){for(var se=K.split("."),Q,ee=Q={},le=0;le<se.length;le++){var ie=se[le],he=null,xe=se[le].match(/(.*)\[([0-9]+)\]/);xe?(ie=xe[1],he=xe[2],Q=Q[ie]=[],le===se.length-1?Q[he]=te:Q[he]={},Q=Q[he]):(le===se.length-1?Q[ie]=te:Q[ie]={},Q=Q[ie])}return ee};var I=/^([^\[\.]+)\.(.+)?/,U=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;r.expandObjectPaths=function(K){var te,se,Q,ee,le,ie,he;if(typeof K=="object"&&!Array.isArray(K))for(se in K)K.hasOwnProperty(se)&&((te=se.match(I))?(ee=K[se],Q=te[1],delete K[se],K[Q]=r.extendDeepNoArrays(K[Q]||{},r.objectFromPath(se,r.expandObjectPaths(ee))[Q])):(te=se.match(U))?(ee=K[se],Q=te[1],le=parseInt(te[2]),delete K[se],K[Q]=K[Q]||[],te[3]==="."?(he=te[4],ie=K[Q][le]=K[Q][le]||{},r.extendDeepNoArrays(ie,r.objectFromPath(he,r.expandObjectPaths(ee)))):K[Q][le]=r.expandObjectPaths(ee)):K[se]=r.expandObjectPaths(K[se]));return K},r.numSeparate=function(K,te,se){if(se||(se=!1),typeof te!="string"||te.length===0)throw new Error("Separator string required for formatting!");typeof K=="number"&&(K=String(K));var Q=/(\d+)(\d{3})/,ee=te.charAt(0),le=te.charAt(1),ie=K.split("."),he=ie[0],xe=ie.length>1?ee+ie[1]:"";if(le&&(ie.length>1||he.length>4||se))for(;Q.test(he);)he=he.replace(Q,"$1"+le+"$2");return he+xe},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var z=/^\w*$/;r.templateString=function(K,te){var se={};return K.replace(r.TEMPLATE_STRING_REGEX,function(Q,ee){var le;return z.test(ee)?le=te[ee]:(se[ee]=se[ee]||r.nestedProperty(te,ee).get,le=se[ee]()),r.isValidTextValue(le)?le:""})};var N={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return ne.apply(N,arguments)};var B={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return ne.apply(B,arguments)};var F=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function H(K){var te=K.match(F);return te?{key:te[1],op:te[2],number:Number(te[3])}:{key:K,op:null,number:null}}var X={max:10,count:0,name:"texttemplate",parseMultDiv:!0};r.texttemplateStringForShapes=function(){return ne.apply(X,arguments)};var q=/^[:|\|]/;function ne(K,te,se){var Q=this,ee=arguments;te||(te={});var le={};return K.replace(r.TEMPLATE_STRING_REGEX,function(ie,he,xe){var Se=he==="xother"||he==="yother",Ee=he==="_xother"||he==="_yother",Ne=he==="_xother_"||he==="_yother_",He=he==="xother_"||he==="yother_",Ce=Se||Ee||He||Ne,be=he;(Ee||Ne)&&(be=be.substring(1)),(He||Ne)&&(be=be.substring(0,be.length-1));var we=null,ke=null;if(Q.parseMultDiv){var Fe=H(be);be=Fe.key,we=Fe.op,ke=Fe.number}var Pe;if(Ce){if(Pe=te[be],Pe===void 0)return""}else{var Ge,nt;for(nt=3;nt<ee.length;nt++)if(Ge=ee[nt],!!Ge){if(Ge.hasOwnProperty(be)){Pe=Ge[be];break}if(z.test(be)||(Pe=r.nestedProperty(Ge,be).get(),Pe=le[be]||r.nestedProperty(Ge,be).get(),Pe&&(le[be]=Pe)),Pe!==void 0)break}}if(Pe!==void 0&&(we==="*"&&(Pe*=ke),we==="/"&&(Pe/=ke)),Pe===void 0&&Q)return Q.count<Q.max&&(r.warn("Variable '"+be+"' in "+Q.name+" could not be found!"),Pe=ie),Q.count===Q.max&&r.warn("Too many "+Q.name+" warnings - additional warnings will be suppressed"),Q.count++,ie;if(xe){var qe;if(xe[0]===":"&&(qe=se?se.numberFormat:r.numberFormat,Pe=qe(xe.replace(q,""))(Pe)),xe[0]==="|"){qe=se?se.timeFormat:R;var Ke=r.dateTime2ms(Pe);Pe=r.formatDate(Ke,xe.replace(q,""),!1,qe)}}else{var $e=be+"Label";te.hasOwnProperty($e)&&(Pe=te[$e])}return Ce&&(Pe="("+Pe+")",(Ee||Ne)&&(Pe=" "+Pe),(He||Ne)&&(Pe=Pe+" ")),Pe})}var oe=48,ve=57;r.subplotSort=function(K,te){for(var se=Math.min(K.length,te.length)+1,Q=0,ee=0,le=0;le<se;le++){var ie=K.charCodeAt(le)||0,he=te.charCodeAt(le)||0,xe=ie>=oe&&ie<=ve,Se=he>=oe&&he<=ve;if(xe&&(Q=10*Q+ie-oe),Se&&(ee=10*ee+he-oe),!xe||!Se){if(Q!==ee)return Q-ee;if(ie!==he)return ie-he}}return ee-Q};var J=2e9;r.seedPseudoRandom=function(){J=2e9},r.pseudoRandom=function(){var K=J;return J=(69069*J+1)%4294967296,Math.abs(J-K)<429496729?r.pseudoRandom():J/4294967296},r.fillText=function(K,te,se){var Q=Array.isArray(se)?function(ie){se.push(ie)}:function(ie){se.text=ie},ee=r.extractOption(K,te,"htx","hovertext");if(r.isValidTextValue(ee))return Q(ee);var le=r.extractOption(K,te,"tx","text");if(r.isValidTextValue(le))return Q(le)},r.isValidTextValue=function(K){return K||K===0},r.formatPercent=function(K,te){te=te||0;for(var se=(Math.round(100*K*Math.pow(10,te))*Math.pow(.1,te)).toFixed(te)+"%",Q=0;Q<te;Q++)se.indexOf(".")!==-1&&(se=se.replace("0%","%"),se=se.replace(".%","%"));return se},r.isHidden=function(K){var te=window.getComputedStyle(K).display;return!te||te==="none"},r.strTranslate=function(K,te){return K||te?"translate("+K+","+te+")":""},r.strRotate=function(K){return K?"rotate("+K+")":""},r.strScale=function(K){return K!==1?"scale("+K+")":""},r.getTextTransform=function(K){var te=K.noCenter,se=K.textX,Q=K.textY,ee=K.targetX,le=K.targetY,ie=K.anchorX||0,he=K.anchorY||0,xe=K.rotate,Se=K.scale;return Se?Se>1&&(Se=1):Se=0,r.strTranslate(ee-Se*(se+ie),le-Se*(Q+he))+r.strScale(Se)+(xe?"rotate("+xe+(te?"":" "+se+" "+Q)+")":"")},r.setTransormAndDisplay=function(K,te){K.attr("transform",r.getTextTransform(te)),K.style("display",te.scale?null:"none")},r.ensureUniformFontSize=function(K,te){var se=r.extendFlat({},te);return se.size=Math.max(te.size,K._fullLayout.uniformtext.minsize||0),se},r.join2=function(K,te,se){var Q=K.length;return Q>1?K.slice(0,-1).join(te)+se+K[Q-1]:K.join(te)},r.bigFont=function(K){return Math.round(1.2*K)};var Y=r.getFirefoxVersion(),j=Y!==null&&Y<86;r.getPositionFromD3Event=function(){return j?[g.event.layerX,g.event.layerY]:[g.event.offsetX,g.event.offsetY]}},41965:function(G){G.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(G,V,e){var g=e(65487),R=/^\w*$/,i=0,L=1,T=2,v=3,p=4;G.exports=function(r,l,n,s){n=n||"name",s=s||"value";var c,u,y,h={};l&&l.length?(y=g(r,l),u=y.get()):u=r,l=l||"";var b={};if(u)for(c=0;c<u.length;c++)b[u[c][n]]=c;var f=R.test(s),o={set:function(d,A){var M=A===null?p:i;if(!u){if(!y||M===p)return;u=[],y.set(u)}var C=b[d];if(C===void 0){if(M===p)return;M=M|v,C=u.length,b[d]=C}else A!==(f?u[C][s]:g(u[C],s).get())&&(M=M|T);var m=u[C]=u[C]||{};return m[n]=d,f?m[s]=A:g(m,s).set(A),A!==null&&(M=M&~p),h[C]=h[C]|M,o},get:function(d){if(u){var A=b[d];if(A!==void 0)return f?u[A][s]:g(u[A],s).get()}},rename:function(d,A){var M=b[d];return M===void 0||(h[M]=h[M]|L,b[A]=M,delete b[d],u[M][n]=A),o},remove:function(d){var A=b[d];if(A===void 0)return o;var M=u[A];if(Object.keys(M).length>2)return h[A]=h[A]|T,o.set(d,null);if(f){for(c=A;c<u.length;c++)h[c]=h[c]|v;for(c=A;c<u.length;c++)b[u[c][n]]--;u.splice(A,1),delete b[d]}else g(M,s).set(null),h[A]=h[A]|T|p;return o},constructUpdate:function(){for(var d,A,M={},C=Object.keys(h),m=0;m<C.length;m++)A=C[m],d=l+"["+A+"]",u[A]?(h[A]&L&&(M[d+"."+n]=u[A][n]),h[A]&T&&(f?M[d+"."+s]=h[A]&p?null:u[A][s]:M[d+"."+s]=h[A]&p?null:g(u[A],s).get())):M[d]=null;return M}};return o}},15867:function(G,V,e){var g=e(73972);G.exports=function(i,L){for(var T=i._context.locale,v=0;v<2;v++){for(var p=i._context.locales,t=0;t<2;t++){var r=(p[T]||{}).dictionary;if(r){var l=r[L];if(l)return l}p=g.localeRegistry}var n=T.split("-")[0];if(n===T)break;T=n}return L}},47769:function(G,V,e){var g=e(72075).dfltConfig,R=e(75046),i=G.exports={};i.log=function(){var L;if(g.logging>1){var T=["LOG:"];for(L=0;L<arguments.length;L++)T.push(arguments[L]);console.trace.apply(console,T)}if(g.notifyOnLogging>1){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);R(v.join("<br>"),"long")}},i.warn=function(){var L;if(g.logging>0){var T=["WARN:"];for(L=0;L<arguments.length;L++)T.push(arguments[L]);console.trace.apply(console,T)}if(g.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);R(v.join("<br>"),"stick")}},i.error=function(){var L;if(g.logging>0){var T=["ERROR:"];for(L=0;L<arguments.length;L++)T.push(arguments[L]);console.error.apply(console,T)}if(g.notifyOnLogging>0){var v=[];for(L=0;L<arguments.length;L++)v.push(arguments[L]);R(v.join("<br>"),"stick")}}},77310:function(G,V,e){var g=e(39898);G.exports=function(i,L,T){var v=i.selectAll("g."+T.replace(/\s/g,".")).data(L,function(t){return t[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",T),v.order();var p=i.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(t){t[0][p]=g.select(this)}),v}},35657:function(G,V,e){var g=e(79576);V.init2dArray=function(R,i){for(var L=new Array(R),T=0;T<R;T++)L[T]=new Array(i);return L},V.transposeRagged=function(R){var i=0,L=R.length,T,v;for(T=0;T<L;T++)i=Math.max(i,R[T].length);var p=new Array(i);for(T=0;T<i;T++)for(p[T]=new Array(L),v=0;v<L;v++)p[T][v]=R[v][T];return p},V.dot=function(R,i){if(!(R.length&&i.length)||R.length!==i.length)return null;var L=R.length,T,v;if(R[0].length)for(T=new Array(L),v=0;v<L;v++)T[v]=V.dot(R[v],i);else if(i[0].length){var p=V.transposeRagged(i);for(T=new Array(p.length),v=0;v<p.length;v++)T[v]=V.dot(R,p[v])}else for(T=0,v=0;v<L;v++)T+=R[v]*i[v];return T},V.translationMatrix=function(R,i){return[[1,0,R],[0,1,i],[0,0,1]]},V.rotationMatrix=function(R){var i=R*Math.PI/180;return[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]]},V.rotationXYMatrix=function(R,i,L){return V.dot(V.dot(V.translationMatrix(i,L),V.rotationMatrix(R)),V.translationMatrix(-i,-L))},V.apply3DTransform=function(R){return function(){var i=arguments,L=arguments.length===1?i[0]:[i[0],i[1],i[2]||0];return V.dot(R,[L[0],L[1],L[2],1]).slice(0,3)}},V.apply2DTransform=function(R){return function(){var i=arguments;i.length===3&&(i=i[0]);var L=arguments.length===1?i[0]:[i[0],i[1]];return V.dot(R,[L[0],L[1],1]).slice(0,2)}},V.apply2DTransform2=function(R){var i=V.apply2DTransform(R);return function(L){return i(L.slice(0,2)).concat(i(L.slice(2,4)))}},V.convertCssMatrix=function(R){if(R){var i=R.length;if(i===16)return R;if(i===6)return[R[0],R[1],0,0,R[2],R[3],0,0,0,0,1,0,R[4],R[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},V.inverseTransformMatrix=function(R){var i=[];return g.invert(i,R),[[i[0],i[1],i[2],i[3]],[i[4],i[5],i[6],i[7]],[i[8],i[9],i[10],i[11]],[i[12],i[13],i[14],i[15]]]}},64872:function(G){function V(g,R){var i=g%R;return i<0?i+R:i}function e(g,R){return Math.abs(g)>R/2?g-Math.round(g/R)*R:g}G.exports={mod:V,modHalf:e}},65487:function(G,V,e){var g=e(92770),R=e(73627).isArrayOrTypedArray;G.exports=function(s,c){if(g(c))c=String(c);else if(typeof c!="string"||c.substr(c.length-4)==="[-1]")throw"bad property string";for(var u=0,y=c.split("."),h,b,f;u<y.length;){if(h=String(y[u]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),h){if(h[1])y[u]=h[1];else if(u===0)y.splice(0,1);else throw"bad property string";for(b=h[2].substr(1,h[2].length-2).split("]["),f=0;f<b.length;f++)u++,y.splice(u,0,Number(b[f]))}u++}return typeof s!="object"?l(s,c,y):{set:v(s,y,c),get:i(s,y),astr:c,parts:y,obj:s}};function i(n,s){return function(){var c=n,u,y,h,b,f;for(b=0;b<s.length-1;b++){if(u=s[b],u===-1){for(y=!0,h=[],f=0;f<c.length;f++)h[f]=i(c[f],s.slice(b+1))(),h[f]!==h[0]&&(y=!1);return y?h[0]:h}if(typeof u=="number"&&!R(c)||(c=c[u],typeof c!="object"||c===null))return}if(!(typeof c!="object"||c===null)&&(h=c[s[b]],h!==null))return h}}var L=/(^|\.)args\[/;function T(n,s){return n===void 0||n===null&&!s.match(L)}function v(n,s,c){return function(u){var y=n,h="",b=T(u,c),f,o;for(o=0;o<s.length-1;o++){if(f=s[o],typeof f=="number"&&!R(y))throw"array index but container is not an array";if(f===-1){if(b=!t(y,s.slice(o+1),u,c),b)break;return}if(!r(y,f,s[o+1],b))break;if(y=y[f],typeof y!="object"||y===null)throw"container is not an object";h=p(h,f)}if(b){if(o===s.length-1&&(delete y[s[o]],Array.isArray(y)&&+s[o]===y.length-1))for(;y.length&&y[y.length-1]===void 0;)y.pop()}else y[s[o]]=u}}function p(n,s){var c=s;return g(s)?c="["+s+"]":n&&(c="."+s),n+c}function t(n,s,c,u){var y=R(c),h=!0,b=c,f=u.replace("-1",0),o=y?!1:T(c,f),d=s[0],A;for(A=0;A<n.length;A++)f=u.replace("-1",A),y&&(b=c[A%c.length],o=T(b,f)),o&&(h=!1),r(n,A,d,o)&&v(n[A],s,u.replace("-1",A))(b);return h}function r(n,s,c,u){if(n[s]===void 0){if(u)return!1;typeof c=="number"?n[s]=[]:n[s]={}}return!0}function l(n,s,c){return{set:function(){throw"bad container"},get:function(){},astr:s,parts:c,obj:n}}},64213:function(G){G.exports=function(){}},75046:function(G,V,e){var g=e(39898),R=e(92770),i=[];G.exports=function(L,T){if(i.indexOf(L)!==-1)return;i.push(L);var v=1e3;R(T)?v=T:T==="long"&&(v=3e3);var p=g.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var t=p.selectAll(".notifier-note").data(i);function r(l){l.duration(700).style("opacity",0).each("end",function(n){var s=i.indexOf(n);s!==-1&&i.splice(s,1),g.select(this).remove()})}t.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(l){var n=g.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(r)});for(var s=n.append("p"),c=l.split(/<br\s*\/?>/g),u=0;u<c.length;u++)u&&s.append("br"),s.append("span").text(c[u]);T==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(r)})}},39918:function(G,V,e){var g=e(6964),R="data-savedcursor",i="!!";G.exports=function(T,v){var p=T.attr(R);if(v){if(!p){for(var t=(T.attr("class")||"").split(" "),r=0;r<t.length;r++){var l=t[r];l.indexOf("cursor-")===0&&T.attr(R,l.substr(7)).classed(l,!1)}T.attr(R)||T.attr(R,i)}g(T,v)}else p&&(T.attr(R,null),p===i?g(T):g(T,p))}},61082:function(G,V,e){var g=e(35657).dot,R=e(50606).BADNUM,i=G.exports={};i.tester=function(T){var v=T.slice(),p=v[0][0],t=p,r=v[0][1],l=r,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)p=Math.min(p,v[n][0]),t=Math.max(t,v[n][0]),r=Math.min(r,v[n][1]),l=Math.max(l,v[n][1]);var s=!1,c;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(s=!0,c=function(f){return f[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(s=!0,c=function(f){return f[1]===v[0][1]}));function u(f,o){var d=f[0],A=f[1];return!(d===R||d<p||d>t||A===R||A<r||A>l||o&&c(f))}function y(f,o){var d=f[0],A=f[1];if(d===R||d<p||d>t||A===R||A<r||A>l)return!1;var M=v.length,C=v[0][0],m=v[0][1],S=0,x,a,E,w,k;for(x=1;x<M;x++)if(a=C,E=m,C=v[x][0],m=v[x][1],w=Math.min(a,C),!(d<w||d>Math.max(a,C)||A>Math.max(E,m)))if(A<Math.min(E,m))d!==w&&S++;else{if(C===a?k=A:k=E+(d-a)*(m-E)/(C-a),A===k)return!(x===1&&o);A<=k&&d!==w&&S++}return S%2===1}var h=!0,b=v[0];for(n=1;n<v.length;n++)if(b[0]!==v[n][0]||b[1]!==v[n][1]){h=!1;break}return{xmin:p,xmax:t,ymin:r,ymax:l,pts:v,contains:s?u:y,isRect:s,degenerate:h}},i.isSegmentBent=function(T,v,p,t){var r=T[v],l=[T[p][0]-r[0],T[p][1]-r[1]],n=g(l,l),s=Math.sqrt(n),c=[-l[1]/s,l[0]/s],u,y,h;for(u=v+1;u<p;u++)if(y=[T[u][0]-r[0],T[u][1]-r[1]],h=g(y,l),h<0||h>n||Math.abs(g(y,c))>t)return!0;return!1},i.filter=function(T,v){var p=[T[0]],t=0,r=0;function l(s){T.push(s);var c=p.length,u=t;p.splice(r+1);for(var y=u+1;y<T.length;y++)(y===T.length-1||i.isSegmentBent(T,u,y+1,v))&&(p.push(T[y]),p.length<c-2&&(t=y,r=p.length-1),u=y)}if(T.length>1){var n=T.pop();l(n)}return{addPt:l,raw:T,filtered:p}}},79749:function(G,V,e){var g=e(58617),R=e(98580);G.exports=function(L,T,v){var p=L._fullLayout,t=!0;return p._glcanvas.each(function(r){if(r.regl){r.regl.preloadCachedCode(v);return}if(!(r.pick&&!p._has("parcoords"))){try{r.regl=R({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:L._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:T||[],cachedCode:v||{}})}catch{t=!1}r.regl||(t=!1),t&&this.addEventListener("webglcontextlost",function(l){L&&L.emit&&L.emit("plotly_webglcontextlost",{event:l,layer:r.key})},!1)}}),t||g({container:p._glcontainer.node()}),t}},45142:function(G,V,e){var g=e(92770),R=e(35791);G.exports=function(T){var v;if(T&&T.hasOwnProperty("userAgent")?v=T.userAgent:v=i(),typeof v!="string")return!0;var p=R({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!p)for(var t=v.split(" "),r=1;r<t.length;r++){var l=t[r];if(l.indexOf("Safari")!==-1)for(var n=r-1;n>-1;n--){var s=t[n];if(s.substr(0,8)==="Version/"){var c=s.substr(8).split(".")[0];if(g(c)&&(c=+c),c>=13)return!0}}}return p};function i(){var L;return typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),L}},75138:function(G){G.exports=function(e,g){if(g instanceof RegExp){for(var R=g.toString(),i=0;i<e.length;i++)if(e[i]instanceof RegExp&&e[i].toString()===R)return e;e.push(g)}else(g||g===0)&&e.indexOf(g)===-1&&e.push(g);return e}},10847:function(G,V,e){var g=e(71828),R=e(72075).dfltConfig;function i(T,v){for(var p=[],t,r=0;r<v.length;r++)t=v[r],t===T?p[r]=t:typeof t=="object"?p[r]=Array.isArray(t)?g.extendDeep([],t):g.extendDeepAll({},t):p[r]=t;return p}var L={};L.add=function(T,v,p,t,r){var l,n;if(T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},n=T.undoQueue.index,T.autoplay){T.undoQueue.inSequence||(T.autoplay=!1);return}!T.undoQueue.sequence||T.undoQueue.beginSequence?(l={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},T.undoQueue.queue.splice(n,T.undoQueue.queue.length-n,l),T.undoQueue.index+=1):l=T.undoQueue.queue[n-1],T.undoQueue.beginSequence=!1,l&&(l.undo.calls.unshift(v),l.undo.args.unshift(p),l.redo.calls.push(t),l.redo.args.push(r)),T.undoQueue.queue.length>R.queueLength&&(T.undoQueue.queue.shift(),T.undoQueue.index--)},L.startSequence=function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!0,T.undoQueue.beginSequence=!0},L.stopSequence=function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!1,T.undoQueue.beginSequence=!1},L.undo=function(v){var p,t;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,t=0;t<p.undo.calls.length;t++)L.plotDo(v,p.undo.calls[t],p.undo.args[t]);v.undoQueue.inSequence=!1,v.autoplay=!1}},L.redo=function(v){var p,t;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(p=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,t=0;t<p.redo.calls.length;t++)L.plotDo(v,p.redo.calls[t],p.redo.args[t]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},L.plotDo=function(T,v,p){T.autoplay=!0,p=i(T,p),v.apply(null,p)},G.exports=L},30587:function(G,V){V.counter=function(e,g,R,i){var L=(g||"")+(R?"":"$"),T=i===!1?"":"^";return e==="xy"?new RegExp(T+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+L):new RegExp(T+e+"([2-9]|[1-9][0-9]+)?"+L)}},6962:function(G){var V=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;G.exports=function(g,R){for(;R;){var i=g.match(V);if(i)g=i[1];else if(g.match(e))g="";else throw new Error("bad relativeAttr call:"+[g,R]);if(R.charAt(0)==="^")R=R.slice(1);else break}return g&&R.charAt(0)!=="["?g+"."+R:g+R}},51332:function(G,V,e){var g=e(73627).isArrayOrTypedArray,R=e(41965);G.exports=function i(L,T){for(var v in T){var p=T[v],t=L[v];if(t!==p)if(v.charAt(0)==="_"||typeof p=="function"){if(v in L)continue;L[v]=p}else if(g(p)&&g(t)&&R(p[0])){if(v==="customdata"||v==="ids")continue;for(var r=Math.min(p.length,t.length),l=0;l<r;l++)t[l]!==p[l]&&R(p[l])&&R(t[l])&&i(t[l],p[l])}else R(p)&&R(t)&&(i(t,p),Object.keys(t).length||delete L[v])}}},65888:function(G,V,e){var g=e(92770),R=e(47769),i=e(23389),L=e(50606).BADNUM,T=1e-9;V.findBin=function(l,n,s){if(g(n.start))return s?Math.ceil((l-n.start)/n.size-T)-1:Math.floor((l-n.start)/n.size+T);var c=0,u=n.length,y=0,h=u>1?(n[u-1]-n[0])/(u-1):1,b,f;for(h>=0?f=s?v:p:f=s?r:t,l+=h*T*(s?-1:1)*(h>=0?1:-1);c<u&&y++<100;)b=Math.floor((c+u)/2),f(n[b],l)?c=b+1:u=b;return y>90&&R.log("Long binary search..."),c-1};function v(l,n){return l<n}function p(l,n){return l<=n}function t(l,n){return l>n}function r(l,n){return l>=n}V.sorterAsc=function(l,n){return l-n},V.sorterDes=function(l,n){return n-l},V.distinctVals=function(l){var n=l.slice();n.sort(V.sorterAsc);var s;for(s=n.length-1;s>-1&&n[s]===L;s--);for(var c=n[s]-n[0]||1,u=c/(s||1)/1e4,y=[],h,b=0;b<=s;b++){var f=n[b],o=f-h;h===void 0?(y.push(f),h=f):o>u&&(c=Math.min(c,o),y.push(f),h=f)}return{vals:y,minDiff:c}},V.roundUp=function(l,n,s){for(var c=0,u=n.length-1,y,h=0,b=s?0:1,f=s?1:0,o=s?Math.ceil:Math.floor;c<u&&h++<100;)y=o((c+u)/2),n[y]<=l?c=y+b:u=y-f;return n[c]},V.sort=function(l,n){for(var s=0,c=0,u=1;u<l.length;u++){var y=n(l[u],l[u-1]);if(y<0?s=1:y>0&&(c=1),s&&c)return l.sort(n)}return c?l:l.reverse()},V.findIndexOfMin=function(l,n){n=n||i;for(var s=1/0,c,u=0;u<l.length;u++){var y=n(l[u]);y<s&&(s=y,c=u)}return c}},6964:function(G){G.exports=function(e,g){(e.attr("class")||"").split(" ").forEach(function(R){R.indexOf("cursor-")===0&&e.classed(R,!1)}),g&&e.classed("cursor-"+g,!0)}},58617:function(G,V,e){var g=e(7901),R=function(){};G.exports=function(L){for(var T in L)typeof L[T]=="function"&&(L[T]=R);L.destroy=function(){L.container.parentNode.removeChild(L.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=g.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=g.lightLine,v.style["z-index"]=30;var p=document.createElement("p");return p.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",p.style.position="relative",p.style.top="50%",p.style.left="50%",p.style.height="30%",p.style.width="50%",p.style.margin="-15% 0 0 -25%",v.appendChild(p),L.container.appendChild(v),L.container.style.background="#FFFFFF",L.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(G){G.exports=function(e){return Object.keys(e).sort()}},80038:function(G,V,e){var g=e(92770),R=e(73627).isArrayOrTypedArray;V.aggNums=function(i,L,T,v){var p,t;if((!v||v>T.length)&&(v=T.length),g(L)||(L=!1),R(T[0])){for(t=new Array(v),p=0;p<v;p++)t[p]=V.aggNums(i,L,T[p]);T=t}for(p=0;p<v;p++)g(L)?g(T[p])&&(L=i(+L,+T[p])):L=T[p];return L},V.len=function(i){return V.aggNums(function(L){return L+1},0,i)},V.mean=function(i,L){return L||(L=V.len(i)),V.aggNums(function(T,v){return T+v},0,i)/L},V.midRange=function(i){if(!(i===void 0||i.length===0))return(V.aggNums(Math.max,null,i)+V.aggNums(Math.min,null,i))/2},V.variance=function(i,L,T){return L||(L=V.len(i)),g(T)||(T=V.mean(i,L)),V.aggNums(function(v,p){return v+Math.pow(p-T,2)},0,i)/L},V.stdev=function(i,L,T){return Math.sqrt(V.variance(i,L,T))},V.median=function(i){var L=i.slice().sort();return V.interp(L,.5)},V.interp=function(i,L){if(!g(L))throw"n should be a finite number";if(L=L*i.length-.5,L<0)return i[0];if(L>i.length-1)return i[i.length-1];var T=L%1;return T*i[Math.ceil(L)]+(1-T)*i[Math.floor(L)]}},78614:function(G,V,e){var g=e(25075);function R(i){return i?g(i):[0,0,0,1]}G.exports=R},3883:function(G,V,e){var g=e(32396),R=e(91424),i=e(71828),L=null;function T(){if(L!==null)return L;L=!1;var v=i.isIE()||i.isSafari()||i.isIOS();if(window.navigator.userAgent&&!v){var p=Array.from(g.CSS_DECLARATIONS).reverse(),t=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof t=="function")L=p.some(function(s){return t.apply(null,s)});else{var r=R.tester.append("image").attr("style",g.STYLE),l=window.getComputedStyle(r.node()),n=l.imageRendering;L=p.some(function(s){var c=s[1];return n===c||n===c.toLowerCase()}),r.remove()}}return L}G.exports=T},63893:function(G,V,e){var g=e(39898),R=e(71828),i=R.strTranslate,L=e(77922),T=e(18783).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;V.convertToTspans=function(B,F,H){var X=B.text(),q=!B.attr("data-notex")&&F&&F._context.typesetMath&&typeof MathJax<"u"&&X.match(v),ne=g.select(B.node().parentNode);if(ne.empty())return;var oe=B.attr("class")?B.attr("class").split(" ")[0]:"text";oe+="-math",ne.selectAll("svg."+oe).remove(),ne.selectAll("g."+oe+"-group").remove(),B.style("display",null).attr({"data-unformatted":X,"data-math":"N"});function ve(){ne.empty()||(oe=B.attr("class")+"-math",ne.select("svg."+oe).remove()),B.text("").style("white-space","pre");var J=I(B.node(),X);J&&B.style("pointer-events","all"),V.positionText(B),H&&H.call(B)}return q?(F&&F._promises||[]).push(new Promise(function(J){B.style("display","none");var Y=parseInt(B.node().style.fontSize,10),j={fontSize:Y};n(q[2],j,function(K,te,se){ne.selectAll("svg."+oe).remove(),ne.selectAll("g."+oe+"-group").remove();var Q=K&&K.select("svg");if(!Q||!Q.node()){ve(),J();return}var ee=ne.append("g").classed(oe+"-group",!0).attr({"pointer-events":"none","data-unformatted":X,"data-math":"Y"});ee.node().appendChild(Q.node()),te&&te.node()&&Q.node().insertBefore(te.node().cloneNode(!0),Q.node().firstChild);var le=se.width,ie=se.height;Q.attr({class:oe,height:ie,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var he=B.node().style.fill||"black",xe=Q.select("g");xe.attr({fill:he,stroke:he});var Se=xe.node().getBoundingClientRect(),Ee=Se.width,Ne=Se.height;(Ee>le||Ne>ie)&&(Q.style("overflow","hidden"),Se=Q.node().getBoundingClientRect(),Ee=Se.width,Ne=Se.height);var He=+B.attr("x"),Ce=+B.attr("y"),be=Y||B.node().getBoundingClientRect().height,we=-be/4;if(oe[0]==="y")ee.attr({transform:"rotate("+[-90,He,Ce]+")"+i(-Ee/2,we-Ne/2)});else if(oe[0]==="l")Ce=we-Ne/2;else if(oe[0]==="a"&&oe.indexOf("atitle")!==0)He=0,Ce=we;else{var ke=B.attr("text-anchor");He=He-Ee*(ke==="middle"?.5:ke==="end"?1:0),Ce=Ce+we-Ne/2}Q.attr({x:He,y:Ce}),H&&H.call(B,ee),J(ee)})})):ve(),B};var p=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g;function r(B){return B.replace(p,"\\lt ").replace(t,"\\gt ")}var l=[["$","$"],["\\(","\\)"]];function n(B,F,H){var X=parseInt((MathJax.version||"").split(".")[0]);if(X!==2&&X!==3){R.warn("No MathJax version:",MathJax.version);return}var q,ne,oe,ve,J=function(){return ne=R.extendDeepAll({},MathJax.Hub.config),oe=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:l},displayAlign:"left"})},Y=function(){ne=R.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=l},j=function(){if(q=MathJax.Hub.config.menuSettings.renderer,q!=="SVG")return MathJax.Hub.setRenderer("SVG")},K=function(){q=MathJax.config.startup.output,q!=="svg"&&(MathJax.config.startup.output="svg")},te=function(){var he="math-output-"+R.randstr({},64);ve=g.select("body").append("div").attr({id:he}).style({visibility:"hidden",position:"absolute","font-size":F.fontSize+"px"}).text(r(B));var xe=ve.node();return X===2?MathJax.Hub.Typeset(xe):MathJax.typeset([xe])},se=function(){var he=ve.select(X===2?".MathJax_SVG":".MathJax"),xe=!he.empty()&&ve.select("svg").node();if(!xe)R.log("There was an error in the tex syntax.",B),H();else{var Se=xe.getBoundingClientRect(),Ee;X===2?Ee=g.select("body").select("#MathJax_SVG_glyphs"):Ee=he.select("defs"),H(he,Ee,Se)}ve.remove()},Q=function(){if(q!=="SVG")return MathJax.Hub.setRenderer(q)},ee=function(){q!=="svg"&&(MathJax.config.startup.output=q)},le=function(){return oe!==void 0&&(MathJax.Hub.processSectionDelay=oe),MathJax.Hub.Config(ne)},ie=function(){MathJax.config=ne};X===2?MathJax.Hub.Queue(J,j,te,se,Q,le):X===3&&(Y(),K(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){te(),se(),ee(),ie()}))}var s={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},c={sub:"0.3em",sup:"-0.6em"},u={sub:"-0.21em",sup:"0.42em"},y="",h=["http:","https:","mailto:","",void 0,":"],b=V.NEWLINES=/(\r\n?|\n)/g,f=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;V.BR_TAG_ALL=/<br(\s+.*)?>/gi;var A=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,M=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,C=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function S(B,F){if(!B)return null;var H=B.match(F),X=H&&(H[3]||H[4]);return X&&w(X)}var x=/(^|;)\s*color:/;V.plainText=function(B,F){F=F||{};for(var H=F.len!==void 0&&F.len!==-1?F.len:1/0,X=F.allowedTags!==void 0?F.allowedTags:["br"],q="...",ne=q.length,oe=B.split(f),ve=[],J="",Y=0,j=0;j<oe.length;j++){var K=oe[j],te=K.match(o),se=te&&te[2].toLowerCase();if(se)X.indexOf(se)!==-1&&(ve.push(K),J=se);else{var Q=K.length;if(Y+Q<H)ve.push(K),Y+=Q;else if(Y<H){var ee=H-Y;J&&(J!=="br"||ee<=ne||Q<=ne)&&ve.pop(),H>ne?ve.push(K.substr(0,ee-ne)+q):ve.push(K.substr(0,ee));break}J=""}}return ve.join("")};var a={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},E=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function w(B){return B.replace(E,function(F,H){var X;return H.charAt(0)==="#"?X=k(H.charAt(1)==="x"?parseInt(H.substr(2),16):parseInt(H.substr(1),10)):X=a[H],X||F})}V.convertEntities=w;function k(B){if(!(B>1114111)){var F=String.fromCodePoint;if(F)return F(B);var H=String.fromCharCode;return B<=65535?H(B):H((B>>10)+55232,B%1024+56320)}}function I(B,F){F=F.replace(b," ");var H=!1,X=[],q,ne=-1;function oe(){ne++;var Ne=document.createElementNS(L.svg,"tspan");g.select(Ne).attr({class:"line",dy:ne*T+"em"}),B.appendChild(Ne),q=Ne;var He=X;if(X=[{node:Ne}],He.length>1)for(var Ce=1;Ce<He.length;Ce++)ve(He[Ce])}function ve(Ne){var He=Ne.type,Ce={},be;if(He==="a"){be="a";var we=Ne.target,ke=Ne.href,Fe=Ne.popup;ke&&(Ce={"xlink:xlink:show":we==="_blank"||we.charAt(0)!=="_"?"new":"replace",target:we,"xlink:xlink:href":ke},Fe&&(Ce.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Fe+'");return false;'))}else be="tspan";Ne.style&&(Ce.style=Ne.style);var Pe=document.createElementNS(L.svg,be);if(He==="sup"||He==="sub"){J(q,y),q.appendChild(Pe);var Ge=document.createElementNS(L.svg,"tspan");J(Ge,y),g.select(Ge).attr("dy",u[He]),Ce.dy=c[He],q.appendChild(Pe),q.appendChild(Ge)}else q.appendChild(Pe);g.select(Pe).attr(Ce),q=Ne.node=Pe,X.push(Ne)}function J(Ne,He){Ne.appendChild(document.createTextNode(He))}function Y(Ne){if(X.length===1){R.log("Ignoring unexpected end tag </"+Ne+">.",F);return}var He=X.pop();Ne!==He.type&&R.log("Start tag <"+He.type+"> doesnt match end tag <"+Ne+">. Pretending it did match.",F),q=X[X.length-1].node}var j=d.test(F);j?oe():(q=B,X=[{node:B}]);for(var K=F.split(f),te=0;te<K.length;te++){var se=K[te],Q=se.match(o),ee=Q&&Q[2].toLowerCase(),le=s[ee];if(ee==="br")oe();else if(le===void 0)J(q,w(se));else if(Q[1])Y(ee);else{var ie=Q[4],he={type:ee},xe=S(ie,A);if(xe?(xe=xe.replace(x,"$1 fill:"),le&&(xe+=";"+le)):le&&(xe=le),xe&&(he.style=xe),ee==="a"){H=!0;var Se=S(ie,M);if(Se){var Ee=U(Se);Ee&&(he.href=Ee,he.target=S(ie,C)||"_blank",he.popup=S(ie,m))}}ve(he)}}return H}function U(B){var F=encodeURI(decodeURI(B)),H=document.createElement("a"),X=document.createElement("a");H.href=B,X.href=F;var q=H.protocol,ne=X.protocol;return h.indexOf(q)!==-1&&h.indexOf(ne)!==-1?F:""}V.sanitizeHTML=function(F){F=F.replace(b," ");for(var H=document.createElement("p"),X=H,q=[],ne=F.split(f),oe=0;oe<ne.length;oe++){var ve=ne[oe],J=ve.match(o),Y=J&&J[2].toLowerCase();if(Y in s)if(J[1])q.length&&(X=q.pop());else{var j=J[4],K=S(j,A),te=K?{style:K}:{};if(Y==="a"){var se=S(j,M);if(se){var Q=U(se);if(Q){te.href=Q;var ee=S(j,C);ee&&(te.target=ee)}}}var le=document.createElement(Y);X.appendChild(le),g.select(le).attr(te),X=le,q.push(le)}else X.appendChild(document.createTextNode(w(ve)))}var ie="innerHTML";return H[ie]},V.lineCount=function(F){return F.selectAll("tspan.line").size()||1},V.positionText=function(F,H,X){return F.each(function(){var q=g.select(this);function ne(J,Y){return Y===void 0?(Y=q.attr(J),Y===null&&(q.attr(J,0),Y=0)):q.attr(J,Y),Y}var oe=ne("x",H),ve=ne("y",X);this.nodeName==="text"&&q.selectAll("tspan.line").attr({x:oe,y:ve})})};function z(B,F,H){var X=H.horizontalAlign,q=H.verticalAlign||"top",ne=B.node().getBoundingClientRect(),oe=F.node().getBoundingClientRect(),ve,J,Y;return q==="bottom"?J=function(){return ne.bottom-ve.height}:q==="middle"?J=function(){return ne.top+(ne.height-ve.height)/2}:J=function(){return ne.top},X==="right"?Y=function(){return ne.right-ve.width}:X==="center"?Y=function(){return ne.left+(ne.width-ve.width)/2}:Y=function(){return ne.left},function(){ve=this.node().getBoundingClientRect();var j=Y()-oe.left,K=J()-oe.top,te=H.gd||{};if(H.gd){te._fullLayout._calcInverseTransform(te);var se=R.apply3DTransform(te._fullLayout._invTransform)(j,K);j=se[0],K=se[1]}return this.style({top:K+"px",left:j+"px","z-index":1e3}),this}}var N="1px ";V.makeTextShadow=function(B){var F=N,H=N,X=N;return F+H+X+B+", -"+F+"-"+H+X+B+", "+F+"-"+H+X+B+", -"+F+H+X+B},V.makeEditable=function(B,F){var H=F.gd,X=F.delegate,q=g.dispatch("edit","input","cancel"),ne=X||B;if(B.style({"pointer-events":X?"none":"all"}),B.size()!==1)throw new Error("boo");function oe(){J(),B.style({opacity:0});var Y=ne.attr("class"),j;Y?j="."+Y.split(" ")[0]+"-math-group":j="[class*=-math-group]",j&&g.select(B.node().parentNode).select(j).style({opacity:0})}function ve(Y){var j=Y.node(),K=document.createRange();K.selectNodeContents(j);var te=window.getSelection();te.removeAllRanges(),te.addRange(K),j.focus()}function J(){var Y=g.select(H),j=Y.select(".svg-container"),K=j.append("div"),te=B.node().style,se=parseFloat(te.fontSize||12),Q=F.text;Q===void 0&&(Q=B.attr("data-unformatted")),K.classed("plugin-editable editable",!0).style({position:"absolute","font-family":te.fontFamily||"Arial","font-size":se,color:F.fill||te.fill||"black",opacity:1,"background-color":F.background||"transparent",outline:"#ffffff33 1px solid",margin:[-se/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Q).call(z(B,j,F)).on("blur",function(){H._editing=!1,B.text(this.textContent).style({opacity:1});var ee=g.select(this).attr("class"),le;ee?le="."+ee.split(" ")[0]+"-math-group":le="[class*=-math-group]",le&&g.select(B.node().parentNode).select(le).style({opacity:0});var ie=this.textContent;g.select(this).transition().duration(0).remove(),g.select(document).on("mouseup",null),q.edit.call(B,ie)}).on("focus",function(){var ee=this;H._editing=!0,g.select(document).on("mouseup",function(){if(g.event.target===ee)return!1;document.activeElement===K.node()&&K.node().blur()})}).on("keyup",function(){g.event.which===27?(H._editing=!1,B.style({opacity:1}),g.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),q.cancel.call(B,this.textContent)):(q.input.call(B,this.textContent),g.select(this).call(z(B,j,F)))}).on("keydown",function(){g.event.which===13&&this.blur()}).call(ve)}return F.immediate?oe():ne.on("click",oe),g.rebind(B,q,"on")}},79990:function(G,V){var e={};V.throttle=function(i,L,T){var v=e[i],p=Date.now();if(!v){for(var t in e)e[t].ts<p-6e4&&delete e[t];v=e[i]={ts:0,timer:null}}g(v);function r(){T(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(p>v.ts+L){r();return}v.timer=setTimeout(function(){r(),v.timer=null},L)},V.done=function(R){var i=e[R];return!i||!i.timer?Promise.resolve():new Promise(function(L){var T=i.onDone;i.onDone=function(){T&&T(),L(),i.onDone=null}})},V.clear=function(R){if(R)g(e[R]),delete e[R];else for(var i in e)V.clear(i)};function g(R){R&&R.timer!==null&&(clearTimeout(R.timer),R.timer=null)}},58163:function(G,V,e){var g=e(92770);G.exports=function(i,L){if(i>0)return Math.log(i)/Math.LN10;var T=Math.log(Math.min(L[0],L[1]))/Math.LN10;return g(T)||(T=Math.log(Math.max(L[0],L[1]))/Math.LN10-6),T}},90973:function(G,V,e){var g=G.exports={},R=e(78776).locationmodeToLayer,i=e(96892).zL;g.getTopojsonName=function(L){return[L.scope.replace(/ /g,"-"),"_",L.resolution.toString(),"m"].join("")},g.getTopojsonPath=function(L,T){return L+T+".json"},g.getTopojsonFeatures=function(L,T){var v=R[L.locationmode],p=T.objects[v];return i(T,p).features}},37815:function(G){G.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(G){G.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(G,V,e){var g=e(73972);G.exports=function(i){for(var L=g.layoutArrayContainers,T=g.layoutArrayRegexes,v=i.split("[")[0],p,t,r=0;r<T.length;r++)if(t=i.match(T[r]),t&&t.index===0){p=t[0];break}if(p||(p=L[L.indexOf(v)]),!p)return!1;var l=i.substr(p.length);return l?(t=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),t?{array:p,index:Number(t[1]),property:t[3]||""}:!1):{array:p,index:"",property:""}}},30962:function(G,V,e){var g=e(71828),R=g.extendFlat,i=g.isPlainObject,L={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},T={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},v=L.flags.slice().concat(["fullReplot"]),p=T.flags.slice().concat("layoutReplot");G.exports={traces:L,layout:T,traceFlags:function(){return t(v)},layoutFlags:function(){return t(p)},update:function(n,s){var c=s.editType;if(c&&c!=="none")for(var u=c.split("+"),y=0;y<u.length;y++)n[u[y]]=!0},overrideAll:r};function t(n){for(var s={},c=0;c<n.length;c++)s[n[c]]=!1;return s}function r(n,s,c){var u=R({},n);for(var y in u){var h=u[y];i(h)&&(u[y]=l(h,s,c,y))}return c==="from-root"&&(u.editType=s),u}function l(n,s,c,u){if(n.valType){var y=R({},n);if(y.editType=s,Array.isArray(n.items)){y.items=new Array(n.items.length);for(var h=0;h<n.items.length;h++)y.items[h]=l(n.items[h],s)}return y}else return r(n,s,u.charAt(0)==="_"?"nested":"from-root")}},58377:function(G,V,e){var g=e(92770),R=e(27812),i=e(73972),L=e(71828),T=e(74875),v=e(41675),p=e(7901),t=v.cleanId,r=v.getFromTrace,l=i.traceIs;V.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&L.log("Clearing previous rejected promises from queue."),d._promises=[]},V.cleanLayout=function(d){var A,M;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var C=(T.subplotsRegistry.cartesian||{}).attrRegex,m=(T.subplotsRegistry.polar||{}).attrRegex,S=(T.subplotsRegistry.ternary||{}).attrRegex,x=(T.subplotsRegistry.gl3d||{}).attrRegex,a=Object.keys(d);for(A=0;A<a.length;A++){var E=a[A];if(C&&C.test(E)){var w=d[E];w.anchor&&w.anchor!=="free"&&(w.anchor=t(w.anchor)),w.overlaying&&(w.overlaying=t(w.overlaying)),w.type||(w.isdate?w.type="date":w.islog?w.type="log":w.isdate===!1&&w.islog===!1&&(w.type="linear")),(w.autorange==="withzero"||w.autorange==="tozero")&&(w.autorange=!0,w.rangemode="tozero"),delete w.islog,delete w.isdate,delete w.categories,h(w,"domain")&&delete w.domain,w.autotick!==void 0&&(w.tickmode===void 0&&(w.tickmode=w.autotick?"auto":"linear"),delete w.autotick),s(w)}else if(m&&m.test(E)){var k=d[E];s(k.radialaxis)}else if(S&&S.test(E)){var I=d[E];s(I.aaxis),s(I.baxis),s(I.caxis)}else if(x&&x.test(E)){var U=d[E],z=U.cameraposition;if(Array.isArray(z)&&z[0].length===4){var N=z[0],B=z[1],F=z[2],H=R([],N),X=[];for(M=0;M<3;++M)X[M]=B[M]+F*H[2+4*M];U.camera={eye:{x:X[0],y:X[1],z:X[2]},center:{x:B[0],y:B[1],z:B[2]},up:{x:0,y:0,z:1}},delete U.cameraposition}s(U.xaxis),s(U.yaxis),s(U.zaxis)}}var q=Array.isArray(d.annotations)?d.annotations.length:0;for(A=0;A<q;A++){var ne=d.annotations[A];L.isPlainObject(ne)&&(ne.ref&&(ne.ref==="paper"?(ne.xref="paper",ne.yref="paper"):ne.ref==="data"&&(ne.xref="x",ne.yref="y"),delete ne.ref),n(ne,"xref"),n(ne,"yref"))}var oe=Array.isArray(d.shapes)?d.shapes.length:0;for(A=0;A<oe;A++){var ve=d.shapes[A];L.isPlainObject(ve)&&(n(ve,"xref"),n(ve,"yref"))}var J=Array.isArray(d.images)?d.images.length:0;for(A=0;A<J;A++){var Y=d.images[A];L.isPlainObject(Y)&&(n(Y,"xref"),n(Y,"yref"))}var j=d.legend;return j&&(j.x>3?(j.x=1.02,j.xanchor="left"):j.x<-2&&(j.x=-.02,j.xanchor="right"),j.y>3?(j.y=1.02,j.yanchor="bottom"):j.y<-2&&(j.y=-.02,j.yanchor="top")),s(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),p.clean(d),d.template&&d.template.layout&&V.cleanLayout(d.template.layout),d};function n(d,A){var M=d[A],C=A.charAt(0);M&&M!=="paper"&&(d[A]=t(M,C,!0))}function s(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),A("titlefont","font"),A("titleposition","position"),A("titleside","side"),A("titleoffset","offset"));function A(M,C){var m=d[M],S=d.title&&d.title[C];m&&!S&&(d.title||(d.title={}),d.title[C]=d[M],delete d[M])}}V.cleanData=function(d){for(var A=0;A<d.length;A++){var M=d[A],C;if(M.type==="histogramy"&&"xbins"in M&&!("ybins"in M)&&(M.ybins=M.xbins,delete M.xbins),M.error_y&&"opacity"in M.error_y){var m=p.defaults,S=M.error_y.color||(l(M,"bar")?p.defaultLine:m[A%m.length]);M.error_y.color=p.addOpacity(p.rgb(S),p.opacity(S)*M.error_y.opacity),delete M.error_y.opacity}if("bardir"in M&&(M.bardir==="h"&&(l(M,"bar")||M.type.substr(0,9)==="histogram")&&(M.orientation="h",V.swapXYData(M)),delete M.bardir),M.type==="histogramy"&&V.swapXYData(M),(M.type==="histogramx"||M.type==="histogramy")&&(M.type="histogram"),"scl"in M&&!("colorscale"in M)&&(M.colorscale=M.scl,delete M.scl),"reversescl"in M&&!("reversescale"in M)&&(M.reversescale=M.reversescl,delete M.reversescl),M.xaxis&&(M.xaxis=t(M.xaxis,"x")),M.yaxis&&(M.yaxis=t(M.yaxis,"y")),l(M,"gl3d")&&M.scene&&(M.scene=T.subplotsRegistry.gl3d.cleanId(M.scene)),!l(M,"pie-like")&&!l(M,"bar-like"))if(Array.isArray(M.textposition))for(C=0;C<M.textposition.length;C++)M.textposition[C]=y(M.textposition[C]);else M.textposition&&(M.textposition=y(M.textposition));var x=i.getModule(M);if(x&&x.colorbar){var a=x.colorbar.container,E=a?M[a]:M;E&&E.colorscale&&(E.colorscale==="YIGnBu"&&(E.colorscale="YlGnBu"),E.colorscale==="YIOrRd"&&(E.colorscale="YlOrRd"))}if(M.type==="surface"&&L.isPlainObject(M.contours)){var w=["x","y","z"];for(C=0;C<w.length;C++){var k=M.contours[w[C]];L.isPlainObject(k)&&(k.highlightColor&&(k.highlightcolor=k.highlightColor,delete k.highlightColor),k.highlightWidth&&(k.highlightwidth=k.highlightWidth,delete k.highlightWidth))}}if(M.type==="candlestick"||M.type==="ohlc"){var I=(M.increasing||{}).showlegend!==!1,U=(M.decreasing||{}).showlegend!==!1,z=c(M.increasing),N=c(M.decreasing);if(z!==!1&&N!==!1){var B=u(z,N,I,U);B&&(M.name=B)}else(z||N)&&!M.name&&(M.name=z||N)}if(Array.isArray(M.transforms)){var F=M.transforms;for(C=0;C<F.length;C++){var H=F[C];if(L.isPlainObject(H))switch(H.type){case"filter":H.filtersrc&&(H.target=H.filtersrc,delete H.filtersrc),H.calendar&&(H.valuecalendar||(H.valuecalendar=H.calendar),delete H.calendar);break;case"groupby":if(H.styles=H.styles||H.style,H.styles&&!Array.isArray(H.styles)){var X=H.styles,q=Object.keys(X);H.styles=[];for(var ne=0;ne<q.length;ne++)H.styles.push({target:q[ne],value:X[q[ne]]})}break}}}h(M,"line")&&delete M.line,"marker"in M&&(h(M.marker,"line")&&delete M.marker.line,h(M,"marker")&&delete M.marker),p.clean(M),M.autobinx&&(delete M.autobinx,delete M.xbins),M.autobiny&&(delete M.autobiny,delete M.ybins),s(M),M.colorbar&&s(M.colorbar),M.marker&&M.marker.colorbar&&s(M.marker.colorbar),M.line&&M.line.colorbar&&s(M.line.colorbar),M.aaxis&&s(M.aaxis),M.baxis&&s(M.baxis)}};function c(d){if(!L.isPlainObject(d))return!1;var A=d.name;return delete d.name,delete d.showlegend,(typeof A=="string"||typeof A=="number")&&String(A)}function u(d,A,M,C){if(M&&!C)return d;if(C&&!M||!d.trim())return A;if(!A.trim())return d;var m=Math.min(d.length,A.length),S;for(S=0;S<m&&d.charAt(S)===A.charAt(S);S++);var x=d.substr(0,S);return x.trim()}function y(d){var A="middle",M="center";return typeof d=="string"&&(d.indexOf("top")!==-1?A="top":d.indexOf("bottom")!==-1&&(A="bottom"),d.indexOf("left")!==-1?M="left":d.indexOf("right")!==-1&&(M="right")),A+" "+M}function h(d,A){return A in d&&typeof d[A]=="object"&&Object.keys(d[A]).length===0}V.swapXYData=function(d){var A;if(L.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var M=d.error_y,C="copy_ystyle"in M?M.copy_ystyle:!(M.color||M.thickness||M.width);L.swapAttrs(d,["error_?.copy_ystyle"]),C&&L.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var m=d.hoverinfo.split("+");for(A=0;A<m.length;A++)m[A]==="x"?m[A]="y":m[A]==="y"&&(m[A]="x");d.hoverinfo=m.join("+")}},V.coerceTraceIndices=function(d,A){if(g(A))return[A];if(!Array.isArray(A)||!A.length)return d.data.map(function(m,S){return S});if(Array.isArray(A)){for(var M=[],C=0;C<A.length;C++)L.isIndex(A[C],d.data.length)?M.push(A[C]):L.warn("trace index (",A[C],") is not a number or is out of bounds");return M}return A},V.manageArrayContainers=function(d,A,M){var C=d.obj,m=d.parts,S=m.length,x=m[S-1],a=g(x);if(a&&A===null){var E=m.slice(0,S-1).join("."),w=L.nestedProperty(C,E).get();w.splice(x,1)}else a&&d.get()===void 0&&d.get()===void 0&&(M[d.astr]=null),d.set(A)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function f(d){var A=d.search(b);if(A>0)return d.substr(0,A)}V.hasParent=function(d,A){for(var M=f(A);M;){if(M in d)return!0;M=f(M)}return!1};var o=["x","y","z"];V.clearAxisTypes=function(d,A,M){for(var C=0;C<A.length;C++)for(var m=d._fullData[C],S=0;S<3;S++){var x=r(d,m,o[S]);if(x&&x.type!=="log"){var a=x._name,E=x._id.substr(1);if(E.substr(0,5)==="scene"){if(M[E]!==void 0)continue;a=E+"."+a}var w=a+".type";M[a]===void 0&&M[w]===void 0&&L.nestedProperty(d.layout,w).set(null)}}}},10641:function(G,V,e){var g=e(72391);V._doPlot=g._doPlot,V.newPlot=g.newPlot,V.restyle=g.restyle,V.relayout=g.relayout,V.redraw=g.redraw,V.update=g.update,V._guiRestyle=g._guiRestyle,V._guiRelayout=g._guiRelayout,V._guiUpdate=g._guiUpdate,V._storeDirectGUIEdit=g._storeDirectGUIEdit,V.react=g.react,V.extendTraces=g.extendTraces,V.prependTraces=g.prependTraces,V.addTraces=g.addTraces,V.deleteTraces=g.deleteTraces,V.moveTraces=g.moveTraces,V.purge=g.purge,V.addFrames=g.addFrames,V.deleteFrames=g.deleteFrames,V.animate=g.animate,V.setPlotConfig=g.setPlotConfig,V.toImage=e(403),V.validate=e(84936),V.downloadImage=e(7239);var R=e(96318);V.makeTemplate=R.makeTemplate,V.validateTemplate=R.validateTemplate},6611:function(G,V,e){var g=e(41965),R=e(64213),i=e(47769),L=e(65888).sorterAsc,T=e(73972);V.containerArrayMatch=e(14458);var v=V.isAddVal=function(r){return r==="add"||g(r)},p=V.isRemoveVal=function(r){return r===null||r==="remove"};V.applyContainerArrayChanges=function(r,l,n,s,c){var u=l.astr,y=T.getComponentMethod(u,"supplyLayoutDefaults"),h=T.getComponentMethod(u,"draw"),b=T.getComponentMethod(u,"drawOne"),f=s.replot||s.recalc||y===R||h===R,o=r.layout,d=r._fullLayout;if(n[""]){Object.keys(n).length>1&&i.warn("Full array edits are incompatible with other edits",u);var A=n[""][""];if(p(A))l.set(null);else if(Array.isArray(A))l.set(A);else return i.warn("Unrecognized full array edit value",u,A),!0;return f?!1:(y(o,d),h(r),!0)}var M=Object.keys(n).map(Number).sort(L),C=l.get(),m=C||[],S=c(d,u).get(),x=[],a=-1,E=m.length,w,k,I,U,z,N,B,F;for(w=0;w<M.length;w++){if(I=M[w],U=n[I],z=Object.keys(U),N=U[""],B=v(N),I<0||I>m.length-(B?0:1)){i.warn("index out of range",u,I);continue}if(N!==void 0)z.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",u,I),p(N)?x.push(I):B?(N==="add"&&(N={}),m.splice(I,0,N),S&&S.splice(I,0,{})):i.warn("Unrecognized full object edit value",u,I,N),a===-1&&(a=I);else for(k=0;k<z.length;k++)F=u+"["+I+"].",c(m[I],z[k],F).set(U[z[k]])}for(w=x.length-1;w>=0;w--)m.splice(x[w],1),S&&S.splice(x[w],1);if(m.length?C||l.set(m):l.set(null),f)return!1;if(y(o,d),b!==R){var H;if(a===-1)H=M;else{for(E=Math.max(m.length,E),H=[],w=0;w<M.length&&(I=M[w],!(I>=a));w++)H.push(I);for(w=a;w<E;w++)H.push(w)}for(w=0;w<H.length;w++)b(r,H[w])}else h(r);return!0}},72391:function(G,V,e){var g=e(39898),R=e(92770),i=e(57035),L=e(71828),T=L.nestedProperty,v=e(11086),p=e(10847),t=e(73972),r=e(86281),l=e(74875),n=e(89298),s=e(91424),c=e(7901),u=e(4305).initInteractions,y=e(77922),h=e(47322).clearOutline,b=e(72075).dfltConfig,f=e(6611),o=e(58377),d=e(61549),A=e(30962),M=e(85555).AX_NAME_PATTERN,C=0,m=5;function S(fe,me,Re,Oe){var st;if(fe=L.getGraphDiv(fe),v.init(fe),L.isPlainObject(me)){var ut=me;me=ut.data,Re=ut.layout,Oe=ut.config,st=ut.frames}var Tt=v.triggerHandler(fe,"plotly_beforeplot",[me,Re,Oe]);if(Tt===!1)return Promise.reject();!me&&!Re&&!L.isPlotDiv(fe)&&L.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",fe);function It(){if(st)return V.addFrames(fe,st)}k(fe,Oe),Re||(Re={}),g.select(fe).classed("js-plotly-plot",!0),s.makeTester(),Array.isArray(fe._promises)||(fe._promises=[]);var Gt=(fe.data||[]).length===0&&Array.isArray(me);Array.isArray(me)&&(o.cleanData(me),Gt?fe.data=me:fe.data.push.apply(fe.data,me),fe.empty=!1),(!fe.layout||Gt)&&(fe.layout=o.cleanLayout(Re)),l.supplyDefaults(fe);var jt=fe._fullLayout,Pt=jt._has("cartesian");jt._replotting=!0,(Gt||jt._shouldCreateBgLayer)&&(Te(fe),jt._shouldCreateBgLayer&&delete jt._shouldCreateBgLayer),s.initGradients(fe),s.initPatterns(fe),Gt&&n.saveShowSpikeInitial(fe);var Qt=!fe.calcdata||fe.calcdata.length!==(fe._fullData||[]).length;Qt&&l.doCalcdata(fe);for(var or=0;or<fe.calcdata.length;or++)fe.calcdata[or][0].trace=fe._fullData[or];fe._context.responsive?fe._responsiveChartHandler||(fe._responsiveChartHandler=function(){L.isHidden(fe)||l.resize(fe)},window.addEventListener("resize",fe._responsiveChartHandler)):L.clearResponsive(fe);var zr=L.extendFlat({},jt._size),bt=0;function Jt(){for(var Ct=jt._basePlotModules,Ot=0;Ot<Ct.length;Ot++)Ct[Ot].drawFramework&&Ct[Ot].drawFramework(fe);!jt._glcanvas&&jt._has("gl")&&(jt._glcanvas=jt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(sr){return sr.key}),jt._glcanvas.enter().append("canvas").attr("class",function(sr){return"gl-canvas gl-canvas-"+sr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Wt=fe._context.plotGlPixelRatio;if(jt._glcanvas){jt._glcanvas.attr("width",jt.width*Wt).attr("height",jt.height*Wt).style("width",jt.width+"px").style("height",jt.height+"px");var er=jt._glcanvas.data()[0].regl;if(er&&(Math.floor(jt.width*Wt)!==er._gl.drawingBufferWidth||Math.floor(jt.height*Wt)!==er._gl.drawingBufferHeight)){var $t="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(bt)L.error($t);else return L.log($t+" Clearing graph and plotting again."),l.cleanPlot([],{},fe._fullData,jt),l.supplyDefaults(fe),jt=fe._fullLayout,l.doCalcdata(fe),bt++,Jt()}}return jt.modebar.orientation==="h"?jt._modebardiv.style("height",null).style("width","100%"):jt._modebardiv.style("width",null).style("height",jt.height+"px"),l.previousPromises(fe)}function Zt(){if(l.clearAutoMarginIds(fe),d.drawMarginPushers(fe),n.allowAutoMargin(fe),fe._fullLayout.title.text&&fe._fullLayout.title.automargin&&l.allowAutoMargin(fe,"title.automargin"),jt._has("pie"))for(var Ct=fe._fullData,Ot=0;Ot<Ct.length;Ot++){var Wt=Ct[Ot];Wt.type==="pie"&&Wt.automargin&&l.allowAutoMargin(fe,"pie."+Wt.uid+".automargin")}return l.doAutoMargin(fe),l.previousPromises(fe)}function Ar(){if(l.didMarginChange(zr,jt._size))return L.syncOrAsync([Zt,d.layoutStyles],fe)}function dr(){if(!Qt){ht();return}return L.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),ht],fe)}function ht(){fe._transitioning||(d.doAutoRangeAndConstraints(fe),Gt&&n.saveRangeInitial(fe),t.getComponentMethod("rangeslider","calcAutorange")(fe))}function ct(){return n.draw(fe,Gt?"":"redraw")}var wt=[l.previousPromises,It,Jt,Zt,Ar];Pt&&wt.push(dr),wt.push(d.layoutStyles),Pt&&wt.push(ct,function(Ot){Ot._fullLayout._insideTickLabelsAutorange&&he(Ot,Ot._fullLayout._insideTickLabelsAutorange).then(function(){Ot._fullLayout._insideTickLabelsAutorange=void 0})}),wt.push(d.drawData,d.finalDraw,u,l.addLinks,l.rehover,l.redrag,l.reselect,l.doAutoMargin,St,l.previousPromises);function St(Ct){Ct._fullLayout._insideTickLabelsAutorange&&Gt&&n.saveRangeInitial(Ct,!0)}var Rt=L.syncOrAsync(wt,fe);return(!Rt||!Rt.then)&&(Rt=Promise.resolve()),Rt.then(function(){return x(fe),fe})}function x(fe){var me=fe._fullLayout;me._redrawFromAutoMarginCount?me._redrawFromAutoMarginCount--:fe.emit("plotly_afterplot")}function a(fe){return L.extendFlat(b,fe)}function E(fe,me){try{fe._fullLayout._paper.style("background",me)}catch(Re){L.error(Re)}}function w(fe,me){var Re=c.combine(me,"white");E(fe,Re)}function k(fe,me){if(!fe._context){fe._context=L.extendDeep({},b);var Re=g.select("base");fe._context._baseUrl=Re.size()&&Re.attr("href")?window.location.href.split("#")[0]:""}var Oe=fe._context,st,ut,Tt;if(me){for(ut=Object.keys(me),st=0;st<ut.length;st++)Tt=ut[st],!(Tt==="editable"||Tt==="edits")&&Tt in Oe&&(Tt==="setBackground"&&me[Tt]==="opaque"?Oe[Tt]=w:Oe[Tt]=me[Tt]);me.plot3dPixelRatio&&!Oe.plotGlPixelRatio&&(Oe.plotGlPixelRatio=Oe.plot3dPixelRatio);var It=me.editable;if(It!==void 0)for(Oe.editable=It,ut=Object.keys(Oe.edits),st=0;st<ut.length;st++)Oe.edits[ut[st]]=It;if(me.edits)for(ut=Object.keys(me.edits),st=0;st<ut.length;st++)Tt=ut[st],Tt in Oe.edits&&(Oe.edits[Tt]=me.edits[Tt]);Oe._exportedPlot=me._exportedPlot}Oe.staticPlot&&(Oe.editable=!1,Oe.edits={},Oe.autosizable=!1,Oe.scrollZoom=!1,Oe.doubleClick=!1,Oe.showTips=!1,Oe.showLink=!1,Oe.displayModeBar=!1),Oe.displayModeBar==="hover"&&!i&&(Oe.displayModeBar=!0),(Oe.setBackground==="transparent"||typeof Oe.setBackground!="function")&&(Oe.setBackground=E),Oe._hasZeroHeight=Oe._hasZeroHeight||fe.clientHeight===0,Oe._hasZeroWidth=Oe._hasZeroWidth||fe.clientWidth===0;var Gt=Oe.scrollZoom,jt=Oe._scrollZoom={};if(Gt===!0)jt.cartesian=1,jt.gl3d=1,jt.geo=1,jt.mapbox=1;else if(typeof Gt=="string"){var Pt=Gt.split("+");for(st=0;st<Pt.length;st++)jt[Pt[st]]=1}else Gt!==!1&&(jt.gl3d=1,jt.geo=1,jt.mapbox=1)}function I(fe){if(fe=L.getGraphDiv(fe),!L.isPlotDiv(fe))throw new Error("This element is not a Plotly plot: "+fe);return o.cleanData(fe.data),o.cleanLayout(fe.layout),fe.calcdata=void 0,V._doPlot(fe).then(function(){return fe.emit("plotly_redraw"),fe})}function U(fe,me,Re,Oe){return fe=L.getGraphDiv(fe),l.cleanPlot([],{},fe._fullData||[],fe._fullLayout||{}),l.purge(fe),V._doPlot(fe,me,Re,Oe)}function z(fe,me){var Re=me+1,Oe=[],st,ut;for(st=0;st<fe.length;st++)ut=fe[st],ut<0?Oe.push(Re+ut):Oe.push(ut);return Oe}function N(fe,me,Re){var Oe,st;for(Oe=0;Oe<me.length;Oe++){if(st=me[Oe],st!==parseInt(st,10))throw new Error("all values in "+Re+" must be integers");if(st>=fe.data.length||st<-fe.data.length)throw new Error(Re+" must be valid indices for gd.data.");if(me.indexOf(st,Oe+1)>-1||st>=0&&me.indexOf(-fe.data.length+st)>-1||st<0&&me.indexOf(fe.data.length+st)>-1)throw new Error("each index in "+Re+" must be unique.")}}function B(fe,me,Re){if(!Array.isArray(fe.data))throw new Error("gd.data must be an array.");if(typeof me>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(me)||(me=[me]),N(fe,me,"currentIndices"),typeof Re<"u"&&!Array.isArray(Re)&&(Re=[Re]),typeof Re<"u"&&N(fe,Re,"newIndices"),typeof Re<"u"&&me.length!==Re.length)throw new Error("current and new indices must be of equal length.")}function F(fe,me,Re){var Oe,st;if(!Array.isArray(fe.data))throw new Error("gd.data must be an array.");if(typeof me>"u")throw new Error("traces must be defined.");for(Array.isArray(me)||(me=[me]),Oe=0;Oe<me.length;Oe++)if(st=me[Oe],typeof st!="object"||Array.isArray(st)||st===null)throw new Error("all values in traces array must be non-array objects");if(typeof Re<"u"&&!Array.isArray(Re)&&(Re=[Re]),typeof Re<"u"&&Re.length!==me.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function H(fe,me,Re,Oe){var st=L.isPlainObject(Oe);if(!Array.isArray(fe.data))throw new Error("gd.data must be an array");if(!L.isPlainObject(me))throw new Error("update must be a key:value object");if(typeof Re>"u")throw new Error("indices must be an integer or array of integers");N(fe,Re,"indices");for(var ut in me){if(!Array.isArray(me[ut])||me[ut].length!==Re.length)throw new Error("attribute "+ut+" must be an array of length equal to indices array length");if(st&&(!(ut in Oe)||!Array.isArray(Oe[ut])||Oe[ut].length!==me[ut].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function X(fe,me,Re,Oe){var st=L.isPlainObject(Oe),ut=[],Tt,It,Gt,jt,Pt;Array.isArray(Re)||(Re=[Re]),Re=z(Re,fe.data.length-1);for(var Qt in me)for(var or=0;or<Re.length;or++){if(Tt=fe.data[Re[or]],Gt=T(Tt,Qt),It=Gt.get(),jt=me[Qt][or],!L.isArrayOrTypedArray(jt))throw new Error("attribute: "+Qt+" index: "+or+" must be an array");if(!L.isArrayOrTypedArray(It))throw new Error("cannot extend missing or non-array attribute: "+Qt);if(It.constructor!==jt.constructor)throw new Error("cannot extend array with an array of a different type: "+Qt);Pt=st?Oe[Qt][or]:Oe,R(Pt)||(Pt=-1),ut.push({prop:Gt,target:It,insert:jt,maxp:Math.floor(Pt)})}return ut}function q(fe,me,Re,Oe,st){H(fe,me,Re,Oe);for(var ut=X(fe,me,Re,Oe),Tt={},It={},Gt=0;Gt<ut.length;Gt++){var jt=ut[Gt].prop,Pt=ut[Gt].maxp,Qt=st(ut[Gt].target,ut[Gt].insert,Pt);jt.set(Qt[0]),Array.isArray(Tt[jt.astr])||(Tt[jt.astr]=[]),Tt[jt.astr].push(Qt[1]),Array.isArray(It[jt.astr])||(It[jt.astr]=[]),It[jt.astr].push(ut[Gt].target.length)}return{update:Tt,maxPoints:It}}function ne(fe,me){var Re=new fe.constructor(fe.length+me.length);return Re.set(fe),Re.set(me,fe.length),Re}function oe(fe,me,Re,Oe){fe=L.getGraphDiv(fe);function st(Gt,jt,Pt){var Qt,or;if(L.isTypedArray(Gt))if(Pt<0){var zr=new Gt.constructor(0),bt=ne(Gt,jt);Pt<0?(Qt=bt,or=zr):(Qt=zr,or=bt)}else if(Qt=new Gt.constructor(Pt),or=new Gt.constructor(Gt.length+jt.length-Pt),Pt===jt.length)Qt.set(jt),or.set(Gt);else if(Pt<jt.length){var Jt=jt.length-Pt;Qt.set(jt.subarray(Jt)),or.set(Gt),or.set(jt.subarray(0,Jt),Gt.length)}else{var Zt=Pt-jt.length,Ar=Gt.length-Zt;Qt.set(Gt.subarray(Ar)),Qt.set(jt,Zt),or.set(Gt.subarray(0,Ar))}else Qt=Gt.concat(jt),or=Pt>=0&&Pt<Qt.length?Qt.splice(0,Qt.length-Pt):[];return[Qt,or]}var ut=q(fe,me,Re,Oe,st),Tt=V.redraw(fe),It=[fe,ut.update,Re,ut.maxPoints];return p.add(fe,V.prependTraces,It,oe,arguments),Tt}function ve(fe,me,Re,Oe){fe=L.getGraphDiv(fe);function st(Gt,jt,Pt){var Qt,or;if(L.isTypedArray(Gt))if(Pt<=0){var zr=new Gt.constructor(0),bt=ne(jt,Gt);Pt<0?(Qt=bt,or=zr):(Qt=zr,or=bt)}else if(Qt=new Gt.constructor(Pt),or=new Gt.constructor(Gt.length+jt.length-Pt),Pt===jt.length)Qt.set(jt),or.set(Gt);else if(Pt<jt.length){var Jt=jt.length-Pt;Qt.set(jt.subarray(0,Jt)),or.set(jt.subarray(Jt)),or.set(Gt,Jt)}else{var Zt=Pt-jt.length;Qt.set(jt),Qt.set(Gt.subarray(0,Zt),jt.length),or.set(Gt.subarray(Zt))}else Qt=jt.concat(Gt),or=Pt>=0&&Pt<Qt.length?Qt.splice(Pt,Qt.length):[];return[Qt,or]}var ut=q(fe,me,Re,Oe,st),Tt=V.redraw(fe),It=[fe,ut.update,Re,ut.maxPoints];return p.add(fe,V.extendTraces,It,ve,arguments),Tt}function J(fe,me,Re){fe=L.getGraphDiv(fe);var Oe=[],st=V.deleteTraces,ut=J,Tt=[fe,Oe],It=[fe,me],Gt,jt;for(F(fe,me,Re),Array.isArray(me)||(me=[me]),me=me.map(function(Pt){return L.extendFlat({},Pt)}),o.cleanData(me),Gt=0;Gt<me.length;Gt++)fe.data.push(me[Gt]);for(Gt=0;Gt<me.length;Gt++)Oe.push(-me.length+Gt);if(typeof Re>"u")return jt=V.redraw(fe),p.add(fe,st,Tt,ut,It),jt;Array.isArray(Re)||(Re=[Re]);try{B(fe,Oe,Re)}catch(Pt){throw fe.data.splice(fe.data.length-me.length,me.length),Pt}return p.startSequence(fe),p.add(fe,st,Tt,ut,It),jt=V.moveTraces(fe,Oe,Re),p.stopSequence(fe),jt}function Y(fe,me){fe=L.getGraphDiv(fe);var Re=[],Oe=V.addTraces,st=Y,ut=[fe,Re,me],Tt=[fe,me],It,Gt;if(typeof me>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(me)||(me=[me]),N(fe,me,"indices"),me=z(me,fe.data.length-1),me.sort(L.sorterDes),It=0;It<me.length;It+=1)Gt=fe.data.splice(me[It],1)[0],Re.push(Gt);var jt=V.redraw(fe);return p.add(fe,Oe,ut,st,Tt),jt}function j(fe,me,Re){fe=L.getGraphDiv(fe);var Oe=[],st=[],ut=j,Tt=j,It=[fe,Re,me],Gt=[fe,me,Re],jt;if(B(fe,me,Re),me=Array.isArray(me)?me:[me],typeof Re>"u")for(Re=[],jt=0;jt<me.length;jt++)Re.push(-me.length+jt);for(Re=Array.isArray(Re)?Re:[Re],me=z(me,fe.data.length-1),Re=z(Re,fe.data.length-1),jt=0;jt<fe.data.length;jt++)me.indexOf(jt)===-1&&Oe.push(fe.data[jt]);for(jt=0;jt<me.length;jt++)st.push({newIndex:Re[jt],trace:fe.data[me[jt]]});for(st.sort(function(Qt,or){return Qt.newIndex-or.newIndex}),jt=0;jt<st.length;jt+=1)Oe.splice(st[jt].newIndex,0,st[jt].trace);fe.data=Oe;var Pt=V.redraw(fe);return p.add(fe,ut,It,Tt,Gt),Pt}function K(fe,me,Re,Oe){fe=L.getGraphDiv(fe),o.clearPromiseQueue(fe);var st={};if(typeof me=="string")st[me]=Re;else if(L.isPlainObject(me))st=L.extendFlat({},me),Oe===void 0&&(Oe=Re);else return L.warn("Restyle fail.",me,Re,Oe),Promise.reject();Object.keys(st).length&&(fe.changed=!0);var ut=o.coerceTraceIndices(fe,Oe),Tt=le(fe,st,ut),It=Tt.flags;It.calc&&(fe.calcdata=void 0),It.clearAxisTypes&&o.clearAxisTypes(fe,ut,{});var Gt=[];It.fullReplot?Gt.push(V._doPlot):(Gt.push(l.previousPromises),l.supplyDefaults(fe),It.markerSize&&(l.doCalcdata(fe),Se(Gt)),It.style&&Gt.push(d.doTraceStyle),It.colorbars&&Gt.push(d.doColorBars),Gt.push(x)),Gt.push(l.rehover,l.redrag,l.reselect),p.add(fe,K,[fe,Tt.undoit,Tt.traces],K,[fe,Tt.redoit,Tt.traces]);var jt=L.syncOrAsync(Gt,fe);return(!jt||!jt.then)&&(jt=Promise.resolve()),jt.then(function(){return fe.emit("plotly_restyle",Tt.eventData),fe})}function te(fe){return fe===void 0?null:fe}function se(fe,me){return me?function(Re,Oe,st){var ut=T(Re,Oe),Tt=ut.set;return ut.set=function(It){var Gt=(st||"")+Oe;Q(Gt,ut.get(),It,fe),Tt(It)},ut}:T}function Q(fe,me,Re,Oe){if(Array.isArray(me)||Array.isArray(Re))for(var st=Array.isArray(me)?me:[],ut=Array.isArray(Re)?Re:[],Tt=Math.max(st.length,ut.length),It=0;It<Tt;It++)Q(fe+"["+It+"]",st[It],ut[It],Oe);else if(L.isPlainObject(me)||L.isPlainObject(Re)){var Gt=L.isPlainObject(me)?me:{},jt=L.isPlainObject(Re)?Re:{},Pt=L.extendFlat({},Gt,jt);for(var Qt in Pt)Q(fe+"."+Qt,Gt[Qt],jt[Qt],Oe)}else Oe[fe]===void 0&&(Oe[fe]=te(me))}function ee(fe,me,Re){for(var Oe in Re){var st=T(fe,Oe);Q(Oe,st.get(),Re[Oe],me)}}function le(fe,me,Re){var Oe=fe._fullLayout,st=fe._fullData,ut=fe.data,Tt=Oe._guiEditing,It=se(Oe._preGUI,Tt),Gt=L.extendDeepAll({},me),jt;ie(me);var Pt=A.traceFlags(),Qt={},or={},zr;function bt(){return Re.map(function(){})}function Jt(Kr){var Bn=n.id2name(Kr);zr.indexOf(Bn)===-1&&zr.push(Bn)}function Zt(Kr){return"LAYOUT"+Kr+".autorange"}function Ar(Kr){return"LAYOUT"+Kr+".range"}function dr(Kr){for(var Bn=Kr;Bn<st.length;Bn++)if(st[Bn]._input===ut[Kr])return st[Bn]}function ht(Kr,Bn,On){if(Array.isArray(Kr)){Kr.forEach(function(Vr){ht(Vr,Bn,On)});return}if(!(Kr in me||o.hasParent(me,Kr))){var Tr;if(Kr.substr(0,6)==="LAYOUT")Tr=It(fe.layout,Kr.replace("LAYOUT",""));else{var Mr=Re[On],Hr=Oe._tracePreGUI[dr(Mr)._fullInput.uid];Tr=se(Hr,Tt)(ut[Mr],Kr)}Kr in or||(or[Kr]=bt()),or[Kr][On]===void 0&&(or[Kr][On]=te(Tr.get())),Bn!==void 0&&Tr.set(Bn)}}function ct(Kr){return function(Bn){return st[Bn][Kr]}}function wt(Kr){return function(Bn,On){return Bn===!1?st[Re[On]][Kr]:null}}for(var St in me){if(o.hasParent(me,St))throw new Error("cannot set "+St+" and a parent attribute simultaneously");var Rt=me[St],Ct,Ot,Wt,er,$t,sr;if((St==="autobinx"||St==="autobiny")&&(St=St.charAt(St.length-1)+"bins",Array.isArray(Rt)?Rt=Rt.map(wt(St)):Rt===!1?Rt=Re.map(ct(St)):Rt=null),Qt[St]=Rt,St.substr(0,6)==="LAYOUT"){Wt=It(fe.layout,St.replace("LAYOUT","")),or[St]=[te(Wt.get())],Wt.set(Array.isArray(Rt)?Rt[0]:Rt),Pt.calc=!0;continue}for(or[St]=bt(),jt=0;jt<Re.length;jt++){Ct=ut[Re[jt]],Ot=dr(Re[jt]);var Cr=Oe._tracePreGUI[Ot._fullInput.uid];if(Wt=se(Cr,Tt)(Ct,St),er=Wt.get(),$t=Array.isArray(Rt)?Rt[jt%Rt.length]:Rt,$t!==void 0){var je=Wt.parts[Wt.parts.length-1],We=St.substr(0,St.length-je.length-1),kt=We?We+".":"",zt=We?T(Ot,We).get():Ot;if(sr=r.getTraceValObject(Ot,Wt.parts),sr&&sr.impliedEdits&&$t!==null)for(var Xt in sr.impliedEdits)ht(L.relativeAttr(St,Xt),sr.impliedEdits[Xt],jt);else if((je==="thicknessmode"||je==="lenmode")&&er!==$t&&($t==="fraction"||$t==="pixels")&&zt){var lr=Oe._size,cr=zt.orient,nr=cr==="top"||cr==="bottom";if(je==="thicknessmode"){var Bt=nr?lr.h:lr.w;ht(kt+"thickness",zt.thickness*($t==="fraction"?1/Bt:Bt),jt)}else{var vr=nr?lr.w:lr.h;ht(kt+"len",zt.len*($t==="fraction"?1/vr:vr),jt)}}else if(St==="type"&&($t==="pie"!=(er==="pie")||$t==="funnelarea"!=(er==="funnelarea"))){var yr="x",mr="y";($t==="bar"||er==="bar")&&Ct.orientation==="h"&&(yr="y",mr="x"),L.swapAttrs(Ct,["?","?src"],"labels",yr),L.swapAttrs(Ct,["d?","?0"],"label",yr),L.swapAttrs(Ct,["?","?src"],"values",mr),er==="pie"||er==="funnelarea"?(T(Ct,"marker.color").set(T(Ct,"marker.colors").get()),Oe._pielayer.selectAll("g.trace").remove()):t.traceIs(Ct,"cartesian")&&T(Ct,"marker.colors").set(T(Ct,"marker.color").get())}or[St][jt]=te(er);var gr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(gr.indexOf(St)!==-1){if(St==="orientation"){Wt.set($t);var Zr=Ct.x&&!Ct.y?"h":"v";if((Wt.get()||Zr)===Ot.orientation)continue}else St==="orientationaxes"&&(Ct.orientation={v:"h",h:"v"}[Ot.orientation]);o.swapXYData(Ct),Pt.calc=Pt.clearAxisTypes=!0}else l.dataArrayContainers.indexOf(Wt.parts[0])!==-1?(o.manageArrayContainers(Wt,$t,or),Pt.calc=!0):(sr?sr.arrayOk&&!t.traceIs(Ot,"regl")&&(L.isArrayOrTypedArray($t)||L.isArrayOrTypedArray(er))?Pt.calc=!0:A.update(Pt,sr):Pt.calc=!0,Wt.set($t))}}if(["swapxyaxes","orientationaxes"].indexOf(St)!==-1&&n.swap(fe,Re),St==="orientationaxes"){var Ur=T(fe.layout,"hovermode"),Br=Ur.get();Br==="x"?Ur.set("y"):Br==="y"?Ur.set("x"):Br==="x unified"?Ur.set("y unified"):Br==="y unified"&&Ur.set("x unified")}if(["orientation","type"].indexOf(St)!==-1){for(zr=[],jt=0;jt<Re.length;jt++){var Tn=ut[Re[jt]];t.traceIs(Tn,"cartesian")&&(Jt(Tn.xaxis||"x"),Jt(Tn.yaxis||"y"))}ht(zr.map(Zt),!0,0),ht(zr.map(Ar),[0,1],0)}}return(Pt.calc||Pt.plot)&&(Pt.fullReplot=!0),{flags:Pt,undoit:or,redoit:Qt,traces:Re,eventData:L.extendDeepNoArrays([],[Gt,Re])}}function ie(fe){var me=L.counterRegex("axis",".title",!1,!1),Re=/colorbar\.title$/,Oe=Object.keys(fe),st,ut,Tt;for(st=0;st<Oe.length;st++)ut=Oe[st],Tt=fe[ut],(ut==="title"||me.test(ut)||Re.test(ut))&&(typeof Tt=="string"||typeof Tt=="number")?It(ut,ut.replace("title","title.text")):ut.indexOf("titlefont")>-1&&ut.indexOf("grouptitlefont")===-1?It(ut,ut.replace("titlefont","title.font")):ut.indexOf("titleposition")>-1?It(ut,ut.replace("titleposition","title.position")):ut.indexOf("titleside")>-1?It(ut,ut.replace("titleside","title.side")):ut.indexOf("titleoffset")>-1&&It(ut,ut.replace("titleoffset","title.offset"));function It(Gt,jt){fe[jt]=fe[Gt],delete fe[Gt]}}function he(fe,me,Re){fe=L.getGraphDiv(fe),o.clearPromiseQueue(fe);var Oe={};if(typeof me=="string")Oe[me]=Re;else if(L.isPlainObject(me))Oe=L.extendFlat({},me);else return L.warn("Relayout fail.",me,Re),Promise.reject();Object.keys(Oe).length&&(fe.changed=!0);var st=Ce(fe,Oe),ut=st.flags;ut.calc&&(fe.calcdata=void 0);var Tt=[l.previousPromises];ut.layoutReplot?Tt.push(d.layoutReplot):Object.keys(Oe).length&&(xe(fe,ut,st)||l.supplyDefaults(fe),ut.legend&&Tt.push(d.doLegend),ut.layoutstyle&&Tt.push(d.layoutStyles),ut.axrange&&Se(Tt,st.rangesAltered),ut.ticks&&Tt.push(d.doTicksRelayout),ut.modebar&&Tt.push(d.doModeBar),ut.camera&&Tt.push(d.doCamera),ut.colorbars&&Tt.push(d.doColorBars),Tt.push(x)),Tt.push(l.rehover,l.redrag,l.reselect),p.add(fe,he,[fe,st.undoit],he,[fe,st.redoit]);var It=L.syncOrAsync(Tt,fe);return(!It||!It.then)&&(It=Promise.resolve(fe)),It.then(function(){return fe.emit("plotly_relayout",st.eventData),fe})}function xe(fe,me,Re){var Oe=fe._fullLayout;if(!me.axrange)return!1;for(var st in me)if(st!=="axrange"&&me[st])return!1;for(var ut in Re.rangesAltered){var Tt=n.id2name(ut),It=fe.layout[Tt],Gt=Oe[Tt];if(Gt.autorange=It.autorange,It.range&&(Gt.range=It.range.slice()),Gt.cleanRange(),Gt._matchGroup){for(var jt in Gt._matchGroup)if(jt!==ut){var Pt=Oe[n.id2name(jt)];Pt.autorange=Gt.autorange,Pt.range=Gt.range.slice(),Pt._input.range=Gt.range.slice()}}}return!0}function Se(fe,me){var Re=me?function(Oe){var st=[],ut=!0;for(var Tt in me){var It=n.getFromId(Oe,Tt);if(st.push(Tt),(It.ticklabelposition||"").indexOf("inside")!==-1&&It._anchorAxis&&st.push(It._anchorAxis._id),It._matchGroup)for(var Gt in It._matchGroup)me[Gt]||st.push(Gt)}return n.draw(Oe,st,{skipTitle:ut})}:function(Oe){return n.draw(Oe,"redraw")};fe.push(h,d.doAutoRangeAndConstraints,Re,d.drawData,d.finalDraw)}var Ee=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ne=/^[xyz]axis[0-9]*\.autorange$/,He=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Ce(fe,me){var Re=fe.layout,Oe=fe._fullLayout,st=Oe._guiEditing,ut=se(Oe._preGUI,st),Tt=Object.keys(me),It=n.list(fe),Gt=L.extendDeepAll({},me),jt={},Pt,Qt,or;for(ie(me),Tt=Object.keys(me),Qt=0;Qt<Tt.length;Qt++)if(Tt[Qt].indexOf("allaxes")===0){for(or=0;or<It.length;or++){var zr=It[or]._id.substr(1),bt=zr.indexOf("scene")!==-1?zr+".":"",Jt=Tt[Qt].replace("allaxes",bt+It[or]._name);me[Jt]||(me[Jt]=me[Tt[Qt]])}delete me[Tt[Qt]]}var Zt=A.layoutFlags(),Ar={},dr={};function ht(Mr,Hr){if(Array.isArray(Mr)){Mr.forEach(function(nn){ht(nn,Hr)});return}if(!(Mr in me||o.hasParent(me,Mr))){var Vr=ut(Re,Mr);Mr in dr||(dr[Mr]=te(Vr.get())),Hr!==void 0&&Vr.set(Hr)}}var ct={},wt;function St(Mr){var Hr=n.name2id(Mr.split(".")[0]);return ct[Hr]=1,Hr}for(var Rt in me){if(o.hasParent(me,Rt))throw new Error("cannot set "+Rt+" and a parent attribute simultaneously");for(var Ct=ut(Re,Rt),Ot=me[Rt],Wt=Ct.parts.length,er=Wt-1;er>0&&typeof Ct.parts[er]!="string";)er--;var $t=Ct.parts[er],sr=Ct.parts[er-1]+"."+$t,Cr=Ct.parts.slice(0,er).join("."),je=T(fe.layout,Cr).get(),We=T(Oe,Cr).get(),kt=Ct.get();if(Ot!==void 0){Ar[Rt]=Ot,dr[Rt]=$t==="reverse"?Ot:te(kt);var zt=r.getLayoutValObject(Oe,Ct.parts);if(zt&&zt.impliedEdits&&Ot!==null)for(var Xt in zt.impliedEdits)ht(L.relativeAttr(Rt,Xt),zt.impliedEdits[Xt]);if(["width","height"].indexOf(Rt)!==-1)if(Ot){ht("autosize",null);var lr=Rt==="height"?"width":"height";ht(lr,Oe[lr])}else Oe[Rt]=fe._initialAutoSize[Rt];else if(Rt==="autosize")ht("width",Ot?null:Oe.width),ht("height",Ot?null:Oe.height);else if(sr.match(Ee))St(sr),T(Oe,Cr+"._inputRange").set(null);else if(sr.match(Ne)){St(sr),T(Oe,Cr+"._inputRange").set(null);var cr=T(Oe,Cr).get();cr._inputDomain&&(cr._input.domain=cr._inputDomain.slice())}else sr.match(He)&&T(Oe,Cr+"._inputDomain").set(null);if($t==="type"){wt=je;var nr=We.type==="linear"&&Ot==="log",Bt=We.type==="log"&&Ot==="linear";if(nr||Bt){if(!wt||!wt.range)ht(Cr+".autorange",!0);else if(We.autorange)nr&&(wt.range=wt.range[1]>wt.range[0]?[1,2]:[2,1]);else{var vr=wt.range[0],yr=wt.range[1];nr?(vr<=0&&yr<=0&&ht(Cr+".autorange",!0),vr<=0?vr=yr/1e6:yr<=0&&(yr=vr/1e6),ht(Cr+".range[0]",Math.log(vr)/Math.LN10),ht(Cr+".range[1]",Math.log(yr)/Math.LN10)):(ht(Cr+".range[0]",Math.pow(10,vr)),ht(Cr+".range[1]",Math.pow(10,yr)))}Array.isArray(Oe._subplots.polar)&&Oe._subplots.polar.length&&Oe[Ct.parts[0]]&&Ct.parts[1]==="radialaxis"&&delete Oe[Ct.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(fe,We,Ot,ht),t.getComponentMethod("images","convertCoords")(fe,We,Ot,ht)}else ht(Cr+".autorange",!0),ht(Cr+".range",null);T(Oe,Cr+"._inputRange").set(null)}else if($t.match(M)){var mr=T(Oe,Rt).get(),gr=(Ot||{}).type;(!gr||gr==="-")&&(gr="linear"),t.getComponentMethod("annotations","convertCoords")(fe,mr,gr,ht),t.getComponentMethod("images","convertCoords")(fe,mr,gr,ht)}var Zr=f.containerArrayMatch(Rt);if(Zr){Pt=Zr.array,Qt=Zr.index;var Ur=Zr.property,Br=zt||{editType:"calc"};Qt!==""&&Ur===""&&(f.isAddVal(Ot)?dr[Rt]=null:f.isRemoveVal(Ot)?dr[Rt]=(T(Re,Pt).get()||[])[Qt]:L.warn("unrecognized full object value",me)),A.update(Zt,Br),jt[Pt]||(jt[Pt]={});var Tn=jt[Pt][Qt];Tn||(Tn=jt[Pt][Qt]={}),Tn[Ur]=Ot,delete me[Rt]}else $t==="reverse"?(je.range?je.range.reverse():(ht(Cr+".autorange",!0),je.range=[1,0]),We.autorange?Zt.calc=!0:Zt.plot=!0):(Rt==="dragmode"&&(Ot===!1&&kt!==!1||Ot!==!1&&kt===!1)||Oe._has("scatter-like")&&Oe._has("regl")&&Rt==="dragmode"&&(Ot==="lasso"||Ot==="select")&&!(kt==="lasso"||kt==="select")||Oe._has("gl2d")?Zt.plot=!0:zt?A.update(Zt,zt):Zt.calc=!0,Ct.set(Ot))}}for(Pt in jt){var Kr=f.applyContainerArrayChanges(fe,ut(Re,Pt),jt[Pt],Zt,ut);Kr||(Zt.plot=!0)}for(var Bn in ct){wt=n.getFromId(fe,Bn);var On=wt&&wt._constraintGroup;if(On){Zt.calc=!0;for(var Tr in On)ct[Tr]||(n.getFromId(fe,Tr)._constraintShrinkable=!0)}}return(be(fe)||me.height||me.width)&&(Zt.plot=!0),(Zt.plot||Zt.calc)&&(Zt.layoutReplot=!0),{flags:Zt,rangesAltered:ct,undoit:dr,redoit:Ar,eventData:Gt}}function be(fe){var me=fe._fullLayout,Re=me.width,Oe=me.height;return fe.layout.autosize&&l.plotAutoSize(fe,fe.layout,me),me.width!==Re||me.height!==Oe}function we(fe,me,Re,Oe){fe=L.getGraphDiv(fe),o.clearPromiseQueue(fe),L.isPlainObject(me)||(me={}),L.isPlainObject(Re)||(Re={}),Object.keys(me).length&&(fe.changed=!0),Object.keys(Re).length&&(fe.changed=!0);var st=o.coerceTraceIndices(fe,Oe),ut=le(fe,L.extendFlat({},me),st),Tt=ut.flags,It=Ce(fe,L.extendFlat({},Re)),Gt=It.flags;(Tt.calc||Gt.calc)&&(fe.calcdata=void 0),Tt.clearAxisTypes&&o.clearAxisTypes(fe,st,Re);var jt=[];Gt.layoutReplot?jt.push(d.layoutReplot):Tt.fullReplot?jt.push(V._doPlot):(jt.push(l.previousPromises),xe(fe,Gt,It)||l.supplyDefaults(fe),Tt.style&&jt.push(d.doTraceStyle),(Tt.colorbars||Gt.colorbars)&&jt.push(d.doColorBars),Gt.legend&&jt.push(d.doLegend),Gt.layoutstyle&&jt.push(d.layoutStyles),Gt.axrange&&Se(jt,It.rangesAltered),Gt.ticks&&jt.push(d.doTicksRelayout),Gt.modebar&&jt.push(d.doModeBar),Gt.camera&&jt.push(d.doCamera),jt.push(x)),jt.push(l.rehover,l.redrag,l.reselect),p.add(fe,we,[fe,ut.undoit,It.undoit,ut.traces],we,[fe,ut.redoit,It.redoit,ut.traces]);var Pt=L.syncOrAsync(jt,fe);return(!Pt||!Pt.then)&&(Pt=Promise.resolve(fe)),Pt.then(function(){return fe.emit("plotly_update",{data:ut.eventData,layout:It.eventData}),fe})}function ke(fe){return function(Re){Re._fullLayout._guiEditing=!0;var Oe=fe.apply(null,arguments);return Re._fullLayout._guiEditing=!1,Oe}}var Fe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Pe=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Ge(fe,me){for(var Re=0;Re<me.length;Re++){var Oe=me[Re],st=fe.match(Oe.pattern);if(st){var ut=st[1]||"";return{head:ut,tail:fe.substr(ut.length+1),attr:Oe.attr}}}}function nt(fe,me){var Re=T(me,fe).get();if(Re!==void 0)return Re;var Oe=fe.split(".");for(Oe.pop();Oe.length>1;)if(Oe.pop(),Re=T(me,Oe.join(".")+".uirevision").get(),Re!==void 0)return Re;return me.uirevision}function qe(fe,me){for(var Re=0;Re<me.length;Re++)if(me[Re]._fullInput.uid===fe)return Re;return-1}function Ke(fe,me,Re){for(var Oe=0;Oe<me.length;Oe++)if(me[Oe].uid===fe)return Oe;return!me[Re]||me[Re].uid?-1:Re}function $e(fe,me){var Re=L.isPlainObject(fe),Oe=Array.isArray(fe);return Re||Oe?(Re&&L.isPlainObject(me)||Oe&&Array.isArray(me))&&JSON.stringify(fe)===JSON.stringify(me):fe===me}function vt(fe,me,Re,Oe){var st=Oe._preGUI,ut,Tt,It,Gt,jt,Pt,Qt,or,zr,bt,Jt=[],Zt={},Ar={};for(ut in st){if(jt=Ge(ut,Fe),jt){if(zr=jt.head,bt=jt.tail,Tt=jt.attr||zr+".uirevision",It=T(Oe,Tt).get(),Gt=It&&nt(Tt,me),Gt&&Gt===It){if(Pt=st[ut],Pt===null&&(Pt=void 0),Qt=T(me,ut),or=Qt.get(),$e(or,Pt)){or===void 0&&bt==="autorange"&&Jt.push(zr),Qt.set(te(T(Oe,ut).get()));continue}else if(bt==="autorange"||bt.substr(0,6)==="range["){var dr=st[zr+".range[0]"],ht=st[zr+".range[1]"],ct=st[zr+".autorange"];if(ct||ct===null&&dr===null&&ht===null){if(!(zr in Zt)){var wt=T(me,zr).get();Zt[zr]=wt&&(wt.autorange||wt.autorange!==!1&&(!wt.range||wt.range.length!==2))}if(Zt[zr]){Qt.set(te(T(Oe,ut).get()));continue}}}}}else L.warn("unrecognized GUI edit: "+ut);delete st[ut],jt&&jt.tail.substr(0,6)==="range["&&(Ar[jt.head]=1)}for(var St=0;St<Jt.length;St++){var Rt=Jt[St];if(Ar[Rt]){var Ct=T(me,Rt).get();Ct&&delete Ct.autorange}}var Ot=Oe._tracePreGUI;for(var Wt in Ot){var er=Ot[Wt],$t=null,sr;for(ut in er){if(!$t){var Cr=qe(Wt,Re);if(Cr<0){delete Ot[Wt];break}var je=Re[Cr];sr=je._fullInput;var We=Ke(Wt,fe,sr.index);if(We<0){delete Ot[Wt];break}$t=fe[We]}if(jt=Ge(ut,Pe),jt){if(jt.attr?(It=T(Oe,jt.attr).get(),Gt=It&&nt(jt.attr,me)):(It=sr.uirevision,Gt=$t.uirevision,Gt===void 0&&(Gt=me.uirevision)),Gt&&Gt===It&&(Pt=er[ut],Pt===null&&(Pt=void 0),Qt=T($t,ut),or=Qt.get(),$e(or,Pt))){Qt.set(te(T(sr,ut).get()));continue}}else L.warn("unrecognized GUI edit: "+ut+" in trace uid "+Wt);delete er[ut]}}}function yt(fe,me,Re,Oe){var st,ut;function Tt(){return V.addFrames(fe,st)}fe=L.getGraphDiv(fe),o.clearPromiseQueue(fe);var It=fe._fullData,Gt=fe._fullLayout;if(!L.isPlotDiv(fe)||!It||!Gt)ut=V.newPlot(fe,me,Re,Oe);else{if(L.isPlainObject(me)){var jt=me;me=jt.data,Re=jt.layout,Oe=jt.config,st=jt.frames}var Pt=!1;if(Oe){var Qt=L.extendDeep({},fe._context);fe._context=void 0,k(fe,Oe),Pt=Ue(Qt,fe._context)}fe.data=me||[],o.cleanData(fe.data),fe.layout=Re||{},o.cleanLayout(fe.layout),vt(fe.data,fe.layout,It,Gt),l.supplyDefaults(fe,{skipUpdateCalc:!0});var or=fe._fullData,zr=fe._fullLayout,bt=zr.datarevision===void 0,Jt=zr.transition,Zt=Et(fe,Gt,zr,bt,Jt),Ar=Zt.newDataRevision,dr=mt(fe,It,or,bt,Jt,Ar);if(be(fe)&&(Zt.layoutReplot=!0),dr.calc||Zt.calc){fe.calcdata=void 0;for(var ht=Object.getOwnPropertyNames(zr),ct=0;ct<ht.length;ct++){var wt=ht[ct],St=wt.substring(0,5);if(St==="xaxis"||St==="yaxis"){var Rt=zr[wt]._emptyCategories;Rt&&Rt()}}}else l.supplyDefaultsUpdateCalc(fe.calcdata,or);var Ct=[];if(st&&(fe._transitionData={},l.createTransitionData(fe),Ct.push(Tt)),zr.transition&&!Pt&&(dr.anim||Zt.anim))Zt.ticks&&Ct.push(d.doTicksRelayout),l.doCalcdata(fe),d.doAutoRangeAndConstraints(fe),Ct.push(function(){return l.transitionFromReact(fe,dr,Zt,Gt)});else if(dr.fullReplot||Zt.layoutReplot||Pt)fe._fullLayout._skipDefaults=!0,Ct.push(V._doPlot);else{for(var Ot in Zt.arrays){var Wt=Zt.arrays[Ot];if(Wt.length){var er=t.getComponentMethod(Ot,"drawOne");if(er!==L.noop)for(var $t=0;$t<Wt.length;$t++)er(fe,Wt[$t]);else{var sr=t.getComponentMethod(Ot,"draw");if(sr===L.noop)throw new Error("cannot draw components: "+Ot);sr(fe)}}}Ct.push(l.previousPromises),dr.style&&Ct.push(d.doTraceStyle),(dr.colorbars||Zt.colorbars)&&Ct.push(d.doColorBars),Zt.legend&&Ct.push(d.doLegend),Zt.layoutstyle&&Ct.push(d.layoutStyles),Zt.axrange&&Se(Ct),Zt.ticks&&Ct.push(d.doTicksRelayout),Zt.modebar&&Ct.push(d.doModeBar),Zt.camera&&Ct.push(d.doCamera),Ct.push(x)}Ct.push(l.rehover,l.redrag,l.reselect),ut=L.syncOrAsync(Ct,fe),(!ut||!ut.then)&&(ut=Promise.resolve(fe))}return ut.then(function(){return fe.emit("plotly_react",{data:me,layout:Re}),fe})}function mt(fe,me,Re,Oe,st,ut){var Tt=me.length===Re.length;if(!st&&!Tt)return{fullReplot:!0,calc:!0};var It=A.traceFlags();It.arrays={},It.nChanges=0,It.nChangesAnim=0;var Gt,jt;function Pt(zr){var bt=r.getTraceValObject(jt,zr);return!jt._module.animatable&&bt.anim&&(bt.anim=!1),bt}var Qt={getValObject:Pt,flags:It,immutable:Oe,transition:st,newDataRevision:ut,gd:fe},or={};for(Gt=0;Gt<me.length;Gt++)if(Re[Gt]){if(jt=Re[Gt]._fullInput,l.hasMakesDataTransform(jt)&&(jt=Re[Gt]),or[jt.uid])continue;or[jt.uid]=1,Xe(me[Gt]._fullInput,jt,[],Qt)}return(It.calc||It.plot)&&(It.fullReplot=!0),st&&It.nChanges&&It.nChangesAnim&&(It.anim=It.nChanges===It.nChangesAnim&&Tt?"all":"some"),It}function Et(fe,me,Re,Oe,st){var ut=A.layoutFlags();ut.arrays={},ut.rangesAltered={},ut.nChanges=0,ut.nChangesAnim=0;function Tt(Gt){return r.getLayoutValObject(Re,Gt)}var It={getValObject:Tt,flags:ut,immutable:Oe,transition:st,gd:fe};return Xe(me,Re,[],It),(ut.plot||ut.calc)&&(ut.layoutReplot=!0),st&&ut.nChanges&&ut.nChangesAnim&&(ut.anim=ut.nChanges===ut.nChangesAnim?"all":"some"),ut}function Xe(fe,me,Re,Oe){var st,ut,Tt,It=Oe.getValObject,Gt=Oe.flags,jt=Oe.immutable,Pt=Oe.inArray,Qt=Oe.arrayIndex;function or(){var Cr=st.editType;if(Pt&&Cr.indexOf("arraydraw")!==-1){L.pushUnique(Gt.arrays[Pt],Qt);return}A.update(Gt,st),Cr!=="none"&&Gt.nChanges++,Oe.transition&&st.anim&&Gt.nChangesAnim++,(Ee.test(Tt)||Ne.test(Tt))&&(Gt.rangesAltered[Re[0]]=1),He.test(Tt)&&T(me,"_inputDomain").set(null),ut==="datarevision"&&(Gt.newDataRevision=1)}function zr(Cr){return Cr.valType==="data_array"||Cr.arrayOk}for(ut in fe){if(Gt.calc&&!Oe.transition)return;var bt=fe[ut],Jt=me[ut],Zt=Re.concat(ut);if(Tt=Zt.join("."),!(ut.charAt(0)==="_"||typeof bt=="function"||bt===Jt)){if((ut==="tick0"||ut==="dtick")&&Re[0]!=="geo"){var Ar=me.tickmode;if(Ar==="auto"||Ar==="array"||!Ar)continue}if(!(ut==="range"&&me.autorange)&&!((ut==="zmin"||ut==="zmax")&&me.type==="contourcarpet")&&(st=It(Zt),!!st&&!(st._compareAsJSON&&JSON.stringify(bt)===JSON.stringify(Jt)))){var dr=st.valType,ht,ct=zr(st),wt=Array.isArray(bt),St=Array.isArray(Jt);if(wt&&St){var Rt="_input_"+ut,Ct=fe[Rt],Ot=me[Rt];if(Array.isArray(Ct)&&Ct===Ot)continue}if(Jt===void 0)ct&&wt?Gt.calc=!0:or();else if(st._isLinkedToArray){var Wt=[],er=!1;Pt||(Gt.arrays[ut]=Wt);var $t=Math.min(bt.length,Jt.length),sr=Math.max(bt.length,Jt.length);if($t!==sr)if(st.editType==="arraydraw")er=!0;else{or();continue}for(ht=0;ht<$t;ht++)Xe(bt[ht],Jt[ht],Zt.concat(ht),L.extendFlat({inArray:ut,arrayIndex:ht},Oe));if(er)for(ht=$t;ht<sr;ht++)Wt.push(ht)}else!dr&&L.isPlainObject(bt)?Xe(bt,Jt,Zt,Oe):ct?wt&&St?(jt&&(Gt.calc=!0),(jt||Oe.newDataRevision)&&or()):wt!==St?Gt.calc=!0:or():wt&&St?(bt.length!==Jt.length||String(bt)!==String(Jt))&&or():or()}}}for(ut in me)if(!(ut in fe||ut.charAt(0)==="_"||typeof me[ut]=="function"))if(st=It(Re.concat(ut)),zr(st)&&Array.isArray(me[ut])){Gt.calc=!0;return}else or()}function Ue(fe,me){var Re;for(Re in fe)if(Re.charAt(0)!=="_"){var Oe=fe[Re],st=me[Re];if(Oe!==st)if(L.isPlainObject(Oe)&&L.isPlainObject(st)){if(Ue(Oe,st))return!0}else if(Array.isArray(Oe)&&Array.isArray(st)){if(Oe.length!==st.length)return!0;for(var ut=0;ut<Oe.length;ut++)if(Oe[ut]!==st[ut])if(L.isPlainObject(Oe[ut])&&L.isPlainObject(st[ut])){if(Ue(Oe[ut],st[ut]))return!0}else return!0}else return!0}}function Be(fe,me,Re){if(fe=L.getGraphDiv(fe),!L.isPlotDiv(fe))throw new Error("This element is not a Plotly plot: "+fe+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Oe=fe._transitionData;Oe._frameQueue||(Oe._frameQueue=[]),Re=l.supplyAnimationDefaults(Re);var st=Re.transition,ut=Re.frame;Oe._frameWaitingCnt===void 0&&(Oe._frameWaitingCnt=0);function Tt(jt){return Array.isArray(st)?jt>=st.length?st[0]:st[jt]:st}function It(jt){return Array.isArray(ut)?jt>=ut.length?ut[0]:ut[jt]:ut}function Gt(jt,Pt){var Qt=0;return function(){if(jt&&++Qt===Pt)return jt()}}return new Promise(function(jt,Pt){function Qt(){if(Oe._frameQueue.length!==0){for(;Oe._frameQueue.length;){var $t=Oe._frameQueue.pop();$t.onInterrupt&&$t.onInterrupt()}fe.emit("plotly_animationinterrupted",[])}}function or($t){if($t.length!==0){for(var sr=0;sr<$t.length;sr++){var Cr;$t[sr].type==="byname"?Cr=l.computeFrame(fe,$t[sr].name):Cr=$t[sr].data;var je=It(sr),We=Tt(sr);We.duration=Math.min(We.duration,je.duration);var kt={frame:Cr,name:$t[sr].name,frameOpts:je,transitionOpts:We};sr===$t.length-1&&(kt.onComplete=Gt(jt,2),kt.onInterrupt=Pt),Oe._frameQueue.push(kt)}Re.mode==="immediate"&&(Oe._lastFrameAt=-1/0),Oe._animationRaf||Jt()}}function zr(){fe.emit("plotly_animated"),window.cancelAnimationFrame(Oe._animationRaf),Oe._animationRaf=null}function bt(){Oe._currentFrame&&Oe._currentFrame.onComplete&&Oe._currentFrame.onComplete();var $t=Oe._currentFrame=Oe._frameQueue.shift();if($t){var sr=$t.name?$t.name.toString():null;fe._fullLayout._currentFrame=sr,Oe._lastFrameAt=Date.now(),Oe._timeToNext=$t.frameOpts.duration,l.transition(fe,$t.frame.data,$t.frame.layout,o.coerceTraceIndices(fe,$t.frame.traces),$t.frameOpts,$t.transitionOpts).then(function(){$t.onComplete&&$t.onComplete()}),fe.emit("plotly_animatingframe",{name:sr,frame:$t.frame,animation:{frame:$t.frameOpts,transition:$t.transitionOpts}})}else zr()}function Jt(){fe.emit("plotly_animating"),Oe._lastFrameAt=-1/0,Oe._timeToNext=0,Oe._runningTransitions=0,Oe._currentFrame=null;var $t=function(){Oe._animationRaf=window.requestAnimationFrame($t),Date.now()-Oe._lastFrameAt>Oe._timeToNext&&bt()};$t()}var Zt=0;function Ar($t){return Array.isArray(st)?Zt>=st.length?$t.transitionOpts=st[Zt]:$t.transitionOpts=st[0]:$t.transitionOpts=st,Zt++,$t}var dr,ht,ct=[],wt=me==null,St=Array.isArray(me),Rt=!wt&&!St&&L.isPlainObject(me);if(Rt)ct.push({type:"object",data:Ar(L.extendFlat({},me))});else if(wt||["string","number"].indexOf(typeof me)!==-1)for(dr=0;dr<Oe._frames.length;dr++)ht=Oe._frames[dr],ht&&(wt||String(ht.group)===String(me))&&ct.push({type:"byname",name:String(ht.name),data:Ar({name:ht.name})});else if(St)for(dr=0;dr<me.length;dr++){var Ct=me[dr];["number","string"].indexOf(typeof Ct)!==-1?(Ct=String(Ct),ct.push({type:"byname",name:Ct,data:Ar({name:Ct})})):L.isPlainObject(Ct)&&ct.push({type:"object",data:Ar(L.extendFlat({},Ct))})}for(dr=0;dr<ct.length;dr++)if(ht=ct[dr],ht.type==="byname"&&!Oe._frameHash[ht.data.name]){L.warn('animate failure: frame not found: "'+ht.data.name+'"'),Pt();return}["next","immediate"].indexOf(Re.mode)!==-1&&Qt(),Re.direction==="reverse"&&ct.reverse();var Ot=fe._fullLayout._currentFrame;if(Ot&&Re.fromcurrent){var Wt=-1;for(dr=0;dr<ct.length;dr++)if(ht=ct[dr],ht.type==="byname"&&ht.name===Ot){Wt=dr;break}if(Wt>0&&Wt<ct.length-1){var er=[];for(dr=0;dr<ct.length;dr++)ht=ct[dr],(ct[dr].type!=="byname"||dr>Wt)&&er.push(ht);ct=er}}ct.length>0?or(ct):(fe.emit("plotly_animated"),jt())})}function rt(fe,me,Re){if(fe=L.getGraphDiv(fe),me==null)return Promise.resolve();if(!L.isPlotDiv(fe))throw new Error("This element is not a Plotly plot: "+fe+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Oe,st,ut,Tt,It=fe._transitionData._frames,Gt=fe._transitionData._frameHash;if(!Array.isArray(me))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+me);var jt=It.length+me.length*2,Pt=[],Qt={};for(Oe=me.length-1;Oe>=0;Oe--)if(L.isPlainObject(me[Oe])){var or=me[Oe].name,zr=(Gt[or]||Qt[or]||{}).name,bt=me[Oe].name,Jt=Gt[zr]||Qt[zr];zr&&bt&&typeof bt=="number"&&Jt&&C<m&&(C++,L.warn('addFrames: overwriting frame "'+(Gt[zr]||Qt[zr]).name+'" with a frame whose name of type "number" also equates to "'+zr+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),C===m&&L.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Qt[or]={name:or},Pt.push({frame:l.supplyFrameDefaults(me[Oe]),index:Re&&Re[Oe]!==void 0&&Re[Oe]!==null?Re[Oe]:jt+Oe})}Pt.sort(function(Rt,Ct){return Rt.index>Ct.index?-1:Rt.index<Ct.index?1:0});var Zt=[],Ar=[],dr=It.length;for(Oe=Pt.length-1;Oe>=0;Oe--){if(st=Pt[Oe].frame,typeof st.name=="number"&&L.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!st.name)for(;Gt[st.name="frame "+fe._transitionData._counter++];);if(Gt[st.name]){for(ut=0;ut<It.length&&(It[ut]||{}).name!==st.name;ut++);Zt.push({type:"replace",index:ut,value:st}),Ar.unshift({type:"replace",index:ut,value:It[ut]})}else Tt=Math.max(0,Math.min(Pt[Oe].index,dr)),Zt.push({type:"insert",index:Tt,value:st}),Ar.unshift({type:"delete",index:Tt}),dr++}var ht=l.modifyFrames,ct=l.modifyFrames,wt=[fe,Ar],St=[fe,Zt];return p&&p.add(fe,ht,wt,ct,St),l.modifyFrames(fe,Zt)}function it(fe,me){if(fe=L.getGraphDiv(fe),!L.isPlotDiv(fe))throw new Error("This element is not a Plotly plot: "+fe);var Re,Oe,st=fe._transitionData._frames,ut=[],Tt=[];if(!me)for(me=[],Re=0;Re<st.length;Re++)me.push(Re);for(me=me.slice(),me.sort(),Re=me.length-1;Re>=0;Re--)Oe=me[Re],ut.push({type:"delete",index:Oe}),Tt.unshift({type:"insert",index:Oe,value:st[Oe]});var It=l.modifyFrames,Gt=l.modifyFrames,jt=[fe,Tt],Pt=[fe,ut];return p&&p.add(fe,It,jt,Gt,Pt),l.modifyFrames(fe,ut)}function Ye(fe){fe=L.getGraphDiv(fe);var me=fe._fullLayout||{},Re=fe._fullData||[];return l.cleanPlot([],{},Re,me),l.purge(fe),v.purge(fe),me._container&&me._container.remove(),delete fe._context,fe}function De(fe){var me=fe._fullLayout,Re=fe.getBoundingClientRect();if(!L.equalDomRects(Re,me._lastBBox)){var Oe=me._invTransform=L.inverseTransformMatrix(L.getFullTransformMatrix(fe));me._invScaleX=Math.sqrt(Oe[0][0]*Oe[0][0]+Oe[0][1]*Oe[0][1]+Oe[0][2]*Oe[0][2]),me._invScaleY=Math.sqrt(Oe[1][0]*Oe[1][0]+Oe[1][1]*Oe[1][1]+Oe[1][2]*Oe[1][2]),me._lastBBox=Re}}function Te(fe){var me=g.select(fe),Re=fe._fullLayout;if(Re._calcInverseTransform=De,Re._calcInverseTransform(fe),Re._container=me.selectAll(".plot-container").data([0]),Re._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Re._paperdiv=Re._container.selectAll(".svg-container").data([0]),Re._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Re._glcontainer=Re._paperdiv.selectAll(".gl-container").data([{}]),Re._glcontainer.enter().append("div").classed("gl-container",!0),Re._paperdiv.selectAll(".main-svg").remove(),Re._paperdiv.select(".modebar-container").remove(),Re._paper=Re._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Re._toppaper=Re._paperdiv.append("svg").classed("main-svg",!0),Re._modebardiv=Re._paperdiv.append("div"),delete Re._modeBar,Re._hoverpaper=Re._paperdiv.append("svg").classed("main-svg",!0),!Re._uid){var Oe={};g.selectAll("defs").each(function(){this.id&&(Oe[this.id.split("-")[1]]=1)}),Re._uid=L.randstr(Oe)}Re._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),Re._defs=Re._paper.append("defs").attr("id","defs-"+Re._uid),Re._clips=Re._defs.append("g").classed("clips",!0),Re._topdefs=Re._toppaper.append("defs").attr("id","topdefs-"+Re._uid),Re._topclips=Re._topdefs.append("g").classed("clips",!0),Re._bgLayer=Re._paper.append("g").classed("bglayer",!0),Re._draggers=Re._paper.append("g").classed("draglayer",!0);var st=Re._paper.append("g").classed("layer-below",!0);Re._imageLowerLayer=st.append("g").classed("imagelayer",!0),Re._shapeLowerLayer=st.append("g").classed("shapelayer",!0),Re._cartesianlayer=Re._paper.append("g").classed("cartesianlayer",!0),Re._polarlayer=Re._paper.append("g").classed("polarlayer",!0),Re._smithlayer=Re._paper.append("g").classed("smithlayer",!0),Re._ternarylayer=Re._paper.append("g").classed("ternarylayer",!0),Re._geolayer=Re._paper.append("g").classed("geolayer",!0),Re._funnelarealayer=Re._paper.append("g").classed("funnelarealayer",!0),Re._pielayer=Re._paper.append("g").classed("pielayer",!0),Re._iciclelayer=Re._paper.append("g").classed("iciclelayer",!0),Re._treemaplayer=Re._paper.append("g").classed("treemaplayer",!0),Re._sunburstlayer=Re._paper.append("g").classed("sunburstlayer",!0),Re._indicatorlayer=Re._toppaper.append("g").classed("indicatorlayer",!0),Re._glimages=Re._paper.append("g").classed("glimages",!0);var ut=Re._toppaper.append("g").classed("layer-above",!0);Re._imageUpperLayer=ut.append("g").classed("imagelayer",!0),Re._shapeUpperLayer=ut.append("g").classed("shapelayer",!0),Re._selectionLayer=Re._toppaper.append("g").classed("selectionlayer",!0),Re._infolayer=Re._toppaper.append("g").classed("infolayer",!0),Re._menulayer=Re._toppaper.append("g").classed("menulayer",!0),Re._zoomlayer=Re._toppaper.append("g").classed("zoomlayer",!0),Re._hoverlayer=Re._hoverpaper.append("g").classed("hoverlayer",!0),Re._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),fe.emit("plotly_framework")}V.animate=Be,V.addFrames=rt,V.deleteFrames=it,V.addTraces=J,V.deleteTraces=Y,V.extendTraces=oe,V.moveTraces=j,V.prependTraces=ve,V.newPlot=U,V._doPlot=S,V.purge=Ye,V.react=yt,V.redraw=I,V.relayout=he,V.restyle=K,V.setPlotConfig=a,V.update=we,V._guiRelayout=ke(he),V._guiRestyle=ke(K),V._guiUpdate=ke(we),V._storeDirectGUIEdit=ee},72075:function(G){var V={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function g(R,i){for(var L in R){var T=R[L];T.valType?i[L]=T.dflt:(i[L]||(i[L]={}),g(T,i[L]))}}g(V,e),G.exports={configAttributes:V,dfltConfig:e}},86281:function(G,V,e){var g=e(73972),R=e(71828),i=e(9012),L=e(10820),T=e(31391),v=e(85594),p=e(72075).configAttributes,t=e(30962),r=R.extendDeepAll,l=R.isPlainObject,n=R.isArrayOrTypedArray,s=R.nestedProperty,c=R.valObjectMeta,u="_isSubplotObj",y="_isLinkedToArray",h="_arrayAttrRegexps",b="_deprecated",f=[u,y,h,b];V.IS_SUBPLOT_OBJ=u,V.IS_LINKED_TO_ARRAY=y,V.DEPRECATED=b,V.UNDERSCORE_ATTRS=f,V.get=function(){var U={};g.allTypes.forEach(function(N){U[N]=M(N)});var z={};return Object.keys(g.transformsRegistry).forEach(function(N){z[N]=m(N)}),{defs:{valObjects:c,metaKeys:f.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:U,layout:C(),transforms:z,frames:S(),animation:x(v),config:x(p)}},V.crawl=function(U,z,N,B){var F=N||0;B=B||"",Object.keys(U).forEach(function(H){var X=U[H];if(f.indexOf(H)===-1){var q=(B?B+".":"")+H;z(X,H,U,F,q),!V.isValObject(X)&&l(X)&&H!=="impliedEdits"&&V.crawl(X,z,F+1,q)}})},V.isValObject=function(U){return U&&U.valType!==void 0},V.findArrayAttributes=function(U){var z=[],N=[],B=[],F,H;function X(Y,j,K,te){N=N.slice(0,te).concat([j]),B=B.slice(0,te).concat([Y&&Y._isLinkedToArray]);var se=Y&&(Y.valType==="data_array"||Y.arrayOk===!0)&&!(N[te-1]==="colorbar"&&(j==="ticktext"||j==="tickvals"));se&&q(F,0,"")}function q(Y,j,K){var te=Y[N[j]],se=K+N[j];if(j===N.length-1)n(te)&&z.push(H+se);else if(B[j]){if(Array.isArray(te))for(var Q=0;Q<te.length;Q++)l(te[Q])&&q(te[Q],j+1,se+"["+Q+"].")}else l(te)&&q(te,j+1,se+".")}F=U,H="",V.crawl(i,X),U._module&&U._module.attributes&&V.crawl(U._module.attributes,X);var ne=U.transforms;if(ne)for(var oe=0;oe<ne.length;oe++){var ve=ne[oe],J=ve._module;J&&(H="transforms["+oe+"].",F=ve,V.crawl(J.attributes,X))}return z},V.getTraceValObject=function(U,z){var N=z[0],B=1,F,H;if(N==="transforms"){if(z.length===1)return i.transforms;var X=U.transforms;if(!Array.isArray(X)||!X.length)return!1;var q=z[1];if(!A(q)||q>=X.length)return!1;F=(g.transformsRegistry[X[q].type]||{}).attributes,H=F&&F[z[2]],B=3}else{var ne=U._module;if(ne||(ne=(g.modules[U.type||i.type.dflt]||{})._module),!ne)return!1;if(F=ne.attributes,H=F&&F[N],!H){var oe=ne.basePlotModule;oe&&oe.attributes&&(H=oe.attributes[N])}H||(H=i[N])}return d(H,z,B)},V.getLayoutValObject=function(U,z){var N=o(U,z[0]);return d(N,z,1)};function o(U,z){var N,B,F,H,X=U._basePlotModules;if(X){var q;for(N=0;N<X.length;N++){if(F=X[N],F.attrRegex&&F.attrRegex.test(z)){if(F.layoutAttrOverrides)return F.layoutAttrOverrides;!q&&F.layoutAttributes&&(q=F.layoutAttributes)}var ne=F.baseLayoutAttrOverrides;if(ne&&z in ne)return ne[z]}if(q)return q}var oe=U._modules;if(oe){for(N=0;N<oe.length;N++)if(H=oe[N].layoutAttributes,H&&z in H)return H[z]}for(B in g.componentsRegistry){if(F=g.componentsRegistry[B],F.name==="colorscale"&&z.indexOf("coloraxis")===0)return F.layoutAttributes[z];if(!F.schema&&z===F.name)return F.layoutAttributes}return z in L?L[z]:!1}function d(U,z,N){if(!U)return!1;if(U._isLinkedToArray){if(A(z[N]))N++;else if(N<z.length)return!1}for(;N<z.length;N++){var B=U[z[N]];if(l(B))U=B;else break;if(N===z.length-1)break;if(U._isLinkedToArray){if(N++,!A(z[N]))return!1}else if(U.valType==="info_array"){N++;var F=z[N];if(!A(F))return!1;var H=U.items;if(Array.isArray(H)){if(F>=H.length)return!1;if(U.dimensions===2){if(N++,z.length===N)return U;var X=z[N];if(!A(X))return!1;U=H[F][X]}else U=H[F]}else U=H}}return U}function A(U){return U===Math.round(U)&&U>=0}function M(U){var z,N;z=g.modules[U]._module,N=z.basePlotModule;var B={};B.type=null;var F=r({},i),H=r({},z.attributes);V.crawl(H,function(ne,oe,ve,J,Y){s(F,Y).set(void 0),ne===void 0&&s(H,Y).set(void 0)}),r(B,F),g.traceIs(U,"noOpacity")&&delete B.opacity,g.traceIs(U,"showLegend")||(delete B.showlegend,delete B.legendgroup),g.traceIs(U,"noHover")&&(delete B.hoverinfo,delete B.hoverlabel),z.selectPoints||delete B.selectedpoints,r(B,H),N.attributes&&r(B,N.attributes),B.type=U;var X={meta:z.meta||{},categories:z.categories||{},animatable:!!z.animatable,type:U,attributes:x(B)};if(z.layoutAttributes){var q={};r(q,z.layoutAttributes),X.layoutAttributes=x(q)}return z.animatable||V.crawl(X,function(ne){V.isValObject(ne)&&"anim"in ne&&delete ne.anim}),X}function C(){var U={},z,N;r(U,L);for(z in g.subplotsRegistry)if(N=g.subplotsRegistry[z],!!N.layoutAttributes)if(Array.isArray(N.attr))for(var B=0;B<N.attr.length;B++)k(U,N,N.attr[B]);else{var F=N.attr==="subplot"?N.name:N.attr;k(U,N,F)}for(z in g.componentsRegistry){N=g.componentsRegistry[z];var H=N.schema;if(H&&(H.subplots||H.layout)){var X=H.subplots;if(X&&X.xaxis&&!X.yaxis)for(var q in X.xaxis)delete U.yaxis[q];delete U.xaxis.shift,delete U.xaxis.autoshift}else N.name==="colorscale"?r(U,N.layoutAttributes):N.layoutAttributes&&I(U,N.layoutAttributes,N.name)}return{layoutAttributes:x(U)}}function m(U){var z=g.transformsRegistry[U],N=r({},z.attributes);return Object.keys(g.componentsRegistry).forEach(function(B){var F=g.componentsRegistry[B];F.schema&&F.schema.transforms&&F.schema.transforms[U]&&Object.keys(F.schema.transforms[U]).forEach(function(H){I(N,F.schema.transforms[U][H],H)})}),{attributes:x(N)}}function S(){var U={frames:r({},T)};return x(U),U.frames}function x(U){return a(U),E(U),w(U),U}function a(U){function z(B){return{valType:"string",editType:"none"}}function N(B,F,H){V.isValObject(B)?(B.arrayOk===!0||B.valType==="data_array")&&(H[F+"src"]=z()):l(B)&&(B.role="object")}V.crawl(U,N)}function E(U){function z(N,B,F){if(N){var H=N[y];H&&(delete N[y],F[B]={items:{}},F[B].items[H]=N,F[B].role="object")}}V.crawl(U,z)}function w(U){function z(N){for(var B in N)if(l(N[B]))z(N[B]);else if(Array.isArray(N[B]))for(var F=0;F<N[B].length;F++)z(N[B][F]);else N[B]instanceof RegExp&&(N[B]=N[B].toString())}z(U)}function k(U,z,N){var B=s(U,N),F=r({},z.layoutAttributes);F[u]=!0,B.set(F)}function I(U,z,N){var B=s(U,N);B.set(r(B.get()||{},z))}},44467:function(G,V,e){var g=e(71828),R=e(9012),i="templateitemname",L={name:{valType:"string",editType:"none"}};L[i]={valType:"string",editType:"calc"},V.templatedArray=function(p,t){return t._isLinkedToArray=p,t.name=L.name,t[i]=L[i],t},V.traceTemplater=function(p){var t={},r,l;for(r in p)l=p[r],Array.isArray(l)&&l.length&&(t[r]=0);function n(s){r=g.coerce(s,{},R,"type");var c={type:r,_template:null};if(r in t){l=p[r];var u=t[r]%l.length;t[r]++,c._template=l[u]}return c}return{newTrace:n}},V.newContainer=function(p,t,r){var l=p._template,n=l&&(l[t]||r&&l[r]);g.isPlainObject(n)||(n=null);var s=p[t]={_template:n};return s},V.arrayTemplater=function(p,t,r){var l=p._template,n=l&&l[v(t)],s=l&&l[t];(!Array.isArray(s)||!s.length)&&(s=[]);var c={};function u(h){var b={name:h.name,_input:h},f=b[i]=h[i];if(!T(f))return b._template=n,b;for(var o=0;o<s.length;o++){var d=s[o];if(d.name===f)return c[f]=1,b._template=d,b}return b[r]=h[r]||!1,b._template=!1,b}function y(){for(var h=[],b=0;b<s.length;b++){var f=s[b],o=f.name;if(T(o)&&!c[o]){var d={_template:f,name:o,_input:{_templateitemname:o}};d[i]=f[i],h.push(d),c[o]=1}}return h}return{newItem:u,defaultItems:y}};function T(p){return p&&typeof p=="string"}function v(p){var t=p.length-1;return p.charAt(t)!=="s"&&g.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}V.arrayDefaultKey=v,V.arrayEditor=function(p,t,r){var l=(g.nestedProperty(p,t).get()||[]).length,n=r._index,s=n>=l&&(r._input||{})._templateitemname;s&&(n=l);var c=t+"["+n+"]",u;function y(){u={},s&&(u[c]={},u[c][i]=s)}y();function h(d,A){u[d]=A}function b(d,A){s?g.nestedProperty(u[c],d).set(A):u[c+"."+d]=A}function f(){var d=u;return y(),d}function o(d,A){d&&b(d,A);var M=f();for(var C in M)g.nestedProperty(p,C).set(M[C])}return{modifyBase:h,modifyItem:b,getUpdateObj:f,applyUpdate:o}}},61549:function(G,V,e){var g=e(39898),R=e(73972),i=e(74875),L=e(71828),T=e(63893),v=e(33306),p=e(7901),t=e(91424),r=e(92998),l=e(64168),n=e(89298),s=e(18783),c=e(99082),u=c.enforce,y=c.clean,h=e(71739).doAutoRange,b="start",f="middle",o="end";V.layoutStyles=function(N){return L.syncOrAsync([i.doAutoMargin,A],N)};function d(N,B,F){for(var H=0;H<F.length;H++){var X=F[H][0],q=F[H][1];if(!(X[0]>=N[1]||X[1]<=N[0])&&q[0]<B[1]&&q[1]>B[0])return!0}return!1}function A(N){var B=N._fullLayout,F=B._size,H=F.p,X=n.list(N,"",!0),q,ne,oe,ve,J,Y;if(B._paperdiv.style({width:N._context.responsive&&B.autosize&&!N._context._hasZeroWidth&&!N.layout.width?"100%":B.width+"px",height:N._context.responsive&&B.autosize&&!N._context._hasZeroHeight&&!N.layout.height?"100%":B.height+"px"}).selectAll(".main-svg").call(t.setSize,B.width,B.height),N._context.setBackground(N,B.paper_bgcolor),V.drawMainTitle(N),l.manage(N),!B._has("cartesian"))return i.previousPromises(N);function j(Te,fe,me){var Re=Te._lw/2;if(Te._id.charAt(0)==="x"){if(fe){if(me==="top")return fe._offset-H-Re}else return F.t+F.h*(1-(Te.position||0))+Re%1;return fe._offset+fe._length+H+Re}if(fe){if(me==="right")return fe._offset+fe._length+H+Re}else return F.l+F.w*(Te.position||0)+Re%1;return fe._offset-H-Re}for(q=0;q<X.length;q++){ve=X[q];var K=ve._anchorAxis;ve._linepositions={},ve._lw=t.crispRound(N,ve.linewidth,1),ve._mainLinePosition=j(ve,K,ve.side),ve._mainMirrorPosition=ve.mirror&&K?j(ve,K,s.OPPOSITE_SIDE[ve.side]):null}var te=[],se=[],Q=[],ee=p.opacity(B.paper_bgcolor)===1&&p.opacity(B.plot_bgcolor)===1&&B.paper_bgcolor===B.plot_bgcolor;for(ne in B._plots)if(oe=B._plots[ne],oe.mainplot)oe.bg&&oe.bg.remove(),oe.bg=void 0;else{var le=oe.xaxis.domain,ie=oe.yaxis.domain,he=oe.plotgroup;if(d(le,ie,Q)){var xe=he.node(),Se=oe.bg=L.ensureSingle(he,"rect","bg");xe.insertBefore(Se.node(),xe.childNodes[0]),se.push(ne)}else he.select("rect.bg").remove(),Q.push([le,ie]),ee||(te.push(ne),se.push(ne))}var Ee=B._bgLayer.selectAll(".bg").data(te);for(Ee.enter().append("rect").classed("bg",!0),Ee.exit().remove(),Ee.each(function(Te){B._plots[Te].bg=g.select(this)}),q=0;q<se.length;q++)oe=B._plots[se[q]],J=oe.xaxis,Y=oe.yaxis,oe.bg&&J._offset!==void 0&&Y._offset!==void 0&&oe.bg.call(t.setRect,J._offset-H,Y._offset-H,J._length+2*H,Y._length+2*H).call(p.fill,B.plot_bgcolor).style("stroke-width",0);if(!B._hasOnlyLargeSploms)for(ne in B._plots){oe=B._plots[ne],J=oe.xaxis,Y=oe.yaxis;var Ne=oe.clipId="clip"+B._uid+ne+"plot",He=L.ensureSingleById(B._clips,"clipPath",Ne,function(Te){Te.classed("plotclip",!0).append("rect")});oe.clipRect=He.select("rect").attr({width:J._length,height:Y._length}),t.setTranslate(oe.plot,J._offset,Y._offset);var Ce,be;oe._hasClipOnAxisFalse?(Ce=null,be=Ne):(Ce=Ne,be=null),t.setClipUrl(oe.plot,Ce,N),oe.layerClipId=be}var we,ke,Fe,Pe,Ge,nt,qe,Ke,$e,vt,yt,mt,Et;function Xe(Te){return"M"+we+","+Te+"H"+ke}function Ue(Te){return"M"+J._offset+","+Te+"h"+J._length}function Be(Te){return"M"+Te+","+Ke+"V"+qe}function rt(Te){return Y._shift!==void 0&&(Te+=Y._shift),"M"+Te+","+Y._offset+"v"+Y._length}function it(Te,fe,me){if(!Te.showline||ne!==Te._mainSubplot)return"";if(!Te._anchorAxis)return me(Te._mainLinePosition);var Re=fe(Te._mainLinePosition);return Te.mirror&&(Re+=fe(Te._mainMirrorPosition)),Re}for(ne in B._plots){oe=B._plots[ne],J=oe.xaxis,Y=oe.yaxis;var Ye="M0,0";M(J,ne)&&(Ge=m(J,"left",Y,X),we=J._offset-(Ge?H+Ge:0),nt=m(J,"right",Y,X),ke=J._offset+J._length+(nt?H+nt:0),Fe=j(J,Y,"bottom"),Pe=j(J,Y,"top"),Et=!J._anchorAxis||ne!==J._mainSubplot,Et&&(J.mirror==="allticks"||J.mirror==="all")&&(J._linepositions[ne]=[Fe,Pe]),Ye=it(J,Xe,Ue),Et&&J.showline&&(J.mirror==="all"||J.mirror==="allticks")&&(Ye+=Xe(Fe)+Xe(Pe)),oe.xlines.style("stroke-width",J._lw+"px").call(p.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),oe.xlines.attr("d",Ye);var De="M0,0";M(Y,ne)&&(yt=m(Y,"bottom",J,X),qe=Y._offset+Y._length+(yt?H:0),mt=m(Y,"top",J,X),Ke=Y._offset-(mt?H:0),$e=j(Y,J,"left"),vt=j(Y,J,"right"),Et=!Y._anchorAxis||ne!==Y._mainSubplot,Et&&(Y.mirror==="allticks"||Y.mirror==="all")&&(Y._linepositions[ne]=[$e,vt]),De=it(Y,Be,rt),Et&&Y.showline&&(Y.mirror==="all"||Y.mirror==="allticks")&&(De+=Be($e)+Be(vt)),oe.ylines.style("stroke-width",Y._lw+"px").call(p.stroke,Y.showline?Y.linecolor:"rgba(0,0,0,0)")),oe.ylines.attr("d",De)}return n.makeClipPaths(N),i.previousPromises(N)}function M(N,B){return(N.ticks||N.showline)&&(B===N._mainSubplot||N.mirror==="all"||N.mirror==="allticks")}function C(N,B,F){if(!F.showline||!F._lw)return!1;if(F.mirror==="all"||F.mirror==="allticks")return!0;var H=F._anchorAxis;if(!H)return!1;var X=s.FROM_BL[B];return F.side===B?H.domain[X]===N.domain[X]:F.mirror&&H.domain[1-X]===N.domain[1-X]}function m(N,B,F,H){if(C(N,B,F))return F._lw;for(var X=0;X<H.length;X++){var q=H[X];if(q._mainAxis===F._mainAxis&&C(N,B,q))return q._lw}return 0}V.drawMainTitle=function(N){var B=N._fullLayout.title,F=N._fullLayout,H=U(F),X=z(F),q=k(F,X),ne=w(F,H);if(r.draw(N,"gtitle",{propContainer:F,propName:"title.text",placeholder:F._dfltTitle.plot,attributes:{x:ne,y:q,"text-anchor":H,dy:X}}),B.text&&B.automargin){var oe=g.selectAll(".gtitle"),ve=t.bBox(oe.node()).height,J=a(N,B,ve);J>0&&(E(N,q,J,ve),oe.attr({x:ne,y:q,"text-anchor":H,dy:I(B.yanchor)}).call(T.positionText,ne,q))}};function S(N,B,F,H,X){var q=B.yref==="paper"?N._fullLayout._size.h:N._fullLayout.height,ne=L.isTopAnchor(B)?H:H-X,oe=F==="b"?q-ne:ne;return L.isTopAnchor(B)&&F==="t"||L.isBottomAnchor(B)&&F==="b"?!1:oe<X}function x(N,B,F,H,X){var q=0;return F==="middle"&&(q+=X/2),N==="t"?(F==="top"&&(q+=X),q+=H-B*H):(F==="bottom"&&(q+=X),q+=B*H),q}function a(N,B,F){var H=B.y,X=B.yanchor,q=H>.5?"t":"b",ne=N._fullLayout.margin[q],oe=0;return B.yref==="paper"?oe=F+B.pad.t+B.pad.b:B.yref==="container"&&(oe=x(q,H,X,N._fullLayout.height,F)+B.pad.t+B.pad.b),oe>ne?oe:0}function E(N,B,F,H){var X="title.automargin",q=N._fullLayout.title,ne=q.y>.5?"t":"b",oe={x:q.x,y:q.y,t:0,b:0},ve={};q.yref==="paper"&&S(N,q,ne,B,H)?oe[ne]=F:q.yref==="container"&&(ve[ne]=F,N._fullLayout._reservedMargin[X]=ve),i.allowAutoMargin(N,X),i.autoMargin(N,X,oe)}function w(N,B){var F=N.title,H=N._size,X=0;switch(B===b?X=F.pad.l:B===o&&(X=-F.pad.r),F.xref){case"paper":return H.l+H.w*F.x+X;case"container":default:return N.width*F.x+X}}function k(N,B){var F=N.title,H=N._size,X=0;if(B==="0em"||!B?X=-F.pad.b:B===s.CAP_SHIFT+"em"&&(X=F.pad.t),F.y==="auto")return H.t/2;switch(F.yref){case"paper":return H.t+H.h-H.h*F.y+X;case"container":default:return N.height-N.height*F.y+X}}function I(N){return N==="top"?s.CAP_SHIFT+.3+"em":N==="bottom"?"-0.3em":s.MID_SHIFT+"em"}function U(N){var B=N.title,F=f;return L.isRightAnchor(B)?F=o:L.isLeftAnchor(B)&&(F=b),F}function z(N){var B=N.title,F="0em";return L.isTopAnchor(B)?F=s.CAP_SHIFT+"em":L.isMiddleAnchor(B)&&(F=s.MID_SHIFT+"em"),F}V.doTraceStyle=function(N){var B=N.calcdata,F=[],H;for(H=0;H<B.length;H++){var X=B[H],q=X[0]||{},ne=q.trace||{},oe=ne._module||{},ve=oe.arraysToCalcdata;ve&&ve(X,ne);var J=oe.editStyle;J&&F.push({fn:J,cd0:q})}if(F.length){for(H=0;H<F.length;H++){var Y=F[H];Y.fn(N,Y.cd0)}v(N),V.redrawReglTraces(N)}return i.style(N),R.getComponentMethod("legend","draw")(N),i.previousPromises(N)},V.doColorBars=function(N){return R.getComponentMethod("colorbar","draw")(N),i.previousPromises(N)},V.layoutReplot=function(N){var B=N.layout;return N.layout=void 0,R.call("_doPlot",N,"",B)},V.doLegend=function(N){return R.getComponentMethod("legend","draw")(N),i.previousPromises(N)},V.doTicksRelayout=function(N){return n.draw(N,"redraw"),N._fullLayout._hasOnlyLargeSploms&&(R.subplotsRegistry.splom.updateGrid(N),v(N),V.redrawReglTraces(N)),V.drawMainTitle(N),i.previousPromises(N)},V.doModeBar=function(N){var B=N._fullLayout;l.manage(N);for(var F=0;F<B._basePlotModules.length;F++){var H=B._basePlotModules[F].updateFx;H&&H(N)}return i.previousPromises(N)},V.doCamera=function(N){for(var B=N._fullLayout,F=B._subplots.gl3d,H=0;H<F.length;H++){var X=B[F[H]],q=X._scene;q.setViewport(X)}},V.drawData=function(N){var B=N._fullLayout;v(N);for(var F=B._basePlotModules,H=0;H<F.length;H++)F[H].plot(N);return V.redrawReglTraces(N),i.style(N),R.getComponentMethod("selections","draw")(N),R.getComponentMethod("shapes","draw")(N),R.getComponentMethod("annotations","draw")(N),R.getComponentMethod("images","draw")(N),B._replotting=!1,i.previousPromises(N)},V.redrawReglTraces=function(N){var B=N._fullLayout;if(B._has("regl")){var F=N._fullData,H=[],X=[],q,ne;for(B._hasOnlyLargeSploms&&B._splomGrid.draw(),q=0;q<F.length;q++){var oe=F[q];oe.visible===!0&&oe._length!==0&&(oe.type==="splom"?B._splomScenes[oe.uid].draw():oe.type==="scattergl"?L.pushUnique(H,oe.xaxis+oe.yaxis):oe.type==="scatterpolargl"&&L.pushUnique(X,oe.subplot))}for(q=0;q<H.length;q++)ne=B._plots[H[q]],ne._scene&&ne._scene.draw();for(q=0;q<X.length;q++)ne=B[X[q]]._subplot,ne._scene&&ne._scene.draw()}},V.doAutoRangeAndConstraints=function(N){for(var B=n.list(N,"",!0),F,H={},X=0;X<B.length;X++)if(F=B[X],!H[F._id]){H[F._id]=1,y(N,F),h(N,F);var q=F._matchGroup;if(q)for(var ne in q){var oe=n.getFromId(N,ne);h(N,oe,F.range),H[ne]=1}}u(N)},V.finalDraw=function(N){R.getComponentMethod("rangeslider","draw")(N),R.getComponentMethod("rangeselector","draw")(N)},V.drawMarginPushers=function(N){R.getComponentMethod("legend","draw")(N),R.getComponentMethod("rangeselector","draw")(N),R.getComponentMethod("sliders","draw")(N),R.getComponentMethod("updatemenus","draw")(N),R.getComponentMethod("colorbar","draw")(N)}},96318:function(G,V,e){var g=e(71828),R=g.isPlainObject,i=e(86281),L=e(74875),T=e(9012),v=e(44467),p=e(72075).dfltConfig;V.makeTemplate=function(h){h=g.isPlainObject(h)?h:g.getGraphDiv(h),h=g.extendDeep({_context:p},{data:h.data,layout:h.layout}),L.supplyDefaults(h);var b=h.data||[],f=h.layout||{};f._basePlotModules=h._fullLayout._basePlotModules,f._modules=h._fullLayout._modules;var o={data:{},layout:{}};b.forEach(function(w){var k={};l(w,k,s.bind(null,w));var I=g.coerce(w,{},T,"type"),U=o.data[I];U||(U=o.data[I]=[]),U.push(k)}),l(f,o.layout,n.bind(null,f)),delete o.layout.template;var d=f.template;if(R(d)){var A=d.layout,M,C,m,S,x,a;R(A)&&t(A,o.layout);var E=d.data;if(R(E)){for(C in o.data)if(m=E[C],Array.isArray(m)){for(x=o.data[C],a=x.length,S=m.length,M=0;M<a;M++)t(m[M%S],x[M]);for(M=a;M<S;M++)x.push(g.extendDeep({},m[M]))}for(C in E)C in o.data||(o.data[C]=g.extendDeep([],E[C]))}}return o};function t(h,b){h=g.extendDeep({},h);var f=Object.keys(h).sort(),o,d;function A(x,a,E){if(R(a)&&R(x))t(x,a);else if(Array.isArray(a)&&Array.isArray(x)){var w=v.arrayTemplater({_template:h},E);for(d=0;d<a.length;d++){var k=a[d],I=w.newItem(k)._template;I&&t(I,k)}var U=w.defaultItems();for(d=0;d<U.length;d++)a.push(U[d]._template);for(d=0;d<a.length;d++)delete a[d].templateitemname}}for(o=0;o<f.length;o++){var M=f[o],C=h[M];if(M in b?A(C,b[M],M):b[M]=C,r(M)===M)for(var m in b){var S=r(m);m!==S&&S===M&&!(m in h)&&A(C,b[m],M)}}}function r(h){return h.replace(/[0-9]+$/,"")}function l(h,b,f,o,d){var A=d&&f(d);for(var M in h){var C=h[M],m=c(h,M,o),S=c(h,M,d),x=f(S);if(!x){var a=r(M);a!==M&&(S=c(h,a,d),x=f(S))}if(!(A&&A===x)&&!(!x||x._noTemplating||x.valType==="data_array"||x.arrayOk&&Array.isArray(C)))if(!x.valType&&R(C))l(C,b,f,m,S);else if(x._isLinkedToArray&&Array.isArray(C))for(var E=!1,w=0,k={},I=0;I<C.length;I++){var U=C[I];if(R(U)){var z=U.name;if(z)k[z]||(l(U,b,f,c(C,w,m),c(C,w,S)),w++,k[z]=1);else if(!E){var N=v.arrayDefaultKey(M),B=c(h,N,o),F=c(C,w,m);l(U,b,f,F,c(C,w,S));var H=g.nestedProperty(b,F),X=g.nestedProperty(b,B);X.set(H.get()),H.set(null),E=!0}}}else{var q=g.nestedProperty(b,m);q.set(C)}}}function n(h,b){return i.getLayoutValObject(h,g.nestedProperty({},b).parts)}function s(h,b){return i.getTraceValObject(h,g.nestedProperty({},b).parts)}function c(h,b,f){var o;return f?Array.isArray(h)?o=f+"["+b+"]":o=f+"."+b:o=b,o}V.validateTemplate=function(h,b){var f=g.extendDeep({},{_context:p,data:h.data,layout:h.layout}),o=f.layout||{};R(b)||(b=o.template||{});var d=b.layout,A=b.data,M=[];f.layout=o,f.layout.template=b,L.supplyDefaults(f);var C=f._fullLayout,m=f._fullData,S={};function x(B,F){for(var H in B)if(H.charAt(0)!=="_"&&R(B[H])){var X=r(H),q=[],ne;for(ne=0;ne<F.length;ne++)q.push(c(B,H,F[ne])),X!==H&&q.push(c(B,X,F[ne]));for(ne=0;ne<q.length;ne++)S[q[ne]]=1;x(B[H],q)}}function a(B,F){for(var H in B)if(H.indexOf("defaults")===-1&&R(B[H])){var X=c(B,H,F);S[X]?a(B[H],X):M.push({code:"unused",path:X})}}if(R(d)?(x(C,["layout"]),a(d,"layout")):M.push({code:"layout"}),!R(A))M.push({code:"data"});else{for(var E={},w,k=0;k<m.length;k++){var I=m[k];w=I.type,E[w]=(E[w]||0)+1,I._fullInput._template||M.push({code:"missing",index:I._fullInput.index,traceType:w})}for(w in A){var U=A[w].length,z=E[w]||0;U>z?M.push({code:"unused",traceType:w,templateCount:U,dataCount:z}):z>U&&M.push({code:"reused",traceType:w,templateCount:U,dataCount:z})}}function N(B,F){for(var H in B)if(H.charAt(0)!=="_"){var X=B[H],q=c(B,H,F);R(X)?(Array.isArray(B)&&X._template===!1&&X.templateitemname&&M.push({code:"missing",path:q,templateitemname:X.templateitemname}),N(X,q)):Array.isArray(X)&&u(X)&&N(X,q)}}if(N({data:m,layout:C},""),M.length)return M.map(y)};function u(h){for(var b=0;b<h.length;b++)if(R(h[b]))return!0}function y(h){var b;switch(h.code){case"data":b="The template has no key data.";break;case"layout":b="The template has no key layout.";break;case"missing":h.path?b="There are no templates for item "+h.path+" with name "+h.templateitemname:b="There are no templates for trace "+h.index+", of type "+h.traceType+".";break;case"unused":h.path?b="The template item at "+h.path+" was not used in constructing the plot.":h.dataCount?b="Some of the templates of type "+h.traceType+" were not used. The template has "+h.templateCount+" traces, the data only has "+h.dataCount+" of this type.":b="The template has "+h.templateCount+" traces of type "+h.traceType+" but there are none in the data.";break;case"reused":b="Some of the templates of type "+h.traceType+" were used more than once. The template has "+h.templateCount+" traces, the data has "+h.dataCount+" of this type.";break}return h.msg=b,h}},403:function(G,V,e){var g=e(92770),R=e(72391),i=e(74875),L=e(71828),T=e(25095),v=e(5900),p=e(70942),t=e(11506).version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function l(n,s){s=s||{};var c,u,y,h;L.isPlainObject(n)?(c=n.data||[],u=n.layout||{},y=n.config||{},h={}):(n=L.getGraphDiv(n),c=L.extendDeep([],n.data),u=L.extendDeep({},n.layout),y=n._context,h=n._fullLayout||{});function b(z){return!(z in s)||L.validate(s[z],r[z])}if(!b("width")&&s.width!==null||!b("height")&&s.height!==null)throw new Error("Height and width should be pixel values.");if(!b("format"))throw new Error("Export format is not "+L.join2(r.format.values,", "," or ")+".");var f={};function o(z,N){return L.coerce(s,f,r,z,N)}var d=o("format"),A=o("width"),M=o("height"),C=o("scale"),m=o("setBackground"),S=o("imageDataOnly"),x=document.createElement("div");x.style.position="absolute",x.style.left="-5000px",document.body.appendChild(x);var a=L.extendFlat({},u);A?a.width=A:s.width===null&&g(h.width)&&(a.width=h.width),M?a.height=M:s.height===null&&g(h.height)&&(a.height=h.height);var E=L.extendFlat({},y,{_exportedPlot:!0,staticPlot:!0,setBackground:m}),w=T.getRedrawFunc(x);function k(){return new Promise(function(z){setTimeout(z,T.getDelay(x._fullLayout))})}function I(){return new Promise(function(z,N){var B=v(x,d,C),F=x._fullLayout.width,H=x._fullLayout.height;function X(){R.purge(x),document.body.removeChild(x)}if(d==="full-json"){var q=i.graphJson(x,!1,"keepdata","object",!0,!0);return q.version=t,q=JSON.stringify(q),X(),z(S?q:T.encodeJSON(q))}if(X(),d==="svg")return z(S?B:T.encodeSVG(B));var ne=document.createElement("canvas");ne.id=L.randstr(),p({format:d,width:F,height:H,scale:C,canvas:ne,svg:B,promise:!0}).then(z).catch(N)})}function U(z){return S?z.replace(T.IMAGE_URL_PREFIX,""):z}return new Promise(function(z,N){R.newPlot(x,c,a,E).then(w).then(k).then(I).then(function(B){z(U(B))}).catch(function(B){N(B)})})}G.exports=l},84936:function(G,V,e){var g=e(71828),R=e(74875),i=e(86281),L=e(72075).dfltConfig,T=g.isPlainObject,v=Array.isArray,p=g.isArrayOrTypedArray;G.exports=function(o,d){o===void 0&&(o=[]),d===void 0&&(d={});var A=i.get(),M=[],C={_context:g.extendFlat({},L)},m,S;v(o)?(C.data=g.extendDeep([],o),m=o):(C.data=[],m=[],M.push(s("array","data"))),T(d)?(C.layout=g.extendDeep({},d),S=d):(C.layout={},S={},arguments.length>1&&M.push(s("object","layout"))),R.supplyDefaults(C);for(var x=C._fullData,a=m.length,E=0;E<a;E++){var w=m[E],k=["data",E];if(!T(w)){M.push(s("object",k));continue}var I=x[E],U=I.type,z=A.traces[U].attributes;z.type={valType:"enumerated",values:[U]},I.visible===!1&&w.visible!==!1&&M.push(s("invisible",k)),t(w,I,z,M,k);var N=w.transforms,B=I.transforms;if(N){v(N)||M.push(s("array",k,["transforms"])),k.push("transforms");for(var F=0;F<N.length;F++){var H=["transforms",F],X=N[F].type;if(!T(N[F])){M.push(s("object",k,H));continue}var q=A.transforms[X]?A.transforms[X].attributes:{};q.type={valType:"enumerated",values:Object.keys(A.transforms)},t(N[F],B[F],q,M,k,H)}}}var ne=C._fullLayout,oe=r(A,x);return t(S,ne,oe,M,"layout"),M.length===0?void 0:M};function t(f,o,d,A,M,C){C=C||[];for(var m=Object.keys(f),S=0;S<m.length;S++){var x=m[S];if(x!=="transforms"){var a=C.slice();a.push(x);var E=f[x],w=o[x],k=u(d,x),I=(k||{}).valType,U=I==="info_array",z=I==="colorscale",N=(k||{}).items;if(!c(d,x))A.push(s("schema",M,a));else if(T(E)&&T(w)&&I!=="any")t(E,w,k,A,M,a);else if(U&&v(E)){E.length>w.length&&A.push(s("unused",M,a.concat(w.length)));var B=w.length,F=Array.isArray(N);F&&(B=Math.min(B,N.length));var H,X,q,ne,oe;if(k.dimensions===2)for(X=0;X<B;X++)if(v(E[X])){E[X].length>w[X].length&&A.push(s("unused",M,a.concat(X,w[X].length)));var ve=w[X].length;for(H=0;H<(F?Math.min(ve,N[X].length):ve);H++)q=F?N[X][H]:N,ne=E[X][H],oe=w[X][H],g.validate(ne,q)?oe!==ne&&oe!==+ne&&A.push(s("dynamic",M,a.concat(X,H),ne,oe)):A.push(s("value",M,a.concat(X,H),ne))}else A.push(s("array",M,a.concat(X),E[X]));else for(X=0;X<B;X++)q=F?N[X]:N,ne=E[X],oe=w[X],g.validate(ne,q)?oe!==ne&&oe!==+ne&&A.push(s("dynamic",M,a.concat(X),ne,oe)):A.push(s("value",M,a.concat(X),ne))}else if(k.items&&!U&&v(E)){var J=N[Object.keys(N)[0]],Y=[],j,K;for(j=0;j<w.length;j++){var te=w[j]._index||j;if(K=a.slice(),K.push(te),T(E[te])&&T(w[j])){Y.push(te);var se=E[te],Q=w[j];T(se)&&se.visible!==!1&&Q.visible===!1?A.push(s("invisible",M,K)):t(se,Q,J,A,M,K)}}for(j=0;j<E.length;j++)K=a.slice(),K.push(j),T(E[j])?Y.indexOf(j)===-1&&A.push(s("unused",M,K)):A.push(s("object",M,K,E[j]))}else!T(E)&&T(w)?A.push(s("object",M,a,E)):!p(E)&&p(w)&&!U&&!z?A.push(s("array",M,a,E)):x in o?g.validate(E,k)?k.valType==="enumerated"&&(k.coerceNumber&&E!==+w||E!==w)&&A.push(s("dynamic",M,a,E,w)):A.push(s("value",M,a,E)):A.push(s("unused",M,a,E))}}return A}function r(f,o){for(var d=f.layout.layoutAttributes,A=0;A<o.length;A++){var M=o[A],C=f.traces[M.type],m=C.layoutAttributes;m&&(M.subplot?g.extendFlat(d[C.attributes.subplot.dflt],m):g.extendFlat(d,m))}return d}var l={object:function(f,o){var d;return f==="layout"&&o===""?d="The layout argument":f[0]==="data"&&o===""?d="Trace "+f[1]+" in the data argument":d=n(f)+"key "+o,d+" must be linked to an object container"},array:function(f,o){var d;return f==="data"?d="The data argument":d=n(f)+"key "+o,d+" must be linked to an array container"},schema:function(f,o){return n(f)+"key "+o+" is not part of the schema"},unused:function(f,o,d){var A=T(d)?"container":"key";return n(f)+A+" "+o+" did not get coerced"},dynamic:function(f,o,d,A){return[n(f)+"key",o,"(set to '"+d+"')","got reset to","'"+A+"'","during defaults."].join(" ")},invisible:function(f,o){return(o?n(f)+"item "+o:"Trace "+f[1])+" got defaulted to be not visible"},value:function(f,o,d){return[n(f)+"key "+o,"is set to an invalid value ("+d+")"].join(" ")}};function n(f){return v(f)?"In data trace "+f[1]+", ":"In "+f+", "}function s(f,o,d,A,M){d=d||"";var C,m;v(o)?(C=o[0],m=o[1]):(C=o,m=null);var S=b(d),x=l[f](o,S,A,M);return g.log(x),{code:f,container:C,trace:m,path:d,astr:S,msg:x}}function c(f,o){var d=h(o),A=d.keyMinusId,M=d.id;return A in f&&f[A]._isSubplotObj&&M?!0:o in f}function u(f,o){if(o in f)return f[o];var d=h(o);return f[d.keyMinusId]}var y=g.counterRegex("([a-z]+)");function h(f){var o=f.match(y);return{keyMinusId:o&&o[1],id:o&&o[2]}}function b(f){if(!v(f))return String(f);for(var o="",d=0;d<f.length;d++){var A=f[d];typeof A=="number"?o=o.substr(0,o.length-1)+"["+A+"]":o+=A,d<f.length-1&&(o+=".")}return o}},85594:function(G){G.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(G,V,e){var g=e(71828),R=e(44467);G.exports=function(L,T,v){var p=v.name,t=v.inclusionAttr||"visible",r=T[p],l=g.isArrayOrTypedArray(L[p])?L[p]:[],n=T[p]=[],s=R.arrayTemplater(T,p,t),c,u;for(c=0;c<l.length;c++){var y=l[c];g.isPlainObject(y)?u=s.newItem(y):(u=s.newItem({}),u[t]=!1),u._index=c,u[t]!==!1&&v.handleItemDefaults(y,u,T,v),n.push(u)}var h=s.defaultItems();for(c=0;c<h.length;c++)u=h[c],u._index=n.length,v.handleItemDefaults({},u,T,v,{}),n.push(u);if(g.isArrayOrTypedArray(r)){var b=Math.min(r.length,n.length);for(c=0;c<b;c++)g.relinkPrivateKeys(n[c],r[c])}return n}},9012:function(G,V,e){var g=e(41940),R=e(77914);G.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:g({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:R.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(G,V,e){var g=e(92770),R=e(71828),i=R.dateTime2ms,L=R.incrementMonth,T=e(50606),v=T.ONEAVGMONTH;G.exports=function(t,r,l,n){if(r.type!=="date")return{vals:n};var s=t[l+"periodalignment"];if(!s)return{vals:n};var c=t[l+"period"],u;if(g(c)){if(c=+c,c<=0)return{vals:n}}else if(typeof c=="string"&&c.charAt(0)==="M"){var y=+c.substring(1);if(y>0&&Math.round(y)===y)u=y;else return{vals:n}}for(var h=r.calendar,b=s==="start",f=s==="end",o=t[l+"period0"],d=i(o,h)||0,A=[],M=[],C=[],m=n.length,S=0;S<m;S++){var x=n[S],a,E,w;if(u){for(a=Math.round((x-d)/(u*v)),w=L(d,u*a,h);w>x;)w=L(w,-u,h);for(;w<=x;)w=L(w,u,h);E=L(w,-u,h)}else{for(a=Math.round((x-d)/c),w=d+a*c;w>x;)w-=c;for(;w<=x;)w+=c;E=w-c}A[S]=b?E:f?w:(E+w)/2,M[S]=E,C[S]=w}return{vals:A,starts:M,ends:C}}},89502:function(G){G.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(G,V,e){var g=e(39898),R=e(92770),i=e(71828),L=e(50606).FP_SAFE,T=e(73972),v=e(91424),p=e(41675),t=p.getFromId,r=p.isLinked;G.exports={getAutoRange:l,makePadFn:s,doAutoRange:h,findExtremes:b,concatExtremes:y};function l(m,S){var x,a,E=[],w=m._fullLayout,k=s(w,S,0),I=s(w,S,1),U=y(m,S),z=U.min,N=U.max;if(z.length===0||N.length===0)return i.simpleMap(S.range,S.r2l);var B=z[0].val,F=N[0].val;for(x=1;x<z.length&&B===F;x++)B=Math.min(B,z[x].val);for(x=1;x<N.length&&B===F;x++)F=Math.max(F,N[x].val);var H=!1;if(S.range){var X=i.simpleMap(S.range,S.r2l);H=X[1]<X[0]}S.autorange==="reversed"&&(H=!0,S.autorange=!0);var q=S.rangemode,ne=q==="tozero",oe=q==="nonnegative",ve=S._length,J=ve/10,Y=0,j,K,te,se,Q,ee;for(x=0;x<z.length;x++)for(j=z[x],a=0;a<N.length;a++)K=N[a],ee=K.val-j.val-n(S,j.val,K.val),ee>0&&(Q=ve-k(j)-I(K),Q>J?ee/Q>Y&&(te=j,se=K,Y=ee/Q):ee/ve>Y&&(te={val:j.val,nopad:1},se={val:K.val,nopad:1},Y=ee/ve));function le(Ee,Ne){return Math.max(Ee,I(Ne))}if(B===F){var ie=B-1,he=B+1;if(ne)if(B===0)E=[0,1];else{var xe=(B>0?N:z).reduce(le,0),Se=B/(1-Math.min(.5,xe/ve));E=B>0?[0,Se]:[Se,0]}else oe?E=[Math.max(0,ie),Math.max(1,he)]:E=[ie,he]}else ne?(te.val>=0&&(te={val:0,nopad:1}),se.val<=0&&(se={val:0,nopad:1})):oe&&(te.val-Y*k(te)<0&&(te={val:0,nopad:1}),se.val<=0&&(se={val:1,nopad:1})),Y=(se.val-te.val-n(S,j.val,K.val))/(ve-k(te)-I(se)),E=[te.val-Y*k(te),se.val+Y*I(se)];return H&&E.reverse(),i.simpleMap(E,S.l2r||Number)}function n(m,S,x){var a=0;if(m.rangebreaks)for(var E=m.locateBreaks(S,x),w=0;w<E.length;w++){var k=E[w];a+=k.max-k.min}return a}function s(m,S,x){var a=.05*S._length,E=S._anchorAxis||{};if((S.ticklabelposition||"").indexOf("inside")!==-1||(E.ticklabelposition||"").indexOf("inside")!==-1){var w=S.autorange==="reversed";if(!w){var k=i.simpleMap(S.range,S.r2l);w=k[1]<k[0]}w&&(x=!x)}var I=0;return r(m,S._id)||(I=u(m,S,x)),a=Math.max(I,a),S.constrain==="domain"&&S._inputDomain&&(a*=(S._inputDomain[1]-S._inputDomain[0])/(S.domain[1]-S.domain[0])),function(z){return z.nopad?0:z.pad+(z.extrapad?a:I)}}var c=3;function u(m,S,x){var a=0,E=S._id.charAt(0)==="x";for(var w in m._plots){var k=m._plots[w];if(!(S._id!==k.xaxis._id&&S._id!==k.yaxis._id)){var I=(E?k.yaxis:k.xaxis)||{};if((I.ticklabelposition||"").indexOf("inside")!==-1&&(!x&&(I.side==="left"||I.side==="bottom")||x&&(I.side==="top"||I.side==="right"))){if(I._vals){var U=i.deg2rad(I._tickAngles[I._id+"tick"]||0),z=Math.abs(Math.cos(U)),N=Math.abs(Math.sin(U));if(!I._vals[0].bb){var B=I._id+"tick",F=I._selections[B];F.each(function(ve){var J=g.select(this),Y=J.select(".text-math-group");Y.empty()&&(ve.bb=v.bBox(J.node()))})}for(var H=0;H<I._vals.length;H++){var X=I._vals[H],q=X.bb;if(q){var ne=2*c+q.width,oe=2*c+q.height;a=Math.max(a,E?Math.max(ne*z,oe*N):Math.max(oe*z,ne*N))}}}I.ticks==="inside"&&I.ticklabelposition==="inside"&&(a+=I.ticklen||0)}}}return a}function y(m,S,x){var a=S._id,E=m._fullData,w=m._fullLayout,k=[],I=[],U,z,N;function B(ne,oe){for(U=0;U<oe.length;U++){var ve=ne[oe[U]],J=(ve._extremes||{})[a];if(ve.visible===!0&&J){for(z=0;z<J.min.length;z++)N=J.min[z],f(k,N.val,N.pad,{extrapad:N.extrapad});for(z=0;z<J.max.length;z++)N=J.max[z],o(I,N.val,N.pad,{extrapad:N.extrapad})}}}if(B(E,S._traceIndices),B(w.annotations||[],S._annIndices||[]),B(w.shapes||[],S._shapeIndices||[]),S._matchGroup&&!x){for(var F in S._matchGroup)if(F!==S._id){var H=t(m,F),X=y(m,H,!0),q=S._length/H._length;for(z=0;z<X.min.length;z++)N=X.min[z],f(k,N.val,N.pad*q,{extrapad:N.extrapad});for(z=0;z<X.max.length;z++)N=X.max[z],o(I,N.val,N.pad*q,{extrapad:N.extrapad})}}return{min:k,max:I}}function h(m,S,x){if(S.setScale(),S.autorange){S.range=x?x.slice():l(m,S),S._r=S.range.slice(),S._rl=i.simpleMap(S._r,S.r2l);var a=S._input,E={};E[S._attr+".range"]=S.range,E[S._attr+".autorange"]=S.autorange,T.call("_storeDirectGUIEdit",m.layout,m._fullLayout._preGUI,E),a.range=S.range.slice(),a.autorange=S.autorange}var w=S._anchorAxis;if(w&&w.rangeslider){var k=w.rangeslider[S._name];k&&k.rangemode==="auto"&&(k.range=l(m,S)),w._input.rangeslider[S._name]=i.extendFlat({},k)}}function b(m,S,x){x||(x={}),m._m||m.setScale();var a=[],E=[],w=S.length,k=x.padded||!1,I=x.tozero&&(m.type==="linear"||m.type==="-"),U=m.type==="log",z=!1,N=x.vpadLinearized||!1,B,F,H,X,q,ne,oe,ve,J;function Y(ie){if(Array.isArray(ie))return z=!0,function(xe){return Math.max(Number(ie[xe]||0),0)};var he=Math.max(Number(ie||0),0);return function(){return he}}var j=Y((m._m>0?x.ppadplus:x.ppadminus)||x.ppad||0),K=Y((m._m>0?x.ppadminus:x.ppadplus)||x.ppad||0),te=Y(x.vpadplus||x.vpad),se=Y(x.vpadminus||x.vpad);if(!z){if(ve=1/0,J=-1/0,U)for(B=0;B<w;B++)F=S[B],F<ve&&F>0&&(ve=F),F>J&&F<L&&(J=F);else for(B=0;B<w;B++)F=S[B],F<ve&&F>-L&&(ve=F),F>J&&F<L&&(J=F);S=[ve,J],w=2}var Q={tozero:I,extrapad:k};function ee(ie){H=S[ie],R(H)&&(ne=j(ie),oe=K(ie),N?(X=m.c2l(H)-se(ie),q=m.c2l(H)+te(ie)):(ve=H-se(ie),J=H+te(ie),U&&ve<J/10&&(ve=J/10),X=m.c2l(ve),q=m.c2l(J)),I&&(X=Math.min(0,X),q=Math.max(0,q)),A(X)&&f(a,X,oe,Q),A(q)&&o(E,q,ne,Q))}var le=Math.min(6,w);for(B=0;B<le;B++)ee(B);for(B=w-1;B>=le;B--)ee(B);return{min:a,max:E,opts:x}}function f(m,S,x,a){d(m,S,x,a,M)}function o(m,S,x,a){d(m,S,x,a,C)}function d(m,S,x,a,E){for(var w=a.tozero,k=a.extrapad,I=!0,U=0;U<m.length&&I;U++){var z=m[U];if(E(z.val,S)&&z.pad>=x&&(z.extrapad||!k)){I=!1;break}else E(S,z.val)&&z.pad<=x&&(k||!z.extrapad)&&(m.splice(U,1),U--)}if(I){var N=w&&S===0;m.push({val:S,pad:N?0:x,extrapad:N?!1:k})}}function A(m){return R(m)&&Math.abs(m)<L}function M(m,S){return m<=S}function C(m,S){return m>=S}},89298:function(G,V,e){var g=e(39898),R=e(92770),i=e(74875),L=e(73972),T=e(71828),v=T.strTranslate,p=e(63893),t=e(92998),r=e(7901),l=e(91424),n=e(13838),s=e(66287),c=e(50606),u=c.ONEMAXYEAR,y=c.ONEAVGYEAR,h=c.ONEMINYEAR,b=c.ONEMAXQUARTER,f=c.ONEAVGQUARTER,o=c.ONEMINQUARTER,d=c.ONEMAXMONTH,A=c.ONEAVGMONTH,M=c.ONEMINMONTH,C=c.ONEWEEK,m=c.ONEDAY,S=m/2,x=c.ONEHOUR,a=c.ONEMIN,E=c.ONESEC,w=c.MINUS_SIGN,k=c.BADNUM,I={K:"zeroline"},U={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},N={K:"tick",L:"path"},B={K:"tick",L:"text"},F={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},H=e(18783),X=H.MID_SHIFT,q=H.CAP_SHIFT,ne=H.LINE_SPACING,oe=H.OPPOSITE_SIDE,ve=3,J=G.exports={};J.setConvert=e(21994);var Y=e(4322),j=e(41675),K=j.idSort,te=j.isLinked;J.id2name=j.id2name,J.name2id=j.name2id,J.cleanId=j.cleanId,J.list=j.list,J.listIds=j.listIds,J.getFromId=j.getFromId,J.getFromTrace=j.getFromTrace;var se=e(71739);J.getAutoRange=se.getAutoRange,J.findExtremes=se.findExtremes;var Q=1e-4;function ee(je){var We=(je[1]-je[0])*Q;return[je[0]-We,je[1]+We]}J.coerceRef=function(je,We,kt,zt,Xt,lr){var cr=zt.charAt(zt.length-1),nr=kt._fullLayout._subplots[cr+"axis"],Bt=zt+"ref",vr={};return Xt||(Xt=nr[0]||(typeof lr=="string"?lr:lr[0])),lr||(lr=Xt),nr=nr.concat(nr.map(function(yr){return yr+" domain"})),vr[Bt]={valType:"enumerated",values:nr.concat(lr?typeof lr=="string"?[lr]:lr:[]),dflt:Xt},T.coerce(je,We,vr,Bt)},J.getRefType=function(je){return je===void 0?je:je==="paper"?"paper":je==="pixel"?"pixel":/( domain)$/.test(je)?"domain":"range"},J.coercePosition=function(je,We,kt,zt,Xt,lr){var cr,nr,Bt=J.getRefType(zt);if(Bt!=="range")cr=T.ensureNumber,nr=kt(Xt,lr);else{var vr=J.getFromId(We,zt);lr=vr.fraction2r(lr),nr=kt(Xt,lr),cr=vr.cleanPos}je[Xt]=cr(nr)},J.cleanPosition=function(je,We,kt){var zt=kt==="paper"||kt==="pixel"?T.ensureNumber:J.getFromId(We,kt).cleanPos;return zt(je)},J.redrawComponents=function(je,We){We=We||J.listIds(je);var kt=je._fullLayout;function zt(Xt,lr,cr,nr){for(var Bt=L.getComponentMethod(Xt,lr),vr={},yr=0;yr<We.length;yr++)for(var mr=kt[J.id2name(We[yr])],gr=mr[cr],Zr=0;Zr<gr.length;Zr++){var Ur=gr[Zr];if(!vr[Ur]&&(Bt(je,Ur),vr[Ur]=1,nr))return}}zt("annotations","drawOne","_annIndices"),zt("shapes","drawOne","_shapeIndices"),zt("images","draw","_imgIndices",!0),zt("selections","drawOne","_selectionIndices")};var le=J.getDataConversions=function(je,We,kt,zt){var Xt,lr=kt==="x"||kt==="y"||kt==="z"?kt:zt;if(Array.isArray(lr)){if(Xt={type:Y(zt,void 0,{autotypenumbers:je._fullLayout.autotypenumbers}),_categories:[]},J.setConvert(Xt),Xt.type==="category")for(var cr=0;cr<zt.length;cr++)Xt.d2c(zt[cr])}else Xt=J.getFromTrace(je,We,lr);return Xt?{d2c:Xt.d2c,c2d:Xt.c2d}:lr==="ids"?{d2c:he,c2d:he}:{d2c:ie,c2d:ie}};function ie(je){return+je}function he(je){return String(je)}J.getDataToCoordFunc=function(je,We,kt,zt){return le(je,We,kt,zt).d2c},J.counterLetter=function(je){var We=je.charAt(0);if(We==="x")return"y";if(We==="y")return"x"},J.minDtick=function(je,We,kt,zt){["log","category","multicategory"].indexOf(je.type)!==-1||!zt?je._minDtick=0:je._minDtick===void 0?(je._minDtick=We,je._forceTick0=kt):je._minDtick&&((je._minDtick/We+1e-6)%1<2e-6&&((kt-je._forceTick0)/We%1+1.000001)%1<2e-6?(je._minDtick=We,je._forceTick0=kt):((We/je._minDtick+1e-6)%1>2e-6||((kt-je._forceTick0)/je._minDtick%1+1.000001)%1>2e-6)&&(je._minDtick=0))},J.saveRangeInitial=function(je,We){for(var kt=J.list(je,"",!0),zt=!1,Xt=0;Xt<kt.length;Xt++){var lr=kt[Xt],cr=lr._rangeInitial===void 0,nr=cr||!(lr.range[0]===lr._rangeInitial[0]&&lr.range[1]===lr._rangeInitial[1]);(cr&&lr.autorange===!1||We&&nr)&&(lr._rangeInitial=lr.range.slice(),zt=!0)}return zt},J.saveShowSpikeInitial=function(je,We){for(var kt=J.list(je,"",!0),zt=!1,Xt="on",lr=0;lr<kt.length;lr++){var cr=kt[lr],nr=cr._showSpikeInitial===void 0,Bt=nr||cr.showspikes!==cr._showspikes;(nr||We&&Bt)&&(cr._showSpikeInitial=cr.showspikes,zt=!0),Xt==="on"&&!cr.showspikes&&(Xt="off")}return je._fullLayout._cartesianSpikesEnabled=Xt,zt},J.autoBin=function(je,We,kt,zt,Xt,lr){var cr=T.aggNums(Math.min,null,je),nr=T.aggNums(Math.max,null,je);if(We.type==="category"||We.type==="multicategory")return{start:cr-.5,end:nr+.5,size:Math.max(1,Math.round(lr)||1),_dataSpan:nr-cr};Xt||(Xt=We.calendar);var Bt;if(We.type==="log"?Bt={type:"linear",range:[cr,nr]}:Bt={type:We.type,range:T.simpleMap([cr,nr],We.c2r,0,Xt),calendar:Xt},J.setConvert(Bt),lr=lr&&s.dtick(lr,Bt.type),lr)Bt.dtick=lr,Bt.tick0=s.tick0(void 0,Bt.type,Xt);else{var vr;if(kt)vr=(nr-cr)/kt;else{var yr=T.distinctVals(je),mr=Math.pow(10,Math.floor(Math.log(yr.minDiff)/Math.LN10)),gr=mr*T.roundUp(yr.minDiff/mr,[.9,1.9,4.9,9.9],!0);vr=Math.max(gr,2*T.stdev(je)/Math.pow(je.length,zt?.25:.4)),R(vr)||(vr=1)}J.autoTicks(Bt,vr)}var Zr=Bt.dtick,Ur=J.tickIncrement(J.tickFirst(Bt),Zr,"reverse",Xt),Br,Tn;if(typeof Zr=="number")Ur=xe(Ur,je,Bt,cr,nr),Tn=1+Math.floor((nr-Ur)/Zr),Br=Ur+Tn*Zr;else for(Bt.dtick.charAt(0)==="M"&&(Ur=Se(Ur,je,Zr,cr,Xt)),Br=Ur,Tn=0;Br<=nr;)Br=J.tickIncrement(Br,Zr,!1,Xt),Tn++;return{start:We.c2r(Ur,0,Xt),end:We.c2r(Br,0,Xt),size:Zr,_dataSpan:nr-cr}};function xe(je,We,kt,zt,Xt){var lr=0,cr=0,nr=0,Bt=0;function vr(Zr){return(1+(Zr-je)*100/kt.dtick)%100<2}for(var yr=0;yr<We.length;yr++)We[yr]%1===0?nr++:R(We[yr])||Bt++,vr(We[yr])&&lr++,vr(We[yr]+kt.dtick/2)&&cr++;var mr=We.length-Bt;if(nr===mr&&kt.type!=="date")kt.dtick<1?je=zt-.5*kt.dtick:(je-=.5,je+kt.dtick<zt&&(je+=kt.dtick));else if(cr<mr*.1&&(lr>mr*.3||vr(zt)||vr(Xt))){var gr=kt.dtick/2;je+=je+gr<zt?gr:-gr}return je}function Se(je,We,kt,zt,Xt){var lr=T.findExactDates(We,Xt),cr=.8;if(lr.exactDays>cr){var nr=Number(kt.substr(1));lr.exactYears>cr&&nr%12===0?je=J.tickIncrement(je,"M6","reverse")+m*1.5:lr.exactMonths>cr?je=J.tickIncrement(je,"M1","reverse")+m*15.5:je-=S;var Bt=J.tickIncrement(je,kt);if(Bt<=zt)return Bt}return je}J.prepMinorTicks=function(je,We,kt){if(!We.minor.dtick){delete je.dtick;var zt=We.dtick&&R(We._tmin),Xt;if(zt){var lr=J.tickIncrement(We._tmin,We.dtick,!0);Xt=[We._tmin,lr*.99+We._tmin*.01]}else{var cr=T.simpleMap(We.range,We.r2l);Xt=[cr[0],.8*cr[0]+.2*cr[1]]}if(je.range=T.simpleMap(Xt,We.l2r),je._isMinor=!0,J.prepTicks(je,kt),zt){var nr=R(We.dtick),Bt=R(je.dtick),vr=nr?We.dtick:+We.dtick.substring(1),yr=Bt?je.dtick:+je.dtick.substring(1);nr&&Bt?Ee(vr,yr)?vr===2*C&&yr===2*m&&(je.dtick=C):vr===2*C&&yr===3*m?je.dtick=C:vr===C&&!(We._input.minor||{}).nticks?je.dtick=m:Ne(vr/yr,2.5)?je.dtick=vr/2:je.dtick=vr:String(We.dtick).charAt(0)==="M"?Bt?je.dtick="M1":Ee(vr,yr)?vr>=12&&yr===2&&(je.dtick="M3"):je.dtick=We.dtick:String(je.dtick).charAt(0)==="L"?String(We.dtick).charAt(0)==="L"?Ee(vr,yr)||(je.dtick=Ne(vr/yr,2.5)?We.dtick/2:We.dtick):je.dtick="D1":je.dtick==="D2"&&+We.dtick>1&&(je.dtick=1)}je.range=We.range}We.minor._tick0Init===void 0&&(je.tick0=We.tick0)};function Ee(je,We){return Math.abs((je/We+.5)%1-.5)<.001}function Ne(je,We){return Math.abs(je/We-1)<.001}J.prepTicks=function(je,We){var kt=T.simpleMap(je.range,je.r2l,void 0,void 0,We);if(je.tickmode==="auto"||!je.dtick){var zt=je.nticks,Xt;zt||(je.type==="category"||je.type==="multicategory"?(Xt=je.tickfont?T.bigFont(je.tickfont.size||12):15,zt=je._length/Xt):(Xt=je._id.charAt(0)==="y"?40:80,zt=T.constrain(je._length/Xt,4,9)+1),je._name==="radialaxis"&&(zt*=2)),je.minor&&je.minor.tickmode!=="array"||je.tickmode==="array"&&(zt*=100),je._roughDTick=Math.abs(kt[1]-kt[0])/zt,J.autoTicks(je,je._roughDTick),je._minDtick>0&&je.dtick<je._minDtick*2&&(je.dtick=je._minDtick,je.tick0=je.l2r(je._forceTick0))}je.ticklabelmode==="period"&&Ce(je),je.tick0||(je.tick0=je.type==="date"?"2000-01-01":0),je.type==="date"&&je.dtick<.1&&(je.dtick=.1),mt(je)};function He(je){return+je.substring(1)}function Ce(je){var We;function kt(){return!(R(je.dtick)||je.dtick.charAt(0)!=="M")}var zt=kt(),Xt=J.getTickFormat(je);if(Xt){var lr=je._dtickInit!==je.dtick;/%[fLQsSMX]/.test(Xt)||(/%[HI]/.test(Xt)?(We=x,lr&&!zt&&je.dtick<x&&(je.dtick=x)):/%p/.test(Xt)?(We=S,lr&&!zt&&je.dtick<S&&(je.dtick=S)):/%[Aadejuwx]/.test(Xt)?(We=m,lr&&!zt&&je.dtick<m&&(je.dtick=m)):/%[UVW]/.test(Xt)?(We=C,lr&&!zt&&je.dtick<C&&(je.dtick=C)):/%[Bbm]/.test(Xt)?(We=A,lr&&(zt?He(je.dtick)<1:je.dtick<M)&&(je.dtick="M1")):/%[q]/.test(Xt)?(We=f,lr&&(zt?He(je.dtick)<3:je.dtick<o)&&(je.dtick="M3")):/%[Yy]/.test(Xt)&&(We=y,lr&&(zt?He(je.dtick)<12:je.dtick<h)&&(je.dtick="M12")))}zt=kt(),zt&&je.tick0===je._dowTick0&&(je.tick0=je._rawTick0),je._definedDelta=We}function be(je,We,kt){for(var zt=0;zt<je.length;zt++){var Xt=je[zt].value,lr=zt,cr=zt+1;zt<je.length-1?(lr=zt,cr=zt+1):zt>0?(lr=zt-1,cr=zt):(lr=zt,cr=zt);var nr=je[lr].value,Bt=je[cr].value,vr=Math.abs(Bt-nr),yr=kt||vr,mr=0;yr>=h?vr>=h&&vr<=u?mr=vr:mr=y:kt===f&&yr>=o?vr>=o&&vr<=b?mr=vr:mr=f:yr>=M?vr>=M&&vr<=d?mr=vr:mr=A:kt===C&&yr>=C?mr=C:yr>=m?mr=m:kt===S&&yr>=S?mr=S:kt===x&&yr>=x&&(mr=x);var gr;mr>=vr&&(mr=vr,gr=!0);var Zr=Xt+mr;if(We.rangebreaks&&mr>0){for(var Ur=84,Br=0,Tn=0;Tn<Ur;Tn++){var Kr=(Tn+.5)/Ur;We.maskBreaks(Xt*(1-Kr)+Kr*Zr)!==k&&Br++}mr*=Br/Ur,mr||(je[zt].drop=!0),gr&&vr>C&&(mr=vr)}(mr>0||zt===0)&&(je[zt].periodX=Xt+mr/2)}}J.calcTicks=function(We,kt){for(var zt=We.type,Xt=We.calendar,lr=We.ticklabelstep,cr=We.ticklabelmode==="period",nr=T.simpleMap(We.range,We.r2l,void 0,void 0,kt),Bt=nr[1]<nr[0],vr=Math.min(nr[0],nr[1]),yr=Math.max(nr[0],nr[1]),mr=Math.max(1e3,We._length||0),gr=[],Zr=[],Ur=[],Br=[],Tn=We.minor&&(We.minor.ticks||We.minor.showgrid),Kr=1;Kr>=(Tn?0:1);Kr--){var Bn=!Kr;Kr?(We._dtickInit=We.dtick,We._tick0Init=We.tick0):(We.minor._dtickInit=We.minor.dtick,We.minor._tick0Init=We.minor.tick0);var On=Kr?We:T.extendFlat({},We,We.minor);if(Bn?J.prepMinorTicks(On,We,kt):J.prepTicks(On,kt),On.tickmode==="array"){Kr?(Ur=[],gr=Fe(We)):(Br=[],Zr=Fe(We));continue}if(On.tickmode==="sync"){Ur=[],gr=ke(We);continue}var Tr=ee(nr),Mr=Tr[0],Hr=Tr[1],Vr=R(On.dtick),nn=zt==="log"&&!(Vr||On.dtick.charAt(0)==="L"),bn=J.tickFirst(On,kt);if(Kr){if(We._tmin=bn,bn<Mr!==Bt)break;(zt==="category"||zt==="multicategory")&&(Hr=Bt?Math.max(-.5,Hr):Math.min(We._categories.length-.5,Hr))}var dn=null,Pn=bn,zn;if(Kr){var ta;Vr?ta=We.dtick:zt==="date"?typeof We.dtick=="string"&&We.dtick.charAt(0)==="M"&&(ta=A*We.dtick.substring(1)):ta=We._roughDTick,zn=Math.round((We.r2l(Pn)-We.r2l(We.tick0))/ta)-1}var oa=On.dtick;for(On.rangebreaks&&On._tick0Init!==On.tick0&&(Pn=Wt(Pn,We),Bt||(Pn=J.tickIncrement(Pn,oa,!Bt,Xt))),Kr&&cr&&(Pn=J.tickIncrement(Pn,oa,!Bt,Xt),zn--);Bt?Pn>=Hr:Pn<=Hr;Pn=J.tickIncrement(Pn,oa,Bt,Xt)){if(Kr&&zn++,On.rangebreaks&&!Bt){if(Pn<Mr)continue;if(On.maskBreaks(Pn)===k&&Wt(Pn,On)>=yr)break}if(Ur.length>mr||Pn===dn)break;dn=Pn;var ya={value:Pn};Kr?(nn&&Pn!==(Pn|0)&&(ya.simpleLabel=!0),lr>1&&zn%lr&&(ya.skipLabel=!0),Ur.push(ya)):(ya.minor=!0,Br.push(ya))}}if(Tn){var ca=We.minor.ticks==="inside"&&We.ticks==="outside"||We.minor.ticks==="outside"&&We.ticks==="inside";if(!ca){for(var la=Ur.map(function(Ln){return Ln.value}),Pr=[],hn=0;hn<Br.length;hn++){var un=Br[hn],wn=un.value;if(la.indexOf(wn)===-1){for(var Zn=!1,In=0;!Zn&&In<Ur.length;In++)1e7+Ur[In].value===1e7+wn&&(Zn=!0);Zn||Pr.push(un)}}Br=Pr}}cr&&be(Ur,We,We._definedDelta);var Dn;if(We.rangebreaks){var jn=We._id.charAt(0)==="y",va=1;We.tickmode==="auto"&&(va=We.tickfont?We.tickfont.size:12);var Ia=NaN;for(Dn=Ur.length-1;Dn>-1;Dn--){if(Ur[Dn].drop){Ur.splice(Dn,1);continue}Ur[Dn].value=Wt(Ur[Dn].value,We);var hi=We.c2p(Ur[Dn].value);(jn?Ia>hi-va:Ia<hi+va)?Ur.splice(Bt?Dn+1:Dn,1):Ia=hi}}Ot(We)&&Math.abs(nr[1]-nr[0])===360&&Ur.pop(),We._tmax=(Ur[Ur.length-1]||{}).value,We._prevDateHead="",We._inCalcTicks=!0;var Kt,Sr=function(Ln){Ln.text="",We._prevDateHead=Kt};Ur=Ur.concat(Br);var fn,gn;for(Dn=0;Dn<Ur.length;Dn++){var yn=Ur[Dn].minor,Fn=Ur[Dn].value;yn?Zr.push({x:Fn,minor:!0}):(Kt=We._prevDateHead,fn=J.tickText(We,Fn,!1,Ur[Dn].simpleLabel),gn=Ur[Dn].periodX,gn!==void 0&&(fn.periodX=gn,(gn>yr||gn<vr)&&(gn>yr&&(fn.periodX=yr),gn<vr&&(fn.periodX=vr),Sr(fn))),Ur[Dn].skipLabel&&Sr(fn),gr.push(fn))}return gr=gr.concat(Zr),We._inCalcTicks=!1,cr&&gr.length&&(gr[0].noTick=!0),gr};function we(je,We){return je.rangebreaks&&(We=We.filter(function(kt){return je.maskBreaks(kt.x)!==k})),We}function ke(je){var We=je._mainAxis,kt=[];if(We._vals){for(var zt=0;zt<We._vals.length;zt++)if(!We._vals[zt].noTick){var Xt=We.l2p(We._vals[zt].x),lr=je.p2l(Xt),cr=J.tickText(je,lr);We._vals[zt].minor&&(cr.minor=!0,cr.text=""),kt.push(cr)}}return kt=we(je,kt),kt}function Fe(je){var We=T.simpleMap(je.range,je.r2l),kt=ee(We),zt=Math.min(kt[0],kt[1]),Xt=Math.max(kt[0],kt[1]),lr=je.type==="category"?je.d2l_noadd:je.d2l;je.type==="log"&&String(je.dtick).charAt(0)!=="L"&&(je.dtick="L"+Math.pow(10,Math.floor(Math.min(je.range[0],je.range[1]))-1));for(var cr=[],nr=0;nr<=1;nr++)if(!(nr&&!je.minor)){var Bt=nr?je.minor.tickvals:je.tickvals,vr=nr?[]:je.ticktext;if(Bt){Array.isArray(vr)||(vr=[]);for(var yr=0;yr<Bt.length;yr++){var mr=lr(Bt[yr]);if(mr>zt&&mr<Xt){var gr=vr[yr]===void 0?J.tickText(je,mr):Et(je,mr,String(vr[yr]));nr&&(gr.minor=!0,gr.text=""),cr.push(gr)}}}}return cr=we(je,cr),cr}var Pe=[2,5,10],Ge=[1,2,3,6,12],nt=[1,2,5,10,15,30],qe=[1,2,3,7,14],Ke=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],$e=[-.301,0,.301,.699,1],vt=[15,30,45,90,180];function yt(je,We,kt){return We*T.roundUp(je/We,kt)}J.autoTicks=function(je,We,kt){var zt;function Xt(mr){return Math.pow(mr,Math.floor(Math.log(We)/Math.LN10))}if(je.type==="date"){je.tick0=T.dateTick0(je.calendar,0);var lr=2*We;if(lr>y)We/=y,zt=Xt(10),je.dtick="M"+12*yt(We,zt,Pe);else if(lr>A)We/=A,je.dtick="M"+yt(We,1,Ge);else if(lr>m){if(je.dtick=yt(We,m,je._hasDayOfWeekBreaks?[1,2,7,14]:qe),!kt){var cr=J.getTickFormat(je),nr=je.ticklabelmode==="period";nr&&(je._rawTick0=je.tick0),/%[uVW]/.test(cr)?je.tick0=T.dateTick0(je.calendar,2):je.tick0=T.dateTick0(je.calendar,1),nr&&(je._dowTick0=je.tick0)}}else lr>x?je.dtick=yt(We,x,Ge):lr>a?je.dtick=yt(We,a,nt):lr>E?je.dtick=yt(We,E,nt):(zt=Xt(10),je.dtick=yt(We,zt,Pe))}else if(je.type==="log"){je.tick0=0;var Bt=T.simpleMap(je.range,je.r2l);if(je._isMinor&&(We*=1.5),We>.7)je.dtick=Math.ceil(We);else if(Math.abs(Bt[1]-Bt[0])<1){var vr=1.5*Math.abs((Bt[1]-Bt[0])/We);We=Math.abs(Math.pow(10,Bt[1])-Math.pow(10,Bt[0]))/vr,zt=Xt(10),je.dtick="L"+yt(We,zt,Pe)}else je.dtick=We>.3?"D2":"D1"}else je.type==="category"||je.type==="multicategory"?(je.tick0=0,je.dtick=Math.ceil(Math.max(We,1))):Ot(je)?(je.tick0=0,zt=1,je.dtick=yt(We,zt,vt)):(je.tick0=0,zt=Xt(10),je.dtick=yt(We,zt,Pe));if(je.dtick===0&&(je.dtick=1),!R(je.dtick)&&typeof je.dtick!="string"){var yr=je.dtick;throw je.dtick=1,"ax.dtick error: "+String(yr)}};function mt(je){var We=je.dtick;if(je._tickexponent=0,!R(We)&&typeof We!="string"&&(We=1),(je.type==="category"||je.type==="multicategory")&&(je._tickround=null),je.type==="date"){var kt=je.r2l(je.tick0),zt=je.l2r(kt).replace(/(^-|i)/g,""),Xt=zt.length;if(String(We).charAt(0)==="M")Xt>10||zt.substr(5)!=="01-01"?je._tickround="d":je._tickround=+We.substr(1)%12===0?"y":"m";else if(We>=m&&Xt<=10||We>=m*15)je._tickround="d";else if(We>=a&&Xt<=16||We>=x)je._tickround="M";else if(We>=E&&Xt<=19||We>=a)je._tickround="S";else{var lr=je.l2r(kt+We).replace(/^-/,"").length;je._tickround=Math.max(Xt,lr)-20,je._tickround<0&&(je._tickround=4)}}else if(R(We)||We.charAt(0)==="L"){var cr=je.range.map(je.r2d||Number);R(We)||(We=Number(We.substr(1))),je._tickround=2-Math.floor(Math.log(We)/Math.LN10+.01);var nr=Math.max(Math.abs(cr[0]),Math.abs(cr[1])),Bt=Math.floor(Math.log(nr)/Math.LN10+.01),vr=je.minexponent===void 0?3:je.minexponent;Math.abs(Bt)>vr&&(fe(je.exponentformat)&&!me(Bt)?je._tickexponent=3*Math.round((Bt-1)/3):je._tickexponent=Bt)}else je._tickround=null}J.tickIncrement=function(je,We,kt,zt){var Xt=kt?-1:1;if(R(We))return T.increment(je,Xt*We);var lr=We.charAt(0),cr=Xt*Number(We.substr(1));if(lr==="M")return T.incrementMonth(je,cr,zt);if(lr==="L")return Math.log(Math.pow(10,je)+cr)/Math.LN10;if(lr==="D"){var nr=We==="D2"?$e:Ke,Bt=je+Xt*.01,vr=T.roundUp(T.mod(Bt,1),nr,kt);return Math.floor(Bt)+Math.log(g.round(Math.pow(10,vr),1))/Math.LN10}throw"unrecognized dtick "+String(We)},J.tickFirst=function(je,We){var kt=je.r2l||Number,zt=T.simpleMap(je.range,kt,void 0,void 0,We),Xt=zt[1]<zt[0],lr=Xt?Math.floor:Math.ceil,cr=ee(zt)[0],nr=je.dtick,Bt=kt(je.tick0);if(R(nr)){var vr=lr((cr-Bt)/nr)*nr+Bt;return(je.type==="category"||je.type==="multicategory")&&(vr=T.constrain(vr,0,je._categories.length-1)),vr}var yr=nr.charAt(0),mr=Number(nr.substr(1));if(yr==="M"){for(var gr=0,Zr=Bt,Ur,Br,Tn;gr<10;){if(Ur=J.tickIncrement(Zr,nr,Xt,je.calendar),(Ur-cr)*(Zr-cr)<=0)return Xt?Math.min(Zr,Ur):Math.max(Zr,Ur);Br=(cr-(Zr+Ur)/2)/(Ur-Zr),Tn=yr+(Math.abs(Math.round(Br))||1)*mr,Zr=J.tickIncrement(Zr,Tn,Br<0?!Xt:Xt,je.calendar),gr++}return T.error("tickFirst did not converge",je),Zr}else{if(yr==="L")return Math.log(lr((Math.pow(10,cr)-Bt)/mr)*mr+Bt)/Math.LN10;if(yr==="D"){var Kr=nr==="D2"?$e:Ke,Bn=T.roundUp(T.mod(cr,1),Kr,Xt);return Math.floor(cr)+Math.log(g.round(Math.pow(10,Bn),1))/Math.LN10}else throw"unrecognized dtick "+String(nr)}},J.tickText=function(je,We,kt,zt){var Xt=Et(je,We),lr=je.tickmode==="array",cr=kt||lr,nr=je.type,Bt=nr==="category"?je.d2l_noadd:je.d2l,vr;if(lr&&Array.isArray(je.ticktext)){var yr=T.simpleMap(je.range,je.r2l),mr=(Math.abs(yr[1]-yr[0])-(je._lBreaks||0))/1e4;for(vr=0;vr<je.ticktext.length&&!(Math.abs(We-Bt(je.tickvals[vr]))<mr);vr++);if(vr<je.ticktext.length)return Xt.text=String(je.ticktext[vr]),Xt}function gr(Tn){if(Tn===void 0)return!0;if(kt)return Tn==="none";var Kr={first:je._tmin,last:je._tmax}[Tn];return Tn!=="all"&&We!==Kr}var Zr=kt?"never":je.exponentformat!=="none"&&gr(je.showexponent)?"hide":"";if(nr==="date"?Xe(je,Xt,kt,cr):nr==="log"?Ue(je,Xt,kt,cr,Zr):nr==="category"?Be(je,Xt):nr==="multicategory"?rt(je,Xt,kt):Ot(je)?Ye(je,Xt,kt,cr,Zr):it(je,Xt,kt,cr,Zr),zt||(je.tickprefix&&!gr(je.showtickprefix)&&(Xt.text=je.tickprefix+Xt.text),je.ticksuffix&&!gr(je.showticksuffix)&&(Xt.text+=je.ticksuffix)),je.labelalias&&je.labelalias.hasOwnProperty(Xt.text)){var Ur=je.labelalias[Xt.text];typeof Ur=="string"&&(Xt.text=Ur)}if(je.tickson==="boundaries"||je.showdividers){var Br=function(Tn){var Kr=je.l2p(Tn);return Kr>=0&&Kr<=je._length?Tn:null};Xt.xbnd=[Br(Xt.x-.5),Br(Xt.x+je.dtick-.5)]}return Xt},J.hoverLabelText=function(je,We,kt){kt&&(je=T.extendFlat({},je,{hoverformat:kt}));var zt=Array.isArray(We)?We[0]:We,Xt=Array.isArray(We)?We[1]:void 0;if(Xt!==void 0&&Xt!==zt)return J.hoverLabelText(je,zt,kt)+" - "+J.hoverLabelText(je,Xt,kt);var lr=je.type==="log"&&zt<=0,cr=J.tickText(je,je.c2l(lr?-zt:zt),"hover").text;return lr?zt===0?"0":w+cr:cr};function Et(je,We,kt){var zt=je.tickfont||{};return{x:We,dx:0,dy:0,text:kt||"",fontSize:zt.size,font:zt.family,fontColor:zt.color}}function Xe(je,We,kt,zt){var Xt=je._tickround,lr=kt&&je.hoverformat||J.getTickFormat(je);zt&&(R(Xt)?Xt=4:Xt={y:"m",m:"d",d:"M",M:"S",S:4}[Xt]);var cr=T.formatDate(We.x,lr,Xt,je._dateFormat,je.calendar,je._extraFormat),nr,Bt=cr.indexOf(`
`);if(Bt!==-1&&(nr=cr.substr(Bt+1),cr=cr.substr(0,Bt)),zt&&(cr==="00:00:00"||cr==="00:00"?(cr=nr,nr=""):cr.length===8&&(cr=cr.replace(/:00$/,""))),nr)if(kt)Xt==="d"?cr+=", "+nr:cr=nr+(cr?", "+cr:"");else if(!je._inCalcTicks||je._prevDateHead!==nr)je._prevDateHead=nr,cr+="<br>"+nr;else{var vr=er(je),yr=je._trueSide||je.side;(!vr&&yr==="top"||vr&&yr==="bottom")&&(cr+="<br> ")}We.text=cr}function Ue(je,We,kt,zt,Xt){var lr=je.dtick,cr=We.x,nr=je.tickformat,Bt=typeof lr=="string"&&lr.charAt(0);if(Xt==="never"&&(Xt=""),zt&&Bt!=="L"&&(lr="L3",Bt="L"),nr||Bt==="L")We.text=Re(Math.pow(10,cr),je,Xt,zt);else if(R(lr)||Bt==="D"&&T.mod(cr+.01,1)<.1){var vr=Math.round(cr),yr=Math.abs(vr),mr=je.exponentformat;mr==="power"||fe(mr)&&me(vr)?(vr===0?We.text=1:vr===1?We.text="10":We.text="10<sup>"+(vr>1?"":w)+yr+"</sup>",We.fontSize*=1.25):(mr==="e"||mr==="E")&&yr>2?We.text="1"+mr+(vr>0?"+":w)+yr:(We.text=Re(Math.pow(10,cr),je,"","fakehover"),lr==="D1"&&je._id.charAt(0)==="y"&&(We.dy-=We.fontSize/6))}else if(Bt==="D")We.text=String(Math.round(Math.pow(10,T.mod(cr,1)))),We.fontSize*=.75;else throw"unrecognized dtick "+String(lr);if(je.dtick==="D1"){var gr=String(We.text).charAt(0);(gr==="0"||gr==="1")&&(je._id.charAt(0)==="y"?We.dx-=We.fontSize/4:(We.dy+=We.fontSize/2,We.dx+=(je.range[1]>je.range[0]?1:-1)*We.fontSize*(cr<0?.5:.25)))}}function Be(je,We){var kt=je._categories[Math.round(We.x)];kt===void 0&&(kt=""),We.text=String(kt)}function rt(je,We,kt){var zt=Math.round(We.x),Xt=je._categories[zt]||[],lr=Xt[1]===void 0?"":String(Xt[1]),cr=Xt[0]===void 0?"":String(Xt[0]);kt?We.text=cr+" - "+lr:(We.text=lr,We.text2=cr)}function it(je,We,kt,zt,Xt){Xt==="never"?Xt="":je.showexponent==="all"&&Math.abs(We.x/je.dtick)<1e-6&&(Xt="hide"),We.text=Re(We.x,je,Xt,zt)}function Ye(je,We,kt,zt,Xt){if(je.thetaunit==="radians"&&!kt){var lr=We.x/180;if(lr===0)We.text="0";else{var cr=De(lr);if(cr[1]>=100)We.text=Re(T.deg2rad(We.x),je,Xt,zt);else{var nr=We.x<0;cr[1]===1?cr[0]===1?We.text="":We.text=cr[0]+"":We.text=["<sup>",cr[0],"</sup>","","<sub>",cr[1],"</sub>",""].join(""),nr&&(We.text=w+We.text)}}}else We.text=Re(We.x,je,Xt,zt)}function De(je){function We(nr,Bt){return Math.abs(nr-Bt)<=1e-6}function kt(nr,Bt){return We(Bt,0)?nr:kt(Bt,nr%Bt)}function zt(nr){for(var Bt=1;!We(Math.round(nr*Bt)/Bt,nr);)Bt*=10;return Bt}var Xt=zt(je),lr=je*Xt,cr=Math.abs(kt(lr,Xt));return[Math.round(lr/cr),Math.round(Xt/cr)]}var Te=["f","p","n","","m","","k","M","G","T"];function fe(je){return je==="SI"||je==="B"}function me(je){return je>14||je<-15}function Re(je,We,kt,zt){var Xt=je<0,lr=We._tickround,cr=kt||We.exponentformat||"B",nr=We._tickexponent,Bt=J.getTickFormat(We),vr=We.separatethousands;if(zt){var yr={exponentformat:cr,minexponent:We.minexponent,dtick:We.showexponent==="none"?We.dtick:R(je)&&Math.abs(je)||1,range:We.showexponent==="none"?We.range.map(We.r2d):[0,je||1]};mt(yr),lr=(Number(yr._tickround)||0)+4,nr=yr._tickexponent,We.hoverformat&&(Bt=We.hoverformat)}if(Bt)return We._numFormat(Bt)(je).replace(/-/g,w);var mr=Math.pow(10,-lr)/2;if(cr==="none"&&(nr=0),je=Math.abs(je),je<mr)je="0",Xt=!1;else{if(je+=mr,nr&&(je*=Math.pow(10,-nr),lr+=nr),lr===0)je=String(Math.floor(je));else if(lr<0){je=String(Math.round(je)),je=je.substr(0,je.length+lr);for(var gr=lr;gr<0;gr++)je+="0"}else{je=String(je);var Zr=je.indexOf(".")+1;Zr&&(je=je.substr(0,Zr+lr).replace(/\.?0+$/,""))}je=T.numSeparate(je,We._separators,vr)}if(nr&&cr!=="hide"){fe(cr)&&me(nr)&&(cr="power");var Ur;nr<0?Ur=w+-nr:cr!=="power"?Ur="+"+nr:Ur=String(nr),cr==="e"||cr==="E"?je+=cr+Ur:cr==="power"?je+="10<sup>"+Ur+"</sup>":cr==="B"&&nr===9?je+="B":fe(cr)&&(je+=Te[nr/3+5])}return Xt?w+je:je}J.getTickFormat=function(je){var We;function kt(Bt){return typeof Bt!="string"?Bt:Number(Bt.replace("M",""))*A}function zt(Bt,vr){var yr=["L","D"];if(typeof Bt==typeof vr){if(typeof Bt=="number")return Bt-vr;var mr=yr.indexOf(Bt.charAt(0)),gr=yr.indexOf(vr.charAt(0));return mr===gr?Number(Bt.replace(/(L|D)/g,""))-Number(vr.replace(/(L|D)/g,"")):mr-gr}else return typeof Bt=="number"?1:-1}function Xt(Bt,vr,yr){var mr=yr||function(Ur){return Ur},gr=vr[0],Zr=vr[1];return(!gr&&typeof gr!="number"||mr(gr)<=mr(Bt))&&(!Zr&&typeof Zr!="number"||mr(Zr)>=mr(Bt))}function lr(Bt,vr){var yr=vr[0]===null,mr=vr[1]===null,gr=zt(Bt,vr[0])>=0,Zr=zt(Bt,vr[1])<=0;return(yr||gr)&&(mr||Zr)}var cr,nr;if(je.tickformatstops&&je.tickformatstops.length>0)switch(je.type){case"date":case"linear":{for(We=0;We<je.tickformatstops.length;We++)if(nr=je.tickformatstops[We],nr.enabled&&Xt(je.dtick,nr.dtickrange,kt)){cr=nr;break}break}case"log":{for(We=0;We<je.tickformatstops.length;We++)if(nr=je.tickformatstops[We],nr.enabled&&lr(je.dtick,nr.dtickrange)){cr=nr;break}break}}return cr?cr.value:je.tickformat},J.getSubplots=function(je,We){var kt=je._fullLayout._subplots,zt=kt.cartesian.concat(kt.gl2d||[]),Xt=We?J.findSubplotsWithAxis(zt,We):zt;return Xt.sort(function(lr,cr){var nr=lr.substr(1).split("y"),Bt=cr.substr(1).split("y");return nr[0]===Bt[0]?+nr[1]-+Bt[1]:+nr[0]-+Bt[0]}),Xt},J.findSubplotsWithAxis=function(je,We){for(var kt=new RegExp(We._id.charAt(0)==="x"?"^"+We._id+"y":We._id+"$"),zt=[],Xt=0;Xt<je.length;Xt++){var lr=je[Xt];kt.test(lr)&&zt.push(lr)}return zt},J.makeClipPaths=function(je){var We=je._fullLayout;if(!We._hasOnlyLargeSploms){var kt={_offset:0,_length:We.width,_id:""},zt={_offset:0,_length:We.height,_id:""},Xt=J.list(je,"x",!0),lr=J.list(je,"y",!0),cr=[],nr,Bt;for(nr=0;nr<Xt.length;nr++)for(cr.push({x:Xt[nr],y:zt}),Bt=0;Bt<lr.length;Bt++)nr===0&&cr.push({x:kt,y:lr[Bt]}),cr.push({x:Xt[nr],y:lr[Bt]});var vr=We._clips.selectAll(".axesclip").data(cr,function(yr){return yr.x._id+yr.y._id});vr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(yr){return"clip"+We._uid+yr.x._id+yr.y._id}).append("rect"),vr.exit().remove(),vr.each(function(yr){g.select(this).select("rect").attr({x:yr.x._offset||0,y:yr.y._offset||0,width:yr.x._length||1,height:yr.y._length||1})})}},J.draw=function(je,We,kt){var zt=je._fullLayout;We==="redraw"&&zt._paper.selectAll("g.subplot").each(function(Bt){var vr=Bt[0],yr=zt._plots[vr];if(yr){var mr=yr.xaxis,gr=yr.yaxis;yr.xaxislayer.selectAll("."+mr._id+"tick").remove(),yr.yaxislayer.selectAll("."+gr._id+"tick").remove(),yr.xaxislayer.selectAll("."+mr._id+"tick2").remove(),yr.yaxislayer.selectAll("."+gr._id+"tick2").remove(),yr.xaxislayer.selectAll("."+mr._id+"divider").remove(),yr.yaxislayer.selectAll("."+gr._id+"divider").remove(),yr.minorGridlayer&&yr.minorGridlayer.selectAll("path").remove(),yr.gridlayer&&yr.gridlayer.selectAll("path").remove(),yr.zerolinelayer&&yr.zerolinelayer.selectAll("path").remove(),zt._infolayer.select(".g-"+mr._id+"title").remove(),zt._infolayer.select(".g-"+gr._id+"title").remove()}});var Xt=!We||We==="redraw"?J.listIds(je):We,lr=J.list(je),cr=lr.filter(function(Bt){return Bt.autoshift}).map(function(Bt){return Bt.overlaying});Xt.map(function(Bt){var vr=J.getFromId(je,Bt);if(vr.tickmode==="sync"&&vr.overlaying){var yr=Xt.findIndex(function(mr){return mr===vr.overlaying});yr>=0&&Xt.unshift(Xt.splice(yr,1).shift())}});var nr={false:{left:0,right:0}};return T.syncOrAsync(Xt.map(function(Bt){return function(){if(Bt){var vr=J.getFromId(je,Bt);kt||(kt={}),kt.axShifts=nr,kt.overlayingShiftedAx=cr;var yr=J.drawOne(je,vr,kt);return vr._shiftPusher&&sr(vr,vr._fullDepth||0,nr,!0),vr._r=vr.range.slice(),vr._rl=T.simpleMap(vr._r,vr.r2l),yr}}}))},J.drawOne=function(je,We,kt){kt=kt||{};var zt=kt.axShifts||{},Xt=kt.overlayingShiftedAx||[],lr,cr,nr;We.setScale();var Bt=je._fullLayout,vr=We._id,yr=vr.charAt(0),mr=J.counterLetter(vr),gr=Bt._plots[We._mainSubplot];if(!gr)return;if(We._shiftPusher=We.autoshift||Xt.indexOf(We._id)!==-1||Xt.indexOf(We.overlaying)!==-1,We._shiftPusher&We.anchor==="free"){var Zr=We.linewidth/2||0;We.ticks==="inside"&&(Zr+=We.ticklen),sr(We,Zr,zt,!0),sr(We,We.shift||0,zt,!1)}(kt.skipTitle!==!0||We._shift===void 0)&&(We._shift=Cr(We,zt));var Ur=gr[yr+"axislayer"],Br=We._mainLinePosition,Tn=Br+=We._shift,Kr=We._mainMirrorPosition,Bn=We._vals=J.calcTicks(We),On=[We.mirror,Tn,Kr].join("_");for(lr=0;lr<Bn.length;lr++)Bn[lr].axInfo=On;We._selections={},We._tickAngles&&(We._prevTickAngles=We._tickAngles),We._tickAngles={},We._depth=null;var Tr={};function Mr(Nr){var xn=vr+(Nr||"tick");return Tr[xn]||(Tr[xn]=It(We,xn)),Tr[xn]}if(We.visible){var Hr=J.makeTransTickFn(We),Vr=J.makeTransTickLabelFn(We),nn,bn,dn=We.ticks==="inside",Pn=We.ticks==="outside";if(We.tickson==="boundaries"){var zn=st(We,Bn);bn=J.clipEnds(We,zn),nn=dn?bn:zn}else bn=J.clipEnds(We,Bn),nn=dn&&We.ticklabelmode!=="period"?bn:Bn;var ta=We._gridVals=bn,oa=Tt(We,Bn);if(!Bt._hasOnlyLargeSploms){var ya=We._subplotsWith,ca={};for(lr=0;lr<ya.length;lr++){cr=ya[lr],nr=Bt._plots[cr];var la=nr[mr+"axis"],Pr=la._mainAxis._id;if(!ca[Pr]){ca[Pr]=1;var hn=yr==="x"?"M0,"+la._offset+"v"+la._length:"M"+la._offset+",0h"+la._length;J.drawGrid(je,We,{vals:ta,counterAxis:la,layer:nr.gridlayer.select("."+vr),minorLayer:nr.minorGridlayer.select("."+vr),path:hn,transFn:Hr}),J.drawZeroLine(je,We,{counterAxis:la,layer:nr.zerolinelayer,path:hn,transFn:Hr})}}}var un,wn=J.getTickSigns(We),Zn=J.getTickSigns(We,"minor");if(We.ticks||We.minor&&We.minor.ticks){var In=J.makeTickPath(We,Tn,wn[2]),Dn=J.makeTickPath(We,Tn,Zn[2],{minor:!0}),jn,va,Ia,hi;if(We._anchorAxis&&We.mirror&&We.mirror!==!0?(jn=J.makeTickPath(We,Kr,wn[3]),va=J.makeTickPath(We,Kr,Zn[3],{minor:!0}),Ia=In+jn,hi=Dn+va):(jn="",va="",Ia=In,hi=Dn),We.showdividers&&Pn&&We.tickson==="boundaries"){var Kt={};for(lr=0;lr<oa.length;lr++)Kt[oa[lr].x]=1;un=function(Nr){return Kt[Nr.x]?jn:Ia}}else un=function(Nr){return Nr.minor?hi:Ia}}if(J.drawTicks(je,We,{vals:nn,layer:Ur,path:un,transFn:Hr}),We.mirror==="allticks"){var Sr=Object.keys(We._linepositions||{});for(lr=0;lr<Sr.length;lr++){cr=Sr[lr],nr=Bt._plots[cr];var fn=We._linepositions[cr]||[],gn=fn[0],yn=fn[1],Fn=fn[2],Ln=J.makeTickPath(We,gn,Fn?wn[0]:Zn[0],{minor:Fn})+J.makeTickPath(We,yn,Fn?wn[1]:Zn[1],{minor:Fn});J.drawTicks(je,We,{vals:nn,layer:nr[yr+"axislayer"],path:Ln,transFn:Hr})}}var ln=[];if(ln.push(function(){return J.drawLabels(je,We,{vals:Bn,layer:Ur,plotinfo:nr,transFn:Vr,labelFns:J.makeLabelFns(We,Tn)})}),We.type==="multicategory"){var Ir={x:2,y:10}[yr];ln.push(function(){var Nr={x:"height",y:"width"}[yr],xn=Mr()[Nr]+Ir+(We._tickAngles[vr+"tick"]?We.tickfont.size*ne:0);return J.drawLabels(je,We,{vals:ut(We,Bn),layer:Ur,cls:vr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Hr,labelFns:J.makeLabelFns(We,Tn+xn*wn[4])})}),ln.push(function(){return We._depth=wn[4]*(Mr("tick2")[We.side]-Tn),Qt(je,We,{vals:oa,layer:Ur,path:J.makeTickPath(We,Tn,wn[4],{len:We._depth}),transFn:Hr})})}else We.title.hasOwnProperty("standoff")&&ln.push(function(){We._depth=wn[4]*(Mr()[We.side]-Tn)});var Rr=L.getComponentMethod("rangeslider","isVisible")(We);return!kt.skipTitle&&!(Rr&&We.side==="bottom")&&ln.push(function(){return zr(je,We)}),ln.push(function(){var Nr=We.side.charAt(0),xn=oe[We.side].charAt(0),Hn=J.getPxPosition(je,We),Qn=Pn?We.ticklen:0,An,Wn,ua,ma;(We.automargin||Rr||We._shiftPusher)&&(We.type==="multicategory"?An=Mr("tick2"):(An=Mr(),yr==="x"&&Nr==="b"&&(We._depth=Math.max(An.width>0?An.bottom-Hn:0,Qn))));var da=0,pa=0;if(We._shiftPusher&&(da=Math.max(Qn,An.height>0?Nr==="l"?Hn-An.left:An.right-Hn:0),We.title.text!==Bt._dfltTitle[yr]&&(pa=(We._titleStandoff||0)+(We._titleScoot||0),Nr==="l"&&(pa+=or(We))),We._fullDepth=Math.max(da,pa)),We.automargin){Wn={x:0,y:0,r:0,l:0,t:0,b:0};var ba=[0,1],So=typeof We._shift=="number"?We._shift:0;if(yr==="x"){if(Nr==="b"?Wn[Nr]=We._depth:(Wn[Nr]=We._depth=Math.max(An.width>0?Hn-An.top:0,Qn),ba.reverse()),An.width>0){var _o=An.right-(We._offset+We._length);_o>0&&(Wn.xr=1,Wn.r=_o);var Go=We._offset-An.left;Go>0&&(Wn.xl=0,Wn.l=Go)}}else if(Nr==="l"?(We._depth=Math.max(An.height>0?Hn-An.left:0,Qn),Wn[Nr]=We._depth-So):(We._depth=Math.max(An.height>0?An.right-Hn:0,Qn),Wn[Nr]=We._depth+So,ba.reverse()),An.height>0){var Ko=An.bottom-(We._offset+We._length);Ko>0&&(Wn.yb=0,Wn.b=Ko);var Wo=We._offset-An.top;Wo>0&&(Wn.yt=1,Wn.t=Wo)}Wn[mr]=We.anchor==="free"?We.position:We._anchorAxis.domain[ba[0]],We.title.text!==Bt._dfltTitle[yr]&&(Wn[Nr]+=or(We)+(We.title.standoff||0)),We.mirror&&We.anchor!=="free"&&(ua={x:0,y:0,r:0,l:0,t:0,b:0},ua[xn]=We.linewidth,We.mirror&&We.mirror!==!0&&(ua[xn]+=Qn),We.mirror===!0||We.mirror==="ticks"?ua[mr]=We._anchorAxis.domain[ba[1]]:(We.mirror==="all"||We.mirror==="allticks")&&(ua[mr]=[We._counterDomainMin,We._counterDomainMax][ba[1]]))}Rr&&(ma=L.getComponentMethod("rangeslider","autoMarginOpts")(je,We)),typeof We.automargin=="string"&&(Oe(Wn,We.automargin),Oe(ua,We.automargin)),i.autoMargin(je,dr(We),Wn),i.autoMargin(je,ht(We),ua),i.autoMargin(je,ct(We),ma)}),T.syncOrAsync(ln)}};function Oe(je,We){if(je){var kt=Object.keys(F).reduce(function(zt,Xt){return We.indexOf(Xt)!==-1&&F[Xt].forEach(function(lr){zt[lr]=1}),zt},{});Object.keys(je).forEach(function(zt){kt[zt]||(zt.length===1?je[zt]=0:delete je[zt])})}}function st(je,We){var kt=[],zt,Xt=function(lr,cr){var nr=lr.xbnd[cr];nr!==null&&kt.push(T.extendFlat({},lr,{x:nr}))};if(We.length){for(zt=0;zt<We.length;zt++)Xt(We[zt],0);Xt(We[zt-1],1)}return kt}function ut(je,We){for(var kt=[],zt={},Xt=0;Xt<We.length;Xt++){var lr=We[Xt];zt[lr.text2]?zt[lr.text2].push(lr.x):zt[lr.text2]=[lr.x]}for(var cr in zt)kt.push(Et(je,T.interp(zt[cr],.5),cr));return kt}function Tt(je,We){var kt=[],zt,Xt,lr=We.length&&We[We.length-1].x<We[0].x,cr=function(Bt,vr){var yr=Bt.xbnd[vr];yr!==null&&kt.push(T.extendFlat({},Bt,{x:yr}))};if(je.showdividers&&We.length){for(zt=0;zt<We.length;zt++){var nr=We[zt];nr.text2!==Xt&&cr(nr,lr?1:0),Xt=nr.text2}cr(We[zt-1],lr?0:1)}return kt}function It(je,We){var kt,zt,Xt,lr;return je._selections[We].size()?(kt=1/0,zt=-1/0,Xt=1/0,lr=-1/0,je._selections[We].each(function(){var cr=Ar(this),nr=l.bBox(cr.node().parentNode);kt=Math.min(kt,nr.top),zt=Math.max(zt,nr.bottom),Xt=Math.min(Xt,nr.left),lr=Math.max(lr,nr.right)})):(kt=0,zt=0,Xt=0,lr=0),{top:kt,bottom:zt,left:Xt,right:lr,height:zt-kt,width:lr-Xt}}J.getTickSigns=function(je,We){var kt=je._id.charAt(0),zt={x:"top",y:"right"}[kt],Xt=je.side===zt?1:-1,lr=[-1,1,Xt,-Xt],cr=We?(je.minor||{}).ticks:je.ticks;return cr!=="inside"==(kt==="x")&&(lr=lr.map(function(nr){return-nr})),je.side&&lr.push({l:-1,t:-1,r:1,b:1}[je.side.charAt(0)]),lr},J.makeTransTickFn=function(je){return je._id.charAt(0)==="x"?function(We){return v(je._offset+je.l2p(We.x),0)}:function(We){return v(0,je._offset+je.l2p(We.x))}},J.makeTransTickLabelFn=function(je){var We=jt(je),kt=We[0],zt=We[1];return je._id.charAt(0)==="x"?function(Xt){return v(kt+je._offset+je.l2p(Gt(Xt)),zt)}:function(Xt){return v(zt,kt+je._offset+je.l2p(Gt(Xt)))}};function Gt(je){return je.periodX!==void 0?je.periodX:je.x}function jt(je){var We=je.ticklabelposition||"",kt=function(Zr){return We.indexOf(Zr)!==-1},zt=kt("top"),Xt=kt("left"),lr=kt("right"),cr=kt("bottom"),nr=kt("inside"),Bt=cr||Xt||zt||lr;if(!Bt&&!nr)return[0,0];var vr=je.side,yr=Bt?(je.tickwidth||0)/2:0,mr=ve,gr=je.tickfont?je.tickfont.size:12;return(cr||zt)&&(yr+=gr*q,mr+=(je.linewidth||0)/2),(Xt||lr)&&(yr+=(je.linewidth||0)/2,mr+=ve),nr&&vr==="top"&&(mr-=gr*(1-q)),(Xt||zt)&&(yr=-yr),(vr==="bottom"||vr==="right")&&(mr=-mr),[Bt?yr:0,nr?mr:0]}J.makeTickPath=function(je,We,kt,zt){zt||(zt={});var Xt=zt.minor;if(Xt&&!je.minor)return"";var lr=zt.len!==void 0?zt.len:Xt?je.minor.ticklen:je.ticklen,cr=je._id.charAt(0),nr=(je.linewidth||1)/2;return cr==="x"?"M0,"+(We+nr*kt)+"v"+lr*kt:"M"+(We+nr*kt)+",0h"+lr*kt},J.makeLabelFns=function(je,We,kt){var zt=je.ticklabelposition||"",Xt=function(zn){return zt.indexOf(zn)!==-1},lr=Xt("top"),cr=Xt("left"),nr=Xt("right"),Bt=Xt("bottom"),vr=Bt||cr||lr||nr,yr=Xt("inside"),mr=zt==="inside"&&je.ticks==="inside"||!yr&&je.ticks==="outside"&&je.tickson!=="boundaries",gr=0,Zr=0,Ur=mr?je.ticklen:0;if(yr?Ur*=-1:vr&&(Ur=0),mr&&(gr+=Ur,kt)){var Br=T.deg2rad(kt);gr=Ur*Math.cos(Br)+1,Zr=Ur*Math.sin(Br)}je.showticklabels&&(mr||je.showline)&&(gr+=.2*je.tickfont.size),gr+=(je.linewidth||1)/2*(yr?-1:1);var Tn={labelStandoff:gr,labelShift:Zr},Kr,Bn,On,Tr,Mr=0,Hr=je.side,Vr=je._id.charAt(0),nn=je.tickangle,bn;if(Vr==="x")bn=!yr&&Hr==="bottom"||yr&&Hr==="top",Tr=bn?1:-1,yr&&(Tr*=-1),Kr=Zr*Tr,Bn=We+gr*Tr,On=bn?1:-.2,Math.abs(nn)===90&&(yr?On+=X:nn===-90&&Hr==="bottom"?On=q:nn===90&&Hr==="top"?On=X:On=.5,Mr=X/2*(nn/90)),Tn.xFn=function(zn){return zn.dx+Kr+Mr*zn.fontSize},Tn.yFn=function(zn){return zn.dy+Bn+zn.fontSize*On},Tn.anchorFn=function(zn,ta){if(vr){if(cr)return"end";if(nr)return"start"}return!R(ta)||ta===0||ta===180?"middle":ta*Tr<0!==yr?"end":"start"},Tn.heightFn=function(zn,ta,oa){return ta<-60||ta>60?-.5*oa:je.side==="top"!==yr?-oa:0};else if(Vr==="y"){if(bn=!yr&&Hr==="left"||yr&&Hr==="right",Tr=bn?1:-1,yr&&(Tr*=-1),Kr=gr,Bn=Zr*Tr,On=0,!yr&&Math.abs(nn)===90&&(nn===-90&&Hr==="left"||nn===90&&Hr==="right"?On=q:On=.5),yr){var dn=R(nn)?+nn:0;if(dn!==0){var Pn=T.deg2rad(dn);Mr=Math.abs(Math.sin(Pn))*q*Tr,On=0}}Tn.xFn=function(zn){return zn.dx+We-(Kr+zn.fontSize*On)*Tr+Mr*zn.fontSize},Tn.yFn=function(zn){return zn.dy+Bn+zn.fontSize*X},Tn.anchorFn=function(zn,ta){return R(ta)&&Math.abs(ta)===90?"middle":bn?"end":"start"},Tn.heightFn=function(zn,ta,oa){return je.side==="right"&&(ta*=-1),ta<-30?-oa:ta<30?-.5*oa:0}}return Tn};function Pt(je){return[je.text,je.x,je.axInfo,je.font,je.fontSize,je.fontColor].join("_")}J.drawTicks=function(je,We,kt){kt=kt||{};var zt=We._id+"tick",Xt=[].concat(We.minor&&We.minor.ticks?kt.vals.filter(function(cr){return cr.minor&&!cr.noTick}):[]).concat(We.ticks?kt.vals.filter(function(cr){return!cr.minor&&!cr.noTick}):[]),lr=kt.layer.selectAll("path."+zt).data(Xt,Pt);lr.exit().remove(),lr.enter().append("path").classed(zt,1).classed("ticks",1).classed("crisp",kt.crisp!==!1).each(function(cr){return r.stroke(g.select(this),cr.minor?We.minor.tickcolor:We.tickcolor)}).style("stroke-width",function(cr){return l.crispRound(je,cr.minor?We.minor.tickwidth:We.tickwidth,1)+"px"}).attr("d",kt.path).style("display",null),$t(We,[N]),lr.attr("transform",kt.transFn)},J.drawGrid=function(je,We,kt){if(kt=kt||{},We.tickmode!=="sync"){var zt=We._id+"grid",Xt=We.minor&&We.minor.showgrid,lr=Xt?kt.vals.filter(function(Kr){return Kr.minor}):[],cr=We.showgrid?kt.vals.filter(function(Kr){return!Kr.minor}):[],nr=kt.counterAxis;if(nr&&J.shouldShowZeroLine(je,We,nr))for(var Bt=We.tickmode==="array",vr=0;vr<cr.length;vr++){var yr=cr[vr].x;if(Bt?!yr:Math.abs(yr)<We.dtick/100)if(cr=cr.slice(0,vr).concat(cr.slice(vr+1)),Bt)vr--;else break}We._gw=l.crispRound(je,We.gridwidth,1);for(var mr=Xt?l.crispRound(je,We.minor.gridwidth,1):0,gr=kt.layer,Zr=kt.minorLayer,Ur=1;Ur>=0;Ur--){var Br=Ur?gr:Zr;if(Br){var Tn=Br.selectAll("path."+zt).data(Ur?cr:lr,Pt);Tn.exit().remove(),Tn.enter().append("path").classed(zt,1).classed("crisp",kt.crisp!==!1),Tn.attr("transform",kt.transFn).attr("d",kt.path).each(function(Kr){return r.stroke(g.select(this),Kr.minor?We.minor.gridcolor:We.gridcolor||"#ddd")}).style("stroke-dasharray",function(Kr){return l.dashStyle(Kr.minor?We.minor.griddash:We.griddash,Kr.minor?We.minor.gridwidth:We.gridwidth)}).style("stroke-width",function(Kr){return(Kr.minor?mr:We._gw)+"px"}).style("display",null),typeof kt.path=="function"&&Tn.attr("d",kt.path)}}$t(We,[U,z])}},J.drawZeroLine=function(je,We,kt){kt=kt||kt;var zt=We._id+"zl",Xt=J.shouldShowZeroLine(je,We,kt.counterAxis),lr=kt.layer.selectAll("path."+zt).data(Xt?[{x:0,id:We._id}]:[]);lr.exit().remove(),lr.enter().append("path").classed(zt,1).classed("zl",1).classed("crisp",kt.crisp!==!1).each(function(){kt.layer.selectAll("path").sort(function(cr,nr){return K(cr.id,nr.id)})}),lr.attr("transform",kt.transFn).attr("d",kt.path).call(r.stroke,We.zerolinecolor||r.defaultLine).style("stroke-width",l.crispRound(je,We.zerolinewidth,We._gw||1)+"px").style("display",null),$t(We,[I])},J.drawLabels=function(je,We,kt){kt=kt||{};var zt=je._fullLayout,Xt=We._id,lr=Xt.charAt(0),cr=kt.cls||Xt+"tick",nr=kt.vals.filter(function(Tr){return Tr.text}),Bt=kt.labelFns,vr=kt.secondary?0:We.tickangle,yr=(We._prevTickAngles||{})[cr],mr=kt.layer.selectAll("g."+cr).data(We.showticklabels?nr:[],Pt),gr=[];mr.enter().append("g").classed(cr,1).append("text").attr("text-anchor","middle").each(function(Tr){var Mr=g.select(this),Hr=je._promises.length;Mr.call(p.positionText,Bt.xFn(Tr),Bt.yFn(Tr)).call(l.font,Tr.font,Tr.fontSize,Tr.fontColor).text(Tr.text).call(p.convertToTspans,je),je._promises[Hr]?gr.push(je._promises.pop().then(function(){Zr(Mr,vr)})):Zr(Mr,vr)}),$t(We,[B]),mr.exit().remove(),kt.repositionOnUpdate&&mr.each(function(Tr){g.select(this).select("text").call(p.positionText,Bt.xFn(Tr),Bt.yFn(Tr))});function Zr(Tr,Mr){Tr.each(function(Hr){var Vr=g.select(this),nn=Vr.select(".text-math-group"),bn=Bt.anchorFn(Hr,Mr),dn=kt.transFn.call(Vr.node(),Hr)+(R(Mr)&&+Mr!=0?" rotate("+Mr+","+Bt.xFn(Hr)+","+(Bt.yFn(Hr)-Hr.fontSize/2)+")":""),Pn=p.lineCount(Vr),zn=ne*Hr.fontSize,ta=Bt.heightFn(Hr,R(Mr)?+Mr:0,(Pn-1)*zn);if(ta&&(dn+=v(0,ta)),nn.empty()){var oa=Vr.select("text");oa.attr({transform:dn,"text-anchor":bn}),oa.style("opacity",1),We._adjustTickLabelsOverflow&&We._adjustTickLabelsOverflow()}else{var ya=l.bBox(nn.node()).width,ca=ya*{end:-.5,start:.5}[bn];nn.attr("transform",dn+v(ca,0))}})}We._adjustTickLabelsOverflow=function(){var Tr=We.ticklabeloverflow;if(!(!Tr||Tr==="allow")){var Mr=Tr.indexOf("hide")!==-1,Hr=We._id.charAt(0)==="x",Vr=0,nn=Hr?je._fullLayout.width:je._fullLayout.height;if(Tr.indexOf("domain")!==-1){var bn=T.simpleMap(We.range,We.r2l);Vr=We.l2p(bn[0])+We._offset,nn=We.l2p(bn[1])+We._offset}var dn=Math.min(Vr,nn),Pn=Math.max(Vr,nn),zn=We.side,ta=1/0,oa=-1/0;mr.each(function(Pr){var hn=g.select(this),un=hn.select(".text-math-group");if(un.empty()){var wn=l.bBox(hn.node()),Zn=0;Hr?(wn.right>Pn||wn.left<dn)&&(Zn=1):(wn.bottom>Pn||wn.top+(We.tickangle?0:Pr.fontSize/4)<dn)&&(Zn=1);var In=hn.select("text");Zn?Mr&&In.style("opacity",0):(In.style("opacity",1),zn==="bottom"||zn==="right"?ta=Math.min(ta,Hr?wn.top:wn.left):ta=-1/0,zn==="top"||zn==="left"?oa=Math.max(oa,Hr?wn.bottom:wn.right):oa=1/0)}});for(var ya in zt._plots){var ca=zt._plots[ya];if(!(We._id!==ca.xaxis._id&&We._id!==ca.yaxis._id)){var la=Hr?ca.yaxis:ca.xaxis;la&&(la["_visibleLabelMin_"+We._id]=ta,la["_visibleLabelMax_"+We._id]=oa)}}}},We._hideCounterAxisInsideTickLabels=function(Tr){var Mr=We._id.charAt(0)==="x",Hr=[];for(var Vr in zt._plots){var nn=zt._plots[Vr];We._id!==nn.xaxis._id&&We._id!==nn.yaxis._id||Hr.push(Mr?nn.yaxis:nn.xaxis)}Hr.forEach(function(bn,dn){bn&&er(bn)&&(Tr||[I,z,U,N,B]).forEach(function(Pn){var zn=Pn.K==="tick"&&Pn.L==="text"&&We.ticklabelmode==="period",ta=zt._plots[We._mainSubplot],oa;Pn.K===I.K?oa=ta.zerolinelayer.selectAll("."+We._id+"zl"):Pn.K===z.K?oa=ta.minorGridlayer.selectAll("."+We._id):Pn.K===U.K?oa=ta.gridlayer.selectAll("."+We._id):oa=ta[We._id.charAt(0)+"axislayer"],oa.each(function(){var ya=g.select(this);Pn.L&&(ya=ya.selectAll(Pn.L)),ya.each(function(ca){var la=We.l2p(zn?Gt(ca):ca.x)+We._offset,Pr=g.select(this);la<We["_visibleLabelMax_"+bn._id]&&la>We["_visibleLabelMin_"+bn._id]?Pr.style("display","none"):Pn.K==="tick"&&!dn&&Pr.style("display",null)})})})})},Zr(mr,yr+1?yr:vr);function Ur(){return gr.length&&Promise.all(gr)}var Br=null;function Tn(){if(Zr(mr,vr),nr.length&&lr==="x"&&!R(vr)&&(We.type!=="log"||String(We.dtick).charAt(0)!=="D")){Br=0;var Tr=0,Mr=[],Hr;if(mr.each(function(wn){Tr=Math.max(Tr,wn.fontSize);var Zn=We.l2p(wn.x),In=Ar(this),Dn=l.bBox(In.node());Mr.push({top:0,bottom:10,height:10,left:Zn-Dn.width/2,right:Zn+Dn.width/2+2,width:Dn.width+2})}),(We.tickson==="boundaries"||We.showdividers)&&!kt.secondary){var Vr=2;for(We.ticks&&(Vr+=We.tickwidth/2),Hr=0;Hr<Mr.length;Hr++){var nn=nr[Hr].xbnd,bn=Mr[Hr];if(nn[0]!==null&&bn.left-We.l2p(nn[0])<Vr||nn[1]!==null&&We.l2p(nn[1])-bn.right<Vr){Br=90;break}}}else{var dn=nr.length,Pn=Math.abs((nr[dn-1].x-nr[0].x)*We._m)/(dn-1),zn=We.ticklabelposition||"",ta=function(wn){return zn.indexOf(wn)!==-1},oa=ta("top"),ya=ta("left"),ca=ta("right"),la=ta("bottom"),Pr=la||ya||oa||ca,hn=Pr?(We.tickwidth||0)+2*ve:0,un=Pn<Tr*2.5||We.type==="multicategory"||We._name==="realaxis";for(Hr=0;Hr<Mr.length-1;Hr++)if(T.bBoxIntersect(Mr[Hr],Mr[Hr+1],hn)){Br=un?90:30;break}}Br&&Zr(mr,Br)}}We._selections&&(We._selections[cr]=mr);var Kr=[Ur];We.automargin&&zt._redrawFromAutoMarginCount&&yr===90?(Br=90,Kr.push(function(){Zr(mr,yr)})):Kr.push(Tn),We._tickAngles&&Kr.push(function(){We._tickAngles[cr]=Br===null?R(vr)?vr:0:Br});var Bn=We._anchorAxis;Bn&&Bn.autorange&&er(We)&&!te(zt,We._id)&&(zt._insideTickLabelsAutorange||(zt._insideTickLabelsAutorange={}),zt._insideTickLabelsAutorange[Bn._name+".autorange"]=Bn.autorange,Kr.push(function(){mr.each(function(Mr,Hr){var Vr=Ar(this),nn=Vr.select(".text-math-group");nn.empty()&&(We._vals[Hr].bb=l.bBox(Vr.node()))})}));var On=T.syncOrAsync(Kr);return On&&On.then&&je._promises.push(On),On};function Qt(je,We,kt){var zt=We._id+"divider",Xt=kt.vals,lr=kt.layer.selectAll("path."+zt).data(Xt,Pt);lr.exit().remove(),lr.enter().insert("path",":first-child").classed(zt,1).classed("crisp",1).call(r.stroke,We.dividercolor).style("stroke-width",l.crispRound(je,We.dividerwidth,1)+"px"),lr.attr("transform",kt.transFn).attr("d",kt.path)}J.getPxPosition=function(je,We){var kt=je._fullLayout._size,zt=We._id.charAt(0),Xt=We.side,lr;if(We.anchor!=="free"?lr=We._anchorAxis:zt==="x"?lr={_offset:kt.t+(1-(We.position||0))*kt.h,_length:0}:zt==="y"&&(lr={_offset:kt.l+(We.position||0)*kt.w+We._shift,_length:0}),Xt==="top"||Xt==="left")return lr._offset;if(Xt==="bottom"||Xt==="right")return lr._offset+lr._length};function or(je){var We=je.title.font.size,kt=(je.title.text.match(p.BR_TAG_ALL)||[]).length;return je.title.hasOwnProperty("standoff")?kt?We*(q+kt*ne):We*q:kt?We*(kt+1)*ne:We}function zr(je,We){var kt=je._fullLayout,zt=We._id,Xt=zt.charAt(0),lr=We.title.font.size,cr;if(We.title.hasOwnProperty("standoff"))cr=We._depth+We.title.standoff+or(We);else{var nr=er(We);if(We.type==="multicategory")cr=We._depth;else{var Bt=1.5*lr;nr&&(Bt=.5*lr,We.ticks==="outside"&&(Bt+=We.ticklen)),cr=10+Bt+(We.linewidth?We.linewidth-1:0)}nr||(Xt==="x"?cr+=We.side==="top"?lr*(We.showticklabels?1:0):lr*(We.showticklabels?1.5:.5):cr+=We.side==="right"?lr*(We.showticklabels?1:.5):lr*(We.showticklabels?.5:0))}var vr=J.getPxPosition(je,We),yr,mr,gr;Xt==="x"?(mr=We._offset+We._length/2,gr=We.side==="top"?vr-cr:vr+cr):(gr=We._offset+We._length/2,mr=We.side==="right"?vr+cr:vr-cr,yr={rotate:"-90",offset:0});var Zr;if(We.type!=="multicategory"){var Ur=We._selections[We._id+"tick"];if(Zr={selection:Ur,side:We.side},Ur&&Ur.node()&&Ur.node().parentNode){var Br=l.getTranslate(Ur.node().parentNode);Zr.offsetLeft=Br.x,Zr.offsetTop=Br.y}We.title.hasOwnProperty("standoff")&&(Zr.pad=0)}return We._titleStandoff=cr,t.draw(je,zt+"title",{propContainer:We,propName:We._name+".title.text",placeholder:kt._dfltTitle[Xt],avoid:Zr,transform:yr,attributes:{x:mr,y:gr,"text-anchor":"middle"}})}J.shouldShowZeroLine=function(je,We,kt){var zt=T.simpleMap(We.range,We.r2l);return zt[0]*zt[1]<=0&&We.zeroline&&(We.type==="linear"||We.type==="-")&&!(We.rangebreaks&&We.maskBreaks(0)===k)&&(bt(We,0)||!Jt(je,We,kt,zt)||Zt(je,We))},J.clipEnds=function(je,We){return We.filter(function(kt){return bt(je,kt.x)})};function bt(je,We){var kt=je.l2p(We);return kt>1&&kt<je._length-1}function Jt(je,We,kt,zt){var Xt=kt._mainAxis;if(!Xt)return;var lr=je._fullLayout,cr=We._id.charAt(0),nr=J.counterLetter(We._id),Bt=We._offset+(Math.abs(zt[0])<Math.abs(zt[1])==(cr==="x")?0:We._length);function vr(Ur){if(!Ur.showline||!Ur.linewidth)return!1;var Br=Math.max((Ur.linewidth+We.zerolinewidth)/2,1);function Tn(On){return typeof On=="number"&&Math.abs(On-Bt)<Br}if(Tn(Ur._mainLinePosition)||Tn(Ur._mainMirrorPosition))return!0;var Kr=Ur._linepositions||{};for(var Bn in Kr)if(Tn(Kr[Bn][0])||Tn(Kr[Bn][1]))return!0}var yr=lr._plots[kt._mainSubplot];if(!(yr.mainplotinfo||yr).overlays.length)return vr(kt);for(var mr=J.list(je,nr),gr=0;gr<mr.length;gr++){var Zr=mr[gr];if(Zr._mainAxis===Xt&&vr(Zr))return!0}}function Zt(je,We){for(var kt=je._fullData,zt=We._mainSubplot,Xt=We._id.charAt(0),lr=0;lr<kt.length;lr++){var cr=kt[lr];if(cr.visible===!0&&cr.xaxis+cr.yaxis===zt&&(L.traceIs(cr,"bar-like")&&cr.orientation==={x:"h",y:"v"}[Xt]||cr.fill&&cr.fill.charAt(cr.fill.length-1)===Xt))return!0}return!1}function Ar(je){var We=g.select(je),kt=We.select(".text-math-group");return kt.empty()?We.select("text"):kt}J.allowAutoMargin=function(je){for(var We=J.list(je,"",!0),kt=0;kt<We.length;kt++){var zt=We[kt];zt.automargin&&(i.allowAutoMargin(je,dr(zt)),zt.mirror&&i.allowAutoMargin(je,ht(zt))),L.getComponentMethod("rangeslider","isVisible")(zt)&&i.allowAutoMargin(je,ct(zt))}};function dr(je){return je._id+".automargin"}function ht(je){return dr(je)+".mirror"}function ct(je){return je._id+".rangeslider"}J.swap=function(je,We){for(var kt=wt(je,We),zt=0;zt<kt.length;zt++)Rt(je,kt[zt].x,kt[zt].y)};function wt(je,We){var kt=[],zt,Xt;for(zt=0;zt<We.length;zt++){var lr=[],cr=je._fullData[We[zt]].xaxis,nr=je._fullData[We[zt]].yaxis;if(!(!cr||!nr)){for(Xt=0;Xt<kt.length;Xt++)(kt[Xt].x.indexOf(cr)!==-1||kt[Xt].y.indexOf(nr)!==-1)&&lr.push(Xt);if(!lr.length){kt.push({x:[cr],y:[nr]});continue}var Bt=kt[lr[0]],vr;if(lr.length>1)for(Xt=1;Xt<lr.length;Xt++)vr=kt[lr[Xt]],St(Bt.x,vr.x),St(Bt.y,vr.y);St(Bt.x,[cr]),St(Bt.y,[nr])}}return kt}function St(je,We){for(var kt=0;kt<We.length;kt++)je.indexOf(We[kt])===-1&&je.push(We[kt])}function Rt(je,We,kt){var zt=[],Xt=[],lr=je.layout,cr,nr;for(cr=0;cr<We.length;cr++)zt.push(J.getFromId(je,We[cr]));for(cr=0;cr<kt.length;cr++)Xt.push(J.getFromId(je,kt[cr]));var Bt=Object.keys(n),vr=["anchor","domain","overlaying","position","side","tickangle","editType"],yr=["linear","log"];for(cr=0;cr<Bt.length;cr++){var mr=Bt[cr],gr=zt[0][mr],Zr=Xt[0][mr],Ur=!0,Br=!1,Tn=!1;if(!(mr.charAt(0)==="_"||typeof gr=="function"||vr.indexOf(mr)!==-1)){for(nr=1;nr<zt.length&&Ur;nr++){var Kr=zt[nr][mr];mr==="type"&&yr.indexOf(gr)!==-1&&yr.indexOf(Kr)!==-1&&gr!==Kr?Br=!0:Kr!==gr&&(Ur=!1)}for(nr=1;nr<Xt.length&&Ur;nr++){var Bn=Xt[nr][mr];mr==="type"&&yr.indexOf(Zr)!==-1&&yr.indexOf(Bn)!==-1&&Zr!==Bn?Tn=!0:Xt[nr][mr]!==Zr&&(Ur=!1)}Ur&&(Br&&(lr[zt[0]._name].type="linear"),Tn&&(lr[Xt[0]._name].type="linear"),Ct(lr,mr,zt,Xt,je._fullLayout._dfltTitle))}}for(cr=0;cr<je._fullLayout.annotations.length;cr++){var On=je._fullLayout.annotations[cr];We.indexOf(On.xref)!==-1&&kt.indexOf(On.yref)!==-1&&T.swapAttrs(lr.annotations[cr],["?"])}}function Ct(je,We,kt,zt,Xt){var lr=T.nestedProperty,cr=lr(je[kt[0]._name],We).get(),nr=lr(je[zt[0]._name],We).get(),Bt;for(We==="title"&&(cr&&cr.text===Xt.x&&(cr.text=Xt.y),nr&&nr.text===Xt.y&&(nr.text=Xt.x)),Bt=0;Bt<kt.length;Bt++)lr(je,kt[Bt]._name+"."+We).set(nr);for(Bt=0;Bt<zt.length;Bt++)lr(je,zt[Bt]._name+"."+We).set(cr)}function Ot(je){return je._id==="angularaxis"}function Wt(je,We){for(var kt=We._rangebreaks.length,zt=0;zt<kt;zt++){var Xt=We._rangebreaks[zt];if(je>=Xt.min&&je<Xt.max)return Xt.max}return je}function er(je){return(je.ticklabelposition||"").indexOf("inside")!==-1}function $t(je,We){er(je._anchorAxis||{})&&je._hideCounterAxisInsideTickLabels&&je._hideCounterAxisInsideTickLabels(We)}function sr(je,We,kt,zt){var Xt=je.anchor!=="free"&&(je.overlaying===void 0||je.overlaying===!1)?je._id:je.overlaying,lr;zt?lr=je.side==="right"?We:-We:lr=We,Xt in kt||(kt[Xt]={}),je.side in kt[Xt]||(kt[Xt][je.side]=0),kt[Xt][je.side]+=lr}function Cr(je,We){return je.autoshift?We[je.overlaying][je.side]:je.shift||0}},4322:function(G,V,e){var g=e(92770),R=e(71828),i=e(50606).BADNUM,L=R.isArrayOrTypedArray,T=R.isDateTime,v=R.cleanNumber,p=Math.round;G.exports=function(y,h,b){var f=y,o=b.noMultiCategory;if(L(f)&&!f.length)return"-";if(!o&&c(f))return"multicategory";if(o&&Array.isArray(f[0])){for(var d=[],A=0;A<f.length;A++)if(L(f[A]))for(var M=0;M<f[A].length;M++)d.push(f[A][M]);f=d}if(l(f,h))return"date";var C=b.autotypenumbers!=="strict";return s(f,C)?"category":r(f,C)?"linear":"-"};function t(u,y){return y?g(u):typeof u=="number"}function r(u,y){for(var h=u.length,b=0;b<h;b++)if(t(u[b],y))return!0;return!1}function l(u,y){for(var h=u.length,b=n(h),f=0,o=0,d={},A=0;A<h;A+=b){var M=p(A),C=u[M],m=String(C);d[m]||(d[m]=1,T(C,y)&&f++,g(C)&&o++)}return f>o*2}function n(u){return Math.max(1,(u-1)/1e3)}function s(u,y){for(var h=u.length,b=n(h),f=0,o=0,d={},A=0;A<h;A+=b){var M=p(A),C=u[M],m=String(C);if(!d[m]){d[m]=1;var S=typeof C;S==="boolean"?o++:(y?v(C)!==i:S==="number")?f++:S==="string"&&o++}}return o>f*2}function c(u){return L(u[0])&&L(u[1])}},71453:function(G,V,e){var g=e(92770),R=e(73972),i=e(71828),L=e(44467),T=e(85501),v=e(13838),p=e(26218),t=e(38701),r=e(96115),l=e(89426),n=e(15258),s=e(92128),c=e(21994),u=e(85555).WEEKDAY_PATTERN,y=e(85555).HOUR_PATTERN;G.exports=function(d,A,M,C,m){var S=C.letter,x=C.font||{},a=C.splomStash||{},E=M("visible",!C.visibleDflt),w=A._template||{},k=A.type||w.type||"-",I;if(k==="date"){var U=R.getComponentMethod("calendars","handleDefaults");U(d,A,"calendar",C.calendar),C.noTicklabelmode||(I=M("ticklabelmode"))}var z="";(!C.noTicklabelposition||k==="multicategory")&&(z=i.coerce(d,A,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:I==="period"?["outside","inside"]:S==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),C.noTicklabeloverflow||M("ticklabeloverflow",z.indexOf("inside")!==-1?"hide past domain":k==="category"||k==="multicategory"?"allow":"hide past div"),c(A,m);var N=!A.isValidRange(d.range);N&&C.reverseDflt&&(N="reversed");var B=M("autorange",N);B&&(k==="linear"||k==="-")&&M("rangemode"),M("range"),A.cleanRange(),n(d,A,M,C),k!=="category"&&!C.noHover&&M("hoverformat");var F=M("color"),H=F!==v.color.dflt?F:x.color,X=a.label||m._dfltTitle[S];if(l(d,A,M,k,C),!E)return A;M("title.text",X),i.coerceFont(M,"title.font",{family:x.family,size:i.bigFont(x.size),color:H}),p(d,A,M,k);var q=C.hasMinor;if(q&&(L.newContainer(A,"minor"),p(d,A,M,k,{isMinor:!0})),r(d,A,M,k,C),t(d,A,M,C),q){var ne=C.isMinor;C.isMinor=!0,t(d,A,M,C),C.isMinor=ne}s(d,A,M,{dfltColor:F,bgColor:C.bgColor,showGrid:C.showGrid,hasMinor:q,attributes:v}),q&&!A.minor.ticks&&!A.minor.showgrid&&delete A.minor,(A.showline||A.ticks)&&M("mirror");var oe=k==="multicategory";if(!C.noTickson&&(k==="category"||oe)&&(A.ticks||A.showgrid)){var ve;oe&&(ve="boundaries");var J=M("tickson",ve);J==="boundaries"&&delete A.ticklabelposition}if(oe){var Y=M("showdividers");Y&&(M("dividercolor"),M("dividerwidth"))}if(k==="date")if(T(d,A,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:h}),!A.rangebreaks.length)delete A.rangebreaks;else{for(var j=0;j<A.rangebreaks.length;j++)if(A.rangebreaks[j].pattern===u){A._hasDayOfWeekBreaks=!0;break}if(c(A,m),m._has("scattergl")||m._has("splom"))for(var K=0;K<C.data.length;K++){var te=C.data[K];(te.type==="scattergl"||te.type==="splom")&&(te.visible=!1,i.warn(te.type+" traces do not work on axes with rangebreaks. Setting trace "+te.index+" to `visible: false`."))}}return A};function h(o,d,A){function M(I,U){return i.coerce(o,d,v.rangebreaks,I,U)}var C=M("enabled");if(C){var m=M("bounds");if(m&&m.length>=2){var S="",x,a;if(m.length===2){for(x=0;x<2;x++)if(a=f(m[x]),a){S=u;break}}var E=M("pattern",S);if(E===u)for(x=0;x<2;x++)a=f(m[x]),a&&(d.bounds[x]=m[x]=a-1);if(E)for(x=0;x<2;x++)switch(a=m[x],E){case u:if(!g(a)){d.enabled=!1;return}if(a=+a,a!==Math.floor(a)||a<0||a>=7){d.enabled=!1;return}d.bounds[x]=m[x]=a;break;case y:if(!g(a)){d.enabled=!1;return}if(a=+a,a<0||a>24){d.enabled=!1;return}d.bounds[x]=m[x]=a;break}if(A.autorange===!1){var w=A.range;if(w[0]<w[1]){if(m[0]<w[0]&&m[1]>w[1]){d.enabled=!1;return}}else if(m[0]>w[0]&&m[1]<w[1]){d.enabled=!1;return}}}else{var k=M("values");if(k&&k.length)M("dvalue");else{d.enabled=!1;return}}}}var b={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function f(o){if(typeof o=="string")return b[o.substr(0,3).toLowerCase()]}},12663:function(G,V,e){var g=e(31562),R=g.FORMAT_LINK,i=g.DATE_FORMAT_LINK;function L(p,t){return{valType:"string",dflt:"",editType:"none",description:(t?T:v)("hover text",p)+["By default the values are formatted using "+(t?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function T(p,t){return["Sets the "+p+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+R+"."].join(" ")}function v(p,t){return T(p,t)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}G.exports={axisHoverFormat:L,descriptionOnlyNumbers:T,descriptionWithDates:v}},41675:function(G,V,e){var g=e(73972),R=e(85555);V.id2name=function(T){if(!(typeof T!="string"||!T.match(R.AX_ID_PATTERN))){var v=T.split(" ")[0].substr(1);return v==="1"&&(v=""),T.charAt(0)+"axis"+v}},V.name2id=function(T){if(T.match(R.AX_NAME_PATTERN)){var v=T.substr(5);return v==="1"&&(v=""),T.charAt(0)+v}},V.cleanId=function(T,v,p){var t=/( domain)$/.test(T);if(!(typeof T!="string"||!T.match(R.AX_ID_PATTERN))&&!(v&&T.charAt(0)!==v)&&!(t&&!p)){var r=T.split(" ")[0].substr(1).replace(/^0+/,"");return r==="1"&&(r=""),T.charAt(0)+r+(t&&p?" domain":"")}},V.list=function(L,T,v){var p=L._fullLayout;if(!p)return[];var t=V.listIds(L,T),r=new Array(t.length),l;for(l=0;l<t.length;l++){var n=t[l];r[l]=p[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var s=p._subplots.gl3d||[];for(l=0;l<s.length;l++){var c=p[s[l]];T?r.push(c[T+"axis"]):r.push(c.xaxis,c.yaxis,c.zaxis)}}return r},V.listIds=function(L,T){var v=L._fullLayout;if(!v)return[];var p=v._subplots;return T?p[T+"axis"]:p.xaxis.concat(p.yaxis)},V.getFromId=function(L,T,v){var p=L._fullLayout;return T=T===void 0||typeof T!="string"?T:T.replace(" domain",""),v==="x"?T=T.replace(/y[0-9]*/,""):v==="y"&&(T=T.replace(/x[0-9]*/,"")),p[V.id2name(T)]},V.getFromTrace=function(L,T,v){var p=L._fullLayout,t=null;if(g.traceIs(T,"gl3d")){var r=T.scene;r.substr(0,5)==="scene"&&(t=p[r][v+"axis"])}else t=V.getFromId(L,T[v+"axis"]||v);return t},V.idSort=function(L,T){var v=L.charAt(0),p=T.charAt(0);return v!==p?v>p?1:-1:+(L.substr(1)||1)-+(T.substr(1)||1)},V.ref2id=function(L){return/^[xyz]/.test(L)?L.split(" ")[0]:!1};function i(L,T){if(T&&T.length){for(var v=0;v<T.length;v++)if(T[v][L])return!0}return!1}V.isLinked=function(L,T){return i(T,L._axisMatchGroups)||i(T,L._axisConstraintGroups)}},15258:function(G){function V(e,g){var R=g.dataAttr||e._id.charAt(0),i={},L,T,v;if(g.axData)L=g.axData;else for(L=[],T=0;T<g.data.length;T++){var p=g.data[T];p[R+"axis"]===e._id&&L.push(p)}for(T=0;T<L.length;T++){var t=L[T][R];for(v=0;v<t.length;v++){var r=t[v];r!=null&&(i[r]=1)}}return Object.keys(i)}G.exports=function(g,R,i,L){if(R.type==="category"){var T=g.categoryarray,v=Array.isArray(T)&&T.length>0,p;v&&(p="array");var t=i("categoryorder",p),r;t==="array"&&(r=i("categoryarray")),!v&&t==="array"&&(t=R.categoryorder="trace"),t==="trace"?R._initialCategories=[]:t==="array"?R._initialCategories=r.slice():(r=V(R,L).sort(),t==="category ascending"?R._initialCategories=r:t==="category descending"&&(R._initialCategories=r.reverse()))}}},66287:function(G,V,e){var g=e(92770),R=e(71828),i=e(50606),L=i.ONEDAY,T=i.ONEWEEK;V.dtick=function(v,p){var t=p==="log",r=p==="date",l=p==="category",n=r?L:1;if(!v)return n;if(g(v))return v=Number(v),v<=0?n:l?Math.max(1,Math.round(v)):r?Math.max(.1,v):v;if(typeof v!="string"||!(r||t))return n;var s=v.charAt(0),c=v.substr(1);return c=g(c)?Number(c):0,c<=0||!(r&&s==="M"&&c===Math.round(c)||t&&s==="L"||t&&s==="D"&&(c===1||c===2))?n:v},V.tick0=function(v,p,t,r){if(p==="date")return R.cleanDate(v,R.dateTick0(t,r%T===0?1:0));if(!(r==="D1"||r==="D2"))return g(v)?Number(v):0}},85555:function(G,V,e){var g=e(30587).counter;G.exports={idRegex:{x:g("x","( domain)?"),y:g("y","( domain)?")},attrRegex:g("[xy]axis"),xAxisMatch:g("xaxis"),yAxisMatch:g("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(G,V,e){var g=e(71828),R=e(71739),i=e(41675).id2name,L=e(13838),T=e(42449),v=e(21994),p=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;V.handleDefaults=function(h,b,f){var o=f.axIds,d=f.axHasImage,A=b._axisConstraintGroups=[],M=b._axisMatchGroups=[],C,m,S,x,a,E,w,k;for(C=0;C<o.length;C++)x=i(o[C]),a=h[x],E=b[x],r(a,E,{axIds:o,layoutOut:b,hasImage:d[x]});function I(ne,oe){for(C=0;C<ne.length;C++){m=ne[C];for(S in m)b[i(S)][oe]=m}}for(I(M,"_matchGroup"),C=0;C<A.length;C++){m=A[C];for(S in m)if(E=b[i(S)],E.fixedrange){for(var U in m){var z=i(U);(h[z]||{}).fixedrange===!1&&g.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),b[z].fixedrange=!0}break}}for(C=0;C<A.length;){m=A[C];for(S in m){E=b[i(S)],E._matchGroup&&Object.keys(E._matchGroup).length===Object.keys(m).length&&(A.splice(C,1),C--);break}C++}I(A,"_constraintGroup");var N=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],B=!1,F=!1;function H(){k=E[w],w==="rangebreaks"&&(F=E._hasDayOfWeekBreaks)}for(C=0;C<M.length;C++){m=M[C];for(var X=0;X<N.length;X++){w=N[X],k=null;var q;for(S in m)if(x=i(S),a=h[x],E=b[x],w in E){if(!E.matches&&(q=E,w in a)){H();break}k===null&&w in a&&H()}if(w==="range"&&k&&(B=!0),w==="autorange"&&k===null&&B&&(k=!1),k===null&&w in q&&(k=q[w]),k!==null)for(S in m)E=b[i(S)],E[w]=w==="range"?k.slice():k,w==="rangebreaks"&&(E._hasDayOfWeekBreaks=F,v(E,b))}}};function r(h,b,f){var o=f.axIds,d=f.layoutOut,A=f.hasImage,M=d._axisConstraintGroups,C=d._axisMatchGroups,m=b._id,S=m.charAt(0),x=((d._splomAxes||{})[S]||{})[m]||{},a=b._id,E=a.charAt(0)==="x";b._matchGroup=null,b._constraintGroup=null;function w(Y,j){return g.coerce(h,b,L,Y,j)}w("constrain",A?"domain":"range"),g.coerce(h,b,{constraintoward:{valType:"enumerated",values:E?["left","center","right"]:["bottom","middle","top"],dflt:E?"center":"middle"}},"constraintoward");var k=b.type,I,U,z=[];for(I=0;I<o.length;I++)if(U=o[I],U!==a){var N=d[i(U)];N.type===k&&z.push(U)}var B=n(M,a);if(B){var F=[];for(I=0;I<z.length;I++)U=z[I],B[U]||F.push(U);z=F}var H=z.length,X,q;H&&(h.matches||x.matches)&&(X=g.coerce(h,b,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(x.matches)!==-1?x.matches:void 0}},"matches"));var ne=A&&!E?b.anchor:void 0;if(H&&!X&&(h.scaleanchor||ne)&&(q=g.coerce(h,b,{scaleanchor:{valType:"enumerated",values:z}},"scaleanchor",ne)),X){b._matchGroup=s(C,a,X,1);var oe=d[i(X)],ve=l(d,b)/l(d,oe);E!==(X.charAt(0)==="x")&&(ve=(E?"x":"y")+ve),s(M,a,X,ve)}else h.matches&&o.indexOf(h.matches)!==-1&&g.warn("ignored "+b._name+'.matches: "'+h.matches+'" to avoid an infinite loop');if(q){var J=w("scaleratio");J||(J=b.scaleratio=1),s(M,a,q,J)}else h.scaleanchor&&o.indexOf(h.scaleanchor)!==-1&&g.warn("ignored "+b._name+'.scaleanchor: "'+h.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function l(h,b){var f=b.domain;return f||(f=h[i(b.overlaying)].domain),f[1]-f[0]}function n(h,b){for(var f=0;f<h.length;f++)if(h[f][b])return h[f];return null}function s(h,b,f,o){var d,A,M,C,m,S=n(h,b);S===null?(S={},S[b]=1,m=h.length,h.push(S)):m=h.indexOf(S);var x=Object.keys(S);for(d=0;d<h.length;d++)if(M=h[d],d!==m&&M[f]){var a=M[f];for(A=0;A<x.length;A++)C=x[A],M[C]=c(a,c(o,S[C]));h.splice(m,1);return}if(o!==1)for(A=0;A<x.length;A++){var E=x[A];S[E]=c(o,S[E])}S[f]=1}function c(h,b){var f="",o="",d,A;typeof h=="string"&&(f=h.match(/^[xy]*/)[0],d=f.length,h=+h.substr(d)),typeof b=="string"&&(o=b.match(/^[xy]*/)[0],A=o.length,b=+b.substr(A));var M=h*b;return!d&&!A?M:!d||!A||f.charAt(0)===o.charAt(0)?f+o+h*b:d===A?M:(d>A?f.substr(A):o.substr(d))+M}function u(h,b){for(var f=b._size,o=f.h/f.w,d={},A=Object.keys(h),M=0;M<A.length;M++){var C=A[M],m=h[C];if(typeof m=="string"){var S=m.match(/^[xy]*/)[0],x=S.length;m=+m.substr(x);for(var a=S.charAt(0)==="y"?o:1/o,E=0;E<x;E++)m*=a}d[C]=m}return d}V.enforce=function(b){var f=b._fullLayout,o=f._axisConstraintGroups||[],d,A,M,C,m,S,x,a;for(d=0;d<o.length;d++){M=u(o[d],f);var E=Object.keys(M),w=1/0,k=0,I=1/0,U={},z={},N=!1;for(A=0;A<E.length;A++)C=E[A],z[C]=m=f[i(C)],m._inputDomain?m.domain=m._inputDomain.slice():m._inputDomain=m.domain.slice(),m._inputRange||(m._inputRange=m.range.slice()),m.setScale(),U[C]=S=Math.abs(m._m)/M[C],w=Math.min(w,S),(m.constrain==="domain"||!m._constraintShrinkable)&&(I=Math.min(I,S)),delete m._constraintShrinkable,k=Math.max(k,S),m.constrain==="domain"&&(N=!0);if(!(w>p*k&&!N)){for(A=0;A<E.length;A++)if(C=E[A],S=U[C],m=z[C],x=m.constrain,S!==I||x==="domain")if(a=S/I,x==="range")T(m,a);else{var B=m._inputDomain,F=(m.domain[1]-m.domain[0])/(B[1]-B[0]),H=(m.r2l(m.range[1])-m.r2l(m.range[0]))/(m.r2l(m._inputRange[1])-m.r2l(m._inputRange[0]));if(a/=F,a*H<1){m.domain=m._input.domain=B.slice(),T(m,a);continue}if(H<1&&(m.range=m._input.range=m._inputRange.slice(),a*=H),m.autorange){var X=m.r2l(m.range[0]),q=m.r2l(m.range[1]),ne=(X+q)/2,oe=ne,ve=ne,J=Math.abs(q-ne),Y=ne-J*a*1.0001,j=ne+J*a*1.0001,K=R.makePadFn(f,m,0),te=R.makePadFn(f,m,1);y(m,a);var se=Math.abs(m._m),Q=R.concatExtremes(b,m),ee=Q.min,le=Q.max,ie,he;for(he=0;he<ee.length;he++)ie=ee[he].val-K(ee[he])/se,ie>Y&&ie<oe&&(oe=ie);for(he=0;he<le.length;he++)ie=le[he].val+te(le[he])/se,ie<j&&ie>ve&&(ve=ie);var xe=(ve-oe)/(2*J);a/=xe,oe=m.l2r(oe),ve=m.l2r(ve),m.range=m._input.range=X<q?[oe,ve]:[ve,oe]}y(m,a)}}}},V.getAxisGroup=function(b,f){for(var o=b._axisMatchGroups,d=0;d<o.length;d++){var A=o[d];if(A[f])return"g"+d}return f},V.clean=function(b,f){if(f._inputDomain){for(var o=!1,d=f._id,A=b._fullLayout._axisConstraintGroups,M=0;M<A.length;M++)if(A[M][d]){o=!0;break}(!o||f.constrain!=="domain")&&(f._input.domain=f.domain=f._inputDomain,delete f._inputDomain)}};function y(h,b){var f=h._inputDomain,o=t[h.constraintoward],d=f[0]+(f[1]-f[0])*o;h.domain=h._input.domain=[d+(f[0]-d)/b,d+(f[1]-d)/b],h.setScale()}},29323:function(G,V,e){var g=e(39898),R=e(71828),i=R.numberFormat,L=e(84267),T=e(38520),v=e(73972),p=R.strTranslate,t=e(63893),r=e(7901),l=e(91424),n=e(30211),s=e(89298),c=e(6964),u=e(28569),y=e(64505),h=y.selectingOrDrawing,b=y.freeMode,f=e(18783).FROM_TL,o=e(33306),d=e(61549).redrawReglTraces,A=e(74875),M=e(41675).getFromId,C=e(47322).prepSelect,m=e(47322).clearOutline,S=e(47322).selectOnClick,x=e(42449),a=e(85555),E=a.MINDRAG,w=a.MINZOOM,k=!0;function I(ie,he,xe,Se,Ee,Ne,He,Ce){var be=ie._fullLayout._zoomlayer,we=He+Ce==="nsew",ke=(He+Ce).length===1,Fe,Pe,Ge,nt,qe,Ke,$e,vt,yt,mt,Et,Xe,Ue,Be,rt,it,Ye,De,Te,fe,me,Re,Oe;xe+=he.yaxis._shift;function st(){if(Fe=he.xaxis,Pe=he.yaxis,yt=Fe._length,mt=Pe._length,$e=Fe._offset,vt=Pe._offset,Ge={},Ge[Fe._id]=Fe,nt={},nt[Pe._id]=Pe,He&&Ce)for(var nr=he.overlays,Bt=0;Bt<nr.length;Bt++){var vr=nr[Bt].xaxis;Ge[vr._id]=vr;var yr=nr[Bt].yaxis;nt[yr._id]=yr}qe=le(Ge),Ke=le(nt),Ue=N(qe,Ce),Be=N(Ke,He),rt=!Be&&!Ue,Xe=Q(ie,ie._fullLayout._axisMatchGroups,Ge,nt),Et=Q(ie,ie._fullLayout._axisConstraintGroups,Ge,nt,Xe);var mr=Et.isSubplotConstrained||Xe.isSubplotConstrained;it=Ce||mr,Ye=He||mr;var gr=ie._fullLayout;De=gr._has("scattergl"),Te=gr._has("splom"),fe=gr._has("svg")}st();var ut=q(Be+Ue,ie._fullLayout.dragmode,we),Tt=z(he,He+Ce+"drag",ut,xe,Se,Ee,Ne);if(rt&&!we)return Tt.onmousedown=null,Tt.style.pointerEvents="none",Tt;var It={element:Tt,gd:ie,plotinfo:he};It.prepFn=function(nr,Bt,vr){var yr=It.dragmode,mr=ie._fullLayout.dragmode;mr!==yr&&(It.dragmode=mr),st(),Re=ie._fullLayout._invScaleX,Oe=ie._fullLayout._invScaleY,rt||(we?nr.shiftKey?mr==="pan"?mr="zoom":h(mr)||(mr="pan"):nr.ctrlKey&&(mr="pan"):mr="pan"),b(mr)?It.minDrag=1:It.minDrag=void 0,h(mr)?(It.xaxes=qe,It.yaxes=Ke,C(nr,Bt,vr,It,mr)):(It.clickFn=jt,h(yr)&&Gt(),rt||(mr==="zoom"?(It.moveFn=wt,It.doneFn=Rt,It.minDrag=1,ct(nr,Bt,vr)):mr==="pan"&&(It.moveFn=sr,It.doneFn=kt))),ie._fullLayout._redrag=function(){var gr=ie._dragdata;if(gr&&gr.element===Tt){var Zr=ie._fullLayout.dragmode;h(Zr)||(st(),zt([0,0,yt,mt]),It.moveFn(gr.dx,gr.dy))}}};function Gt(){It.plotinfo.selection=!1,m(ie)}function jt(nr,Bt){var vr=It.gd;if(vr._fullLayout._activeShapeIndex>=0){vr._fullLayout._deactivateShape(vr);return}var yr=vr._fullLayout.clickmode;if(Y(vr),nr===2&&!ke&&We(),we)yr.indexOf("select")>-1&&S(Bt,vr,qe,Ke,he.id,It),yr.indexOf("event")>-1&&n.click(vr,Bt,he.id);else if(nr===1&&ke){var mr=He?Pe:Fe,gr=He==="s"||Ce==="w"?0:1,Zr=mr._name+".range["+gr+"]",Ur=B(mr,gr),Br="left",Tn="middle";if(mr.fixedrange)return;He?(Tn=He==="n"?"top":"bottom",mr.side==="right"&&(Br="right")):Ce==="e"&&(Br="right"),vr._context.showAxisRangeEntryBoxes&&g.select(Tt).call(t.makeEditable,{gd:vr,immediate:!0,background:vr._fullLayout.paper_bgcolor,text:String(Ur),fill:mr.tickfont?mr.tickfont.color:"#444",horizontalAlign:Br,verticalAlign:Tn}).on("edit",function(Kr){var Bn=mr.d2r(Kr);Bn!==void 0&&v.call("_guiRelayout",vr,Zr,Bn)})}}u.init(It);var Pt,Qt,or,zr,bt,Jt,Zt,Ar,dr,ht;function ct(nr,Bt,vr){var yr=Tt.getBoundingClientRect();Pt=Bt-yr.left,Qt=vr-yr.top,ie._fullLayout._calcInverseTransform(ie);var mr=R.apply3DTransform(ie._fullLayout._invTransform)(Pt,Qt);Pt=mr[0],Qt=mr[1],or={l:Pt,r:Pt,w:0,t:Qt,b:Qt,h:0},zr=ie._hmpixcount?ie._hmlumcount/ie._hmpixcount:L(ie._fullLayout.plot_bgcolor).getLuminance(),bt="M0,0H"+yt+"V"+mt+"H0V0",Jt=!1,Zt="xy",ht=!1,Ar=ne(be,zr,$e,vt,bt),dr=oe(be,$e,vt)}function wt(nr,Bt){if(ie._transitioningWithDuration)return!1;var vr=Math.max(0,Math.min(yt,Re*nr+Pt)),yr=Math.max(0,Math.min(mt,Oe*Bt+Qt)),mr=Math.abs(vr-Pt),gr=Math.abs(yr-Qt);or.l=Math.min(Pt,vr),or.r=Math.max(Pt,vr),or.t=Math.min(Qt,yr),or.b=Math.max(Qt,yr);function Zr(){Zt="",or.r=or.l,or.t=or.b,dr.attr("d","M0,0Z")}if(Et.isSubplotConstrained)mr>w||gr>w?(Zt="xy",mr/yt>gr/mt?(gr=mr*mt/yt,Qt>yr?or.t=Qt-gr:or.b=Qt+gr):(mr=gr*yt/mt,Pt>vr?or.l=Pt-mr:or.r=Pt+mr),dr.attr("d",se(or))):Zr();else if(Xe.isSubplotConstrained)if(mr>w||gr>w){Zt="xy";var Ur=Math.min(or.l/yt,(mt-or.b)/mt),Br=Math.max(or.r/yt,(mt-or.t)/mt);or.l=Ur*yt,or.r=Br*yt,or.b=(1-Ur)*mt,or.t=(1-Br)*mt,dr.attr("d",se(or))}else Zr();else!Be||gr<Math.min(Math.max(mr*.6,E),w)?mr<E||!Ue?Zr():(or.t=0,or.b=mt,Zt="x",dr.attr("d",K(or,Qt))):!Ue||mr<Math.min(gr*.6,w)?(or.l=0,or.r=yt,Zt="y",dr.attr("d",te(or,Pt))):(Zt="xy",dr.attr("d",se(or)));or.w=or.r-or.l,or.h=or.b-or.t,Zt&&(ht=!0),ie._dragged=ht,ve(Ar,dr,or,bt,Jt,zr),St(),ie.emit("plotly_relayouting",me),Jt=!0}function St(){me={},(Zt==="xy"||Zt==="x")&&(F(qe,or.l/yt,or.r/yt,me,Et.xaxes),Cr("x",me)),(Zt==="xy"||Zt==="y")&&(F(Ke,(mt-or.b)/mt,(mt-or.t)/mt,me,Et.yaxes),Cr("y",me))}function Rt(){St(),Y(ie),kt(),j(ie)}var Ct=[0,0,yt,mt],Ot=null,Wt=a.REDRAWDELAY,er=he.mainplot?ie._fullLayout._plots[he.mainplot]:he;function $t(nr){if(!ie._context._scrollZoom.cartesian&&!ie._fullLayout._enablescrollzoom)return;if(Gt(),ie._transitioningWithDuration){nr.preventDefault(),nr.stopPropagation();return}st(),clearTimeout(Ot);var Bt=-nr.deltaY;if(isFinite(Bt)||(Bt=nr.wheelDelta/10),!isFinite(Bt)){R.log("Did not find wheel motion attributes: ",nr);return}var vr=Math.exp(-Math.min(Math.max(Bt,-20),20)/200),yr=er.draglayer.select(".nsewdrag").node().getBoundingClientRect(),mr=(nr.clientX-yr.left)/yr.width,gr=(yr.bottom-nr.clientY)/yr.height,Zr;function Ur(Br,Tn,Kr){if(Br.fixedrange)return;var Bn=R.simpleMap(Br.range,Br.r2l),On=Bn[0]+(Bn[1]-Bn[0])*Tn;function Tr(Mr){return Br.l2r(On+(Mr-On)*Kr)}Br.range=Bn.map(Tr)}if(it){for(Ce||(mr=.5),Zr=0;Zr<qe.length;Zr++)Ur(qe[Zr],mr,vr);Cr("x"),Ct[2]*=vr,Ct[0]+=Ct[2]*mr*(1/vr-1)}if(Ye){for(He||(gr=.5),Zr=0;Zr<Ke.length;Zr++)Ur(Ke[Zr],gr,vr);Cr("y"),Ct[3]*=vr,Ct[1]+=Ct[3]*(1-gr)*(1/vr-1)}zt(Ct),je(),ie.emit("plotly_relayouting",me),Ot=setTimeout(function(){ie._fullLayout&&(Ct=[0,0,yt,mt],kt())},Wt),nr.preventDefault()}He.length*Ce.length!==1&&ee(Tt,$t);function sr(nr,Bt){if(nr=nr*Re,Bt=Bt*Oe,ie._transitioningWithDuration)return;if(ie._fullLayout._replotting=!0,Ue==="ew"||Be==="ns"){var vr=Ue?-nr:0,yr=Be?-Bt:0;if(Xe.isSubplotConstrained){if(Ue&&Be){var mr=(nr/yt-Bt/mt)/2;nr=mr*yt,Bt=-mr*mt,vr=-nr,yr=-Bt}Be?vr=-yr*yt/mt:yr=-vr*mt/yt}Ue&&(H(qe,nr),Cr("x")),Be&&(H(Ke,Bt),Cr("y")),zt([vr,yr,yt,mt]),je(),ie.emit("plotly_relayouting",me);return}function gr(Tr,Mr,Hr){for(var Vr=1-Mr,nn,bn,dn=0;dn<Tr.length;dn++){var Pn=Tr[dn];if(!Pn.fixedrange){nn=Pn,bn=Pn._rl[Vr]+(Pn._rl[Mr]-Pn._rl[Vr])/X(Hr/Pn._length);var zn=Pn.l2r(bn);zn!==!1&&zn!==void 0&&(Pn.range[Mr]=zn)}}return nn._length*(nn._rl[Mr]-bn)/(nn._rl[Mr]-nn._rl[Vr])}var Zr=Ue==="w"==(Be==="n")?1:-1;if(Ue&&Be&&(Et.isSubplotConstrained||Xe.isSubplotConstrained)){var Ur=(nr/yt+Zr*Bt/mt)/2;nr=Ur*yt,Bt=Zr*Ur*mt}var Br,Tn;if(Ue==="w"?nr=gr(qe,0,nr):Ue==="e"?nr=gr(qe,1,-nr):Ue||(nr=0),Be==="n"?Bt=gr(Ke,1,Bt):Be==="s"?Bt=gr(Ke,0,-Bt):Be||(Bt=0),Br=Ue==="w"?nr:0,Tn=Be==="n"?Bt:0,Et.isSubplotConstrained&&!Xe.isSubplotConstrained||Xe.isSubplotConstrained&&Ue&&Be&&Zr>0){var Kr;if(Xe.isSubplotConstrained||!Ue&&Be.length===1){for(Kr=0;Kr<qe.length;Kr++)qe[Kr].range=qe[Kr]._r.slice(),x(qe[Kr],1-Bt/mt);nr=Bt*yt/mt,Br=nr/2}if(Xe.isSubplotConstrained||!Be&&Ue.length===1){for(Kr=0;Kr<Ke.length;Kr++)Ke[Kr].range=Ke[Kr]._r.slice(),x(Ke[Kr],1-nr/yt);Bt=nr*mt/yt,Tn=Bt/2}}(!Xe.isSubplotConstrained||!Be)&&Cr("x"),(!Xe.isSubplotConstrained||!Ue)&&Cr("y");var Bn=yt-nr,On=mt-Bt;Xe.isSubplotConstrained&&!(Ue&&Be)&&(Ue?(Tn=Br?0:nr*mt/yt,On=Bn*mt/yt):(Br=Tn?0:Bt*yt/mt,Bn=On*yt/mt)),zt([Br,Tn,Bn,On]),je(),ie.emit("plotly_relayouting",me)}function Cr(nr,Bt){for(var vr=Xe.isSubplotConstrained?{x:Ke,y:qe}[nr]:Xe[nr+"axes"],yr=Xe.isSubplotConstrained?{x:qe,y:Ke}[nr]:[],mr=0;mr<vr.length;mr++){var gr=vr[mr],Zr=gr._id,Ur=Xe.xLinks[Zr]||Xe.yLinks[Zr],Br=yr[0]||Ge[Ur]||nt[Ur];Br&&(Bt?(Bt[gr._name+".range[0]"]=Bt[Br._name+".range[0]"],Bt[gr._name+".range[1]"]=Bt[Br._name+".range[1]"]):gr.range=Br.range.slice())}}function je(){var nr=[],Bt;function vr(Zr){for(Bt=0;Bt<Zr.length;Bt++)Zr[Bt].fixedrange||nr.push(Zr[Bt]._id)}function yr(Zr,Ur){for(Bt=0;Bt<Zr.length;Bt++){var Br=Zr[Bt],Tn=Br[Ur];!Br.fixedrange&&Tn.tickmode==="sync"&&nr.push(Tn._id)}}for(it&&(vr(qe),vr(Et.xaxes),vr(Xe.xaxes),yr(he.overlays,"xaxis")),Ye&&(vr(Ke),vr(Et.yaxes),vr(Xe.yaxes),yr(he.overlays,"yaxis")),me={},Bt=0;Bt<nr.length;Bt++){var mr=nr[Bt],gr=M(ie,mr);s.drawOne(ie,gr,{skipTitle:!0}),me[gr._name+".range[0]"]=gr.range[0],me[gr._name+".range[1]"]=gr.range[1]}s.redrawComponents(ie,nr)}function We(){if(!ie._transitioningWithDuration){var nr=ie._context.doubleClick,Bt=[];Ue&&(Bt=Bt.concat(qe)),Be&&(Bt=Bt.concat(Ke)),Xe.xaxes&&(Bt=Bt.concat(Xe.xaxes)),Xe.yaxes&&(Bt=Bt.concat(Xe.yaxes));var vr={},yr,mr,gr;if(nr==="reset+autosize"){for(nr="autosize",mr=0;mr<Bt.length;mr++)if(yr=Bt[mr],yr._rangeInitial&&(yr.range[0]!==yr._rangeInitial[0]||yr.range[1]!==yr._rangeInitial[1])||!yr._rangeInitial&&!yr.autorange){nr="reset";break}}if(nr==="autosize")for(mr=0;mr<Bt.length;mr++)yr=Bt[mr],yr.fixedrange||(vr[yr._name+".autorange"]=!0);else if(nr==="reset")for((Ue||Et.isSubplotConstrained)&&(Bt=Bt.concat(Et.xaxes)),Be&&!Et.isSubplotConstrained&&(Bt=Bt.concat(Et.yaxes)),Et.isSubplotConstrained&&(Ue?Be||(Bt=Bt.concat(Ke)):Bt=Bt.concat(qe)),mr=0;mr<Bt.length;mr++)yr=Bt[mr],yr.fixedrange||(yr._rangeInitial?(gr=yr._rangeInitial,vr[yr._name+".range[0]"]=gr[0],vr[yr._name+".range[1]"]=gr[1]):vr[yr._name+".autorange"]=!0);ie.emit("plotly_doubleclick",null),v.call("_guiRelayout",ie,vr)}}function kt(){zt([0,0,yt,mt]),R.syncOrAsync([A.previousPromises,function(){ie._fullLayout._replotting=!1,v.call("_guiRelayout",ie,me)}],ie)}function zt(nr){var Bt=ie._fullLayout,vr=Bt._plots,yr=Bt._subplots.cartesian,mr,gr,Zr,Ur;if(Te&&v.subplotsRegistry.splom.drag(ie),De){for(mr=0;mr<yr.length;mr++)if(gr=vr[yr[mr]],Zr=gr.xaxis,Ur=gr.yaxis,gr._scene){var Br=R.simpleMap(Zr.range,Zr.r2l),Tn=R.simpleMap(Ur.range,Ur.r2l);gr._scene.update({range:[Br[0],Tn[0],Br[1],Tn[1]]})}}if((Te||De)&&(o(ie),d(ie)),fe){var Kr=nr[2]/Fe._length,Bn=nr[3]/Pe._length;for(mr=0;mr<yr.length;mr++){gr=vr[yr[mr]],Zr=gr.xaxis,Ur=gr.yaxis;var On=(it||Xe.isSubplotConstrained)&&!Zr.fixedrange&&Ge[Zr._id],Tr=(Ye||Xe.isSubplotConstrained)&&!Ur.fixedrange&&nt[Ur._id],Mr,Hr,Vr,nn;if(On?(Mr=Kr,Vr=Ce||Xe.isSubplotConstrained?nr[0]:cr(Zr,Mr)):Xe.xaHash[Zr._id]?(Mr=Kr,Vr=nr[0]*Zr._length/Fe._length):Xe.yaHash[Zr._id]?(Mr=Bn,Vr=Be==="ns"?-nr[1]*Zr._length/Pe._length:cr(Zr,Mr,{n:"top",s:"bottom"}[Be])):(Mr=Xt(Zr,Kr,Bn),Vr=lr(Zr,Mr)),Tr?(Hr=Bn,nn=He||Xe.isSubplotConstrained?nr[1]:cr(Ur,Hr)):Xe.yaHash[Ur._id]?(Hr=Bn,nn=nr[1]*Ur._length/Pe._length):Xe.xaHash[Ur._id]?(Hr=Kr,nn=Ue==="ew"?-nr[0]*Ur._length/Fe._length:cr(Ur,Hr,{e:"right",w:"left"}[Ue])):(Hr=Xt(Ur,Kr,Bn),nn=lr(Ur,Hr)),!(!Mr&&!Hr)){Mr||(Mr=1),Hr||(Hr=1);var bn=Zr._offset-Vr/Mr,dn=Ur._offset-nn/Hr;gr.clipRect.call(l.setTranslate,Vr,nn).call(l.setScale,Mr,Hr),gr.plot.call(l.setTranslate,bn,dn).call(l.setScale,1/Mr,1/Hr),(Mr!==gr.xScaleFactor||Hr!==gr.yScaleFactor)&&(l.setPointGroupScale(gr.zoomScalePts,Mr,Hr),l.setTextPointsScale(gr.zoomScaleTxt,Mr,Hr)),l.hideOutsideRangePoints(gr.clipOnAxisFalseTraces,gr),gr.xScaleFactor=Mr,gr.yScaleFactor=Hr}}}}function Xt(nr,Bt,vr){return nr.fixedrange?0:it&&Et.xaHash[nr._id]?Bt:Ye&&(Et.isSubplotConstrained?Et.xaHash:Et.yaHash)[nr._id]?vr:0}function lr(nr,Bt){return Bt?(nr.range=nr._r.slice(),x(nr,Bt),cr(nr,Bt)):0}function cr(nr,Bt,vr){return nr._length*(1-Bt)*f[vr||nr.constraintoward||"middle"]}return Tt}function U(ie,he,xe,Se){var Ee=R.ensureSingle(ie.draglayer,he,xe,function(Ne){Ne.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ie.id)});return Ee.call(c,Se),Ee.node()}function z(ie,he,xe,Se,Ee,Ne,He){var Ce=U(ie,"rect",he,xe);return g.select(Ce).call(l.setRect,Se,Ee,Ne,He),Ce}function N(ie,he){for(var xe=0;xe<ie.length;xe++)if(!ie[xe].fixedrange)return he;return""}function B(ie,he){var xe=ie.range[he],Se=Math.abs(xe-ie.range[1-he]),Ee;return ie.type==="date"?xe:ie.type==="log"?(Ee=Math.ceil(Math.max(0,-Math.log(Se)/Math.LN10))+3,i("."+Ee+"g")(Math.pow(10,xe))):(Ee=Math.floor(Math.log(Math.abs(xe))/Math.LN10)-Math.floor(Math.log(Se)/Math.LN10)+4,i("."+String(Ee)+"g")(xe))}function F(ie,he,xe,Se,Ee){for(var Ne=0;Ne<ie.length;Ne++){var He=ie[Ne];if(!He.fixedrange)if(He.rangebreaks){var Ce=He._id.charAt(0)==="y",be=Ce?1-he:he,we=Ce?1-xe:xe;Se[He._name+".range[0]"]=He.l2r(He.p2l(be*He._length)),Se[He._name+".range[1]"]=He.l2r(He.p2l(we*He._length))}else{var ke=He._rl[0],Fe=He._rl[1]-ke;Se[He._name+".range[0]"]=He.l2r(ke+Fe*he),Se[He._name+".range[1]"]=He.l2r(ke+Fe*xe)}}if(Ee&&Ee.length){var Pe=(he+(1-xe))/2;F(Ee,Pe,1-Pe,Se,[])}}function H(ie,he){for(var xe=0;xe<ie.length;xe++){var Se=ie[xe];if(!Se.fixedrange)if(Se.rangebreaks){var Ee=0,Ne=Se._length,He=Se.p2l(Ee+he)-Se.p2l(Ee),Ce=Se.p2l(Ne+he)-Se.p2l(Ne),be=(He+Ce)/2;Se.range=[Se.l2r(Se._rl[0]-be),Se.l2r(Se._rl[1]-be)]}else Se.range=[Se.l2r(Se._rl[0]-he/Se._m),Se.l2r(Se._rl[1]-he/Se._m)]}}function X(ie){return 1-(ie>=0?Math.min(ie,.9):1/(1/Math.max(ie,-.3)+3.222))}function q(ie,he,xe){return ie?ie==="nsew"?xe?"":he==="pan"?"move":"crosshair":ie.toLowerCase()+"-resize":"pointer"}function ne(ie,he,xe,Se,Ee){return ie.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(xe,Se)).attr("d",Ee+"Z")}function oe(ie,he,xe){return ie.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(he,xe)).attr("d","M0,0Z")}function ve(ie,he,xe,Se,Ee,Ne){ie.attr("d",Se+"M"+xe.l+","+xe.t+"v"+xe.h+"h"+xe.w+"v-"+xe.h+"h-"+xe.w+"Z"),J(ie,he,Ee,Ne)}function J(ie,he,xe,Se){xe||(ie.transition().style("fill",Se>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function Y(ie){g.select(ie).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function j(ie){k&&ie.data&&ie._context.showTips&&(R.notifier(R._(ie,"Double-click to zoom back out"),"long"),k=!1)}function K(ie,he){return"M"+(ie.l-.5)+","+(he-w-.5)+"h-3v"+(2*w+1)+"h3ZM"+(ie.r+.5)+","+(he-w-.5)+"h3v"+(2*w+1)+"h-3Z"}function te(ie,he){return"M"+(he-w-.5)+","+(ie.t-.5)+"v-3h"+(2*w+1)+"v3ZM"+(he-w-.5)+","+(ie.b+.5)+"v3h"+(2*w+1)+"v-3Z"}function se(ie){var he=Math.floor(Math.min(ie.b-ie.t,ie.r-ie.l,w)/2);return"M"+(ie.l-3.5)+","+(ie.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(ie.r+3.5)+","+(ie.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(ie.r+3.5)+","+(ie.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(ie.l-3.5)+","+(ie.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function Q(ie,he,xe,Se,Ee){for(var Ne=!1,He={},Ce={},be,we,ke,Fe,Pe=(Ee||{}).xaHash,Ge=(Ee||{}).yaHash,nt=0;nt<he.length;nt++){var qe=he[nt];for(be in xe)if(qe[be]){for(ke in qe)!(Ee&&(Pe[ke]||Ge[ke]))&&!(ke.charAt(0)==="x"?xe:Se)[ke]&&(He[ke]=be);for(we in Se)!(Ee&&(Pe[we]||Ge[we]))&&qe[we]&&(Ne=!0)}for(we in Se)if(qe[we])for(Fe in qe)!(Ee&&(Pe[Fe]||Ge[Fe]))&&!(Fe.charAt(0)==="x"?xe:Se)[Fe]&&(Ce[Fe]=we)}Ne&&(R.extendFlat(He,Ce),Ce={});var Ke={},$e=[];for(ke in He){var vt=M(ie,ke);$e.push(vt),Ke[vt._id]=vt}var yt={},mt=[];for(Fe in Ce){var Et=M(ie,Fe);mt.push(Et),yt[Et._id]=Et}return{xaHash:Ke,yaHash:yt,xaxes:$e,yaxes:mt,xLinks:He,yLinks:Ce,isSubplotConstrained:Ne}}function ee(ie,he){if(!T)ie.onwheel!==void 0?ie.onwheel=he:ie.onmousewheel!==void 0?ie.onmousewheel=he:ie.isAddedWheelEvent||(ie.isAddedWheelEvent=!0,ie.addEventListener("wheel",he,{passive:!1}));else{var xe=ie.onwheel!==void 0?"wheel":"mousewheel";ie._onwheel&&ie.removeEventListener(xe,ie._onwheel),ie._onwheel=he,ie.addEventListener(xe,he,{passive:!1})}}function le(ie){var he=[];for(var xe in ie)he.push(ie[xe]);return he}G.exports={makeDragBox:I,makeDragger:U,makeRectDragger:z,makeZoombox:ne,makeCorners:oe,updateZoombox:ve,xyCorners:se,transitionZoombox:J,removeZoombox:Y,showDoubleClickNotifier:j,attachWheelEventHandler:ee}},4305:function(G,V,e){var g=e(39898),R=e(30211),i=e(28569),L=e(6964),T=e(29323).makeDragBox,v=e(85555).DRAGGERSIZE;V.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot){g.select(t).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var l=Object.keys(r._plots||{}).sort(function(s,c){if((r._plots[s].mainplot&&!0)===(r._plots[c].mainplot&&!0)){var u=s.split("y"),y=c.split("y");return u[0]===y[0]?Number(u[1]||1)-Number(y[1]||1):Number(u[0]||1)-Number(y[0]||1)}return r._plots[s].mainplot?1:-1});l.forEach(function(s){var c=r._plots[s],u=c.xaxis,y=c.yaxis;if(!c.mainplot){var h=T(t,c,u._offset,y._offset,u._length,y._length,"ns","ew");h.onmousemove=function(o){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===s&&t._fullLayout._plots[s]&&R.hover(t,o,s)},R.hover(t,o,s),t._fullLayout._lasthover=h,t._fullLayout._hoversubplot=s},h.onmouseout=function(o){t._dragging||(t._fullLayout._hoversubplot=null,i.unhover(t,o))},t._context.showAxisDragHandles&&(T(t,c,u._offset-v,y._offset-v,v,v,"n","w"),T(t,c,u._offset+u._length,y._offset-v,v,v,"n","e"),T(t,c,u._offset-v,y._offset+y._length,v,v,"s","w"),T(t,c,u._offset+u._length,y._offset+y._length,v,v,"s","e"))}if(t._context.showAxisDragHandles){if(s===u._mainSubplot){var b=u._mainLinePosition;u.side==="top"&&(b-=v),T(t,c,u._offset+u._length*.1,b,u._length*.8,v,"","ew"),T(t,c,u._offset,b,u._length*.1,v,"","w"),T(t,c,u._offset+u._length*.9,b,u._length*.1,v,"","e")}if(s===y._mainSubplot){var f=y._mainLinePosition;y.side!=="right"&&(f-=v),T(t,c,f,y._offset+y._length*.1,v,y._length*.8,"ns",""),T(t,c,f,y._offset+y._length*.9,v,y._length*.1,"s",""),T(t,c,f,y._offset,v,y._length*.1,"n","")}}});var n=r._hoverlayer.node();n.onmousemove=function(s){s.target=t._fullLayout._lasthover,R.hover(t,s,r._hoversubplot)},n.onclick=function(s){s.target=t._fullLayout._lasthover,R.click(t,s)},n.onmousedown=function(s){t._fullLayout._lasthover.onmousedown(s)},V.updateFx(t)}},V.updateFx=function(p){var t=p._fullLayout,r=t.dragmode==="pan"?"move":"crosshair";L(t._draggers,r)}},76325:function(G,V,e){var g=e(73972),R=e(71828),i=e(41675);G.exports=function(T){return function(p,t){var r=p[T];if(Array.isArray(r))for(var l=g.subplotsRegistry.cartesian,n=l.idRegex,s=t._subplots,c=s.xaxis,u=s.yaxis,y=s.cartesian,h=t._has("cartesian")||t._has("gl2d"),b=0;b<r.length;b++){var f=r[b];if(R.isPlainObject(f)){var o=i.cleanId(f.xref,"x",!1),d=i.cleanId(f.yref,"y",!1),A=n.x.test(o),M=n.y.test(d);if(A||M){h||R.pushUnique(t._basePlotModules,l);var C=!1;A&&c.indexOf(o)===-1&&(c.push(o),C=!0),M&&u.indexOf(d)===-1&&(u.push(d),C=!0),C&&A&&M&&y.push(o+d)}}}}}},93612:function(G,V,e){var g=e(39898),R=e(73972),i=e(71828),L=e(74875),T=e(91424),v=e(27659).a0,p=e(41675),t=e(85555),r=e(77922),l=i.ensureSingle;function n(b,f,o){return i.ensureSingle(b,f,o,function(d){d.datum(o)})}V.name="cartesian",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=t.idRegex,V.attrRegex=t.attrRegex,V.attributes=e(89502),V.layoutAttributes=e(13838),V.supplyLayoutDefaults=e(86763),V.transitionAxes=e(66847),V.finalizeSubplots=function(b,f){var o=f._subplots,d=o.xaxis,A=o.yaxis,M=o.cartesian,C=M.concat(o.gl2d||[]),m={},S={},x,a,E;for(x=0;x<C.length;x++){var w=C[x].split("y");m[w[0]]=1,S["y"+w[1]]=1}for(x=0;x<d.length;x++)a=d[x],m[a]||(E=(b[p.id2name(a)]||{}).anchor,t.idRegex.y.test(E)||(E="y"),M.push(a+E),C.push(a+E),S[E]||(S[E]=1,i.pushUnique(A,E)));for(x=0;x<A.length;x++)E=A[x],S[E]||(a=(b[p.id2name(E)]||{}).anchor,t.idRegex.x.test(a)||(a="x"),M.push(a+E),C.push(a+E),m[a]||(m[a]=1,i.pushUnique(d,a)));if(!C.length){a="",E="";for(var k in b)if(t.attrRegex.test(k)){var I=k.charAt(0);I==="x"?(!a||+k.substr(5)<+a.substr(5))&&(a=k):(!E||+k.substr(5)<+E.substr(5))&&(E=k)}a=a?p.name2id(a):"x",E=E?p.name2id(E):"y",d.push(a),A.push(E),M.push(a+E)}},V.plot=function(b,f,o,d){var A=b._fullLayout,M=A._subplots.cartesian,C=b.calcdata,m;if(!Array.isArray(f))for(f=[],m=0;m<C.length;m++)f.push(m);for(m=0;m<M.length;m++){for(var S=M[m],x=A._plots[S],a=[],E,w=0;w<C.length;w++){var k=C[w],I=k[0].trace;I.xaxis+I.yaxis===S&&((f.indexOf(I.index)!==-1||I.carpet)&&(E&&E[0].trace.xaxis+E[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(I.fill)!==-1&&a.indexOf(E)===-1&&a.push(E),a.push(k)),E=k)}s(b,x,a,o,d)}};function s(b,f,o,d,A){for(var M=t.traceLayerClasses,C=b._fullLayout,m=C._modules,S,x,a,E=[],w=[],k=0;k<m.length;k++){S=m[k];var I=S.name,U=R.modules[I].categories;if(U.svg){var z=S.layerName||I+"layer",N=S.plot;x=v(o,N),a=x[0],o=x[1],a.length&&E.push({i:M.indexOf(z),className:z,plotMethod:N,cdModule:a}),U.zoomScale&&w.push("."+z)}}E.sort(function(H,X){return H.i-X.i});var B=f.plot.selectAll("g.mlayer").data(E,function(H){return H.className});if(B.enter().append("g").attr("class",function(H){return H.className}).classed("mlayer",!0).classed("rangeplot",f.isRangePlot),B.exit().remove(),B.order(),B.each(function(H){var X=g.select(this),q=H.className;H.plotMethod(b,f,H.cdModule,X,d,A),t.clipOnAxisFalseQuery.indexOf("."+q)===-1&&T.setClipUrl(X,f.layerClipId,b)}),C._has("scattergl")&&(S=R.getModule("scattergl"),a=v(o,S)[0],S.plot(b,f,a)),!b._context.staticPlot&&(f._hasClipOnAxisFalse&&(f.clipOnAxisFalseTraces=f.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),w.length)){var F=f.plot.selectAll(w.join(",")).selectAll(".trace");f.zoomScalePts=F.selectAll("path.point"),f.zoomScaleTxt=F.selectAll(".textpoint")}}V.clean=function(b,f,o,d){var A=d._plots||{},M=f._plots||{},C=d._subplots||{},m,S,x;if(d._hasOnlyLargeSploms&&!f._hasOnlyLargeSploms)for(x in A)m=A[x],m.plotgroup&&m.plotgroup.remove();var a=d._has&&d._has("gl"),E=f._has&&f._has("gl");if(a&&!E)for(x in A)m=A[x],m._scene&&m._scene.destroy();if(C.xaxis&&C.yaxis){var w=p.listIds({_fullLayout:d});for(S=0;S<w.length;S++){var k=w[S];f[p.id2name(k)]||d._infolayer.selectAll(".g-"+k+"title").remove()}}var I=d._has&&d._has("cartesian"),U=f._has&&f._has("cartesian");if(I&&!U)y(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(C.cartesian)for(S=0;S<C.cartesian.length;S++){var z=C.cartesian[S];if(!M[z]){var N="."+z+",."+z+"-x,."+z+"-y";d._cartesianlayer.selectAll(N).remove(),h(z,d)}}},V.drawFramework=function(b){var f=b._fullLayout,o=c(b),d=f._cartesianlayer.selectAll(".subplot").data(o,String);d.enter().append("g").attr("class",function(A){return"subplot "+A[0]}),d.order(),d.exit().call(y,f),d.each(function(A){var M=A[0],C=f._plots[M];C.plotgroup=g.select(this),u(b,C),C.draglayer=l(f._draggers,"g",M)})},V.rangePlot=function(b,f,o){u(b,f),s(b,f,o),L.style(b)};function c(b){var f=b._fullLayout,o=f._subplots.cartesian,d=o.length,A,M,C,m,S,x,a=[],E=[];for(A=0;A<d;A++){C=o[A],m=f._plots[C],S=m.xaxis,x=m.yaxis;var w=S._mainAxis,k=x._mainAxis,I=w._id+k._id,U=f._plots[I];m.overlays=[],I!==C&&U?(m.mainplot=I,m.mainplotinfo=U,E.push(C)):(m.mainplot=void 0,m.mainplotinfo=void 0,a.push(C))}for(A=0;A<E.length;A++)C=E[A],m=f._plots[C],m.mainplotinfo.overlays.push(m);var z=a.concat(E),N=new Array(d);for(A=0;A<d;A++){C=z[A],m=f._plots[C],S=m.xaxis,x=m.yaxis;var B=[C,S.layer,x.layer,S.overlaying||"",x.overlaying||""];for(M=0;M<m.overlays.length;M++)B.push(m.overlays[M].id);N[A]=B}return N}function u(b,f){var o=f.plotgroup,d=f.id,A=t.layerValue2layerClass[f.xaxis.layer],M=t.layerValue2layerClass[f.yaxis.layer],C=b._fullLayout._hasOnlyLargeSploms;if(f.mainplot){var S=f.mainplotinfo,x=S.plotgroup,a=d+"-x",E=d+"-y";f.minorGridlayer=S.minorGridlayer,f.gridlayer=S.gridlayer,f.zerolinelayer=S.zerolinelayer,l(S.overlinesBelow,"path",a),l(S.overlinesBelow,"path",E),l(S.overaxesBelow,"g",a),l(S.overaxesBelow,"g",E),f.plot=l(S.overplot,"g",d),l(S.overlinesAbove,"path",a),l(S.overlinesAbove,"path",E),l(S.overaxesAbove,"g",a),l(S.overaxesAbove,"g",E),f.xlines=x.select(".overlines-"+A).select("."+a),f.ylines=x.select(".overlines-"+M).select("."+E),f.xaxislayer=x.select(".overaxes-"+A).select("."+a),f.yaxislayer=x.select(".overaxes-"+M).select("."+E)}else if(C)f.xlines=l(o,"path","xlines-above"),f.ylines=l(o,"path","ylines-above"),f.xaxislayer=l(o,"g","xaxislayer-above"),f.yaxislayer=l(o,"g","yaxislayer-above");else{var m=l(o,"g","layer-subplot");f.shapelayer=l(m,"g","shapelayer"),f.imagelayer=l(m,"g","imagelayer"),f.minorGridlayer=l(o,"g","minor-gridlayer"),f.gridlayer=l(o,"g","gridlayer"),f.zerolinelayer=l(o,"g","zerolinelayer"),l(o,"path","xlines-below"),l(o,"path","ylines-below"),f.overlinesBelow=l(o,"g","overlines-below"),l(o,"g","xaxislayer-below"),l(o,"g","yaxislayer-below"),f.overaxesBelow=l(o,"g","overaxes-below"),f.plot=l(o,"g","plot"),f.overplot=l(o,"g","overplot"),f.xlines=l(o,"path","xlines-above"),f.ylines=l(o,"path","ylines-above"),f.overlinesAbove=l(o,"g","overlines-above"),l(o,"g","xaxislayer-above"),l(o,"g","yaxislayer-above"),f.overaxesAbove=l(o,"g","overaxes-above"),f.xlines=o.select(".xlines-"+A),f.ylines=o.select(".ylines-"+M),f.xaxislayer=o.select(".xaxislayer-"+A),f.yaxislayer=o.select(".yaxislayer-"+M)}C||(n(f.minorGridlayer,"g",f.xaxis._id),n(f.minorGridlayer,"g",f.yaxis._id),f.minorGridlayer.selectAll("g").map(function(w){return w[0]}).sort(p.idSort),n(f.gridlayer,"g",f.xaxis._id),n(f.gridlayer,"g",f.yaxis._id),f.gridlayer.selectAll("g").map(function(w){return w[0]}).sort(p.idSort)),f.xlines.style("fill","none").classed("crisp",!0),f.ylines.style("fill","none").classed("crisp",!0)}function y(b,f){if(b){var o={};b.each(function(S){var x=S[0],a=g.select(this);a.remove(),h(x,f),o[x]=!0});for(var d in f._plots)for(var A=f._plots[d],M=A.overlays||[],C=0;C<M.length;C++){var m=M[C];o[m.id]&&m.plot.selectAll(".trace").remove()}}}function h(b,f){f._draggers.selectAll("g."+b).remove(),f._defs.select("#clip"+f._uid+b+"plot").remove()}V.toSVG=function(b){var f=b._fullLayout._glimages,o=g.select(b).selectAll(".svg-container"),d=o.filter(function(M,C){return C===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function A(){var M=this,C=M.toDataURL("image/png"),m=f.append("svg:image");m.attr({xmlns:r.svg,"xlink:href":C,preserveAspectRatio:"none",x:0,y:0,width:M.style.width,height:M.style.height})}d.each(A)},V.updateFx=e(4305).updateFx},13838:function(G,V,e){var g=e(41940),R=e(22399),i=e(79952).P,L=e(1426).extendFlat,T=e(44467).templatedArray,v=e(12663).descriptionWithDates,p=e(50606).ONEDAY,t=e(85555),r=t.HOUR_PATTERN,l=t.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},s=L({},n,{values:n.values.slice().concat(["sync"])});function c(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},h={valType:"data_array",editType:"ticks"},b={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function f(S){var x={valType:"number",min:0,editType:"ticks"};return S||(x.dflt=5),x}function o(S){var x={valType:"number",min:0,editType:"ticks"};return S||(x.dflt=1),x}var d={valType:"color",dflt:R.defaultLine,editType:"ticks"},A={valType:"color",dflt:R.lightLine,editType:"ticks"};function M(S){var x={valType:"number",min:0,editType:"ticks"};return S||(x.dflt=1),x}var C=L({},i,{editType:"ticks"}),m={valType:"boolean",editType:"ticks"};G.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:R.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:g({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:T("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[l,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:s,nticks:c(),tick0:u,dtick:y,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:h,ticktext:{valType:"data_array",editType:"ticks"},ticks:b,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:f(),tickwidth:o(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:L({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:g({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:T("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:R.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:m,gridcolor:A,gridwidth:M(),griddash:C,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:R.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:R.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:c("minor"),tick0:u,dtick:y,tickvals:h,ticks:b,ticklen:f("minor"),tickwidth:o("minor"),tickcolor:d,gridcolor:A,gridwidth:M("minor"),griddash:C,showgrid:m,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:g({editType:"ticks"})}}},86763:function(G,V,e){var g=e(71828),R=e(7901),i=e(23469).isUnifiedHover,L=e(98212),T=e(44467),v=e(10820),p=e(13838),t=e(951),r=e(71453),l=e(99082),n=e(52830),s=e(41675),c=s.id2name,u=s.name2id,y=e(85555).AX_ID_PATTERN,h=e(73972),b=h.traceIs,f=h.getComponentMethod;function o(d,A,M){Array.isArray(d[A])?d[A].push(M):d[A]=[M]}G.exports=function(A,M,C){var m=M.autotypenumbers,S={},x={},a={},E={},w={},k={},I={},U={},z={},N={},B,F;for(B=0;B<C.length;B++){var H=C[B];if(!(!b(H,"cartesian")&&!b(H,"gl2d"))){var X;if(H.xaxis)X=c(H.xaxis),o(S,X,H);else if(H.xaxes)for(F=0;F<H.xaxes.length;F++)o(S,c(H.xaxes[F]),H);var q;if(H.yaxis)q=c(H.yaxis),o(S,q,H);else if(H.yaxes)for(F=0;F<H.yaxes.length;F++)o(S,c(H.yaxes[F]),H);if(H.type==="funnel"?H.orientation==="h"?(X&&(x[X]=!0),q&&(I[q]=!0)):q&&(a[q]=!0):H.type==="image"?(q&&(U[q]=!0),X&&(U[X]=!0)):(q&&(w[q]=!0,k[q]=!0),(!b(H,"carpet")||H.type==="carpet"&&!H._cheater)&&X&&(E[X]=!0)),H.type==="carpet"&&H._cheater&&X&&(x[X]=!0),b(H,"2dMap")&&(z[X]=!0,z[q]=!0),b(H,"oriented")){var ne=H.orientation==="h"?q:X;N[ne]=!0}}}var oe=M._subplots,ve=oe.xaxis,J=oe.yaxis,Y=g.simpleMap(ve,c),j=g.simpleMap(J,c),K=Y.concat(j),te=R.background;ve.length&&J.length&&(te=g.coerce(A,M,v,"plot_bgcolor"));var se=R.combine(te,M.paper_bgcolor),Q,ee,le,ie,he;function xe(){var Re=S[Q]||[];he._traceIndices=Re.map(function(Oe){return Oe._expandedIndex}),he._annIndices=[],he._shapeIndices=[],he._selectionIndices=[],he._imgIndices=[],he._subplotsWith=[],he._counterAxes=[],he._name=he._attr=Q,he._id=ee}function Se(Re,Oe){return g.coerce(ie,he,p,Re,Oe)}function Ee(Re,Oe){return g.coerce2(ie,he,p,Re,Oe)}function Ne(Re){return Re==="x"?J:ve}function He(Re,Oe){for(var st=Re==="x"?Y:j,ut=[],Tt=0;Tt<st.length;Tt++){var It=st[Tt];It!==Oe&&!(A[It]||{}).overlaying&&ut.push(u(It))}return ut}var Ce={x:Ne("x"),y:Ne("y")},be=Ce.x.concat(Ce.y),we={},ke=[];function Fe(){var Re=ie.matches;y.test(Re)&&be.indexOf(Re)===-1&&(we[Re]=ie.type,ke=Object.keys(we))}var Pe=L(A,M),Ge=i(Pe);for(B=0;B<K.length;B++){Q=K[B],ee=u(Q),le=Q.charAt(0),g.isPlainObject(A[Q])||(A[Q]={}),ie=A[Q],he=T.newContainer(M,Q,le+"axis"),xe();var nt=le==="x"&&!E[Q]&&x[Q]||le==="y"&&!w[Q]&&a[Q],qe=le==="y"&&(!k[Q]&&I[Q]||U[Q]),Ke={hasMinor:!0,letter:le,font:M.font,outerTicks:z[Q],showGrid:!N[Q],data:S[Q]||[],bgColor:se,calendar:M.calendar,automargin:!0,visibleDflt:nt,reverseDflt:qe,autotypenumbersDflt:m,splomStash:((M._splomAxes||{})[le]||{})[ee]};Se("uirevision",M.uirevision),t(ie,he,Se,Ke),r(ie,he,Se,Ke,M);var $e=Ge&&le===Pe.charAt(0),vt=Ee("spikecolor",Ge?he.color:void 0),yt=Ee("spikethickness",Ge?1.5:void 0),mt=Ee("spikedash",Ge?"dot":void 0),Et=Ee("spikemode",Ge?"across":void 0),Xe=Ee("spikesnap"),Ue=Se("showspikes",!!$e||!!vt||!!yt||!!mt||!!Et||!!Xe);Ue||(delete he.spikecolor,delete he.spikethickness,delete he.spikedash,delete he.spikemode,delete he.spikesnap);var Be=c(ie.overlaying),rt=[0,1];if(M[Be]!==void 0){var it=c(M[Be].anchor);M[it]!==void 0&&(rt=M[it].domain)}n(ie,he,Se,{letter:le,counterAxes:Ce[le],overlayableAxes:He(le,Q),grid:M.grid,overlayingDomain:rt}),Se("title.standoff"),Fe(),he._input=ie}for(B=0;B<ke.length;){ee=ke[B++],Q=c(ee),le=Q.charAt(0),g.isPlainObject(A[Q])||(A[Q]={}),ie=A[Q],he=T.newContainer(M,Q,le+"axis"),xe();var Ye={letter:le,font:M.font,outerTicks:z[Q],showGrid:!N[Q],data:[],bgColor:se,calendar:M.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:m,splomStash:((M._splomAxes||{})[le]||{})[ee]};Se("uirevision",M.uirevision),he.type=we[ee]||"linear",r(ie,he,Se,Ye,M),n(ie,he,Se,{letter:le,counterAxes:Ce[le],overlayableAxes:He(le,Q),grid:M.grid}),Se("fixedrange"),Fe(),he._input=ie}var De=f("rangeslider","handleDefaults"),Te=f("rangeselector","handleDefaults");for(B=0;B<Y.length;B++)Q=Y[B],ie=A[Q],he=M[Q],De(A,M,Q),he.type==="date"&&Te(ie,he,M,j,he.calendar),Se("fixedrange");for(B=0;B<j.length;B++){Q=j[B],ie=A[Q],he=M[Q];var fe=M[c(he.anchor)],me=f("rangeslider","isVisible")(fe);Se("fixedrange",me)}l.handleDefaults(A,M,{axIds:be.concat(ke).sort(s.idSort),axHasImage:U})}},92128:function(G,V,e){var g=e(84267).mix,R=e(22399),i=e(71828);G.exports=function(T,v,p,t){t=t||{};var r=t.dfltColor;function l(a,E){return i.coerce2(T,v,t.attributes,a,E)}var n=l("linecolor",r),s=l("linewidth"),c=p("showline",t.showLine||!!n||!!s);c||(delete v.linecolor,delete v.linewidth);var u=g(r,t.bgColor,t.blend||R.lightFraction).toRgbString(),y=l("gridcolor",u),h=l("gridwidth"),b=l("griddash"),f=p("showgrid",t.showGrid||!!y||!!h||!!b);if(f||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),t.hasMinor){var o=g(v.gridcolor,t.bgColor,67).toRgbString(),d=l("minor.gridcolor",o),A=l("minor.gridwidth",v.gridwidth||1),M=l("minor.griddash",v.griddash||"solid"),C=p("minor.showgrid",!!d||!!A||!!M);C||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!t.noZeroLine){var m=l("zerolinecolor",r),S=l("zerolinewidth"),x=p("zeroline",t.showGrid||!!m||!!S);x||(delete v.zerolinecolor,delete v.zerolinewidth)}}},52830:function(G,V,e){var g=e(92770),R=e(71828);G.exports=function(L,T,v,p){var t=p.counterAxes||[],r=p.overlayableAxes||[],l=p.letter,n=p.grid,s=p.overlayingDomain,c,u,y,h,b,f;n&&(u=n._domains[l][n._axisMap[T._id]],c=n._anchors[T._id],u&&(y=n[l+"side"].split(" ")[0],h=n.domain[l][y==="right"||y==="top"?1:0])),u=u||[0,1],c=c||(g(L.position)?"free":t[0]||"free"),y=y||(l==="x"?"bottom":"left"),h=h||0,b=0,f=!1;var o=R.coerce(L,T,{anchor:{valType:"enumerated",values:["free"].concat(t),dflt:c}},"anchor"),d=R.coerce(L,T,{side:{valType:"enumerated",values:l==="x"?["bottom","top"]:["left","right"],dflt:y}},"side");if(o==="free"){if(l==="y"){var A=v("autoshift");A&&(h=d==="left"?s[0]:s[1],f=T.automargin?T.automargin:!0,b=d==="left"?-3:3),v("shift",b)}v("position",h)}v("automargin",f);var M=!1;if(r.length&&(M=R.coerce(L,T,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!M){var C=v("domain",u);C[0]>C[1]-.000244140625&&(T.domain=u),R.noneOrAll(L.domain,T.domain,u),T.tickmode==="sync"&&(T.tickmode="auto")}return v("layer"),T}},89426:function(G,V,e){var g=e(59652);G.exports=function(i,L,T,v,p){p||(p={});var t=p.tickSuffixDflt,r=g(i),l=T("tickprefix");l&&T("showtickprefix",r);var n=T("ticksuffix",t);n&&T("showticksuffix",r)}},42449:function(G,V,e){var g=e(18783).FROM_BL;G.exports=function(i,L,T){T===void 0&&(T=g[i.constraintoward||"center"]);var v=[i.r2l(i.range[0]),i.r2l(i.range[1])],p=v[0]+(v[1]-v[0])*T;i.range=i._input.range=[i.l2r(p+(v[0]-p)*L),i.l2r(p+(v[1]-p)*L)],i.setScale()}},21994:function(G,V,e){var g=e(39898),R=e(84096).g0,i=e(71828),L=i.numberFormat,T=e(92770),v=i.cleanNumber,p=i.ms2DateTime,t=i.dateTime2ms,r=i.ensureNumber,l=i.isArrayOrTypedArray,n=e(50606),s=n.FP_SAFE,c=n.BADNUM,u=n.LOG_CLIP,y=n.ONEWEEK,h=n.ONEDAY,b=n.ONEHOUR,f=n.ONEMIN,o=n.ONESEC,d=e(41675),A=e(85555),M=A.HOUR_PATTERN,C=A.WEEKDAY_PATTERN;function m(x){return Math.pow(10,x)}function S(x){return x!=null}G.exports=function(a,E){E=E||{};var w=a._id||"x",k=w.charAt(0);function I(K,te){if(K>0)return Math.log(K)/Math.LN10;if(K<=0&&te&&a.range&&a.range.length===2){var se=a.range[0],Q=a.range[1];return .5*(se+Q-2*u*Math.abs(se-Q))}else return c}function U(K,te,se,Q){if((Q||{}).msUTC&&T(K))return+K;var ee=t(K,se||a.calendar);if(ee===c)if(T(K)){K=+K;var le=Math.floor(i.mod(K+.05,1)*10),ie=Math.round(K-le/10);ee=t(new Date(ie))+le/10}else return c;return ee}function z(K,te,se){return p(K,te,se||a.calendar)}function N(K){return a._categories[Math.round(K)]}function B(K){if(S(K)){if(a._categoriesMap===void 0&&(a._categoriesMap={}),a._categoriesMap[K]!==void 0)return a._categoriesMap[K];a._categories.push(typeof K=="number"?String(K):K);var te=a._categories.length-1;return a._categoriesMap[K]=te,te}return c}function F(K,te){for(var se=new Array(te),Q=0;Q<te;Q++){var ee=(K[0]||[])[Q],le=(K[1]||[])[Q];se[Q]=H([ee,le])}return se}function H(K){if(a._categoriesMap)return a._categoriesMap[K]}function X(K){var te=H(K);if(te!==void 0)return te;if(T(K))return+K}function q(K){return T(K)?+K:H(K)}function ne(K,te,se){return g.round(se+te*K,2)}function oe(K,te,se){return(K-se)/te}var ve=function(te){return T(te)?ne(te,a._m,a._b):c},J=function(K){return oe(K,a._m,a._b)};if(a.rangebreaks){var Y=k==="y";ve=function(K){if(!T(K))return c;var te=a._rangebreaks.length;if(!te)return ne(K,a._m,a._b);var se=Y;a.range[0]>a.range[1]&&(se=!se);for(var Q=se?-1:1,ee=Q*K,le=0,ie=0;ie<te;ie++){var he=Q*a._rangebreaks[ie].min,xe=Q*a._rangebreaks[ie].max;if(ee<he)break;if(ee>xe)le=ie+1;else{le=ee<(he+xe)/2?ie:ie+1;break}}var Se=a._B[le]||0;return isFinite(Se)?ne(K,a._m2,Se):0},J=function(K){var te=a._rangebreaks.length;if(!te)return oe(K,a._m,a._b);for(var se=0,Q=0;Q<te&&!(K<a._rangebreaks[Q].pmin);Q++)K>a._rangebreaks[Q].pmax&&(se=Q+1);return oe(K,a._m2,a._B[se])}}a.c2l=a.type==="log"?I:r,a.l2c=a.type==="log"?m:r,a.l2p=ve,a.p2l=J,a.c2p=a.type==="log"?function(K,te){return ve(I(K,te))}:ve,a.p2c=a.type==="log"?function(K){return m(J(K))}:J,["linear","-"].indexOf(a.type)!==-1?(a.d2r=a.r2d=a.d2c=a.r2c=a.d2l=a.r2l=v,a.c2d=a.c2r=a.l2d=a.l2r=r,a.d2p=a.r2p=function(K){return a.l2p(v(K))},a.p2d=a.p2r=J,a.cleanPos=r):a.type==="log"?(a.d2r=a.d2l=function(K,te){return I(v(K),te)},a.r2d=a.r2c=function(K){return m(v(K))},a.d2c=a.r2l=v,a.c2d=a.l2r=r,a.c2r=I,a.l2d=m,a.d2p=function(K,te){return a.l2p(a.d2r(K,te))},a.p2d=function(K){return m(J(K))},a.r2p=function(K){return a.l2p(v(K))},a.p2r=J,a.cleanPos=r):a.type==="date"?(a.d2r=a.r2d=i.identity,a.d2c=a.r2c=a.d2l=a.r2l=U,a.c2d=a.c2r=a.l2d=a.l2r=z,a.d2p=a.r2p=function(K,te,se){return a.l2p(U(K,0,se))},a.p2d=a.p2r=function(K,te,se){return z(J(K),te,se)},a.cleanPos=function(K){return i.cleanDate(K,c,a.calendar)}):a.type==="category"?(a.d2c=a.d2l=B,a.r2d=a.c2d=a.l2d=N,a.d2r=a.d2l_noadd=X,a.r2c=function(K){var te=q(K);return te!==void 0?te:a.fraction2r(.5)},a.l2r=a.c2r=r,a.r2l=q,a.d2p=function(K){return a.l2p(a.r2c(K))},a.p2d=function(K){return N(J(K))},a.r2p=a.d2p,a.p2r=J,a.cleanPos=function(K){return typeof K=="string"&&K!==""?K:r(K)}):a.type==="multicategory"&&(a.r2d=a.c2d=a.l2d=N,a.d2r=a.d2l_noadd=X,a.r2c=function(K){var te=X(K);return te!==void 0?te:a.fraction2r(.5)},a.r2c_just_indices=H,a.l2r=a.c2r=r,a.r2l=X,a.d2p=function(K){return a.l2p(a.r2c(K))},a.p2d=function(K){return N(J(K))},a.r2p=a.d2p,a.p2r=J,a.cleanPos=function(K){return Array.isArray(K)||typeof K=="string"&&K!==""?K:r(K)},a.setupMultiCategory=function(K){var te=a._traceIndices,se,Q,ee=a._matchGroup;if(ee&&a._categories.length===0){for(var le in ee)if(le!==w){var ie=E[d.id2name(le)];te=te.concat(ie._traceIndices)}}var he=[[0,{}],[0,{}]],xe=[];for(se=0;se<te.length;se++){var Se=K[te[se]];if(k in Se){var Ee=Se[k],Ne=Se._length||i.minRowLength(Ee);if(l(Ee[0])&&l(Ee[1]))for(Q=0;Q<Ne;Q++){var He=Ee[0][Q],Ce=Ee[1][Q];S(He)&&S(Ce)&&(xe.push([He,Ce]),He in he[0][1]||(he[0][1][He]=he[0][0]++),Ce in he[1][1]||(he[1][1][Ce]=he[1][0]++))}}}for(xe.sort(function(be,we){var ke=he[0][1],Fe=ke[be[0]]-ke[we[0]];if(Fe)return Fe;var Pe=he[1][1];return Pe[be[1]]-Pe[we[1]]}),se=0;se<xe.length;se++)B(xe[se])}),a.fraction2r=function(K){var te=a.r2l(a.range[0]),se=a.r2l(a.range[1]);return a.l2r(te+K*(se-te))},a.r2fraction=function(K){var te=a.r2l(a.range[0]),se=a.r2l(a.range[1]);return(a.r2l(K)-te)/(se-te)},a.cleanRange=function(K,te){te||(te={}),K||(K="range");var se=i.nestedProperty(a,K).get(),Q,ee;if(a.type==="date"?ee=i.dfltRange(a.calendar):k==="y"?ee=A.DFLTRANGEY:a._name==="realaxis"?ee=[0,1]:ee=te.dfltRange||A.DFLTRANGEX,ee=ee.slice(),(a.rangemode==="tozero"||a.rangemode==="nonnegative")&&(ee[0]=0),!se||se.length!==2){i.nestedProperty(a,K).set(ee);return}for(a.type==="date"&&!a.autorange&&(se[0]=i.cleanDate(se[0],c,a.calendar),se[1]=i.cleanDate(se[1],c,a.calendar)),Q=0;Q<2;Q++)if(a.type==="date"){if(!i.isDateTime(se[Q],a.calendar)){a[K]=ee;break}if(a.r2l(se[0])===a.r2l(se[1])){var le=i.constrain(a.r2l(se[0]),i.MIN_MS+1e3,i.MAX_MS-1e3);se[0]=a.l2r(le-1e3),se[1]=a.l2r(le+1e3);break}}else{if(!T(se[Q]))if(T(se[1-Q]))se[Q]=se[1-Q]*(Q?10:.1);else{a[K]=ee;break}if(se[Q]<-s?se[Q]=-s:se[Q]>s&&(se[Q]=s),se[0]===se[1]){var ie=Math.max(1,Math.abs(se[0]*1e-6));se[0]-=ie,se[1]+=ie}}},a.setScale=function(K){var te=E._size;if(a.overlaying){var se=d.getFromId({_fullLayout:E},a.overlaying);a.domain=se.domain}var Q=K&&a._r?"_r":"range",ee=a.calendar;a.cleanRange(Q);var le=a.r2l(a[Q][0],ee),ie=a.r2l(a[Q][1],ee),he=k==="y";if(he?(a._offset=te.t+(1-a.domain[1])*te.h,a._length=te.h*(a.domain[1]-a.domain[0]),a._m=a._length/(le-ie),a._b=-a._m*ie):(a._offset=te.l+a.domain[0]*te.w,a._length=te.w*(a.domain[1]-a.domain[0]),a._m=a._length/(ie-le),a._b=-a._m*le),a._rangebreaks=[],a._lBreaks=0,a._m2=0,a._B=[],a.rangebreaks){var xe,Se;if(a._rangebreaks=a.locateBreaks(Math.min(le,ie),Math.max(le,ie)),a._rangebreaks.length){for(xe=0;xe<a._rangebreaks.length;xe++)Se=a._rangebreaks[xe],a._lBreaks+=Math.abs(Se.max-Se.min);var Ee=he;le>ie&&(Ee=!Ee),Ee&&a._rangebreaks.reverse();var Ne=Ee?-1:1;for(a._m2=Ne*a._length/(Math.abs(ie-le)-a._lBreaks),a._B.push(-a._m2*(he?ie:le)),xe=0;xe<a._rangebreaks.length;xe++)Se=a._rangebreaks[xe],a._B.push(a._B[a._B.length-1]-Ne*a._m2*(Se.max-Se.min));for(xe=0;xe<a._rangebreaks.length;xe++)Se=a._rangebreaks[xe],Se.pmin=ve(Se.min),Se.pmax=ve(Se.max)}}if(!isFinite(a._m)||!isFinite(a._b)||a._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},a.maskBreaks=function(K){var te=a.rangebreaks||[],se,Q,ee,le,ie;te._cachedPatterns||(te._cachedPatterns=te.map(function(ke){return ke.enabled&&ke.bounds?i.simpleMap(ke.bounds,ke.pattern?v:a.d2c):null})),te._cachedValues||(te._cachedValues=te.map(function(ke){return ke.enabled&&ke.values?i.simpleMap(ke.values,a.d2c).sort(i.sorterAsc):null}));for(var he=0;he<te.length;he++){var xe=te[he];if(xe.enabled){if(xe.bounds){var Se=xe.pattern;switch(se=te._cachedPatterns[he],Q=se[0],ee=se[1],Se){case C:ie=new Date(K),le=ie.getUTCDay(),Q>ee&&(ee+=7,le<Q&&(le+=7));break;case M:ie=new Date(K);var Ee=ie.getUTCHours(),Ne=ie.getUTCMinutes(),He=ie.getUTCSeconds(),Ce=ie.getUTCMilliseconds();le=Ee+(Ne/60+He/3600+Ce/36e5),Q>ee&&(ee+=24,le<Q&&(le+=24));break;case"":le=K;break}if(le>=Q&&le<ee)return c}else for(var be=te._cachedValues[he],we=0;we<be.length;we++)if(Q=be[we],ee=Q+xe.dvalue,K>=Q&&K<ee)return c}}return K},a.locateBreaks=function(K,te){var se,Q,ee,le,ie=[];if(!a.rangebreaks)return ie;var he=a.rangebreaks.slice().sort(function(Pe,Ge){return Pe.pattern===C&&Ge.pattern===M?-1:Ge.pattern===C&&Pe.pattern===M?1:0}),xe=function(Pe,Ge){if(Pe=i.constrain(Pe,K,te),Ge=i.constrain(Ge,K,te),Pe!==Ge){for(var nt=!0,qe=0;qe<ie.length;qe++){var Ke=ie[qe];Pe<Ke.max&&Ge>=Ke.min&&(Pe<Ke.min&&(Ke.min=Pe),Ge>Ke.max&&(Ke.max=Ge),nt=!1)}nt&&ie.push({min:Pe,max:Ge})}};for(se=0;se<he.length;se++){var Se=he[se];if(Se.enabled)if(Se.bounds){var Ee=K,Ne=te;Se.pattern&&(Ee=Math.floor(Ee)),Q=i.simpleMap(Se.bounds,Se.pattern?v:a.r2l),ee=Q[0],le=Q[1];var He=new Date(Ee),Ce,be;switch(Se.pattern){case C:be=y,Ce=((le<ee?7:0)+(le-ee))*h,Ee+=ee*h-(He.getUTCDay()*h+He.getUTCHours()*b+He.getUTCMinutes()*f+He.getUTCSeconds()*o+He.getUTCMilliseconds());break;case M:be=h,Ce=((le<ee?24:0)+(le-ee))*b,Ee+=ee*b-(He.getUTCHours()*b+He.getUTCMinutes()*f+He.getUTCSeconds()*o+He.getUTCMilliseconds());break;default:Ee=Math.min(Q[0],Q[1]),Ne=Math.max(Q[0],Q[1]),be=Ne-Ee,Ce=be}for(var we=Ee;we<Ne;we+=be)xe(we,we+Ce)}else for(var ke=i.simpleMap(Se.values,a.d2c),Fe=0;Fe<ke.length;Fe++)ee=ke[Fe],le=ee+Se.dvalue,xe(ee,le)}return ie.sort(function(Pe,Ge){return Pe.min-Ge.min}),ie},a.makeCalcdata=function(K,te,se){var Q,ee,le,ie,he=a.type,xe=he==="date"&&K[te+"calendar"];if(te in K){if(Q=K[te],ie=K._length||i.minRowLength(Q),i.isTypedArray(Q)&&(he==="linear"||he==="log")){if(ie===Q.length)return Q;if(Q.subarray)return Q.subarray(0,ie)}if(he==="multicategory")return F(Q,ie);for(ee=new Array(ie),le=0;le<ie;le++)ee[le]=a.d2c(Q[le],0,xe,se)}else{var Se=te+"0"in K?a.d2c(K[te+"0"],0,xe):0,Ee=K["d"+te]?Number(K["d"+te]):1;for(Q=K[{x:"y",y:"x"}[te]],ie=K._length||Q.length,ee=new Array(ie),le=0;le<ie;le++)ee[le]=Se+le*Ee}if(a.rangebreaks)for(le=0;le<ie;le++)ee[le]=a.maskBreaks(ee[le]);return ee},a.isValidRange=function(K){return Array.isArray(K)&&K.length===2&&T(a.r2l(K[0]))&&T(a.r2l(K[1]))},a.isPtWithinRange=function(K,te){var se=a.c2l(K[k],null,te),Q=a.r2l(a.range[0]),ee=a.r2l(a.range[1]);return Q<ee?Q<=se&&se<=ee:ee<=se&&se<=Q},a._emptyCategories=function(){a._categories=[],a._categoriesMap={}},a.clearCalc=function(){var K=a._matchGroup;if(K){var te=null,se=null;for(var Q in K){var ee=E[d.id2name(Q)];if(ee._categories){te=ee._categories,se=ee._categoriesMap;break}}te&&se?(a._categories=te,a._categoriesMap=se):a._emptyCategories()}else a._emptyCategories();if(a._initialCategories)for(var le=0;le<a._initialCategories.length;le++)B(a._initialCategories[le])},a.sortByInitialCategories=function(){var K=[];if(a._emptyCategories(),a._initialCategories)for(var te=0;te<a._initialCategories.length;te++)B(a._initialCategories[te]);K=K.concat(a._traceIndices);var se=a._matchGroup;for(var Q in se)if(w!==Q){var ee=E[d.id2name(Q)];ee._categories=a._categories,ee._categoriesMap=a._categoriesMap,K=K.concat(ee._traceIndices)}return K};var j=E._d3locale;a.type==="date"&&(a._dateFormat=j?j.timeFormat:R,a._extraFormat=E._extraFormat),a._separators=E.separators,a._numFormat=j?j.numberFormat:L,delete a._minDtick,delete a._forceTick0}},59652:function(G){G.exports=function(e){var g=["showexponent","showtickprefix","showticksuffix"],R=g.filter(function(L){return e[L]!==void 0}),i=function(L){return e[L]===e[R[0]]};if(R.every(i)||R.length===1)return e[R[0]]}},96115:function(G,V,e){var g=e(71828),R=e(7901).contrast,i=e(13838),L=e(59652),T=e(85501);G.exports=function(t,r,l,n,s){s||(s={});var c=l("labelalias");g.isPlainObject(c)||delete r.labelalias;var u=L(t),y=l("showticklabels");if(y){var h=s.font||{},b=r.color,f=r.ticklabelposition||"",o=f.indexOf("inside")!==-1?R(s.bgColor):b&&b!==i.color.dflt?b:h.color;if(g.coerceFont(l,"tickfont",{family:h.family,size:h.size,color:o}),!s.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&l("ticklabelstep"),s.noAng||l("tickangle"),n!=="category"){var d=l("tickformat");T(t,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),r.tickformatstops.length||delete r.tickformatstops,!s.noExp&&!d&&n!=="date"&&(l("showexponent",u),l("exponentformat"),l("minexponent"),l("separatethousands"))}}};function v(p,t){function r(n,s){return g.coerce(p,t,i.tickformatstops,n,s)}var l=r("enabled");l&&(r("dtickrange"),r("value"))}},38701:function(G,V,e){var g=e(71828),R=e(13838);G.exports=function(L,T,v,p){var t=p.isMinor,r=t?L.minor||{}:L,l=t?T.minor:T,n=t?R.minor:R,s=t?"minor.":"",c=g.coerce2(r,l,n,"ticklen",t?(T.ticklen||5)*.6:void 0),u=g.coerce2(r,l,n,"tickwidth",t?T.tickwidth||1:void 0),y=g.coerce2(r,l,n,"tickcolor",(t?T.tickcolor:void 0)||l.color),h=v(s+"ticks",!t&&p.outerTicks||c||u||y?"outside":"");h||(delete l.ticklen,delete l.tickwidth,delete l.tickcolor)}},26218:function(G,V,e){var g=e(66287),R=e(71828).isArrayOrTypedArray;G.exports=function(L,T,v,p,t){t||(t={});var r=t.isMinor,l=r?L.minor||{}:L,n=r?T.minor:T,s=r?"minor.":"";function c(A){var M=l[A];return M!==void 0?M:(n._template||{})[A]}var u=c("tick0"),y=c("dtick"),h=c("tickvals"),b=R(h)?"array":y?"linear":"auto",f=v(s+"tickmode",b);if(f==="auto"||f==="sync")v(s+"nticks");else if(f==="linear"){var o=n.dtick=g.dtick(y,p);n.tick0=g.tick0(u,p,T.calendar,o)}else if(p!=="multicategory"){var d=v(s+"tickvals");d===void 0?n.tickmode="auto":r||v("ticktext")}}},66847:function(G,V,e){var g=e(39898),R=e(73972),i=e(71828),L=e(91424),T=e(89298);G.exports=function(p,t,r,l){var n=p._fullLayout;if(t.length===0){T.redrawComponents(p);return}function s(M){var C=M.xaxis,m=M.yaxis;n._defs.select("#"+M.clipId+"> rect").call(L.setTranslate,0,0).call(L.setScale,1,1),M.plot.call(L.setTranslate,C._offset,m._offset).call(L.setScale,1,1);var S=M.plot.selectAll(".scatterlayer .trace");S.selectAll(".point").call(L.setPointGroupScale,1,1),S.selectAll(".textpoint").call(L.setTextPointsScale,1,1),S.call(L.hideOutsideRangePoints,M)}function c(M,C){var m=M.plotinfo,S=m.xaxis,x=m.yaxis,a=S._length,E=x._length,w=!!M.xr1,k=!!M.yr1,I=[];if(w){var U=i.simpleMap(M.xr0,S.r2l),z=i.simpleMap(M.xr1,S.r2l),N=U[1]-U[0],B=z[1]-z[0];I[0]=(U[0]*(1-C)+C*z[0]-U[0])/(U[1]-U[0])*a,I[2]=a*(1-C+C*B/N),S.range[0]=S.l2r(U[0]*(1-C)+C*z[0]),S.range[1]=S.l2r(U[1]*(1-C)+C*z[1])}else I[0]=0,I[2]=a;if(k){var F=i.simpleMap(M.yr0,x.r2l),H=i.simpleMap(M.yr1,x.r2l),X=F[1]-F[0],q=H[1]-H[0];I[1]=(F[1]*(1-C)+C*H[1]-F[1])/(F[0]-F[1])*E,I[3]=E*(1-C+C*q/X),x.range[0]=S.l2r(F[0]*(1-C)+C*H[0]),x.range[1]=x.l2r(F[1]*(1-C)+C*H[1])}else I[1]=0,I[3]=E;T.drawOne(p,S,{skipTitle:!0}),T.drawOne(p,x,{skipTitle:!0}),T.redrawComponents(p,[S._id,x._id]);var ne=w?a/I[2]:1,oe=k?E/I[3]:1,ve=w?I[0]:0,J=k?I[1]:0,Y=w?I[0]/I[2]*a:0,j=k?I[1]/I[3]*E:0,K=S._offset-Y,te=x._offset-j;m.clipRect.call(L.setTranslate,ve,J).call(L.setScale,1/ne,1/oe),m.plot.call(L.setTranslate,K,te).call(L.setScale,ne,oe),L.setPointGroupScale(m.zoomScalePts,1/ne,1/oe),L.setTextPointsScale(m.zoomScaleTxt,1/ne,1/oe)}var u;l&&(u=l());function y(){for(var M={},C=0;C<t.length;C++){var m=t[C],S=m.plotinfo.xaxis,x=m.plotinfo.yaxis;m.xr1&&(M[S._name+".range"]=m.xr1.slice()),m.yr1&&(M[x._name+".range"]=m.yr1.slice())}return u&&u(),R.call("relayout",p,M).then(function(){for(var a=0;a<t.length;a++)s(t[a].plotinfo)})}function h(){for(var M={},C=0;C<t.length;C++){var m=t[C],S=m.plotinfo.xaxis,x=m.plotinfo.yaxis;m.xr0&&(M[S._name+".range"]=m.xr0.slice()),m.yr0&&(M[x._name+".range"]=m.yr0.slice())}return R.call("relayout",p,M).then(function(){for(var a=0;a<t.length;a++)s(t[a].plotinfo)})}var b,f,o,d=g.ease(r.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,h()});function A(){f=Date.now();for(var M=Math.min(1,(f-b)/r.duration),C=d(M),m=0;m<t.length;m++)c(t[m],C);f-b>r.duration?(y(),o=window.cancelAnimationFrame(A)):o=window.requestAnimationFrame(A)}return b=Date.now(),o=window.requestAnimationFrame(A),Promise.resolve()}},951:function(G,V,e){var g=e(73972).traceIs,R=e(4322);G.exports=function(t,r,l,n){l("autotypenumbers",n.autotypenumbersDflt);var s=l("type",(n.splomStash||{}).type);s==="-"&&(i(r,n.data),r.type==="-"?r.type="linear":t.type=r.type)};function i(p,t){if(p.type==="-"){var r=p._id,l=r.charAt(0),n;r.indexOf("scene")!==-1&&(r=l);var s=L(t,r,l);if(s){if(s.type==="histogram"&&l==={v:"y",h:"x"}[s.orientation||"v"]){p.type="linear";return}var c=l+"calendar",u=s[c],y={noMultiCategory:!g(s,"cartesian")||g(s,"noMultiCategory")};if(s.type==="box"&&s._hasPreCompStats&&l==={h:"x",v:"y"}[s.orientation||"v"]&&(y.noMultiCategory=!0),y.autotypenumbers=p.autotypenumbers,v(s,l)){var h=T(s),b=[];for(n=0;n<t.length;n++){var f=t[n];!g(f,"box-violin")||(f[l+"axis"]||l)!==r||(f[h]!==void 0?b.push(f[h][0]):f.name!==void 0?b.push(f.name):b.push("text"),f[c]!==u&&(u=void 0))}p.type=R(b,u,y)}else if(s.type==="splom"){var o=s.dimensions,d=o[s._axesDim[r]];d.visible&&(p.type=R(d.values,u,y))}else p.type=R(s[l]||[s[l+"0"]],u,y)}}}function L(p,t,r){for(var l=0;l<p.length;l++){var n=p[l];if(n.type==="splom"&&n._length>0&&(n["_"+r+"axes"]||{})[t])return n;if((n[r+"axis"]||r)===t){if(v(n,r))return n;if((n[r]||[]).length||n[r+"0"])return n}}}function T(p){return{v:"x",h:"y"}[p.orientation||"v"]}function v(p,t){var r=T(p),l=g(p,"box-violin"),n=g(p._fullInput||{},"candlestick");return l&&!n&&t===r&&p[r]===void 0&&p[r+"0"]===void 0}},31137:function(G,V,e){var g=e(73972),R=e(71828);V.manageCommandObserver=function(t,r,l,n){var s={},c=!0;r&&r._commandObserver&&(s=r._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var u=V.hasSimpleAPICommandBindings(t,l,s.lookupTable);if(r&&r._commandObserver){if(u)return s;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,s}if(u){i(t,u,s.cache),s.check=function(){if(c){var f=i(t,u,s.cache);return f.changed&&n&&s.lookupTable[f.value]!==void 0&&(s.disable(),Promise.resolve(n({value:f.value,type:u.type,prop:u.prop,traces:u.traces,index:s.lookupTable[f.value]})).then(s.enable,s.enable)),f.changed}};for(var y=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<y.length;h++)t._internalOn(y[h],s.check);s.remove=function(){for(var b=0;b<y.length;b++)t._removeInternalListener(y[b],s.check)}}else R.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){c=!1},s.enable=function(){c=!0},r&&(r._commandObserver=s),s},V.hasSimpleAPICommandBindings=function(t,r,l){var n,s=r.length,c;for(n=0;n<s;n++){var u,y=r[n],h=y.method,b=y.args;if(Array.isArray(b)||(b=[]),!h)return!1;var f=V.computeAPICommandBindings(t,h,b);if(f.length!==1)return!1;if(!c)c=f[0],Array.isArray(c.traces)&&c.traces.sort();else{if(u=f[0],u.type!==c.type||u.prop!==c.prop)return!1;if(Array.isArray(c.traces))if(Array.isArray(u.traces)){u.traces.sort();for(var o=0;o<c.traces.length;o++)if(c.traces[o]!==u.traces[o])return!1}else return!1;else if(u.prop!==c.prop)return!1}u=f[0];var d=u.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;l&&(l[d]=n)}return c};function i(t,r,l){var n,s,c,u=!1;if(r.type==="data")n=t._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")n=t._fullLayout;else return!1;return s=R.nestedProperty(n,r.prop).get(),c=l[r.type]=l[r.type]||{},c.hasOwnProperty(r.prop)&&c[r.prop]!==s&&(u=!0),c[r.prop]=s,{changed:u,value:s}}V.executeAPICommand=function(t,r,l){if(r==="skip")return Promise.resolve();var n=g.apiMethodRegistry[r],s=[t];Array.isArray(l)||(l=[]);for(var c=0;c<l.length;c++)s.push(l[c]);return n.apply(null,s).catch(function(u){return R.warn("API call to Plotly."+r+" rejected.",u),Promise.reject(u)})},V.computeAPICommandBindings=function(t,r,l){var n;switch(Array.isArray(l)||(l=[]),r){case"restyle":n=v(t,l);break;case"relayout":n=T(t,l);break;case"update":n=v(t,[l[0],l[2]]).concat(T(t,[l[1]]));break;case"animate":n=L(t,l);break;default:n=[]}return n};function L(t,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function T(t,r){var l=[],n=r[0],s={};if(typeof n=="string")s[n]=r[1];else if(R.isPlainObject(n))s=n;else return l;return p(s,function(c,u,y){l.push({type:"layout",prop:c,value:y})},"",0),l}function v(t,r){var l,n,s,c,u=[];if(n=r[0],s=r[1],l=r[2],c={},typeof n=="string")c[n]=s;else if(R.isPlainObject(n))c=n,l===void 0&&(l=s);else return u;return l===void 0&&(l=null),p(c,function(y,h,b){var f,o;if(Array.isArray(b)){o=b.slice();var d=Math.min(o.length,t.data.length);l&&(d=Math.min(d,l.length)),f=[];for(var A=0;A<d;A++)f[A]=l?l[A]:A}else o=b,f=l?l.slice():null;if(f===null)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(f)){if(!Array.isArray(o)){var M=o;o=[];for(var C=0;C<f.length;C++)o[C]=M}o.length=Math.min(f.length,o.length)}u.push({type:"data",prop:y,traces:f,value:o})},"",0),u}function p(t,r,l,n){Object.keys(t).forEach(function(s){var c=t[s];if(s[0]!=="_"){var u=l+(n>0?".":"")+s;R.isPlainObject(c)?p(c,r,u,n+1):r(u,s,c)}})}},27670:function(G,V,e){var g=e(1426).extendFlat;V.Y=function(R,i){R=R||{},i=i||{};var L={valType:"info_array",editType:R.editType,items:[{valType:"number",min:0,max:1,editType:R.editType},{valType:"number",min:0,max:1,editType:R.editType}],dflt:[0,1]};R.name&&R.name+"",R.trace,i.description&&""+i.description;var T={x:g({},L,{}),y:g({},L,{}),editType:R.editType};return R.noGridCell||(T.row={valType:"integer",min:0,dflt:0,editType:R.editType},T.column={valType:"integer",min:0,dflt:0,editType:R.editType}),T},V.c=function(R,i,L,T){var v=T&&T.x||[0,1],p=T&&T.y||[0,1],t=i.grid;if(t){var r=L("domain.column");r!==void 0&&(r<t.columns?v=t._domains.x[r]:delete R.domain.column);var l=L("domain.row");l!==void 0&&(l<t.rows?p=t._domains.y[l]:delete R.domain.row)}var n=L("domain.x",v),s=L("domain.y",p);n[0]<n[1]||(R.domain.x=v.slice()),s[0]<s[1]||(R.domain.y=p.slice())}},41940:function(G){G.exports=function(V){var e=V.editType,g=V.colorEditType;g===void 0&&(g=e);var R={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:g},editType:e};return V.autoSize&&(R.size.dflt="auto"),V.autoColor&&(R.color.dflt="auto"),V.arrayOk&&(R.family.arrayOk=!0,R.size.arrayOk=!0,R.color.arrayOk=!0),R}},31391:function(G){G.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(G,V){V.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},V.axesNames=["lonaxis","lataxis"],V.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},V.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},V.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},V.clipPad=.001,V.precision=.1,V.landColor="#F0DC82",V.waterColor="#3399FF",V.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},V.sphereSVG={type:"Sphere"},V.fillLayers={ocean:1,land:1,lakes:1},V.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},V.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],V.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],V.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(G,V,e){var g=e(39898),R=e(27362),i=R.geoPath,L=R.geoDistance,T=e(65704),v=e(73972),p=e(71828),t=p.strTranslate,r=e(7901),l=e(91424),n=e(30211),s=e(74875),c=e(89298),u=e(71739).getAutoRange,y=e(28569),h=e(47322).prepSelect,b=e(47322).clearOutline,f=e(47322).selectOnClick,o=e(74455),d=e(78776),A=e(41327),M=e(90973),C=e(96892).zL;function m(w){this.id=w.id,this.graphDiv=w.graphDiv,this.container=w.container,this.topojsonURL=w.topojsonURL,this.isStatic=w.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=m.prototype;G.exports=function(k){return new m(k)},S.plot=function(w,k,I,U){var z=this;if(U)return z.update(w,k,!0);z._geoCalcData=w,z._fullLayout=k;var N=k[this.id],B=[],F=!1;for(var H in d.layerNameToAdjective)if(H!=="frame"&&N["show"+H]){F=!0;break}for(var X=!1,q=0;q<w.length;q++){var ne=w[0][0].trace;ne._geo=z,ne.locationmode&&(F=!0);var oe=ne.marker;if(oe){var ve=oe.angle,J=oe.angleref;(ve||J==="north"||J==="previous")&&(X=!0)}}if(this._hasMarkerAngles=X,F){var Y=M.getTopojsonName(N);(z.topojson===null||Y!==z.topojsonName)&&(z.topojsonName=Y,PlotlyGeoAssets.topojson[z.topojsonName]===void 0&&B.push(z.fetchTopojson()))}B=B.concat(A.fetchTraceGeoData(w)),I.push(new Promise(function(j,K){Promise.all(B).then(function(){z.topojson=PlotlyGeoAssets.topojson[z.topojsonName],z.update(w,k),j()}).catch(K)}))},S.fetchTopojson=function(){var w=this,k=M.getTopojsonPath(w.topojsonURL,w.topojsonName);return new Promise(function(I,U){g.json(k,function(z,N){if(z)return z.status===404?U(new Error(["plotly.js could not find topojson file at",k+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):U(new Error(["unexpected error while fetching topojson file at",k].join(" ")));PlotlyGeoAssets.topojson[w.topojsonName]=N,I()})})},S.update=function(w,k,I){var U=k[this.id];this.hasChoropleth=!1;for(var z=0;z<w.length;z++){var N=w[z],B=N[0].trace;B.type==="choropleth"&&(this.hasChoropleth=!0),B.visible===!0&&B._length>0&&B._module.calcGeoJSON(N,k)}if(!I){var F=this.updateProjection(w,k);if(F)return;(!this.viewInitial||this.scope!==U.scope)&&this.saveViewInitial(U)}this.scope=U.scope,this.updateBaseLayers(k,U),this.updateDims(k,U),this.updateFx(k,U),s.generalUpdatePerTraceModule(this.graphDiv,this,w,U);var H=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=H.selectAll(".point"),this.dataPoints.text=H.selectAll("text"),this.dataPaths.line=H.selectAll(".js-line");var X=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=X.selectAll("path"),this._render()},S.updateProjection=function(w,k){var I=this.graphDiv,U=k[this.id],z=k._size,N=U.domain,B=U.projection,F=U.lonaxis,H=U.lataxis,X=F._ax,q=H._ax,ne=this.projection=x(U),oe=[[z.l+z.w*N.x[0],z.t+z.h*(1-N.y[1])],[z.l+z.w*N.x[1],z.t+z.h*(1-N.y[0])]],ve=U.center||{},J=B.rotation||{},Y=F.range||[],j=H.range||[];if(U.fitbounds){X._length=oe[1][0]-oe[0][0],q._length=oe[1][1]-oe[0][1],X.range=u(I,X),q.range=u(I,q);var K=(X.range[0]+X.range[1])/2,te=(q.range[0]+q.range[1])/2;if(U._isScoped)ve={lon:K,lat:te};else if(U._isClipped){ve={lon:K,lat:te},J={lon:K,lat:te,roll:J.roll};var se=B.type,Q=d.lonaxisSpan[se]/2||180,ee=d.lataxisSpan[se]/2||90;Y=[K-Q,K+Q],j=[te-ee,te+ee]}else ve={lon:K,lat:te},J={lon:K,lat:J.lat,roll:J.roll}}ne.center([ve.lon-J.lon,ve.lat-J.lat]).rotate([-J.lon,-J.lat,J.roll]).parallels(B.parallels);var le=E(Y,j);ne.fitExtent(oe,le);var ie=this.bounds=ne.getBounds(le),he=this.fitScale=ne.scale(),xe=ne.translate();if(U.fitbounds){var Se=ne.getBounds(E(X.range,q.range)),Ee=Math.min((ie[1][0]-ie[0][0])/(Se[1][0]-Se[0][0]),(ie[1][1]-ie[0][1])/(Se[1][1]-Se[0][1]));isFinite(Ee)?ne.scale(Ee*he):p.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ne.scale(B.scale*he);var Ne=this.midPt=[(ie[0][0]+ie[1][0])/2,(ie[0][1]+ie[1][1])/2];if(ne.translate([xe[0]+(Ne[0]-xe[0]),xe[1]+(Ne[1]-xe[1])]).clipExtent(ie),U._isAlbersUsa){var He=ne([ve.lon,ve.lat]),Ce=ne.translate();ne.translate([Ce[0]-(He[0]-Ce[0]),Ce[1]-(He[1]-Ce[1])])}},S.updateBaseLayers=function(w,k){var I=this,U=I.topojson,z=I.layers,N=I.basePaths;function B(oe){return oe==="lonaxis"||oe==="lataxis"}function F(oe){return!!d.lineLayers[oe]}function H(oe){return!!d.fillLayers[oe]}var X=this.hasChoropleth?d.layersForChoropleth:d.layers,q=X.filter(function(oe){return F(oe)||H(oe)?k["show"+oe]:B(oe)?k[oe].showgrid:!0}),ne=I.framework.selectAll(".layer").data(q,String);ne.exit().each(function(oe){delete z[oe],delete N[oe],g.select(this).remove()}),ne.enter().append("g").attr("class",function(oe){return"layer "+oe}).each(function(oe){var ve=z[oe]=g.select(this);oe==="bg"?I.bgRect=ve.append("rect").style("pointer-events","all"):B(oe)?N[oe]=ve.append("path").style("fill","none"):oe==="backplot"?ve.append("g").classed("choroplethlayer",!0):oe==="frontplot"?ve.append("g").classed("scatterlayer",!0):F(oe)?N[oe]=ve.append("path").style("fill","none").style("stroke-miterlimit",2):H(oe)&&(N[oe]=ve.append("path").style("stroke","none"))}),ne.order(),ne.each(function(oe){var ve=N[oe],J=d.layerNameToAdjective[oe];oe==="frame"?ve.datum(d.sphereSVG):F(oe)||H(oe)?ve.datum(C(U,U.objects[oe])):B(oe)&&ve.datum(a(oe,k,w)).call(r.stroke,k[oe].gridcolor).call(l.dashLine,k[oe].griddash,k[oe].gridwidth),F(oe)?ve.call(r.stroke,k[J+"color"]).call(l.dashLine,"",k[J+"width"]):H(oe)&&ve.call(r.fill,k[J+"color"])})},S.updateDims=function(w,k){var I=this.bounds,U=(k.framewidth||0)/2,z=I[0][0]-U,N=I[0][1]-U,B=I[1][0]-z+U,F=I[1][1]-N+U;l.setRect(this.clipRect,z,N,B,F),this.bgRect.call(l.setRect,z,N,B,F).call(r.fill,k.bgcolor),this.xaxis._offset=z,this.xaxis._length=B,this.yaxis._offset=N,this.yaxis._length=F},S.updateFx=function(w,k){var I=this,U=I.graphDiv,z=I.bgRect,N=w.dragmode,B=w.clickmode;if(I.isStatic)return;function F(){var ne=I.viewInitial,oe={};for(var ve in ne)oe[I.id+"."+ve]=ne[ve];v.call("_guiRelayout",U,oe),U.emit("plotly_doubleclick",null)}function H(ne){return I.projection.invert([ne[0]+I.xaxis._offset,ne[1]+I.yaxis._offset])}var X=function(ne,oe){if(oe.isRect){var ve=ne.range={};ve[I.id]=[H([oe.xmin,oe.ymin]),H([oe.xmax,oe.ymax])]}else{var J=ne.lassoPoints={};J[I.id]=oe.map(H)}},q={element:I.bgRect.node(),gd:U,plotinfo:{id:I.id,xaxis:I.xaxis,yaxis:I.yaxis,fillRangeItems:X},xaxes:[I.xaxis],yaxes:[I.yaxis],subplot:I.id,clickFn:function(ne){ne===2&&b(U)}};N==="pan"?(z.node().onmousedown=null,z.call(o(I,k)),z.on("dblclick.zoom",F),U._context._scrollZoom.geo||z.on("wheel.zoom",null)):(N==="select"||N==="lasso")&&(z.on(".zoom",null),q.prepFn=function(ne,oe,ve){h(ne,oe,ve,q,N)},y.init(q)),z.on("mousemove",function(){var ne=I.projection.invert(p.getPositionFromD3Event());if(!ne)return y.unhover(U,g.event);I.xaxis.p2c=function(){return ne[0]},I.yaxis.p2c=function(){return ne[1]},n.hover(U,g.event,I.id)}),z.on("mouseout",function(){U._dragging||y.unhover(U,g.event)}),z.on("click",function(){N!=="select"&&N!=="lasso"&&(B.indexOf("select")>-1&&f(g.event,U,[I.xaxis],[I.yaxis],I.id,q),B.indexOf("event")>-1&&n.click(U,g.event))})},S.makeFramework=function(){var w=this,k=w.graphDiv,I=k._fullLayout,U="clip"+I._uid+w.id;w.clipDef=I._clips.append("clipPath").attr("id",U),w.clipRect=w.clipDef.append("rect"),w.framework=g.select(w.container).append("g").attr("class","geo "+w.id).call(l.setClipUrl,U,k),w.project=function(z){var N=w.projection(z);return N?[N[0]-w.xaxis._offset,N[1]-w.yaxis._offset]:[null,null]},w.xaxis={_id:"x",c2p:function(z){return w.project(z)[0]}},w.yaxis={_id:"y",c2p:function(z){return w.project(z)[1]}},w.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},c.setConvert(w.mockAxis,I)},S.saveViewInitial=function(w){var k=w.center||{},I=w.projection,U=I.rotation||{};this.viewInitial={fitbounds:w.fitbounds,"projection.scale":I.scale};var z;w._isScoped?z={"center.lon":k.lon,"center.lat":k.lat}:w._isClipped?z={"projection.rotation.lon":U.lon,"projection.rotation.lat":U.lat}:z={"center.lon":k.lon,"center.lat":k.lat,"projection.rotation.lon":U.lon},p.extendFlat(this.viewInitial,z)},S.render=function(w){this._hasMarkerAngles&&w?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var w=this.projection,k=w.getPath(),I;function U(N){var B=w(N.lonlat);return B?t(B[0],B[1]):null}function z(N){return w.isLonLatOverEdges(N.lonlat)?"none":null}for(I in this.basePaths)this.basePaths[I].attr("d",k);for(I in this.dataPaths)this.dataPaths[I].attr("d",function(N){return k(N.geojson)});for(I in this.dataPoints)this.dataPoints[I].attr("display",z).attr("transform",U)};function x(w){var k=w.projection,I=k.type,U=d.projNames[I];U="geo"+p.titleCase(U);for(var z=R[U]||T[U],N=z(),B=w._isSatellite?Math.acos(1/k.distance)*180/Math.PI:w._isClipped?d.lonaxisSpan[I]/2:null,F=["center","rotate","parallels","clipExtent"],H=function(ne){return ne?N:[]},X=0;X<F.length;X++){var q=F[X];typeof N[q]!="function"&&(N[q]=H)}return N.isLonLatOverEdges=function(ne){if(N(ne)===null)return!0;if(B){var oe=N.rotate(),ve=L(ne,[-oe[0],-oe[1]]),J=B*Math.PI/180;return ve>J}else return!1},N.getPath=function(){return i().projection(N)},N.getBounds=function(ne){return N.getPath().bounds(ne)},N.precision(d.precision),w._isSatellite&&N.tilt(k.tilt).distance(k.distance),B&&N.clipAngle(B-d.clipPad),N}function a(w,k,I){var U=1e-6,z=2.5,N=k[w],B=d.scopeDefaults[k.scope],F,H,X;w==="lonaxis"?(F=B.lonaxisRange,H=B.lataxisRange,X=function(te,se){return[te,se]}):w==="lataxis"&&(F=B.lataxisRange,H=B.lonaxisRange,X=function(te,se){return[se,te]});var q={type:"linear",range:[F[0],F[1]-U],tick0:N.tick0,dtick:N.dtick};c.setConvert(q,I);var ne=c.calcTicks(q);!k.isScoped&&w==="lonaxis"&&ne.pop();for(var oe=ne.length,ve=new Array(oe),J=0;J<oe;J++)for(var Y=ne[J].x,j=ve[J]=[],K=H[0];K<H[1]+z;K+=z)j.push(X(Y,K));return{type:"MultiLineString",coordinates:ve}}function E(w,k){var I=d.clipPad,U=w[0]+I,z=w[1]-I,N=k[0]+I,B=k[1]-I;U>0&&z<0&&(z+=360);var F=(z-U)/4;return{type:"Polygon",coordinates:[[[U,N],[U,B],[U+F,B],[U+2*F,B],[U+3*F,B],[z,B],[z,N],[z-F,N],[z-2*F,N],[z-3*F,N],[U,N]]]}}},44622:function(G,V,e){var g=e(27659).AU,R=e(71828).counterRegex,i=e(69082),L="geo",T=R(L),v={};v[L]={valType:"subplotid",dflt:L,editType:"calc"};function p(l){for(var n=l._fullLayout,s=l.calcdata,c=n._subplots[L],u=0;u<c.length;u++){var y=c[u],h=g(s,L,y),b=n[y],f=b._subplot;f||(f=i({id:y,graphDiv:l,container:n._geolayer.node(),topojsonURL:l._context.topojsonURL,staticPlot:l._context.staticPlot}),n[y]._subplot=f),f.plot(h,n,l._promises)}}function t(l,n,s,c){for(var u=c._subplots[L]||[],y=0;y<u.length;y++){var h=u[y],b=c[h]._subplot;!n[h]&&b&&(b.framework.remove(),b.clipDef.remove())}}function r(l){for(var n=l._fullLayout,s=n._subplots[L],c=0;c<s.length;c++){var u=n[s[c]],y=u._subplot;y.updateFx(n,u)}}G.exports={attr:L,name:L,idRoot:L,idRegex:T,attrRegex:T,attributes:v,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:p,updateFx:r,clean:t}},77519:function(G,V,e){var g=e(22399),R=e(27670).Y,i=e(79952).P,L=e(78776),T=e(30962).overrideAll,v=e(78607),p={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:g.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:i},t=G.exports=T({domain:R({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(L.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(L.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:g.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:L.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:L.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:L.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:L.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:g.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:g.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:g.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:g.background},lonaxis:p,lataxis:p},"plot","from-root");t.uirevision={valType:"any",editType:"none"}},82161:function(G,V,e){var g=e(71828),R=e(49119),i=e(27659).NG,L=e(78776),T=e(77519),v=L.axesNames;G.exports=function(r,l,n){R(r,l,n,{type:"geo",attributes:T,handleDefaults:p,fullData:n,partition:"y"})};function p(t,r,l,n){var s=i(n.fullData,"geo",n.id),c=s.map(function(j){return j._expandedIndex}),u=l("resolution"),y=l("scope"),h=L.scopeDefaults[y],b=l("projection.type",h.projType),f=r._isAlbersUsa=b==="albers usa";f&&(y=r.scope="usa");var o=r._isScoped=y!=="world",d=r._isSatellite=b==="satellite",A=r._isConic=b.indexOf("conic")!==-1||b==="albers",M=r._isClipped=!!L.lonaxisSpan[b];if(t.visible===!1){var C=g.extendDeep({},r._template);C.showcoastlines=!1,C.showcountries=!1,C.showframe=!1,C.showlakes=!1,C.showland=!1,C.showocean=!1,C.showrivers=!1,C.showsubunits=!1,C.lonaxis&&(C.lonaxis.showgrid=!1),C.lataxis&&(C.lataxis.showgrid=!1),r._template=C}for(var m=l("visible"),S,x=0;x<v.length;x++){var a=v[x],E=[30,10][x],w;if(o)w=h[a+"Range"];else{var k=L[a+"Span"],I=(k[b]||k["*"])/2,U=l("projection.rotation."+a.substr(0,3),h.projRotate[x]);w=[U-I,U+I]}var z=l(a+".range",w);l(a+".tick0"),l(a+".dtick",E),S=l(a+".showgrid",m?void 0:!1),S&&(l(a+".gridcolor"),l(a+".gridwidth"),l(a+".griddash")),r[a]._ax={type:"linear",_id:a.slice(0,3),_traceIndices:c,setScale:g.identity,c2l:g.identity,r2l:g.identity,autorange:!0,range:z.slice(),_m:1,_input:{}}}var N=r.lonaxis.range,B=r.lataxis.range,F=N[0],H=N[1];F>0&&H<0&&(H+=360);var X=(F+H)/2,q;if(!f){var ne=o?h.projRotate:[X,0,0];q=l("projection.rotation.lon",ne[0]),l("projection.rotation.lat",ne[1]),l("projection.rotation.roll",ne[2]),S=l("showcoastlines",!o&&m),S&&(l("coastlinecolor"),l("coastlinewidth")),S=l("showocean",m?void 0:!1),S&&l("oceancolor")}var oe,ve;if(f?(oe=-96.6,ve=38.7):(oe=o?X:q,ve=(B[0]+B[1])/2),l("center.lon",oe),l("center.lat",ve),d&&(l("projection.tilt"),l("projection.distance")),A){var J=h.projParallels||[0,60];l("projection.parallels",J)}l("projection.scale"),S=l("showland",m?void 0:!1),S&&l("landcolor"),S=l("showlakes",m?void 0:!1),S&&l("lakecolor"),S=l("showrivers",m?void 0:!1),S&&(l("rivercolor"),l("riverwidth")),S=l("showcountries",o&&y!=="usa"&&m),S&&(l("countrycolor"),l("countrywidth")),(y==="usa"||y==="north america"&&u===50)&&(l("showsubunits",m),l("subunitcolor"),l("subunitwidth")),o||(S=l("showframe",m),S&&(l("framecolor"),l("framewidth"))),l("bgcolor");var Y=l("fitbounds");Y&&(delete r.projection.scale,o?(delete r.center.lon,delete r.center.lat):M?(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon,delete r.projection.rotation.lat,delete r.lonaxis.range,delete r.lataxis.range):(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon))}},74455:function(G,V,e){var g=e(39898),R=e(71828),i=e(73972),L=Math.PI/180,T=180/Math.PI,v={cursor:"pointer"},p={cursor:"auto"};function t(a,E){var w=a.projection,k;return E._isScoped?k=n:E._isClipped?k=c:k=s,k(a,w)}G.exports=t;function r(a,E){return g.behavior.zoom().translate(E.translate()).scale(E.scale())}function l(a,E,w){var k=a.id,I=a.graphDiv,U=I.layout,z=U[k],N=I._fullLayout,B=N[k],F={},H={};function X(q,ne){F[k+"."+q]=R.nestedProperty(z,q).get(),i.call("_storeDirectGUIEdit",U,N._preGUI,F);var oe=R.nestedProperty(B,q);oe.get()!==ne&&(oe.set(ne),R.nestedProperty(z,q).set(ne),H[k+"."+q]=ne)}w(X),X("projection.scale",E.scale()/a.fitScale),X("fitbounds",!1),I.emit("plotly_relayout",H)}function n(a,E){var w=r(a,E);function k(){g.select(this).style(v)}function I(){E.scale(g.event.scale).translate(g.event.translate),a.render(!0);var N=E.invert(a.midPt);a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/a.fitScale,"geo.center.lon":N[0],"geo.center.lat":N[1]})}function U(N){var B=E.invert(a.midPt);N("center.lon",B[0]),N("center.lat",B[1])}function z(){g.select(this).style(p),l(a,E,U)}return w.on("zoomstart",k).on("zoom",I).on("zoomend",z),w}function s(a,E){var w=r(a,E),k=2,I,U,z,N,B,F,H,X,q;function ne(K){return E.invert(K)}function oe(K){var te=ne(K);if(!te)return!0;var se=E(te);return Math.abs(se[0]-K[0])>k||Math.abs(se[1]-K[1])>k}function ve(){g.select(this).style(v),I=g.mouse(this),U=E.rotate(),z=E.translate(),N=U,B=ne(I)}function J(){if(F=g.mouse(this),oe(I)){w.scale(E.scale()),w.translate(E.translate());return}E.scale(g.event.scale),E.translate([z[0],g.event.translate[1]]),B?ne(F)&&(X=ne(F),H=[N[0]+(X[0]-B[0]),U[1],U[2]],E.rotate(H),N=H):(I=F,B=ne(I)),q=!0,a.render(!0);var K=E.rotate(),te=E.invert(a.midPt);a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/a.fitScale,"geo.center.lon":te[0],"geo.center.lat":te[1],"geo.projection.rotation.lon":-K[0]})}function Y(){g.select(this).style(p),q&&l(a,E,j)}function j(K){var te=E.rotate(),se=E.invert(a.midPt);K("projection.rotation.lon",-te[0]),K("center.lon",se[0]),K("center.lat",se[1])}return w.on("zoomstart",ve).on("zoom",J).on("zoomend",Y),w}function c(a,E){E.rotate(),E.scale();var w=r(a,E),k=x(w,"zoomstart","zoom","zoomend"),I=0,U=w.on,z;w.on("zoomstart",function(){g.select(this).style(v);var X=g.mouse(this),q=E.rotate(),ne=q,oe=E.translate(),ve=y(q);z=u(E,X),U.call(w,"zoom",function(){var J=g.mouse(this);if(E.scale(g.event.scale),!z)X=J,z=u(E,X);else if(u(E,J)){E.rotate(q).translate(oe);var Y=u(E,J),j=b(z,Y),K=M(h(ve,j)),te=f(K,z,ne);(!isFinite(te[0])||!isFinite(te[1])||!isFinite(te[2]))&&(te=ne),E.rotate(te),ne=te}B(k.of(this,arguments))}),N(k.of(this,arguments))}).on("zoomend",function(){g.select(this).style(p),U.call(w,"zoom",null),F(k.of(this,arguments)),l(a,E,H)}).on("zoom.redraw",function(){a.render(!0);var X=E.rotate();a.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":E.scale()/a.fitScale,"geo.projection.rotation.lon":-X[0],"geo.projection.rotation.lat":-X[1]})});function N(X){I++||X({type:"zoomstart"})}function B(X){X({type:"zoom"})}function F(X){--I||X({type:"zoomend"})}function H(X){var q=E.rotate();X("projection.rotation.lon",-q[0]),X("projection.rotation.lat",-q[1])}return g.rebind(w,k,"on")}function u(a,E){var w=a.invert(E);return w&&isFinite(w[0])&&isFinite(w[1])&&C(w)}function y(a){var E=.5*a[0]*L,w=.5*a[1]*L,k=.5*a[2]*L,I=Math.sin(E),U=Math.cos(E),z=Math.sin(w),N=Math.cos(w),B=Math.sin(k),F=Math.cos(k);return[U*N*F+I*z*B,I*N*F-U*z*B,U*z*F+I*N*B,U*N*B-I*z*F]}function h(a,E){var w=a[0],k=a[1],I=a[2],U=a[3],z=E[0],N=E[1],B=E[2],F=E[3];return[w*z-k*N-I*B-U*F,w*N+k*z+I*F-U*B,w*B-k*F+I*z+U*N,w*F+k*B-I*N+U*z]}function b(a,E){if(!(!a||!E)){var w=S(a,E),k=Math.sqrt(m(w,w)),I=.5*Math.acos(Math.max(-1,Math.min(1,m(a,E)))),U=Math.sin(I)/k;return k&&[Math.cos(I),w[2]*U,-w[1]*U,w[0]*U]}}function f(a,E,w){var k=A(E,2,a[0]);k=A(k,1,a[1]),k=A(k,0,a[2]-w[2]);var I=E[0],U=E[1],z=E[2],N=k[0],B=k[1],F=k[2],H=Math.atan2(U,I)*T,X=Math.sqrt(I*I+U*U),q,ne;Math.abs(B)>X?(ne=(B>0?90:-90)-H,q=0):(ne=Math.asin(B/X)*T-H,q=Math.sqrt(X*X-B*B));var oe=180-ne-2*H,ve=(Math.atan2(F,N)-Math.atan2(z,q))*T,J=(Math.atan2(F,N)-Math.atan2(z,-q))*T,Y=o(w[0],w[1],ne,ve),j=o(w[0],w[1],oe,J);return Y<=j?[ne,ve,w[2]]:[oe,J,w[2]]}function o(a,E,w,k){var I=d(w-a),U=d(k-E);return Math.sqrt(I*I+U*U)}function d(a){return(a%360+540)%360-180}function A(a,E,w){var k=w*L,I=a.slice(),U=E===0?1:0,z=E===2?1:2,N=Math.cos(k),B=Math.sin(k);return I[U]=a[U]*N-a[z]*B,I[z]=a[z]*N+a[U]*B,I}function M(a){return[Math.atan2(2*(a[0]*a[1]+a[2]*a[3]),1-2*(a[1]*a[1]+a[2]*a[2]))*T,Math.asin(Math.max(-1,Math.min(1,2*(a[0]*a[2]-a[3]*a[1]))))*T,Math.atan2(2*(a[0]*a[3]+a[1]*a[2]),1-2*(a[2]*a[2]+a[3]*a[3]))*T]}function C(a){var E=a[0]*L,w=a[1]*L,k=Math.cos(w);return[k*Math.cos(E),k*Math.sin(E),Math.sin(w)]}function m(a,E){for(var w=0,k=0,I=a.length;k<I;++k)w+=a[k]*E[k];return w}function S(a,E){return[a[1]*E[2]-a[2]*E[1],a[2]*E[0]-a[0]*E[2],a[0]*E[1]-a[1]*E[0]]}function x(a){for(var E=0,w=arguments.length,k=[];++E<w;)k.push(arguments[E]);var I=g.dispatch.apply(null,k);return I.of=function(U,z){return function(N){var B;try{B=N.sourceEvent=g.event,N.target=a,g.event=N,I[N.type].apply(U,z)}finally{g.event=B}}},I}},27659:function(G,V,e){var g=e(73972),R=e(85555).SUBPLOT_PATTERN;V.AU=function(i,L,T){var v=g.subplotsRegistry[L];if(!v)return[];for(var p=v.attr,t=[],r=0;r<i.length;r++){var l=i[r],n=l[0].trace;n[p]===T&&t.push(l)}return t},V.a0=function(i,L){var T=[],v=[],p;if(typeof L=="string"?p=g.getModule(L).plot:typeof L=="function"?p=L:p=L.plot,!p)return[T,i];for(var t=0;t<i.length;t++){var r=i[t],l=r[0].trace;l.visible!==!0||l._length===0||(l._module.plot===p?T.push(r):v.push(r))}return[T,v]},V.NG=function(L,T,v){if(!g.subplotsRegistry[T])return[];var p=g.subplotsRegistry[T].attr,t=[],r,l,n;if(T==="gl2d"){var s=v.match(R);l="x"+s[1],n="y"+s[2]}for(var c=0;c<L.length;c++)r=L[c],T==="gl2d"&&g.traceIs(r,"gl2d")?r[p[0]]===l&&r[p[1]]===n&&t.push(r):r[p]===v&&t.push(r);return t}},75071:function(G,V,e){var g=e(16825),R=e(1195),i=e(48956),L=e(85555),T=e(38520);G.exports=p;function v(t,r){this.element=t,this.plot=r,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function p(t){var r=t.mouseContainer,l=t.glplot,n=new v(r,l);function s(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}function c(){for(var y=t.graphDiv._fullLayout._axisConstraintGroups,h=t.xaxis._id,b=t.yaxis._id,f=0;f<y.length;f++)if(y[f][h]!==-1){if(y[f][b]!==-1)return!0;break}return!1}n.mouseListener=g(r,u),r.addEventListener("touchstart",function(y){var h=i(y.changedTouches[0],r);u(0,h[0],h[1]),u(1,h[0],h[1]),y.preventDefault()},T?{passive:!1}:!1),r.addEventListener("touchmove",function(y){y.preventDefault();var h=i(y.changedTouches[0],r);u(1,h[0],h[1]),y.preventDefault()},T?{passive:!1}:!1),r.addEventListener("touchend",function(y){u(0,n.lastPos[0],n.lastPos[1]),y.preventDefault()},T?{passive:!1}:!1);function u(y,h,b){var f=t.calcDataBox(),o=l.viewBox,d=n.lastPos[0],A=n.lastPos[1],M=L.MINDRAG*l.pixelRatio,C=L.MINZOOM*l.pixelRatio,m,S;h*=l.pixelRatio,b*=l.pixelRatio,b=o[3]-o[1]-b;function x(U,z,N){var B=Math.min(z,N),F=Math.max(z,N);B!==F?(f[U]=B,f[U+2]=F,n.dataBox=f,t.setRanges(f)):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}switch(t.fullLayout.dragmode){case"zoom":if(y){var a=h/(o[2]-o[0])*(f[2]-f[0])+f[0],E=b/(o[3]-o[1])*(f[3]-f[1])+f[1];n.boxInited||(n.boxStart[0]=a,n.boxStart[1]=E,n.dragStart[0]=h,n.dragStart[1]=b),n.boxEnd[0]=a,n.boxEnd[1]=E,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var w=Math.abs(n.dragStart[0]-h)<C,k=Math.abs(n.dragStart[1]-b)<C;if(c()&&!(w&&k)){m=n.boxEnd[0]-n.boxStart[0],S=n.boxEnd[1]-n.boxStart[1];var I=(f[3]-f[1])/(f[2]-f[0]);Math.abs(m*I)>Math.abs(S)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(m)*I*(S>=0?1:-1),n.boxEnd[1]<f[1]?(n.boxEnd[1]=f[1],n.boxEnd[0]=n.boxStart[0]+(f[1]-n.boxStart[1])/Math.abs(I)):n.boxEnd[1]>f[3]&&(n.boxEnd[1]=f[3],n.boxEnd[0]=n.boxStart[0]+(f[3]-n.boxStart[1])/Math.abs(I))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(S)/I*(m>=0?1:-1),n.boxEnd[0]<f[0]?(n.boxEnd[0]=f[0],n.boxEnd[1]=n.boxStart[1]+(f[0]-n.boxStart[0])*Math.abs(I)):n.boxEnd[0]>f[2]&&(n.boxEnd[0]=f[2],n.boxEnd[1]=n.boxStart[1]+(f[2]-n.boxStart[0])*Math.abs(I)))}else w&&(n.boxEnd[0]=n.boxStart[0]),k&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(m=n.boxStart[0]!==n.boxEnd[0],S=n.boxStart[1]!==n.boxEnd[1],m||S?(m&&(x(0,n.boxStart[0],n.boxEnd[0]),t.xaxis.autorange=!1),S&&(x(1,n.boxStart[1],n.boxEnd[1]),t.yaxis.autorange=!1),t.relayoutCallback()):t.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,y?(n.panning||(n.dragStart[0]=h,n.dragStart[1]=b),Math.abs(n.dragStart[0]-h)<M&&(h=n.dragStart[0]),Math.abs(n.dragStart[1]-b)<M&&(b=n.dragStart[1]),m=(d-h)*(f[2]-f[0])/(l.viewBox[2]-l.viewBox[0]),S=(A-b)*(f[3]-f[1])/(l.viewBox[3]-l.viewBox[1]),f[0]+=m,f[2]+=m,f[1]+=S,f[3]+=S,t.setRanges(f),n.panning=!0,n.lastInputTime=Date.now(),s(),t.cameraChanged(),t.handleAnnotations()):n.panning&&(n.panning=!1,t.relayoutCallback());break}n.lastPos[0]=h,n.lastPos[1]=b}return n.wheelListener=R(r,function(y,h){if(!t.scrollZoom)return!1;var b=t.calcDataBox(),f=l.viewBox,o=n.lastPos[0],d=n.lastPos[1],A=Math.exp(5*h/(f[3]-f[1])),M=o/(f[2]-f[0])*(b[2]-b[0])+b[0],C=d/(f[3]-f[1])*(b[3]-b[1])+b[1];return b[0]=(b[0]-M)*A+M,b[2]=(b[2]-M)*A+M,b[1]=(b[1]-C)*A+C,b[3]=(b[3]-C)*A+C,t.setRanges(b),n.lastInputTime=Date.now(),s(),t.cameraChanged(),t.handleAnnotations(),t.relayoutCallback(),!0},!0),n}},82961:function(G,V,e){var g=e(89298),R=e(78614);function i(p){this.scene=p,this.gl=p.gl,this.pixelRatio=p.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var L=i.prototype,T=["xaxis","yaxis"];L.merge=function(p){this.titleEnable=!1,this.backgroundColor=R(p.plot_bgcolor);var t,r,l,n,s,c,u,y,h,b,f;for(b=0;b<2;++b){t=T[b];var o=t.charAt(0);for(r=p[this.scene[t]._name],l=r.title.text===this.scene.fullLayout._dfltTitle[o]?"":r.title.text,f=0;f<=2;f+=2)this.labelEnable[b+f]=!1,this.labels[b+f]=l,this.labelColor[b+f]=R(r.title.font.color),this.labelFont[b+f]=r.title.font.family,this.labelSize[b+f]=r.title.font.size,this.labelPad[b+f]=this.getLabelPad(t,r),this.tickEnable[b+f]=!1,this.tickColor[b+f]=R((r.tickfont||{}).color),this.tickAngle[b+f]=r.tickangle==="auto"?0:Math.PI*-r.tickangle/180,this.tickPad[b+f]=this.getTickPad(r),this.tickMarkLength[b+f]=0,this.tickMarkWidth[b+f]=r.tickwidth||0,this.tickMarkColor[b+f]=R(r.tickcolor),this.borderLineEnable[b+f]=!1,this.borderLineColor[b+f]=R(r.linecolor),this.borderLineWidth[b+f]=r.linewidth||0;u=this.hasSharedAxis(r),s=this.hasAxisInDfltPos(t,r)&&!u,c=this.hasAxisInAltrPos(t,r)&&!u,n=r.mirror||!1,y=u?String(n).indexOf("all")!==-1:!!n,h=u?n==="allticks":String(n).indexOf("ticks")!==-1,s?this.labelEnable[b]=!0:c&&(this.labelEnable[b+2]=!0),s?this.tickEnable[b]=r.showticklabels:c&&(this.tickEnable[b+2]=r.showticklabels),(s||y)&&(this.borderLineEnable[b]=r.showline),(c||y)&&(this.borderLineEnable[b+2]=r.showline),(s||h)&&(this.tickMarkLength[b]=this.getTickMarkLength(r)),(c||h)&&(this.tickMarkLength[b+2]=this.getTickMarkLength(r)),this.gridLineEnable[b]=r.showgrid,this.gridLineColor[b]=R(r.gridcolor),this.gridLineWidth[b]=r.gridwidth,this.zeroLineEnable[b]=r.zeroline,this.zeroLineColor[b]=R(r.zerolinecolor),this.zeroLineWidth[b]=r.zerolinewidth}},L.hasSharedAxis=function(p){var t=this.scene,r=t.fullLayout._subplots.gl2d,l=g.findSubplotsWithAxis(r,p);return l.indexOf(t.id)!==0},L.hasAxisInDfltPos=function(p,t){var r=t.side;if(p==="xaxis")return r==="bottom";if(p==="yaxis")return r==="left"},L.hasAxisInAltrPos=function(p,t){var r=t.side;if(p==="xaxis")return r==="top";if(p==="yaxis")return r==="right"},L.getLabelPad=function(p,t){var r=1.5,l=t.title.font.size,n=t.showticklabels;if(p==="xaxis")return t.side==="top"?-10+l*(r+(n?1:0)):-10+l*(r+(n?.5:0));if(p==="yaxis")return t.side==="right"?10+l*(r+(n?1:.5)):10+l*(r+(n?.5:0))},L.getTickPad=function(p){return p.ticks==="outside"?10+p.ticklen:15},L.getTickMarkLength=function(p){if(!p.ticks)return 0;var t=p.ticklen;return p.ticks==="inside"?-t:t};function v(p){return new i(p)}G.exports=v},4796:function(G,V,e){var g=e(30962).overrideAll,R=e(92918),i=e(10820),L=e(77922),T=e(85555),v=e(93612),p=e(528),t=e(27659).NG;V.name="gl2d",V.attr=["xaxis","yaxis"],V.idRoot=["x","y"],V.idRegex=T.idRegex,V.attrRegex=T.attrRegex,V.attributes=e(89502),V.supplyLayoutDefaults=function(r,l,n){l._has("cartesian")||v.supplyLayoutDefaults(r,l,n)},V.layoutAttrOverrides=g(v.layoutAttributes,"plot","from-root"),V.baseLayoutAttrOverrides=g({plot_bgcolor:i.plot_bgcolor,hoverlabel:p.hoverlabel},"plot","nested"),V.plot=function(l){for(var n=l._fullLayout,s=l._fullData,c=n._subplots.gl2d,u=0;u<c.length;u++){var y=c[u],h=n._plots[y],b=t(s,"gl2d",y),f=h._scene2d;f===void 0&&(f=new R({id:y,graphDiv:l,container:l.querySelector(".gl-container"),staticPlot:l._context.staticPlot,plotGlPixelRatio:l._context.plotGlPixelRatio},n),h._scene2d=f),f.plot(b,l.calcdata,n,l.layout)}},V.clean=function(r,l,n,s){for(var c=s._subplots.gl2d||[],u=0;u<c.length;u++){var y=c[u],h=s._plots[y];if(h._scene2d){var b=t(r,"gl2d",y);b.length===0&&(h._scene2d.destroy(),delete s._plots[y])}}v.clean.apply(this,arguments)},V.drawFramework=function(r){r._context.staticPlot||v.drawFramework(r)},V.toSVG=function(r){for(var l=r._fullLayout,n=l._subplots.gl2d,s=0;s<n.length;s++){var c=l._plots[n[s]],u=c._scene2d,y=u.toImage("png"),h=l._glimages.append("svg:image");h.attr({xmlns:L.svg,"xlink:href":y,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),u.destroy()}},V.updateFx=function(r){for(var l=r._fullLayout,n=l._subplots.gl2d,s=0;s<n.length;s++){var c=l._plots[n[s]]._scene2d;c.updateFx(l.dragmode)}}},92918:function(G,V,e){var g=e(73972),R=e(89298),i=e(30211),L=e(9330).gl_plot2d,T=e(9330).gl_spikes2d,v=e(9330).gl_select_box,p=e(40372),t=e(82961),r=e(75071),l=e(58617),n=e(99082),s=n.enforce,c=n.clean,u=e(71739).doAutoRange,y=e(64505),h=y.drawMode,b=y.selectMode,f=["xaxis","yaxis"],o,d,A=e(85555).SUBPLOT_PATTERN;function M(S,x){this.container=S.container,this.graphDiv=S.graphDiv,this.pixelRatio=S.plotGlPixelRatio||window.devicePixelRatio,this.id=S.id,this.staticPlot=!!S.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(x),this.makeFramework(),!this.stopped&&(this.glplotOptions=t(this),this.glplotOptions.merge(x),this.glplot=L(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=T(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}G.exports=M;var C=M.prototype;C.makeFramework=function(){if(this.staticPlot){if(!d&&(o=document.createElement("canvas"),d=p({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=d}else{var S=this.container.querySelector(".gl-canvas-focus"),x=p({canvas:S,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!x){l(this),this.stopped=!0;return}this.canvas=S,this.gl=x}var a=this.canvas;a.style.width="100%",a.style.height="100%",a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style["pointer-events"]="none",this.updateSize(a);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var w=this.mouseContainer=document.createElement("div");w.style.position="absolute",w.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var k=this.container;k.appendChild(E),k.appendChild(w);var I=this;w.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),w.addEventListener("mouseover",function(){I.isMouseOver=!0})},C.toImage=function(S){S||(S="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var x=this.glplot.gl,a=x.drawingBufferWidth,E=x.drawingBufferHeight;x.clearColor(1,1,1,0),x.clear(x.COLOR_BUFFER_BIT|x.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),x.bindFramebuffer(x.FRAMEBUFFER,null);var w=new Uint8Array(a*E*4);x.readPixels(0,0,a,E,x.RGBA,x.UNSIGNED_BYTE,w);for(var k=0,I=E-1;k<I;++k,--I)for(var U=0;U<a;++U)for(var z=0;z<4;++z){var N=w[4*(a*k+U)+z];w[4*(a*k+U)+z]=w[4*(a*I+U)+z],w[4*(a*I+U)+z]=N}var B=document.createElement("canvas");B.width=a,B.height=E;var F=B.getContext("2d",{willReadFrequently:!0}),H=F.createImageData(a,E);H.data.set(w),F.putImageData(H,0,0);var X;switch(S){case"jpeg":X=B.toDataURL("image/jpeg");break;case"webp":X=B.toDataURL("image/webp");break;default:X=B.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),X},C.updateSize=function(S){S||(S=this.canvas);var x=this.pixelRatio,a=this.fullLayout,E=a.width,w=a.height,k=Math.ceil(x*E)|0,I=Math.ceil(x*w)|0;return(S.width!==k||S.height!==I)&&(S.width=k,S.height=I),S},C.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var S=[R.calcTicks(this.xaxis),R.calcTicks(this.yaxis)],x=0;x<2;++x)for(var a=0;a<S[x].length;++a)S[x][a].text=S[x][a].text+"";return S};function m(S,x){for(var a=0;a<2;++a){var E=S[a],w=x[a];if(E.length!==w.length)return!0;for(var k=0;k<E.length;++k)if(E[k].x!==w[k].x)return!0}return!1}C.updateRefs=function(S){this.fullLayout=S;var x=this.id.match(A),a="xaxis"+x[1],E="yaxis"+x[2];this.xaxis=this.fullLayout[a],this.yaxis=this.fullLayout[E]},C.relayoutCallback=function(){var S=this.graphDiv,x=this.xaxis,a=this.yaxis,E=S.layout,w={},k=w[x._name+".range"]=x.range.slice(),I=w[a._name+".range"]=a.range.slice();w[x._name+".autorange"]=x.autorange,w[a._name+".autorange"]=a.autorange,g.call("_storeDirectGUIEdit",S.layout,S._fullLayout._preGUI,w);var U=E[x._name];U.range=k,U.autorange=x.autorange;var z=E[a._name];z.range=I,z.autorange=a.autorange,w.lastInputTime=this.camera.lastInputTime,S.emit("plotly_relayout",w)},C.cameraChanged=function(){var S=this.camera;this.glplot.setDataBox(this.calcDataBox());var x=this.computeTickMarks(),a=this.glplotOptions.ticks;m(x,a)&&(this.glplotOptions.ticks=x,this.glplotOptions.dataBox=S.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},C.handleAnnotations=function(){for(var S=this.graphDiv,x=this.fullLayout.annotations,a=0;a<x.length;a++){var E=x[a];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&g.getComponentMethod("annotations","drawOne")(S,a)}},C.destroy=function(){if(this.glplot){var S=this.traces;S&&Object.keys(S).map(function(x){S[x].dispose(),delete S[x]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},C.plot=function(S,x,a){var E=this.glplot;this.updateRefs(a),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(S,x),this.updateFx(a.dragmode);var w=a.width,k=a.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(a),I.screenBox=[0,0,w,k];var U={_fullLayout:{_axisConstraintGroups:a._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:a._size}};c(U,this.xaxis),c(U,this.yaxis);var z=a._size,N=this.xaxis.domain,B=this.yaxis.domain;I.viewBox=[z.l+N[0]*z.w,z.b+B[0]*z.h,w-z.r-(1-N[1])*z.w,k-z.t-(1-B[1])*z.h],this.mouseContainer.style.width=z.w*(N[1]-N[0])+"px",this.mouseContainer.style.height=z.h*(B[1]-B[0])+"px",this.mouseContainer.height=z.h*(B[1]-B[0]),this.mouseContainer.style.left=z.l+N[0]*z.w+"px",this.mouseContainer.style.top=z.t+(1-B[1])*z.h+"px";var F,H;for(H=0;H<2;++H)F=this[f[H]],F._length=I.viewBox[H+2]-I.viewBox[H],u(this.graphDiv,F),F.setScale();s(U),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(a),E.update(I),this.glplot.draw()},C.calcDataBox=function(){var S=this.xaxis,x=this.yaxis,a=S.range,E=x.range,w=S.r2l,k=x.r2l;return[w(a[0]),k(E[0]),w(a[1]),k(E[1])]},C.setRanges=function(S){var x=this.xaxis,a=this.yaxis,E=x.l2r,w=a.l2r;x.range=[E(S[0]),E(S[2])],a.range=[w(S[1]),w(S[3])]},C.updateTraces=function(S,x){var a=Object.keys(this.traces),E,w,k;this.fullData=S;e:for(E=0;E<a.length;E++){var I=a[E],U=this.traces[I];for(w=0;w<S.length;w++)if(k=S[w],k.uid===I&&k.type===U.type)continue e;U.dispose(),delete this.traces[I]}for(E=0;E<S.length;E++){k=S[E];var z=x[E],N=this.traces[k.uid];N?N.update(k,z):(N=k._module.plot(this,k,z),this.traces[k.uid]=N)}this.glplot.objects.sort(function(B,F){return B._trace.index-F._trace.index})},C.updateFx=function(S){b(S)||h(S)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),S==="pan"?this.mouseContainer.style.cursor="move":S==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},C.emitPointAction=function(S,x){for(var a=S.trace.uid,E=S.pointIndex,w,k=0;k<this.fullData.length;k++)this.fullData[k].uid===a&&(w=this.fullData[k]);var I={x:S.traceCoord[0],y:S.traceCoord[1],curveNumber:w.index,pointNumber:E,data:w._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};i.appendArrayPointValue(I,w,E),this.graphDiv.emit(x,{points:[I]})},C.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var S=this.glplot,x=this.camera,a=x.mouseListener,E=this.lastButtonState===1&&a.buttons===0,w=this.fullLayout;this.lastButtonState=a.buttons,this.cameraChanged();var k=a.x*S.pixelRatio,I=this.canvas.height-S.pixelRatio*a.y,U;if(x.boxEnabled&&w.dragmode==="zoom"){this.selectBox.enabled=!0;for(var z=this.selectBox.selectBox=[Math.min(x.boxStart[0],x.boxEnd[0]),Math.min(x.boxStart[1],x.boxEnd[1]),Math.max(x.boxStart[0],x.boxEnd[0]),Math.max(x.boxStart[1],x.boxEnd[1])],N=0;N<2;N++)x.boxStart[N]===x.boxEnd[N]&&(z[N]=S.dataBox[N],z[N+2]=S.dataBox[N+2]);S.setDirty()}else if(!x.panning&&this.isMouseOver){this.selectBox.enabled=!1;var B=w._size,F=this.xaxis.domain,H=this.yaxis.domain;U=S.pick(k/S.pixelRatio+B.l+F[0]*B.w,I/S.pixelRatio-(B.t+(1-H[1])*B.h));var X=U&&U.object._trace.handlePick(U);if(X&&E&&this.emitPointAction(X,"plotly_click"),U&&U.object._trace.hoverinfo!=="skip"&&w.hovermode&&X&&(!this.lastPickResult||this.lastPickResult.traceUid!==X.trace.uid||this.lastPickResult.dataCoord[0]!==X.dataCoord[0]||this.lastPickResult.dataCoord[1]!==X.dataCoord[1])){var q=X;this.lastPickResult={traceUid:X.trace?X.trace.uid:null,dataCoord:X.dataCoord.slice()},this.spikes.update({center:U.dataCoord}),q.screenCoord=[((S.viewBox[2]-S.viewBox[0])*(U.dataCoord[0]-S.dataBox[0])/(S.dataBox[2]-S.dataBox[0])+S.viewBox[0])/S.pixelRatio,(this.canvas.height-(S.viewBox[3]-S.viewBox[1])*(U.dataCoord[1]-S.dataBox[1])/(S.dataBox[3]-S.dataBox[1])-S.viewBox[1])/S.pixelRatio],this.emitPointAction(X,"plotly_hover");var ne=this.fullData[q.trace.index]||{},oe=q.pointIndex,ve=i.castHoverinfo(ne,w,oe);if(ve&&ve!=="all"){var J=ve.split("+");J.indexOf("x")===-1&&(q.traceCoord[0]=void 0),J.indexOf("y")===-1&&(q.traceCoord[1]=void 0),J.indexOf("z")===-1&&(q.traceCoord[2]=void 0),J.indexOf("text")===-1&&(q.textLabel=void 0),J.indexOf("name")===-1&&(q.name=void 0)}i.loneHover({x:q.screenCoord[0],y:q.screenCoord[1],xLabel:this.hoverFormatter("xaxis",q.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",q.traceCoord[1]),zLabel:q.traceCoord[2],text:q.textLabel,name:q.name,color:i.castHoverOption(ne,oe,"bgcolor")||q.color,borderColor:i.castHoverOption(ne,oe,"bordercolor"),fontFamily:i.castHoverOption(ne,oe,"font.family"),fontSize:i.castHoverOption(ne,oe,"font.size"),fontColor:i.castHoverOption(ne,oe,"font.color"),nameLength:i.castHoverOption(ne,oe,"namelength"),textAlign:i.castHoverOption(ne,oe,"align")},{container:this.svgContainer,gd:this.graphDiv})}}U||this.unhover(),S.draw()}},C.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),i.loneUnhover(this.svgContainer))},C.hoverFormatter=function(S,x){if(x!==void 0){var a=this[S];return R.tickText(a,a.c2l(x),"hover").text}}},58547:function(G,V,e){var g=e(30962).overrideAll,R=e(528),i=e(33539),L=e(27659).NG,T=e(71828),v=e(77922),p="gl3d",t="scene";V.name=p,V.attr=t,V.idRoot=t,V.idRegex=V.attrRegex=T.counterRegex("scene"),V.attributes=e(59084),V.layoutAttributes=e(65500),V.baseLayoutAttrOverrides=g({hoverlabel:R.hoverlabel},"plot","nested"),V.supplyLayoutDefaults=e(24682),V.plot=function(l){for(var n=l._fullLayout,s=l._fullData,c=n._subplots[p],u=0;u<c.length;u++){var y=c[u],h=L(s,p,y),b=n[y],f=b.camera,o=b._scene;o||(o=new i({id:y,graphDiv:l,container:l.querySelector(".gl-container"),staticPlot:l._context.staticPlot,plotGlPixelRatio:l._context.plotGlPixelRatio,camera:f},n),b._scene=o),o.viewInitial||(o.viewInitial={up:{x:f.up.x,y:f.up.y,z:f.up.z},eye:{x:f.eye.x,y:f.eye.y,z:f.eye.z},center:{x:f.center.x,y:f.center.y,z:f.center.z}}),o.plot(h,n,l.layout)}},V.clean=function(r,l,n,s){for(var c=s._subplots[p]||[],u=0;u<c.length;u++){var y=c[u];!l[y]&&s[y]._scene&&(s[y]._scene.destroy(),s._infolayer&&s._infolayer.selectAll(".annotation-"+y).remove())}},V.toSVG=function(r){for(var l=r._fullLayout,n=l._subplots[p],s=l._size,c=0;c<n.length;c++){var u=l[n[c]],y=u.domain,h=u._scene,b=h.toImage("png"),f=l._glimages.append("svg:image");f.attr({xmlns:v.svg,"xlink:href":b,x:s.l+s.w*y.x[0],y:s.t+s.h*(1-y.y[1]),width:s.w*(y.x[1]-y.x[0]),height:s.h*(y.y[1]-y.y[0]),preserveAspectRatio:"none"}),h.destroy()}},V.cleanId=function(l){if(l.match(/^scene[0-9]*$/)){var n=l.substr(5);return n==="1"&&(n=""),t+n}},V.updateFx=function(r){for(var l=r._fullLayout,n=l._subplots[p],s=0;s<n.length;s++){var c=l[n[s]]._scene;c.updateFx(l.dragmode,l.hovermode)}}},59084:function(G){G.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(G,V,e){var g=e(7901),R=e(13838),i=e(1426).extendFlat,L=e(30962).overrideAll;G.exports=L({visible:R.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:g.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:R.color,categoryorder:R.categoryorder,categoryarray:R.categoryarray,title:{text:R.title.text,font:R.title.font},type:i({},R.type,{values:["-","linear","log","date","category"]}),autotypenumbers:R.autotypenumbers,autorange:R.autorange,rangemode:R.rangemode,range:i({},R.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:R.minor.tickmode,nticks:R.nticks,tick0:R.tick0,dtick:R.dtick,tickvals:R.tickvals,ticktext:R.ticktext,ticks:R.ticks,mirror:R.mirror,ticklen:R.ticklen,tickwidth:R.tickwidth,tickcolor:R.tickcolor,showticklabels:R.showticklabels,labelalias:R.labelalias,tickfont:R.tickfont,tickangle:R.tickangle,tickprefix:R.tickprefix,showtickprefix:R.showtickprefix,ticksuffix:R.ticksuffix,showticksuffix:R.showticksuffix,showexponent:R.showexponent,exponentformat:R.exponentformat,minexponent:R.minexponent,separatethousands:R.separatethousands,tickformat:R.tickformat,tickformatstops:R.tickformatstops,hoverformat:R.hoverformat,showline:R.showline,linecolor:R.linecolor,linewidth:R.linewidth,showgrid:R.showgrid,gridcolor:i({},R.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:R.gridwidth,zeroline:R.zeroline,zerolinecolor:R.zerolinecolor,zerolinewidth:R.zerolinewidth,_deprecated:{title:R._deprecated.title,titlefont:R._deprecated.titlefont}},"plot","from-root")},3277:function(G,V,e){var g=e(84267).mix,R=e(71828),i=e(44467),L=e(77894),T=e(951),v=e(71453),p=["xaxis","yaxis","zaxis"],t=100*(204-68)/(255-68);G.exports=function(l,n,s){var c,u;function y(f,o){return R.coerce(c,u,L,f,o)}for(var h=0;h<p.length;h++){var b=p[h];c=l[b]||{},u=i.newContainer(n,b),u._id=b[0]+s.scene,u._name=b,T(c,u,y,s),v(c,u,y,{font:s.font,letter:b[0],data:s.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:s.bgColor,calendar:s.calendar},s.fullLayout),y("gridcolor",g(u.color,s.bgColor,t).toRgbString()),y("title.text",b[0]),u.setScale=R.noop,y("showspikes")&&(y("spikesides"),y("spikethickness"),y("spikecolor",u.color)),y("showaxeslabels"),y("showbackground")&&y("backgroundcolor")}}},30422:function(G,V,e){var g=e(78614),R=e(71828),i=["xaxis","yaxis","zaxis"];function L(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var T=L.prototype;T.merge=function(p,t){for(var r=this,l=0;l<3;++l){var n=t[i[l]];if(!n.visible){r.tickEnable[l]=!1,r.labelEnable[l]=!1,r.lineEnable[l]=!1,r.lineTickEnable[l]=!1,r.gridEnable[l]=!1,r.zeroEnable[l]=!1,r.backgroundEnable[l]=!1;continue}r.labels[l]=p._meta?R.templateString(n.title.text,p._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(r.labelColor[l]=g(n.title.font.color)),n.title.font.family&&(r.labelFont[l]=n.title.font.family),n.title.font.size&&(r.labelSize[l]=n.title.font.size)),"showline"in n&&(r.lineEnable[l]=n.showline),"linecolor"in n&&(r.lineColor[l]=g(n.linecolor)),"linewidth"in n&&(r.lineWidth[l]=n.linewidth),"showgrid"in n&&(r.gridEnable[l]=n.showgrid),"gridcolor"in n&&(r.gridColor[l]=g(n.gridcolor)),"gridwidth"in n&&(r.gridWidth[l]=n.gridwidth),n.type==="log"?r.zeroEnable[l]=!1:"zeroline"in n&&(r.zeroEnable[l]=n.zeroline),"zerolinecolor"in n&&(r.zeroLineColor[l]=g(n.zerolinecolor)),"zerolinewidth"in n&&(r.zeroLineWidth[l]=n.zerolinewidth),"ticks"in n&&n.ticks?r.lineTickEnable[l]=!0:r.lineTickEnable[l]=!1,"ticklen"in n&&(r.lineTickLength[l]=r._defaultLineTickLength[l]=n.ticklen),"tickcolor"in n&&(r.lineTickColor[l]=g(n.tickcolor)),"tickwidth"in n&&(r.lineTickWidth[l]=n.tickwidth),"tickangle"in n&&(r.tickAngle[l]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(r.tickEnable[l]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(r.tickColor[l]=g(n.tickfont.color)),n.tickfont.family&&(r.tickFont[l]=n.tickfont.family),n.tickfont.size&&(r.tickSize[l]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(r.lineTickMirror[l]=!0,r.lineMirror[l]=!0):n.mirror===!0?(r.lineTickMirror[l]=!1,r.lineMirror[l]=!0):(r.lineTickMirror[l]=!1,r.lineMirror[l]=!1):r.lineMirror[l]=!1,"showbackground"in n&&n.showbackground!==!1?(r.backgroundEnable[l]=!0,r.backgroundColor[l]=g(n.backgroundcolor)):r.backgroundEnable[l]=!1}};function v(p,t){var r=new L;return r.merge(p,t),r}G.exports=v},24682:function(G,V,e){var g=e(71828),R=e(7901),i=e(73972),L=e(49119),T=e(3277),v=e(65500),p=e(27659).NG,t="gl3d";G.exports=function(n,s,c){var u=s._basePlotModules.length>1;function y(h){if(!u){var b=g.validate(n[h],v[h]);if(b)return n[h]}}L(n,s,c,{type:t,attributes:v,handleDefaults:r,fullLayout:s,font:s.font,fullData:c,getDfltFromLayout:y,autotypenumbersDflt:s.autotypenumbers,paper_bgcolor:s.paper_bgcolor,calendar:s.calendar})};function r(l,n,s,c){for(var u=s("bgcolor"),y=R.combine(u,c.paper_bgcolor),h=["up","center","eye"],b=0;b<h.length;b++)s("camera."+h[b]+".x"),s("camera."+h[b]+".y"),s("camera."+h[b]+".z");s("camera.projection.type");var f=!!s("aspectratio.x")&&!!s("aspectratio.y")&&!!s("aspectratio.z"),o=f?"manual":"auto",d=s("aspectmode",o);f||(l.aspectratio=n.aspectratio={x:1,y:1,z:1},d==="manual"&&(n.aspectmode="auto"),l.aspectmode=n.aspectmode);var A=p(c.fullData,t,c.id);T(l,n,{font:c.font,scene:c.id,data:A,bgColor:y,calendar:c.calendar,autotypenumbersDflt:c.autotypenumbersDflt,fullLayout:c.fullLayout}),i.getComponentMethod("annotations3d","handleDefaults")(l,n,c);var M=c.getDfltFromLayout("dragmode");if(M!==!1&&!M)if(M="orbit",l.camera&&l.camera.up){var C=l.camera.up.x,m=l.camera.up.y,S=l.camera.up.z;S!==0&&(!C||!m||!S||S/Math.sqrt(C*C+m*m+S*S)>.999)&&(M="turntable")}else M="turntable";s("dragmode",M),s("hovermode",c.getDfltFromLayout("hovermode"))}},65500:function(G,V,e){var g=e(77894),R=e(27670).Y,i=e(1426).extendFlat,L=e(71828).counterRegex;function T(v,p,t){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:p,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}G.exports={_arrayAttrRegexps:[L("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:i(T(0,0,1),{}),center:i(T(0,0,0),{}),eye:i(T(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:R({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:g,yaxis:g,zaxis:g,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(G,V,e){var g=e(78614),R=["xaxis","yaxis","zaxis"];function i(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var L=i.prototype;L.merge=function(v){for(var p=0;p<3;++p){var t=v[R[p]];if(!t.visible){this.enabled[p]=!1,this.drawSides[p]=!1;continue}this.enabled[p]=t.showspikes,this.colors[p]=g(t.spikecolor),this.drawSides[p]=t.spikesides,this.lineWidth[p]=t.spikethickness}};function T(v){var p=new i;return p.merge(v),p}G.exports=T},96085:function(G,V,e){G.exports=T;var g=e(89298),R=e(71828),i=["xaxis","yaxis","zaxis"];function L(v){for(var p=new Array(3),t=0;t<3;++t){for(var r=v[t],l=new Array(r.length),n=0;n<r.length;++n)l[n]=r[n].x;p[t]=l}return p}function T(v){for(var p=v.axesOptions,t=v.glplot.axesPixels,r=v.fullSceneLayout,l=[[],[],[]],n=0;n<3;++n){var s=r[i[n]];if(s._length=(t[n].hi-t[n].lo)*t[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(s._length)===1/0||isNaN(s._length))l[n]=[];else{s._input_range=s.range.slice(),s.range[0]=t[n].lo/v.dataScale[n],s.range[1]=t[n].hi/v.dataScale[n],s._m=1/(v.dataScale[n]*t[n].pixelsPerDataUnit),s.range[0]===s.range[1]&&(s.range[0]-=1,s.range[1]+=1);var c=s.tickmode;if(s.tickmode==="auto"){s.tickmode="linear";var u=s.nticks||R.constrain(s._length/40,4,9);g.autoTicks(s,Math.abs(s.range[1]-s.range[0])/u)}for(var y=g.calcTicks(s,{msUTC:!0}),h=0;h<y.length;++h)y[h].x=y[h].x*v.dataScale[n],s.type==="date"&&(y[h].text=y[h].text.replace(/\<br\>/g," "));l[n]=y,s.tickmode=c}}p.ticks=l;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var h=0;h<2;++h)p.bounds[h][n]=v.glplot.bounds[h][n]}v.contourLevels=L(l)}},63538:function(G){function V(g,R){var i=[0,0,0,0],L,T;for(L=0;L<4;++L)for(T=0;T<4;++T)i[T]+=g[4*L+T]*R[L];return i}function e(g,R){var i=V(g.projection,V(g.view,V(g.model,[R[0],R[1],R[2],1])));return i}G.exports=e},33539:function(G,V,e){var g=e(9330).gl_plot3d,R=g.createCamera,i=g.createScene,L=e(40372),T=e(38520),v=e(73972),p=e(71828),t=p.preserveDrawingBuffer(),r=e(89298),l=e(30211),n=e(78614),s=e(58617),c=e(63538),u=e(30422),y=e(13133),h=e(96085),b,f,o=!1;function d(k,I){var U=document.createElement("div"),z=k.container;this.graphDiv=k.graphDiv;var N=document.createElementNS("http://www.w3.org/2000/svg","svg");N.style.position="absolute",N.style.top=N.style.left="0px",N.style.width=N.style.height="100%",N.style["z-index"]=20,N.style["pointer-events"]="none",U.appendChild(N),this.svgContainer=N,U.id=k.id,U.style.position="absolute",U.style.top=U.style.left="0px",U.style.width=U.style.height="100%",z.appendChild(U),this.fullLayout=I,this.id=k.id||"scene",this.fullSceneLayout=I[this.id],this.plotArgs=[[],{},{}],this.axesOptions=u(I,I[this.id]),this.spikeOptions=y(I[this.id]),this.container=U,this.staticMode=!!k.staticPlot,this.pixelRatio=this.pixelRatio||k.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var A=d.prototype;A.prepareOptions=function(){var k=this,I={canvas:k.canvas,gl:k.gl,glOptions:{preserveDrawingBuffer:t,premultipliedAlpha:!0,antialias:!0},container:k.container,axes:k.axesOptions,spikes:k.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:k.camera,pixelRatio:k.pixelRatio};if(k.staticMode){if(!f&&(b=document.createElement("canvas"),f=L({canvas:b,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!f))throw new Error("error creating static canvas/context for image server");I.gl=f,I.canvas=b}return I};var M=!0;A.tryCreatePlot=function(){var k=this,I=k.prepareOptions(),U=!0;try{k.glplot=i(I)}catch{if(k.staticMode||!M||t)U=!1;else{p.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{t=I.glOptions.preserveDrawingBuffer=!0,k.glplot=i(I)}catch{t=I.glOptions.preserveDrawingBuffer=!1,U=!1}}}return M=!1,U},A.initializeGLCamera=function(){var k=this,I=k.fullSceneLayout.camera,U=I.projection.type==="orthographic";k.camera=R(k.container,{center:[I.center.x,I.center.y,I.center.z],eye:[I.eye.x,I.eye.y,I.eye.z],up:[I.up.x,I.up.y,I.up.z],_ortho:U,zoomMin:.01,zoomMax:100,mode:"orbit"})},A.initializeGLPlot=function(){var k=this;k.initializeGLCamera();var I=k.tryCreatePlot();if(!I)return s(k);k.traces={},k.make4thDimension();var U=k.graphDiv,z=U.layout,N=function(){var F={};return k.isCameraChanged(z)&&(F[k.id+".camera"]=k.getCamera()),k.isAspectChanged(z)&&(F[k.id+".aspectratio"]=k.glplot.getAspectratio(),z[k.id].aspectmode!=="manual"&&(k.fullSceneLayout.aspectmode=z[k.id].aspectmode=F[k.id+".aspectmode"]="manual")),F},B=function(F){if(F.fullSceneLayout.dragmode!==!1){var H=N();F.saveLayout(z),F.graphDiv.emit("plotly_relayout",H)}};return k.glplot.canvas&&(k.glplot.canvas.addEventListener("mouseup",function(){B(k)}),k.glplot.canvas.addEventListener("touchstart",function(){o=!0}),k.glplot.canvas.addEventListener("wheel",function(F){if(U._context._scrollZoom.gl3d){if(k.camera._ortho){var H=F.deltaX>F.deltaY?1.1:.9090909090909091,X=k.glplot.getAspectratio();k.glplot.setAspectratio({x:H*X.x,y:H*X.y,z:H*X.z})}B(k)}},T?{passive:!1}:!1),k.glplot.canvas.addEventListener("mousemove",function(){if(k.fullSceneLayout.dragmode!==!1&&k.camera.mouseListener.buttons!==0){var F=N();k.graphDiv.emit("plotly_relayouting",F)}}),k.staticMode||k.glplot.canvas.addEventListener("webglcontextlost",function(F){U&&U.emit&&U.emit("plotly_webglcontextlost",{event:F,layer:k.id})},!1)),k.glplot.oncontextloss=function(){k.recoverContext()},k.glplot.onrender=function(){k.render()},!0},A.render=function(){var k=this,I=k.graphDiv,U,z=k.svgContainer,N=k.container.getBoundingClientRect();I._fullLayout._calcInverseTransform(I);var B=I._fullLayout._invScaleX,F=I._fullLayout._invScaleY,H=N.width*B,X=N.height*F;z.setAttributeNS(null,"viewBox","0 0 "+H+" "+X),z.setAttributeNS(null,"width",H),z.setAttributeNS(null,"height",X),h(k),k.glplot.axes.update(k.axesOptions);for(var q=Object.keys(k.traces),ne=null,oe=k.glplot.selection,ve=0;ve<q.length;++ve)U=k.traces[q[ve]],U.data.hoverinfo!=="skip"&&U.handlePick(oe)&&(ne=U),U.setContourLevels&&U.setContourLevels();function J(Ee,Ne,He){var Ce=k.fullSceneLayout[Ee+"axis"];return Ce.type!=="log"&&(Ne=Ce.d2l(Ne)),r.hoverLabelText(Ce,Ne,He)}if(ne!==null){var Y=c(k.glplot.cameraParams,oe.dataCoordinate);U=ne.data;var j=I._fullData[U.index],K=oe.index,te={xLabel:J("x",oe.traceCoordinate[0],U.xhoverformat),yLabel:J("y",oe.traceCoordinate[1],U.yhoverformat),zLabel:J("z",oe.traceCoordinate[2],U.zhoverformat)},se=l.castHoverinfo(j,k.fullLayout,K),Q=(se||"").split("+"),ee=se&&se==="all";!j.hovertemplate&&!ee&&(Q.indexOf("x")===-1&&(te.xLabel=void 0),Q.indexOf("y")===-1&&(te.yLabel=void 0),Q.indexOf("z")===-1&&(te.zLabel=void 0),Q.indexOf("text")===-1&&(oe.textLabel=void 0),Q.indexOf("name")===-1&&(ne.name=void 0));var le,ie=[];U.type==="cone"||U.type==="streamtube"?(te.uLabel=J("x",oe.traceCoordinate[3],U.uhoverformat),(ee||Q.indexOf("u")!==-1)&&ie.push("u: "+te.uLabel),te.vLabel=J("y",oe.traceCoordinate[4],U.vhoverformat),(ee||Q.indexOf("v")!==-1)&&ie.push("v: "+te.vLabel),te.wLabel=J("z",oe.traceCoordinate[5],U.whoverformat),(ee||Q.indexOf("w")!==-1)&&ie.push("w: "+te.wLabel),te.normLabel=oe.traceCoordinate[6].toPrecision(3),(ee||Q.indexOf("norm")!==-1)&&ie.push("norm: "+te.normLabel),U.type==="streamtube"&&(te.divergenceLabel=oe.traceCoordinate[7].toPrecision(3),(ee||Q.indexOf("divergence")!==-1)&&ie.push("divergence: "+te.divergenceLabel)),oe.textLabel&&ie.push(oe.textLabel),le=ie.join("<br>")):U.type==="isosurface"||U.type==="volume"?(te.valueLabel=r.hoverLabelText(k._mockAxis,k._mockAxis.d2l(oe.traceCoordinate[3]),U.valuehoverformat),ie.push("value: "+te.valueLabel),oe.textLabel&&ie.push(oe.textLabel),le=ie.join("<br>")):le=oe.textLabel;var he={x:oe.traceCoordinate[0],y:oe.traceCoordinate[1],z:oe.traceCoordinate[2],data:j._input,fullData:j,curveNumber:j.index,pointNumber:K};l.appendArrayPointValue(he,j,K),U._module.eventData&&(he=j._module.eventData(he,oe,j,{},K));var xe={points:[he]};if(k.fullSceneLayout.hovermode){var Se=[];l.loneHover({trace:j,x:(.5+.5*Y[0]/Y[3])*H,y:(.5-.5*Y[1]/Y[3])*X,xLabel:te.xLabel,yLabel:te.yLabel,zLabel:te.zLabel,text:le,name:ne.name,color:l.castHoverOption(j,K,"bgcolor")||ne.color,borderColor:l.castHoverOption(j,K,"bordercolor"),fontFamily:l.castHoverOption(j,K,"font.family"),fontSize:l.castHoverOption(j,K,"font.size"),fontColor:l.castHoverOption(j,K,"font.color"),nameLength:l.castHoverOption(j,K,"namelength"),textAlign:l.castHoverOption(j,K,"align"),hovertemplate:p.castOption(j,K,"hovertemplate"),hovertemplateLabels:p.extendFlat({},he,te),eventData:[he]},{container:z,gd:I,inOut_bbox:Se}),he.bbox=Se[0]}oe.distance<5&&(oe.buttons||o)?I.emit("plotly_click",xe):I.emit("plotly_hover",xe),this.oldEventData=xe}else l.loneUnhover(z),this.oldEventData&&I.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;k.drawAnnotations(k)},A.recoverContext=function(){var k=this;k.glplot.dispose();var I=function(){if(k.glplot.gl.isContextLost()){requestAnimationFrame(I);return}if(!k.initializeGLPlot()){p.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}k.plot.apply(k,k.plotArgs)};requestAnimationFrame(I)};var C=["xaxis","yaxis","zaxis"];function m(k,I,U){for(var z=k.fullSceneLayout,N=0;N<3;N++){var B=C[N],F=B.charAt(0),H=z[B],X=I[F],q=I[F+"calendar"],ne=I["_"+F+"length"];if(!p.isArrayOrTypedArray(X))U[0][N]=Math.min(U[0][N],0),U[1][N]=Math.max(U[1][N],ne-1);else for(var oe,ve=0;ve<(ne||X.length);ve++)if(p.isArrayOrTypedArray(X[ve]))for(var J=0;J<X[ve].length;++J)oe=H.d2l(X[ve][J],0,q),!isNaN(oe)&&isFinite(oe)&&(U[0][N]=Math.min(U[0][N],oe),U[1][N]=Math.max(U[1][N],oe));else oe=H.d2l(X[ve],0,q),!isNaN(oe)&&isFinite(oe)&&(U[0][N]=Math.min(U[0][N],oe),U[1][N]=Math.max(U[1][N],oe))}}function S(k,I){for(var U=k.fullSceneLayout,z=U.annotations||[],N=0;N<3;N++)for(var B=C[N],F=B.charAt(0),H=U[B],X=0;X<z.length;X++){var q=z[X];if(q.visible){var ne=H.r2l(q[F]);!isNaN(ne)&&isFinite(ne)&&(I[0][N]=Math.min(I[0][N],ne),I[1][N]=Math.max(I[1][N],ne))}}}A.plot=function(k,I,U){var z=this;if(z.plotArgs=[k,I,U],!z.glplot.contextLost){var N,B,F,H,X,q,ne=I[z.id],oe=U[z.id];z.fullLayout=I,z.fullSceneLayout=ne,z.axesOptions.merge(I,ne),z.spikeOptions.merge(ne),z.setViewport(ne),z.updateFx(ne.dragmode,ne.hovermode),z.camera.enableWheel=z.graphDiv._context._scrollZoom.gl3d,z.glplot.setClearColor(n(ne.bgcolor)),z.setConvert(X),k?Array.isArray(k)||(k=[k]):k=[];var ve=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(F=0;F<k.length;++F)N=k[F],!(N.visible!==!0||N._length===0)&&m(this,N,ve);S(this,ve);var J=[1,1,1];for(H=0;H<3;++H)ve[1][H]===ve[0][H]?J[H]=1:J[H]=1/(ve[1][H]-ve[0][H]);for(z.dataScale=J,z.convertAnnotations(this),F=0;F<k.length;++F)N=k[F],!(N.visible!==!0||N._length===0)&&(B=z.traces[N.uid],B?B.data.type===N.type?B.update(N):(B.dispose(),B=N._module.plot(this,N),z.traces[N.uid]=B):(B=N._module.plot(this,N),z.traces[N.uid]=B),B.name=N.name);var Y=Object.keys(z.traces);e:for(F=0;F<Y.length;++F){for(H=0;H<k.length;++H)if(k[H].uid===Y[F]&&k[H].visible===!0&&k[H]._length!==0)continue e;B=z.traces[Y[F]],B.dispose(),delete z.traces[Y[F]]}z.glplot.objects.sort(function(nt,qe){return nt._trace.data.index-qe._trace.data.index});var j=[[0,0,0],[0,0,0]],K={};for(F=0;F<3;++F){if(X=ne[C[F]],q=X.type,q in K?(K[q].acc*=J[F],K[q].count+=1):K[q]={acc:J[F],count:1},X.autorange){j[0][F]=1/0,j[1][F]=-1/0;var te=z.glplot.objects,se=z.fullSceneLayout.annotations||[],Q=X._name.charAt(0);for(H=0;H<te.length;H++){var ee=te[H],le=ee.bounds,ie=ee._trace.data._pad||0;ee.constructor.name==="ErrorBars"&&X._lowerLogErrorBound?j[0][F]=Math.min(j[0][F],X._lowerLogErrorBound):j[0][F]=Math.min(j[0][F],le[0][F]/J[F]-ie),j[1][F]=Math.max(j[1][F],le[1][F]/J[F]+ie)}for(H=0;H<se.length;H++){var he=se[H];if(he.visible){var xe=X.r2l(he[Q]);j[0][F]=Math.min(j[0][F],xe),j[1][F]=Math.max(j[1][F],xe)}}if("rangemode"in X&&X.rangemode==="tozero"&&(j[0][F]=Math.min(j[0][F],0),j[1][F]=Math.max(j[1][F],0)),j[0][F]>j[1][F])j[0][F]=-1,j[1][F]=1;else{var Se=j[1][F]-j[0][F];j[0][F]-=Se/32,j[1][F]+=Se/32}if(X.autorange==="reversed"){var Ee=j[0][F];j[0][F]=j[1][F],j[1][F]=Ee}}else{var Ne=X.range;j[0][F]=X.r2l(Ne[0]),j[1][F]=X.r2l(Ne[1])}j[0][F]===j[1][F]&&(j[0][F]-=1,j[1][F]+=1),z.glplot.setBounds(F,{min:j[0][F]*J[F],max:j[1][F]*J[F]})}var He,Ce=ne.aspectmode;if(Ce==="cube")He=[1,1,1];else if(Ce==="manual"){var be=ne.aspectratio;He=[be.x,be.y,be.z]}else if(Ce==="auto"||Ce==="data"){var we=[1,1,1];for(F=0;F<3;++F){X=ne[C[F]],q=X.type;var ke=K[q];we[F]=Math.pow(ke.acc,1/ke.count)/J[F]}Ce==="data"||Math.max.apply(null,we)/Math.min.apply(null,we)<=4?He=we:He=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");ne.aspectratio.x=oe.aspectratio.x=He[0],ne.aspectratio.y=oe.aspectratio.y=He[1],ne.aspectratio.z=oe.aspectratio.z=He[2],z.glplot.setAspectratio(ne.aspectratio),z.viewInitial.aspectratio||(z.viewInitial.aspectratio={x:ne.aspectratio.x,y:ne.aspectratio.y,z:ne.aspectratio.z}),z.viewInitial.aspectmode||(z.viewInitial.aspectmode=ne.aspectmode);var Fe=ne.domain||null,Pe=I._size||null;if(Fe&&Pe){var Ge=z.container.style;Ge.position="absolute",Ge.left=Pe.l+Fe.x[0]*Pe.w+"px",Ge.top=Pe.t+(1-Fe.y[1])*Pe.h+"px",Ge.width=Pe.w*(Fe.x[1]-Fe.x[0])+"px",Ge.height=Pe.h*(Fe.y[1]-Fe.y[0])+"px"}z.glplot.redraw()}},A.destroy=function(){var k=this;k.glplot&&(k.camera.mouseListener.enabled=!1,k.container.removeEventListener("wheel",k.camera.wheelListener),k.camera=null,k.glplot.dispose(),k.container.parentNode.removeChild(k.container),k.glplot=null)};function x(k){return[[k.eye.x,k.eye.y,k.eye.z],[k.center.x,k.center.y,k.center.z],[k.up.x,k.up.y,k.up.z]]}function a(k){return{up:{x:k.up[0],y:k.up[1],z:k.up[2]},center:{x:k.center[0],y:k.center[1],z:k.center[2]},eye:{x:k.eye[0],y:k.eye[1],z:k.eye[2]},projection:{type:k._ortho===!0?"orthographic":"perspective"}}}A.getCamera=function(){var k=this;return k.camera.view.recalcMatrix(k.camera.view.lastT()),a(k.camera)},A.setViewport=function(k){var I=this,U=k.camera;I.camera.lookAt.apply(this,x(U)),I.glplot.setAspectratio(k.aspectratio);var z=U.projection.type==="orthographic",N=I.camera._ortho;z!==N&&(I.glplot.redraw(),I.glplot.clearRGBA(),I.glplot.dispose(),I.initializeGLPlot())},A.isCameraChanged=function(k){var I=this,U=I.getCamera(),z=p.nestedProperty(k,I.id+".camera"),N=z.get();function B(q,ne,oe,ve){var J=["up","center","eye"],Y=["x","y","z"];return ne[J[oe]]&&q[J[oe]][Y[ve]]===ne[J[oe]][Y[ve]]}var F=!1;if(N===void 0)F=!0;else{for(var H=0;H<3;H++)for(var X=0;X<3;X++)if(!B(U,N,H,X)){F=!0;break}(!N.projection||U.projection&&U.projection.type!==N.projection.type)&&(F=!0)}return F},A.isAspectChanged=function(k){var I=this,U=I.glplot.getAspectratio(),z=p.nestedProperty(k,I.id+".aspectratio"),N=z.get();return N===void 0||N.x!==U.x||N.y!==U.y||N.z!==U.z},A.saveLayout=function(k){var I=this,U=I.fullLayout,z,N,B,F,H,X,q=I.isCameraChanged(k),ne=I.isAspectChanged(k),oe=q||ne;if(oe){var ve={};if(q&&(z=I.getCamera(),N=p.nestedProperty(k,I.id+".camera"),B=N.get(),ve[I.id+".camera"]=B),ne&&(F=I.glplot.getAspectratio(),H=p.nestedProperty(k,I.id+".aspectratio"),X=H.get(),ve[I.id+".aspectratio"]=X),v.call("_storeDirectGUIEdit",k,U._preGUI,ve),q){N.set(z);var J=p.nestedProperty(U,I.id+".camera");J.set(z)}if(ne){H.set(F);var Y=p.nestedProperty(U,I.id+".aspectratio");Y.set(F),I.glplot.redraw()}}return oe},A.updateFx=function(k,I){var U=this,z=U.camera;if(z)if(k==="orbit")z.mode="orbit",z.keyBindingMode="rotate";else if(k==="turntable"){z.up=[0,0,1],z.mode="turntable",z.keyBindingMode="rotate";var N=U.graphDiv,B=N._fullLayout,F=U.fullSceneLayout.camera,H=F.up.x,X=F.up.y,q=F.up.z;if(q/Math.sqrt(H*H+X*X+q*q)<.999){var ne=U.id+".camera.up",oe={x:0,y:0,z:1},ve={};ve[ne]=oe;var J=N.layout;v.call("_storeDirectGUIEdit",J,B._preGUI,ve),F.up=oe,p.nestedProperty(J,ne).set(oe)}}else z.keyBindingMode=k;U.fullSceneLayout.hovermode=I};function E(k,I,U){for(var z=0,N=U-1;z<N;++z,--N)for(var B=0;B<I;++B)for(var F=0;F<4;++F){var H=4*(I*z+B)+F,X=4*(I*N+B)+F,q=k[H];k[H]=k[X],k[X]=q}}function w(k,I,U){for(var z=0;z<U;++z)for(var N=0;N<I;++N){var B=4*(I*z+N),F=k[B+3];if(F>0)for(var H=255/F,X=0;X<3;++X)k[B+X]=Math.min(H*k[B+X],255)}}A.toImage=function(k){var I=this;k||(k="png"),I.staticMode&&I.container.appendChild(b),I.glplot.redraw();var U=I.glplot.gl,z=U.drawingBufferWidth,N=U.drawingBufferHeight;U.bindFramebuffer(U.FRAMEBUFFER,null);var B=new Uint8Array(z*N*4);U.readPixels(0,0,z,N,U.RGBA,U.UNSIGNED_BYTE,B),E(B,z,N),w(B,z,N);var F=document.createElement("canvas");F.width=z,F.height=N;var H=F.getContext("2d",{willReadFrequently:!0}),X=H.createImageData(z,N);X.data.set(B),H.putImageData(X,0,0);var q;switch(k){case"jpeg":q=F.toDataURL("image/jpeg");break;case"webp":q=F.toDataURL("image/webp");break;default:q=F.toDataURL("image/png")}return I.staticMode&&I.container.removeChild(b),q},A.setConvert=function(){for(var k=this,I=0;I<3;I++){var U=k.fullSceneLayout[C[I]];r.setConvert(U,k.fullLayout),U.setScale=p.noop}},A.make4thDimension=function(){var k=this,I=k.graphDiv,U=I._fullLayout;k._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(k._mockAxis,U)},G.exports=d},90060:function(G){G.exports=function(e,g,R,i){i=i||e.length;for(var L=new Array(i),T=0;T<i;T++)L[T]=[e[T],g[T],R[T]];return L}},10820:function(G,V,e){var g=e(41940),R=e(85594),i=e(22399),L=e(29241),T=e(53777),v=e(35025),p=e(1426).extendFlat,t=g({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=i.defaultLine,G.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:g({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:L.newshape,activeshape:L.activeshape,newselection:T.newselection,activeselection:T.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},R.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:g({editType:"layoutstyle"})}}},77734:function(G,V,e){var g=e(78607),R="1.10.1",i=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',L=[' <a target="_blank" href="https://carto.com/">Carto</a>',i].join(" "),T=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),p={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:i,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}]},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}]},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}]},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:L,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}]},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:T,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}]},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:T,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}]},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}]}},t=g(p);G.exports={requiredVersion:R,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:p,styleValuesNonMapbox:t,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+R+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",t.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(G,V,e){var g=e(71828);G.exports=function(i,L){var T=i.split(" "),v=T[0],p=T[1],t=g.isArrayOrTypedArray(L)?g.mean(L):L,r=.5+t/100,l=1.5+t/100,n=["",""],s=[0,0];switch(v){case"top":n[0]="top",s[1]=-l;break;case"bottom":n[0]="bottom",s[1]=l;break}switch(p){case"left":n[1]="right",s[0]=-r;break;case"right":n[1]="left",s[0]=r;break}var c;return n[0]&&n[1]?c=n.join("-"):n[0]?c=n[0]:n[1]?c=n[1]:c="center",{anchor:c,offset:s}}},50101:function(G,V,e){var g=e(44517),R=e(71828),i=R.strTranslate,L=R.strScale,T=e(27659).AU,v=e(77922),p=e(39898),t=e(91424),r=e(63893),l=e(10481),n="mapbox",s=V.constants=e(77734);V.name=n,V.attr="subplot",V.idRoot=n,V.idRegex=V.attrRegex=R.counterRegex(n),V.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},V.layoutAttributes=e(23585),V.supplyLayoutDefaults=e(77882),V.plot=function(h){var b=h._fullLayout,f=h.calcdata,o=b._subplots[n];if(g.version!==s.requiredVersion)throw new Error(s.wrongVersionErrorMsg);var d=c(h,o);g.accessToken=d;for(var A=0;A<o.length;A++){var M=o[A],C=T(f,n,M),m=b[M],S=m._subplot;S||(S=new l(h,M),b[M]._subplot=S),S.viewInitial||(S.viewInitial={center:R.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),S.plot(C,b,h._promises)}},V.clean=function(y,h,b,f){for(var o=f._subplots[n]||[],d=0;d<o.length;d++){var A=o[d];!h[A]&&f[A]._subplot&&f[A]._subplot.destroy()}},V.toSVG=function(y){for(var h=y._fullLayout,b=h._subplots[n],f=h._size,o=0;o<b.length;o++){var d=h[b[o]],A=d.domain,M=d._subplot,C=M.toImage("png"),m=h._glimages.append("svg:image");m.attr({xmlns:v.svg,"xlink:href":C,x:f.l+f.w*A.x[0],y:f.t+f.h*(1-A.y[1]),width:f.w*(A.x[1]-A.x[0]),height:f.h*(A.y[1]-A.y[0]),preserveAspectRatio:"none"});var S=p.select(d._subplot.div),x=S.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!x){var a=h._glimages.append("g");a.attr("transform",i(f.l+f.w*A.x[0]+10,f.t+f.h*(1-A.y[0])-31)),a.append("path").attr("d",s.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),a.append("path").attr("d",s.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),a.append("path").attr("d",s.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),a.append("polygon").attr("points",s.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var E=S.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),w=h._glimages.append("g"),k=w.append("text");k.text(E).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":E});var I=t.bBox(k.node()),U=f.w*(A.x[1]-A.x[0]);if(I.width>U/2){var z=E.split("|").join("<br>");k.text(z).attr("data-unformatted",z).call(r.convertToTspans,y),I=t.bBox(k.node())}k.attr("transform",i(-3,-I.height+8)),w.insert("rect",".static-attribution").attr({x:-I.width-6,y:-I.height-3,width:I.width+6,height:I.height+3,fill:"rgba(255, 255, 255, 0.75)"});var N=1;I.width+6>U&&(N=U/(I.width+6));var B=[f.l+f.w*A.x[1],f.t+f.h*(1-A.y[0])];w.attr("transform",i(B[0],B[1])+L(N))}};function c(y,h){var b=y._fullLayout,f=y._context;if(f.mapboxAccessToken==="")return"";for(var o=[],d=[],A=!1,M=!1,C=0;C<h.length;C++){var m=b[h[C]],S=m.accesstoken;u(m.style)&&(S?R.pushUnique(o,S):(u(m._input.style)&&(R.error("Uses Mapbox map style, but did not set an access token."),A=!0),M=!0)),S&&R.pushUnique(d,S)}if(M){var x=A?s.noAccessTokenErrorMsg:s.missingStyleErrorMsg;throw R.error(x),new Error(x)}return o.length?(o.length>1&&R.warn(s.multipleTokensErrorMsg),o[0]):(d.length&&R.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function u(y){return typeof y=="string"&&(s.styleValuesMapbox.indexOf(y)!==-1||y.indexOf("mapbox://")===0)}V.updateFx=function(y){for(var h=y._fullLayout,b=h._subplots[n],f=0;f<b.length;f++){var o=h[b[f]]._subplot;o.updateFx(h)}}},67911:function(G,V,e){var g=e(71828),R=e(63893).sanitizeHTML,i=e(13056),L=e(77734);function T(l,n){this.subplot=l,this.uid=l.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=L.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=T.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=p(n)},v.needsNewImage=function(l){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&l.sourcetype==="image"&&(this.source!==l.source||JSON.stringify(this.coordinates)!==JSON.stringify(l.coordinates))},v.needsNewSource=function(l){return this.sourceType!==l.sourcetype||JSON.stringify(this.source)!==JSON.stringify(l.source)||this.layerType!==l.type},v.needsNewLayer=function(l){return this.layerType!==l.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(l){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:l.source,coordinates:l.coordinates});var s=this.findFollowingMapboxLayerId(this.lookupBelow());s!==null&&this.subplot.map.moveLayer(this.idLayer,s)},v.updateSource=function(l){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=l.sourcetype,this.source=l.source,!!p(l)){var s=r(l);n.addSource(this.idSource,s)}},v.findFollowingMapboxLayerId=function(l){if(l==="traces")for(var n=this.subplot.getMapLayers(),s=0;s<n.length;s++){var c=n[s].id;if(typeof c=="string"&&c.indexOf(L.traceLayerPrefix)===0){l=c;break}}return l},v.updateLayer=function(l){var n=this.subplot,s=t(l),c=this.lookupBelow(),u=this.findFollowingMapboxLayerId(c);this.removeLayer(),p(l)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":l.sourcelayer||"",type:l.type,minzoom:l.minzoom,maxzoom:l.maxzoom,layout:s.layout,paint:s.paint},u),this.layerType=l.type,this.below=c},v.updateStyle=function(l){if(p(l)){var n=t(l);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var l=this.subplot.map;l.getLayer(this.idLayer)&&l.removeLayer(this.idLayer)},v.dispose=function(){var l=this.subplot.map;l.getLayer(this.idLayer)&&l.removeLayer(this.idLayer),l.getSource(this.idSource)&&l.removeSource(this.idSource)};function p(l){if(!l.visible)return!1;var n=l.source;if(Array.isArray(n)&&n.length>0){for(var s=0;s<n.length;s++)if(typeof n[s]!="string"||n[s].length===0)return!1;return!0}return g.isPlainObject(n)||typeof n=="string"&&n.length>0}function t(l){var n={},s={};switch(l.type){case"circle":g.extendFlat(s,{"circle-radius":l.circle.radius,"circle-color":l.color,"circle-opacity":l.opacity});break;case"line":g.extendFlat(s,{"line-width":l.line.width,"line-color":l.color,"line-opacity":l.opacity,"line-dasharray":l.line.dash});break;case"fill":g.extendFlat(s,{"fill-color":l.color,"fill-outline-color":l.fill.outlinecolor,"fill-opacity":l.opacity});break;case"symbol":var c=l.symbol,u=i(c.textposition,c.iconsize);g.extendFlat(n,{"icon-image":c.icon+"-15","icon-size":c.iconsize/10,"text-field":c.text,"text-size":c.textfont.size,"text-anchor":u.anchor,"text-offset":u.offset,"symbol-placement":c.placement}),g.extendFlat(s,{"icon-color":l.color,"text-color":c.textfont.color,"text-opacity":l.opacity});break;case"raster":g.extendFlat(s,{"raster-fade-duration":0,"raster-opacity":l.opacity});break}return{layout:n,paint:s}}function r(l){var n=l.sourcetype,s=l.source,c={type:n},u;return n==="geojson"?u="data":n==="vector"?u=typeof s=="string"?"url":"tiles":n==="raster"?(u="tiles",c.tileSize=256):n==="image"&&(u="url",c.coordinates=l.coordinates),c[u]=s,l.sourceattribution&&(c.attribution=R(l.sourceattribution)),c}G.exports=function(n,s,c){var u=new T(n,s);return u.update(c),u}},23585:function(G,V,e){var g=e(71828),R=e(7901).defaultLine,i=e(27670).Y,L=e(41940),T=e(82196).textposition,v=e(30962).overrideAll,p=e(44467).templatedArray,t=e(77734),r=L({});r.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var l=G.exports=v({_arrayAttrRegexps:[g.counterRegex("mapbox",".layers",!0)],domain:i({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:p("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:R},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:R}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:r,textposition:g.extendFlat({},T,{arrayOk:!1})}})},"plot","from-root");l.uirevision={valType:"any",editType:"none"}},77882:function(G,V,e){var g=e(71828),R=e(49119),i=e(85501),L=e(23585);G.exports=function(t,r,l){R(t,r,l,{type:"mapbox",attributes:L,handleDefaults:T,partition:"y",accessToken:r._mapboxAccessToken})};function T(p,t,r,l){r("accesstoken",l.accessToken),r("style"),r("center.lon"),r("center.lat"),r("zoom"),r("bearing"),r("pitch");var n=r("bounds.west"),s=r("bounds.east"),c=r("bounds.south"),u=r("bounds.north");(n===void 0||s===void 0||c===void 0||u===void 0)&&delete t.bounds,i(p,t,{name:"layers",handleItemDefaults:v}),t._input=p}function v(p,t){function r(y,h){return g.coerce(p,t,L.layers,y,h)}var l=r("visible");if(l){var n=r("sourcetype"),s=n==="raster"||n==="image";r("source"),r("sourceattribution"),n==="vector"&&r("sourcelayer"),n==="image"&&r("coordinates");var c;s&&(c="raster");var u=r("type",c);s&&u!=="raster"&&(u=t.type="raster",g.log("Source types *raster* and *image* must drawn *raster* layer type.")),r("below"),r("color"),r("opacity"),r("minzoom"),r("maxzoom"),u==="circle"&&r("circle.radius"),u==="line"&&(r("line.width"),r("line.dash")),u==="fill"&&r("fill.outlinecolor"),u==="symbol"&&(r("symbol.icon"),r("symbol.iconsize"),r("symbol.text"),g.coerceFont(r,"symbol.textfont"),r("symbol.textposition"),r("symbol.placement"))}}},10481:function(G,V,e){var g=e(44517),R=e(71828),i=e(41327),L=e(73972),T=e(89298),v=e(28569),p=e(30211),t=e(64505),r=t.drawMode,l=t.selectMode,n=e(47322).prepSelect,s=e(47322).clearOutline,c=e(47322).clearSelectionsCache,u=e(47322).selectOnClick,y=e(77734),h=e(67911);function b(C,m){this.id=m,this.gd=C;var S=C._fullLayout,x=C._context;this.container=S._glcontainer.node(),this.isStatic=x.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var f=b.prototype;f.plot=function(C,m,S){var x=this,a=m[x.id];x.map&&a.accesstoken!==x.accessToken&&(x.map.remove(),x.map=null,x.styleObj=null,x.traceHash={},x.layerList=[]);var E;x.map?E=new Promise(function(w,k){x.updateMap(C,m,w,k)}):E=new Promise(function(w,k){x.createMap(C,m,w,k)}),S.push(E)},f.createMap=function(C,m,S,x){var a=this,E=m[a.id],w=a.styleObj=d(E.style);a.accessToken=E.accesstoken;var k=E.bounds,I=k?[[k.west,k.south],[k.east,k.north]]:null,U=a.map=new g.Map({container:a.div,style:w.style,center:M(E.center),zoom:E.zoom,bearing:E.bearing,pitch:E.pitch,maxBounds:I,interactive:!a.isStatic,preserveDrawingBuffer:a.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new g.AttributionControl({compact:!0}));U._canvas.style.left="0px",U._canvas.style.top="0px",a.rejectOnError(x),a.isStatic||a.initFx(C,m);var z=[];z.push(new Promise(function(N){U.once("load",N)})),z=z.concat(i.fetchTraceGeoData(C)),Promise.all(z).then(function(){a.fillBelowLookup(C,m),a.updateData(C),a.updateLayout(m),a.resolveOnRender(S)}).catch(x)},f.updateMap=function(C,m,S,x){var a=this,E=a.map,w=m[this.id];a.rejectOnError(x);var k=[],I=d(w.style);JSON.stringify(a.styleObj)!==JSON.stringify(I)&&(a.styleObj=I,E.setStyle(I.style),a.traceHash={},k.push(new Promise(function(U){E.once("styledata",U)}))),k=k.concat(i.fetchTraceGeoData(C)),Promise.all(k).then(function(){a.fillBelowLookup(C,m),a.updateData(C),a.updateLayout(m),a.resolveOnRender(S)}).catch(x)},f.fillBelowLookup=function(C,m){var S=m[this.id],x=S.layers,a,E,w=this.belowLookup={},k=!1;for(a=0;a<C.length;a++){var I=C[a][0].trace,U=I._module;typeof I.below=="string"?E=I.below:U.getBelow&&(E=U.getBelow(I,this)),E===""&&(k=!0),w["trace-"+I.uid]=E||""}for(a=0;a<x.length;a++){var z=x[a];typeof z.below=="string"?E=z.below:k?E="traces":E="",w["layout-"+a]=E}var N={},B,F;for(B in w)E=w[B],N[E]?N[E].push(B):N[E]=[B];for(E in N){var H=N[E];if(H.length>1)for(a=0;a<H.length;a++)B=H[a],B.indexOf("trace-")===0?(F=B.split("trace-")[1],this.traceHash[F]&&(this.traceHash[F].below=null)):B.indexOf("layout-")===0&&(F=B.split("layout-")[1],this.layerList[F]&&(this.layerList[F].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};f.updateData=function(C){var m=this.traceHash,S,x,a,E,w=C.slice().sort(function(N,B){return o[N[0].trace.type]-o[B[0].trace.type]});for(a=0;a<w.length;a++){var k=w[a];x=k[0].trace,S=m[x.uid];var I=!1;S&&(S.type===x.type?(S.update(k),I=!0):S.dispose()),!I&&x._module&&(m[x.uid]=x._module.plot(this,k))}var U=Object.keys(m);e:for(a=0;a<U.length;a++){var z=U[a];for(E=0;E<C.length;E++)if(x=C[E][0].trace,z===x.uid)continue e;S=m[z],S.dispose(),delete m[z]}},f.updateLayout=function(C){var m=this.map,S=C[this.id];!this.dragging&&!this.wheeling&&(m.setCenter(M(S.center)),m.setZoom(S.zoom),m.setBearing(S.bearing),m.setPitch(S.pitch)),this.updateLayers(C),this.updateFramework(C),this.updateFx(C),this.map.resize(),this.gd._context._scrollZoom.mapbox?m.scrollZoom.enable():m.scrollZoom.disable()},f.resolveOnRender=function(C){var m=this.map;m.on("render",function S(){m.loaded()&&(m.off("render",S),setTimeout(C,10))})},f.rejectOnError=function(C){var m=this.map;function S(){C(new Error(y.mapOnErrorMsg))}m.once("error",S),m.once("style.error",S),m.once("source.error",S),m.once("tile.error",S),m.once("layer.error",S)},f.createFramework=function(C){var m=this,S=m.div=document.createElement("div");S.id=m.uid,S.style.position="absolute",m.container.appendChild(S),m.xaxis={_id:"x",c2p:function(x){return m.project(x).x}},m.yaxis={_id:"y",c2p:function(x){return m.project(x).y}},m.updateFramework(C),m.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},T.setConvert(m.mockAxis,C)},f.initFx=function(C,m){var S=this,x=S.gd,a=S.map;a.on("moveend",function(k){if(S.map){var I=x._fullLayout;if(k.originalEvent||S.wheeling){var U=I[S.id];L.call("_storeDirectGUIEdit",x.layout,I._preGUI,S.getViewEdits(U));var z=S.getView();U._input.center=U.center=z.center,U._input.zoom=U.zoom=z.zoom,U._input.bearing=U.bearing=z.bearing,U._input.pitch=U.pitch=z.pitch,x.emit("plotly_relayout",S.getViewEditsWithDerived(z))}k.originalEvent&&k.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),I._rehover&&I._rehover()}}),a.on("wheel",function(){S.wheeling=!0}),a.on("mousemove",function(k){var I=S.div.getBoundingClientRect(),U=[k.originalEvent.offsetX,k.originalEvent.offsetY];k.target.getBoundingClientRect=function(){return I},S.xaxis.p2c=function(){return a.unproject(U).lng},S.yaxis.p2c=function(){return a.unproject(U).lat},x._fullLayout._rehover=function(){x._fullLayout._hoversubplot===S.id&&x._fullLayout[S.id]&&p.hover(x,k,S.id)},p.hover(x,k,S.id),x._fullLayout._hoversubplot=S.id});function E(){p.loneUnhover(m._hoverlayer)}a.on("dragstart",function(){S.dragging=!0,E()}),a.on("zoomstart",E),a.on("mouseout",function(){x._fullLayout._hoversubplot=null});function w(){var k=S.getView();x.emit("plotly_relayouting",S.getViewEditsWithDerived(k))}a.on("drag",w),a.on("zoom",w),a.on("dblclick",function(){var k=x._fullLayout[S.id];L.call("_storeDirectGUIEdit",x.layout,x._fullLayout._preGUI,S.getViewEdits(k));var I=S.viewInitial;a.setCenter(M(I.center)),a.setZoom(I.zoom),a.setBearing(I.bearing),a.setPitch(I.pitch);var U=S.getView();k._input.center=k.center=U.center,k._input.zoom=k.zoom=U.zoom,k._input.bearing=k.bearing=U.bearing,k._input.pitch=k.pitch=U.pitch,x.emit("plotly_doubleclick",null),x.emit("plotly_relayout",S.getViewEditsWithDerived(U))}),S.clearOutline=function(){c(S.dragOptions),s(S.dragOptions.gd)},S.onClickInPanFn=function(k){return function(I){var U=x._fullLayout.clickmode;U.indexOf("select")>-1&&u(I.originalEvent,x,[S.xaxis],[S.yaxis],S.id,k),U.indexOf("event")>-1&&p.click(x,I.originalEvent)}}},f.updateFx=function(C){var m=this,S=m.map,x=m.gd;if(m.isStatic)return;function a(I){var U=m.map.unproject(I);return[U.lng,U.lat]}var E=C.dragmode,w;w=function(I,U){if(U.isRect){var z=I.range={};z[m.id]=[a([U.xmin,U.ymin]),a([U.xmax,U.ymax])]}else{var N=I.lassoPoints={};N[m.id]=U.map(a)}};var k=m.dragOptions;m.dragOptions=R.extendDeep(k||{},{dragmode:C.dragmode,element:m.div,gd:x,plotinfo:{id:m.id,domain:C[m.id].domain,xaxis:m.xaxis,yaxis:m.yaxis,fillRangeItems:w},xaxes:[m.xaxis],yaxes:[m.yaxis],subplot:m.id}),S.off("click",m.onClickInPanHandler),l(E)||r(E)?(S.dragPan.disable(),S.on("zoomstart",m.clearOutline),m.dragOptions.prepFn=function(I,U,z){n(I,U,z,m.dragOptions,E)},v.init(m.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",m.clearOutline),m.div.onmousedown=null,m.div.ontouchstart=null,m.div.removeEventListener("touchstart",m.div._ontouchstart),m.onClickInPanHandler=m.onClickInPanFn(m.dragOptions),S.on("click",m.onClickInPanHandler))},f.updateFramework=function(C){var m=C[this.id].domain,S=C._size,x=this.div.style;x.width=S.w*(m.x[1]-m.x[0])+"px",x.height=S.h*(m.y[1]-m.y[0])+"px",x.left=S.l+m.x[0]*S.w+"px",x.top=S.t+(1-m.y[1])*S.h+"px",this.xaxis._offset=S.l+m.x[0]*S.w,this.xaxis._length=S.w*(m.x[1]-m.x[0]),this.yaxis._offset=S.t+(1-m.y[1])*S.h,this.yaxis._length=S.h*(m.y[1]-m.y[0])},f.updateLayers=function(C){var m=C[this.id],S=m.layers,x=this.layerList,a;if(S.length!==x.length){for(a=0;a<x.length;a++)x[a].dispose();for(x=this.layerList=[],a=0;a<S.length;a++)x.push(h(this,a,S[a]))}else for(a=0;a<S.length;a++)x[a].update(S[a])},f.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},f.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},f.setOptions=function(C,m,S){for(var x in S)this.map[m](C,x,S[x])},f.getMapLayers=function(){return this.map.getStyle().layers},f.addLayer=function(C,m){var S=this.map;if(typeof m=="string"){if(m===""){S.addLayer(C,m);return}for(var x=this.getMapLayers(),a=0;a<x.length;a++)if(m===x[a].id){S.addLayer(C,m);return}R.warn(["Trying to add layer with *below* value",m,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(C)},f.project=function(C){return this.map.project(new g.LngLat(C[0],C[1]))},f.getView=function(){var C=this.map,m=C.getCenter(),S=m.lng,x=m.lat,a={lon:S,lat:x},E=C.getCanvas(),w=parseInt(E.style.width),k=parseInt(E.style.height);return{center:a,zoom:C.getZoom(),bearing:C.getBearing(),pitch:C.getPitch(),_derived:{coordinates:[C.unproject([0,0]).toArray(),C.unproject([w,0]).toArray(),C.unproject([w,k]).toArray(),C.unproject([0,k]).toArray()]}}},f.getViewEdits=function(C){for(var m=this.id,S=["center","zoom","bearing","pitch"],x={},a=0;a<S.length;a++){var E=S[a];x[m+"."+E]=C[E]}return x},f.getViewEditsWithDerived=function(C){var m=this.id,S=this.getViewEdits(C);return S[m+"._derived"]=C._derived,S};function d(C){var m={};return R.isPlainObject(C)?(m.id=C.id,m.style=C):typeof C=="string"?(m.id=C,y.styleValuesMapbox.indexOf(C)!==-1?m.style=A(C):y.stylesNonMapbox[C]?m.style=y.stylesNonMapbox[C]:m.style=C):(m.id=y.styleValueDflt,m.style=A(y.styleValueDflt)),m.transition={duration:0,delay:0},m}function A(C){return y.styleUrlPrefix+C+"-"+y.styleUrlSuffix}function M(C){return[C.lon,C.lat]}G.exports=b},35025:function(G){G.exports=function(V){var e=V.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(G,V,e){var g=e(39898),R=e(84096).Dq,i=e(60721).FF,L=e(92770),T=e(73972),v=e(86281),p=e(44467),t=e(71828),r=e(7901),l=e(50606).BADNUM,n=e(41675),s=e(51873).clearOutline,c=e(21479),u=e(85594),y=e(31391),h=e(27659).a0,b=t.relinkPrivateKeys,f=t._,o=G.exports={};t.extendFlat(o,T),o.attributes=e(9012),o.attributes.type.values=o.allTypes,o.fontAttrs=e(41940),o.layoutAttributes=e(10820),o.fontWeight="normal";var d=o.transformsRegistry,A=e(31137);o.executeAPICommand=A.executeAPICommand,o.computeAPICommandBindings=A.computeAPICommandBindings,o.manageCommandObserver=A.manageCommandObserver,o.hasSimpleAPICommandBindings=A.hasSimpleAPICommandBindings,o.redrawText=function(j){return j=t.getGraphDiv(j),new Promise(function(K){setTimeout(function(){j._fullLayout&&(T.getComponentMethod("annotations","draw")(j),T.getComponentMethod("legend","draw")(j),T.getComponentMethod("colorbar","draw")(j),K(o.previousPromises(j)))},300)})},o.resize=function(j){j=t.getGraphDiv(j);var K,te=new Promise(function(se,Q){(!j||t.isHidden(j))&&Q(new Error("Resize must be passed a displayed plot div element.")),j._redrawTimer&&clearTimeout(j._redrawTimer),j._resolveResize&&(K=j._resolveResize),j._resolveResize=se,j._redrawTimer=setTimeout(function(){if(!j.layout||j.layout.width&&j.layout.height||t.isHidden(j)){se(j);return}delete j.layout.width,delete j.layout.height;var ee=j.changed;j.autoplay=!0,T.call("relayout",j,{autosize:!0}).then(function(){j.changed=ee,j._resolveResize===se&&(delete j._resolveResize,se(j))})},100)});return K&&K(te),te},o.previousPromises=function(j){if((j._promises||[]).length)return Promise.all(j._promises).then(function(){j._promises=[]})},o.addLinks=function(j){if(!(!j._context.showLink&&!j._context.showSources)){var K=j._fullLayout,te=t.ensureSingle(K._paper,"text","js-plot-link-container",function(he){he.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var xe=g.select(this);xe.append("tspan").classed("js-link-to-tool",!0),xe.append("tspan").classed("js-link-spacer",!0),xe.append("tspan").classed("js-sourcelinks",!0)})}),se=te.node(),Q={y:K._paper.attr("height")-9};document.body.contains(se)&&se.getComputedTextLength()>=K.width-20?(Q["text-anchor"]="start",Q.x=5):(Q["text-anchor"]="end",Q.x=K._paper.attr("width")-7),te.attr(Q);var ee=te.select(".js-link-to-tool"),le=te.select(".js-link-spacer"),ie=te.select(".js-sourcelinks");j._context.showSources&&j._context.showSources(j),j._context.showLink&&M(j,ee),le.text(ee.text()&&ie.text()?" - ":"")}};function M(j,K){K.text("");var te=K.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(j._context.linkText+" "+String.fromCharCode(187));if(j._context.sendData)te.on("click",function(){o.sendDataToCloud(j)});else{var se=window.location.pathname.split("/"),Q=window.location.search;te.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+se[2].split(".")[0]+"/"+se[1]+Q})}}o.sendDataToCloud=function(j){var K=(window.PLOTLYENV||{}).BASE_URL||j._context.plotlyServerURL;if(K){j.emit("plotly_beforeexport");var te=g.select(j).append("div").attr("id","hiddenform").style("display","none"),se=te.append("form").attr({action:K+"/external",method:"post",target:"_blank"}),Q=se.append("input").attr({type:"text",name:"data"});return Q.node().value=o.graphJson(j,!1,"keepdata"),se.node().submit(),te.remove(),j.emit("plotly_afterexport"),!1}};var C=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],m=["year","month","dayMonth","dayMonthYear"];o.supplyDefaults=function(j,K){var te=K&&K.skipUpdateCalc,se=j._fullLayout||{};if(se._skipDefaults){delete se._skipDefaults;return}var Q=j._fullLayout={},ee=j.layout||{},le=j._fullData||[],ie=j._fullData=[],he=j.data||[],xe=j.calcdata||[],Se=j._context||{},Ee;j._transitionData||o.createTransitionData(j),Q._dfltTitle={plot:f(j,"Click to enter Plot title"),x:f(j,"Click to enter X axis title"),y:f(j,"Click to enter Y axis title"),colorbar:f(j,"Click to enter Colorscale title"),annotation:f(j,"new text")},Q._traceWord=f(j,"trace");var Ne=a(j,C);if(Q._mapboxAccessToken=Se.mapboxAccessToken,se._initialAutoSizeIsDone){var He=se.width,Ce=se.height;o.supplyLayoutGlobalDefaults(ee,Q,Ne),ee.width||(Q.width=He),ee.height||(Q.height=Ce),o.sanitizeMargins(Q)}else{o.supplyLayoutGlobalDefaults(ee,Q,Ne);var be=!ee.width||!ee.height,we=Q.autosize,ke=Se.autosizable,Fe=be&&(we||ke);Fe?o.plotAutoSize(j,ee,Q):be&&o.sanitizeMargins(Q),!we&&be&&(ee.width=Q.width,ee.height=Q.height)}Q._d3locale=E(Ne,Q.separators),Q._extraFormat=a(j,m),Q._initialAutoSizeIsDone=!0,Q._dataLength=he.length,Q._modules=[],Q._visibleModules=[],Q._basePlotModules=[];var Pe=Q._subplots=x(),Ge=Q._splomAxes={x:{},y:{}},nt=Q._splomSubplots={};Q._splomGridDflt={},Q._scatterStackOpts={},Q._firstScatter={},Q._alignmentOpts={},Q._colorAxes={},Q._requestRangeslider={},Q._traceUids=S(le,he),Q._globalTransforms=(j._context||{}).globalTransforms,o.supplyDataDefaults(he,ie,ee,Q);var qe=Object.keys(Ge.x),Ke=Object.keys(Ge.y);if(qe.length>1&&Ke.length>1){for(T.getComponentMethod("grid","sizeDefaults")(ee,Q),Ee=0;Ee<qe.length;Ee++)t.pushUnique(Pe.xaxis,qe[Ee]);for(Ee=0;Ee<Ke.length;Ee++)t.pushUnique(Pe.yaxis,Ke[Ee]);for(var $e in nt)t.pushUnique(Pe.cartesian,$e)}if(Q._has=o._hasPlotType.bind(Q),le.length===ie.length)for(Ee=0;Ee<ie.length;Ee++)b(ie[Ee],le[Ee]);o.supplyLayoutModuleDefaults(ee,Q,ie,j._transitionData);var vt=Q._visibleModules,yt=[];for(Ee=0;Ee<vt.length;Ee++){var mt=vt[Ee].crossTraceDefaults;mt&&t.pushUnique(yt,mt)}for(Ee=0;Ee<yt.length;Ee++)yt[Ee](ie,Q);Q._hasOnlyLargeSploms=Q._basePlotModules.length===1&&Q._basePlotModules[0].name==="splom"&&qe.length>15&&Ke.length>15&&Q.shapes.length===0&&Q.images.length===0,o.linkSubplots(ie,Q,le,se),o.cleanPlot(ie,Q,le,se);var Et=!!(se._has&&se._has("gl2d")),Xe=!!(Q._has&&Q._has("gl2d")),Ue=!!(se._has&&se._has("cartesian")),Be=!!(Q._has&&Q._has("cartesian")),rt=Ue||Et,it=Be||Xe;rt&&!it?se._bgLayer.remove():it&&!rt&&(Q._shouldCreateBgLayer=!0),se._zoomlayer&&!j._dragging&&s({_fullLayout:se}),w(ie,Q),b(Q,se),T.getComponentMethod("colorscale","crossTraceDefaults")(ie,Q),Q._preGUI||(Q._preGUI={}),Q._tracePreGUI||(Q._tracePreGUI={});var Ye=Q._tracePreGUI,De={},Te;for(Te in Ye)De[Te]="old";for(Ee=0;Ee<ie.length;Ee++)Te=ie[Ee]._fullInput.uid,De[Te]||(Ye[Te]={}),De[Te]="new";for(Te in De)De[Te]==="old"&&delete Ye[Te];N(Q),T.getComponentMethod("rangeslider","makeData")(Q),!te&&xe.length===ie.length&&o.supplyDefaultsUpdateCalc(xe,ie)},o.supplyDefaultsUpdateCalc=function(j,K){for(var te=0;te<K.length;te++){var se=K[te],Q=(j[te]||[])[0];if(Q&&Q.trace){var ee=Q.trace;if(ee._hasCalcTransform){var le=ee._arrayAttrs,ie,he,xe;for(ie=0;ie<le.length;ie++)he=le[ie],xe=t.nestedProperty(ee,he).get().slice(),t.nestedProperty(se,he).set(xe)}Q.trace=se}}};function S(j,K){var te=K.length,se=[],Q,ee;for(Q=0;Q<j.length;Q++){var le=j[Q]._fullInput;le!==ee&&se.push(le),ee=le}var ie=se.length,he=new Array(te),xe={};function Se(He,Ce){he[Ce]=He,xe[He]=1}function Ee(He,Ce){if(He&&typeof He=="string"&&!xe[He])return Se(He,Ce),!0}for(Q=0;Q<te;Q++){var Ne=K[Q].uid;typeof Ne=="number"&&(Ne=String(Ne)),!Ee(Ne,Q)&&(Q<ie&&Ee(se[Q].uid,Q)||Se(t.randstr(xe),Q))}return he}function x(){var j=T.collectableSubplotTypes,K={},te,se;if(!j){j=[];var Q=T.subplotsRegistry;for(var ee in Q){var le=Q[ee],ie=le.attr;if(ie&&(j.push(ee),Array.isArray(ie)))for(se=0;se<ie.length;se++)t.pushUnique(j,ie[se])}}for(te=0;te<j.length;te++)K[j[te]]=[];return K}function a(j,K){var te=j._context.locale;te||(te="en-US");var se=!1,Q={};function ee(Ee){for(var Ne=!0,He=0;He<K.length;He++){var Ce=K[He];Q[Ce]||(Ee[Ce]?Q[Ce]=Ee[Ce]:Ne=!1)}Ne&&(se=!0)}for(var le=0;le<2;le++){for(var ie=j._context.locales,he=0;he<2;he++){var xe=(ie[te]||{}).format;if(xe&&(ee(xe),se))break;ie=T.localeRegistry}var Se=te.split("-")[0];if(se||Se===te)break;te=Se}return se||ee(T.localeRegistry.en.format),Q}function E(j,K){return j.decimal=K.charAt(0),j.thousands=K.charAt(1),{numberFormat:function(te){try{te=i(j).format(t.adjustFormat(te))}catch{return t.warnBadFormat(te),t.noFormat}return te},timeFormat:R(j).utcFormat}}function w(j,K){var te,se=[];K.meta&&(te=K._meta={meta:K.meta,layout:{meta:K.meta}});for(var Q=0;Q<j.length;Q++){var ee=j[Q];ee.meta?se[ee.index]=ee._meta={meta:ee.meta}:K.meta&&(ee._meta={meta:K.meta}),K.meta&&(ee._meta.layout={meta:K.meta})}se.length&&(te||(te=K._meta={}),te.data=se)}o.createTransitionData=function(j){j._transitionData||(j._transitionData={}),j._transitionData._frames||(j._transitionData._frames=[]),j._transitionData._frameHash||(j._transitionData._frameHash={}),j._transitionData._counter||(j._transitionData._counter=0),j._transitionData._interruptCallbacks||(j._transitionData._interruptCallbacks=[])},o._hasPlotType=function(j){var K,te=this._basePlotModules||[];for(K=0;K<te.length;K++)if(te[K].name===j)return!0;var se=this._modules||[];for(K=0;K<se.length;K++){var Q=se[K].name;if(Q===j)return!0;var ee=T.modules[Q];if(ee&&ee.categories[j])return!0}return!1},o.cleanPlot=function(j,K,te,se){var Q,ee,le=se._basePlotModules||[];for(Q=0;Q<le.length;Q++){var ie=le[Q];ie.clean&&ie.clean(j,K,te,se)}var he=se._has&&se._has("gl"),xe=K._has&&K._has("gl");he&&!xe&&se._glcontainer!==void 0&&(se._glcontainer.selectAll(".gl-canvas").remove(),se._glcontainer.selectAll(".no-webgl").remove(),se._glcanvas=null);var Se=!!se._infolayer;e:for(Q=0;Q<te.length;Q++){var Ee=te[Q],Ne=Ee.uid;for(ee=0;ee<j.length;ee++){var He=j[ee];if(Ne===He.uid)continue e}Se&&se._infolayer.select(".cb"+Ne).remove()}},o.linkSubplots=function(j,K,te,se){var Q,ee,le=se._plots||{},ie=K._plots={},he=K._subplots,xe={_fullData:j,_fullLayout:K},Se=he.cartesian.concat(he.gl2d||[]);for(Q=0;Q<Se.length;Q++){var Ee=Se[Q],Ne=le[Ee],He=n.getFromId(xe,Ee,"x"),Ce=n.getFromId(xe,Ee,"y"),be;for(Ne?be=ie[Ee]=Ne:(be=ie[Ee]={},be.id=Ee),He._counterAxes.push(Ce._id),Ce._counterAxes.push(He._id),He._subplotsWith.push(Ee),Ce._subplotsWith.push(Ee),be.xaxis=He,be.yaxis=Ce,be._hasClipOnAxisFalse=!1,ee=0;ee<j.length;ee++){var we=j[ee];if(we.xaxis===be.xaxis._id&&we.yaxis===be.yaxis._id&&we.cliponaxis===!1){be._hasClipOnAxisFalse=!0;break}}}var ke=n.list(xe,null,!0),Fe;for(Q=0;Q<ke.length;Q++){Fe=ke[Q];var Pe=null;Fe.overlaying&&(Pe=n.getFromId(xe,Fe.overlaying),Pe&&Pe.overlaying&&(Fe.overlaying=!1,Pe=null)),Fe._mainAxis=Pe||Fe,Pe&&(Fe.domain=Pe.domain.slice()),Fe._anchorAxis=Fe.anchor==="free"?null:n.getFromId(xe,Fe.anchor)}for(Q=0;Q<ke.length;Q++)if(Fe=ke[Q],Fe._counterAxes.sort(n.idSort),Fe._subplotsWith.sort(t.subplotSort),Fe._mainSubplot=k(Fe,K),Fe._counterAxes.length&&(Fe.spikemode&&Fe.spikemode.indexOf("across")!==-1||Fe.automargin&&Fe.mirror&&Fe.anchor!=="free"||T.getComponentMethod("rangeslider","isVisible")(Fe))){var Ge=1,nt=0;for(ee=0;ee<Fe._counterAxes.length;ee++){var qe=n.getFromId(xe,Fe._counterAxes[ee]);Ge=Math.min(Ge,qe.domain[0]),nt=Math.max(nt,qe.domain[1])}Ge<nt&&(Fe._counterDomainMin=Ge,Fe._counterDomainMax=nt)}};function k(j,K){var te={_fullLayout:K},se=j._id.charAt(0)==="x",Q=j._mainAxis._anchorAxis,ee="",le="",ie="";if(Q&&(ie=Q._mainAxis._id,ee=se?j._id+ie:ie+j._id),!ee||!K._plots[ee]){ee="";for(var he=j._counterAxes,xe=0;xe<he.length;xe++){var Se=he[xe],Ee=se?j._id+Se:Se+j._id;le||(le=Ee);var Ne=n.getFromId(te,Se);if(ie&&Ne.overlaying===ie){ee=Ee;break}}}return ee||le}o.clearExpandedTraceDefaultColors=function(j){var K,te,se;function Q(le,ie,he,xe){te[xe]=ie,te.length=xe+1,le.valType==="color"&&le.dflt===void 0&&K.push(te.join("."))}for(te=[],K=j._module._colorAttrs,K||(j._module._colorAttrs=K=[],v.crawl(j._module.attributes,Q)),se=0;se<K.length;se++){var ee=t.nestedProperty(j,"_input."+K[se]);ee.get()||t.nestedProperty(j,K[se]).set(null)}},o.supplyDataDefaults=function(j,K,te,se){var Q=se._modules,ee=se._visibleModules,le=se._basePlotModules,ie=0,he=0,xe,Se,Ee;se._transformModules=[];function Ne(Ke){K.push(Ke);var $e=Ke._module;$e&&(t.pushUnique(Q,$e),Ke.visible===!0&&t.pushUnique(ee,$e),t.pushUnique(le,Ke._module.basePlotModule),ie++,Ke._input.visible!==!1&&he++)}var He={},Ce=[],be=(te.template||{}).data||{},we=p.traceTemplater(be);for(xe=0;xe<j.length;xe++){if(Ee=j[xe],Se=we.newTrace(Ee),Se.uid=se._traceUids[xe],o.supplyTraceDefaults(Ee,Se,he,se,xe),Se.index=xe,Se._input=Ee,Se._expandedIndex=ie,Se.transforms&&Se.transforms.length)for(var ke=Ee.visible!==!1&&Se.visible===!1,Fe=U(Se,K,te,se),Pe=0;Pe<Fe.length;Pe++){var Ge=Fe[Pe],nt={_template:Se._template,type:Se.type,uid:Se.uid+Pe};ke&&Ge.visible===!1&&delete Ge.visible,o.supplyTraceDefaults(Ge,nt,ie,se,xe),b(nt,Ge),nt.index=xe,nt._input=Ee,nt._fullInput=Se,nt._expandedIndex=ie,nt._expandedInput=Ge,Ne(nt)}else Se._fullInput=Se,Se._expandedInput=Se,Ne(Se);T.traceIs(Se,"carpetAxis")&&(He[Se.carpet]=Se),T.traceIs(Se,"carpetDependent")&&Ce.push(xe)}for(xe=0;xe<Ce.length;xe++)if(Se=K[Ce[xe]],!!Se.visible){var qe=He[Se.carpet];if(Se._carpet=qe,!qe||!qe.visible){Se.visible=!1;continue}Se.xaxis=qe.xaxis,Se.yaxis=qe.yaxis}},o.supplyAnimationDefaults=function(j){j=j||{};var K,te={};function se(Q,ee){return t.coerce(j||{},te,u,Q,ee)}if(se("mode"),se("direction"),se("fromcurrent"),Array.isArray(j.frame))for(te.frame=[],K=0;K<j.frame.length;K++)te.frame[K]=o.supplyAnimationFrameDefaults(j.frame[K]||{});else te.frame=o.supplyAnimationFrameDefaults(j.frame||{});if(Array.isArray(j.transition))for(te.transition=[],K=0;K<j.transition.length;K++)te.transition[K]=o.supplyAnimationTransitionDefaults(j.transition[K]||{});else te.transition=o.supplyAnimationTransitionDefaults(j.transition||{});return te},o.supplyAnimationFrameDefaults=function(j){var K={};function te(se,Q){return t.coerce(j||{},K,u.frame,se,Q)}return te("duration"),te("redraw"),K},o.supplyAnimationTransitionDefaults=function(j){var K={};function te(se,Q){return t.coerce(j||{},K,u.transition,se,Q)}return te("duration"),te("easing"),K},o.supplyFrameDefaults=function(j){var K={};function te(se,Q){return t.coerce(j,K,y,se,Q)}return te("group"),te("name"),te("traces"),te("baseframe"),te("data"),te("layout"),K},o.supplyTraceDefaults=function(j,K,te,se,Q){var ee=se.colorway||r.defaults,le=ee[te%ee.length],ie;function he(Fe,Pe){return t.coerce(j,K,o.attributes,Fe,Pe)}var xe=he("visible");he("type"),he("name",se._traceWord+" "+Q),he("uirevision",se.uirevision);var Se=o.getModule(K);if(K._module=Se,Se){var Ee=Se.basePlotModule,Ne=Ee.attr,He=Ee.attributes;if(Ne&&He){var Ce=se._subplots,be="";if(xe||Ee.name!=="gl2d"){if(Array.isArray(Ne))for(ie=0;ie<Ne.length;ie++){var we=Ne[ie],ke=t.coerce(j,K,He,we);Ce[we]&&t.pushUnique(Ce[we],ke),be+=ke}else be=t.coerce(j,K,He,Ne);Ce[Ee.name]&&t.pushUnique(Ce[Ee.name],be)}}}return xe&&(he("customdata"),he("ids"),he("meta"),T.traceIs(K,"showLegend")?(t.coerce(j,K,Se.attributes.showlegend?Se.attributes:o.attributes,"showlegend"),he("legend"),he("legendwidth"),he("legendgroup"),he("legendgrouptitle.text"),he("legendrank"),K._dfltShowLegend=!0):K._dfltShowLegend=!1,Se&&Se.supplyDefaults(j,K,le,se),T.traceIs(K,"noOpacity")||he("opacity"),T.traceIs(K,"notLegendIsolatable")&&(K.visible=!!K.visible),T.traceIs(K,"noHover")||(K.hovertemplate||t.coerceHoverinfo(j,K,se),K.type!=="parcats"&&T.getComponentMethod("fx","supplyDefaults")(j,K,le,se)),Se&&Se.selectPoints&&he("selectedpoints"),o.supplyTransformDefaults(j,K,se)),K};function I(j){var K=j.transforms;if(Array.isArray(K)&&K.length)for(var te=0;te<K.length;te++){var se=K[te],Q=se._module||d[se.type];if(Q&&Q.makesData)return!0}return!1}o.hasMakesDataTransform=I,o.supplyTransformDefaults=function(j,K,te){if(K._length||I(j)){var se=te._globalTransforms||[],Q=te._transformModules||[];if(!(!Array.isArray(j.transforms)&&se.length===0))for(var ee=j.transforms||[],le=se.concat(ee),ie=K.transforms=[],he=0;he<le.length;he++){var xe=le[he],Se=xe.type,Ee=d[Se],Ne,He=!(xe._module&&xe._module===Ee),Ce=Ee&&typeof Ee.transform=="function";Ee||t.warn("Unrecognized transform type "+Se+"."),Ee&&Ee.supplyDefaults&&(He||Ce)?(Ne=Ee.supplyDefaults(xe,K,te,j),Ne.type=Se,Ne._module=Ee,t.pushUnique(Q,Ee)):Ne=t.extendFlat({},xe),ie.push(Ne)}}};function U(j,K,te,se){for(var Q=j.transforms,ee=[j],le=0;le<Q.length;le++){var ie=Q[le],he=d[ie.type];he&&he.transform&&(ee=he.transform(ee,{transform:ie,fullTrace:j,fullData:K,layout:te,fullLayout:se,transformIndex:le}))}return ee}o.supplyLayoutGlobalDefaults=function(j,K,te){function se(Ee,Ne){return t.coerce(j,K,o.layoutAttributes,Ee,Ne)}var Q=j.template;t.isPlainObject(Q)&&(K.template=Q,K._template=Q.layout,K._dataTemplate=Q.data),se("autotypenumbers");var ee=t.coerceFont(se,"font"),le=ee.size;t.coerceFont(se,"title.font",t.extendFlat({},ee,{size:Math.round(le*1.4)})),se("title.text",K._dfltTitle.plot),se("title.xref");var ie=se("title.yref");se("title.pad.t"),se("title.pad.r"),se("title.pad.b"),se("title.pad.l");var he=se("title.automargin");se("title.x"),se("title.xanchor"),se("title.y"),se("title.yanchor"),he&&(ie==="paper"&&(K.title.y!==0&&(K.title.y=1),K.title.yanchor==="auto"&&(K.title.yanchor=K.title.y===0?"top":"bottom")),ie==="container"&&(K.title.y==="auto"&&(K.title.y=1),K.title.yanchor==="auto"&&(K.title.yanchor=K.title.y<.5?"bottom":"top")));var xe=se("uniformtext.mode");xe&&se("uniformtext.minsize"),se("autosize",!(j.width&&j.height)),se("width"),se("height"),se("minreducedwidth"),se("minreducedheight"),se("margin.l"),se("margin.r"),se("margin.t"),se("margin.b"),se("margin.pad"),se("margin.autoexpand"),j.width&&j.height&&o.sanitizeMargins(K),T.getComponentMethod("grid","sizeDefaults")(j,K),se("paper_bgcolor"),se("separators",te.decimal+te.thousands),se("hidesources"),se("colorway"),se("datarevision");var Se=se("uirevision");se("editrevision",Se),se("selectionrevision",Se),T.getComponentMethod("modebar","supplyLayoutDefaults")(j,K),T.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(j,K,se),T.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(j,K,se),se("meta"),t.isPlainObject(j.transition)&&(se("transition.duration"),se("transition.easing"),se("transition.ordering")),T.getComponentMethod("calendars","handleDefaults")(j,K,"calendar"),T.getComponentMethod("fx","supplyLayoutGlobalDefaults")(j,K,se),t.coerce(j,K,c,"scattermode")};function z(j){return typeof j=="string"&&j.substr(j.length-2)==="px"&&parseFloat(j)}o.plotAutoSize=function(K,te,se){var Q=K._context||{},ee=Q.frameMargins,le,ie,he=t.isPlotDiv(K);if(he&&K.emit("plotly_autosize"),Q.fillFrame)le=window.innerWidth,ie=window.innerHeight,document.body.style.overflow="hidden";else{var xe=he?window.getComputedStyle(K):{};if(le=z(xe.width)||z(xe.maxWidth)||se.width,ie=z(xe.height)||z(xe.maxHeight)||se.height,L(ee)&&ee>0){var Se=1-2*ee;le=Math.round(Se*le),ie=Math.round(Se*ie)}}var Ee=o.layoutAttributes.width.min,Ne=o.layoutAttributes.height.min;le<Ee&&(le=Ee),ie<Ne&&(ie=Ne);var He=!te.width&&Math.abs(se.width-le)>1,Ce=!te.height&&Math.abs(se.height-ie)>1;(Ce||He)&&(He&&(se.width=le),Ce&&(se.height=ie)),K._initialAutoSize||(K._initialAutoSize={width:le,height:ie}),o.sanitizeMargins(se)},o.supplyLayoutModuleDefaults=function(j,K,te,se){var Q=T.componentsRegistry,ee=K._basePlotModules,le,ie,he,xe=T.subplotsRegistry.cartesian;for(le in Q)he=Q[le],he.includeBasePlot&&he.includeBasePlot(j,K);ee.length||ee.push(xe),K._has("cartesian")&&(T.getComponentMethod("grid","contentDefaults")(j,K),xe.finalizeSubplots(j,K));for(var Se in K._subplots)K._subplots[Se].sort(t.subplotSort);for(ie=0;ie<ee.length;ie++)he=ee[ie],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(j,K,te);var Ee=K._modules;for(ie=0;ie<Ee.length;ie++)he=Ee[ie],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(j,K,te);var Ne=K._transformModules;for(ie=0;ie<Ne.length;ie++)he=Ne[ie],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(j,K,te,se);for(le in Q)he=Q[le],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(j,K,te)},o.purge=function(j){var K=j._fullLayout||{};K._glcontainer!==void 0&&(K._glcontainer.selectAll(".gl-canvas").remove(),K._glcontainer.remove(),K._glcanvas=null),K._modeBar&&K._modeBar.destroy(),j._transitionData&&(j._transitionData._interruptCallbacks&&(j._transitionData._interruptCallbacks.length=0),j._transitionData._animationRaf&&window.cancelAnimationFrame(j._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(j),delete j.data,delete j.layout,delete j._fullData,delete j._fullLayout,delete j.calcdata,delete j.empty,delete j.fid,delete j.undoqueue,delete j.undonum,delete j.autoplay,delete j.changed,delete j._promises,delete j._redrawTimer,delete j._hmlumcount,delete j._hmpixcount,delete j._transitionData,delete j._transitioning,delete j._initialAutoSize,delete j._transitioningWithDuration,delete j._dragging,delete j._dragged,delete j._dragdata,delete j._hoverdata,delete j._snapshotInProgress,delete j._editing,delete j._mouseDownTime,delete j._legendMouseDownTime,j.removeAllListeners&&j.removeAllListeners()},o.style=function(j){var K=j._fullLayout._visibleModules,te=[],se;for(se=0;se<K.length;se++){var Q=K[se];Q.style&&t.pushUnique(te,Q.style)}for(se=0;se<te.length;se++)te[se](j)},o.sanitizeMargins=function(j){if(!(!j||!j.margin)){var K=j.width,te=j.height,se=j.margin,Q=K-(se.l+se.r),ee=te-(se.t+se.b),le;Q<0&&(le=(K-1)/(se.l+se.r),se.l=Math.floor(le*se.l),se.r=Math.floor(le*se.r)),ee<0&&(le=(te-1)/(se.t+se.b),se.t=Math.floor(le*se.t),se.b=Math.floor(le*se.b))}},o.clearAutoMarginIds=function(j){j._fullLayout._pushmarginIds={}},o.allowAutoMargin=function(j,K){j._fullLayout._pushmarginIds[K]=1};function N(j){var K=j.margin;if(!j._size){var te=j._size={l:Math.round(K.l),r:Math.round(K.r),t:Math.round(K.t),b:Math.round(K.b),p:Math.round(K.pad)};te.w=Math.round(j.width)-te.l-te.r,te.h=Math.round(j.height)-te.t-te.b}j._pushmargin||(j._pushmargin={}),j._pushmarginIds||(j._pushmarginIds={}),j._reservedMargin||(j._reservedMargin={})}var B=2,F=2;o.autoMargin=function(j,K,te){var se=j._fullLayout,Q=se.width,ee=se.height,le=se.margin,ie=se.minreducedwidth,he=se.minreducedheight,xe=t.constrain(Q-le.l-le.r,B,ie),Se=t.constrain(ee-le.t-le.b,F,he),Ee=Math.max(0,Q-xe),Ne=Math.max(0,ee-Se),He=se._pushmargin,Ce=se._pushmarginIds;if(le.autoexpand!==!1){if(!te)delete He[K],delete Ce[K];else{var be=te.pad;if(be===void 0&&(be=Math.min(12,le.l,le.r,le.t,le.b)),Ee){var we=(te.l+te.r)/Ee;we>1&&(te.l/=we,te.r/=we)}if(Ne){var ke=(te.t+te.b)/Ne;ke>1&&(te.t/=ke,te.b/=ke)}var Fe=te.xl!==void 0?te.xl:te.x,Pe=te.xr!==void 0?te.xr:te.x,Ge=te.yt!==void 0?te.yt:te.y,nt=te.yb!==void 0?te.yb:te.y;He[K]={l:{val:Fe,size:te.l+be},r:{val:Pe,size:te.r+be},b:{val:nt,size:te.b+be},t:{val:Ge,size:te.t+be}},Ce[K]=1}if(!se._replotting)return o.doAutoMargin(j)}};function H(j){if("_redrawFromAutoMarginCount"in j._fullLayout)return!1;var K=n.list(j,"",!0);for(var te in K)if(K[te].autoshift||K[te].shift)return!0;return!1}o.doAutoMargin=function(j){var K=j._fullLayout,te=K.width,se=K.height;K._size||(K._size={}),N(K);var Q=K._size,ee=K.margin,le={t:0,b:0,l:0,r:0},ie=t.extendFlat({},Q),he=ee.l,xe=ee.r,Se=ee.t,Ee=ee.b,Ne=K._pushmargin,He=K._pushmarginIds,Ce=K.minreducedwidth,be=K.minreducedheight;if(ee.autoexpand!==!1){for(var we in Ne)He[we]||delete Ne[we];var ke=j._fullLayout._reservedMargin;for(var Fe in ke)for(var Pe in ke[Fe]){var Ge=ke[Fe][Pe];le[Pe]=Math.max(le[Pe],Ge)}Ne.base={l:{val:0,size:he},r:{val:1,size:xe},t:{val:1,size:Se},b:{val:0,size:Ee}};for(var nt in le){var qe=0;for(var Ke in Ne)Ke!=="base"&&L(Ne[Ke][nt].size)&&(qe=Ne[Ke][nt].size>qe?Ne[Ke][nt].size:qe);var $e=Math.max(0,ee[nt]-qe);le[nt]=Math.max(0,le[nt]-$e)}for(var vt in Ne){var yt=Ne[vt].l||{},mt=Ne[vt].b||{},Et=yt.val,Xe=yt.size,Ue=mt.val,Be=mt.size,rt=te-le.r-le.l,it=se-le.t-le.b;for(var Ye in Ne){if(L(Xe)&&Ne[Ye].r){var De=Ne[Ye].r.val,Te=Ne[Ye].r.size;if(De>Et){var fe=(Xe*De+(Te-rt)*Et)/(De-Et),me=(Te*(1-Et)+(Xe-rt)*(1-De))/(De-Et);fe+me>he+xe&&(he=fe,xe=me)}}if(L(Be)&&Ne[Ye].t){var Re=Ne[Ye].t.val,Oe=Ne[Ye].t.size;if(Re>Ue){var st=(Be*Re+(Oe-it)*Ue)/(Re-Ue),ut=(Oe*(1-Ue)+(Be-it)*(1-Re))/(Re-Ue);st+ut>Ee+Se&&(Ee=st,Se=ut)}}}}}var Tt=t.constrain(te-ee.l-ee.r,B,Ce),It=t.constrain(se-ee.t-ee.b,F,be),Gt=Math.max(0,te-Tt),jt=Math.max(0,se-It);if(Gt){var Pt=(he+xe)/Gt;Pt>1&&(he/=Pt,xe/=Pt)}if(jt){var Qt=(Ee+Se)/jt;Qt>1&&(Ee/=Qt,Se/=Qt)}if(Q.l=Math.round(he)+le.l,Q.r=Math.round(xe)+le.r,Q.t=Math.round(Se)+le.t,Q.b=Math.round(Ee)+le.b,Q.p=Math.round(ee.pad),Q.w=Math.round(te)-Q.l-Q.r,Q.h=Math.round(se)-Q.t-Q.b,!K._replotting&&(o.didMarginChange(ie,Q)||H(j))){"_redrawFromAutoMarginCount"in K?K._redrawFromAutoMarginCount++:K._redrawFromAutoMarginCount=1;var or=3*(1+Object.keys(He).length);if(K._redrawFromAutoMarginCount<or)return T.call("_doPlot",j);K._size=ie,t.warn("Too many auto-margin redraws.")}X(j)};function X(j){var K=n.list(j,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(te){for(var se=0;se<K.length;se++){var Q=K[se][te];Q&&Q()}})}var q=["l","r","t","b","p","w","h"];o.didMarginChange=function(j,K){for(var te=0;te<q.length;te++){var se=q[te],Q=j[se],ee=K[se];if(!L(Q)||Math.abs(ee-Q)>1)return!0}return!1},o.graphJson=function(j,K,te,se,Q,ee){(Q&&K&&!j._fullData||Q&&!K&&!j._fullLayout)&&o.supplyDefaults(j);var le=Q?j._fullData:j.data,ie=Q?j._fullLayout:j.layout,he=(j._transitionData||{})._frames;function xe(Ne,He){if(typeof Ne=="function")return He?"_function_":null;if(t.isPlainObject(Ne)){var Ce={},be;return Object.keys(Ne).sort().forEach(function(we){if(["_","["].indexOf(we.charAt(0))===-1){if(typeof Ne[we]=="function"){He&&(Ce[we]="_function");return}if(te==="keepdata"){if(we.substr(we.length-3)==="src")return}else if(te==="keepstream"){if(be=Ne[we+"src"],typeof be=="string"&&be.indexOf(":")>0&&!t.isPlainObject(Ne.stream))return}else if(te!=="keepall"&&(be=Ne[we+"src"],typeof be=="string"&&be.indexOf(":")>0))return;Ce[we]=xe(Ne[we],He)}}),Ce}return Array.isArray(Ne)?Ne.map(function(we){return xe(we,He)}):t.isTypedArray(Ne)?t.simpleMap(Ne,t.identity):t.isJSDate(Ne)?t.ms2DateTimeLocal(+Ne):Ne}var Se={data:(le||[]).map(function(Ne){var He=xe(Ne);return K&&delete He.fit,He})};if(!K&&(Se.layout=xe(ie),Q)){var Ee=ie._size;Se.layout.computed={margin:{b:Ee.b,l:Ee.l,r:Ee.r,t:Ee.t}}}return he&&(Se.frames=xe(he)),ee&&(Se.config=xe(j._context,!0)),se==="object"?Se:JSON.stringify(Se)},o.modifyFrames=function(j,K){var te,se,Q,ee=j._transitionData._frames,le=j._transitionData._frameHash;for(te=0;te<K.length;te++)switch(se=K[te],se.type){case"replace":Q=se.value;var ie=(ee[se.index]||{}).name,he=Q.name;ee[se.index]=le[he]=Q,he!==ie&&(delete le[ie],le[he]=Q);break;case"insert":Q=se.value,le[Q.name]=Q,ee.splice(se.index,0,Q);break;case"delete":Q=ee[se.index],delete le[Q.name],ee.splice(se.index,1);break}return Promise.resolve()},o.computeFrame=function(j,K){var te=j._transitionData._frameHash,se,Q,ee,le;if(!K)throw new Error("computeFrame must be given a string frame name");var ie=te[K.toString()];if(!ie)return!1;for(var he=[ie],xe=[ie.name];ie.baseframe&&(ie=te[ie.baseframe.toString()])&&xe.indexOf(ie.name)===-1;)he.push(ie),xe.push(ie.name);for(var Se={};ie=he.pop();)if(ie.layout&&(Se.layout=o.extendLayout(Se.layout,ie.layout)),ie.data){if(Se.data||(Se.data=[]),Q=ie.traces,!Q)for(Q=[],se=0;se<ie.data.length;se++)Q[se]=se;for(Se.traces||(Se.traces=[]),se=0;se<ie.data.length;se++)ee=Q[se],ee!=null&&(le=Se.traces.indexOf(ee),le===-1&&(le=Se.data.length,Se.traces[le]=ee),Se.data[le]=o.extendTrace(Se.data[le],ie.data[se]))}return Se},o.recomputeFrameHash=function(j){for(var K=j._transitionData._frameHash={},te=j._transitionData._frames,se=0;se<te.length;se++){var Q=te[se];Q&&Q.name&&(K[Q.name]=Q)}},o.extendObjectWithContainers=function(j,K,te){var se,Q,ee,le,ie,he,xe,Se,Ee=t.extendDeepNoArrays({},K||{}),Ne=t.expandObjectPaths(Ee),He={};if(te&&te.length)for(ee=0;ee<te.length;ee++)se=t.nestedProperty(Ne,te[ee]),Q=se.get(),Q===void 0?t.nestedProperty(He,te[ee]).set(null):(se.set(null),t.nestedProperty(He,te[ee]).set(Q));if(j=t.extendDeepNoArrays(j||{},Ne),te&&te.length){for(ee=0;ee<te.length;ee++)if(ie=t.nestedProperty(He,te[ee]),xe=ie.get(),!!xe){for(he=t.nestedProperty(j,te[ee]),Se=he.get(),Array.isArray(Se)||(Se=[],he.set(Se)),le=0;le<xe.length;le++){var Ce=xe[le];Ce===null?Se[le]=null:Se[le]=o.extendObjectWithContainers(Se[le],Ce)}he.set(Se)}}return j},o.dataArrayContainers=["transforms","dimensions"],o.layoutArrayContainers=T.layoutArrayContainers,o.extendTrace=function(j,K){return o.extendObjectWithContainers(j,K,o.dataArrayContainers)},o.extendLayout=function(j,K){return o.extendObjectWithContainers(j,K,o.layoutArrayContainers)},o.transition=function(j,K,te,se,Q,ee){var le={redraw:Q.redraw},ie={},he=[];return le.prepareFn=function(){for(var xe=Array.isArray(K)?K.length:0,Se=se.slice(0,xe),Ee=0;Ee<Se.length;Ee++){var Ne=Se[Ee],He=j._fullData[Ne],Ce=He._module;if(Ce){if(Ce.animatable){var be=Ce.basePlotModule.name;ie[be]||(ie[be]=[]),ie[be].push(Ne)}j.data[Se[Ee]]=o.extendTrace(j.data[Se[Ee]],K[Ee])}}var we=t.expandObjectPaths(t.extendDeepNoArrays({},te)),ke=/^[xy]axis[0-9]*$/;for(var Fe in we)ke.test(Fe)&&delete we[Fe].range;o.extendLayout(j.layout,we),delete j.calcdata,o.supplyDefaults(j),o.doCalcdata(j);var Pe=t.expandObjectPaths(te);if(Pe){var Ge=j._fullLayout._plots;for(var nt in Ge){var qe=Ge[nt],Ke=qe.xaxis,$e=qe.yaxis,vt=Ke.range.slice(),yt=$e.range.slice(),mt=null,Et=null,Xe=null,Ue=null;Array.isArray(Pe[Ke._name+".range"])?mt=Pe[Ke._name+".range"].slice():Array.isArray((Pe[Ke._name]||{}).range)&&(mt=Pe[Ke._name].range.slice()),Array.isArray(Pe[$e._name+".range"])?Et=Pe[$e._name+".range"].slice():Array.isArray((Pe[$e._name]||{}).range)&&(Et=Pe[$e._name].range.slice()),vt&&mt&&(Ke.r2l(vt[0])!==Ke.r2l(mt[0])||Ke.r2l(vt[1])!==Ke.r2l(mt[1]))&&(Xe={xr0:vt,xr1:mt}),yt&&Et&&($e.r2l(yt[0])!==$e.r2l(Et[0])||$e.r2l(yt[1])!==$e.r2l(Et[1]))&&(Ue={yr0:yt,yr1:Et}),(Xe||Ue)&&he.push(t.extendFlat({plotinfo:qe},Xe,Ue))}}return Promise.resolve()},le.runFn=function(xe){var Se,Ee=j._fullLayout._basePlotModules,Ne=he.length,He;if(te)for(He=0;He<Ee.length;He++)Ee[He].transitionAxes&&Ee[He].transitionAxes(j,he,ee,xe);Ne?(Se=t.extendFlat({},ee),Se.duration=0,delete ie.cartesian):Se=ee;for(var Ce in ie){var be=ie[Ce],we=j._fullData[be[0]]._module;we.basePlotModule.plot(j,be,Se,xe)}},ne(j,ee,le)},o.transitionFromReact=function(j,K,te,se){var Q=j._fullLayout,ee=Q.transition,le={},ie=[];return le.prepareFn=function(){var he=Q._plots;le.redraw=!1,K.anim==="some"&&(le.redraw=!0),te.anim==="some"&&(le.redraw=!0);for(var xe in he){var Se=he[xe],Ee=Se.xaxis,Ne=Se.yaxis,He=se[Ee._name].range.slice(),Ce=se[Ne._name].range.slice(),be=Ee.range.slice(),we=Ne.range.slice();Ee.setScale(),Ne.setScale();var ke=null,Fe=null;(Ee.r2l(He[0])!==Ee.r2l(be[0])||Ee.r2l(He[1])!==Ee.r2l(be[1]))&&(ke={xr0:He,xr1:be}),(Ne.r2l(Ce[0])!==Ne.r2l(we[0])||Ne.r2l(Ce[1])!==Ne.r2l(we[1]))&&(Fe={yr0:Ce,yr1:we}),(ke||Fe)&&ie.push(t.extendFlat({plotinfo:Se},ke,Fe))}return Promise.resolve()},le.runFn=function(he){for(var xe=j._fullData,Se=j._fullLayout,Ee=Se._basePlotModules,Ne,He,Ce,be=[],we=0;we<xe.length;we++)be.push(we);function ke(){if(j._fullLayout)for(var Pe=0;Pe<Ee.length;Pe++)Ee[Pe].transitionAxes&&Ee[Pe].transitionAxes(j,ie,Ne,he)}function Fe(){if(j._fullLayout)for(var Pe=0;Pe<Ee.length;Pe++)Ee[Pe].plot(j,Ce,He,he)}ie.length&&K.anim?ee.ordering==="traces first"?(Ne=t.extendFlat({},ee,{duration:0}),Ce=be,He=ee,setTimeout(ke,ee.duration),Fe()):(Ne=ee,Ce=null,He=t.extendFlat({},ee,{duration:0}),setTimeout(Fe,Ne.duration),ke()):ie.length?(Ne=ee,ke()):K.anim&&(Ce=be,He=ee,Fe())},ne(j,ee,le)};function ne(j,K,te){var se=!1;function Q(Ee){var Ne=Promise.resolve();if(!Ee)return Ne;for(;Ee.length;)Ne=Ne.then(Ee.shift());return Ne}function ee(Ee){if(Ee)for(;Ee.length;)Ee.shift()}function le(){return j.emit("plotly_transitioning",[]),new Promise(function(Ee){j._transitioning=!0,K.duration>0&&(j._transitioningWithDuration=!0),j._transitionData._interruptCallbacks.push(function(){se=!0}),te.redraw&&j._transitionData._interruptCallbacks.push(function(){return T.call("redraw",j)}),j._transitionData._interruptCallbacks.push(function(){j.emit("plotly_transitioninterrupted",[])});var Ne=0,He=0;function Ce(){return Ne++,function(){He++,!se&&He===Ne&&ie(Ee)}}te.runFn(Ce),setTimeout(Ce())})}function ie(Ee){if(j._transitionData)return ee(j._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(te.redraw)return T.call("redraw",j)}).then(function(){j._transitioning=!1,j._transitioningWithDuration=!1,j.emit("plotly_transitioned",[])}).then(Ee)}function he(){if(j._transitionData)return j._transitioning=!1,Q(j._transitionData._interruptCallbacks)}var xe=[o.previousPromises,he,te.prepareFn,o.rehover,o.reselect,le],Se=t.syncOrAsync(xe,j);return(!Se||!Se.then)&&(Se=Promise.resolve()),Se.then(function(){return j})}o.doCalcdata=function(j,K){var te=n.list(j),se=j._fullData,Q=j._fullLayout,ee,le,ie,he,xe=new Array(se.length),Se=(j.calcdata||[]).slice();for(j.calcdata=xe,Q._numBoxes=0,Q._numViolins=0,Q._violinScaleGroupStats={},j._hmpixcount=0,j._hmlumcount=0,Q._piecolormap={},Q._sunburstcolormap={},Q._treemapcolormap={},Q._iciclecolormap={},Q._funnelareacolormap={},ie=0;ie<se.length;ie++)if(Array.isArray(K)&&K.indexOf(ie)===-1){xe[ie]=Se[ie];continue}for(ie=0;ie<se.length;ie++)ee=se[ie],ee._arrayAttrs=v.findArrayAttributes(ee),ee._extremes={};var Ee=Q._subplots.polar||[];for(ie=0;ie<Ee.length;ie++)te.push(Q[Ee[ie]].radialaxis,Q[Ee[ie]].angularaxis);for(var Ne in Q._colorAxes){var He=Q[Ne];He.cauto!==!1&&(delete He.cmin,delete He.cmax)}var Ce=!1;function be(Fe){if(ee=se[Fe],le=ee._module,ee.visible===!0&&ee.transforms){if(le&&le.calc){var Pe=le.calc(j,ee);Pe[0]&&Pe[0].t&&Pe[0].t._scene&&delete Pe[0].t._scene.dirty}for(he=0;he<ee.transforms.length;he++){var Ge=ee.transforms[he];le=d[Ge.type],le&&le.calcTransform&&(ee._hasCalcTransform=!0,Ce=!0,le.calcTransform(j,ee,Ge))}}}function we(Fe,Pe){if(ee=se[Fe],le=ee._module,!!le.isContainer===Pe){var Ge=[];if(ee.visible===!0&&ee._length!==0){delete ee._indexToPoints;var nt=ee.transforms||[];for(he=nt.length-1;he>=0;he--)if(nt[he].enabled){ee._indexToPoints=nt[he]._indexToPoints;break}le&&le.calc&&(Ge=le.calc(j,ee))}(!Array.isArray(Ge)||!Ge[0])&&(Ge=[{x:l,y:l}]),Ge[0].t||(Ge[0].t={}),Ge[0].trace=ee,xe[Fe]=Ge}}for(J(te,se,Q),ie=0;ie<se.length;ie++)we(ie,!0);for(ie=0;ie<se.length;ie++)be(ie);for(Ce&&J(te,se,Q),ie=0;ie<se.length;ie++)we(ie,!0);for(ie=0;ie<se.length;ie++)we(ie,!1);Y(j);var ke=ve(te,j);if(ke.length){for(Q._numBoxes=0,Q._numViolins=0,ie=0;ie<ke.length;ie++)we(ke[ie],!0);for(ie=0;ie<ke.length;ie++)we(ke[ie],!1);Y(j)}T.getComponentMethod("fx","calc")(j),T.getComponentMethod("errorbars","calc")(j)};var oe=/(total|sum|min|max|mean|median) (ascending|descending)/;function ve(j,K){var te=[],se,Q,ee,le,ie;function he(rt,it,Ye){var De=it._id.charAt(0);if(rt==="histogram2dcontour"){var Te=it._counterAxes[0],fe=n.getFromId(K,Te),me=De==="x"||Te==="x"&&fe.type==="category",Re=De==="y"||Te==="y"&&fe.type==="category";return function(Oe,st){return Oe===0||st===0||me&&Oe===Ye[st].length-1||Re&&st===Ye.length-1?-1:(De==="y"?st:Oe)-1}}else return function(Oe,st){return De==="y"?st:Oe}}var xe={min:function(rt){return t.aggNums(Math.min,null,rt)},max:function(rt){return t.aggNums(Math.max,null,rt)},sum:function(rt){return t.aggNums(function(it,Ye){return it+Ye},null,rt)},total:function(rt){return t.aggNums(function(it,Ye){return it+Ye},null,rt)},mean:function(rt){return t.mean(rt)},median:function(rt){return t.median(rt)}};for(se=0;se<j.length;se++){var Se=j[se];if(Se.type==="category"){var Ee=Se.categoryorder.match(oe);if(Ee){var Ne=Ee[1],He=Ee[2],Ce=Se._id.charAt(0),be=Ce==="x",we=[];for(Q=0;Q<Se._categories.length;Q++)we.push([Se._categories[Q],[]]);for(Q=0;Q<Se._traceIndices.length;Q++){var ke=Se._traceIndices[Q],Fe=K._fullData[ke];if(Fe.visible===!0){var Pe=Fe.type;T.traceIs(Fe,"histogram")&&(delete Fe._xautoBinFinished,delete Fe._yautoBinFinished);var Ge=Pe==="splom",nt=Pe==="scattergl",qe=K.calcdata[ke];for(ee=0;ee<qe.length;ee++){var Ke=qe[ee],$e,vt;if(Ge){var yt=Fe._axesDim[Se._id];if(!be){var mt=Fe._diag[yt][0];mt&&(Se=K._fullLayout[n.id2name(mt)])}var Et=Ke.trace.dimensions[yt].values;for(le=0;le<Et.length;le++)for($e=Se._categoriesMap[Et[le]],ie=0;ie<Ke.trace.dimensions.length;ie++)if(ie!==yt){var Xe=Ke.trace.dimensions[ie];we[$e][1].push(Xe.values[le])}}else if(nt){for(le=0;le<Ke.t.x.length;le++)be?($e=Ke.t.x[le],vt=Ke.t.y[le]):($e=Ke.t.y[le],vt=Ke.t.x[le]),we[$e][1].push(vt);Ke.t&&Ke.t._scene&&delete Ke.t._scene.dirty}else if(Ke.hasOwnProperty("z")){vt=Ke.z;var Ue=he(Fe.type,Se,vt);for(le=0;le<vt.length;le++)for(ie=0;ie<vt[le].length;ie++)$e=Ue(ie,le),$e+1&&we[$e][1].push(vt[le][ie])}else for($e=Ke.p,$e===void 0&&($e=Ke[Ce]),vt=Ke.s,vt===void 0&&(vt=Ke.v),vt===void 0&&(vt=be?Ke.y:Ke.x),Array.isArray(vt)||(vt===void 0?vt=[]:vt=[vt]),le=0;le<vt.length;le++)we[$e][1].push(vt[le])}}}Se._categoriesValue=we;var Be=[];for(Q=0;Q<we.length;Q++)Be.push([we[Q][0],xe[Ne](we[Q][1])]);Be.sort(function(rt,it){return rt[1]-it[1]}),Se._categoriesAggregatedValue=Be,Se._initialCategories=Be.map(function(rt){return rt[0]}),He==="descending"&&Se._initialCategories.reverse(),te=te.concat(Se.sortByInitialCategories())}}}return te}function J(j,K,te){var se={};function Q(he){he.clearCalc(),he.type==="multicategory"&&he.setupMultiCategory(K),se[he._id]=1}t.simpleMap(j,Q);for(var ee=te._axisMatchGroups||[],le=0;le<ee.length;le++)for(var ie in ee[le])se[ie]||Q(te[n.id2name(ie)])}function Y(j){var K=j._fullLayout,te=K._visibleModules,se={},Q,ee,le;for(ee=0;ee<te.length;ee++){var ie=te[ee],he=ie.crossTraceCalc;if(he){var xe=ie.basePlotModule.name;se[xe]?t.pushUnique(se[xe],he):se[xe]=[he]}}for(le in se){var Se=se[le],Ee=K._subplots[le];if(Array.isArray(Ee))for(Q=0;Q<Ee.length;Q++){var Ne=Ee[Q],He=le==="cartesian"?K._plots[Ne]:K[Ne];for(ee=0;ee<Se.length;ee++)Se[ee](j,He,Ne)}else for(ee=0;ee<Se.length;ee++)Se[ee](j)}}o.rehover=function(j){j._fullLayout._rehover&&j._fullLayout._rehover()},o.redrag=function(j){j._fullLayout._redrag&&j._fullLayout._redrag()},o.reselect=function(j){var K=j._fullLayout,te=(j.layout||{}).selections,se=K._previousSelections;K._previousSelections=te;var Q=K._reselect||JSON.stringify(te)!==JSON.stringify(se);T.getComponentMethod("selections","reselect")(j,Q)},o.generalUpdatePerTraceModule=function(j,K,te,se){var Q=K.traceHash,ee={},le;for(le=0;le<te.length;le++){var ie=te[le],he=ie[0].trace;he.visible&&(ee[he.type]=ee[he.type]||[],ee[he.type].push(ie))}for(var xe in Q)if(!ee[xe]){var Se=Q[xe][0],Ee=Se[0].trace;Ee.visible=!1,ee[xe]=[Se]}for(var Ne in ee){var He=ee[Ne],Ce=He[0][0].trace._module;Ce.plot(j,K,t.filterVisible(He),se)}K.traceHash=ee},o.plotBasePlot=function(j,K,te,se,Q){var ee=T.getModule(j),le=h(K.calcdata,ee)[0];ee.plot(K,le,se,Q)},o.cleanBasePlot=function(j,K,te,se,Q){var ee=Q._has&&Q._has(j),le=te._has&&te._has(j);ee&&!le&&Q["_"+j+"layer"].selectAll("g.trace").remove()}},9813:function(G){G.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(G,V,e){var g=e(71828),R=e(61082).tester,i=g.findIndexOfMin,L=g.isAngleInsideSector,T=g.angleDelta,v=g.angleDist;function p(o,d,A,M,C){if(!L(d,M))return!1;var m,S;A[0]<A[1]?(m=A[0],S=A[1]):(m=A[1],S=A[0]);var x=R(s(m,M[0],M[1],C)),a=R(s(S,M[0],M[1],C)),E=[o*Math.cos(d),o*Math.sin(d)];return a.contains(E)&&!x.contains(E)}function t(o,d,A,M){var C,m,S=M[0],x=M[1],a=y(Math.sin(d)-Math.sin(o)),E=y(Math.cos(d)-Math.cos(o)),w=Math.tan(A),k=y(1/w),I=a/E,U=x-I*S;return k?a&&E?(C=U/(w-I),m=w*C):E?(C=x*k,m=x):(C=S,m=S*w):a&&E?(C=0,m=U):E?(C=0,m=x):C=m=NaN,[C,m]}function r(o,d,A,M){var C=-d*A,m=d*d+1,S=2*(d*C-A),x=C*C+A*A-o*o,a=Math.sqrt(S*S-4*m*x),E=(-S+a)/(2*m),w=(-S-a)/(2*m);return[[E,d*E+C+M],[w,d*w+C+M]]}function l(o,d){var A=d.length,M=new Array(A+1),C;for(C=0;C<A;C++){var m=d[C];M[C]=[o*Math.cos(m),o*Math.sin(m)]}return M[C]=M[0].slice(),M}function n(o,d,A,M){var C=M.length,m=[],S,x;function a(F){return[o*Math.cos(F),o*Math.sin(F)]}function E(F,H,X){return t(F,H,X,a(F))}function w(F){return g.mod(F,C)}function k(F){return L(F,[d,A])}var I=i(M,function(F){return k(F)?v(F,d):1/0}),U=E(M[I],M[w(I-1)],d);for(m.push(U),S=I,x=0;x<C;S++,x++){var z=M[w(S)];if(!k(z))break;m.push(a(z))}var N=i(M,function(F){return k(F)?v(F,A):1/0}),B=E(M[N],M[w(N+1)],A);return m.push(B),m.push([0,0]),m.push(m[0].slice()),m}function s(o,d,A,M){return g.isFullCircle([d,A])?l(o,M):n(o,d,A,M)}function c(o,d,A,M){for(var C=1/0,m=1/0,S=s(o,d,A,M),x=0;x<S.length;x++){var a=S[x];C=Math.min(C,a[0]),m=Math.min(m,-a[1])}return[C,m]}function u(o,d){var A=function(m){var S=T(m,o);return S>0?S:1/0},M=i(d,A),C=g.mod(M+1,d.length);return[d[M],d[C]]}function y(o){return Math.abs(o)>1e-10?o:0}function h(o,d,A){d=d||0,A=A||0;for(var M=o.length,C=new Array(M),m=0;m<M;m++){var S=o[m];C[m]=[d+S[0],A-S[1]]}return C}function b(o,d,A,M,C,m){var S=s(o,d,A,M);return"M"+h(S,C,m).join("L")}function f(o,d,A,M,C,m,S){var x,a;o<d?(x=o,a=d):(x=d,a=o);var E=h(s(x,A,M,C),m,S),w=h(s(a,A,M,C),m,S);return"M"+w.reverse().join("L")+"M"+E.join("L")}G.exports={isPtInsidePolygon:p,findPolygonOffset:c,findEnclosingVertexAngles:u,findIntersectionXY:t,findXYatLength:r,clampTiny:y,pathPolygon:b,pathPolygonAnnulus:f}},23580:function(G,V,e){var g=e(27659).AU,R=e(71828).counterRegex,i=e(77997),L=e(9813),T=L.attr,v=L.name,p=R(v),t={};t[T]={valType:"subplotid",dflt:v,editType:"calc"};function r(n){for(var s=n._fullLayout,c=n.calcdata,u=s._subplots[v],y=0;y<u.length;y++){var h=u[y],b=g(c,v,h),f=s[h]._subplot;f||(f=i(n,h),s[h]._subplot=f),f.plot(b,s,n._promises)}}function l(n,s,c,u){for(var y=u._subplots[v]||[],h=u._has&&u._has("gl"),b=s._has&&s._has("gl"),f=h&&!b,o=0;o<y.length;o++){var d=y[o],A=u[d]._subplot;if(!s[d]&&A){A.framework.remove(),A.layers["radial-axis-title"].remove();for(var M in A.clipPaths)A.clipPaths[M].remove()}f&&A._scene&&(A._scene.destroy(),A._scene=null)}}G.exports={attr:T,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:r,clean:l,toSVG:e(93612).toSVG}},73812:function(G,V,e){var g=e(22399),R=e(13838),i=e(27670).Y,L=e(71828).extendFlat,T=e(30962).overrideAll,v=T({color:R.color,showline:L({},R.showline,{dflt:!0}),linecolor:R.linecolor,linewidth:R.linewidth,showgrid:L({},R.showgrid,{dflt:!0}),gridcolor:R.gridcolor,gridwidth:R.gridwidth,griddash:R.griddash},"plot","from-root"),p=T({tickmode:R.minor.tickmode,nticks:R.nticks,tick0:R.tick0,dtick:R.dtick,tickvals:R.tickvals,ticktext:R.ticktext,ticks:R.ticks,ticklen:R.ticklen,tickwidth:R.tickwidth,tickcolor:R.tickcolor,ticklabelstep:R.ticklabelstep,showticklabels:R.showticklabels,labelalias:R.labelalias,showtickprefix:R.showtickprefix,tickprefix:R.tickprefix,showticksuffix:R.showticksuffix,ticksuffix:R.ticksuffix,showexponent:R.showexponent,exponentformat:R.exponentformat,minexponent:R.minexponent,separatethousands:R.separatethousands,tickfont:R.tickfont,tickangle:R.tickangle,tickformat:R.tickformat,tickformatstops:R.tickformatstops,layer:R.layer},"plot","from-root"),t={visible:L({},R.visible,{dflt:!0}),type:L({},R.type,{values:["-","linear","log","date","category"]}),autotypenumbers:R.autotypenumbers,autorange:L({},R.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},range:L({},R.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:R.categoryorder,categoryarray:R.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:L({},R.title.text,{editType:"plot",dflt:""}),font:L({},R.title.font,{editType:"plot"}),editType:"plot"},hoverformat:R.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:R._deprecated.title,titlefont:R._deprecated.titlefont}};L(t,v,p);var r={visible:L({},R.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:R.autotypenumbers,categoryorder:R.categoryorder,categoryarray:R.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:R.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};L(r,v,p),G.exports={domain:i({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:g.background},radialaxis:t,angularaxis:r,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(G,V,e){var g=e(71828),R=e(7901),i=e(44467),L=e(49119),T=e(27659).NG,v=e(26218),p=e(38701),t=e(96115),r=e(89426),l=e(15258),n=e(92128),s=e(4322),c=e(73812),u=e(12101),y=e(9813),h=y.axisNames;function b(o,d,A,M){var C=A("bgcolor");M.bgColor=R.combine(C,M.paper_bgcolor);var m=A("sector");A("hole");var S=T(M.fullData,y.name,M.id),x=M.layoutOut,a;function E(J,Y){return A(a+"."+J,Y)}for(var w=0;w<h.length;w++){a=h[w],g.isPlainObject(o[a])||(o[a]={});var k=o[a],I=i.newContainer(d,a);I._id=I._name=a,I._attr=M.id+"."+a,I._traceIndices=S.map(function(J){return J._expandedIndex});var U=y.axisName2dataArray[a],z=f(k,I,E,S,U,M);l(k,I,E,{axData:S,dataAttr:U});var N=E("visible");switch(u(I,d,x),E("uirevision",d.uirevision),I._m=1,a){case"radialaxis":var B=E("autorange",!I.isValidRange(k.range));k.autorange=B,B&&(z==="linear"||z==="-")&&E("rangemode"),B==="reversed"&&(I._m=-1),E("range"),I.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(z==="date"){g.log("Polar plots do not support date angular axes yet.");for(var F=0;F<S.length;F++)S[F].visible=!1;z=k.type=I.type="linear"}E(z==="linear"?"thetaunit":"period");var H=E("direction");E("rotation",{counterclockwise:0,clockwise:90}[H]);break}if(r(k,I,E,I.type,{tickSuffixDflt:I.thetaunit==="degrees"?"":void 0}),N){var X,q,ne,oe,ve=M.font||{};X=E("color"),q=X===k.color?X:ve.color,ne=ve.size,oe=ve.family,v(k,I,E,I.type),t(k,I,E,I.type,{font:{color:q,size:ne,family:oe}}),p(k,I,E,{outerTicks:!0}),n(k,I,E,{dfltColor:X,bgColor:M.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c[a]}),E("layer"),a==="radialaxis"&&(E("side"),E("angle",m[0]),E("title.text"),g.coerceFont(E,"title.font",{color:q,size:g.bigFont(ne),family:oe}))}z!=="category"&&E("hoverformat"),I._input=k}d.angularaxis.type==="category"&&A("gridshape")}function f(o,d,A,M,C,m){var S=A("autotypenumbers",m.autotypenumbersDflt),x=A("type");if(x==="-"){for(var a,E=0;E<M.length;E++)if(M[E].visible){a=M[E];break}a&&a[C]&&(d.type=s(a[C],"gregorian",{noMultiCategory:!0,autotypenumbers:S})),d.type==="-"?d.type="linear":o.type=d.type}return d.type}G.exports=function(d,A,M){L(d,A,M,{type:y.name,attributes:c,handleDefaults:b,font:A.font,autotypenumbersDflt:A.autotypenumbers,paper_bgcolor:A.paper_bgcolor,fullData:M,layoutOut:A})}},77997:function(G,V,e){var g=e(39898),R=e(84267),i=e(73972),L=e(71828),T=L.strRotate,v=L.strTranslate,p=e(7901),t=e(91424),r=e(74875),l=e(89298),n=e(21994),s=e(12101),c=e(71739).doAutoRange,u=e(29323),y=e(28569),h=e(30211),b=e(92998),f=e(47322).prepSelect,o=e(47322).selectOnClick,d=e(47322).clearOutline,A=e(6964),M=e(33306),C=e(61549).redrawReglTraces,m=e(18783).MID_SHIFT,S=e(9813),x=e(10869),a=e(23893),E=a.smith,w=a.reactanceArc,k=a.resistanceArc,I=a.smithTransform,U=L._,z=L.mod,N=L.deg2rad,B=L.rad2deg;function F(ve,J,Y){this.isSmith=Y||!1,this.id=J,this.gd=ve,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var j=ve._fullLayout,K="clip"+j._uid+J;this.clipIds.forTraces=K+"-for-traces",this.clipPaths.forTraces=j._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=j["_"+(Y?"smith":"polar")+"layer"].append("g").attr("class",J),this.getHole=function(te){return this.isSmith?0:te.hole},this.getSector=function(te){return this.isSmith?[0,360]:te.sector},this.getRadial=function(te){return this.isSmith?te.realaxis:te.radialaxis},this.getAngular=function(te){return this.isSmith?te.imaginaryaxis:te.angularaxis},Y||(this.radialTickLayout=null,this.angularTickLayout=null)}var H=F.prototype;G.exports=function(J,Y,j){return new F(J,Y,j)},H.plot=function(ve,J){for(var Y=this,j=J[Y.id],K=!1,te=0;te<ve.length;te++){var se=ve[te][0].trace;if(se.cliponaxis===!1){K=!0;break}}Y._hasClipOnAxisFalse=K,Y.updateLayers(J,j),Y.updateLayout(J,j),r.generalUpdatePerTraceModule(Y.gd,Y,ve,j),Y.updateFx(J,j),Y.isSmith&&(delete j.realaxis.range,delete j.imaginaryaxis.range)},H.updateLayers=function(ve,J){var Y=this,j=Y.isSmith,K=Y.layers,te=Y.getRadial(J),se=Y.getAngular(J),Q=S.layerNames,ee=Q.indexOf("frontplot"),le=Q.slice(0,ee),ie=se.layer==="below traces",he=te.layer==="below traces";ie&&le.push("angular-line"),he&&le.push("radial-line"),ie&&le.push("angular-axis"),he&&le.push("radial-axis"),le.push("frontplot"),ie||le.push("angular-line"),he||le.push("radial-line"),ie||le.push("angular-axis"),he||le.push("radial-axis");var xe=(j?"smith":"polar")+"sublayer",Se=Y.framework.selectAll("."+xe).data(le,String);Se.enter().append("g").attr("class",function(Ee){return xe+" "+Ee}).each(function(Ee){var Ne=K[Ee]=g.select(this);switch(Ee){case"frontplot":j||Ne.append("g").classed("barlayer",!0),Ne.append("g").classed("scatterlayer",!0);break;case"backplot":Ne.append("g").classed("maplayer",!0);break;case"plotbg":K.bg=Ne.append("path");break;case"radial-grid":Ne.style("fill","none");break;case"angular-grid":Ne.style("fill","none");break;case"radial-line":Ne.append("line").style("fill","none");break;case"angular-line":Ne.append("path").style("fill","none");break}}),Se.order()},H.updateLayout=function(ve,J){var Y=this,j=Y.layers,K=ve._size,te=Y.getRadial(J),se=Y.getAngular(J),Q=J.domain.x,ee=J.domain.y;Y.xOffset=K.l+K.w*Q[0],Y.yOffset=K.t+K.h*(1-ee[1]);var le=Y.xLength=K.w*(Q[1]-Q[0]),ie=Y.yLength=K.h*(ee[1]-ee[0]),he=Y.getSector(J);Y.sectorInRad=he.map(N);var xe=Y.sectorBBox=q(he),Se=xe[2]-xe[0],Ee=xe[3]-xe[1],Ne=ie/le,He=Math.abs(Ee/Se),Ce,be,we,ke,Fe;Ne>He?(Ce=le,be=le*He,Fe=(ie-be)/K.h/2,we=[Q[0],Q[1]],ke=[ee[0]+Fe,ee[1]-Fe]):(Ce=ie/He,be=ie,Fe=(le-Ce)/K.w/2,we=[Q[0]+Fe,Q[1]-Fe],ke=[ee[0],ee[1]]),Y.xLength2=Ce,Y.yLength2=be,Y.xDomain2=we,Y.yDomain2=ke;var Pe=Y.xOffset2=K.l+K.w*we[0],Ge=Y.yOffset2=K.t+K.h*(1-ke[1]),nt=Y.radius=Ce/Se,qe=Y.innerRadius=Y.getHole(J)*nt,Ke=Y.cx=Pe-nt*xe[0],$e=Y.cy=Ge+nt*xe[3],vt=Y.cxx=Ke-Pe,yt=Y.cyy=$e-Ge,mt=te.side,Et;mt==="counterclockwise"?(Et=mt,mt="top"):mt==="clockwise"&&(Et=mt,mt="bottom"),Y.radialAxis=Y.mockAxis(ve,J,te,{_id:"x",side:mt,_trueSide:Et,domain:[qe/K.w,nt/K.w]}),Y.angularAxis=Y.mockAxis(ve,J,se,{side:"right",domain:[0,Math.PI],autorange:!1}),Y.doAutoRange(ve,J),Y.updateAngularAxis(ve,J),Y.updateRadialAxis(ve,J),Y.updateRadialAxisTitle(ve,J),Y.xaxis=Y.mockCartesianAxis(ve,J,{_id:"x",domain:we}),Y.yaxis=Y.mockCartesianAxis(ve,J,{_id:"y",domain:ke});var Xe=Y.pathSubplot();Y.clipPaths.forTraces.select("path").attr("d",Xe).attr("transform",v(vt,yt)),j.frontplot.attr("transform",v(Pe,Ge)).call(t.setClipUrl,Y._hasClipOnAxisFalse?null:Y.clipIds.forTraces,Y.gd),j.bg.attr("d",Xe).attr("transform",v(Ke,$e)).call(p.fill,J.bgcolor)},H.mockAxis=function(ve,J,Y,j){var K=L.extendFlat({},Y,j);return s(K,J,ve),K},H.mockCartesianAxis=function(ve,J,Y){var j=this,K=j.isSmith,te=Y._id,se=L.extendFlat({type:"linear"},Y);n(se,ve);var Q={x:[0,2],y:[1,3]};return se.setRange=function(){var ee=j.sectorBBox,le=Q[te],ie=j.radialAxis._rl,he=(ie[1]-ie[0])/(1-j.getHole(J));se.range=[ee[le[0]]*he,ee[le[1]]*he]},se.isPtWithinRange=te==="x"&&!K?function(ee){return j.isPtInside(ee)}:function(){return!0},se.setRange(),se.setScale(),se},H.doAutoRange=function(ve,J){var Y=this,j=Y.gd,K=Y.radialAxis,te=Y.getRadial(J);c(j,K);var se=K.range;te.range=se.slice(),te._input.range=se.slice(),K._rl=[K.r2l(se[0],null,"gregorian"),K.r2l(se[1],null,"gregorian")]},H.updateRadialAxis=function(ve,J){var Y=this,j=Y.gd,K=Y.layers,te=Y.radius,se=Y.innerRadius,Q=Y.cx,ee=Y.cy,le=Y.getRadial(J),ie=z(Y.getSector(J)[0],360),he=Y.radialAxis,xe=se<te,Se=Y.isSmith;Se||(Y.fillViewInitialKey("radialaxis.angle",le.angle),Y.fillViewInitialKey("radialaxis.range",he.range.slice()),he.setGeometry()),he.tickangle==="auto"&&ie>90&&ie<=270&&(he.tickangle=180);var Ee=Se?function(nt){var qe=I(Y,E([nt.x,0]));return v(qe[0]-Q,qe[1]-ee)}:function(nt){return v(he.l2p(nt.x)+se,0)},Ne=Se?function(nt){return k(Y,nt.x,-1/0,1/0)}:function(nt){return Y.pathArc(he.r2p(nt.x)+se)},He=X(le);if(Y.radialTickLayout!==He&&(K["radial-axis"].selectAll(".xtick").remove(),Y.radialTickLayout=He),xe){he.setScale();var Ce=0,be=Se?(he.tickvals||[]).filter(function(nt){return nt>=0}).map(function(nt){return l.tickText(he,nt,!0,!1)}):l.calcTicks(he),we=Se?be:l.clipEnds(he,be),ke=l.getTickSigns(he)[2];Se&&((he.ticks==="top"&&he.side==="bottom"||he.ticks==="bottom"&&he.side==="top")&&(ke=-ke),he.ticks==="top"&&he.side==="top"&&(Ce=-he.ticklen),he.ticks==="bottom"&&he.side==="bottom"&&(Ce=he.ticklen)),l.drawTicks(j,he,{vals:be,layer:K["radial-axis"],path:l.makeTickPath(he,0,ke),transFn:Ee,crisp:!1}),l.drawGrid(j,he,{vals:we,layer:K["radial-grid"],path:Ne,transFn:L.noop,crisp:!1}),l.drawLabels(j,he,{vals:be,layer:K["radial-axis"],transFn:Ee,labelFns:l.makeLabelFns(he,Ce)})}var Fe=Y.radialAxisAngle=Y.vangles?B(ne(N(le.angle),Y.vangles)):le.angle,Pe=v(Q,ee),Ge=Pe+T(-Fe);oe(K["radial-axis"],xe&&(le.showticklabels||le.ticks),{transform:Ge}),oe(K["radial-grid"],xe&&le.showgrid,{transform:Se?"":Pe}),oe(K["radial-line"].select("line"),xe&&le.showline,{x1:Se?-te:se,y1:0,x2:te,y2:0,transform:Ge}).attr("stroke-width",le.linewidth).call(p.stroke,le.linecolor)},H.updateRadialAxisTitle=function(ve,J,Y){if(!this.isSmith){var j=this,K=j.gd,te=j.radius,se=j.cx,Q=j.cy,ee=j.getRadial(J),le=j.id+"title",ie=0;if(ee.title){var he=t.bBox(j.layers["radial-axis"].node()).height,xe=ee.title.font.size,Se=ee.side;ie=Se==="top"?xe:Se==="counterclockwise"?-(he+xe*.4):he+xe*.8}var Ee=Y!==void 0?Y:j.radialAxisAngle,Ne=N(Ee),He=Math.cos(Ne),Ce=Math.sin(Ne),be=se+te/2*He+ie*Ce,we=Q-te/2*Ce+ie*He;j.layers["radial-axis-title"]=b.draw(K,le,{propContainer:ee,propName:j.id+".radialaxis.title",placeholder:U(K,"Click to enter radial axis title"),attributes:{x:be,y:we,"text-anchor":"middle"},transform:{rotate:-Ee}})}},H.updateAngularAxis=function(ve,J){var Y=this,j=Y.gd,K=Y.layers,te=Y.radius,se=Y.innerRadius,Q=Y.cx,ee=Y.cy,le=Y.getAngular(J),ie=Y.angularAxis,he=Y.isSmith;he||(Y.fillViewInitialKey("angularaxis.rotation",le.rotation),ie.setGeometry(),ie.setScale());var xe=he?function(qe){var Ke=I(Y,E([0,qe.x]));return Math.atan2(Ke[0]-Q,Ke[1]-ee)-Math.PI/2}:function(qe){return ie.t2g(qe.x)};ie.type==="linear"&&ie.thetaunit==="radians"&&(ie.tick0=B(ie.tick0),ie.dtick=B(ie.dtick));var Se=function(qe){return v(Q+te*Math.cos(qe),ee-te*Math.sin(qe))},Ee=he?function(qe){var Ke=I(Y,E([0,qe.x]));return v(Ke[0],Ke[1])}:function(qe){return Se(xe(qe))},Ne=he?function(qe){var Ke=I(Y,E([0,qe.x])),$e=Math.atan2(Ke[0]-Q,Ke[1]-ee)-Math.PI/2;return v(Ke[0],Ke[1])+T(-B($e))}:function(qe){var Ke=xe(qe);return Se(Ke)+T(-B(Ke))},He=he?function(qe){return w(Y,qe.x,0,1/0)}:function(qe){var Ke=xe(qe),$e=Math.cos(Ke),vt=Math.sin(Ke);return"M"+[Q+se*$e,ee-se*vt]+"L"+[Q+te*$e,ee-te*vt]},Ce=l.makeLabelFns(ie,0),be=Ce.labelStandoff,we={};we.xFn=function(qe){var Ke=xe(qe);return Math.cos(Ke)*be},we.yFn=function(qe){var Ke=xe(qe),$e=Math.sin(Ke)>0?.2:1;return-Math.sin(Ke)*(be+qe.fontSize*$e)+Math.abs(Math.cos(Ke))*(qe.fontSize*m)},we.anchorFn=function(qe){var Ke=xe(qe),$e=Math.cos(Ke);return Math.abs($e)<.1?"middle":$e>0?"start":"end"},we.heightFn=function(qe,Ke,$e){var vt=xe(qe);return-.5*(1+Math.sin(vt))*$e};var ke=X(le);Y.angularTickLayout!==ke&&(K["angular-axis"].selectAll("."+ie._id+"tick").remove(),Y.angularTickLayout=ke);var Fe=he?[1/0].concat(ie.tickvals||[]).map(function(qe){return l.tickText(ie,qe,!0,!1)}):l.calcTicks(ie);he&&(Fe[0].text="",Fe[0].fontSize*=1.75);var Pe;if(J.gridshape==="linear"?(Pe=Fe.map(xe),L.angleDelta(Pe[0],Pe[1])<0&&(Pe=Pe.slice().reverse())):Pe=null,Y.vangles=Pe,ie.type==="category"&&(Fe=Fe.filter(function(qe){return L.isAngleInsideSector(xe(qe),Y.sectorInRad)})),ie.visible){var Ge=ie.ticks==="inside"?-1:1,nt=(ie.linewidth||1)/2;l.drawTicks(j,ie,{vals:Fe,layer:K["angular-axis"],path:"M"+Ge*nt+",0h"+Ge*ie.ticklen,transFn:Ne,crisp:!1}),l.drawGrid(j,ie,{vals:Fe,layer:K["angular-grid"],path:He,transFn:L.noop,crisp:!1}),l.drawLabels(j,ie,{vals:Fe,layer:K["angular-axis"],repositionOnUpdate:!0,transFn:Ee,labelFns:we})}oe(K["angular-line"].select("path"),le.showline,{d:Y.pathSubplot(),transform:v(Q,ee)}).attr("stroke-width",le.linewidth).call(p.stroke,le.linecolor)},H.updateFx=function(ve,J){if(!this.gd._context.staticPlot){var Y=!this.isSmith;Y&&(this.updateAngularDrag(ve),this.updateRadialDrag(ve,J,0),this.updateRadialDrag(ve,J,1)),this.updateHoverAndMainDrag(ve)}},H.updateHoverAndMainDrag=function(ve){var J=this,Y=J.isSmith,j=J.gd,K=J.layers,te=ve._zoomlayer,se=S.MINZOOM,Q=S.OFFEDGE,ee=J.radius,le=J.innerRadius,ie=J.cx,he=J.cy,xe=J.cxx,Se=J.cyy,Ee=J.sectorInRad,Ne=J.vangles,He=J.radialAxis,Ce=x.clampTiny,be=x.findXYatLength,we=x.findEnclosingVertexAngles,ke=S.cornerHalfWidth,Fe=S.cornerLen/2,Pe,Ge,nt=u.makeDragger(K,"path","maindrag",ve.dragmode===!1?"none":"crosshair");g.select(nt).attr("d",J.pathSubplot()).attr("transform",v(ie,he)),nt.onmousemove=function(Pt){h.hover(j,Pt,J.id),j._fullLayout._lasthover=nt,j._fullLayout._hoversubplot=J.id},nt.onmouseout=function(Pt){j._dragging||y.unhover(j,Pt)};var qe={element:nt,gd:j,subplot:J.id,plotinfo:{id:J.id,xaxis:J.xaxis,yaxis:J.yaxis},xaxes:[J.xaxis],yaxes:[J.yaxis]},Ke,$e,vt,yt,mt,Et,Xe,Ue,Be;function rt(Pt,Qt){return Math.sqrt(Pt*Pt+Qt*Qt)}function it(Pt,Qt){return rt(Pt-xe,Qt-Se)}function Ye(Pt,Qt){return Math.atan2(Se-Qt,Pt-xe)}function De(Pt,Qt){return[Pt*Math.cos(Qt),Pt*Math.sin(-Qt)]}function Te(Pt,Qt){if(Pt===0)return J.pathSector(2*ke);var or=Fe/Pt,zr=Qt-or,bt=Qt+or,Jt=Math.max(0,Math.min(Pt,ee)),Zt=Jt-ke,Ar=Jt+ke;return"M"+De(Zt,zr)+"A"+[Zt,Zt]+" 0,0,0 "+De(Zt,bt)+"L"+De(Ar,bt)+"A"+[Ar,Ar]+" 0,0,1 "+De(Ar,zr)+"Z"}function fe(Pt,Qt,or){if(Pt===0)return J.pathSector(2*ke);var zr=De(Pt,Qt),bt=De(Pt,or),Jt=Ce((zr[0]+bt[0])/2),Zt=Ce((zr[1]+bt[1])/2),Ar,dr;if(Jt&&Zt){var ht=Zt/Jt,ct=-1/ht,wt=be(ke,ht,Jt,Zt);Ar=be(Fe,ct,wt[0][0],wt[0][1]),dr=be(Fe,ct,wt[1][0],wt[1][1])}else{var St,Rt;Zt?(St=Fe,Rt=ke):(St=ke,Rt=Fe),Ar=[[Jt-St,Zt-Rt],[Jt+St,Zt-Rt]],dr=[[Jt-St,Zt+Rt],[Jt+St,Zt+Rt]]}return"M"+Ar.join("L")+"L"+dr.reverse().join("L")+"Z"}function me(){vt=null,yt=null,mt=J.pathSubplot(),Et=!1;var Pt=j._fullLayout[J.id];Xe=R(Pt.bgcolor).getLuminance(),Ue=u.makeZoombox(te,Xe,ie,he,mt),Ue.attr("fill-rule","evenodd"),Be=u.makeCorners(te,ie,he),d(j)}function Re(Pt,Qt){return Qt=Math.max(Math.min(Qt,ee),le),Pt<Q?Pt=0:ee-Pt<Q?Pt=ee:Qt<Q?Qt=0:ee-Qt<Q&&(Qt=ee),Math.abs(Qt-Pt)>se?(Pt<Qt?(vt=Pt,yt=Qt):(vt=Qt,yt=Pt),!0):(vt=null,yt=null,!1)}function Oe(Pt,Qt){Pt=Pt||mt,Qt=Qt||"M0,0Z",Ue.attr("d",Pt),Be.attr("d",Qt),u.transitionZoombox(Ue,Be,Et,Xe),Et=!0;var or={};Gt(or),j.emit("plotly_relayouting",or)}function st(Pt,Qt){Pt=Pt*Pe,Qt=Qt*Ge;var or=Ke+Pt,zr=$e+Qt,bt=it(Ke,$e),Jt=Math.min(it(or,zr),ee),Zt=Ye(Ke,$e),Ar,dr;Re(bt,Jt)&&(Ar=mt+J.pathSector(yt),vt&&(Ar+=J.pathSector(vt)),dr=Te(vt,Zt)+Te(yt,Zt)),Oe(Ar,dr)}function ut(Pt,Qt,or,zr){var bt=x.findIntersectionXY(or,zr,or,[Pt-xe,Se-Qt]);return rt(bt[0],bt[1])}function Tt(Pt,Qt){var or=Ke+Pt,zr=$e+Qt,bt=Ye(Ke,$e),Jt=Ye(or,zr),Zt=we(bt,Ne),Ar=we(Jt,Ne),dr=ut(Ke,$e,Zt[0],Zt[1]),ht=Math.min(ut(or,zr,Ar[0],Ar[1]),ee),ct,wt;Re(dr,ht)&&(ct=mt+J.pathSector(yt),vt&&(ct+=J.pathSector(vt)),wt=[fe(vt,Zt[0],Zt[1]),fe(yt,Zt[0],Zt[1])].join(" ")),Oe(ct,wt)}function It(){if(u.removeZoombox(j),!(vt===null||yt===null)){var Pt={};Gt(Pt),u.showDoubleClickNotifier(j),i.call("_guiRelayout",j,Pt)}}function Gt(Pt){var Qt=He._rl,or=(Qt[1]-Qt[0])/(1-le/ee)/ee,zr=[Qt[0]+(vt-le)*or,Qt[0]+(yt-le)*or];Pt[J.id+".radialaxis.range"]=zr}function jt(Pt,Qt){var or=j._fullLayout.clickmode;if(u.removeZoombox(j),Pt===2){var zr={};for(var bt in J.viewInitial)zr[J.id+"."+bt]=J.viewInitial[bt];j.emit("plotly_doubleclick",null),i.call("_guiRelayout",j,zr)}or.indexOf("select")>-1&&Pt===1&&o(Qt,j,[J.xaxis],[J.yaxis],J.id,qe),or.indexOf("event")>-1&&h.click(j,Qt,J.id)}qe.prepFn=function(Pt,Qt,or){var zr=j._fullLayout.dragmode,bt=nt.getBoundingClientRect();j._fullLayout._calcInverseTransform(j);var Jt=j._fullLayout._invTransform;Pe=j._fullLayout._invScaleX,Ge=j._fullLayout._invScaleY;var Zt=L.apply3DTransform(Jt)(Qt-bt.left,or-bt.top);if(Ke=Zt[0],$e=Zt[1],Ne){var Ar=x.findPolygonOffset(ee,Ee[0],Ee[1],Ne);Ke+=xe+Ar[0],$e+=Se+Ar[1]}switch(zr){case"zoom":qe.clickFn=jt,Y||(Ne?qe.moveFn=Tt:qe.moveFn=st,qe.doneFn=It,me());break;case"select":case"lasso":f(Pt,Qt,or,qe,zr);break}},y.init(qe)},H.updateRadialDrag=function(ve,J,Y){var j=this,K=j.gd,te=j.layers,se=j.radius,Q=j.innerRadius,ee=j.cx,le=j.cy,ie=j.radialAxis,he=S.radialDragBoxSize,xe=he/2;if(!ie.visible)return;var Se=N(j.radialAxisAngle),Ee=ie._rl,Ne=Ee[0],He=Ee[1],Ce=Ee[Y],be=.75*(Ee[1]-Ee[0])/(1-j.getHole(J))/se,we,ke,Fe;Y?(we=ee+(se+xe)*Math.cos(Se),ke=le-(se+xe)*Math.sin(Se),Fe="radialdrag"):(we=ee+(Q-xe)*Math.cos(Se),ke=le-(Q-xe)*Math.sin(Se),Fe="radialdrag-inner");var Pe=u.makeRectDragger(te,Fe,"crosshair",-xe,-xe,he,he),Ge={element:Pe,gd:K};ve.dragmode===!1&&(Ge.dragmode=!1),oe(g.select(Pe),ie.visible&&Q<se,{transform:v(we,ke)});var nt,qe,Ke;function $e(Xe,Ue){if(nt)nt(Xe,Ue);else{var Be=[Xe,-Ue],rt=[Math.cos(Se),Math.sin(Se)],it=Math.abs(L.dot(Be,rt)/Math.sqrt(L.dot(Be,Be)));isNaN(it)||(nt=it<.5?mt:Et)}var Ye={};vt(Ye),K.emit("plotly_relayouting",Ye)}function vt(Xe){qe!==null?Xe[j.id+".radialaxis.angle"]=qe:Ke!==null&&(Xe[j.id+".radialaxis.range["+Y+"]"]=Ke)}function yt(){qe!==null?i.call("_guiRelayout",K,j.id+".radialaxis.angle",qe):Ke!==null&&i.call("_guiRelayout",K,j.id+".radialaxis.range["+Y+"]",Ke)}function mt(Xe,Ue){if(Y!==0){var Be=we+Xe,rt=ke+Ue;qe=Math.atan2(le-rt,Be-ee),j.vangles&&(qe=ne(qe,j.vangles)),qe=B(qe);var it=v(ee,le)+T(-qe);te["radial-axis"].attr("transform",it),te["radial-line"].select("line").attr("transform",it);var Ye=j.gd._fullLayout,De=Ye[j.id];j.updateRadialAxisTitle(Ye,De,qe)}}function Et(Xe,Ue){var Be=L.dot([Xe,-Ue],[Math.cos(Se),Math.sin(Se)]);if(Ke=Ce-be*Be,be>0!=(Y?Ke>Ne:Ke<He)){Ke=null;return}var rt=K._fullLayout,it=rt[j.id];ie.range[Y]=Ke,ie._rl[Y]=Ke,j.updateRadialAxis(rt,it),j.xaxis.setRange(),j.xaxis.setScale(),j.yaxis.setRange(),j.yaxis.setScale();var Ye=!1;for(var De in j.traceHash){var Te=j.traceHash[De],fe=L.filterVisible(Te),me=Te[0][0].trace._module;me.plot(K,j,fe,it),i.traceIs(De,"gl")&&fe.length&&(Ye=!0)}Ye&&(M(K),C(K))}Ge.prepFn=function(){nt=null,qe=null,Ke=null,Ge.moveFn=$e,Ge.doneFn=yt,d(K)},Ge.clampFn=function(Xe,Ue){return Math.sqrt(Xe*Xe+Ue*Ue)<S.MINDRAG&&(Xe=0,Ue=0),[Xe,Ue]},y.init(Ge)},H.updateAngularDrag=function(ve){var J=this,Y=J.gd,j=J.layers,K=J.radius,te=J.angularAxis,se=J.cx,Q=J.cy,ee=J.cxx,le=J.cyy,ie=S.angularDragBoxSize,he=u.makeDragger(j,"path","angulardrag",ve.dragmode===!1?"none":"move"),xe={element:he,gd:Y};ve.dragmode===!1?xe.dragmode=!1:g.select(he).attr("d",J.pathAnnulus(K,K+ie)).attr("transform",v(se,Q)).call(A,"move");function Se(Ke,$e){return Math.atan2(le+ie-$e,Ke-ee-ie)}var Ee=j.frontplot.select(".scatterlayer").selectAll(".trace"),Ne=Ee.selectAll(".point"),He=Ee.selectAll(".textpoint"),Ce,be,we,ke,Fe,Pe;function Ge(Ke,$e){var vt=J.gd._fullLayout,yt=vt[J.id],mt=Ce+Ke*ve._invScaleX,Et=be+$e*ve._invScaleY,Xe=Se(mt,Et),Ue=B(Xe-Pe);if(ke=we+Ue,j.frontplot.attr("transform",v(J.xOffset2,J.yOffset2)+T([-Ue,ee,le])),J.vangles){Fe=J.radialAxisAngle+Ue;var Be=v(se,Q)+T(-Ue),rt=v(se,Q)+T(-Fe);j.bg.attr("transform",Be),j["radial-grid"].attr("transform",Be),j["radial-axis"].attr("transform",rt),j["radial-line"].select("line").attr("transform",rt),J.updateRadialAxisTitle(vt,yt,Fe)}else J.clipPaths.forTraces.select("path").attr("transform",v(ee,le)+T(Ue));Ne.each(function(){var Re=g.select(this),Oe=t.getTranslate(Re);Re.attr("transform",v(Oe.x,Oe.y)+T([Ue]))}),He.each(function(){var Re=g.select(this),Oe=Re.select("text"),st=t.getTranslate(Re);Re.attr("transform",T([Ue,Oe.attr("x"),Oe.attr("y")])+v(st.x,st.y))}),te.rotation=L.modHalf(ke,360),J.updateAngularAxis(vt,yt),J._hasClipOnAxisFalse&&!L.isFullCircle(J.sectorInRad)&&Ee.call(t.hideOutsideRangePoints,J);var it=!1;for(var Ye in J.traceHash)if(i.traceIs(Ye,"gl")){var De=J.traceHash[Ye],Te=L.filterVisible(De),fe=De[0][0].trace._module;fe.plot(Y,J,Te,yt),Te.length&&(it=!0)}it&&(M(Y),C(Y));var me={};nt(me),Y.emit("plotly_relayouting",me)}function nt(Ke){Ke[J.id+".angularaxis.rotation"]=ke,J.vangles&&(Ke[J.id+".radialaxis.angle"]=Fe)}function qe(){He.select("text").attr("transform",null);var Ke={};nt(Ke),i.call("_guiRelayout",Y,Ke)}xe.prepFn=function(Ke,$e,vt){var yt=ve[J.id];we=yt.angularaxis.rotation;var mt=he.getBoundingClientRect();Ce=$e-mt.left,be=vt-mt.top,Y._fullLayout._calcInverseTransform(Y);var Et=L.apply3DTransform(ve._invTransform)(Ce,be);Ce=Et[0],be=Et[1],Pe=Se(Ce,be),xe.moveFn=Ge,xe.doneFn=qe,d(Y)},J.vangles&&!L.isFullCircle(J.sectorInRad)&&(xe.prepFn=L.noop,A(g.select(he),null)),y.init(xe)},H.isPtInside=function(ve){if(this.isSmith)return!0;var J=this.sectorInRad,Y=this.vangles,j=this.angularAxis.c2g(ve.theta),K=this.radialAxis,te=K.c2l(ve.r),se=K._rl,Q=Y?x.isPtInsidePolygon:L.isPtInsideSector;return Q(te,j,se,J,Y)},H.pathArc=function(ve){var J=this.sectorInRad,Y=this.vangles,j=Y?x.pathPolygon:L.pathArc;return j(ve,J[0],J[1],Y)},H.pathSector=function(ve){var J=this.sectorInRad,Y=this.vangles,j=Y?x.pathPolygon:L.pathSector;return j(ve,J[0],J[1],Y)},H.pathAnnulus=function(ve,J){var Y=this.sectorInRad,j=this.vangles,K=j?x.pathPolygonAnnulus:L.pathAnnulus;return K(ve,J,Y[0],Y[1],j)},H.pathSubplot=function(){var ve=this.innerRadius,J=this.radius;return ve?this.pathAnnulus(ve,J):this.pathSector(J)},H.fillViewInitialKey=function(ve,J){ve in this.viewInitial||(this.viewInitial[ve]=J)};function X(ve){var J=ve.ticks+String(ve.ticklen)+String(ve.showticklabels);return"side"in ve&&(J+=ve.side),J}function q(ve){var J=ve[0],Y=ve[1],j=Y-J,K=z(J,360),te=K+j,se=Math.cos(N(K)),Q=Math.sin(N(K)),ee=Math.cos(N(te)),le=Math.sin(N(te)),ie,he,xe,Se;return K<=90&&te>=90||K>90&&te>=450?Se=1:Q<=0&&le<=0?Se=0:Se=Math.max(Q,le),K<=180&&te>=180||K>180&&te>=540?ie=-1:se>=0&&ee>=0?ie=0:ie=Math.min(se,ee),K<=270&&te>=270||K>270&&te>=630?he=-1:Q>=0&&le>=0?he=0:he=Math.min(Q,le),te>=360?xe=1:se<=0&&ee<=0?xe=0:xe=Math.max(se,ee),[ie,he,xe,Se]}function ne(ve,J){var Y=function(K){return L.angleDist(ve,K)},j=L.findIndexOfMin(J,Y);return J[j]}function oe(ve,J,Y){return J?(ve.attr("display",null),ve.attr(Y)):ve&&ve.attr("display","none"),ve}},12101:function(G,V,e){var g=e(71828),R=e(21994),i=g.deg2rad,L=g.rad2deg;G.exports=function(l,n,s){switch(R(l,s),l._id){case"x":case"radialaxis":T(l,n);break;case"angularaxis":t(l,n);break}};function T(r,l){var n=l._subplot;r.setGeometry=function(){var s=r._rl[0],c=r._rl[1],u=n.innerRadius,y=(n.radius-u)/(c-s),h=u/y,b=s>c?function(f){return f<=0}:function(f){return f>=0};r.c2g=function(f){var o=r.c2l(f)-s;return(b(o)?o:0)+h},r.g2c=function(f){return r.l2c(f+s-h)},r.g2p=function(f){return f*y},r.c2p=function(f){return r.g2p(r.c2g(f))}}}function v(r,l){return l==="degrees"?i(r):r}function p(r,l){return l==="degrees"?L(r):r}function t(r,l){var n=r.type;if(n==="linear"){var s=r.d2c,c=r.c2d;r.d2c=function(u,y){return v(s(u),y)},r.c2d=function(u,y){return c(p(u,y))}}r.makeCalcdata=function(u,y){var h=u[y],b=u._length,f,o,d=function(S){return r.d2c(S,u.thetaunit)};if(h){if(g.isTypedArray(h)&&n==="linear"){if(b===h.length)return h;if(h.subarray)return h.subarray(0,b)}for(f=new Array(b),o=0;o<b;o++)f[o]=d(h[o])}else{var A=y+"0",M="d"+y,C=A in u?d(u[A]):0,m=u[M]?d(u[M]):(r.period||2*Math.PI)/b;for(f=new Array(b),o=0;o<b;o++)f[o]=C+o*m}return f},r.setGeometry=function(){var u=l.sector,y=u.map(i),h={clockwise:-1,counterclockwise:1}[r.direction],b=i(r.rotation),f=function(x){return h*x+b},o=function(x){return(x-b)/h},d,A,M,C;switch(n){case"linear":A=d=g.identity,C=i,M=L,r.range=g.isFullCircle(y)?[u[0],u[0]+360]:y.map(o).map(L);break;case"category":var m=r._categories.length,S=r.period?Math.max(r.period,m):m;S===0&&(S=1),A=C=function(x){return x*2*Math.PI/S},d=M=function(x){return x*S/Math.PI/2},r.range=[0,S];break}r.c2g=function(x){return f(A(x))},r.g2c=function(x){return d(o(x))},r.t2g=function(x){return f(C(x))},r.g2t=function(x){return M(o(x))}}}},39779:function(G){G.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(G){function V(T){return T<0?-1:T>0?1:0}function e(T){var v=T[0],p=T[1];if(!isFinite(v)||!isFinite(p))return[1,0];var t=(v+1)*(v+1)+p*p;return[(v*v+p*p-1)/t,2*p/t]}function g(T,v){var p=v[0],t=v[1];return[p*T.radius+T.cx,-t*T.radius+T.cy]}function R(T,v){return v*T.radius}function i(T,v,p,t){var r=g(T,e([p,v])),l=r[0],n=r[1],s=g(T,e([t,v])),c=s[0],u=s[1];if(v===0)return["M"+l+","+n,"L"+c+","+u].join(" ");var y=R(T,1/Math.abs(v));return["M"+l+","+n,"A"+y+","+y+" 0 0,"+(v<0?1:0)+" "+c+","+u].join(" ")}function L(T,v,p,t){var r=R(T,1/(v+1)),l=g(T,e([v,p])),n=l[0],s=l[1],c=g(T,e([v,t])),u=c[0],y=c[1];if(V(p)!==V(t)){var h=g(T,e([v,0])),b=h[0],f=h[1];return["M"+n+","+s,"A"+r+","+r+" 0 0,"+(0<p?0:1)+" "+b+","+f,"A"+r+","+r+" 0 0,"+(t<0?0:1)+u+","+y].join(" ")}return["M"+n+","+s,"A"+r+","+r+" 0 0,"+(t<p?0:1)+" "+u+","+y].join(" ")}G.exports={smith:e,reactanceArc:i,resistanceArc:L,smithTransform:g}},7504:function(G,V,e){var g=e(27659).AU,R=e(71828).counterRegex,i=e(77997),L=e(39779),T=L.attr,v=L.name,p=R(v),t={};t[T]={valType:"subplotid",dflt:v,editType:"calc"};function r(n){for(var s=n._fullLayout,c=n.calcdata,u=s._subplots[v],y=0;y<u.length;y++){var h=u[y],b=g(c,v,h),f=s[h]._subplot;f||(f=i(n,h,!0),s[h]._subplot=f),f.plot(b,s,n._promises)}}function l(n,s,c,u){for(var y=u._subplots[v]||[],h=0;h<y.length;h++){var b=y[h],f=u[b]._subplot;if(!s[b]&&f){f.framework.remove();for(var o in f.clipPaths)f.clipPaths[o].remove()}}}G.exports={attr:T,name:v,idRoot:v,idRegex:p,attrRegex:p,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:r,clean:l,toSVG:e(93612).toSVG}},33419:function(G,V,e){var g=e(22399),R=e(13838),i=e(27670).Y,L=e(71828).extendFlat,T=e(30962).overrideAll,v=T({color:R.color,showline:L({},R.showline,{dflt:!0}),linecolor:R.linecolor,linewidth:R.linewidth,showgrid:L({},R.showgrid,{dflt:!0}),gridcolor:R.gridcolor,gridwidth:R.gridwidth,griddash:R.griddash},"plot","from-root"),p=T({ticklen:R.ticklen,tickwidth:L({},R.tickwidth,{dflt:2}),tickcolor:R.tickcolor,showticklabels:R.showticklabels,labelalias:R.labelalias,showtickprefix:R.showtickprefix,tickprefix:R.tickprefix,showticksuffix:R.showticksuffix,ticksuffix:R.ticksuffix,tickfont:R.tickfont,tickformat:R.tickformat,hoverformat:R.hoverformat,layer:R.layer},"plot","from-root"),t=L({visible:L({},R.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:L({},R.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,p),r=L({visible:L({},R.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:R.ticks,editType:"calc"},v,p);G.exports={domain:i({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:g.background},realaxis:t,imaginaryaxis:r,editType:"calc"}},9558:function(G,V,e){var g=e(71828),R=e(7901),i=e(44467),L=e(49119),T=e(27659).NG,v=e(89426),p=e(96115),t=e(92128),r=e(21994),l=e(33419),n=e(39779),s=n.axisNames,c=y(function(h){return h.slice().reverse().map(function(b){return-b}).concat([0]).concat(h)},String);function u(h,b,f,o){var d=f("bgcolor");o.bgColor=R.combine(d,o.paper_bgcolor);var A=T(o.fullData,n.name,o.id),M=o.layoutOut,C;function m(H,X){return f(C+"."+H,X)}for(var S=0;S<s.length;S++){C=s[S],g.isPlainObject(h[C])||(h[C]={});var x=h[C],a=i.newContainer(b,C);a._id=a._name=C,a._attr=o.id+"."+C,a._traceIndices=A.map(function(H){return H._expandedIndex});var E=m("visible");if(a.type="linear",r(a,M),v(x,a,m,a.type),E){var w=C==="realaxis";if(w&&m("side"),w)m("tickvals");else{var k=c(b.realaxis.tickvals||l.realaxis.tickvals.dflt);m("tickvals",k)}var I,U,z,N,B=o.font||{};E&&(I=m("color"),U=I===x.color?I:B.color,z=B.size,N=B.family),p(x,a,m,a.type,{noTicklabelstep:!0,noAng:!w,noExp:!0,font:{color:U,size:z,family:N}}),g.coerce2(h,b,l,C+".ticklen"),g.coerce2(h,b,l,C+".tickwidth"),g.coerce2(h,b,l,C+".tickcolor",b.color);var F=m("ticks");F||(delete b[C].ticklen,delete b[C].tickwidth,delete b[C].tickcolor),t(x,a,m,{dfltColor:I,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[C]}),m("layer")}m("hoverformat"),delete a.type,a._input=x}}G.exports=function(b,f,o){L(b,f,o,{noUirevision:!0,type:n.name,attributes:l,handleDefaults:u,font:f.font,paper_bgcolor:f.paper_bgcolor,fullData:o,layoutOut:f})};function y(h,b){var f={};return function(o){var d=b?b(o):o;if(d in f)return f[d];var A=h(o);return f[d]=A,A}}},49119:function(G,V,e){var g=e(71828),R=e(44467),i=e(27670).c;G.exports=function(T,v,p,t){var r=t.type,l=t.attributes,n=t.handleDefaults,s=t.partition||"x",c=v._subplots[r],u=c.length,y=u&&c[0].replace(/\d+$/,""),h,b;function f(M,C){return g.coerce(h,b,l,M,C)}for(var o=0;o<u;o++){var d=c[o];T[d]?h=T[d]:h=T[d]={},b=R.newContainer(v,d,y),t.noUirevision||f("uirevision",v.uirevision);var A={};A[s]=[o/u,(o+1)/u],i(b,v,f,A),t.id=d,n(h,b,f,t)}}},5386:function(G,V,e){var g=e(31562);g.FORMAT_LINK,g.DATE_FORMAT_LINK;function R(i){var L=i.description?" "+i.description:"",T=i.keys||[];if(T.length>0){for(var v=[],p=0;p<T.length;p++)v[p]="`"+T[p]+"`";L=L+"Finally, the template string has access to ",T.length===1?L=L+"variable "+v[0]:L=L+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return L}V.fF=function(i,L){i=i||{},L=L||{},R(L);var T={valType:"string",dflt:"",editType:i.editType||"none"};return i.arrayOk!==!1&&(T.arrayOk=!0),T},V.si=function(i,L){i=i||{},L=L||{},R(L);var T={valType:"string",dflt:"",editType:i.editType||"calc"};return i.arrayOk!==!1&&(T.arrayOk=!0),T},V.R=function(i,L){i=i||{},L=L||{},i.newshape,R(L);var T={valType:"string",dflt:"",editType:i.editType||"arraydraw"};return T}},61639:function(G,V,e){var g=e(64380),R=e(27659).AU,i=e(71828).counterRegex,L="ternary";V.name=L;var T=V.attr="subplot";V.idRoot=L,V.idRegex=V.attrRegex=i(L);var v=V.attributes={};v[T]={valType:"subplotid",dflt:"ternary",editType:"calc"},V.layoutAttributes=e(81367),V.supplyLayoutDefaults=e(25369),V.plot=function(t){for(var r=t._fullLayout,l=t.calcdata,n=r._subplots[L],s=0;s<n.length;s++){var c=n[s],u=R(l,L,c),y=r[c]._subplot;y||(y=new g({id:c,graphDiv:t,container:r._ternarylayer.node()},r),r[c]._subplot=y),y.plot(u,r,t._promises)}},V.clean=function(p,t,r,l){for(var n=l._subplots[L]||[],s=0;s<n.length;s++){var c=n[s],u=l[c]._subplot;!t[c]&&u&&(u.plotContainer.remove(),u.clipDef.remove(),u.clipDefRelative.remove(),u.layers["a-title"].remove(),u.layers["b-title"].remove(),u.layers["c-title"].remove())}}},81367:function(G,V,e){var g=e(22399),R=e(27670).Y,i=e(13838),L=e(30962).overrideAll,T=e(1426).extendFlat,v={title:{text:i.title.text,font:i.title.font},color:i.color,tickmode:i.minor.tickmode,nticks:T({},i.nticks,{dflt:6,min:1}),tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:T({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:T({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth,griddash:i.griddash,layer:i.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},p=G.exports=L({domain:R({name:"ternary"}),bgcolor:{valType:"color",dflt:g.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");p.uirevision={valType:"any",editType:"none"},p.aaxis.uirevision=p.baxis.uirevision=p.caxis.uirevision={valType:"any",editType:"none"}},25369:function(G,V,e){var g=e(7901),R=e(44467),i=e(71828),L=e(49119),T=e(96115),v=e(89426),p=e(38701),t=e(26218),r=e(92128),l=e(81367),n=["aaxis","baxis","caxis"];G.exports=function(y,h,b){L(y,h,b,{type:"ternary",attributes:l,handleDefaults:s,font:h.font,paper_bgcolor:h.paper_bgcolor})};function s(u,y,h,b){var f=h("bgcolor"),o=h("sum");b.bgColor=g.combine(f,b.paper_bgcolor);for(var d,A,M,C=0;C<n.length;C++)d=n[C],A=u[d]||{},M=R.newContainer(y,d),M._name=d,c(A,M,b,y);var m=y.aaxis,S=y.baxis,x=y.caxis;m.min+S.min+x.min>=o&&(m.min=0,S.min=0,x.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function c(u,y,h,b){var f=l[y._name];function o(a,E){return i.coerce(u,y,f,a,E)}o("uirevision",b.uirevision),y.type="linear";var d=o("color"),A=d!==f.color.dflt?d:h.font.color,M=y._name,C=M.charAt(0).toUpperCase(),m="Component "+C,S=o("title.text",m);y._hovertitle=S===m?S:C,i.coerceFont(o,"title.font",{family:h.font.family,size:i.bigFont(h.font.size),color:A}),o("min"),t(u,y,o,"linear"),v(u,y,o,"linear"),T(u,y,o,"linear"),p(u,y,o,{outerTicks:!0});var x=o("showticklabels");x&&(i.coerceFont(o,"tickfont",{family:h.font.family,size:h.font.size,color:A}),o("tickangle"),o("tickformat")),r(u,y,o,{dfltColor:d,bgColor:h.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f}),o("hoverformat"),o("layer")}},64380:function(G,V,e){var g=e(39898),R=e(84267),i=e(73972),L=e(71828),T=L.strTranslate,v=L._,p=e(7901),t=e(91424),r=e(21994),l=e(1426).extendFlat,n=e(74875),s=e(89298),c=e(28569),u=e(30211),y=e(64505),h=y.freeMode,b=y.rectMode,f=e(92998),o=e(47322).prepSelect,d=e(47322).selectOnClick,A=e(47322).clearOutline,M=e(47322).clearSelectionsCache,C=e(85555);function m(B,F){this.id=B.id,this.graphDiv=B.graphDiv,this.init(F),this.makeFramework(F),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}G.exports=m;var S=m.prototype;S.init=function(B){this.container=B._ternarylayer,this.defs=B._defs,this.layoutId=B._uid,this.traceHash={},this.layers={}},S.plot=function(B,F){var H=this,X=F[H.id],q=F._size;H._hasClipOnAxisFalse=!1;for(var ne=0;ne<B.length;ne++){var oe=B[ne][0].trace;if(oe.cliponaxis===!1){H._hasClipOnAxisFalse=!0;break}}H.updateLayers(X),H.adjustLayout(X,q),n.generalUpdatePerTraceModule(H.graphDiv,H,B,X),H.layers.plotbg.select("path").call(p.fill,X.bgcolor)},S.makeFramework=function(B){var F=this,H=F.graphDiv,X=B[F.id],q=F.clipId="clip"+F.layoutId+F.id,ne=F.clipIdRelative="clip-relative"+F.layoutId+F.id;F.clipDef=L.ensureSingleById(B._clips,"clipPath",q,function(oe){oe.append("path").attr("d","M0,0Z")}),F.clipDefRelative=L.ensureSingleById(B._clips,"clipPath",ne,function(oe){oe.append("path").attr("d","M0,0Z")}),F.plotContainer=L.ensureSingle(F.container,"g",F.id),F.updateLayers(X),t.setClipUrl(F.layers.backplot,q,H),t.setClipUrl(F.layers.grids,q,H)},S.updateLayers=function(B){var F=this,H=F.layers,X=["draglayer","plotbg","backplot","grids"];B.aaxis.layer==="below traces"&&X.push("aaxis","aline"),B.baxis.layer==="below traces"&&X.push("baxis","bline"),B.caxis.layer==="below traces"&&X.push("caxis","cline"),X.push("frontplot"),B.aaxis.layer==="above traces"&&X.push("aaxis","aline"),B.baxis.layer==="above traces"&&X.push("baxis","bline"),B.caxis.layer==="above traces"&&X.push("caxis","cline");var q=F.plotContainer.selectAll("g.toplevel").data(X,String),ne=["agrid","bgrid","cgrid"];q.enter().append("g").attr("class",function(oe){return"toplevel "+oe}).each(function(oe){var ve=g.select(this);H[oe]=ve,oe==="frontplot"?ve.append("g").classed("scatterlayer",!0):oe==="backplot"?ve.append("g").classed("maplayer",!0):oe==="plotbg"?ve.append("path").attr("d","M0,0Z"):oe==="aline"||oe==="bline"||oe==="cline"?ve.append("path"):oe==="grids"&&ne.forEach(function(J){H[J]=ve.append("g").classed("grid "+J,!0)})}),q.order()};var x=Math.sqrt(4/3);S.adjustLayout=function(B,F){var H=this,X=B.domain,q=(X.x[0]+X.x[1])/2,ne=(X.y[0]+X.y[1])/2,oe=X.x[1]-X.x[0],ve=X.y[1]-X.y[0],J=oe*F.w,Y=ve*F.h,j=B.sum,K=B.aaxis.min,te=B.baxis.min,se=B.caxis.min,Q,ee,le,ie,he,xe;J>x*Y?(ie=Y,le=ie*x):(le=J,ie=le/x),he=oe*le/J,xe=ve*ie/Y,Q=F.l+F.w*q-le/2,ee=F.t+F.h*(1-ne)-ie/2,H.x0=Q,H.y0=ee,H.w=le,H.h=ie,H.sum=j,H.xaxis={type:"linear",range:[K+2*se-j,j-K-2*te],domain:[q-he/2,q+he/2],_id:"x"},r(H.xaxis,H.graphDiv._fullLayout),H.xaxis.setScale(),H.xaxis.isPtWithinRange=function(Ge){return Ge.a>=H.aaxis.range[0]&&Ge.a<=H.aaxis.range[1]&&Ge.b>=H.baxis.range[1]&&Ge.b<=H.baxis.range[0]&&Ge.c>=H.caxis.range[1]&&Ge.c<=H.caxis.range[0]},H.yaxis={type:"linear",range:[K,j-te-se],domain:[ne-xe/2,ne+xe/2],_id:"y"},r(H.yaxis,H.graphDiv._fullLayout),H.yaxis.setScale(),H.yaxis.isPtWithinRange=function(){return!0};var Se=H.yaxis.domain[0],Ee=H.aaxis=l({},B.aaxis,{range:[K,j-te-se],side:"left",tickangle:(+B.aaxis.tickangle||0)-30,domain:[Se,Se+xe*x],anchor:"free",position:0,_id:"y",_length:le});r(Ee,H.graphDiv._fullLayout),Ee.setScale();var Ne=H.baxis=l({},B.baxis,{range:[j-K-se,te],side:"bottom",domain:H.xaxis.domain,anchor:"free",position:0,_id:"x",_length:le});r(Ne,H.graphDiv._fullLayout),Ne.setScale();var He=H.caxis=l({},B.caxis,{range:[j-K-te,se],side:"right",tickangle:(+B.caxis.tickangle||0)+30,domain:[Se,Se+xe*x],anchor:"free",position:0,_id:"y",_length:le});r(He,H.graphDiv._fullLayout),He.setScale();var Ce="M"+Q+","+(ee+ie)+"h"+le+"l-"+le/2+",-"+ie+"Z";H.clipDef.select("path").attr("d",Ce),H.layers.plotbg.select("path").attr("d",Ce);var be="M0,"+ie+"h"+le+"l-"+le/2+",-"+ie+"Z";H.clipDefRelative.select("path").attr("d",be);var we=T(Q,ee);H.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",we),H.clipDefRelative.select("path").attr("transform",null);var ke=T(Q-Ne._offset,ee+ie);H.layers.baxis.attr("transform",ke),H.layers.bgrid.attr("transform",ke);var Fe=T(Q+le/2,ee)+"rotate(30)"+T(0,-Ee._offset);H.layers.aaxis.attr("transform",Fe),H.layers.agrid.attr("transform",Fe);var Pe=T(Q+le/2,ee)+"rotate(-30)"+T(0,-He._offset);H.layers.caxis.attr("transform",Pe),H.layers.cgrid.attr("transform",Pe),H.drawAxes(!0),H.layers.aline.select("path").attr("d",Ee.showline?"M"+Q+","+(ee+ie)+"l"+le/2+",-"+ie:"M0,0").call(p.stroke,Ee.linecolor||"#000").style("stroke-width",(Ee.linewidth||0)+"px"),H.layers.bline.select("path").attr("d",Ne.showline?"M"+Q+","+(ee+ie)+"h"+le:"M0,0").call(p.stroke,Ne.linecolor||"#000").style("stroke-width",(Ne.linewidth||0)+"px"),H.layers.cline.select("path").attr("d",He.showline?"M"+(Q+le/2)+","+ee+"l"+le/2+","+ie:"M0,0").call(p.stroke,He.linecolor||"#000").style("stroke-width",(He.linewidth||0)+"px"),H.graphDiv._context.staticPlot||H.initInteractions(),t.setClipUrl(H.layers.frontplot,H._hasClipOnAxisFalse?null:H.clipId,H.graphDiv)},S.drawAxes=function(B){var F=this,H=F.graphDiv,X=F.id.substr(7)+"title",q=F.layers,ne=F.aaxis,oe=F.baxis,ve=F.caxis;if(F.drawAx(ne),F.drawAx(oe),F.drawAx(ve),B){var J=Math.max(ne.showticklabels?ne.tickfont.size/2:0,(ve.showticklabels?ve.tickfont.size*.75:0)+(ve.ticks==="outside"?ve.ticklen*.87:0)),Y=(oe.showticklabels?oe.tickfont.size:0)+(oe.ticks==="outside"?oe.ticklen:0)+3;q["a-title"]=f.draw(H,"a"+X,{propContainer:ne,propName:F.id+".aaxis.title",placeholder:v(H,"Click to enter Component A title"),attributes:{x:F.x0+F.w/2,y:F.y0-ne.title.font.size/3-J,"text-anchor":"middle"}}),q["b-title"]=f.draw(H,"b"+X,{propContainer:oe,propName:F.id+".baxis.title",placeholder:v(H,"Click to enter Component B title"),attributes:{x:F.x0-Y,y:F.y0+F.h+oe.title.font.size*.83+Y,"text-anchor":"middle"}}),q["c-title"]=f.draw(H,"c"+X,{propContainer:ve,propName:F.id+".caxis.title",placeholder:v(H,"Click to enter Component C title"),attributes:{x:F.x0+F.w+Y,y:F.y0+F.h+ve.title.font.size*.83+Y,"text-anchor":"middle"}})}},S.drawAx=function(B){var F=this,H=F.graphDiv,X=B._name,q=X.charAt(0),ne=B._id,oe=F.layers[X],ve=30,J=q+"tickLayout",Y=a(B);F[J]!==Y&&(oe.selectAll("."+ne+"tick").remove(),F[J]=Y),B.setScale();var j=s.calcTicks(B),K=s.clipEnds(B,j),te=s.makeTransTickFn(B),se=s.getTickSigns(B)[2],Q=L.deg2rad(ve),ee=se*(B.linewidth||1)/2,le=se*B.ticklen,ie=F.w,he=F.h,xe=q==="b"?"M0,"+ee+"l"+Math.sin(Q)*le+","+Math.cos(Q)*le:"M"+ee+",0l"+Math.cos(Q)*le+","+-Math.sin(Q)*le,Se={a:"M0,0l"+he+",-"+ie/2,b:"M0,0l-"+ie/2+",-"+he,c:"M0,0l-"+he+","+ie/2}[q];s.drawTicks(H,B,{vals:B.ticks==="inside"?K:j,layer:oe,path:xe,transFn:te,crisp:!1}),s.drawGrid(H,B,{vals:K,layer:F.layers[q+"grid"],path:Se,transFn:te,crisp:!1}),s.drawLabels(H,B,{vals:j,layer:oe,transFn:te,labelFns:s.makeLabelFns(B,0,ve)})};function a(B){return B.ticks+String(B.ticklen)+String(B.showticklabels)}var E=C.MINZOOM/2+.87,w="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(E*.87+4.5)+"l2.6,1.5l-"+E/2+","+E*.87+"Z",k="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-2.6,1.5l"+E/2+","+E*.87+"Z",I="m0,1l"+E/2+","+E*.87+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(E*.87+4.5)+"l-"+(E/2+2.6)+","+(E*.87+4.5)+"l2.6,1.5l"+E/2+",-"+E*.87+"Z",U="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",z=!0;S.clearOutline=function(){M(this.dragOptions),A(this.dragOptions.gd)},S.initInteractions=function(){var B=this,F=B.layers.plotbg.select("path").node(),H=B.graphDiv,X=H._fullLayout._zoomlayer,q,ne;this.dragOptions={element:F,gd:H,plotinfo:{id:B.id,domain:H._fullLayout[B.id].domain,xaxis:B.xaxis,yaxis:B.yaxis},subplot:B.id,prepFn:function(ke,Fe,Pe){B.dragOptions.xaxes=[B.xaxis],B.dragOptions.yaxes=[B.yaxis],q=H._fullLayout._invScaleX,ne=H._fullLayout._invScaleY;var Ge=B.dragOptions.dragmode=H._fullLayout.dragmode;h(Ge)?B.dragOptions.minDrag=1:B.dragOptions.minDrag=void 0,Ge==="zoom"?(B.dragOptions.moveFn=Ne,B.dragOptions.clickFn=ie,B.dragOptions.doneFn=He,he(ke,Fe,Pe)):Ge==="pan"?(B.dragOptions.moveFn=be,B.dragOptions.clickFn=ie,B.dragOptions.doneFn=we,Ce(),B.clearOutline(H)):(b(Ge)||h(Ge))&&o(ke,Fe,Pe,B.dragOptions,Ge)}};var oe,ve,J,Y,j,K,te,se,Q,ee;function le(ke){var Fe={};return Fe[B.id+".aaxis.min"]=ke.a,Fe[B.id+".baxis.min"]=ke.b,Fe[B.id+".caxis.min"]=ke.c,Fe}function ie(ke,Fe){var Pe=H._fullLayout.clickmode;N(H),ke===2&&(H.emit("plotly_doubleclick",null),i.call("_guiRelayout",H,le({a:0,b:0,c:0}))),Pe.indexOf("select")>-1&&ke===1&&d(Fe,H,[B.xaxis],[B.yaxis],B.id,B.dragOptions),Pe.indexOf("event")>-1&&u.click(H,Fe,B.id)}function he(ke,Fe,Pe){var Ge=F.getBoundingClientRect();oe=Fe-Ge.left,ve=Pe-Ge.top,H._fullLayout._calcInverseTransform(H);var nt=H._fullLayout._invTransform,qe=L.apply3DTransform(nt)(oe,ve);oe=qe[0],ve=qe[1],J={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},j=J,Y=B.aaxis.range[1]-J.a,K=R(B.graphDiv._fullLayout[B.id].bgcolor).getLuminance(),te="M0,"+B.h+"L"+B.w/2+", 0L"+B.w+","+B.h+"Z",se=!1,Q=X.append("path").attr("class","zoombox").attr("transform",T(B.x0,B.y0)).style({fill:K>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",te),ee=X.append("path").attr("class","zoombox-corners").attr("transform",T(B.x0,B.y0)).style({fill:p.background,stroke:p.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),B.clearOutline(H)}function xe(ke,Fe){return 1-Fe/B.h}function Se(ke,Fe){return 1-(ke+(B.h-Fe)/Math.sqrt(3))/B.w}function Ee(ke,Fe){return(ke-(B.h-Fe)/Math.sqrt(3))/B.w}function Ne(ke,Fe){var Pe=oe+ke*q,Ge=ve+Fe*ne,nt=Math.max(0,Math.min(1,xe(oe,ve),xe(Pe,Ge))),qe=Math.max(0,Math.min(1,Se(oe,ve),Se(Pe,Ge))),Ke=Math.max(0,Math.min(1,Ee(oe,ve),Ee(Pe,Ge))),$e=(nt/2+Ke)*B.w,vt=(1-nt/2-qe)*B.w,yt=($e+vt)/2,mt=vt-$e,Et=(1-nt)*B.h,Xe=Et-mt/x;mt<C.MINZOOM?(j=J,Q.attr("d",te),ee.attr("d","M0,0Z")):(j={a:J.a+nt*Y,b:J.b+qe*Y,c:J.c+Ke*Y},Q.attr("d",te+"M"+$e+","+Et+"H"+vt+"L"+yt+","+Xe+"L"+$e+","+Et+"Z"),ee.attr("d","M"+oe+","+ve+U+"M"+$e+","+Et+w+"M"+vt+","+Et+k+"M"+yt+","+Xe+I)),se||(Q.transition().style("fill",K>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ee.transition().style("opacity",1).duration(200),se=!0),H.emit("plotly_relayouting",le(j))}function He(){N(H),j!==J&&(i.call("_guiRelayout",H,le(j)),z&&H.data&&H._context.showTips&&(L.notifier(v(H,"Double-click to zoom back out"),"long"),z=!1))}function Ce(){J={a:B.aaxis.range[0],b:B.baxis.range[1],c:B.caxis.range[1]},j=J}function be(ke,Fe){var Pe=ke/B.xaxis._m,Ge=Fe/B.yaxis._m;j={a:J.a-Ge,b:J.b+(Pe+Ge)/2,c:J.c-(Pe-Ge)/2};var nt=[j.a,j.b,j.c].sort(L.sorterAsc),qe={a:nt.indexOf(j.a),b:nt.indexOf(j.b),c:nt.indexOf(j.c)};nt[0]<0&&(nt[1]+nt[0]/2<0?(nt[2]+=nt[0]+nt[1],nt[0]=nt[1]=0):(nt[2]+=nt[0]/2,nt[1]+=nt[0]/2,nt[0]=0),j={a:nt[qe.a],b:nt[qe.b],c:nt[qe.c]},Fe=(J.a-j.a)*B.yaxis._m,ke=(J.c-j.c-J.b+j.b)*B.xaxis._m);var Ke=T(B.x0+ke,B.y0+Fe);B.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ke);var $e=T(-ke,-Fe);B.clipDefRelative.select("path").attr("transform",$e),B.aaxis.range=[j.a,B.sum-j.b-j.c],B.baxis.range=[B.sum-j.a-j.c,j.b],B.caxis.range=[B.sum-j.a-j.b,j.c],B.drawAxes(!1),B._hasClipOnAxisFalse&&B.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,B),H.emit("plotly_relayouting",le(j))}function we(){i.call("_guiRelayout",H,le(j))}F.onmousemove=function(ke){u.hover(H,ke,B.id),H._fullLayout._lasthover=F,H._fullLayout._hoversubplot=B.id},F.onmouseout=function(ke){H._dragging||c.unhover(H,ke)},c.init(this.dragOptions)};function N(B){g.select(B).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},73972:function(G,V,e){var g=e(47769),R=e(64213),i=e(75138),L=e(41965),T=e(24401).addStyleRule,v=e(1426),p=e(9012),t=e(10820),r=v.extendFlat,l=v.extendDeepAll;V.modules={},V.allCategories={},V.allTypes=[],V.subplotsRegistry={},V.transformsRegistry={},V.componentsRegistry={},V.layoutArrayContainers=[],V.layoutArrayRegexes=[],V.traceLayoutAttributes={},V.localeRegistry={},V.apiMethodRegistry={},V.collectableSubplotTypes=null,V.register=function(M){if(V.collectableSubplotTypes=null,M)M&&!Array.isArray(M)&&(M=[M]);else throw new Error("No argument passed to Plotly.register.");for(var C=0;C<M.length;C++){var m=M[C];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":n(m);break;case"transform":u(m);break;case"component":c(m);break;case"locale":y(m);break;case"apiMethod":var S=m.name;V.apiMethodRegistry[S]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},V.getModule=function(A){var M=V.modules[d(A)];return M?M._module:!1},V.traceIs=function(A,M){if(A=d(A),A==="various")return!1;var C=V.modules[A];return C||(A&&g.log("Unrecognized trace type "+A+"."),C=V.modules[p.type.dflt]),!!C.categories[M]},V.getTransformIndices=function(A,M){for(var C=[],m=A.transforms||[],S=0;S<m.length;S++)m[S].type===M&&C.push(S);return C},V.hasTransform=function(A,M){for(var C=A.transforms||[],m=0;m<C.length;m++)if(C[m].type===M)return!0;return!1},V.getComponentMethod=function(A,M){var C=V.componentsRegistry[A];return C&&C[M]||R},V.call=function(){var A=arguments[0],M=[].slice.call(arguments,1);return V.apiMethodRegistry[A].apply(null,M)};function n(A){var M=A.name,C=A.categories,m=A.meta;if(V.modules[M]){g.log("Type "+M+" already registered");return}V.subplotsRegistry[A.basePlotModule.name]||s(A.basePlotModule);for(var S={},x=0;x<C.length;x++)S[C[x]]=!0,V.allCategories[C[x]]=!0;V.modules[M]={_module:A,categories:S},m&&Object.keys(m).length&&(V.modules[M].meta=m),V.allTypes.push(M);for(var a in V.componentsRegistry)b(a,M);A.layoutAttributes&&r(V.traceLayoutAttributes,A.layoutAttributes);var E=A.basePlotModule,w=E.name;if(w==="mapbox"){var k=E.constants.styleRules;for(var I in k)T(".js-plotly-plot .plotly .mapboxgl-"+I,k[I])}(w==="geo"||w==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function s(A){var M=A.name;if(V.subplotsRegistry[M]){g.log("Plot type "+M+" already registered.");return}h(A),V.subplotsRegistry[M]=A;for(var C in V.componentsRegistry)o(C,A.name)}function c(A){if(typeof A.name!="string")throw new Error("Component module *name* must be a string.");var M=A.name;V.componentsRegistry[M]=A,A.layoutAttributes&&(A.layoutAttributes._isLinkedToArray&&i(V.layoutArrayContainers,M),h(A));for(var C in V.modules)b(M,C);for(var m in V.subplotsRegistry)o(M,m);for(var S in V.transformsRegistry)f(M,S);A.schema&&A.schema.layout&&l(t,A.schema.layout)}function u(A){if(typeof A.name!="string")throw new Error("Transform module *name* must be a string.");var M="Transform module "+A.name,C=typeof A.transform=="function",m=typeof A.calcTransform=="function";if(!C&&!m)throw new Error(M+" is missing a *transform* or *calcTransform* method.");C&&m&&g.log([M+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),L(A.attributes)||g.log(M+" registered without an *attributes* object."),typeof A.supplyDefaults!="function"&&g.log(M+" registered without a *supplyDefaults* method."),V.transformsRegistry[A.name]=A;for(var S in V.componentsRegistry)f(S,A.name)}function y(A){var M=A.name,C=M.split("-")[0],m=A.dictionary,S=A.format,x=m&&Object.keys(m).length,a=S&&Object.keys(S).length,E=V.localeRegistry,w=E[M];if(w||(E[M]=w={}),C!==M){var k=E[C];k||(E[C]=k={}),x&&k.dictionary===w.dictionary&&(k.dictionary=m),a&&k.format===w.format&&(k.format=S)}x&&(w.dictionary=m),a&&(w.format=S)}function h(A){if(A.layoutAttributes){var M=A.layoutAttributes._arrayAttrRegexps;if(M)for(var C=0;C<M.length;C++)i(V.layoutArrayRegexes,M[C])}}function b(A,M){var C=V.componentsRegistry[A].schema;if(!(!C||!C.traces)){var m=C.traces[M];m&&l(V.modules[M]._module.attributes,m)}}function f(A,M){var C=V.componentsRegistry[A].schema;if(!(!C||!C.transforms)){var m=C.transforms[M];m&&l(V.transformsRegistry[M].attributes,m)}}function o(A,M){var C=V.componentsRegistry[A].schema;if(!(!C||!C.subplots)){var m=V.subplotsRegistry[M],S=m.layoutAttributes,x=m.attr==="subplot"?m.name:m.attr;Array.isArray(x)&&(x=x[0]);var a=C.subplots[x];S&&a&&l(S,a)}}function d(A){return typeof A=="object"&&(A=A.type),A}},61914:function(G,V,e){var g=e(73972),R=e(71828),i=R.extendFlat,L=R.extendDeep;function T(p){var t;switch(p){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function v(p){var t=["xaxis","yaxis","zaxis"];return t.indexOf(p.slice(0,5))>-1}G.exports=function(t,r){var l,n=t.data,s=t.layout,c=L([],n),u=L({},s,T(r.tileClass)),y=t._context||{};if(r.width&&(u.width=r.width),r.height&&(u.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){u.annotations=[];var h=Object.keys(u);for(l=0;l<h.length;l++)v(h[l])&&(u[h[l]].title={text:""});for(l=0;l<c.length;l++){var b=c[l];b.showscale=!1,b.marker&&(b.marker.showscale=!1),g.traceIs(b,"pie-like")&&(b.textposition="none")}}if(Array.isArray(r.annotations))for(l=0;l<r.annotations.length;l++)u.annotations.push(r.annotations[l]);var f=Object.keys(u).filter(function(C){return C.match(/^scene\d*$/)});if(f.length){var o={};for(r.tileClass==="thumbnail"&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),l=0;l<f.length;l++){var d=u[f[l]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),i(d.xaxis,o),i(d.yaxis,o),i(d.zaxis,o),d._scene=null}}var A=document.createElement("div");r.tileClass&&(A.className=r.tileClass);var M={gd:A,td:A,layout:u,data:c,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:y.mapboxAccessToken}};return r.setBackground!=="transparent"&&(M.config.setBackground=r.setBackground||"opaque"),M.gd.defaultLayout=T(r.tileClass),M}},7239:function(G,V,e){var g=e(71828),R=e(403),i=e(22435),L=e(25095);function T(v,p){var t;return g.isPlainObject(v)||(t=g.getGraphDiv(v)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(r,l){t&&t._snapshotInProgress&&l(new Error("Snapshotting already in progress.")),g.isIE()&&p.format!=="svg"&&l(new Error(L.MSG_IE_BAD_FORMAT)),t&&(t._snapshotInProgress=!0);var n=R(v,p),s=p.filename||v.fn||"newplot";s+="."+p.format.replace("-","."),n.then(function(c){return t&&(t._snapshotInProgress=!1),i(c,s,p.format)}).then(function(c){r(c)}).catch(function(c){t&&(t._snapshotInProgress=!1),l(c)})})}G.exports=T},22435:function(G,V,e){var g=e(71828),R=e(25095);function i(L,T,v){var p=document.createElement("a"),t="download"in p,r=new Promise(function(l,n){var s,c;if(g.isIE())return s=R.createBlob(L,"svg"),window.navigator.msSaveBlob(s,T),s=null,l(T);if(t)return s=R.createBlob(L,v),c=R.createObjectURL(s),p.href=c,p.download=T,document.body.appendChild(p),p.click(),document.body.removeChild(p),R.revokeObjectURL(c),s=null,l(T);if(g.isSafari()){var u=v==="svg"?",":";base64,";return R.octetStream(u+encodeURIComponent(L)),l(T)}n(new Error("download error"))});return r}G.exports=i},25095:function(G,V,e){var g=e(73972);V.getDelay=function(L){return L._has&&(L._has("gl3d")||L._has("gl2d")||L._has("mapbox"))?500:0},V.getRedrawFunc=function(L){return function(){g.getComponentMethod("colorbar","draw")(L)}},V.encodeSVG=function(L){return"data:image/svg+xml,"+encodeURIComponent(L)},V.encodeJSON=function(L){return"data:application/json,"+encodeURIComponent(L)};var R=window.URL||window.webkitURL;V.createObjectURL=function(L){return R.createObjectURL(L)},V.revokeObjectURL=function(L){return R.revokeObjectURL(L)},V.createBlob=function(L,T){if(T==="svg")return new window.Blob([L],{type:"image/svg+xml;charset=utf-8"});if(T==="full-json")return new window.Blob([L],{type:"application/json;charset=utf-8"});var v=i(window.atob(L));return new window.Blob([v],{type:"image/"+T})},V.octetStream=function(L){document.location.href="data:application/octet-stream"+L};function i(L){for(var T=L.length,v=new ArrayBuffer(T),p=new Uint8Array(v),t=0;t<T;t++)p[t]=L.charCodeAt(t);return v}V.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,V.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(G,V,e){var g=e(25095),R={getDelay:g.getDelay,getRedrawFunc:g.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};G.exports=R},70942:function(G,V,e){var g=e(71828),R=e(15398).EventEmitter,i=e(25095);function L(T){var v=T.emitter||new R,p=new Promise(function(t,r){var l=window.Image,n=T.svg,s=T.format||"png";if(g.isIE()&&s!=="svg"){var c=new Error(i.MSG_IE_BAD_FORMAT);return r(c),T.promise?p:v.emit("error",c)}var u=T.canvas,y=T.scale||1,h=T.width||300,b=T.height||150,f=y*h,o=y*b,d=u.getContext("2d",{willReadFrequently:!0}),A=new l,M,C;s==="svg"||g.isSafari()?C=i.encodeSVG(n):(M=i.createBlob(n,"svg"),C=i.createObjectURL(M)),u.width=f,u.height=o,A.onload=function(){var m;switch(M=null,i.revokeObjectURL(C),s!=="svg"&&d.drawImage(A,0,0,f,o),s){case"jpeg":m=u.toDataURL("image/jpeg");break;case"png":m=u.toDataURL("image/png");break;case"webp":m=u.toDataURL("image/webp");break;case"svg":m=C;break;default:var S="Image format is not jpeg, png, svg or webp.";if(r(new Error(S)),!T.promise)return v.emit("error",S)}t(m),T.promise||v.emit("success",m)},A.onerror=function(m){if(M=null,i.revokeObjectURL(C),r(m),!T.promise)return v.emit("error",m)},A.src=C});return T.promise?p:v}G.exports=L},56395:function(G,V,e){var g=e(15398).EventEmitter,R=e(73972),i=e(71828),L=e(25095),T=e(61914),v=e(5900),p=e(70942);function t(r,l){var n=new g,s=T(r,{format:"png"}),c=s.gd;c.style.position="absolute",c.style.left="-5000px",document.body.appendChild(c);function u(){var h=L.getDelay(c._fullLayout);setTimeout(function(){var b=v(c),f=document.createElement("canvas");f.id=i.randstr(),n=p({format:l.format,width:c._fullLayout.width,height:c._fullLayout.height,canvas:f,emitter:n,svg:b}),n.clean=function(){c&&document.body.removeChild(c)}},h)}var y=L.getRedrawFunc(c);return R.call("_doPlot",c,s.data,s.layout,s.config).then(y).then(u).catch(function(h){n.emit("error",h)}),n}G.exports=t},5900:function(G,V,e){var g=e(39898),R=e(71828),i=e(91424),L=e(7901),T=e(77922),v=/"/g,p="TOBESTRIPPED",t=new RegExp('("'+p+")|("+p+'")',"g");function r(n){var s=g.select("body").append("div").style({display:"none"}).html(""),c=n.replace(/(&[^;]*;)/gi,function(u){return u==="&lt;"?"&#60;":u==="&rt;"?"&#62;":u.indexOf("<")!==-1||u.indexOf(">")!==-1?"":s.html(u).text()});return s.remove(),c}function l(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}G.exports=function(s,c,u){var y=s._fullLayout,h=y._paper,b=y._toppaper,f=y.width,o=y.height,d;h.insert("rect",":first-child").call(i.setRect,0,0,f,o).call(L.fill,y.paper_bgcolor);var A=y._basePlotModules||[];for(d=0;d<A.length;d++){var M=A[d];M.toSVG&&M.toSVG(s)}if(b){var C=b.node().childNodes,m=Array.prototype.slice.call(C);for(d=0;d<m.length;d++){var S=m[d];S.childNodes.length&&h.node().appendChild(S)}}y._draggers&&y._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var a=g.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){a.remove();return}else a.style({visibility:null,display:null});var E=this.style.fontFamily;E&&E.indexOf('"')!==-1&&a.style("font-family",E.replace(v,p))}),h.selectAll(".gradient_filled,.pattern_filled").each(function(){var a=g.select(this),E=this.style.fill;E&&E.indexOf("url(")!==-1&&a.style("fill",E.replace(v,p));var w=this.style.stroke;w&&w.indexOf("url(")!==-1&&a.style("stroke",w.replace(v,p))}),(c==="pdf"||c==="eps")&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(T.xmlns,"xmlns",T.svg),h.node().setAttributeNS(T.xmlns,"xmlns:xlink",T.xlink),c==="svg"&&u&&(h.attr("width",u*f),h.attr("height",u*o),h.attr("viewBox","0 0 "+f+" "+o));var x=new window.XMLSerializer().serializeToString(h.node());return x=r(x),x=l(x),x=x.replace(t,"'"),R.isIE()&&(x=x.replace(/"/gi,"'"),x=x.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),x=x.replace(/(\\')/gi,'"')),x}},75341:function(G,V,e){var g=e(71828);G.exports=function(i,L){for(var T=0;T<i.length;T++)i[T].i=T;g.mergeArray(L.text,i,"tx"),g.mergeArray(L.hovertext,i,"htx");var v=L.marker;if(v){g.mergeArray(v.opacity,i,"mo",!0),g.mergeArray(v.color,i,"mc");var p=v.line;p&&(g.mergeArray(p.color,i,"mlc"),g.mergeArrayCastPositive(p.width,i,"mlw"))}}},1486:function(G,V,e){var g=e(82196),R=e(12663).axisHoverFormat,i=e(5386).fF,L=e(5386).si,T=e(50693),v=e(41940),p=e(97313),t=e(79952).u,r=e(1426).extendFlat,l=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=g.marker,s=n.line,c=r({},s.width,{dflt:0}),u=r({width:c,editType:"calc"},T("marker.line")),y=r({line:u,editType:"calc"},T("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});G.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:R("x"),yhoverformat:R("y"),text:g.text,texttemplate:L({editType:"plot"},{keys:p.eventDataKeys}),hovertext:g.hovertext,hovertemplate:i({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},l,{}),insidetextfont:r({},l,{}),outsidetextfont:r({},l,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},g.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:y,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:{marker:{opacity:g.selected.marker.opacity,color:g.selected.marker.color,editType:"style"},textfont:g.selected.textfont,editType:"style"},unselected:{marker:{opacity:g.unselected.marker.opacity,color:g.unselected.marker.color,editType:"style"},textfont:g.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(G,V,e){var g=e(89298),R=e(42973),i=e(52075).hasColorscale,L=e(78803),T=e(75341),v=e(66279);G.exports=function(t,r){var l=g.getFromId(t,r.xaxis||"x"),n=g.getFromId(t,r.yaxis||"y"),s,c,u,y,h,b,f={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(s=l.makeCalcdata(r,"x",f),u=n.makeCalcdata(r,"y"),y=R(r,n,"y",u),h=!!r.yperiodalignment,b="y"):(s=n.makeCalcdata(r,"y",f),u=l.makeCalcdata(r,"x"),y=R(r,l,"x",u),h=!!r.xperiodalignment,b="x"),c=y.vals;for(var o=Math.min(c.length,s.length),d=new Array(o),A=0;A<o;A++)d[A]={p:c[A],s:s[A]},h&&(d[A].orig_p=u[A],d[A][b+"End"]=y.ends[A],d[A][b+"Start"]=y.starts[A]),r.ids&&(d[A].id=String(r.ids[A]));return i(r,"marker")&&L(t,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),i(r,"marker.line")&&L(t,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),T(d,r),v(d,r),d}},97313:function(G){G.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(G,V,e){var g=e(92770),R=e(71828).isArrayOrTypedArray,i=e(50606).BADNUM,L=e(73972),T=e(89298),v=e(99082).getAxisGroup,p=e(61546);function t(x,a){for(var E=a.xaxis,w=a.yaxis,k=x._fullLayout,I=x._fullData,U=x.calcdata,z=[],N=[],B=0;B<I.length;B++){var F=I[B];if(F.visible===!0&&L.traceIs(F,"bar")&&F.xaxis===E._id&&F.yaxis===w._id&&(F.orientation==="h"?z.push(U[B]):N.push(U[B]),F._computePh))for(var H=x.calcdata[B],X=0;X<H.length;X++)typeof H[X].ph0=="function"&&(H[X].ph0=H[X].ph0()),typeof H[X].ph1=="function"&&(H[X].ph1=H[X].ph1())}var q={xCat:E.type==="category"||E.type==="multicategory",yCat:w.type==="category"||w.type==="multicategory",mode:k.barmode,norm:k.barnorm,gap:k.bargap,groupgap:k.bargroupgap};r(x,E,w,N,q),r(x,w,E,z,q)}function r(x,a,E,w,k){if(w.length){var I,U,z,N,B;switch(l(E,w),k.mode){case"overlay":n(a,E,w,k);break;case"group":for(I=[],U=[],z=0;z<w.length;z++)N=w[z],B=N[0].trace,B.offset===void 0?U.push(N):I.push(N);U.length&&s(x,a,E,U,k),I.length&&n(a,E,I,k);break;case"stack":case"relative":for(I=[],U=[],z=0;z<w.length;z++)N=w[z],B=N[0].trace,B.base===void 0?U.push(N):I.push(N);U.length&&c(x,a,E,U,k),I.length&&n(a,E,I,k);break}m(w,a)}}function l(x,a){var E,w;for(E=0;E<a.length;E++){var k=a[E],I=k[0].trace,U=I.type==="funnel"?I._base:I.base,z,N=I.orientation==="h"?I.xcalendar:I.ycalendar,B=x.type==="category"||x.type==="multicategory"?function(){return null}:x.d2c;if(R(U)){for(w=0;w<Math.min(U.length,k.length);w++)z=B(U[w],0,N),g(z)?(k[w].b=+z,k[w].hasB=1):k[w].b=0;for(;w<k.length;w++)k[w].b=0}else{z=B(U,0,N);var F=g(z);for(z=F?z:0,w=0;w<k.length;w++)k[w].b=z,F&&(k[w].hasB=1)}}}function n(x,a,E,w){for(var k=0;k<E.length;k++){var I=E[k],U=new p([I],{posAxis:x,sepNegVal:!1,overlapNoMerge:!w.norm});u(x,U,w),w.norm?(A(U),C(a,U,w)):o(a,U)}}function s(x,a,E,w,k){var I=new p(w,{posAxis:a,sepNegVal:!1,overlapNoMerge:!k.norm});y(x,a,I,k),M(I,a),k.norm?(A(I),C(E,I,k)):o(E,I)}function c(x,a,E,w,k){var I=new p(w,{posAxis:a,sepNegVal:k.mode==="relative",overlapNoMerge:!(k.norm||k.mode==="stack"||k.mode==="relative")});u(a,I,k),d(E,I,k);for(var U=0;U<w.length;U++)for(var z=w[U],N=0;N<z.length;N++){var B=z[N];if(B.s!==i){var F=B.b+B.s===I.get(B.p,B.s);F&&(B._outmost=!0)}}k.norm&&C(E,I,k)}function u(x,a,E){for(var w=a.minDiff,k=a.traces,I=w*(1-E.gap),U=I,z=U*(1-(E.groupgap||0)),N=-z/2,B=0;B<k.length;B++){var F=k[B],H=F[0].t;H.barwidth=z,H.poffset=N,H.bargroupwidth=I,H.bardelta=w}a.binWidth=k[0][0].t.barwidth/100,h(a),b(x,a),f(x,a)}function y(x,a,E,w){for(var k=x._fullLayout,I=E.positions,U=E.distinctPositions,z=E.minDiff,N=E.traces,B=N.length,F=I.length!==U.length,H=z*(1-w.gap),X=v(k,a._id)+N[0][0].trace.orientation,q=k._alignmentOpts[X]||{},ne=0;ne<B;ne++){var oe=N[ne],ve=oe[0].trace,J=q[ve.alignmentgroup]||{},Y=Object.keys(J.offsetGroups||{}).length,j;Y?j=H/Y:j=F?H/B:H;var K=j*(1-(w.groupgap||0)),te;Y?te=((2*ve._offsetIndex+1-Y)*j-K)/2:te=F?((2*ne+1-B)*j-K)/2:-K/2;var se=oe[0].t;se.barwidth=K,se.poffset=te,se.bargroupwidth=H,se.bardelta=z}E.binWidth=N[0][0].t.barwidth/100,h(E),b(a,E),f(a,E,F)}function h(x){var a=x.traces,E,w;for(E=0;E<a.length;E++){var k=a[E],I=k[0],U=I.trace,z=I.t,N=U._offset||U.offset,B=z.poffset,F;if(R(N)){for(F=Array.prototype.slice.call(N,0,k.length),w=0;w<F.length;w++)g(F[w])||(F[w]=B);for(w=F.length;w<k.length;w++)F.push(B);z.poffset=F}else N!==void 0&&(z.poffset=N);var H=U._width||U.width,X=z.barwidth;if(R(H)){var q=Array.prototype.slice.call(H,0,k.length);for(w=0;w<q.length;w++)g(q[w])||(q[w]=X);for(w=q.length;w<k.length;w++)q.push(X);if(z.barwidth=q,N===void 0){for(F=[],w=0;w<k.length;w++)F.push(B+(X-q[w])/2);z.poffset=F}}else H!==void 0&&(z.barwidth=H,N===void 0&&(z.poffset=B+(X-H)/2))}}function b(x,a){for(var E=a.traces,w=S(x),k=0;k<E.length;k++)for(var I=E[k],U=I[0].t,z=U.poffset,N=Array.isArray(z),B=U.barwidth,F=Array.isArray(B),H=0;H<I.length;H++){var X=I[H],q=X.w=F?B[H]:B;X.p===void 0&&(X.p=X[w],X["orig_"+w]=X[w]);var ne=(N?z[H]:z)+q/2;X[w]=X.p+ne}}function f(x,a,E){var w=a.traces,k=a.minDiff,I=k/2;T.minDtick(x,a.minDiff,a.distinctPositions[0],E);for(var U=0;U<w.length;U++){var z=w[U],N=z[0],B=N.trace,F=[],H,X,q,ne;for(ne=0;ne<z.length;ne++)H=z[ne],X=H.p-I,q=H.p+I,F.push(X,q);if(B.width||B.offset){var oe=N.t,ve=oe.poffset,J=oe.barwidth,Y=Array.isArray(ve),j=Array.isArray(J);for(ne=0;ne<z.length;ne++){H=z[ne];var K=Y?ve[ne]:ve,te=j?J[ne]:J;X=H.p+K,q=X+te,F.push(X,q)}}B._extremes[x._id]=T.findExtremes(x,F,{padded:!1})}}function o(x,a){for(var E=a.traces,w=S(x),k=0;k<E.length;k++){for(var I=E[k],U=I[0].trace,z=U.type==="scatter",N=U.orientation==="v",B=[],F=!1,H=0;H<I.length;H++){var X=I[H],q=z?0:X.b,ne=z?N?X.y:X.x:q+X.s;X[w]=ne,B.push(ne),X.hasB&&B.push(q),(!X.hasB||!X.b)&&(F=!0)}U._extremes[x._id]=T.findExtremes(x,B,{tozero:F,padded:!0})}}function d(x,a,E){var w=S(x),k=a.traces,I,U,z,N,B,F;for(N=0;N<k.length;N++)if(I=k[N],U=I[0].trace,U.type==="funnel")for(B=0;B<I.length;B++)F=I[B],F.s!==i&&a.put(F.p,-.5*F.s);for(N=0;N<k.length;N++){I=k[N],U=I[0].trace,z=U.type==="funnel";var H=[];for(B=0;B<I.length;B++)if(F=I[B],F.s!==i){var X;z?X=F.s:X=F.s+F.b;var q=a.put(F.p,X),ne=q+X;F.b=q,F[w]=ne,E.norm||(H.push(ne),F.hasB&&H.push(q))}E.norm||(U._extremes[x._id]=T.findExtremes(x,H,{tozero:!0,padded:!0}))}}function A(x){for(var a=x.traces,E=0;E<a.length;E++)for(var w=a[E],k=0;k<w.length;k++){var I=w[k];I.s!==i&&x.put(I.p,I.b+I.s)}}function M(x,a){for(var E=x.traces,w=0;w<E.length;w++){var k=E[w],I=k[0].trace;if(I.base===void 0)for(var U=new p([k],{posAxis:a,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<k.length;z++){var N=k[z];if(N.p!==i){var B=U.put(N.p,N.b+N.s);B&&(N.b=B)}}}}function C(x,a,E){var w=a.traces,k=S(x),I=E.norm==="fraction"?1:100,U=I/1e9,z=x.l2c(x.c2l(0)),N=E.mode==="stack"?I:z;function B(te){return g(x.c2l(te))&&(te<z-U||te>N+U||!g(z))}for(var F=0;F<w.length;F++){for(var H=w[F],X=H[0].trace,q=[],ne=!1,oe=!1,ve=0;ve<H.length;ve++){var J=H[ve];if(J.s!==i){var Y=Math.abs(I/a.get(J.p,J.s));J.b*=Y,J.s*=Y;var j=J.b,K=j+J.s;J[k]=K,q.push(K),oe=oe||B(K),J.hasB&&(q.push(j),oe=oe||B(j)),(!J.hasB||!J.b)&&(ne=!0)}}X._extremes[x._id]=T.findExtremes(x,q,{tozero:ne,padded:oe})}}function m(x,a){var E=S(a),w={},k,I,U,z=1/0,N=-1/0;for(k=0;k<x.length;k++)for(U=x[k],I=0;I<U.length;I++){var B=U[I].p;g(B)&&(z=Math.min(z,B),N=Math.max(N,B))}var F=1e4/(N-z),H=w.round=function(Y){return String(Math.round(F*(Y-z)))};for(k=0;k<x.length;k++){U=x[k],U[0].t.extents=w;var X=U[0].t.poffset,q=Array.isArray(X);for(I=0;I<U.length;I++){var ne=U[I],oe=ne[E]-ne.w/2;if(g(oe)){var ve=ne[E]+ne.w/2,J=H(ne.p);w[J]?w[J]=[Math.min(oe,w[J][0]),Math.max(ve,w[J][1])]:w[J]=[oe,ve]}ne.p0=ne.p+(q?X[I]:X),ne.p1=ne.p0+ne.w,ne.s0=ne.b,ne.s1=ne.s0+ne.s}}}function S(x){return x._id.charAt(0)}G.exports={crossTraceCalc:t,setGroupPositions:r}},90769:function(G,V,e){var g=e(71828),R=e(7901),i=e(73972),L=e(67513),T=e(73927),v=e(98340),p=e(26125),t=e(1486),r=g.coerceFont;function l(c,u,y,h){function b(M,C){return g.coerce(c,u,t,M,C)}var f=L(c,u,h,b);if(!f){u.visible=!1;return}T(c,u,h,b),b("xhoverformat"),b("yhoverformat"),b("orientation",u.x&&!u.y?"h":"v"),b("base"),b("offset"),b("width"),b("text"),b("hovertext"),b("hovertemplate");var o=b("textposition");s(c,u,h,b,o,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v(c,u,b,y,h);var d=(u.marker.line||{}).color,A=i.getComponentMethod("errorbars","supplyDefaults");A(c,u,d||R.defaultLine,{axis:"y"}),A(c,u,d||R.defaultLine,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(u,b)}function n(c,u){var y,h;function b(o){return g.coerce(h._input,h,t,o)}if(u.barmode==="group")for(var f=0;f<c.length;f++)h=c[f],h.type==="bar"&&(y=h._input,p(y,h,u,b))}function s(c,u,y,h,b,f){f=f||{};var o=f.moduleHasSelected!==!1,d=f.moduleHasUnselected!==!1,A=f.moduleHasConstrain!==!1,M=f.moduleHasCliponaxis!==!1,C=f.moduleHasTextangle!==!1,m=f.moduleHasInsideanchor!==!1,S=!!f.hasPathbar,x=Array.isArray(b)||b==="auto",a=x||b==="inside",E=x||b==="outside";if(a||E){var w=r(h,"textfont",y.font),k=g.extendFlat({},w),I=c.textfont&&c.textfont.color,U=!I;if(U&&delete k.color,r(h,"insidetextfont",k),S){var z=g.extendFlat({},w);U&&delete z.color,r(h,"pathbar.textfont",z)}E&&r(h,"outsidetextfont",w),o&&h("selected.textfont.color"),d&&h("unselected.textfont.color"),A&&h("constraintext"),M&&h("cliponaxis"),C&&h("textangle"),h("texttemplate")}a&&m&&h("insidetextanchor")}G.exports={supplyDefaults:l,crossTraceDefaults:n,handleText:s}},58065:function(G){G.exports=function(e,g,R){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),R.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(G,V,e){var g=e(92770),R=e(84267),i=e(71828).isArrayOrTypedArray;V.coerceString=function(L,T,v){if(typeof T=="string"){if(T||!L.noBlank)return T}else if((typeof T=="number"||T===!0)&&!L.strict)return String(T);return v!==void 0?v:L.dflt},V.coerceNumber=function(L,T,v){if(g(T)){T=+T;var p=L.min,t=L.max,r=p!==void 0&&T<p||t!==void 0&&T>t;if(!r)return T}return v!==void 0?v:L.dflt},V.coerceColor=function(L,T,v){return R(T).isValid()?T:v!==void 0?v:L.dflt},V.coerceEnumerated=function(L,T,v){return L.coerceNumber&&(T=+T),L.values.indexOf(T)!==-1?T:v!==void 0?v:L.dflt},V.getValue=function(L,T){var v;return Array.isArray(L)?T<L.length&&(v=L[T]):v=L,v},V.getLineWidth=function(L,T){var v=0<T.mlw?T.mlw:i(L.marker.line.width)?0:L.marker.line.width;return v}},95423:function(G,V,e){var g=e(30211),R=e(73972),i=e(7901),L=e(71828).fillText,T=e(69383).getLineWidth,v=e(89298).hoverLabelText,p=e(50606).BADNUM;function t(n,s,c,u,y){var h=r(n,s,c,u,y);if(h){var b=h.cd,f=b[0].trace,o=b[h.index];return h.color=l(f,o),R.getComponentMethod("errorbars","hoverInfo")(o,f,h),[h]}}function r(n,s,c,u,y){var h=n.cd,b=h[0].trace,f=h[0].t,o=u==="closest",d=b.type==="waterfall",A=n.maxHoverDistance,M=n.maxSpikeDistance,C,m,S,x,a,E,w;b.orientation==="h"?(C=c,m=s,S="y",x="x",a=ve,E=q):(C=s,m=c,S="x",x="y",E=ve,a=q);var k=b[S+"period"],I=o||k;function U(he){return N(he,-1)}function z(he){return N(he,1)}function N(he,xe){var Se=he.w;return he[S]+xe*Se/2}function B(he){return he[S+"End"]-he[S+"Start"]}var F=o?U:k?function(he){return he.p-B(he)/2}:function(he){return Math.min(U(he),he.p-f.bardelta/2)},H=o?z:k?function(he){return he.p+B(he)/2}:function(he){return Math.max(z(he),he.p+f.bardelta/2)};function X(he,xe,Se){return y.finiteRange&&(Se=0),g.inbox(he-C,xe-C,Se+Math.min(1,Math.abs(xe-he)/w)-1)}function q(he){return X(F(he),H(he),A)}function ne(he){return X(U(he),z(he),M)}function oe(he){var xe=he[x];if(d){var Se=Math.abs(he.rawS)||0;m>0?xe+=Se:m<0&&(xe-=Se)}return xe}function ve(he){var xe=m,Se=he.b,Ee=oe(he);return g.inbox(Se-xe,Ee-xe,A+(Ee-xe)/(Ee-Se)-1)}function J(he){var xe=m,Se=he.b,Ee=oe(he);return g.inbox(Se-xe,Ee-xe,M+(Ee-xe)/(Ee-Se)-1)}var Y=n[S+"a"],j=n[x+"a"];w=Math.abs(Y.r2c(Y.range[1])-Y.r2c(Y.range[0]));function K(he){return(a(he)+E(he))/2}var te=g.getDistanceFunction(u,a,E,K);if(g.getClosest(h,te,n),n.index!==!1&&h[n.index].p!==p){I||(F=function(he){return Math.min(U(he),he.p-f.bargroupwidth/2)},H=function(he){return Math.max(z(he),he.p+f.bargroupwidth/2)});var se=n.index,Q=h[se],ee=b.base?Q.b+Q.s:Q.s;n[x+"0"]=n[x+"1"]=j.c2p(Q[x],!0),n[x+"LabelVal"]=ee;var le=f.extents[f.extents.round(Q.p)];n[S+"0"]=Y.c2p(o?F(Q):le[0],!0),n[S+"1"]=Y.c2p(o?H(Q):le[1],!0);var ie=Q.orig_p!==void 0;return n[S+"LabelVal"]=ie?Q.orig_p:Q.p,n.labelLabel=v(Y,n[S+"LabelVal"],b[S+"hoverformat"]),n.valueLabel=v(j,n[x+"LabelVal"],b[x+"hoverformat"]),n.baseLabel=v(j,Q.b,b[x+"hoverformat"]),n.spikeDistance=(J(Q)+ne(Q))/2,n[S+"Spike"]=Y.c2p(Q.p,!0),L(Q,b,n),n.hovertemplate=b.hovertemplate,n}}function l(n,s){var c=s.mcc||n.marker.color,u=s.mlcc||n.marker.line.color,y=T(n,s);if(i.opacity(c))return c;if(i.opacity(u)&&y)return u}G.exports={hoverPoints:t,hoverOnBars:r,getTraceColor:l}},60822:function(G,V,e){G.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(G,V,e){var g=e(73972),R=e(89298),i=e(71828),L=e(43641);G.exports=function(T,v,p){function t(f,o){return i.coerce(T,v,L,f,o)}for(var r=!1,l=!1,n=!1,s={},c=t("barmode"),u=0;u<p.length;u++){var y=p[u];if(g.traceIs(y,"bar")&&y.visible)r=!0;else continue;if(c==="group"){var h=y.xaxis+y.yaxis;s[h]&&(n=!0),s[h]=!0}if(y.visible&&y.type==="histogram"){var b=R.getFromId({_fullLayout:v},y[y.orientation==="v"?"xaxis":"yaxis"]);b.type!=="category"&&(l=!0)}}if(!r){delete v.barmode;return}c!=="overlay"&&t("barnorm"),t("bargap",l&&!n?0:.2),t("bargroupgap")}},17295:function(G,V,e){var g=e(39898),R=e(92770),i=e(71828),L=e(63893),T=e(7901),v=e(91424),p=e(73972),t=e(89298).tickText,r=e(72597),l=r.recordMinTextSize,n=r.clearMinTextSize,s=e(16688),c=e(69383),u=e(97313),y=e(1486),h=y.text,b=y.textposition,f=e(23469).appendArrayPointValue,o=u.TEXTPAD;function d(F){return F.id}function A(F){if(F.ids)return d}function M(F,H){return F<H?1:-1}function C(F,H,X,q){var ne=[],oe=[],ve=q?H:X,J=q?X:H;return ne[0]=ve.c2p(F.s0,!0),oe[0]=J.c2p(F.p0,!0),ne[1]=ve.c2p(F.s1,!0),oe[1]=J.c2p(F.p1,!0),q?[ne,oe]:[oe,ne]}function m(F,H,X,q){if(!H.uniformtext.mode&&S(X)){var ne;return q&&(ne=q()),F.transition().duration(X.duration).ease(X.easing).each("end",function(){ne&&ne()}).each("interrupt",function(){ne&&ne()})}else return F}function S(F){return F&&F.duration>0}function x(F,H,X,q,ne,oe){var ve=H.xaxis,J=H.yaxis,Y=F._fullLayout,j=F._context.staticPlot;ne||(ne={mode:Y.barmode,norm:Y.barmode,gap:Y.bargap,groupgap:Y.bargroupgap},n("bar",Y));var K=i.makeTraceGroups(q,X,"trace bars").each(function(te){var se=g.select(this),Q=te[0].trace,ee=Q.type==="waterfall",le=Q.type==="funnel",ie=Q.type==="bar",he=ie||le,xe=0;ee&&Q.connector.visible&&Q.connector.mode==="between"&&(xe=Q.connector.line.width/2);var Se=Q.orientation==="h",Ee=S(ne),Ne=i.ensureSingle(se,"g","points"),He=A(Q),Ce=Ne.selectAll("g.point").data(i.identity,He);Ce.enter().append("g").classed("point",!0),Ce.exit().remove(),Ce.each(function(we,ke){var Fe=g.select(this),Pe=C(we,ve,J,Se),Ge=Pe[0][0],nt=Pe[0][1],qe=Pe[1][0],Ke=Pe[1][1],$e=(Se?nt-Ge:Ke-qe)===0;$e&&he&&c.getLineWidth(Q,we)&&($e=!1),$e||($e=!R(Ge)||!R(nt)||!R(qe)||!R(Ke)),we.isBlank=$e,$e&&(Se?nt=Ge:Ke=qe),xe&&!$e&&(Se?(Ge-=M(Ge,nt)*xe,nt+=M(Ge,nt)*xe):(qe-=M(qe,Ke)*xe,Ke+=M(qe,Ke)*xe));var vt,yt;if(Q.type==="waterfall"){if(!$e){var mt=Q[we.dir].marker;vt=mt.line.width,yt=mt.color}}else vt=c.getLineWidth(Q,we),yt=we.mc||Q.marker.color;function Et(Ye){var De=g.round(vt/2%1,2);return ne.gap===0&&ne.groupgap===0?g.round(Math.round(Ye)-De,2):Ye}function Xe(Ye,De,Te){return Te&&Ye===De?Ye:Math.abs(Ye-De)>=2?Et(Ye):Ye>De?Math.ceil(Ye):Math.floor(Ye)}if(!F._context.staticPlot){var Ue=T.opacity(yt),Be=Ue<1||vt>.01?Et:Xe;Ge=Be(Ge,nt,Se),nt=Be(nt,Ge,Se),qe=Be(qe,Ke,!Se),Ke=Be(Ke,qe,!Se)}var rt=m(i.ensureSingle(Fe,"path"),Y,ne,oe);if(rt.style("vector-effect",j?"none":"non-scaling-stroke").attr("d",isNaN((nt-Ge)*(Ke-qe))||$e&&F._context.staticPlot?"M0,0Z":"M"+Ge+","+qe+"V"+Ke+"H"+nt+"V"+qe+"Z").call(v.setClipUrl,H.layerClipId,F),!Y.uniformtext.mode&&Ee){var it=v.makePointStyleFns(Q);v.singlePointStyle(we,rt,Q,it,F)}a(F,H,Fe,te,ke,Ge,nt,qe,Ke,ne,oe),H.layerClipId&&v.hideOutsideRangePoint(we,Fe.select("text"),ve,J,Q.xcalendar,Q.ycalendar)});var be=Q.cliponaxis===!1;v.setClipUrl(se,be?null:H.layerClipId,F)});p.getComponentMethod("errorbars","plot")(F,K,H,ne)}function a(F,H,X,q,ne,oe,ve,J,Y,j,K){var te=H.xaxis,se=H.yaxis,Q=F._fullLayout,ee;function le(Ye,De,Te){var fe=i.ensureSingle(Ye,"text").text(De).attr({class:"bartext bartext-"+ee,"text-anchor":"middle","data-notex":1}).call(v.font,Te).call(L.convertToTspans,F);return fe}var ie=q[0].trace,he=ie.orientation==="h",xe=U(Q,q,ne,te,se);ee=z(ie,ne);var Se=j.mode==="stack"||j.mode==="relative",Ee=q[ne],Ne=!Se||Ee._outmost;if(!xe||ee==="none"||(Ee.isBlank||oe===ve||J===Y)&&(ee==="auto"||ee==="inside")){X.select("text").remove();return}var He=Q.font,Ce=s.getBarColor(q[ne],ie),be=s.getInsideTextFont(ie,ne,He,Ce),we=s.getOutsideTextFont(ie,ne,He),ke=X.datum();he?te.type==="log"&&ke.s0<=0&&(te.range[0]<te.range[1]?oe=0:oe=te._length):se.type==="log"&&ke.s0<=0&&(se.range[0]<se.range[1]?J=se._length:J=0);var Fe=Math.abs(ve-oe)-2*o,Pe=Math.abs(Y-J)-2*o,Ge,nt,qe,Ke,$e;if(ee==="outside"&&!Ne&&!Ee.hasB&&(ee="inside"),ee==="auto")if(Ne){ee="inside",$e=i.ensureUniformFontSize(F,be),Ge=le(X,xe,$e),nt=v.bBox(Ge.node()),qe=nt.width,Ke=nt.height;var vt=qe>0&&Ke>0,yt=qe<=Fe&&Ke<=Pe,mt=qe<=Pe&&Ke<=Fe,Et=he?Fe>=qe*(Pe/Ke):Pe>=Ke*(Fe/qe);vt&&(yt||mt||Et)?ee="inside":(ee="outside",Ge.remove(),Ge=null)}else ee="inside";if(!Ge){$e=i.ensureUniformFontSize(F,ee==="outside"?we:be),Ge=le(X,xe,$e);var Xe=Ge.attr("transform");if(Ge.attr("transform",""),nt=v.bBox(Ge.node()),qe=nt.width,Ke=nt.height,Ge.attr("transform",Xe),qe<=0||Ke<=0){Ge.remove();return}}var Ue=ie.textangle,Be,rt;ee==="outside"?(rt=ie.constraintext==="both"||ie.constraintext==="outside",Be=I(oe,ve,J,Y,nt,{isHorizontal:he,constrained:rt,angle:Ue})):(rt=ie.constraintext==="both"||ie.constraintext==="inside",Be=k(oe,ve,J,Y,nt,{isHorizontal:he,constrained:rt,angle:Ue,anchor:ie.insidetextanchor})),Be.fontSize=$e.size,l(ie.type==="histogram"?"bar":ie.type,Be,Q),Ee.transform=Be;var it=m(Ge,Q,j,K);i.setTransormAndDisplay(it,Be)}function E(F){return F==="auto"?0:F}function w(F,H){var X=Math.PI/180*H,q=Math.abs(Math.sin(X)),ne=Math.abs(Math.cos(X));return{x:F.width*ne+F.height*q,y:F.width*q+F.height*ne}}function k(F,H,X,q,ne,oe){var ve=!!oe.isHorizontal,J=!!oe.constrained,Y=oe.angle||0,j=oe.anchor||"end",K=j==="end",te=j==="start",se=oe.leftToRight||0,Q=(se+1)/2,ee=1-Q,le=ne.width,ie=ne.height,he=Math.abs(H-F),xe=Math.abs(q-X),Se=he>2*o&&xe>2*o?o:0;he-=2*Se,xe-=2*Se;var Ee=E(Y);Y==="auto"&&!(le<=he&&ie<=xe)&&(le>he||ie>xe)&&(!(le>xe||ie>he)||le<ie!=he<xe)&&(Ee+=90);var Ne=w(ne,Ee),He=1;J&&(He=Math.min(1,he/Ne.x,xe/Ne.y));var Ce=ne.left*ee+ne.right*Q,be=(ne.top+ne.bottom)/2,we=(F+o)*ee+(H-o)*Q,ke=(X+q)/2,Fe=0,Pe=0;if(te||K){var Ge=(ve?Ne.x:Ne.y)/2,nt=ve?M(F,H):M(X,q);ve?te?(we=F+nt*Se,Fe=-nt*Ge):(we=H-nt*Se,Fe=nt*Ge):te?(ke=X+nt*Se,Pe=-nt*Ge):(ke=q-nt*Se,Pe=nt*Ge)}return{textX:Ce,textY:be,targetX:we,targetY:ke,anchorX:Fe,anchorY:Pe,scale:He,rotate:Ee}}function I(F,H,X,q,ne,oe){var ve=!!oe.isHorizontal,J=!!oe.constrained,Y=oe.angle||0,j=ne.width,K=ne.height,te=Math.abs(H-F),se=Math.abs(q-X),Q;ve?Q=se>2*o?o:0:Q=te>2*o?o:0;var ee=1;J&&(ee=ve?Math.min(1,se/K):Math.min(1,te/j));var le=E(Y),ie=w(ne,le),he=(ve?ie.x:ie.y)/2,xe=(ne.left+ne.right)/2,Se=(ne.top+ne.bottom)/2,Ee=(F+H)/2,Ne=(X+q)/2,He=0,Ce=0,be=ve?M(H,F):M(X,q);return ve?(Ee=H-be*Q,He=be*he):(Ne=q+be*Q,Ce=-be*he),{textX:xe,textY:Se,targetX:Ee,targetY:Ne,anchorX:He,anchorY:Ce,scale:ee,rotate:le}}function U(F,H,X,q,ne){var oe=H[0].trace,ve=oe.texttemplate,J;return ve?J=N(F,H,X,q,ne):oe.textinfo?J=B(H,X,q,ne):J=c.getValue(oe.text,X),c.coerceString(h,J)}function z(F,H){var X=c.getValue(F.textposition,H);return c.coerceEnumerated(b,X)}function N(F,H,X,q,ne){var oe=H[0].trace,ve=i.castOption(oe,X,"texttemplate");if(!ve)return"";var J=oe.type==="histogram",Y=oe.type==="waterfall",j=oe.type==="funnel",K=oe.orientation==="h",te,se,Q,ee;K?(te="y",se=ne,Q="x",ee=q):(te="x",se=q,Q="y",ee=ne);function le(He){return t(se,se.c2l(He),!0).text}function ie(He){return t(ee,ee.c2l(He),!0).text}var he=H[X],xe={};xe.label=he.p,xe.labelLabel=xe[te+"Label"]=le(he.p);var Se=i.castOption(oe,he.i,"text");(Se===0||Se)&&(xe.text=Se),xe.value=he.s,xe.valueLabel=xe[Q+"Label"]=ie(he.s);var Ee={};f(Ee,oe,he.i),(J||Ee.x===void 0)&&(Ee.x=K?xe.value:xe.label),(J||Ee.y===void 0)&&(Ee.y=K?xe.label:xe.value),(J||Ee.xLabel===void 0)&&(Ee.xLabel=K?xe.valueLabel:xe.labelLabel),(J||Ee.yLabel===void 0)&&(Ee.yLabel=K?xe.labelLabel:xe.valueLabel),Y&&(xe.delta=+he.rawS||he.s,xe.deltaLabel=ie(xe.delta),xe.final=he.v,xe.finalLabel=ie(xe.final),xe.initial=xe.final-xe.delta,xe.initialLabel=ie(xe.initial)),j&&(xe.value=he.s,xe.valueLabel=ie(xe.value),xe.percentInitial=he.begR,xe.percentInitialLabel=i.formatPercent(he.begR),xe.percentPrevious=he.difR,xe.percentPreviousLabel=i.formatPercent(he.difR),xe.percentTotal=he.sumR,xe.percenTotalLabel=i.formatPercent(he.sumR));var Ne=i.castOption(oe,he.i,"customdata");return Ne&&(xe.customdata=Ne),i.texttemplateString(ve,xe,F._d3locale,Ee,xe,oe._meta||{})}function B(F,H,X,q){var ne=F[0].trace,oe=ne.orientation==="h",ve=ne.type==="waterfall",J=ne.type==="funnel";function Y(Ne){var He=oe?q:X;return t(He,Ne,!0).text}function j(Ne){var He=oe?X:q;return t(He,+Ne,!0).text}var K=ne.textinfo,te=F[H],se=K.split("+"),Q=[],ee,le=function(Ne){return se.indexOf(Ne)!==-1};if(le("label")&&Q.push(Y(F[H].p)),le("text")&&(ee=i.castOption(ne,te.i,"text"),(ee===0||ee)&&Q.push(ee)),ve){var ie=+te.rawS||te.s,he=te.v,xe=he-ie;le("initial")&&Q.push(j(xe)),le("delta")&&Q.push(j(ie)),le("final")&&Q.push(j(he))}if(J){le("value")&&Q.push(j(te.s));var Se=0;le("percent initial")&&Se++,le("percent previous")&&Se++,le("percent total")&&Se++;var Ee=Se>1;le("percent initial")&&(ee=i.formatPercent(te.begR),Ee&&(ee+=" of initial"),Q.push(ee)),le("percent previous")&&(ee=i.formatPercent(te.difR),Ee&&(ee+=" of previous"),Q.push(ee)),le("percent total")&&(ee=i.formatPercent(te.sumR),Ee&&(ee+=" of total"),Q.push(ee))}return Q.join("<br>")}G.exports={plot:x,toMoveInsideBar:k}},81974:function(G){G.exports=function(g,R){var i=g.cd,L=g.xaxis,T=g.yaxis,v=i[0].trace,p=v.type==="funnel",t=v.orientation==="h",r=[],l;if(R===!1)for(l=0;l<i.length;l++)i[l].selected=0;else for(l=0;l<i.length;l++){var n=i[l],s="ct"in n?n.ct:V(n,L,T,t,p);R.contains(s,!1,l,g)?(r.push({pointNumber:l,x:L.c2d(n.x),y:T.c2d(n.y)}),n.selected=1):n.selected=0}return r};function V(e,g,R,i,L){var T=g.c2p(i?e.s0:e.p0,!0),v=g.c2p(i?e.s1:e.p1,!0),p=R.c2p(i?e.p0:e.s0,!0),t=R.c2p(i?e.p1:e.s1,!0);return L?[(T+v)/2,(p+t)/2]:i?[v,(p+t)/2]:[(T+v)/2,t]}},61546:function(G,V,e){G.exports=R;var g=e(71828).distinctVals;function R(i,L){this.traces=i,this.sepNegVal=L.sepNegVal,this.overlapNoMerge=L.overlapNoMerge;for(var T=1/0,v=L.posAxis._id.charAt(0),p=[],t=0;t<i.length;t++){for(var r=i[t],l=0;l<r.length;l++){var n=r[l],s=n.p;s===void 0&&(s=n[v]),s!==void 0&&p.push(s)}r[0]&&r[0].width1&&(T=Math.min(r[0].width1,T))}this.positions=p;var c=g(p);this.distinctPositions=c.vals,c.vals.length===1&&T!==1/0?this.minDiff=T:this.minDiff=Math.min(c.minDiff,T);var u=(L.posAxis||{}).type;(u==="category"||u==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}R.prototype.put=function(L,T){var v=this.getLabel(L,T),p=this.bins[v]||0;return this.bins[v]=p+T,p},R.prototype.get=function(L,T){var v=this.getLabel(L,T);return this.bins[v]||0},R.prototype.getLabel=function(L,T){var v=T<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?L:Math.round(L/this.binWidth);return v+p}},16688:function(G,V,e){var g=e(39898),R=e(7901),i=e(91424),L=e(71828),T=e(73972),v=e(72597).resizeText,p=e(1486),t=p.textfont,r=p.insidetextfont,l=p.outsidetextfont,n=e(69383);function s(m){var S=g.select(m).selectAll("g.barlayer").selectAll("g.trace");v(m,S,"bar");var x=S.size(),a=m._fullLayout;S.style("opacity",function(E){return E[0].trace.opacity}).each(function(E){(a.barmode==="stack"&&x>1||a.bargap===0&&a.bargroupgap===0&&!E[0].trace.marker.line.width)&&g.select(this).attr("shape-rendering","crispEdges")}),S.selectAll("g.points").each(function(E){var w=g.select(this),k=E[0].trace;c(w,k,m)}),T.getComponentMethod("errorbars","style")(S)}function c(m,S,x){i.pointStyle(m.selectAll("path"),S,x),u(m,S,x)}function u(m,S,x){m.selectAll("text").each(function(a){var E=g.select(this),w=L.ensureUniformFontSize(x,f(E,a,S,x));i.font(E,w)})}function y(m,S,x){var a=S[0].trace;a.selectedpoints?h(x,a,m):(c(x,a,m),T.getComponentMethod("errorbars","style")(x))}function h(m,S,x){i.selectedPointStyle(m.selectAll("path"),S),b(m.selectAll("text"),S,x)}function b(m,S,x){m.each(function(a){var E=g.select(this),w;if(a.selected){w=L.ensureUniformFontSize(x,f(E,a,S,x));var k=S.selected.textfont&&S.selected.textfont.color;k&&(w.color=k),i.font(E,w)}else i.selectedTextStyle(E,S)})}function f(m,S,x,a){var E=a._fullLayout.font,w=x.textfont;if(m.classed("bartext-inside")){var k=C(S,x);w=d(x,S.i,E,k)}else m.classed("bartext-outside")&&(w=A(x,S.i,E));return w}function o(m,S,x){return M(t,m.textfont,S,x)}function d(m,S,x,a){var E=o(m,S,x),w=m._input.textfont===void 0||m._input.textfont.color===void 0||Array.isArray(m.textfont.color)&&m.textfont.color[S]===void 0;return w&&(E={color:R.contrast(a),family:E.family,size:E.size}),M(r,m.insidetextfont,S,E)}function A(m,S,x){var a=o(m,S,x);return M(l,m.outsidetextfont,S,a)}function M(m,S,x,a){S=S||{};var E=n.getValue(S.family,x),w=n.getValue(S.size,x),k=n.getValue(S.color,x);return{family:n.coerceString(m.family,E,a.family),size:n.coerceNumber(m.size,w,a.size),color:n.coerceColor(m.color,k,a.color)}}function C(m,S){return S.type==="waterfall"?S[m.dir].marker.color:m.mcc||m.mc||S.marker.color}G.exports={style:s,styleTextPoints:u,styleOnSelect:y,getInsideTextFont:d,getOutsideTextFont:A,getBarColor:C,resizeText:v}},98340:function(G,V,e){var g=e(7901),R=e(52075).hasColorscale,i=e(1586),L=e(71828).coercePattern;G.exports=function(v,p,t,r,l){var n=t("marker.color",r),s=R(v,"marker");s&&i(v,p,l,t,{prefix:"marker.",cLetter:"c"}),t("marker.line.color",g.defaultLine),R(v,"marker.line")&&i(v,p,l,t,{prefix:"marker.line.",cLetter:"c"}),t("marker.line.width"),t("marker.opacity"),L(t,"marker.pattern",n,s),t("selected.marker.color"),t("unselected.marker.color")}},72597:function(G,V,e){var g=e(39898),R=e(71828);function i(p,t,r){var l=p._fullLayout,n=l["_"+r+"Text_minsize"];if(n){var s=l.uniformtext.mode==="hide",c;switch(r){case"funnelarea":case"pie":case"sunburst":c="g.slice";break;case"treemap":case"icicle":c="g.slice, g.pathbar";break;default:c="g.points > g.point"}t.selectAll(c).each(function(u){var y=u.transform;if(y){y.scale=s&&y.hide?0:n/y.fontSize;var h=g.select(this).select("text");R.setTransormAndDisplay(h,y)}})}}function L(p,t,r){if(r.uniformtext.mode){var l=v(p),n=r.uniformtext.minsize,s=t.scale*t.fontSize;t.hide=s<n,r[l]=r[l]||1/0,t.hide||(r[l]=Math.min(r[l],Math.max(s,n)))}}function T(p,t){var r=v(p);t[r]=void 0}function v(p){return"_"+p+"Text_minsize"}G.exports={recordMinTextSize:L,clearMinTextSize:T,resizeText:i}},55023:function(G,V,e){var g=e(5386).fF,R=e(1426).extendFlat,i=e(81245),L=e(1486);G.exports={r:i.r,theta:i.theta,r0:i.r0,dr:i.dr,theta0:i.theta0,dtheta:i.dtheta,thetaunit:i.thetaunit,base:R({},L.base,{}),offset:R({},L.offset,{}),width:R({},L.width,{}),text:R({},L.text,{}),hovertext:R({},L.hovertext,{}),marker:L.marker,hoverinfo:i.hoverinfo,hovertemplate:g(),selected:L.selected,unselected:L.unselected}},74692:function(G,V,e){var g=e(52075).hasColorscale,R=e(78803),i=e(75341),L=e(11661).setGroupPositions,T=e(66279),v=e(73972).traceIs,p=e(71828).extendFlat;function t(l,n){for(var s=l._fullLayout,c=n.subplot,u=s[c].radialaxis,y=s[c].angularaxis,h=u.makeCalcdata(n,"r"),b=y.makeCalcdata(n,"theta"),f=n._length,o=new Array(f),d=h,A=b,M=0;M<f;M++)o[M]={p:A[M],s:d[M]};function C(m){var S=n[m];S!==void 0&&(n["_"+m]=Array.isArray(S)?y.makeCalcdata(n,m):y.d2c(S,n.thetaunit))}return y.type==="linear"&&(C("width"),C("offset")),g(n,"marker")&&R(l,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),g(n,"marker.line")&&R(l,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),i(o,n),T(o,n),o}function r(l,n,s){for(var c=l.calcdata,u=[],y=0;y<c.length;y++){var h=c[y],b=h[0].trace;b.visible===!0&&v(b,"bar")&&b.subplot===s&&u.push(h)}var f=p({},n.radialaxis,{_id:"x"}),o=n.angularaxis;L(l,o,f,u,{mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap})}G.exports={calc:t,crossTraceCalc:r}},6135:function(G,V,e){var g=e(71828),R=e(22184).handleRThetaDefaults,i=e(98340),L=e(55023);G.exports=function(v,p,t,r){function l(s,c){return g.coerce(v,p,L,s,c)}var n=R(v,p,r,l);if(!n){p.visible=!1;return}l("thetaunit"),l("base"),l("offset"),l("width"),l("text"),l("hovertext"),l("hovertemplate"),i(v,p,l,t,r),g.coerceSelectionMarkerOpacity(p,l)}},27379:function(G,V,e){var g=e(30211),R=e(71828),i=e(95423).getTraceColor,L=R.fillText,T=e(59150).makeHoverPointText,v=e(10869).isPtInsidePolygon;G.exports=function(t,r,l){var n=t.cd,s=n[0].trace,c=t.subplot,u=c.radialAxis,y=c.angularAxis,h=c.vangles,b=h?v:R.isPtInsideSector,f=t.maxHoverDistance,o=y._period||2*Math.PI,d=Math.abs(u.g2p(Math.sqrt(r*r+l*l))),A=Math.atan2(l,r);u.range[0]>u.range[1]&&(A+=Math.PI);var M=function(x){return b(d,A,[x.rp0,x.rp1],[x.thetag0,x.thetag1],h)?f+Math.min(1,Math.abs(x.thetag1-x.thetag0)/o)-1+(x.rp1-d)/(x.rp1-x.rp0)-1:1/0};if(g.getClosest(n,M,t),t.index!==!1){var C=t.index,m=n[C];t.x0=t.x1=m.ct[0],t.y0=t.y1=m.ct[1];var S=R.extendFlat({},m,{r:m.s,theta:m.p});return L(m,s,t),T(S,s,c,t),t.hovertemplate=s.hovertemplate,t.color=i(s,m),t.xLabelVal=t.yLabelVal=void 0,m.s<0&&(t.idealAlign="left"),[t]}}},23381:function(G,V,e){G.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(G){G.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(G,V,e){var g=e(71828),R=e(40151);G.exports=function(i,L,T){var v={},p;function t(n,s){return g.coerce(i[p]||{},L[p],R,n,s)}for(var r=0;r<T.length;r++){var l=T[r];l.type==="barpolar"&&l.visible===!0&&(p=l.subplot,v[p]||(t("barmode"),t("bargap"),v[p]=1))}}},60173:function(G,V,e){var g=e(39898),R=e(92770),i=e(71828),L=e(91424),T=e(10869);G.exports=function(t,r,l){var n=t._context.staticPlot,s=r.xaxis,c=r.yaxis,u=r.radialAxis,y=r.angularAxis,h=v(r),b=r.layers.frontplot.select("g.barlayer");i.makeTraceGroups(b,l,"trace bars").each(function(){var f=g.select(this),o=i.ensureSingle(f,"g","points"),d=o.selectAll("g.point").data(i.identity);d.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(A){var M=g.select(this),C=A.rp0=u.c2p(A.s0),m=A.rp1=u.c2p(A.s1),S=A.thetag0=y.c2g(A.p0),x=A.thetag1=y.c2g(A.p1),a;if(!R(C)||!R(m)||!R(S)||!R(x)||C===m||S===x)a="M0,0Z";else{var E=u.c2g(A.s1),w=(S+x)/2;A.ct=[s.c2p(E*Math.cos(w)),c.c2p(E*Math.sin(w))],a=h(C,m,S,x)}i.ensureSingle(M,"path").attr("d",a)}),L.setClipUrl(f,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,t)})};function v(p){var t=p.cxx,r=p.cyy;return p.vangles?function(l,n,s,c){var u,y;i.angleDelta(s,c)>0?(u=s,y=c):(u=c,y=s);var h=T.findEnclosingVertexAngles(u,p.vangles)[0],b=T.findEnclosingVertexAngles(y,p.vangles)[1],f=[h,(u+y)/2,b];return T.pathPolygonAnnulus(l,n,u,y,f,t,r)}:function(l,n,s,c){return i.pathAnnulus(l,n,s,c,t,r)}}},53522:function(G,V,e){var g=e(82196),R=e(1486),i=e(22399),L=e(12663).axisHoverFormat,T=e(5386).fF,v=e(1426).extendFlat,p=g.marker,t=p.line;G.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:v({},p.symbol,{arrayOk:!1,editType:"plot"}),opacity:v({},p.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:v({},p.angle,{arrayOk:!1,editType:"calc"}),size:v({},p.size,{arrayOk:!1,editType:"calc"}),color:v({},p.color,{arrayOk:!1,editType:"style"}),line:{color:v({},t.color,{arrayOk:!1,dflt:i.defaultLine,editType:"style"}),width:v({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},offsetgroup:R.offsetgroup,alignmentgroup:R.alignmentgroup,selected:{marker:g.selected.marker,editType:"style"},unselected:{marker:g.unselected.marker,editType:"style"},text:v({},g.text,{}),hovertext:v({},g.hovertext,{}),hovertemplate:T({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(G,V,e){var g=e(92770),R=e(89298),i=e(42973),L=e(71828),T=e(50606).BADNUM,v=L._;G.exports=function(A,M){var C=A._fullLayout,m=R.getFromId(A,M.xaxis||"x"),S=R.getFromId(A,M.yaxis||"y"),x=[],a=M.type==="violin"?"_numViolins":"_numBoxes",E,w,k,I,U,z,N;M.orientation==="h"?(k=m,I="x",U=S,z="y",N=!!M.yperiodalignment):(k=S,I="y",U=m,z="x",N=!!M.xperiodalignment);var B=p(M,z,U,C[a]),F=B[0],H=B[1],X=L.distinctVals(F,U),q=X.vals,ne=X.minDiff/2,oe,ve,J,Y,j,K,te=(M.boxpoints||M.points)==="all"?L.identity:function(Xe){return Xe.v<oe.lf||Xe.v>oe.uf};if(M._hasPreCompStats){var se=M[I],Q=function(Xe){return k.d2c((M[Xe]||[])[E])},ee=1/0,le=-1/0;for(E=0;E<M._length;E++){var ie=F[E];if(g(ie)){if(oe={},oe.pos=oe[z]=ie,N&&H&&(oe.orig_p=H[E]),oe.q1=Q("q1"),oe.med=Q("median"),oe.q3=Q("q3"),ve=[],se&&L.isArrayOrTypedArray(se[E]))for(w=0;w<se[E].length;w++)K=k.d2c(se[E][w]),K!==T&&(j={v:K,i:[E,w]},n(j,M,[E,w]),ve.push(j));if(oe.pts=ve.sort(c),J=oe[I]=ve.map(u),Y=J.length,oe.med!==T&&oe.q1!==T&&oe.q3!==T&&oe.med>=oe.q1&&oe.q3>=oe.med){var he=Q("lowerfence");oe.lf=he!==T&&he<=oe.q1?he:y(oe,J,Y);var xe=Q("upperfence");oe.uf=xe!==T&&xe>=oe.q3?xe:h(oe,J,Y);var Se=Q("mean");oe.mean=Se!==T?Se:Y?L.mean(J,Y):(oe.q1+oe.q3)/2;var Ee=Q("sd");oe.sd=Se!==T&&Ee>=0?Ee:Y?L.stdev(J,Y,oe.mean):oe.q3-oe.q1,oe.lo=b(oe),oe.uo=f(oe);var Ne=Q("notchspan");Ne=Ne!==T&&Ne>0?Ne:o(oe,Y),oe.ln=oe.med-Ne,oe.un=oe.med+Ne;var He=oe.lf,Ce=oe.uf;M.boxpoints&&J.length&&(He=Math.min(He,J[0]),Ce=Math.max(Ce,J[Y-1])),M.notched&&(He=Math.min(He,oe.ln),Ce=Math.max(Ce,oe.un)),oe.min=He,oe.max=Ce}else{L.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+oe.q1,"median = "+oe.med,"q3 = "+oe.q3].join(`
`));var be;oe.med!==T?be=oe.med:oe.q1!==T?oe.q3!==T?be=(oe.q1+oe.q3)/2:be=oe.q1:oe.q3!==T?be=oe.q3:be=0,oe.med=be,oe.q1=oe.q3=be,oe.lf=oe.uf=be,oe.mean=oe.sd=be,oe.ln=oe.un=be,oe.min=oe.max=be}ee=Math.min(ee,oe.min),le=Math.max(le,oe.max),oe.pts2=ve.filter(te),x.push(oe)}}M._extremes[k._id]=R.findExtremes(k,[ee,le],{padded:!0})}else{var we=k.makeCalcdata(M,I),ke=t(q,ne),Fe=q.length,Pe=r(Fe);for(E=0;E<M._length;E++)if(K=we[E],!!g(K)){var Ge=L.findBin(F[E],ke);Ge>=0&&Ge<Fe&&(j={v:K,i:E},n(j,M,E),Pe[Ge].push(j))}var nt=1/0,qe=-1/0,Ke=M.quartilemethod,$e=Ke==="exclusive",vt=Ke==="inclusive";for(E=0;E<Fe;E++)if(Pe[E].length>0){if(oe={},oe.pos=oe[z]=q[E],ve=oe.pts=Pe[E].sort(c),J=oe[I]=ve.map(u),Y=J.length,oe.min=J[0],oe.max=J[Y-1],oe.mean=L.mean(J,Y),oe.sd=L.stdev(J,Y,oe.mean),oe.med=L.interp(J,.5),Y%2&&($e||vt)){var yt,mt;$e?(yt=J.slice(0,Y/2),mt=J.slice(Y/2+1)):vt&&(yt=J.slice(0,Y/2+1),mt=J.slice(Y/2)),oe.q1=L.interp(yt,.5),oe.q3=L.interp(mt,.5)}else oe.q1=L.interp(J,.25),oe.q3=L.interp(J,.75);oe.lf=y(oe,J,Y),oe.uf=h(oe,J,Y),oe.lo=b(oe),oe.uo=f(oe);var Et=o(oe,Y);oe.ln=oe.med-Et,oe.un=oe.med+Et,nt=Math.min(nt,oe.ln),qe=Math.max(qe,oe.un),oe.pts2=ve.filter(te),x.push(oe)}M._extremes[k._id]=R.findExtremes(k,M.notched?we.concat([nt,qe]):we,{padded:!0})}return s(x,M),x.length>0?(x[0].t={num:C[a],dPos:ne,posLetter:z,valLetter:I,labels:{med:v(A,"median:"),min:v(A,"min:"),q1:v(A,"q1:"),q3:v(A,"q3:"),max:v(A,"max:"),mean:M.boxmean==="sd"?v(A,"mean  :"):v(A,"mean:"),lf:v(A,"lower fence:"),uf:v(A,"upper fence:")}},C[a]++,x):[{t:{empty:!0}}]};function p(d,A,M,C){var m=A in d,S=A+"0"in d,x="d"+A in d;if(m||S&&x){var a=M.makeCalcdata(d,A),E=i(d,M,A,a).vals;return[E,a]}var w;S?w=d[A+"0"]:"name"in d&&(M.type==="category"||g(d.name)&&["linear","log"].indexOf(M.type)!==-1||L.isDateTime(d.name)&&M.type==="date")?w=d.name:w=C;for(var k=M.type==="multicategory"?M.r2c_just_indices(w):M.d2c(w,0,d[A+"calendar"]),I=d._length,U=new Array(I),z=0;z<I;z++)U[z]=k;return[U]}function t(d,A){for(var M=d.length,C=new Array(M+1),m=0;m<M;m++)C[m]=d[m]-A;return C[M]=d[M-1]+A,C}function r(d){for(var A=new Array(d),M=0;M<d;M++)A[M]=[];return A}var l={text:"tx",hovertext:"htx"};function n(d,A,M){for(var C in l)L.isArrayOrTypedArray(A[C])&&(Array.isArray(M)?L.isArrayOrTypedArray(A[C][M[0]])&&(d[l[C]]=A[C][M[0]][M[1]]):d[l[C]]=A[C][M])}function s(d,A){if(L.isArrayOrTypedArray(A.selectedpoints))for(var M=0;M<d.length;M++){for(var C=d[M].pts||[],m={},S=0;S<C.length;S++)m[C[S].i]=S;L.tagSelected(C,A,m)}}function c(d,A){return d.v-A.v}function u(d){return d.v}function y(d,A,M){return M===0?d.q1:Math.min(d.q1,A[Math.min(L.findBin(2.5*d.q1-1.5*d.q3,A,!0)+1,M-1)])}function h(d,A,M){return M===0?d.q3:Math.max(d.q3,A[Math.max(L.findBin(2.5*d.q3-1.5*d.q1,A),0)])}function b(d){return 4*d.q1-3*d.q3}function f(d){return 4*d.q3-3*d.q1}function o(d,A){return A===0?0:1.57*(d.q3-d.q1)/Math.sqrt(A)}},37188:function(G,V,e){var g=e(89298),R=e(71828),i=e(99082).getAxisGroup,L=["v","h"];function T(p,t){for(var r=p.calcdata,l=t.xaxis,n=t.yaxis,s=0;s<L.length;s++){for(var c=L[s],u=c==="h"?n:l,y=[],h=0;h<r.length;h++){var b=r[h],f=b[0].t,o=b[0].trace;o.visible===!0&&(o.type==="box"||o.type==="candlestick")&&!f.empty&&(o.orientation||"v")===c&&o.xaxis===l._id&&o.yaxis===n._id&&y.push(h)}v("box",p,y,u)}}function v(p,t,r,l){var n=t.calcdata,s=t._fullLayout,c=l._id,u=c.charAt(0),y,h,b,f=[],o=0;for(y=0;y<r.length;y++)for(b=n[r[y]],h=0;h<b.length;h++)f.push(l.c2l(b[h].pos,!0)),o+=(b[h].pts2||[]).length;if(f.length){var d=R.distinctVals(f);(l.type==="category"||l.type==="multicategory")&&(d.minDiff=1);var A=d.minDiff/2;g.minDtick(l,d.minDiff,d.vals[0],!0);var M=p==="violin"?"_numViolins":"_numBoxes",C=s[M],m=s[p+"mode"]==="group"&&C>1,S=1-s[p+"gap"],x=1-s[p+"groupgap"];for(y=0;y<r.length;y++){b=n[r[y]];var a=b[0].trace,E=b[0].t,w=a.width,k=a.side,I,U,z,N;if(w)I=U=N=w/2,z=0;else if(I=A,m){var B=i(s,l._id)+a.orientation,F=s._alignmentOpts[B]||{},H=F[a.alignmentgroup]||{},X=Object.keys(H.offsetGroups||{}).length,q=X||C,ne=X?a._offsetIndex:E.num;U=I*S*x/q,z=2*I*(-.5+(ne+.5)/q)*S,N=I*S/q}else U=I*S*x,z=0,N=I;E.dPos=I,E.bPos=z,E.bdPos=U,E.wHover=N;var oe,ve,J=z+U,Y,j,K,te,se,Q,ee=!!w,le=(a.boxpoints||a.points)&&o>0;if(k==="positive"?(oe=I*(w?1:.5),Y=J,ve=Y=z):k==="negative"?(oe=Y=z,ve=I*(w?1:.5),j=J):(oe=ve=I,Y=j=J),le){var ie=a.pointpos,he=a.jitter,xe=a.marker.size/2,Se=0;ie+he>=0&&(Se=J*(ie+he),Se>oe?(ee=!0,se=xe,K=Se):Se>Y&&(se=xe,K=oe)),Se<=oe&&(K=oe);var Ee=0;ie-he<=0&&(Ee=-J*(ie-he),Ee>ve?(ee=!0,Q=xe,te=Ee):Ee>j&&(Q=xe,te=ve)),Ee<=ve&&(te=ve)}else K=oe,te=ve;var Ne=new Array(b.length);for(h=0;h<b.length;h++)Ne[h]=b[h].pos;a._extremes[c]=g.findExtremes(l,Ne,{padded:ee,vpadminus:te,vpadplus:K,vpadLinearized:!0,ppadminus:{x:Q,y:se}[u],ppadplus:{x:se,y:Q}[u]})}}}G.exports={crossTraceCalc:T,setPositionOffset:v}},36411:function(G,V,e){var g=e(71828),R=e(73972),i=e(7901),L=e(73927),T=e(26125),v=e(4322),p=e(53522);function t(s,c,u,y){function h(m,S){return g.coerce(s,c,p,m,S)}if(r(s,c,h,y),c.visible!==!1){L(s,c,y,h),h("xhoverformat"),h("yhoverformat");var b=c._hasPreCompStats;b&&(h("lowerfence"),h("upperfence")),h("line.color",(s.marker||{}).color||u),h("line.width"),h("fillcolor",i.addOpacity(c.line.color,.5));var f=!1;if(b){var o=h("mean"),d=h("sd");o&&o.length&&(f=!0,d&&d.length&&(f="sd"))}h("boxmean",f),h("whiskerwidth"),h("width"),h("quartilemethod");var A=!1;if(b){var M=h("notchspan");M&&M.length&&(A=!0)}else g.validate(s.notchwidth,p.notchwidth)&&(A=!0);var C=h("notched",A);C&&h("notchwidth"),l(s,c,h,{prefix:"box"})}}function r(s,c,u,y){function h(X){var q=0;return X&&X.length&&(q+=1,g.isArrayOrTypedArray(X[0])&&X[0].length&&(q+=1)),q}function b(X){return g.validate(s[X],p[X])}var f=u("y"),o=u("x"),d;if(c.type==="box"){var A=u("q1"),M=u("median"),C=u("q3");c._hasPreCompStats=A&&A.length&&M&&M.length&&C&&C.length,d=Math.min(g.minRowLength(A),g.minRowLength(M),g.minRowLength(C))}var m=h(f),S=h(o),x=m&&g.minRowLength(f),a=S&&g.minRowLength(o),E=y.calendar,w={autotypenumbers:y.autotypenumbers},k,I;if(c._hasPreCompStats)switch(String(S)+String(m)){case"00":var U=b("x0")||b("dx"),z=b("y0")||b("dy");z&&!U?k="h":k="v",I=d;break;case"10":k="v",I=Math.min(d,a);break;case"20":k="h",I=Math.min(d,o.length);break;case"01":k="h",I=Math.min(d,x);break;case"02":k="v",I=Math.min(d,f.length);break;case"12":k="v",I=Math.min(d,a,f.length);break;case"21":k="h",I=Math.min(d,o.length,x);break;case"11":I=0;break;case"22":var N=!1,B;for(B=0;B<o.length;B++)if(v(o[B],E,w)==="category"){N=!0;break}if(N)k="v",I=Math.min(d,a,f.length);else{for(B=0;B<f.length;B++)if(v(f[B],E,w)==="category"){N=!0;break}N?(k="h",I=Math.min(d,o.length,x)):(k="v",I=Math.min(d,a,f.length))}break}else m>0?(k="v",S>0?I=Math.min(a,x):I=Math.min(x)):S>0?(k="h",I=Math.min(a)):I=0;if(!I){c.visible=!1;return}c._length=I;var F=u("orientation",k);c._hasPreCompStats?F==="v"&&S===0?(u("x0",0),u("dx",1)):F==="h"&&m===0&&(u("y0",0),u("dy",1)):F==="v"&&S===0?u("x0"):F==="h"&&m===0&&u("y0");var H=R.getComponentMethod("calendars","handleTraceDefaults");H(s,c,["x","y"],y)}function l(s,c,u,y){var h=y.prefix,b=g.coerce2(s,c,p,"marker.outliercolor"),f=u("marker.line.outliercolor"),o="outliers";c._hasPreCompStats?o="all":(b||f)&&(o="suspectedoutliers");var d=u(h+"points",o);d?(u("jitter",d==="all"?.3:0),u("pointpos",d==="all"?-1.5:0),u("marker.symbol"),u("marker.opacity"),u("marker.size"),u("marker.angle"),u("marker.color",c.line.color),u("marker.line.color"),u("marker.line.width"),d==="suspectedoutliers"&&(u("marker.line.outliercolor",c.marker.color),u("marker.line.outlierwidth")),u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size"),u("text"),u("hovertext")):delete c.marker;var A=u("hoveron");(A==="all"||A.indexOf("points")!==-1)&&u("hovertemplate"),g.coerceSelectionMarkerOpacity(c,u)}function n(s,c){var u,y;function h(o){return g.coerce(y._input,y,p,o)}for(var b=0;b<s.length;b++){y=s[b];var f=y.type;(f==="box"||f==="violin")&&(u=y._input,c[f+"mode"]==="group"&&T(u,y,c,h))}}G.exports={supplyDefaults:t,crossTraceDefaults:n,handleSampleDefaults:r,handlePointsDefaults:l}},74907:function(G){G.exports=function(e,g){return g.hoverOnBox&&(e.hoverOnBox=g.hoverOnBox),"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},41868:function(G,V,e){var g=e(89298),R=e(71828),i=e(30211),L=e(7901),T=R.fillText;function v(r,l,n,s){var c=r.cd,u=c[0].trace,y=u.hoveron,h=[],b;return y.indexOf("boxes")!==-1&&(h=h.concat(p(r,l,n,s))),y.indexOf("points")!==-1&&(b=t(r,l,n)),s==="closest"?b?[b]:h:(b&&h.push(b),h)}function p(r,l,n,s){var c=r.cd,u=r.xa,y=r.ya,h=c[0].trace,b=c[0].t,f=h.type==="violin",o,d,A,M,C,m,S,x,a,E,w,k=b.bdPos,I,U,z=b.wHover,N=function(Ee){return A.c2l(Ee.pos)+b.bPos-A.c2l(m)};f&&h.side!=="both"?(h.side==="positive"&&(a=function(Ee){var Ne=N(Ee);return i.inbox(Ne,Ne+z,E)},I=k,U=0),h.side==="negative"&&(a=function(Ee){var Ne=N(Ee);return i.inbox(Ne-z,Ne,E)},I=0,U=k)):(a=function(Ee){var Ne=N(Ee);return i.inbox(Ne-z,Ne+z,E)},I=U=k);var B;f?B=function(Ee){return i.inbox(Ee.span[0]-C,Ee.span[1]-C,E)}:B=function(Ee){return i.inbox(Ee.min-C,Ee.max-C,E)},h.orientation==="h"?(C=l,m=n,S=B,x=a,o="y",A=y,d="x",M=u):(C=n,m=l,S=a,x=B,o="x",A=u,d="y",M=y);var F=Math.min(1,k/Math.abs(A.r2c(A.range[1])-A.r2c(A.range[0])));E=r.maxHoverDistance-F,w=r.maxSpikeDistance-F;function H(Ee){return(S(Ee)+x(Ee))/2}var X=i.getDistanceFunction(s,S,x,H);if(i.getClosest(c,X,r),r.index===!1)return[];var q=c[r.index],ne=h.line.color,oe=(h.marker||{}).color;L.opacity(ne)&&h.line.width?r.color=ne:L.opacity(oe)&&h.boxpoints?r.color=oe:r.color=h.fillcolor,r[o+"0"]=A.c2p(q.pos+b.bPos-U,!0),r[o+"1"]=A.c2p(q.pos+b.bPos+I,!0),r[o+"LabelVal"]=q.orig_p!==void 0?q.orig_p:q.pos;var ve=o+"Spike";r.spikeDistance=H(q)*w/E,r[ve]=A.c2p(q.pos,!0);var J=h.boxmean||(h.meanline||{}).visible,Y=h.boxpoints||h.points,j=Y&&J?["max","uf","q3","med","mean","q1","lf","min"]:Y&&!J?["max","uf","q3","med","q1","lf","min"]:!Y&&J?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],K=M.range[1]<M.range[0];h.orientation===(K?"v":"h")&&j.reverse();for(var te=r.spikeDistance,se=r[ve],Q=[],ee=0;ee<j.length;ee++){var le=j[ee];if(le in q){var ie=q[le],he=M.c2p(ie,!0),xe=R.extendFlat({},r);xe.attr=le,xe[d+"0"]=xe[d+"1"]=he,xe[d+"LabelVal"]=ie,xe[d+"Label"]=(b.labels?b.labels[le]+" ":"")+g.hoverLabelText(M,ie,h[d+"hoverformat"]),xe.hoverOnBox=!0,le==="mean"&&"sd"in q&&h.boxmean==="sd"&&(xe[d+"err"]=q.sd),xe.hovertemplate=!1,Q.push(xe)}}r.name="",r.spikeDistance=void 0,r[ve]=void 0;for(var Se=0;Se<Q.length;Se++)Q[Se].attr!=="med"?(Q[Se].name="",Q[Se].spikeDistance=void 0,Q[Se][ve]=void 0):(Q[Se].spikeDistance=te,Q[Se][ve]=se);return Q}function t(r,l,n){for(var s=r.cd,c=r.xa,u=r.ya,y=s[0].trace,h=c.c2p(l),b=u.c2p(n),f,o=function(B){var F=Math.max(3,B.mrc||0);return Math.max(Math.abs(c.c2p(B.x)-h)-F,1-3/F)},d=function(B){var F=Math.max(3,B.mrc||0);return Math.max(Math.abs(u.c2p(B.y)-b)-F,1-3/F)},A=i.quadrature(o,d),M=!1,C,m,S=0;S<s.length;S++){C=s[S];for(var x=0;x<(C.pts||[]).length;x++){m=C.pts[x];var a=A(m);a<=r.distance&&(r.distance=a,M=[S,x])}}if(!M)return!1;C=s[M[0]],m=C.pts[M[1]];var E=c.c2p(m.x,!0),w=u.c2p(m.y,!0),k=m.mrc||1;f=R.extendFlat({},r,{index:m.i,color:(y.marker||{}).color,name:y.name,x0:E-k,x1:E+k,y0:w-k,y1:w+k,spikeDistance:r.distance,hovertemplate:y.hovertemplate});var I=C.orig_p,U=I!==void 0?I:C.pos,z;y.orientation==="h"?(z=u,f.xLabelVal=m.x,f.yLabelVal=U):(z=c,f.xLabelVal=U,f.yLabelVal=m.y);var N=z._id.charAt(0);return f[N+"Spike"]=z.c2p(C.pos,!0),T(m,y,f),f}G.exports={hoverPoints:v,hoverOnBoxes:p,hoverOnPoints:t}},83832:function(G,V,e){G.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(G){G.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(G,V,e){var g=e(73972),R=e(71828),i=e(40094);function L(v,p,t,r,l){for(var n=l+"Layout",s=!1,c=0;c<t.length;c++){var u=t[c];if(g.traceIs(u,n)){s=!0;break}}s&&(r(l+"mode"),r(l+"gap"),r(l+"groupgap"))}function T(v,p,t){function r(l,n){return R.coerce(v,p,i,l,n)}L(v,p,t,r,"box")}G.exports={supplyLayoutDefaults:T,_supply:L}},86047:function(G,V,e){var g=e(39898),R=e(71828),i=e(91424),L=5,T=.01;function v(l,n,s,c){var u=l._context.staticPlot,y=n.xaxis,h=n.yaxis;R.makeTraceGroups(c,s,"trace boxes").each(function(b){var f=g.select(this),o=b[0],d=o.t,A=o.trace;if(d.wdPos=d.bdPos*A.whiskerwidth,A.visible!==!0||d.empty){f.remove();return}var M,C;A.orientation==="h"?(M=h,C=y):(M=y,C=h),p(f,{pos:M,val:C},A,d,u),t(f,{x:y,y:h},A,d),r(f,{pos:M,val:C},A,d)})}function p(l,n,s,c,u){var y=s.orientation==="h",h=n.val,b=n.pos,f=!!b.rangebreaks,o=c.bPos,d=c.wdPos||0,A=c.bPosPxOffset||0,M=s.whiskerwidth||0,C=s.notched||!1,m=C?1-2*s.notchwidth:1,S,x;Array.isArray(c.bdPos)?(S=c.bdPos[0],x=c.bdPos[1]):(S=c.bdPos,x=c.bdPos);var a=l.selectAll("path.box").data(s.type!=="violin"||s.box.visible?R.identity:[]);a.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","box"),a.exit().remove(),a.each(function(E){if(E.empty)return"M0,0Z";var w=b.c2l(E.pos+o,!0),k=b.l2p(w-S)+A,I=b.l2p(w+x)+A,U=f?(k+I)/2:b.l2p(w)+A,z=s.whiskerwidth,N=f?k*z+(1-z)*U:b.l2p(w-d)+A,B=f?I*z+(1-z)*U:b.l2p(w+d)+A,F=b.l2p(w-S*m)+A,H=b.l2p(w+x*m)+A,X=h.c2p(E.q1,!0),q=h.c2p(E.q3,!0),ne=R.constrain(h.c2p(E.med,!0),Math.min(X,q)+1,Math.max(X,q)-1),oe=E.lf===void 0||s.boxpoints===!1,ve=h.c2p(oe?E.min:E.lf,!0),J=h.c2p(oe?E.max:E.uf,!0),Y=h.c2p(E.ln,!0),j=h.c2p(E.un,!0);y?g.select(this).attr("d","M"+ne+","+F+"V"+H+"M"+X+","+k+"V"+I+(C?"H"+Y+"L"+ne+","+H+"L"+j+","+I:"")+"H"+q+"V"+k+(C?"H"+j+"L"+ne+","+F+"L"+Y+","+k:"")+"ZM"+X+","+U+"H"+ve+"M"+q+","+U+"H"+J+(M===0?"":"M"+ve+","+N+"V"+B+"M"+J+","+N+"V"+B)):g.select(this).attr("d","M"+F+","+ne+"H"+H+"M"+k+","+X+"H"+I+(C?"V"+Y+"L"+H+","+ne+"L"+I+","+j:"")+"V"+q+"H"+k+(C?"V"+j+"L"+F+","+ne+"L"+k+","+Y:"")+"ZM"+U+","+X+"V"+ve+"M"+U+","+q+"V"+J+(M===0?"":"M"+N+","+ve+"H"+B+"M"+N+","+J+"H"+B))})}function t(l,n,s,c){var u=n.x,y=n.y,h=c.bdPos,b=c.bPos,f=s.boxpoints||s.points;R.seedPseudoRandom();var o=function(M){return M.forEach(function(C){C.t=c,C.trace=s}),M},d=l.selectAll("g.points").data(f?o:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var A=d.selectAll("path").data(function(M){var C,m=M.pts2,S=Math.max((M.max-M.min)/10,M.q3-M.q1),x=S*1e-9,a=S*T,E=[],w=0,k;if(s.jitter){if(S===0)for(w=1,E=new Array(m.length),C=0;C<m.length;C++)E[C]=1;else for(C=0;C<m.length;C++){var I=Math.max(0,C-L),U=m[I].v,z=Math.min(m.length-1,C+L),N=m[z].v;f!=="all"&&(m[C].v<M.lf?N=Math.min(N,M.lf):U=Math.max(U,M.uf));var B=Math.sqrt(a*(z-I)/(N-U+x))||0;B=R.constrain(Math.abs(B),0,1),E.push(B),w=Math.max(B,w)}k=s.jitter*2/(w||1)}for(C=0;C<m.length;C++){var F=m[C],H=F.v,X=s.jitter?k*E[C]*(R.pseudoRandom()-.5):0,q=M.pos+b+h*(s.pointpos+X);s.orientation==="h"?(F.y=q,F.x=H):(F.x=q,F.y=H),f==="suspectedoutliers"&&H<M.uo&&H>M.lo&&(F.so=!0)}return m});A.enter().append("path").classed("point",!0),A.exit().remove(),A.call(i.translatePoints,u,y)}function r(l,n,s,c){var u=n.val,y=n.pos,h=!!y.rangebreaks,b=c.bPos,f=c.bPosPxOffset||0,o=s.boxmean||(s.meanline||{}).visible,d,A;Array.isArray(c.bdPos)?(d=c.bdPos[0],A=c.bdPos[1]):(d=c.bdPos,A=c.bdPos);var M=l.selectAll("path.mean").data(s.type==="box"&&s.boxmean||s.type==="violin"&&s.box.visible&&s.meanline.visible?R.identity:[]);M.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),M.exit().remove(),M.each(function(C){var m=y.c2l(C.pos+b,!0),S=y.l2p(m-d)+f,x=y.l2p(m+A)+f,a=h?(S+x)/2:y.l2p(m)+f,E=u.c2p(C.mean,!0),w=u.c2p(C.mean-C.sd,!0),k=u.c2p(C.mean+C.sd,!0);s.orientation==="h"?g.select(this).attr("d","M"+E+","+S+"V"+x+(o==="sd"?"m0,0L"+w+","+a+"L"+E+","+S+"L"+k+","+a+"Z":"")):g.select(this).attr("d","M"+S+","+E+"H"+x+(o==="sd"?"m0,0L"+a+","+w+"L"+S+","+E+"L"+a+","+k+"Z":""))})}G.exports={plot:v,plotBoxAndWhiskers:p,plotPoints:t,plotBoxMean:r}},24626:function(G){G.exports=function(e,g){var R=e.cd,i=e.xaxis,L=e.yaxis,T=[],v,p;if(g===!1)for(v=0;v<R.length;v++)for(p=0;p<(R[v].pts||[]).length;p++)R[v].pts[p].selected=0;else for(v=0;v<R.length;v++)for(p=0;p<(R[v].pts||[]).length;p++){var t=R[v].pts[p],r=i.c2p(t.x),l=L.c2p(t.y);g.contains([r,l],null,t.i,e)?(T.push({pointNumber:t.i,x:i.c2d(t.x),y:L.c2d(t.y)}),t.selected=1):t.selected=0}return T}},58063:function(G,V,e){var g=e(39898),R=e(7901),i=e(91424);function L(v,p,t){var r=t||g.select(v).selectAll("g.trace.boxes");r.style("opacity",function(l){return l[0].trace.opacity}),r.each(function(l){var n=g.select(this),s=l[0].trace,c=s.line.width;function u(b,f,o,d){b.style("stroke-width",f+"px").call(R.stroke,o).call(R.fill,d)}var y=n.selectAll("path.box");if(s.type==="candlestick")y.each(function(b){if(!b.empty){var f=g.select(this),o=s[b.dir];u(f,o.line.width,o.line.color,o.fillcolor),f.style("opacity",s.selectedpoints&&!b.selected?.3:1)}});else{u(y,c,s.line.color,s.fillcolor),n.selectAll("path.mean").style({"stroke-width":c,"stroke-dasharray":2*c+"px,"+c+"px"}).call(R.stroke,s.line.color);var h=n.selectAll("path.point");i.pointStyle(h,s,v)}})}function T(v,p,t){var r=p[0].trace,l=t.selectAll("path.point");r.selectedpoints?i.selectedPointStyle(l,r):i.pointStyle(l,r,v)}G.exports={style:L,styleOnSelect:T}},75343:function(G,V,e){var g=e(71828).extendFlat,R=e(12663).axisHoverFormat,i=e(2522),L=e(53522);function T(v){return{line:{color:g({},L.line.color,{dflt:v}),width:L.line.width,editType:"style"},fillcolor:L.fillcolor,editType:"style"}}G.exports={xperiod:i.xperiod,xperiod0:i.xperiod0,xperiodalignment:i.xperiodalignment,xhoverformat:R("x"),yhoverformat:R("y"),x:i.x,open:i.open,high:i.high,low:i.low,close:i.close,line:{width:g({},L.line.width,{}),editType:"style"},increasing:T(i.increasing.line.color.dflt),decreasing:T(i.decreasing.line.color.dflt),text:i.text,hovertext:i.hovertext,whiskerwidth:g({},L.whiskerwidth,{dflt:0}),hoverlabel:i.hoverlabel}},41197:function(G,V,e){var g=e(71828),R=e(89298),i=e(42973),L=e(3485).calcCommon;G.exports=function(v,p){var t=v._fullLayout,r=R.getFromId(v,p.xaxis),l=R.getFromId(v,p.yaxis),n=r.makeCalcdata(p,"x"),s=i(p,r,"x",n).vals,c=L(v,p,n,s,l,T);return c.length?(g.extendFlat(c[0].t,{num:t._numBoxes,dPos:g.distinctVals(s).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,c):[{t:{empty:!0}}]};function T(v,p,t,r){return{min:t,q1:Math.min(v,r),med:r,q3:Math.max(v,r),max:p}}},1026:function(G,V,e){var g=e(71828),R=e(7901),i=e(14555),L=e(73927),T=e(75343);G.exports=function(t,r,l,n){function s(u,y){return g.coerce(t,r,T,u,y)}var c=i(t,r,s,n);if(!c){r.visible=!1;return}L(t,r,n,s,{x:!0}),s("xhoverformat"),s("yhoverformat"),s("line.width"),v(t,r,s,"increasing"),v(t,r,s,"decreasing"),s("text"),s("hovertext"),s("whiskerwidth"),n._requestRangeslider[r.xaxis]=!0};function v(p,t,r,l){var n=r(l+".line.color");r(l+".line.width",t.line.width),r(l+".fillcolor",R.addOpacity(n,.5))}},91815:function(G,V,e){G.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(G,V,e){var g=e(11500),R=e(44467);G.exports=function(T,v,p,t,r){var l=t("a");l||(t("da"),t("a0"));var n=t("b");n||(t("db"),t("b0")),i(T,v,p,r)};function i(L,T,v,p){var t=["aaxis","baxis"];t.forEach(function(r){var l=r.charAt(0),n=L[r]||{},s=R.newContainer(T,r),c={noTicklabelstep:!0,tickfont:"x",id:l+"axis",letter:l,font:T.font,name:r,data:L[l],calendar:T.calendar,dfltColor:p,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};g(n,s,c),s._categories=s._categories||[],!L[r]&&n.type!=="-"&&(L[r]={type:n.type})})}},402:function(G,V,e){var g=e(71828).isArrayOrTypedArray;G.exports=function(i){return R(i,0)};function R(i,L){if(!g(i)||L>=10)return null;for(var T=1/0,v=-1/0,p=i.length,t=0;t<p;t++){var r=i[t];if(g(r)){var l=R(r,L+1);l&&(T=Math.min(l[0],T),v=Math.max(l[1],v))}else T=Math.min(r,T),v=Math.max(r,v)}return[T,v]}},99798:function(G,V,e){var g=e(41940),R=e(1928),i=e(22399),L=g({editType:"calc"});L.family.dflt='"Open Sans", verdana, arial, sans-serif',L.size.dflt=12,L.color.dflt=i.defaultLine,G.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:R,baxis:R,font:L,color:{valType:"color",dflt:i.defaultLine,editType:"plot"},transforms:void 0}},4536:function(G,V,e){var g=e(71828).isArrayOrTypedArray;G.exports=function(R,i,L,T){var v,p,t,r,l,n,s,c,u,y,h,b,f,o=g(L)?"a":"b",d=o==="a"?R.aaxis:R.baxis,A=d.smoothing,M=o==="a"?R.a2i:R.b2j,C=o==="a"?L:T,m=o==="a"?T:L,S=o==="a"?i.a.length:i.b.length,x=o==="a"?i.b.length:i.a.length,a=Math.floor(o==="a"?R.b2j(m):R.a2i(m)),E=o==="a"?function(ne){return R.evalxy([],ne,a)}:function(ne){return R.evalxy([],a,ne)};A&&(t=Math.max(0,Math.min(x-2,a)),r=a-t,p=o==="a"?function(ne,oe){return R.dxydi([],ne,t,oe,r)}:function(ne,oe){return R.dxydj([],t,ne,r,oe)});var w=M(C[0]),k=M(C[1]),I=w<k?1:-1,U=(k-w)*1e-8,z=I>0?Math.floor:Math.ceil,N=I>0?Math.ceil:Math.floor,B=I>0?Math.min:Math.max,F=I>0?Math.max:Math.min,H=z(w+U),X=N(k-U);s=E(w);var q=[[s]];for(v=H;v*I<X*I;v+=I)l=[],h=F(w,v),b=B(k,v+I),f=b-h,n=Math.max(0,Math.min(S-2,Math.floor(.5*(h+b)))),c=E(b),A&&(u=p(n,h-n),y=p(n,b-n),l.push([s[0]+u[0]/3*f,s[1]+u[1]/3*f]),l.push([c[0]-y[0]/3*f,c[1]-y[1]/3*f])),l.push(c),q.push(l),s=c;return q}},1928:function(G,V,e){var g=e(41940),R=e(22399),i=e(13838),L=e(12663).descriptionWithDates,T=e(30962).overrideAll,v=e(79952).P,p=e(1426).extendFlat;G.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:g({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:i.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:p({},i.labelalias,{editType:"calc"}),tickfont:g({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:L("tick label")},tickformatstops:T(i.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:R.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:p({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:p({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:R.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:g({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(G,V,e){var g=e(99798),R=e(7901).addOpacity,i=e(73972),L=e(71828),T=e(26218),v=e(96115),p=e(89426),t=e(15258),r=e(21994),l=e(4322);G.exports=function(c,u,y){var h=y.letter,b=y.font||{},f=g[h+"axis"];function o(H,X){return L.coerce(c,u,f,H,X)}function d(H,X){return L.coerce2(c,u,f,H,X)}y.name&&(u._name=y.name,u._id=y.name),o("autotypenumbers",y.autotypenumbersDflt);var A=o("type");if(A==="-"&&(y.data&&n(u,y.data),u.type==="-"?u.type="linear":A=c.type=u.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",h+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),u.tickmode==="array"&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),u._hovertitle=h,A==="date"){var M=i.getComponentMethod("calendars","handleDefaults");M(c,u,"calendar",y.calendar)}r(u,y.fullLayout),u.c2p=L.identity;var C=o("color",y.dfltColor),m=C===c.color?C:b.color,S=o("title.text");S&&(L.coerceFont(o,"title.font",{family:b.family,size:L.bigFont(b.size),color:m}),o("title.offset")),o("tickangle");var x=o("autorange",!u.isValidRange(c.range));x&&o("rangemode"),o("range"),u.cleanRange(),o("fixedrange"),T(c,u,o,A),p(c,u,o,A,y),v(c,u,o,A,y),t(c,u,o,{data:y.data,dataAttr:h});var a=d("gridcolor",R(C,.3)),E=d("gridwidth"),w=d("griddash"),k=o("showgrid");k||(delete u.gridcolor,delete u.gridwidth,delete u.griddash);var I=d("startlinecolor",C),U=d("startlinewidth",E),z=o("startline",u.showgrid||!!I||!!U);z||(delete u.startlinecolor,delete u.startlinewidth);var N=d("endlinecolor",C),B=d("endlinewidth",E),F=o("endline",u.showgrid||!!N||!!B);return F||(delete u.endlinecolor,delete u.endlinewidth),k?(o("minorgridcount"),o("minorgridwidth",E),o("minorgriddash",w),o("minorgridcolor",R(a,.06)),u.minorgridcount||(delete u.minorgridwidth,delete u.minorgriddash,delete u.minorgridcolor)):(delete u.gridcolor,delete u.gridwidth,delete u.griddash),u.showticklabels==="none"&&(delete u.tickfont,delete u.tickangle,delete u.showexponent,delete u.exponentformat,delete u.minexponent,delete u.tickformat,delete u.showticksuffix,delete u.showtickprefix),u.showticksuffix||delete u.ticksuffix,u.showtickprefix||delete u.tickprefix,o("tickmode"),u};function n(s,c){if(s.type==="-"){var u=s._id,y=u.charAt(0),h=y+"calendar",b=s[h];s.type=l(c,b,{autotypenumbers:s.autotypenumbers})}}},25281:function(G,V,e){var g=e(89298),R=e(71828).isArray1D,i=e(53824),L=e(402),T=e(20347),v=e(83311),p=e(44807),t=e(4742),r=e(72505),l=e(68296),n=e(11435);G.exports=function(c,u){var y=g.getFromId(c,u.xaxis),h=g.getFromId(c,u.yaxis),b=u.aaxis,f=u.baxis,o=u.x,d=u.y,A=[];o&&R(o)&&A.push("x"),d&&R(d)&&A.push("y"),A.length&&l(u,b,f,"a","b",A);var M=u._a=u._a||u.a,C=u._b=u._b||u.b;o=u._x||u.x,d=u._y||u.y;var m={};if(u._cheater){var S=b.cheatertype==="index"?M.length:M,x=f.cheatertype==="index"?C.length:C;o=i(S,x,u.cheaterslope)}u._x=o=t(o),u._y=d=t(d),r(o,M,C),r(d,M,C),n(u),u.setScale();var a=L(o),E=L(d),w=.5*(a[1]-a[0]),k=.5*(a[1]+a[0]),I=.5*(E[1]-E[0]),U=.5*(E[1]+E[0]),z=1.3;return a=[k-w*z,k+w*z],E=[U-I*z,U+I*z],u._extremes[y._id]=g.findExtremes(y,a,{padded:!0}),u._extremes[h._id]=g.findExtremes(h,E,{padded:!0}),T(u,"a","b"),T(u,"b","a"),v(u,b),v(u,f),m.clipsegments=p(u._xctrl,u._yctrl,b,f),m.x=o,m.y=d,m.a=M,m.b=C,[m]}},44807:function(G){G.exports=function(e,g,R,i){var L,T,v,p=[],t=!!R.smoothing,r=!!i.smoothing,l=e[0].length-1,n=e.length-1;for(L=0,T=[],v=[];L<=l;L++)T[L]=e[0][L],v[L]=g[0][L];for(p.push({x:T,y:v,bicubic:t}),L=0,T=[],v=[];L<=n;L++)T[L]=e[L][l],v[L]=g[L][l];for(p.push({x:T,y:v,bicubic:r}),L=l,T=[],v=[];L>=0;L--)T[l-L]=e[n][L],v[l-L]=g[n][L];for(p.push({x:T,y:v,bicubic:t}),L=n,T=[],v=[];L>=0;L--)T[n-L]=e[L][0],v[n-L]=g[L][0];return p.push({x:T,y:v,bicubic:r}),p}},20347:function(G,V,e){var g=e(89298),R=e(1426).extendFlat;G.exports=function(L,T,v){var p,t,r,l,n,s,c,u,y,h,b,f,o,d,A=L["_"+T],M=L[T+"axis"],C=M._gridlines=[],m=M._minorgridlines=[],S=M._boundarylines=[],x=L["_"+v],a=L[v+"axis"];M.tickmode==="array"&&(M.tickvals=A.slice());var E=L._xctrl,w=L._yctrl,k=E[0].length,I=E.length,U=L._a.length,z=L._b.length;g.prepTicks(M),M.tickmode==="array"&&delete M.tickvals;var N=M.smoothing?3:1;function B(H){var X,q,ne,oe,ve,J,Y,j,K,te,se,Q,ee=[],le=[],ie={};if(T==="b")for(q=L.b2j(H),ne=Math.floor(Math.max(0,Math.min(z-2,q))),oe=q-ne,ie.length=z,ie.crossLength=U,ie.xy=function(he){return L.evalxy([],he,q)},ie.dxy=function(he,xe){return L.dxydi([],he,ne,xe,oe)},X=0;X<U;X++)J=Math.min(U-2,X),Y=X-J,j=L.evalxy([],X,q),a.smoothing&&X>0&&(K=L.dxydi([],X-1,ne,0,oe),ee.push(ve[0]+K[0]/3),le.push(ve[1]+K[1]/3),te=L.dxydi([],X-1,ne,1,oe),ee.push(j[0]-te[0]/3),le.push(j[1]-te[1]/3)),ee.push(j[0]),le.push(j[1]),ve=j;else for(X=L.a2i(H),J=Math.floor(Math.max(0,Math.min(U-2,X))),Y=X-J,ie.length=U,ie.crossLength=z,ie.xy=function(he){return L.evalxy([],X,he)},ie.dxy=function(he,xe){return L.dxydj([],J,he,Y,xe)},q=0;q<z;q++)ne=Math.min(z-2,q),oe=q-ne,j=L.evalxy([],X,q),a.smoothing&&q>0&&(se=L.dxydj([],J,q-1,Y,0),ee.push(ve[0]+se[0]/3),le.push(ve[1]+se[1]/3),Q=L.dxydj([],J,q-1,Y,1),ee.push(j[0]-Q[0]/3),le.push(j[1]-Q[1]/3)),ee.push(j[0]),le.push(j[1]),ve=j;return ie.axisLetter=T,ie.axis=M,ie.crossAxis=a,ie.value=H,ie.constvar=v,ie.index=u,ie.x=ee,ie.y=le,ie.smoothing=a.smoothing,ie}function F(H){var X,q,ne,oe,ve,J=[],Y=[],j={};if(j.length=A.length,j.crossLength=x.length,T==="b")for(ne=Math.max(0,Math.min(z-2,H)),ve=Math.min(1,Math.max(0,H-ne)),j.xy=function(K){return L.evalxy([],K,H)},j.dxy=function(K,te){return L.dxydi([],K,ne,te,ve)},X=0;X<k;X++)J[X]=E[H*N][X],Y[X]=w[H*N][X];else for(q=Math.max(0,Math.min(U-2,H)),oe=Math.min(1,Math.max(0,H-q)),j.xy=function(K){return L.evalxy([],H,K)},j.dxy=function(K,te){return L.dxydj([],q,K,oe,te)},X=0;X<I;X++)J[X]=E[X][H*N],Y[X]=w[X][H*N];return j.axisLetter=T,j.axis=M,j.crossAxis=a,j.value=A[H],j.constvar=v,j.index=H,j.x=J,j.y=Y,j.smoothing=a.smoothing,j}if(M.tickmode==="array"){for(l=5e-15,n=[Math.floor((A.length-1-M.arraytick0)/M.arraydtick*(1+l)),Math.ceil(-M.arraytick0/M.arraydtick/(1+l))].sort(function(H,X){return H-X}),s=n[0]-1,c=n[1]+1,u=s;u<c;u++)t=M.arraytick0+M.arraydtick*u,!(t<0||t>A.length-1)&&C.push(R(F(t),{color:M.gridcolor,width:M.gridwidth,dash:M.griddash}));for(u=s;u<c;u++)if(r=M.arraytick0+M.arraydtick*u,b=Math.min(r+M.arraydtick,A.length-1),!(r<0||r>A.length-1)&&!(b<0||b>A.length-1))for(f=A[r],o=A[b],p=0;p<M.minorgridcount;p++)d=b-r,!(d<=0)&&(h=f+(o-f)*(p+1)/(M.minorgridcount+1)*(M.arraydtick/d),!(h<A[0]||h>A[A.length-1])&&m.push(R(B(h),{color:M.minorgridcolor,width:M.minorgridwidth,dash:M.minorgriddash})));M.startline&&S.push(R(F(0),{color:M.startlinecolor,width:M.startlinewidth})),M.endline&&S.push(R(F(A.length-1),{color:M.endlinecolor,width:M.endlinewidth}))}else{for(l=5e-15,n=[Math.floor((A[A.length-1]-M.tick0)/M.dtick*(1+l)),Math.ceil((A[0]-M.tick0)/M.dtick/(1+l))].sort(function(H,X){return H-X}),s=n[0],c=n[1],u=s;u<=c;u++)y=M.tick0+M.dtick*u,C.push(R(B(y),{color:M.gridcolor,width:M.gridwidth,dash:M.griddash}));for(u=s-1;u<c+1;u++)for(y=M.tick0+M.dtick*u,p=0;p<M.minorgridcount;p++)h=y+M.dtick*(p+1)/(M.minorgridcount+1),!(h<A[0]||h>A[A.length-1])&&m.push(R(B(h),{color:M.minorgridcolor,width:M.minorgridwidth,dash:M.minorgriddash}));M.startline&&S.push(R(B(A[0]),{color:M.startlinecolor,width:M.startlinewidth})),M.endline&&S.push(R(B(A[A.length-1]),{color:M.endlinecolor,width:M.endlinewidth}))}}},83311:function(G,V,e){var g=e(89298),R=e(1426).extendFlat;G.exports=function(L,T){var v,p,t,r,l,n=T._labels=[],s=T._gridlines;for(v=0;v<s.length;v++)l=s[v],["start","both"].indexOf(T.showticklabels)!==-1&&(p=g.tickText(T,l.value),R(p,{prefix:t,suffix:r,endAnchor:!0,xy:l.xy(0),dxy:l.dxy(0,0),axis:l.axis,length:l.crossAxis.length,font:l.axis.tickfont,isFirst:v===0,isLast:v===s.length-1}),n.push(p)),["end","both"].indexOf(T.showticklabels)!==-1&&(p=g.tickText(T,l.value),R(p,{endAnchor:!1,xy:l.xy(l.crossLength-1),dxy:l.dxy(l.crossLength-2,1),axis:l.axis,length:l.crossAxis.length,font:l.axis.tickfont,isFirst:v===0,isLast:v===s.length-1}),n.push(p))}},42048:function(G){var V=.5;G.exports=function(g,R,i,L){var T=g[0]-R[0],v=g[1]-R[1],p=i[0]-R[0],t=i[1]-R[1],r=Math.pow(T*T+v*v,V/2),l=Math.pow(p*p+t*t,V/2),n=(l*l*T-r*r*p)*L,s=(l*l*v-r*r*t)*L,c=l*(r+l)*3,u=r*(r+l)*3;return[[R[0]+(c&&n/c),R[1]+(c&&s/c)],[R[0]-(u&&n/u),R[1]-(u&&s/u)]]}},53824:function(G,V,e){var g=e(71828).isArrayOrTypedArray;G.exports=function(R,i,L){var T,v,p,t,r,l,n=[],s=g(R)?R.length:R,c=g(i)?i.length:i,u=g(R)?R:null,y=g(i)?i:null;u&&(p=(u.length-1)/(u[u.length-1]-u[0])/(s-1)),y&&(t=(y.length-1)/(y[y.length-1]-y[0])/(c-1));var h,b=1/0,f=-1/0;for(v=0;v<c;v++)for(n[v]=[],l=y?(y[v]-y[0])*t:v/(c-1),T=0;T<s;T++)r=u?(u[T]-u[0])*p:T/(s-1),h=r-l*L,b=Math.min(h,b),f=Math.max(h,f),n[v][T]=h;var o=1/(f-b),d=-b*o;for(v=0;v<c;v++)for(T=0;T<s;T++)n[v][T]=o*n[v][T]+d;return n}},45664:function(G,V,e){var g=e(42048),R=e(71828).ensureArray;function i(L,T,v){var p=-.5*v[0]+1.5*T[0],t=-.5*v[1]+1.5*T[1];return[(2*p+L[0])/3,(2*t+L[1])/3]}G.exports=function(T,v,p,t,r,l){var n,s,c,u,y,h,b,f,o,d,A=p[0].length,M=p.length,C=r?3*A-2:A,m=l?3*M-2:M;for(T=R(T,m),v=R(v,m),c=0;c<m;c++)T[c]=R(T[c],C),v[c]=R(v[c],C);for(s=0,u=0;s<M;s++,u+=l?3:1)for(y=T[u],h=v[u],b=p[s],f=t[s],n=0,c=0;n<A;n++,c+=r?3:1)y[c]=b[n],h[c]=f[n];if(r)for(s=0,u=0;s<M;s++,u+=l?3:1){for(n=1,c=3;n<A-1;n++,c+=3)o=g([p[s][n-1],t[s][n-1]],[p[s][n],t[s][n]],[p[s][n+1],t[s][n+1]],r),T[u][c-1]=o[0][0],v[u][c-1]=o[0][1],T[u][c+1]=o[1][0],v[u][c+1]=o[1][1];d=i([T[u][0],v[u][0]],[T[u][2],v[u][2]],[T[u][3],v[u][3]]),T[u][1]=d[0],v[u][1]=d[1],d=i([T[u][C-1],v[u][C-1]],[T[u][C-3],v[u][C-3]],[T[u][C-4],v[u][C-4]]),T[u][C-2]=d[0],v[u][C-2]=d[1]}if(l)for(c=0;c<C;c++){for(u=3;u<m-3;u+=3)o=g([T[u-3][c],v[u-3][c]],[T[u][c],v[u][c]],[T[u+3][c],v[u+3][c]],l),T[u-1][c]=o[0][0],v[u-1][c]=o[0][1],T[u+1][c]=o[1][0],v[u+1][c]=o[1][1];d=i([T[0][c],v[0][c]],[T[2][c],v[2][c]],[T[3][c],v[3][c]]),T[1][c]=d[0],v[1][c]=d[1],d=i([T[m-1][c],v[m-1][c]],[T[m-3][c],v[m-3][c]],[T[m-4][c],v[m-4][c]]),T[m-2][c]=d[0],v[m-2][c]=d[1]}if(r&&l)for(u=1;u<m;u+=(u+1)%3===0?2:1){for(c=3;c<C-3;c+=3)o=g([T[u][c-3],v[u][c-3]],[T[u][c],v[u][c]],[T[u][c+3],v[u][c+3]],r),T[u][c-1]=.5*(T[u][c-1]+o[0][0]),v[u][c-1]=.5*(v[u][c-1]+o[0][1]),T[u][c+1]=.5*(T[u][c+1]+o[1][0]),v[u][c+1]=.5*(v[u][c+1]+o[1][1]);d=i([T[u][0],v[u][0]],[T[u][2],v[u][2]],[T[u][3],v[u][3]]),T[u][1]=.5*(T[u][1]+d[0]),v[u][1]=.5*(v[u][1]+d[1]),d=i([T[u][C-1],v[u][C-1]],[T[u][C-3],v[u][C-3]],[T[u][C-4],v[u][C-4]]),T[u][C-2]=.5*(T[u][C-2]+d[0]),v[u][C-2]=.5*(v[u][C-2]+d[1])}return[T,v]}},35509:function(G){G.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(G){G.exports=function(V,e,g){return e&&g?function(R,i,L,T,v){R||(R=[]);var p,t,r,l,n,s;i*=3,L*=3;var c=T*T,u=1-T,y=u*u,h=u*T*2,b=-3*y,f=3*(y-h),o=3*(h-c),d=3*c,A=v*v,M=A*v,C=1-v,m=C*C,S=m*C;for(s=0;s<V.length;s++)n=V[s],p=b*n[L][i]+f*n[L][i+1]+o*n[L][i+2]+d*n[L][i+3],t=b*n[L+1][i]+f*n[L+1][i+1]+o*n[L+1][i+2]+d*n[L+1][i+3],r=b*n[L+2][i]+f*n[L+2][i+1]+o*n[L+2][i+2]+d*n[L+2][i+3],l=b*n[L+3][i]+f*n[L+3][i+1]+o*n[L+3][i+2]+d*n[L+3][i+3],R[s]=S*p+3*(m*v*t+C*A*r)+M*l;return R}:e?function(R,i,L,T,v){R||(R=[]);var p,t,r,l;i*=3;var n=T*T,s=1-T,c=s*s,u=s*T*2,y=-3*c,h=3*(c-u),b=3*(u-n),f=3*n,o=1-v;for(r=0;r<V.length;r++)l=V[r],p=y*l[L][i]+h*l[L][i+1]+b*l[L][i+2]+f*l[L][i+3],t=y*l[L+1][i]+h*l[L+1][i+1]+b*l[L+1][i+2]+f*l[L+1][i+3],R[r]=o*p+v*t;return R}:g?function(R,i,L,T,v){R||(R=[]);var p,t,r,l,n,s;L*=3;var c=v*v,u=c*v,y=1-v,h=y*y,b=h*y;for(n=0;n<V.length;n++)s=V[n],p=s[L][i+1]-s[L][i],t=s[L+1][i+1]-s[L+1][i],r=s[L+2][i+1]-s[L+2][i],l=s[L+3][i+1]-s[L+3][i],R[n]=b*p+3*(h*v*t+y*c*r)+u*l;return R}:function(R,i,L,T,v){R||(R=[]);var p,t,r,l,n=1-v;for(r=0;r<V.length;r++)l=V[r],p=l[L][i+1]-l[L][i],t=l[L+1][i+1]-l[L+1][i],R[r]=n*p+v*t;return R}}},73057:function(G){G.exports=function(V,e,g){return e&&g?function(R,i,L,T,v){R||(R=[]);var p,t,r,l,n,s;i*=3,L*=3;var c=T*T,u=c*T,y=1-T,h=y*y,b=h*y,f=v*v,o=1-v,d=o*o,A=o*v*2,M=-3*d,C=3*(d-A),m=3*(A-f),S=3*f;for(s=0;s<V.length;s++)n=V[s],p=M*n[L][i]+C*n[L+1][i]+m*n[L+2][i]+S*n[L+3][i],t=M*n[L][i+1]+C*n[L+1][i+1]+m*n[L+2][i+1]+S*n[L+3][i+1],r=M*n[L][i+2]+C*n[L+1][i+2]+m*n[L+2][i+2]+S*n[L+3][i+2],l=M*n[L][i+3]+C*n[L+1][i+3]+m*n[L+2][i+3]+S*n[L+3][i+3],R[s]=b*p+3*(h*T*t+y*c*r)+u*l;return R}:e?function(R,i,L,T,v){R||(R=[]);var p,t,r,l,n,s;i*=3;var c=v*v,u=c*v,y=1-v,h=y*y,b=h*y;for(n=0;n<V.length;n++)s=V[n],p=s[L+1][i]-s[L][i],t=s[L+1][i+1]-s[L][i+1],r=s[L+1][i+2]-s[L][i+2],l=s[L+1][i+3]-s[L][i+3],R[n]=b*p+3*(h*v*t+y*c*r)+u*l;return R}:g?function(R,i,L,T,v){R||(R=[]);var p,t,r,l;L*=3;var n=1-T,s=v*v,c=1-v,u=c*c,y=c*v*2,h=-3*u,b=3*(u-y),f=3*(y-s),o=3*s;for(r=0;r<V.length;r++)l=V[r],p=h*l[L][i]+b*l[L+1][i]+f*l[L+2][i]+o*l[L+3][i],t=h*l[L][i+1]+b*l[L+1][i+1]+f*l[L+2][i+1]+o*l[L+3][i+1],R[r]=n*p+T*t;return R}:function(R,i,L,T,v){R||(R=[]);var p,t,r,l,n=1-T;for(r=0;r<V.length;r++)l=V[r],p=l[L+1][i]-l[L][i],t=l[L+1][i+1]-l[L][i+1],R[r]=n*p+T*t;return R}}},20349:function(G){G.exports=function(V,e,g,R,i){var L=e-2,T=g-2;return R&&i?function(v,p,t){v||(v=[]);var r,l,n,s,c,u,y=Math.max(0,Math.min(Math.floor(p),L)),h=Math.max(0,Math.min(Math.floor(t),T)),b=Math.max(0,Math.min(1,p-y)),f=Math.max(0,Math.min(1,t-h));y*=3,h*=3;var o=b*b,d=o*b,A=1-b,M=A*A,C=M*A,m=f*f,S=m*f,x=1-f,a=x*x,E=a*x;for(u=0;u<V.length;u++)c=V[u],r=C*c[h][y]+3*(M*b*c[h][y+1]+A*o*c[h][y+2])+d*c[h][y+3],l=C*c[h+1][y]+3*(M*b*c[h+1][y+1]+A*o*c[h+1][y+2])+d*c[h+1][y+3],n=C*c[h+2][y]+3*(M*b*c[h+2][y+1]+A*o*c[h+2][y+2])+d*c[h+2][y+3],s=C*c[h+3][y]+3*(M*b*c[h+3][y+1]+A*o*c[h+3][y+2])+d*c[h+3][y+3],v[u]=E*r+3*(a*f*l+x*m*n)+S*s;return v}:R?function(v,p,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(p),L)),l=Math.max(0,Math.min(Math.floor(t),T)),n=Math.max(0,Math.min(1,p-r)),s=Math.max(0,Math.min(1,t-l)),c,u,y,h,b,f;r*=3;var o=n*n,d=o*n,A=1-n,M=A*A,C=M*A,m=1-s;for(b=0;b<V.length;b++)f=V[b],c=m*f[l][r]+s*f[l+1][r],u=m*f[l][r+1]+s*f[l+1][r+1],y=m*f[l][r+2]+s*f[l+1][r+1],h=m*f[l][r+3]+s*f[l+1][r+1],v[b]=C*c+3*(M*n*u+A*o*y)+d*h;return v}:i?function(v,p,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(p),L)),l=Math.max(0,Math.min(Math.floor(t),T)),n=Math.max(0,Math.min(1,p-r)),s=Math.max(0,Math.min(1,t-l)),c,u,y,h,b,f;l*=3;var o=s*s,d=o*s,A=1-s,M=A*A,C=M*A,m=1-n;for(b=0;b<V.length;b++)f=V[b],c=m*f[l][r]+n*f[l][r+1],u=m*f[l+1][r]+n*f[l+1][r+1],y=m*f[l+2][r]+n*f[l+2][r+1],h=m*f[l+3][r]+n*f[l+3][r+1],v[b]=C*c+3*(M*s*u+A*o*y)+d*h;return v}:function(v,p,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(p),L)),l=Math.max(0,Math.min(Math.floor(t),T)),n=Math.max(0,Math.min(1,p-r)),s=Math.max(0,Math.min(1,t-l)),c,u,y,h,b=1-s,f=1-n;for(y=0;y<V.length;y++)h=V[y],c=f*h[l][r]+n*h[l][r+1],u=f*h[l+1][r]+n*h[l+1][r+1],v[y]=b*c+s*u;return v}}},92087:function(G,V,e){var g=e(71828),R=e(19237),i=e(13145),L=e(99798),T=e(22399);G.exports=function(p,t,r,l){function n(u,y){return g.coerce(p,t,L,u,y)}t._clipPathId="clip"+t.uid+"carpet";var s=n("color",T.defaultLine);if(g.coerceFont(n,"font"),n("carpet"),i(p,t,l,n,s),!t.a||!t.b){t.visible=!1;return}t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0);var c=R(p,t,n);c||(t.visible=!1),t._cheater&&n("cheaterslope")}},21462:function(G,V,e){G.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(G){G.exports=function(V,e){for(var g=V._fullData.length,R,i=0;i<g;i++){var L=V._fullData[i];if(L.index!==e.index&&L.type==="carpet"&&(R||(R=L),L.carpet===e.carpet))return L}return R}},67961:function(G){G.exports=function(e,g,R){if(e.length===0)return"";var i,L=[],T=R?3:1;for(i=0;i<e.length;i+=T)L.push(e[i]+","+g[i]),R&&i<e.length-T&&(L.push("C"),L.push([e[i+1]+","+g[i+1],e[i+2]+","+g[i+2]+" "].join(" ")));return L.join(R?"":"L")}},27669:function(G,V,e){var g=e(71828).isArrayOrTypedArray;G.exports=function(i,L,T){var v;for(g(i)?i.length>L.length&&(i=i.slice(0,L.length)):i=[],v=0;v<L.length;v++)i[v]=T(L[v]);return i}},11651:function(G){G.exports=function(e,g,R,i,L,T){var v=L[0]*e.dpdx(g),p=L[1]*e.dpdy(R),t=1,r=1;if(T){var l=Math.sqrt(L[0]*L[0]+L[1]*L[1]),n=Math.sqrt(T[0]*T[0]+T[1]*T[1]),s=(L[0]*T[0]+L[1]*T[1])/l/n;r=Math.max(0,s)}var c=Math.atan2(p,v)*180/Math.PI;return c<-90?(c+=180,t=-t):c>90&&(c-=180,t=-t),{angle:c,flip:t,p:e.c2p(i,g,R),offsetMultplier:r}}},89740:function(G,V,e){var g=e(39898),R=e(91424),i=e(27669),L=e(67961),T=e(11651),v=e(63893),p=e(71828),t=p.strRotate,r=p.strTranslate,l=e(18783);G.exports=function(o,d,A,M){var C=o._context.staticPlot,m=d.xaxis,S=d.yaxis,x=o._fullLayout,a=x._clips;p.makeTraceGroups(M,A,"trace").each(function(E){var w=g.select(this),k=E[0],I=k.trace,U=I.aaxis,z=I.baxis,N=p.ensureSingle(w,"g","minorlayer"),B=p.ensureSingle(w,"g","majorlayer"),F=p.ensureSingle(w,"g","boundarylayer"),H=p.ensureSingle(w,"g","labellayer");w.style("opacity",I.opacity),s(m,S,B,U,"a",U._gridlines,!0),s(m,S,B,z,"b",z._gridlines,!0),s(m,S,N,U,"a",U._minorgridlines,!0),s(m,S,N,z,"b",z._minorgridlines,!0),s(m,S,F,U,"a-boundary",U._boundarylines,C),s(m,S,F,z,"b-boundary",z._boundarylines,C);var X=c(o,m,S,I,k,H,U._labels,"a-label"),q=c(o,m,S,I,k,H,z._labels,"b-label");u(o,H,I,k,m,S,X,q),n(I,k,a,m,S)})};function n(f,o,d,A,M){var C,m,S,x,a=d.select("#"+f._clipPathId);a.size()||(a=d.append("clipPath").classed("carpetclip",!0));var E=p.ensureSingle(a,"path","carpetboundary"),w=o.clipsegments,k=[];for(x=0;x<w.length;x++)C=w[x],m=i([],C.x,A.c2p),S=i([],C.y,M.c2p),k.push(L(m,S,C.bicubic));var I="M"+k.join("L")+"Z";a.attr("id",f._clipPathId),E.attr("d",I)}function s(f,o,d,A,M,C,m){var S="const-"+M+"-lines",x=d.selectAll("."+S).data(C);x.enter().append("path").classed(S,!0).style("vector-effect",m?"none":"non-scaling-stroke"),x.each(function(a){var E=a,w=E.x,k=E.y,I=i([],w,f.c2p),U=i([],k,o.c2p),z="M"+L(I,U,E.smoothing),N=g.select(this);N.attr("d",z).style("stroke-width",E.width).style("stroke",E.color).style("stroke-dasharray",R.dashStyle(E.dash,E.width)).style("fill","none")}),x.exit().remove()}function c(f,o,d,A,M,C,m,S){var x=C.selectAll("text."+S).data(m);x.enter().append("text").classed(S,!0);var a=0,E={};return x.each(function(w,k){var I;if(w.axis.tickangle==="auto")I=T(A,o,d,w.xy,w.dxy);else{var U=(w.axis.tickangle+180)*Math.PI/180;I=T(A,o,d,w.xy,[Math.cos(U),Math.sin(U)])}k||(E={angle:I.angle,flip:I.flip});var z=(w.endAnchor?-1:1)*I.flip,N=g.select(this).attr({"text-anchor":z>0?"start":"end","data-notex":1}).call(R.font,w.font).text(w.text).call(v.convertToTspans,f),B=R.bBox(this);N.attr("transform",r(I.p[0],I.p[1])+t(I.angle)+r(w.axis.labelpadding*z,B.height*.3)),a=Math.max(a,B.width+w.axis.labelpadding)}),x.exit().remove(),E.maxExtent=a,E}function u(f,o,d,A,M,C,m,S){var x,a,E,w,k=p.aggNums(Math.min,null,d.a),I=p.aggNums(Math.max,null,d.a),U=p.aggNums(Math.min,null,d.b),z=p.aggNums(Math.max,null,d.b);x=.5*(k+I),a=U,E=d.ab2xy(x,a,!0),w=d.dxyda_rough(x,a),m.angle===void 0&&p.extendFlat(m,T(d,M,C,E,d.dxydb_rough(x,a))),b(f,o,d,A,E,w,d.aaxis,M,C,m,"a-title"),x=k,a=.5*(U+z),E=d.ab2xy(x,a,!0),w=d.dxydb_rough(x,a),S.angle===void 0&&p.extendFlat(S,T(d,M,C,E,d.dxyda_rough(x,a))),b(f,o,d,A,E,w,d.baxis,M,C,S,"b-title")}var y=l.LINE_SPACING,h=(1-l.MID_SHIFT)/y+1;function b(f,o,d,A,M,C,m,S,x,a,E){var w=[];m.title.text&&w.push(m.title.text);var k=o.selectAll("text."+E).data(w),I=a.maxExtent;k.enter().append("text").classed(E,!0),k.each(function(){var U=T(d,S,x,M,C);["start","both"].indexOf(m.showticklabels)===-1&&(I=0);var z=m.title.font.size;I+=z+m.title.offset;var N=a.angle+(a.flip<0?180:0),B=(N-U.angle+450)%360,F=B>90&&B<270,H=g.select(this);H.text(m.title.text).call(v.convertToTspans,f),F&&(I=(-v.lineCount(H)+h)*y*z-I),H.attr("transform",r(U.p[0],U.p[1])+t(U.angle)+r(0,I)).attr("text-anchor","middle").call(R.font,m.title.font)}),k.exit().remove()}},11435:function(G,V,e){var g=e(35509),R=e(65888).findBin,i=e(45664),L=e(20349),T=e(54495),v=e(73057);G.exports=function(t){var r=t._a,l=t._b,n=r.length,s=l.length,c=t.aaxis,u=t.baxis,y=r[0],h=r[n-1],b=l[0],f=l[s-1],o=r[r.length-1]-r[0],d=l[l.length-1]-l[0],A=o*g.RELATIVE_CULL_TOLERANCE,M=d*g.RELATIVE_CULL_TOLERANCE;y-=A,h+=A,b-=M,f+=M,t.isVisible=function(C,m){return C>y&&C<h&&m>b&&m<f},t.isOccluded=function(C,m){return C<y||C>h||m<b||m>f},t.setScale=function(){var C=t._x,m=t._y,S=i(t._xctrl,t._yctrl,C,m,c.smoothing,u.smoothing);t._xctrl=S[0],t._yctrl=S[1],t.evalxy=L([t._xctrl,t._yctrl],n,s,c.smoothing,u.smoothing),t.dxydi=T([t._xctrl,t._yctrl],c.smoothing,u.smoothing),t.dxydj=v([t._xctrl,t._yctrl],c.smoothing,u.smoothing)},t.i2a=function(C){var m=Math.max(0,Math.floor(C[0]),n-2),S=C[0]-m;return(1-S)*r[m]+S*r[m+1]},t.j2b=function(C){var m=Math.max(0,Math.floor(C[1]),n-2),S=C[1]-m;return(1-S)*l[m]+S*l[m+1]},t.ij2ab=function(C){return[t.i2a(C[0]),t.j2b(C[1])]},t.a2i=function(C){var m=Math.max(0,Math.min(R(C,r),n-2)),S=r[m],x=r[m+1];return Math.max(0,Math.min(n-1,m+(C-S)/(x-S)))},t.b2j=function(C){var m=Math.max(0,Math.min(R(C,l),s-2)),S=l[m],x=l[m+1];return Math.max(0,Math.min(s-1,m+(C-S)/(x-S)))},t.ab2ij=function(C){return[t.a2i(C[0]),t.b2j(C[1])]},t.i2c=function(C,m){return t.evalxy([],C,m)},t.ab2xy=function(C,m,S){if(!S&&(C<r[0]||C>r[n-1]|m<l[0]||m>l[s-1]))return[!1,!1];var x=t.a2i(C),a=t.b2j(m),E=t.evalxy([],x,a);if(S){var w=0,k=0,I=[],U,z,N,B;C<r[0]?(U=0,z=0,w=(C-r[0])/(r[1]-r[0])):C>r[n-1]?(U=n-2,z=1,w=(C-r[n-1])/(r[n-1]-r[n-2])):(U=Math.max(0,Math.min(n-2,Math.floor(x))),z=x-U),m<l[0]?(N=0,B=0,k=(m-l[0])/(l[1]-l[0])):m>l[s-1]?(N=s-2,B=1,k=(m-l[s-1])/(l[s-1]-l[s-2])):(N=Math.max(0,Math.min(s-2,Math.floor(a))),B=a-N),w&&(t.dxydi(I,U,N,z,B),E[0]+=I[0]*w,E[1]+=I[1]*w),k&&(t.dxydj(I,U,N,z,B),E[0]+=I[0]*k,E[1]+=I[1]*k)}return E},t.c2p=function(C,m,S){return[m.c2p(C[0]),S.c2p(C[1])]},t.p2x=function(C,m,S){return[m.p2c(C[0]),S.p2c(C[1])]},t.dadi=function(C){var m=Math.max(0,Math.min(r.length-2,C));return r[m+1]-r[m]},t.dbdj=function(C){var m=Math.max(0,Math.min(l.length-2,C));return l[m+1]-l[m]},t.dxyda=function(C,m,S,x){var a=t.dxydi(null,C,m,S,x),E=t.dadi(C,S);return[a[0]/E,a[1]/E]},t.dxydb=function(C,m,S,x){var a=t.dxydj(null,C,m,S,x),E=t.dbdj(m,x);return[a[0]/E,a[1]/E]},t.dxyda_rough=function(C,m,S){var x=o*(S||.1),a=t.ab2xy(C+x,m,!0),E=t.ab2xy(C-x,m,!0);return[(a[0]-E[0])*.5/x,(a[1]-E[1])*.5/x]},t.dxydb_rough=function(C,m,S){var x=d*(S||.1),a=t.ab2xy(C,m+x,!0),E=t.ab2xy(C,m-x,!0);return[(a[0]-E[0])*.5/x,(a[1]-E[1])*.5/x]},t.dpdx=function(C){return C._m},t.dpdy=function(C){return C._m}}},72505:function(G,V,e){var g=e(71828);G.exports=function(i,L,T){var v,p,t,r=[],l=[],n=i[0].length,s=i.length;function c(q,ne){var oe=0,ve,J=0;return q>0&&(ve=i[ne][q-1])!==void 0&&(J++,oe+=ve),q<n-1&&(ve=i[ne][q+1])!==void 0&&(J++,oe+=ve),ne>0&&(ve=i[ne-1][q])!==void 0&&(J++,oe+=ve),ne<s-1&&(ve=i[ne+1][q])!==void 0&&(J++,oe+=ve),oe/Math.max(1,J)}var u=0;for(v=0;v<n;v++)for(p=0;p<s;p++)i[p][v]===void 0&&(r.push(v),l.push(p),i[p][v]=c(v,p)),u=Math.max(u,Math.abs(i[p][v]));if(!r.length)return i;var y,h,b,f,o,d,A,M,C,m,S,x=1e-5,a=0,E=100,w=0,k=r.length;do{for(a=0,t=0;t<k;t++){v=r[t],p=l[t];var I=0,U=0,z,N,B,F,H,X;v===0?(H=Math.min(n-1,2),B=L[H],F=L[1],z=i[p][H],N=i[p][1],U+=N+(N-z)*(L[0]-F)/(F-B),I++):v===n-1&&(H=Math.max(0,n-3),B=L[H],F=L[n-2],z=i[p][H],N=i[p][n-2],U+=N+(N-z)*(L[n-1]-F)/(F-B),I++),(v===0||v===n-1)&&p>0&&p<s-1&&(y=T[p+1]-T[p],h=T[p]-T[p-1],U+=(h*i[p+1][v]+y*i[p-1][v])/(h+y),I++),p===0?(X=Math.min(s-1,2),B=T[X],F=T[1],z=i[X][v],N=i[1][v],U+=N+(N-z)*(T[0]-F)/(F-B),I++):p===s-1&&(X=Math.max(0,s-3),B=T[X],F=T[s-2],z=i[X][v],N=i[s-2][v],U+=N+(N-z)*(T[s-1]-F)/(F-B),I++),(p===0||p===s-1)&&v>0&&v<n-1&&(y=L[v+1]-L[v],h=L[v]-L[v-1],U+=(h*i[p][v+1]+y*i[p][v-1])/(h+y),I++),I?U/=I:(b=L[v+1]-L[v],f=L[v]-L[v-1],o=T[p+1]-T[p],d=T[p]-T[p-1],A=b*f*(b+f),M=o*d*(o+d),U=(A*(d*i[p+1][v]+o*i[p-1][v])+M*(f*i[p][v+1]+b*i[p][v-1]))/(M*(f+b)+A*(d+o))),C=U-i[p][v],m=C/u,a+=m*m,S=I?0:.85,i[p][v]+=C*(1+S)}a=Math.sqrt(a)}while(w++<E&&a>x);return g.log("Smoother converged to",a,"after",w,"iterations"),i}},19237:function(G,V,e){var g=e(71828).isArray1D;G.exports=function(i,L,T){var v=T("x"),p=v&&v.length,t=T("y"),r=t&&t.length;if(!p&&!r)return!1;if(L._cheater=!v,(!p||g(v))&&(!r||g(t))){var l=p?v.length:1/0;r&&(l=Math.min(l,t.length)),L.a&&L.a.length&&(l=Math.min(l,L.a.length)),L.b&&L.b.length&&(l=Math.min(l,L.b.length)),L._length=l}else L._length=null;return!0}},69568:function(G,V,e){var g=e(5386).fF,R=e(19316),i=e(50693),L=e(9012),T=e(22399).defaultLine,v=e(1426).extendFlat,p=R.marker.line;G.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:R.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},R.geojson,{}),featureidkey:R.featureidkey,text:v({},R.text,{}),hovertext:v({},R.hovertext,{}),marker:{line:{color:v({},p.color,{dflt:T}),width:v({},p.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:R.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:R.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},L.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:g(),showlegend:v({},L.showlegend,{dflt:!1})},i("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(G,V,e){var g=e(92770),R=e(50606).BADNUM,i=e(78803),L=e(75225),T=e(66279);function v(p){return p&&typeof p=="string"}G.exports=function(t,r){var l=r._length,n=new Array(l),s;r.geojson?s=function(b){return v(b)||g(b)}:s=v;for(var c=0;c<l;c++){var u=n[c]={},y=r.locations[c],h=r.z[c];s(y)&&g(h)?(u.loc=y,u.z=h):(u.loc=null,u.z=R),u.index=c}return L(n,r),i(t,r,{vals:r.z,containerStr:"",cLetter:"z"}),T(n,r),n}},61869:function(G,V,e){var g=e(71828),R=e(1586),i=e(69568);G.exports=function(T,v,p,t){function r(h,b){return g.coerce(T,v,i,h,b)}var l=r("locations"),n=r("z");if(!(l&&l.length&&g.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(l.length,n.length);var s=r("geojson"),c;(typeof s=="string"&&s!==""||g.isPlainObject(s))&&(c="geojson-id");var u=r("locationmode",c);u==="geojson-id"&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate");var y=r("marker.line.width");y&&r("marker.line.color"),r("marker.opacity"),R(T,v,t,r,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,r)}},92069:function(G){G.exports=function(e,g,R,i,L){e.location=g.location,e.z=g.z;var T=i[L];return T.fIn&&T.fIn.properties&&(e.properties=T.fIn.properties),e.ct=T.ct,e}},42300:function(G,V,e){var g=e(89298),R=e(69568),i=e(71828).fillText;G.exports=function(v,p,t){var r=v.cd,l=r[0].trace,n=v.subplot,s,c,u,y,h=[p,t],b=[p+360,t];for(c=0;c<r.length;c++)if(s=r[c],y=!1,s._polygons){for(u=0;u<s._polygons.length;u++)s._polygons[u].contains(h)&&(y=!y),s._polygons[u].contains(b)&&(y=!y);if(y)break}if(!(!y||!s))return v.x0=v.x1=v.xa.c2p(s.ct),v.y0=v.y1=v.ya.c2p(s.ct),v.index=s.index,v.location=s.loc,v.z=s.z,v.zLabel=g.tickText(n.mockAxis,n.mockAxis.c2l(s.z),"hover").text,v.hovertemplate=s.hovertemplate,L(v,l,s),[v]};function L(T,v,p){if(!v.hovertemplate){var t=p.hi||v.hoverinfo,r=String(p.loc),l=t==="all"?R.hoverinfo.flags:t.split("+"),n=l.indexOf("name")!==-1,s=l.indexOf("location")!==-1,c=l.indexOf("z")!==-1,u=l.indexOf("text")!==-1,y=!n&&s,h=[];y?T.nameOverride=r:(n&&(T.nameOverride=v.name),s&&h.push(r)),c&&h.push(T.zLabel),u&&i(p,v,h),T.extraText=h.join("<br>")}}},51319:function(G,V,e){G.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(G,V,e){var g=e(39898),R=e(71828),i=e(41327),L=e(90973).getTopojsonFeatures,T=e(71739).findExtremes,v=e(99636).style;function p(r,l,n){var s=l.layers.backplot.select(".choroplethlayer");R.makeTraceGroups(s,n,"trace choropleth").each(function(c){var u=g.select(this),y=u.selectAll("path.choroplethlocation").data(R.identity);y.enter().append("path").classed("choroplethlocation",!0),y.exit().remove(),v(r,c)})}function t(r,l){for(var n=r[0].trace,s=l[n.geo],c=s._subplot,u=n.locationmode,y=n._length,h=u==="geojson-id"?i.extractTraceFeature(r):L(n,c.topojson),b=[],f=[],o=0;o<y;o++){var d=r[o],A=u==="geojson-id"?d.fOut:i.locationToFeature(u,d.loc,h);if(A){d.geojson=A,d.ct=A.properties.ct,d._polygons=i.feature2polygons(A);var M=i.computeBbox(A);b.push(M[0],M[2]),f.push(M[1],M[3])}else d.geojson=null}if(s.fitbounds==="geojson"&&u==="geojson-id"){var C=i.computeBbox(i.getTraceGeojson(n));b=[C[0],C[2]],f=[C[1],C[3]]}var m={padded:!0};n._extremes.lon=T(s.lonaxis._ax,b,m),n._extremes.lat=T(s.lataxis._ax,f,m)}G.exports={calcGeoJSON:t,plot:p}},81253:function(G){G.exports=function(e,g){var R=e.cd,i=e.xaxis,L=e.yaxis,T=[],v,p,t,r,l;if(g===!1)for(v=0;v<R.length;v++)R[v].selected=0;else for(v=0;v<R.length;v++)p=R[v],t=p.ct,t&&(r=i.c2p(t),l=L.c2p(t),g.contains([r,l],null,v,e)?(T.push({pointNumber:v,lon:t[0],lat:t[1]}),p.selected=1):p.selected=0);return T}},99636:function(G,V,e){var g=e(39898),R=e(7901),i=e(91424),L=e(21081);function T(t,r){r&&v(t,r)}function v(t,r){var l=r[0].trace,n=r[0].node3,s=n.selectAll(".choroplethlocation"),c=l.marker||{},u=c.line||{},y=L.makeColorScaleFuncFromTrace(l);s.each(function(h){g.select(this).attr("fill",y(h.z)).call(R.stroke,h.mlc||u.color).call(i.dashLine,"",h.mlw||u.width||0).style("opacity",c.opacity)}),i.selectedPointStyle(s,l)}function p(t,r){var l=r[0].node3,n=r[0].trace;n.selectedpoints?i.selectedPointStyle(l.selectAll(".choroplethlocation"),n):v(t,r)}G.exports={style:T,styleOnSelect:p}},64496:function(G,V,e){var g=e(69568),R=e(50693),i=e(5386).fF,L=e(9012),T=e(1426).extendFlat;G.exports=T({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:T({},g.featureidkey,{}),below:{valType:"string",editType:"plot"},text:g.text,hovertext:g.hovertext,marker:{line:{color:T({},g.marker.line.color,{editType:"plot"}),width:T({},g.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:T({},g.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:T({},g.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:T({},g.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:g.hoverinfo,hovertemplate:i({},{keys:["properties"]}),showlegend:T({},L.showlegend,{dflt:!1})},R("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(G,V,e){var g=e(92770),R=e(71828),i=e(21081),L=e(91424),T=e(18214).makeBlank,v=e(41327);function p(r){var l=r[0].trace,n=l.visible===!0&&l._length!==0,s={layout:{visibility:"none"},paint:{}},c={layout:{visibility:"none"},paint:{}},u=l._opts={fill:s,line:c,geojson:T()};if(!n)return u;var y=v.extractTraceFeature(r);if(!y)return u;var h=i.makeColorScaleFuncFromTrace(l),b=l.marker,f=b.line||{},o;R.isArrayOrTypedArray(b.opacity)&&(o=function(a){var E=a.mo;return g(E)?+R.constrain(E,0,1):0});var d;R.isArrayOrTypedArray(f.color)&&(d=function(a){return a.mlc});var A;R.isArrayOrTypedArray(f.width)&&(A=function(a){return a.mlw});for(var M=0;M<r.length;M++){var C=r[M],m=C.fOut;if(m){var S=m.properties;S.fc=h(C.z),o&&(S.mo=o(C)),d&&(S.mlc=d(C)),A&&(S.mlw=A(C)),C.ct=S.ct,C._polygons=v.feature2polygons(m)}}var x=o?{type:"identity",property:"mo"}:b.opacity;return R.extendFlat(s.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":x}),R.extendFlat(c.paint,{"line-color":d?{type:"identity",property:"mlc"}:f.color,"line-width":A?{type:"identity",property:"mlw"}:f.width,"line-opacity":x}),s.layout.visibility="visible",c.layout.visibility="visible",u.geojson={type:"FeatureCollection",features:y},t(r),u}function t(r){var l=r[0].trace,n=l._opts,s;if(l.selectedpoints){for(var c=L.makeSelectedPointStyleFns(l),u=0;u<r.length;u++){var y=r[u];y.fOut&&(y.fOut.properties.mo2=c.selectedOpacityFn(y))}s={type:"identity",property:"mo2"}}else s=R.isArrayOrTypedArray(l.marker.opacity)?{type:"identity",property:"mo"}:l.marker.opacity;return R.extendFlat(n.fill.paint,{"fill-opacity":s}),R.extendFlat(n.line.paint,{"line-opacity":s}),n}G.exports={convert:p,convertOnSelect:t}},22654:function(G,V,e){var g=e(71828),R=e(1586),i=e(64496);G.exports=function(T,v,p,t){function r(u,y){return g.coerce(T,v,i,u,y)}var l=r("locations"),n=r("z"),s=r("geojson");if(!g.isArrayOrTypedArray(l)||!l.length||!g.isArrayOrTypedArray(n)||!n.length||!(typeof s=="string"&&s!==""||g.isPlainObject(s))){v.visible=!1;return}r("featureidkey"),v._length=Math.min(l.length,n.length),r("below"),r("text"),r("hovertext"),r("hovertemplate");var c=r("marker.line.width");c&&r("marker.line.color"),r("marker.opacity"),R(T,v,t,r,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,r)}},57516:function(G,V,e){G.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(g,R){if(R){var i=R[0].trace;i._glTrace.updateOnSelect(R)}},getBelow:function(g,R){for(var i=R.getMapLayers(),L=i.length-2;L>=0;L--){var T=i[L].id;if(typeof T=="string"&&T.indexOf("water")===0){for(var v=L+1;v<i.length;v++)if(T=i[v].id,typeof T=="string"&&T.indexOf("plotly-")===-1)return T}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(G,V,e){var g=e(82004).convert,R=e(82004).convertOnSelect,i=e(77734).traceLayerPrefix;function L(v,p){this.type="choroplethmapbox",this.subplot=v,this.uid=p,this.sourceId="source-"+p,this.layerList=[["fill",i+p+"-fill"],["line",i+p+"-line"]],this.below=null}var T=L.prototype;T.update=function(v){this._update(g(v)),v[0].trace._glTrace=this},T.updateOnSelect=function(v){this._update(R(v))},T._update=function(v){var p=this.subplot,t=this.layerList,r=p.belowLookup["trace-"+this.uid];p.map.getSource(this.sourceId).setData(v.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(v,r),this.below=r);for(var l=0;l<t.length;l++){var n=t[l],s=n[0],c=n[1],u=v[s];p.setOptions(c,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&p.setOptions(c,"setPaintProperty",u.paint)}},T._addLayers=function(v,p){for(var t=this.subplot,r=this.layerList,l=this.sourceId,n=0;n<r.length;n++){var s=r[n],c=s[0],u=v[c];t.addLayer({type:c,id:s[1],source:l,layout:u.layout,paint:u.paint},p)}},T._removeLayers=function(){for(var v=this.subplot.map,p=this.layerList,t=p.length-1;t>=0;t--)v.removeLayer(p[t][1])},T.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},G.exports=function(p,t){var r=t[0].trace,l=new L(p,r.uid),n=l.sourceId,s=g(t),c=l.below=p.belowLookup["trace-"+r.uid];return p.map.addSource(n,{type:"geojson",data:s.geojson}),l._addLayers(s,c),t[0].trace._glTrace=l,l}},12674:function(G,V,e){var g=e(50693),R=e(12663).axisHoverFormat,i=e(5386).fF,L=e(2418),T=e(9012),v=e(1426).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["norm"]}),uhoverformat:R("u",1),vhoverformat:R("v",1),whoverformat:R("w",1),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),showlegend:v({},T.showlegend,{dflt:!1})};v(p,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){p[r]=L[r]}),p.hoverinfo=v({},T.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},31371:function(G,V,e){var g=e(78803);G.exports=function(i,L){for(var T=L.u,v=L.v,p=L.w,t=Math.min(L.x.length,L.y.length,L.z.length,T.length,v.length,p.length),r=-1/0,l=1/0,n=0;n<t;n++){var s=T[n],c=v[n],u=p[n],y=Math.sqrt(s*s+c*c+u*u);r=Math.max(r,y),l=Math.min(l,y)}L._len=t,L._normMax=r,g(i,L,{vals:[l,r],containerStr:"",cLetter:"c"})}},5453:function(G,V,e){var g=e(9330).gl_cone3d,R=e(9330).gl_cone3d.createConeMesh,i=e(71828).simpleMap,L=e(81697).parseColorScale,T=e(21081).extractOpts,v=e(90060);function p(u,y){this.scene=u,this.uid=y,this.mesh=null,this.data=null}var t=p.prototype;t.handlePick=function(u){if(u.object===this.mesh){var y=u.index=u.data.index,h=this.data.x[y],b=this.data.y[y],f=this.data.z[y],o=this.data.u[y],d=this.data.v[y],A=this.data.w[y];u.traceCoordinate=[h,b,f,o,d,A,Math.sqrt(o*o+d*d+A*A)];var M=this.data.hovertext||this.data.text;return Array.isArray(M)&&M[y]!==void 0?u.textLabel=M[y]:M&&(u.textLabel=M),!0}};var r={xaxis:0,yaxis:1,zaxis:2},l={tip:1,tail:0,cm:.25,center:.5},n={tip:1,tail:1,cm:.75,center:.5};function s(u,y){var h=u.fullSceneLayout,b=u.dataScale,f={};function o(C,m){var S=h[m],x=b[r[m]];return i(C,function(a){return S.d2l(a)*x})}f.vectors=v(o(y.u,"xaxis"),o(y.v,"yaxis"),o(y.w,"zaxis"),y._len),f.positions=v(o(y.x,"xaxis"),o(y.y,"yaxis"),o(y.z,"zaxis"),y._len);var d=T(y);f.colormap=L(y),f.vertexIntensityBounds=[d.min/y._normMax,d.max/y._normMax],f.coneOffset=l[y.anchor],y.sizemode==="scaled"?f.coneSize=y.sizeref||.5:f.coneSize=y.sizeref&&y._normMax?y.sizeref/y._normMax:.5;var A=g(f),M=y.lightposition;return A.lightPosition=[M.x,M.y,M.z],A.ambient=y.lighting.ambient,A.diffuse=y.lighting.diffuse,A.specular=y.lighting.specular,A.roughness=y.lighting.roughness,A.fresnel=y.lighting.fresnel,A.opacity=y.opacity,y._pad=n[y.anchor]*A.vectorScale*A.coneScale*y._normMax,A}t.update=function(u){this.data=u;var y=s(this.scene,u);this.mesh.update(y)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(u,y){var h=u.glplot.gl,b=s(u,y),f=R(h,b),o=new p(u,y.uid);return o.mesh=f,o.data=y,f._trace=o,u.glplot.add(f),o}G.exports=c},91750:function(G,V,e){var g=e(71828),R=e(1586),i=e(12674);G.exports=function(T,v,p,t){function r(h,b){return g.coerce(T,v,i,h,b)}var l=r("u"),n=r("v"),s=r("w"),c=r("x"),u=r("y"),y=r("z");if(!l||!l.length||!n||!n.length||!s||!s.length||!c||!c.length||!u||!u.length||!y||!y.length){v.visible=!1;return}r("sizeref"),r("sizemode"),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),R(T,v,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),v._length=null}},98128:function(G,V,e){G.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(g,R){return g.norm=R.traceCoordinate[6],g},meta:{}}},70600:function(G,V,e){var g=e(21606),R=e(82196),i=e(12663),L=i.axisHoverFormat,T=i.descriptionOnlyNumbers,v=e(50693),p=e(79952).P,t=e(41940),r=e(1426).extendFlat,l=e(74808),n=l.COMPARISON_OPS2,s=l.INTERVAL_OPS,c=R.line;G.exports=r({z:g.z,x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:R.xperiod0,yperiod0:R.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,text:g.text,hovertext:g.hovertext,transpose:g.transpose,xtype:g.xtype,ytype:g.ytype,xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:g.hovertemplate,texttemplate:r({},g.texttemplate,{}),textfont:r({},g.textfont,{}),hoverongaps:g.hoverongaps,connectgaps:r({},g.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:T("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(s),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:r({},c.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:p,smoothing:r({},c.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(G,V,e){var g=e(21081),R=e(90757),i=e(18670),L=e(53572);G.exports=function(v,p){var t=R(v,p),r=t[0].z;i(p,r);var l=p.contours,n=g.extractOpts(p),s;if(l.coloring==="heatmap"&&n.auto&&p.autocontour===!1){var c=l.start,u=L(l),y=l.size||1,h=Math.floor((u-c)/y)+1;isFinite(y)||(y=1,h=1);var b=c-y/2,f=b+h*y;s=[b,f]}else s=r;return g.calc(v,p,{vals:s,cLetter:"z"}),t}},20083:function(G){G.exports=function(V,e){var g=V[0],R=g.z,i;switch(e.type){case"levels":var L=Math.min(R[0][0],R[0][1]);for(i=0;i<V.length;i++){var T=V[i];T.prefixBoundary=!T.edgepaths.length&&(L>T.level||T.starts.length&&L===T.level)}break;case"constraint":if(g.prefixBoundary=!1,g.edgepaths.length)return;var v=g.x.length,p=g.y.length,t=-1/0,r=1/0;for(i=0;i<p;i++)r=Math.min(r,R[i][0]),r=Math.min(r,R[i][v-1]),t=Math.max(t,R[i][0]),t=Math.max(t,R[i][v-1]);for(i=1;i<v-1;i++)r=Math.min(r,R[0][i]),r=Math.min(r,R[p-1][i]),t=Math.max(t,R[0][i]),t=Math.max(t,R[p-1][i]);var l=e.value,n,s;switch(e._operation){case">":l>t&&(g.prefixBoundary=!0);break;case"<":(l<r||g.starts.length&&l===r)&&(g.prefixBoundary=!0);break;case"[]":n=Math.min(l[0],l[1]),s=Math.max(l[0],l[1]),(s<r||n>t||g.starts.length&&s===r)&&(g.prefixBoundary=!0);break;case"][":n=Math.min(l[0],l[1]),s=Math.max(l[0],l[1]),n<r&&s>t&&(g.prefixBoundary=!0);break}break}}},90654:function(G,V,e){var g=e(21081),R=e(86068),i=e(53572);function L(T,v,p){var t=v.contours,r=v.line,l=t.size||1,n=t.coloring,s=R(v,{isColorbar:!0});if(n==="heatmap"){var c=g.extractOpts(v);p._fillgradient=c.reversescale?g.flipScale(c.colorscale):c.colorscale,p._zrange=[c.min,c.max]}else n==="fill"&&(p._fillcolor=s);p._line={color:n==="lines"?s:r.color,width:t.showlines!==!1?r.width:0,dash:r.dash},p._levels={start:t.start,end:i(t),size:l}}G.exports={min:"zmin",max:"zmax",calc:L}},36914:function(G){G.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(G,V,e){var g=e(92770),R=e(14523),i=e(7901),L=i.addOpacity,T=i.opacity,v=e(74808),p=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;G.exports=function(n,s,c,u,y,h){var b=s.contours,f,o,d,A=c("contours.operation");if(b._operation=p[A],r(c,b),A==="="?f=b.showlines=!0:(f=c("contours.showlines"),d=c("fillcolor",L((n.line||{}).color||y,.5))),f){var M=d&&T(d)?L(s.fillcolor,1):y;o=c("line.color",M),c("line.width",2),c("line.dash")}c("line.smoothing"),R(c,u,o,h)};function r(l,n){var s;t.indexOf(n.operation)===-1?(l("contours.value",[0,1]),Array.isArray(n.value)?n.value.length>2?n.value=n.value.slice(2):n.length===0?n.value=[0,1]:n.length<2?(s=parseFloat(n.value[0]),n.value=[s,s+1]):n.value=[parseFloat(n.value[0]),parseFloat(n.value[1])]:g(n.value)&&(s=parseFloat(n.value),n.value=[s,s+1])):(l("contours.value",0),g(n.value)||(Array.isArray(n.value)?n.value=parseFloat(n.value[0]):n.value=0))}},64237:function(G,V,e){var g=e(74808),R=e(92770);G.exports={"[]":L("[]"),"][":L("]["),">":T(">"),"<":T("<"),"=":T("=")};function i(v,p){var t=Array.isArray(p),r;function l(n){return R(n)?+n:null}return g.COMPARISON_OPS2.indexOf(v)!==-1?r=l(t?p[0]:p):g.INTERVAL_OPS.indexOf(v)!==-1?r=t?[l(p[0]),l(p[1])]:[l(p),l(p)]:g.SET_OPS.indexOf(v)!==-1&&(r=t?p.map(l):[l(p)]),r}function L(v){return function(p){p=i(v,p);var t=Math.min(p[0],p[1]),r=Math.max(p[0],p[1]);return{start:t,end:r,size:r-t}}}function T(v){return function(p){return p=i(v,p),{start:p,end:1/0,size:1/0}}}},67217:function(G){G.exports=function(e,g,R,i){var L=i("contours.start"),T=i("contours.end"),v=L===!1||T===!1,p=R("contours.size"),t;v?t=g.autocontour=!0:t=R("autocontour",!1),(t||!p)&&R("ncontours")}},84857:function(G,V,e){var g=e(71828);G.exports=function(i,L){var T,v,p,t=function(n){return n.reverse()},r=function(n){return n};switch(L){case"=":case"<":return i;case">":for(i.length!==1&&g.warn("Contour data invalid for the specified inequality operation."),v=i[0],T=0;T<v.edgepaths.length;T++)v.edgepaths[T]=t(v.edgepaths[T]);for(T=0;T<v.paths.length;T++)v.paths[T]=t(v.paths[T]);for(T=0;T<v.starts.length;T++)v.starts[T]=t(v.starts[T]);return i;case"][":var l=t;t=r,r=l;case"[]":for(i.length!==2&&g.warn("Contour data invalid for the specified inequality range operation."),v=R(i[0]),p=R(i[1]),T=0;T<v.edgepaths.length;T++)v.edgepaths[T]=t(v.edgepaths[T]);for(T=0;T<v.paths.length;T++)v.paths[T]=t(v.paths[T]);for(T=0;T<v.starts.length;T++)v.starts[T]=t(v.starts[T]);for(;p.edgepaths.length;)v.edgepaths.push(r(p.edgepaths.shift()));for(;p.paths.length;)v.paths.push(r(p.paths.shift()));for(;p.starts.length;)v.starts.push(r(p.starts.shift()));return[v]}};function R(i){return g.extendFlat({},i,{edgepaths:g.extendDeep([],i.edgepaths),paths:g.extendDeep([],i.paths),starts:g.extendDeep([],i.starts)})}},13031:function(G,V,e){var g=e(71828),R=e(67684),i=e(73927),L=e(83179),T=e(67217),v=e(8724),p=e(58623),t=e(70600);G.exports=function(l,n,s,c){function u(f,o){return g.coerce(l,n,t,f,o)}function y(f){return g.coerce2(l,n,t,f)}var h=R(l,n,u,c);if(!h){n.visible=!1;return}i(l,n,c,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hoverongaps"),u("hovertemplate");var b=u("contours.type")==="constraint";u("connectgaps",g.isArray1D(n.z)),b?L(l,n,u,c,s):(T(l,n,u,y),v(l,n,u,c)),n.contours&&n.contours.coloring==="heatmap"&&p(u,c)}},87558:function(G,V,e){var g=e(71828),R=e(64237),i=e(53572);G.exports=function(T,v,p){for(var t=T.type==="constraint"?R[T._operation](T.value):T,r=t.size,l=[],n=i(t),s=p.trace._carpetTrace,c=s?{xaxis:s.aaxis,yaxis:s.baxis,x:p.a,y:p.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:p.x,y:p.y},u=t.start;u<n;u+=r)if(l.push(g.extendFlat({level:u,crossings:{},starts:[],edgepaths:[],paths:[],z:p.z,smoothing:p.trace.line.smoothing},c)),l.length>1e3){g.warn("Too many contours, clipping at 1000",T);break}return l}},53572:function(G){G.exports=function(e){return e.end+e.size/1e6}},81696:function(G,V,e){var g=e(71828),R=e(36914);G.exports=function(r,l,n){var s,c,u,y,h;for(l=l||.01,n=n||.01,u=0;u<r.length;u++){for(y=r[u],h=0;h<y.starts.length;h++)c=y.starts[h],T(y,c,"edge",l,n);for(s=0;Object.keys(y.crossings).length&&s<1e4;)s++,c=Object.keys(y.crossings)[0].split(",").map(Number),T(y,c,void 0,l,n);s===1e4&&g.log("Infinite loop in contour?")}};function i(t,r,l,n){return Math.abs(t[0]-r[0])<l&&Math.abs(t[1]-r[1])<n}function L(t,r){var l=t[2]-r[2],n=t[3]-r[3];return Math.sqrt(l*l+n*n)}function T(t,r,l,n,s){var c=r.join(","),u=t.crossings[c],y=v(u,l,r),h=[p(t,r,[-y[0],-y[1]])],b=t.z.length,f=t.z[0].length,o=r.slice(),d=y.slice(),A;for(A=0;A<1e4;A++){if(u>20?(u=R.CHOOSESADDLE[u][(y[0]||y[1])<0?0:1],t.crossings[c]=R.SADDLEREMAINDER[u]):delete t.crossings[c],y=R.NEWDELTA[u],!y){g.log("Found bad marching index:",u,r,t.level);break}h.push(p(t,r,y)),r[0]+=y[0],r[1]+=y[1],c=r.join(","),i(h[h.length-1],h[h.length-2],n,s)&&h.pop();var M=y[0]&&(r[0]<0||r[0]>f-2)||y[1]&&(r[1]<0||r[1]>b-2),C=r[0]===o[0]&&r[1]===o[1]&&y[0]===d[0]&&y[1]===d[1];if(C||l&&M)break;u=t.crossings[c]}A===1e4&&g.log("Infinite loop in contour?");var m=i(h[0],h[h.length-1],n,s),S=0,x=.2*t.smoothing,a=[],E=0,w,k,I,U,z,N,B,F,H,X,q;for(A=1;A<h.length;A++)B=L(h[A],h[A-1]),S+=B,a.push(B);var ne=S/a.length*x;function oe(Y){return h[Y%h.length]}for(A=h.length-2;A>=E;A--)if(w=a[A],w<ne){for(I=0,k=A-1;k>=E&&w+a[k]<ne;k--)w+=a[k];if(m&&A===h.length-2)for(I=0;I<k&&w+a[I]<ne;I++)w+=a[I];z=A-k+I+1,N=Math.floor((A+k+I+2)/2),!m&&A===h.length-2?U=h[h.length-1]:!m&&k===-1?U=h[0]:z%2?U=oe(N):U=[(oe(N)[0]+oe(N+1)[0])/2,(oe(N)[1]+oe(N+1)[1])/2],h.splice(k+1,A-k+1,U),A=k+1,I&&(E=I),m&&(A===h.length-2?h[I]=h[h.length-1]:A===0&&(h[h.length-1]=h[0]))}for(h.splice(0,E),A=0;A<h.length;A++)h[A].length=2;if(!(h.length<2))if(m)h.pop(),t.paths.push(h);else{l||g.log("Unclosed interior contour?",t.level,o.join(","),h.join("L"));var ve=!1;for(F=0;F<t.edgepaths.length;F++)if(X=t.edgepaths[F],!ve&&i(X[0],h[h.length-1],n,s)){h.pop(),ve=!0;var J=!1;for(H=0;H<t.edgepaths.length;H++)if(q=t.edgepaths[H],i(q[q.length-1],h[0],n,s)){J=!0,h.shift(),t.edgepaths.splice(F,1),H===F?t.paths.push(h.concat(q)):(H>F&&H--,t.edgepaths[H]=q.concat(h,X));break}J||(t.edgepaths[F]=h.concat(X))}for(F=0;F<t.edgepaths.length&&!ve;F++)X=t.edgepaths[F],i(X[X.length-1],h[0],n,s)&&(h.shift(),t.edgepaths[F]=X.concat(h),ve=!0);ve||t.edgepaths.push(h)}}function v(t,r,l){var n=0,s=0;return t>20&&r?t===208||t===1114?n=l[0]===0?1:-1:s=l[1]===0?1:-1:R.BOTTOMSTART.indexOf(t)!==-1?s=1:R.LEFTSTART.indexOf(t)!==-1?n=1:R.TOPSTART.indexOf(t)!==-1?s=-1:n=-1,[n,s]}function p(t,r,l){var n=r[0]+Math.max(l[0],0),s=r[1]+Math.max(l[1],0),c=t.z[s][n],u=t.xaxis,y=t.yaxis;if(l[1]){var h=(t.level-c)/(t.z[s][n+1]-c),b=(h!==1?(1-h)*u.c2l(t.x[n]):0)+(h!==0?h*u.c2l(t.x[n+1]):0);return[u.c2p(u.l2c(b),!0),y.c2p(t.y[s],!0),n+h,s]}else{var f=(t.level-c)/(t.z[s+1][n]-c),o=(f!==1?(1-f)*y.c2l(t.y[s]):0)+(f!==0?f*y.c2l(t.y[s+1]):0);return[u.c2p(t.x[n],!0),y.c2p(y.l2c(o),!0),n,s+f]}}},52421:function(G,V,e){var g=e(7901),R=e(46248);G.exports=function(L,T,v,p,t){t||(t={}),t.isContour=!0;var r=R(L,T,v,p,t);return r&&r.forEach(function(l){var n=l.trace;n.contours.type==="constraint"&&(n.fillcolor&&g.opacity(n.fillcolor)?l.color=g.addOpacity(n.fillcolor,1):n.contours.showlines&&g.opacity(n.line.color)&&(l.color=g.addOpacity(n.line.color,1)))}),r}},99442:function(G,V,e){G.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(G,V,e){var g=e(71828);G.exports=function(i,L,T,v){v||(v={});var p=i("contours.showlabels");if(p){var t=L.font;g.coerceFont(i,"contours.labelfont",{family:t.family,size:t.size,color:T}),i("contours.labelformat")}v.hasHover!==!1&&i("zhoverformat")}},86068:function(G,V,e){var g=e(39898),R=e(21081),i=e(53572);G.exports=function(T){var v=T.contours,p=v.start,t=i(v),r=v.size||1,l=Math.floor((t-p)/r)+1,n=v.coloring==="lines"?0:1,s=R.extractOpts(T);isFinite(r)||(r=1,l=1);var c=s.reversescale?R.flipScale(s.colorscale):s.colorscale,u=c.length,y=new Array(u),h=new Array(u),b,f;if(v.coloring==="heatmap"){var o=s.min,d=s.max;for(f=0;f<u;f++)b=c[f],y[f]=b[0]*(d-o)+o,h[f]=b[1];var A=g.extent([o,d,v.start,v.start+r*(l-1)]),M=A[o<d?0:1],C=A[o<d?1:0];M!==o&&(y.splice(0,0,M),h.splice(0,0,h[0])),C!==d&&(y.push(C),h.push(h[h.length-1]))}else for(f=0;f<u;f++)b=c[f],y[f]=(b[0]*(l+n-1)-n/2)*r+p,h[f]=b[1];return R.makeColorScaleFunc({domain:y,range:h},{noNumericCheck:!0})}},87678:function(G,V,e){var g=e(36914);G.exports=function(L){var T=L[0].z,v=T.length,p=T[0].length,t=v===2||p===2,r,l,n,s,c,u,y,h,b;for(l=0;l<v-1;l++)for(s=[],l===0&&(s=s.concat(g.BOTTOMSTART)),l===v-2&&(s=s.concat(g.TOPSTART)),r=0;r<p-1;r++)for(n=s.slice(),r===0&&(n=n.concat(g.LEFTSTART)),r===p-2&&(n=n.concat(g.RIGHTSTART)),c=r+","+l,u=[[T[l][r],T[l][r+1]],[T[l+1][r],T[l+1][r+1]]],b=0;b<L.length;b++)h=L[b],y=R(h.level,u),y&&(h.crossings[c]=y,n.indexOf(y)!==-1&&(h.starts.push([r,l]),t&&n.indexOf(y,n.indexOf(y)+1)!==-1&&h.starts.push([r,l])))};function R(i,L){var T=(L[0][0]>i?0:1)+(L[0][1]>i?0:2)+(L[1][1]>i?0:4)+(L[1][0]>i?0:8);if(T===5||T===10){var v=(L[0][0]+L[0][1]+L[1][0]+L[1][1])/4;return i>v?T===5?713:1114:T===5?104:208}return T===15?0:T}},29854:function(G,V,e){var g=e(39898),R=e(71828),i=e(91424),L=e(21081),T=e(63893),v=e(89298),p=e(21994),t=e(50347),r=e(87678),l=e(81696),n=e(87558),s=e(84857),c=e(20083),u=e(36914),y=u.LABELOPTIMIZER;V.plot=function(m,S,x,a){var E=S.xaxis,w=S.yaxis;R.makeTraceGroups(a,x,"contour").each(function(k){var I=g.select(this),U=k[0],z=U.trace,N=U.x,B=U.y,F=z.contours,H=n(F,S,U),X=R.ensureSingle(I,"g","heatmapcoloring"),q=[];F.coloring==="heatmap"&&(q=[k]),t(m,S,q,X),r(H),l(H);var ne=E.c2p(N[0],!0),oe=E.c2p(N[N.length-1],!0),ve=w.c2p(B[0],!0),J=w.c2p(B[B.length-1],!0),Y=[[ne,J],[oe,J],[oe,ve],[ne,ve]],j=H;F.type==="constraint"&&(j=s(H,F._operation)),h(I,Y,F),b(I,j,Y,F),o(I,H,m,U,F),A(I,S,m,U,Y)})};function h(C,m,S){var x=R.ensureSingle(C,"g","contourbg"),a=x.selectAll("path").data(S.coloring==="fill"?[0]:[]);a.enter().append("path"),a.exit().remove(),a.attr("d","M"+m.join("L")+"Z").style("stroke","none")}function b(C,m,S,x){var a=x.coloring==="fill"||x.type==="constraint"&&x._operation!=="=",E="M"+S.join("L")+"Z";a&&c(m,x);var w=R.ensureSingle(C,"g","contourfill"),k=w.selectAll("path").data(a?m:[]);k.enter().append("path"),k.exit().remove(),k.each(function(I){var U=(I.prefixBoundary?E:"")+f(I,S);U?g.select(this).attr("d",U).style("stroke","none"):g.select(this).remove()})}function f(C,m){var S="",x=0,a=C.edgepaths.map(function(ne,oe){return oe}),E=!0,w,k,I,U,z,N;function B(ne){return Math.abs(ne[1]-m[0][1])<.01}function F(ne){return Math.abs(ne[1]-m[2][1])<.01}function H(ne){return Math.abs(ne[0]-m[0][0])<.01}function X(ne){return Math.abs(ne[0]-m[2][0])<.01}for(;a.length;){for(N=i.smoothopen(C.edgepaths[x],C.smoothing),S+=E?N:N.replace(/^M/,"L"),a.splice(a.indexOf(x),1),w=C.edgepaths[x][C.edgepaths[x].length-1],U=-1,I=0;I<4;I++){if(!w){R.log("Missing end?",x,C);break}for(B(w)&&!X(w)?k=m[1]:H(w)?k=m[0]:F(w)?k=m[3]:X(w)&&(k=m[2]),z=0;z<C.edgepaths.length;z++){var q=C.edgepaths[z][0];Math.abs(w[0]-k[0])<.01?Math.abs(w[0]-q[0])<.01&&(q[1]-w[1])*(k[1]-q[1])>=0&&(k=q,U=z):Math.abs(w[1]-k[1])<.01?Math.abs(w[1]-q[1])<.01&&(q[0]-w[0])*(k[0]-q[0])>=0&&(k=q,U=z):R.log("endpt to newendpt is not vert. or horz.",w,k,q)}if(w=k,U>=0)break;S+="L"+k}if(U===C.edgepaths.length){R.log("unclosed perimeter path");break}x=U,E=a.indexOf(x)===-1,E&&(x=a[0],S+="Z")}for(x=0;x<C.paths.length;x++)S+=i.smoothclosed(C.paths[x],C.smoothing);return S}function o(C,m,S,x,a){var E=S._context.staticPlot,w=R.ensureSingle(C,"g","contourlines"),k=a.showlines!==!1,I=a.showlabels,U=k&&I,z=V.createLines(w,k||I,m,E),N=V.createLineClip(w,U,S,x.trace.uid),B=C.selectAll("g.contourlabels").data(I?[0]:[]);if(B.exit().remove(),B.enter().append("g").classed("contourlabels",!0),I){var F=[],H=[];R.clearLocationCache();var X=V.labelFormatter(S,x),q=i.tester.append("text").attr("data-notex",1).call(i.font,a.labelfont),ne=m[0].xaxis,oe=m[0].yaxis,ve=ne._length,J=oe._length,Y=ne.range,j=oe.range,K=R.aggNums(Math.min,null,x.x),te=R.aggNums(Math.max,null,x.x),se=R.aggNums(Math.min,null,x.y),Q=R.aggNums(Math.max,null,x.y),ee=Math.max(ne.c2p(K,!0),0),le=Math.min(ne.c2p(te,!0),ve),ie=Math.max(oe.c2p(Q,!0),0),he=Math.min(oe.c2p(se,!0),J),xe={};Y[0]<Y[1]?(xe.left=ee,xe.right=le):(xe.left=le,xe.right=ee),j[0]<j[1]?(xe.top=ie,xe.bottom=he):(xe.top=he,xe.bottom=ie),xe.middle=(xe.top+xe.bottom)/2,xe.center=(xe.left+xe.right)/2,F.push([[xe.left,xe.top],[xe.right,xe.top],[xe.right,xe.bottom],[xe.left,xe.bottom]]);var Se=Math.sqrt(ve*ve+J*J),Ee=u.LABELDISTANCE*Se/Math.max(1,m.length/u.LABELINCREASE);z.each(function(Ne){var He=V.calcTextOpts(Ne.level,X,q,S);g.select(this).selectAll("path").each(function(){var Ce=this,be=R.getVisibleSegment(Ce,xe,He.height/2);if(be&&!(be.len<(He.width+He.height)*u.LABELMIN))for(var we=Math.min(Math.ceil(be.len/Ee),u.LABELMAX),ke=0;ke<we;ke++){var Fe=V.findBestTextLocation(Ce,be,He,H,xe);if(!Fe)break;V.addLabelData(Fe,He,H,F)}})}),q.remove(),V.drawLabels(B,H,S,N,U?F:null)}I&&!k&&z.remove()}V.createLines=function(C,m,S,x){var a=S[0].smoothing,E=C.selectAll("g.contourlevel").data(m?S:[]);if(E.exit().remove(),E.enter().append("g").classed("contourlevel",!0),m){var w=E.selectAll("path.openline").data(function(I){return I.pedgepaths||I.edgepaths});w.exit().remove(),w.enter().append("path").classed("openline",!0),w.attr("d",function(I){return i.smoothopen(I,a)}).style("stroke-miterlimit",1).style("vector-effect",x?"none":"non-scaling-stroke");var k=E.selectAll("path.closedline").data(function(I){return I.ppaths||I.paths});k.exit().remove(),k.enter().append("path").classed("closedline",!0),k.attr("d",function(I){return i.smoothclosed(I,a)}).style("stroke-miterlimit",1).style("vector-effect",x?"none":"non-scaling-stroke")}return E},V.createLineClip=function(C,m,S,x){var a=S._fullLayout._clips,E=m?"clipline"+x:null,w=a.selectAll("#"+E).data(m?[0]:[]);return w.exit().remove(),w.enter().append("clipPath").classed("contourlineclip",!0).attr("id",E),i.setClipUrl(C,E,S),w},V.labelFormatter=function(C,m){var S=C._fullLayout,x=m.trace,a=x.contours,E={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(a.labelformat)E.tickformat=a.labelformat,p(E,S);else{var w=L.extractOpts(x);if(w&&w.colorbar&&w.colorbar._axis)E=w.colorbar._axis;else{if(a.type==="constraint"){var k=a.value;Array.isArray(k)?E.range=[k[0],k[k.length-1]]:E.range=[k,k]}else E.range=[a.start,a.end],E.nticks=(a.end-a.start)/a.size;E.range[0]===E.range[1]&&(E.range[1]+=E.range[0]||1),E.nticks||(E.nticks=1e3),p(E,S),v.prepTicks(E),E._tmin=null,E._tmax=null}}return function(I){return v.tickText(E,I).text}},V.calcTextOpts=function(C,m,S,x){var a=m(C);S.text(a).call(T.convertToTspans,x);var E=S.node(),w=i.bBox(E,!0);return{text:a,width:w.width,height:w.height,fontSize:+E.style["font-size"].replace("px",""),level:C,dy:(w.top+w.bottom)/2}},V.findBestTextLocation=function(C,m,S,x,a){var E=S.width,w,k,I,U,z;m.isClosed?(k=m.len/y.INITIALSEARCHPOINTS,w=m.min+k/2,I=m.max):(k=(m.len-E)/(y.INITIALSEARCHPOINTS+1),w=m.min+k+E/2,I=m.max-(k+E)/2);for(var N=1/0,B=0;B<y.ITERATIONS;B++){for(var F=w;F<I;F+=k){var H=R.getTextLocation(C,m.total,F,E),X=d(H,S,x,a);X<N&&(N=X,z=H,U=F)}if(N>y.MAXCOST*2)break;B&&(k/=2),w=U-k/2,I=w+k*1.5}if(N<=y.MAXCOST)return z};function d(C,m,S,x){var a=m.width/2,E=m.height/2,w=C.x,k=C.y,I=C.theta,U=Math.cos(I)*a,z=Math.sin(I)*a,N=(w>x.center?x.right-w:w-x.left)/(U+Math.abs(Math.sin(I)*E)),B=(k>x.middle?x.bottom-k:k-x.top)/(Math.abs(z)+Math.cos(I)*E);if(N<1||B<1)return 1/0;var F=y.EDGECOST*(1/(N-1)+1/(B-1));F+=y.ANGLECOST*I*I;for(var H=w-U,X=k-z,q=w+U,ne=k+z,oe=0;oe<S.length;oe++){var ve=S[oe],J=Math.cos(ve.theta)*ve.width/2,Y=Math.sin(ve.theta)*ve.width/2,j=R.segmentDistance(H,X,q,ne,ve.x-J,ve.y-Y,ve.x+J,ve.y+Y)*2/(m.height+ve.height),K=ve.level===m.level,te=K?y.SAMELEVELDISTANCE:1;if(j<=te)return 1/0;var se=y.NEIGHBORCOST*(K?y.SAMELEVELFACTOR:1);F+=se/(j-te)}return F}V.addLabelData=function(C,m,S,x){var a=m.fontSize,E=m.width+a/3,w=Math.max(0,m.height-a/3),k=C.x,I=C.y,U=C.theta,z=Math.sin(U),N=Math.cos(U),B=function(H,X){return[k+H*N-X*z,I+H*z+X*N]},F=[B(-E/2,-w/2),B(-E/2,w/2),B(E/2,w/2),B(E/2,-w/2)];S.push({text:m.text,x:k,y:I,dy:m.dy,theta:U,level:m.level,width:E,height:w}),x.push(F)},V.drawLabels=function(C,m,S,x,a){var E=C.selectAll("text").data(m,function(U){return U.text+","+U.x+","+U.y+","+U.theta});if(E.exit().remove(),E.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(U){var z=U.x+Math.sin(U.theta)*U.dy,N=U.y-Math.cos(U.theta)*U.dy;g.select(this).text(U.text).attr({x:z,y:N,transform:"rotate("+180*U.theta/Math.PI+" "+z+" "+N+")"}).call(T.convertToTspans,S)}),a){for(var w="",k=0;k<a.length;k++)w+="M"+a[k].join("L")+"Z";var I=R.ensureSingle(x,"path","");I.attr("d",w)}};function A(C,m,S,x,a){var E=x.trace,w=S._fullLayout._clips,k="clip"+E.uid,I=w.selectAll("#"+k).data(E.connectgaps?[]:[0]);if(I.enter().append("clipPath").classed("contourclip",!0).attr("id",k),I.exit().remove(),E.connectgaps===!1){var U={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:m.xaxis,yaxis:m.yaxis,x:x.x,y:x.y,z:M(x),smoothing:0};r([U]),l([U]),c([U],{type:"levels"});var z=R.ensureSingle(I,"path","");z.attr("d",(U.prefixBoundary?"M"+a.join("L")+"Z":"")+f(U,a))}else k=null;i.setClipUrl(C,k,S)}function M(C){var m=C.trace._emptypoints,S=[],x=C.z.length,a=C.z[0].length,E,w=[],k;for(E=0;E<a;E++)w.push(1);for(E=0;E<x;E++)S.push(w.slice());for(E=0;E<m.length;E++)k=m[E],S[k[0]][k[1]]=0;return C.zmask=S,S}},18670:function(G,V,e){var g=e(89298),R=e(71828);G.exports=function(T,v){var p=T.contours;if(T.autocontour){var t=T.zmin,r=T.zmax;(T.zauto||t===void 0)&&(t=R.aggNums(Math.min,null,v)),(T.zauto||r===void 0)&&(r=R.aggNums(Math.max,null,v));var l=i(t,r,T.ncontours);p.size=l.dtick,p.start=g.tickFirst(l),l.range.reverse(),p.end=g.tickFirst(l),p.start===t&&(p.start+=p.size),p.end===r&&(p.end-=p.size),p.start>p.end&&(p.start=p.end=(p.start+p.end)/2),T._input.contours||(T._input.contours={}),R.extendFlat(T._input.contours,{start:p.start,end:p.end,size:p.size}),T._input.autocontour=!0}else if(p.type!=="constraint"){var n=p.start,s=p.end,c=T._input.contours;if(n>s&&(p.start=c.start=s,s=p.end=c.end=n,n=p.start),!(p.size>0)){var u;n===s?u=1:u=i(n,s,T.ncontours).dtick,c.size=p.size=u}}};function i(L,T,v){var p={type:"linear",range:[L,T]};return g.autoTicks(p,(T-L)/(v||15)),p}},84426:function(G,V,e){var g=e(39898),R=e(91424),i=e(70035),L=e(86068);G.exports=function(v){var p=g.select(v).selectAll("g.contour");p.style("opacity",function(t){return t[0].trace.opacity}),p.each(function(t){var r=g.select(this),l=t[0].trace,n=l.contours,s=l.line,c=n.size||1,u=n.start,y=n.type==="constraint",h=!y&&n.coloring==="lines",b=!y&&n.coloring==="fill",f=h||b?L(l):null;r.selectAll("g.contourlevel").each(function(A){g.select(this).selectAll("path").call(R.lineGroupStyle,s.width,h?f(A.level):s.color,s.dash)});var o=n.labelfont;if(r.selectAll("g.contourlabels text").each(function(A){R.font(g.select(this),{family:o.family,size:o.size,color:o.color||(h?f(A.level):s.color)})}),y)r.selectAll("g.contourfill path").style("fill",l.fillcolor);else if(b){var d;r.selectAll("g.contourfill path").style("fill",function(A){return d===void 0&&(d=A.level),f(A.level+.5*c)}),d===void 0&&(d=u),r.selectAll("g.contourbg path").style("fill",f(d-.5*c))}}),i(v)}},8724:function(G,V,e){var g=e(1586),R=e(14523);G.exports=function(L,T,v,p,t){var r=v("contours.coloring"),l,n="";r==="fill"&&(l=v("contours.showlines")),l!==!1&&(r!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),r!=="none"&&(L.showlegend!==!0&&(T.showlegend=!1),T._dfltShowLegend=!1,g(L,T,p,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),R(v,p,n,t)}},88085:function(G,V,e){var g=e(21606),R=e(70600),i=e(50693),L=e(1426).extendFlat,T=R.contours;G.exports=L({carpet:{valType:"string",editType:"calc"},z:g.z,a:g.x,a0:g.x0,da:g.dx,b:g.y,b0:g.y0,db:g.dy,text:g.text,hovertext:g.hovertext,transpose:g.transpose,atype:g.xtype,btype:g.ytype,fillcolor:R.fillcolor,autocontour:R.autocontour,ncontours:R.ncontours,contours:{type:T.type,start:T.start,end:T.end,size:T.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:T.showlines,showlabels:T.showlabels,labelfont:T.labelfont,labelformat:T.labelformat,operation:T.operation,value:T.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:R.line.color,width:R.line.width,dash:R.line.dash,smoothing:R.line.smoothing,editType:"plot"},transforms:void 0},i("",{cLetter:"z",autoColorDflt:!1}))},59885:function(G,V,e){var g=e(78803),R=e(71828),i=e(68296),L=e(4742),T=e(824),v=e(43907),p=e(70769),t=e(75005),r=e(22882),l=e(18670);G.exports=function(c,u){var y=u._carpetTrace=r(c,u);if(!(!y||!y.visible||y.visible==="legendonly")){if(!u.a||!u.b){var h=c.data[y.index],b=c.data[u.index];b.a||(b.a=h.a),b.b||(b.b=h.b),t(b,u,u._defaultColor,c._fullLayout)}var f=n(c,u);return l(u,u._z),f}};function n(s,c){var u=c._carpetTrace,y=u.aaxis,h=u.baxis,b,f,o,d,A,M,C;y._minDtick=0,h._minDtick=0,R.isArray1D(c.z)&&i(c,y,h,"a","b",["z"]),b=c._a=c._a||c.a,d=c._b=c._b||c.b,b=b?y.makeCalcdata(c,"_a"):[],d=d?h.makeCalcdata(c,"_b"):[],f=c.a0||0,o=c.da||1,A=c.b0||0,M=c.db||1,C=c._z=L(c._z||c.z,c.transpose),c._emptypoints=v(C),T(C,c._emptypoints);var m=R.maxRowLength(C),S=c.xtype==="scaled"?"":b,x=p(c,S,f,o,m,y),a=c.ytype==="scaled"?"":d,E=p(c,a,A,M,C.length,h),w={a:x,b:E,z:C};return c.contours.type==="levels"&&c.contours.coloring!=="none"&&g(s,c,{vals:C,containerStr:"",cLetter:"z"}),[w]}},75005:function(G,V,e){var g=e(71828),R=e(67684),i=e(88085),L=e(83179),T=e(67217),v=e(8724);G.exports=function(t,r,l,n){function s(h,b){return g.coerce(t,r,i,h,b)}function c(h){return g.coerce2(t,r,i,h)}if(s("carpet"),t.a&&t.b){var u=R(t,r,s,n,"a","b");if(!u){r.visible=!1;return}s("text");var y=s("contours.type")==="constraint";y?L(t,r,s,n,l,{hasHover:!1}):(T(t,r,s,c),v(t,r,s,n,{hasHover:!1}))}else r._defaultColor=l,r._length=null}},93740:function(G,V,e){G.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(G,V,e){var g=e(39898),R=e(27669),i=e(67961),L=e(91424),T=e(71828),v=e(87678),p=e(81696),t=e(29854),r=e(36914),l=e(84857),n=e(87558),s=e(20083),c=e(22882),u=e(4536);G.exports=function(S,x,a,E){var w=x.xaxis,k=x.yaxis;T.makeTraceGroups(E,a,"contour").each(function(I){var U=g.select(this),z=I[0],N=z.trace,B=N._carpetTrace=c(S,N),F=S.calcdata[B.index][0];if(!B.visible||B.visible==="legendonly")return;var H=z.a,X=z.b,q=N.contours,ne=n(q,x,z),oe=q.type==="constraint",ve=q._operation,J=oe?ve==="="?"lines":"fill":q.coloring;function Y(Se){var Ee=B.ab2xy(Se[0],Se[1],!0);return[w.c2p(Ee[0]),k.c2p(Ee[1])]}var j=[[H[0],X[X.length-1]],[H[H.length-1],X[X.length-1]],[H[H.length-1],X[0]],[H[0],X[0]]];v(ne);var K=(H[H.length-1]-H[0])*1e-8,te=(X[X.length-1]-X[0])*1e-8;p(ne,K,te);var se=ne;q.type==="constraint"&&(se=l(ne,ve)),y(ne,Y);var Q,ee,le,ie,he=[];for(ie=F.clipsegments.length-1;ie>=0;ie--)Q=F.clipsegments[ie],ee=R([],Q.x,w.c2p),le=R([],Q.y,k.c2p),ee.reverse(),le.reverse(),he.push(i(ee,le,Q.bicubic));var xe="M"+he.join("L")+"Z";A(U,F.clipsegments,w,k,oe,J),M(N,U,w,k,se,j,Y,B,F,J,xe),h(U,ne,S,z,q,x,B),L.setClipUrl(U,B._clipPathId,S)})};function y(m,S){var x,a,E,w,k,I,U,z,N;for(x=0;x<m.length;x++){for(w=m[x],k=w.pedgepaths=[],I=w.ppaths=[],a=0;a<w.edgepaths.length;a++){for(N=w.edgepaths[a],U=[],E=0;E<N.length;E++)U[E]=S(N[E]);k.push(U)}for(a=0;a<w.paths.length;a++){for(N=w.paths[a],z=[],E=0;E<N.length;E++)z[E]=S(N[E]);I.push(z)}}}function h(m,S,x,a,E,w,k){var I=x._context.staticPlot,U=T.ensureSingle(m,"g","contourlines"),z=E.showlines!==!1,N=E.showlabels,B=z&&N,F=t.createLines(U,z||N,S,I),H=t.createLineClip(U,B,x,a.trace.uid),X=m.selectAll("g.contourlabels").data(N?[0]:[]);if(X.exit().remove(),X.enter().append("g").classed("contourlabels",!0),N){var q=w.xaxis,ne=w.yaxis,oe=q._length,ve=ne._length,J=[[[0,0],[oe,0],[oe,ve],[0,ve]]],Y=[];T.clearLocationCache();var j=t.labelFormatter(x,a),K=L.tester.append("text").attr("data-notex",1).call(L.font,E.labelfont),te={left:0,right:oe,center:oe/2,top:0,bottom:ve,middle:ve/2},se=Math.sqrt(oe*oe+ve*ve),Q=r.LABELDISTANCE*se/Math.max(1,S.length/r.LABELINCREASE);F.each(function(ee){var le=t.calcTextOpts(ee.level,j,K,x);g.select(this).selectAll("path").each(function(ie){var he=this,xe=T.getVisibleSegment(he,te,le.height/2);if(xe&&(b(he,ie,ee,xe,k,le.height),!(xe.len<(le.width+le.height)*r.LABELMIN)))for(var Se=Math.min(Math.ceil(xe.len/Q),r.LABELMAX),Ee=0;Ee<Se;Ee++){var Ne=t.findBestTextLocation(he,xe,le,Y,te);if(!Ne)break;t.addLabelData(Ne,le,Y,J)}})}),K.remove(),t.drawLabels(X,Y,x,H,B?J:null)}N&&!z&&F.remove()}function b(m,S,x,a,E,w){for(var k,I=0;I<x.pedgepaths.length;I++)S===x.pedgepaths[I]&&(k=x.edgepaths[I]);if(!k)return;var U=E.a[0],z=E.a[E.a.length-1],N=E.b[0],B=E.b[E.b.length-1];function F(oe,ve){var J=0,Y,j=.1;return(Math.abs(oe[0]-U)<j||Math.abs(oe[0]-z)<j)&&(Y=o(E.dxydb_rough(oe[0],oe[1],j)),J=Math.max(J,w*d(ve,Y)/2)),(Math.abs(oe[1]-N)<j||Math.abs(oe[1]-B)<j)&&(Y=o(E.dxyda_rough(oe[0],oe[1],j)),J=Math.max(J,w*d(ve,Y)/2)),J}var H=f(m,0,1),X=f(m,a.total,a.total-1),q=F(k[0],H),ne=a.total-F(k[k.length-1],X);a.min<q&&(a.min=q),a.max>ne&&(a.max=ne),a.len=a.max-a.min}function f(m,S,x){var a=m.getPointAtLength(S),E=m.getPointAtLength(x),w=E.x-a.x,k=E.y-a.y,I=Math.sqrt(w*w+k*k);return[w/I,k/I]}function o(m){var S=Math.sqrt(m[0]*m[0]+m[1]*m[1]);return[m[0]/S,m[1]/S]}function d(m,S){var x=Math.abs(m[0]*S[0]+m[1]*S[1]),a=Math.sqrt(1-x*x);return a/x}function A(m,S,x,a,E,w){var k,I,U,z,N=T.ensureSingle(m,"g","contourbg"),B=N.selectAll("path").data(w==="fill"&&!E?[0]:[]);B.enter().append("path"),B.exit().remove();var F=[];for(z=0;z<S.length;z++)k=S[z],I=R([],k.x,x.c2p),U=R([],k.y,a.c2p),F.push(i(I,U,k.bicubic));B.attr("d","M"+F.join("L")+"Z").style("stroke","none")}function M(m,S,x,a,E,w,k,I,U,z,N){var B=z==="fill";B&&s(E,m.contours);var F=T.ensureSingle(S,"g","contourfill"),H=F.selectAll("path").data(B?E:[]);H.enter().append("path"),H.exit().remove(),H.each(function(X){var q=(X.prefixBoundary?N:"")+C(m,X,w,k,I,U,x,a);q?g.select(this).attr("d",q).style("stroke","none"):g.select(this).remove()})}function C(m,S,x,a,E,w,k,I){var U,z="",N=S.edgepaths.map(function(le,ie){return ie}),B=!0,F,H,X,q,ne,oe,ve=Math.abs(x[0][0]-x[2][0])*1e-4,J=Math.abs(x[0][1]-x[2][1])*1e-4;function Y(le){return Math.abs(le[1]-x[0][1])<J}function j(le){return Math.abs(le[1]-x[2][1])<J}function K(le){return Math.abs(le[0]-x[0][0])<ve}function te(le){return Math.abs(le[0]-x[2][0])<ve}function se(le,ie){var he,xe,Se,Ee,Ne="";for(Y(le)&&!te(le)||j(le)&&!K(le)?(Ee=E.aaxis,Se=u(E,w,[le[0],ie[0]],.5*(le[1]+ie[1]))):(Ee=E.baxis,Se=u(E,w,.5*(le[0]+ie[0]),[le[1],ie[1]])),he=1;he<Se.length;he++)for(Ne+=Ee.smoothing?"C":"L",xe=0;xe<Se[he].length;xe++){var He=Se[he][xe];Ne+=[k.c2p(He[0]),I.c2p(He[1])]+" "}return Ne}for(U=0,F=null;N.length;){var Q=S.edgepaths[U][0];for(F&&(z+=se(F,Q)),oe=L.smoothopen(S.edgepaths[U].map(a),S.smoothing),z+=B?oe:oe.replace(/^M/,"L"),N.splice(N.indexOf(U),1),F=S.edgepaths[U][S.edgepaths[U].length-1],q=-1,X=0;X<4;X++){if(!F){T.log("Missing end?",U,S);break}for(Y(F)&&!te(F)?H=x[1]:K(F)?H=x[0]:j(F)?H=x[3]:te(F)&&(H=x[2]),ne=0;ne<S.edgepaths.length;ne++){var ee=S.edgepaths[ne][0];Math.abs(F[0]-H[0])<ve?Math.abs(F[0]-ee[0])<ve&&(ee[1]-F[1])*(H[1]-ee[1])>=0&&(H=ee,q=ne):Math.abs(F[1]-H[1])<J?Math.abs(F[1]-ee[1])<J&&(ee[0]-F[0])*(H[0]-ee[0])>=0&&(H=ee,q=ne):T.log("endpt to newendpt is not vert. or horz.",F,H,ee)}if(q>=0)break;z+=se(F,H),F=H}if(q===S.edgepaths.length){T.log("unclosed perimeter path");break}U=q,B=N.indexOf(U)===-1,B&&(U=N[0],z+=se(F,H)+"Z",F=null)}for(U=0;U<S.paths.length;U++)z+=L.smoothclosed(S.paths[U].map(a),S.smoothing);return z}},64096:function(G,V,e){var g=e(50693),R=e(5386).fF,i=e(9012),L=e(99181),T=e(1426).extendFlat;G.exports=T({lon:L.lon,lat:L.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:L.text,hovertext:L.hovertext,hoverinfo:T({},i.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:R(),showlegend:T({},i.showlegend,{dflt:!1})},g("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(G,V,e){var g=e(92770),R=e(71828).isArrayOrTypedArray,i=e(50606).BADNUM,L=e(78803),T=e(71828)._;G.exports=function(p,t){for(var r=t._length,l=new Array(r),n=t.z,s=R(n)&&n.length,c=0;c<r;c++){var u=l[c]={},y=t.lon[c],h=t.lat[c];if(u.lonlat=g(y)&&g(h)?[+y,+h]:[i,i],s){var b=n[c];u.z=g(b)?b:i}}return L(p,t,{vals:s?n:[0,1],containerStr:"",cLetter:"z"}),r&&(l[0].t={labels:{lat:T(p,"lat:")+" ",lon:T(p,"lon:")+" "}}),l}},52414:function(G,V,e){var g=e(92770),R=e(71828),i=e(7901),L=e(21081),T=e(50606).BADNUM,v=e(18214).makeBlank;G.exports=function(t){var r=t[0].trace,l=r.visible===!0&&r._length!==0,n={layout:{visibility:"none"},paint:{}},s=r._opts={heatmap:n,geojson:v()};if(!l)return s;var c=[],u,y=r.z,h=r.radius,b=R.isArrayOrTypedArray(y)&&y.length,f=R.isArrayOrTypedArray(h);for(u=0;u<t.length;u++){var o=t[u],d=o.lonlat;if(d[0]!==T){var A={};if(b){var M=o.z;A.z=M!==T?M:0}f&&(A.r=g(h[u])&&h[u]>0?+h[u]:0),c.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:A})}}var C=L.extractOpts(r),m=C.reversescale?L.flipScale(C.colorscale):C.colorscale,S=m[0][1],x=i.opacity(S)<1?S:i.addOpacity(S,0),a=["interpolate",["linear"],["heatmap-density"],0,x];for(u=1;u<m.length;u++)a.push(m[u][0],m[u][1]);var E=["interpolate",["linear"],["get","z"],C.min,0,C.max,1];return R.extendFlat(s.heatmap.paint,{"heatmap-weight":b?E:1/(C.max-C.min),"heatmap-color":a,"heatmap-radius":f?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),s.geojson={type:"FeatureCollection",features:c},s.heatmap.layout.visibility="visible",s}},79429:function(G,V,e){var g=e(71828),R=e(1586),i=e(64096);G.exports=function(T,v,p,t){function r(c,u){return g.coerce(T,v,i,c,u)}var l=r("lon")||[],n=r("lat")||[],s=Math.min(l.length,n.length);if(!s){v.visible=!1;return}v._length=s,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),R(T,v,t,r,{prefix:"",cLetter:"z"})}},62474:function(G){G.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e.z=g.z,e}},84684:function(G,V,e){var g=e(89298),R=e(28178).hoverPoints,i=e(28178).getExtraText;G.exports=function(T,v,p){var t=R(T,v,p);if(t){var r=t[0],l=r.cd,n=l[0].trace,s=l[r.index];if(delete r.color,"z"in s){var c=r.subplot.mockAxis;r.z=s.z,r.zLabel=g.tickText(c,c.c2l(s.z),"hover").text}return r.extraText=i(n,s,l[0].t.labels),[r]}}},93814:function(G,V,e){G.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(g,R){for(var i=R.getMapLayers(),L=0;L<i.length;L++){var T=i[L],v=T.id;if(T.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(G,V,e){var g=e(52414),R=e(77734).traceLayerPrefix;function i(T,v){this.type="densitymapbox",this.subplot=T,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",R+v+"-heatmap"]],this.below=null}var L=i.prototype;L.update=function(T){var v=this.subplot,p=this.layerList,t=g(T),r=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(t.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(t,r),this.below=r);for(var l=0;l<p.length;l++){var n=p[l],s=n[0],c=n[1],u=t[s];v.setOptions(c,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&v.setOptions(c,"setPaintProperty",u.paint)}},L._addLayers=function(T,v){for(var p=this.subplot,t=this.layerList,r=this.sourceId,l=0;l<t.length;l++){var n=t[l],s=n[0],c=T[s];p.addLayer({type:s,id:n[1],source:r,layout:c.layout,paint:c.paint},v)}},L._removeLayers=function(){for(var T=this.subplot.map,v=this.layerList,p=v.length-1;p>=0;p--)T.removeLayer(v[p][1])},L.dispose=function(){var T=this.subplot.map;this._removeLayers(),T.removeSource(this.sourceId)},G.exports=function(v,p){var t=p[0].trace,r=new i(v,t.uid),l=r.sourceId,n=g(p),s=r.below=v.belowLookup["trace-"+t.uid];return v.map.addSource(l,{type:"geojson",data:n.geojson}),r._addLayers(n,s),r}},49789:function(G,V,e){var g=e(71828);G.exports=function(i,L){for(var T=0;T<i.length;T++)i[T].i=T;g.mergeArray(L.text,i,"tx"),g.mergeArray(L.hovertext,i,"htx");var v=L.marker;if(v){g.mergeArray(v.opacity,i,"mo"),g.mergeArray(v.color,i,"mc");var p=v.line;p&&(g.mergeArray(p.color,i,"mlc"),g.mergeArrayCastPositive(p.width,i,"mlw"))}}},1285:function(G,V,e){var g=e(1486),R=e(82196).line,i=e(9012),L=e(12663).axisHoverFormat,T=e(5386).fF,v=e(5386).si,p=e(18517),t=e(1426).extendFlat,r=e(7901);G.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:g.hovertext,hovertemplate:T({},{keys:p.eventDataKeys}),hoverinfo:t({},i.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),text:g.text,textposition:g.textposition,insidetextanchor:t({},g.insidetextanchor,{dflt:"middle"}),textangle:t({},g.textangle,{dflt:0}),textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:t({},g.orientation,{}),offset:t({},g.offset,{arrayOk:!1}),width:t({},g.width,{arrayOk:!1}),marker:l(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:t({},R.color,{dflt:r.defaultLine}),width:t({},R.width,{dflt:0,editType:"plot"}),dash:R.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup};function l(){var n=t({},g.marker);return delete n.pattern,n}},9532:function(G,V,e){var g=e(89298),R=e(42973),i=e(49789),L=e(66279),T=e(50606).BADNUM;G.exports=function(t,r){var l=g.getFromId(t,r.xaxis||"x"),n=g.getFromId(t,r.yaxis||"y"),s,c,u,y,h,b,f,o;r.orientation==="h"?(s=l.makeCalcdata(r,"x"),u=n.makeCalcdata(r,"y"),y=R(r,n,"y",u),h=!!r.yperiodalignment,b="y"):(s=n.makeCalcdata(r,"y"),u=l.makeCalcdata(r,"x"),y=R(r,l,"x",u),h=!!r.xperiodalignment,b="x"),c=y.vals;var d=Math.min(c.length,s.length),A=new Array(d);for(r._base=[],f=0;f<d;f++){s[f]<0&&(s[f]=T);var M=!1;s[f]!==T&&f+1<d&&s[f+1]!==T&&(M=!0),o=A[f]={p:c[f],s:s[f],cNext:M},r._base[f]=-.5*o.s,h&&(A[f].orig_p=u[f],A[f][b+"End"]=y.ends[f],A[f][b+"Start"]=y.starts[f]),r.ids&&(o.id=String(r.ids[f])),f===0&&(A[0].vTotal=0),A[0].vTotal+=v(o.s),o.begR=v(o.s)/v(A[0].s)}var C;for(f=0;f<d;f++)o=A[f],o.s!==T&&(o.sumR=o.s/A[0].vTotal,o.difR=C!==void 0?o.s/C:1,C=o.s);return i(A,r),L(A,r),A};function v(p){return p===T?0:p}},18517:function(G){G.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(G,V,e){var g=e(11661).setGroupPositions;G.exports=function(i,L){var T=i._fullLayout,v=i._fullData,p=i.calcdata,t=L.xaxis,r=L.yaxis,l=[],n=[],s=[],c,u;for(u=0;u<v.length;u++){var y=v[u],h=y.orientation==="h";y.visible===!0&&y.xaxis===t._id&&y.yaxis===r._id&&y.type==="funnel"&&(c=p[u],h?s.push(c):n.push(c),l.push(c))}var b={mode:T.funnelmode,norm:T.funnelnorm,gap:T.funnelgap,groupgap:T.funnelgroupgap};for(g(i,t,r,n,b),g(i,r,t,s,b),u=0;u<l.length;u++){c=l[u];for(var f=0;f<c.length;f++)f+1<c.length&&(c[f].nextP0=c[f+1].p0,c[f].nextS0=c[f+1].s0,c[f].nextP1=c[f+1].p1,c[f].nextS1=c[f+1].s1)}}},26199:function(G,V,e){var g=e(71828),R=e(26125),i=e(90769).handleText,L=e(67513),T=e(73927),v=e(1285),p=e(7901);function t(n,s,c,u){function y(M,C){return g.coerce(n,s,v,M,C)}var h=L(n,s,u,y);if(!h){s.visible=!1;return}T(n,s,u,y),y("xhoverformat"),y("yhoverformat"),y("orientation",s.y&&!s.x?"v":"h"),y("offset"),y("width");var b=y("text");y("hovertext"),y("hovertemplate");var f=y("textposition");i(n,s,u,y,f,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s.textposition!=="none"&&!s.texttemplate&&y("textinfo",Array.isArray(b)?"text+value":"value");var o=y("marker.color",c);y("marker.line.color",p.defaultLine),y("marker.line.width");var d=y("connector.visible");if(d){y("connector.fillcolor",r(o));var A=y("connector.line.width");A&&(y("connector.line.color"),y("connector.line.dash"))}}function r(n){var s=g.isArrayOrTypedArray(n)?"#000":n;return p.addOpacity(s,.5*p.opacity(s))}function l(n,s){var c,u;function y(b){return g.coerce(u._input,u,v,b)}if(s.funnelmode==="group")for(var h=0;h<n.length;h++)u=n[h],c=u._input,R(c,u,s,y)}G.exports={supplyDefaults:t,crossTraceDefaults:l}},34598:function(G){G.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"percentInitial"in g&&(e.percentInitial=g.percentInitial),"percentPrevious"in g&&(e.percentPrevious=g.percentPrevious),"percentTotal"in g&&(e.percentTotal=g.percentTotal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},63341:function(G,V,e){var g=e(7901).opacity,R=e(95423).hoverOnBars,i=e(71828).formatPercent;G.exports=function(v,p,t,r,l){var n=R(v,p,t,r,l);if(n){var s=n.cd,c=s[0].trace,u=c.orientation==="h",y=n.index,h=s[y],b=u?"x":"y";n[b+"LabelVal"]=h.s,n.percentInitial=h.begR,n.percentInitialLabel=i(h.begR,1),n.percentPrevious=h.difR,n.percentPreviousLabel=i(h.difR,1),n.percentTotal=h.sumR,n.percentTotalLabel=i(h.sumR,1);var f=h.hi||c.hoverinfo,o=[];if(f&&f!=="none"&&f!=="skip"){var d=f==="all",A=f.split("+"),M=function(C){return d||A.indexOf(C)!==-1};M("percent initial")&&o.push(n.percentInitialLabel+" of initial"),M("percent previous")&&o.push(n.percentPreviousLabel+" of previous"),M("percent total")&&o.push(n.percentTotalLabel+" of total")}return n.extraText=o.join("<br>"),n.color=L(c,h),[n]}};function L(T,v){var p=T.marker,t=v.mc||p.color,r=v.mlc||p.line.color,l=v.mlw||p.line.width;if(g(t))return t;if(g(r)&&l)return r}},51759:function(G,V,e){G.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(G){G.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(G,V,e){var g=e(71828),R=e(10440);G.exports=function(i,L,T){var v=!1;function p(l,n){return g.coerce(i,L,R,l,n)}for(var t=0;t<T.length;t++){var r=T[t];if(r.visible&&r.type==="funnel"){v=!0;break}}v&&(p("funnelmode"),p("funnelgap",.2),p("funnelgroupgap"))}},80461:function(G,V,e){var g=e(39898),R=e(71828),i=e(91424),L=e(50606).BADNUM,T=e(17295),v=e(72597).clearMinTextSize;G.exports=function(n,s,c,u){var y=n._fullLayout;v("funnel",y),p(n,s,c,u),t(n,s,c,u),T.plot(n,s,c,u,{mode:y.funnelmode,norm:y.funnelmode,gap:y.funnelgap,groupgap:y.funnelgroupgap})};function p(l,n,s,c){var u=n.xaxis,y=n.yaxis;R.makeTraceGroups(c,s,"trace bars").each(function(h){var b=g.select(this),f=h[0].trace,o=R.ensureSingle(b,"g","regions");if(!f.connector||!f.connector.visible){o.remove();return}var d=f.orientation==="h",A=o.selectAll("g.region").data(R.identity);A.enter().append("g").classed("region",!0),A.exit().remove();var M=A.size();A.each(function(C,m){if(!(m!==M-1&&!C.cNext)){var S=r(C,u,y,d),x=S[0],a=S[1],E="";x[0]!==L&&a[0]!==L&&x[1]!==L&&a[1]!==L&&x[2]!==L&&a[2]!==L&&x[3]!==L&&a[3]!==L&&(d?E+="M"+x[0]+","+a[1]+"L"+x[2]+","+a[2]+"H"+x[3]+"L"+x[1]+","+a[1]+"Z":E+="M"+x[1]+","+a[1]+"L"+x[2]+","+a[3]+"V"+a[2]+"L"+x[1]+","+a[0]+"Z"),E===""&&(E="M0,0Z"),R.ensureSingle(g.select(this),"path").attr("d",E).call(i.setClipUrl,n.layerClipId,l)}})})}function t(l,n,s,c){var u=n.xaxis,y=n.yaxis;R.makeTraceGroups(c,s,"trace bars").each(function(h){var b=g.select(this),f=h[0].trace,o=R.ensureSingle(b,"g","lines");if(!f.connector||!f.connector.visible||!f.connector.line.width){o.remove();return}var d=f.orientation==="h",A=o.selectAll("g.line").data(R.identity);A.enter().append("g").classed("line",!0),A.exit().remove();var M=A.size();A.each(function(C,m){if(!(m!==M-1&&!C.cNext)){var S=r(C,u,y,d),x=S[0],a=S[1],E="";x[3]!==void 0&&a[3]!==void 0&&(d?(E+="M"+x[0]+","+a[1]+"L"+x[2]+","+a[2],E+="M"+x[1]+","+a[1]+"L"+x[3]+","+a[2]):(E+="M"+x[1]+","+a[1]+"L"+x[2]+","+a[3],E+="M"+x[1]+","+a[0]+"L"+x[2]+","+a[2])),E===""&&(E="M0,0Z"),R.ensureSingle(g.select(this),"path").attr("d",E).call(i.setClipUrl,n.layerClipId,l)}})})}function r(l,n,s,c){var u=[],y=[],h=c?n:s,b=c?s:n;return u[0]=h.c2p(l.s0,!0),y[0]=b.c2p(l.p0,!0),u[1]=h.c2p(l.s1,!0),y[1]=b.c2p(l.p1,!0),u[2]=h.c2p(l.nextS0,!0),y[2]=b.c2p(l.nextP0,!0),u[3]=h.c2p(l.nextS1,!0),y[3]=b.c2p(l.nextP1,!0),c?[u,y]:[y,u]}},68266:function(G,V,e){var g=e(39898),R=e(91424),i=e(7901),L=e(37822).DESELECTDIM,T=e(16688),v=e(72597).resizeText,p=T.styleTextPoints;function t(r,l,n){var s=n||g.select(r).selectAll("g.funnellayer").selectAll("g.trace");v(r,s,"funnel"),s.style("opacity",function(c){return c[0].trace.opacity}),s.each(function(c){var u=g.select(this),y=c[0].trace;u.selectAll(".point > path").each(function(h){if(!h.isBlank){var b=y.marker;g.select(this).call(i.fill,h.mc||b.color).call(i.stroke,h.mlc||b.line.color).call(R.dashLine,b.line.dash,h.mlw||b.line.width).style("opacity",y.selectedpoints&&!h.selected?L:1)}}),p(u,y,r),u.selectAll(".regions").each(function(){g.select(this).selectAll("path").style("stroke-width",0).call(i.fill,y.connector.fillcolor)}),u.selectAll(".lines").each(function(){var h=y.connector.line;R.lineGroupStyle(g.select(this).selectAll("path"),h.width,h.color,h.dash)})})}G.exports={style:t}},86807:function(G,V,e){var g=e(34e3),R=e(9012),i=e(27670).Y,L=e(5386).fF,T=e(5386).si,v=e(1426).extendFlat;G.exports={labels:g.labels,label0:g.label0,dlabel:g.dlabel,values:g.values,marker:{colors:g.marker.colors,line:{color:v({},g.marker.line.color,{dflt:null}),width:v({},g.marker.line.width,{dflt:1}),editType:"calc"},pattern:g.marker.pattern,editType:"calc"},text:g.text,hovertext:g.hovertext,scalegroup:v({},g.scalegroup,{}),textinfo:v({},g.textinfo,{flags:["label","text","value","percent"]}),texttemplate:T({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},R.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:L({},{keys:["label","color","value","text","percent"]}),textposition:v({},g.textposition,{values:["inside","none"],dflt:"inside"}),textfont:g.textfont,insidetextfont:g.insidetextfont,title:{text:g.title.text,font:g.title.font,position:v({},g.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:i({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(G,V,e){var g=e(74875);V.name="funnelarea",V.plot=function(R,i,L,T){g.plotBasePlot(V.name,R,i,L,T)},V.clean=function(R,i,L,T){g.cleanBasePlot(V.name,R,i,L,T)}},89574:function(G,V,e){var g=e(32354);function R(L,T){return g.calc(L,T)}function i(L){g.crossTraceCalc(L,{type:"funnelarea"})}G.exports={calc:R,crossTraceCalc:i}},86282:function(G,V,e){var g=e(71828),R=e(86807),i=e(27670).c,L=e(90769).handleText,T=e(37434).handleLabelsAndValues,v=e(37434).handleMarkerDefaults;G.exports=function(t,r,l,n){function s(M,C){return g.coerce(t,r,R,M,C)}var c=s("labels"),u=s("values"),y=T(c,u),h=y.len;if(r._hasLabels=y.hasLabels,r._hasValues=y.hasValues,!r._hasLabels&&r._hasValues&&(s("label0"),s("dlabel")),!h){r.visible=!1;return}r._length=h,v(t,r,n,s),s("scalegroup");var b=s("text"),f=s("texttemplate"),o;if(f||(o=s("textinfo",Array.isArray(b)?"text+percent":"percent")),s("hovertext"),s("hovertemplate"),f||o&&o!=="none"){var d=s("textposition");L(t,r,n,s,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}i(r,n,s);var A=s("title.text");A&&(s("title.position"),g.coerceFont(s,"title.font",n.font)),s("aspectratio"),s("baseratio")}},10421:function(G,V,e){G.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(G,V,e){var g=e(92774).hiddenlabels;G.exports={hiddenlabels:g,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(G,V,e){var g=e(71828),R=e(80097);G.exports=function(L,T){function v(p,t){return g.coerce(L,T,R,p,t)}v("hiddenlabels"),v("funnelareacolorway",T.colorway),v("extendfunnelareacolors")}},79187:function(G,V,e){var g=e(39898),R=e(91424),i=e(71828),L=i.strScale,T=i.strTranslate,v=e(63893),p=e(17295),t=p.toMoveInsideBar,r=e(72597),l=r.recordMinTextSize,n=r.clearMinTextSize,s=e(53581),c=e(14575),u=c.attachFxHandlers,y=c.determineInsideTextFont,h=c.layoutAreas,b=c.prerenderTitles,f=c.positionTitleOutside,o=c.formatSliceLabel;G.exports=function(m,S){var x=m._context.staticPlot,a=m._fullLayout;n("funnelarea",a),b(S,m),h(S,a._size),i.makeTraceGroups(a._funnelarealayer,S,"trace").each(function(E){var w=g.select(this),k=E[0],I=k.trace;M(E),w.each(function(){var U=g.select(this).selectAll("g.slice").data(E);U.enter().append("g").classed("slice",!0),U.exit().remove(),U.each(function(N,B){if(N.hidden){g.select(this).selectAll("path,g").remove();return}N.pointNumber=N.i,N.curveNumber=I.index;var F=k.cx,H=k.cy,X=g.select(this),q=X.selectAll("path.surface").data([N]);q.enter().append("path").classed("surface",!0).style({"pointer-events":x?"none":"all"}),X.call(u,m,E);var ne="M"+(F+N.TR[0])+","+(H+N.TR[1])+d(N.TR,N.BR)+d(N.BR,N.BL)+d(N.BL,N.TL)+"Z";q.attr("d",ne),o(m,N,k);var oe=s.castOption(I.textposition,N.pts),ve=X.selectAll("g.slicetext").data(N.text&&oe!=="none"?[0]:[]);ve.enter().append("g").classed("slicetext",!0),ve.exit().remove(),ve.each(function(){var J=i.ensureSingle(g.select(this),"text","",function(le){le.attr("data-notex",1)}),Y=i.ensureUniformFontSize(m,y(I,N,a.font));J.text(N.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(R.font,Y).call(v.convertToTspans,m);var j=R.bBox(J.node()),K,te,se,Q=Math.min(N.BL[1],N.BR[1])+H,ee=Math.max(N.TL[1],N.TR[1])+H;te=Math.max(N.TL[0],N.BL[0])+F,se=Math.min(N.TR[0],N.BR[0])+F,K=t(te,se,Q,ee,j,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),K.fontSize=Y.size,l(I.type,K,a),E[B].transform=K,i.setTransormAndDisplay(J,K)})});var z=g.select(this).selectAll("g.titletext").data(I.title.text?[0]:[]);z.enter().append("g").classed("titletext",!0),z.exit().remove(),z.each(function(){var N=i.ensureSingle(g.select(this),"text","",function(H){H.attr("data-notex",1)}),B=I.title.text;I._meta&&(B=i.templateString(B,I._meta)),N.text(B).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(R.font,I.title.font).call(v.convertToTspans,m);var F=f(k,a._size);N.attr("transform",T(F.x,F.y)+L(Math.min(1,F.scale))+T(F.tx,F.ty))})})})};function d(C,m){var S=m[0]-C[0],x=m[1]-C[1];return"l"+S+","+x}function A(C,m){return[.5*(C[0]+m[0]),.5*(C[1]+m[1])]}function M(C){if(!C.length)return;var m=C[0],S=m.trace,x=S.aspectratio,a=S.baseratio;a>.999&&(a=.999);var E=Math.pow(a,2),w=m.vTotal,k=w*E/(1-E),I=w,U=k/w;function z(){var ie=Math.sqrt(U);return{x:ie,y:-ie}}function N(){var ie=z();return[ie.x,ie.y]}var B,F=[];F.push(N());var H,X;for(H=C.length-1;H>-1;H--)if(X=C[H],!X.hidden){var q=X.v/I;U+=q,F.push(N())}var ne=1/0,oe=-1/0;for(H=0;H<F.length;H++)B=F[H],ne=Math.min(ne,B[1]),oe=Math.max(oe,B[1]);for(H=0;H<F.length;H++)F[H][1]-=(oe+ne)/2;var ve=F[F.length-1][0],J=m.r,Y=(oe-ne)/2,j=J/ve,K=J/Y*x;for(m.r=K*Y,H=0;H<F.length;H++)F[H][0]*=j,F[H][1]*=K;B=F[0];var te=[-B[0],B[1]],se=[B[0],B[1]],Q=0;for(H=C.length-1;H>-1;H--)if(X=C[H],!X.hidden){Q+=1;var ee=F[Q][0],le=F[Q][1];X.TL=[-ee,le],X.TR=[ee,le],X.BL=te,X.BR=se,X.pxmid=A(X.TR,X.BR),te=X.TL,se=X.TR}}},71858:function(G,V,e){var g=e(39898),R=e(63463),i=e(72597).resizeText;G.exports=function(T){var v=T._fullLayout._funnelarealayer.selectAll(".trace");i(T,v,"funnelarea"),v.each(function(p){var t=p[0],r=t.trace,l=g.select(this);l.style({opacity:r.opacity}),l.selectAll("path.surface").each(function(n){g.select(this).call(R,n,r,T)})})}},21606:function(G,V,e){var g=e(82196),R=e(9012),i=e(41940),L=e(12663).axisHoverFormat,T=e(5386).fF,v=e(5386).si,p=e(50693),t=e(1426).extendFlat;G.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},g.x,{impliedEdits:{xtype:"array"}}),x0:t({},g.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},g.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},g.y,{impliedEdits:{ytype:"array"}}),y0:t({},g.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},g.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},g.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},g.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},g.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},g.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},g.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},g.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:T(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:i({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},R.showlegend,{dflt:!1})},{transforms:void 0},p("",{cLetter:"z",autoColorDflt:!1}))},90757:function(G,V,e){var g=e(73972),R=e(71828),i=e(89298),L=e(42973),T=e(17562),v=e(78803),p=e(68296),t=e(4742),r=e(824),l=e(43907),n=e(70769),s=e(50606).BADNUM;G.exports=function(h,b){var f=i.getFromId(h,b.xaxis||"x"),o=i.getFromId(h,b.yaxis||"y"),d=g.traceIs(b,"contour"),A=g.traceIs(b,"histogram"),M=g.traceIs(b,"gl2d"),C=d?"best":b.zsmooth,m,S,x,a,E,w,k,I,U,z,N;if(f._minDtick=0,o._minDtick=0,A)N=T(h,b),a=N.orig_x,m=N.x,S=N.x0,x=N.dx,I=N.orig_y,E=N.y,w=N.y0,k=N.dy,U=N.z;else{var B=b.z;R.isArray1D(B)?(p(b,f,o,"x","y",["z"]),m=b._x,E=b._y,B=b._z):(a=b.x?f.makeCalcdata(b,"x"):[],I=b.y?o.makeCalcdata(b,"y"):[],m=L(b,f,"x",a).vals,E=L(b,o,"y",I).vals,b._x=m,b._y=E),S=b.x0,x=b.dx,w=b.y0,k=b.dy,U=t(B,b,f,o)}(f.rangebreaks||o.rangebreaks)&&(U=u(m,E,U),A||(m=c(m),E=c(E),b._x=m,b._y=E)),!A&&(d||b.connectgaps)&&(b._emptypoints=l(U),r(U,b._emptypoints));function F(j){C=b._input.zsmooth=b.zsmooth=!1,R.warn('cannot use zsmooth: "fast": '+j)}function H(j){if(j.length>1){var K=(j[j.length-1]-j[0])/(j.length-1),te=Math.abs(K/100);for(z=0;z<j.length-1;z++)if(Math.abs(j[z+1]-j[z]-K)>te)return!1}return!0}b._islinear=!1,f.type==="log"||o.type==="log"?C==="fast"&&F("log axis found"):H(m)?H(E)?b._islinear=!0:C==="fast"&&F("y scale is not linear"):C==="fast"&&F("x scale is not linear");var X=R.maxRowLength(U),q=b.xtype==="scaled"?"":m,ne=n(b,q,S,x,X,f),oe=b.ytype==="scaled"?"":E,ve=n(b,oe,w,k,U.length,o);M||(b._extremes[f._id]=i.findExtremes(f,ne),b._extremes[o._id]=i.findExtremes(o,ve));var J={x:ne,y:ve,z:U,text:b._text||b.text,hovertext:b._hovertext||b.hovertext};if(b.xperiodalignment&&a&&(J.orig_x=a),b.yperiodalignment&&I&&(J.orig_y=I),q&&q.length===ne.length-1&&(J.xCenter=q),oe&&oe.length===ve.length-1&&(J.yCenter=oe),A&&(J.xRanges=N.xRanges,J.yRanges=N.yRanges,J.pts=N.pts),d||v(h,b,{vals:U,cLetter:"z"}),d&&b.contours&&b.contours.coloring==="heatmap"){var Y={type:b.type==="contour"?"heatmap":"histogram2d",xcalendar:b.xcalendar,ycalendar:b.ycalendar};J.xfill=n(Y,q,S,x,X,f),J.yfill=n(Y,oe,w,k,U.length,o)}return[J]};function c(y){for(var h=[],b=y.length,f=0;f<b;f++){var o=y[f];o!==s&&h.push(o)}return h}function u(y,h,b){for(var f=[],o=-1,d=0;d<b.length;d++)if(h[d]!==s){o++,f[o]=[];for(var A=0;A<b[d].length;A++)y[A]!==s&&f[o].push(b[d][A])}return f}},4742:function(G,V,e){var g=e(92770),R=e(71828),i=e(50606).BADNUM;G.exports=function(T,v,p,t){var r,l,n,s,c,u;function y(A){if(g(A))return+A}if(v&&v.transpose){for(r=0,c=0;c<T.length;c++)r=Math.max(r,T[c].length);if(r===0)return!1;n=function(A){return A.length},s=function(A,M,C){return(A[C]||[])[M]}}else r=T.length,n=function(A,M){return A[M].length},s=function(A,M,C){return(A[M]||[])[C]};var h=function(A,M,C){return M===i||C===i?i:s(A,M,C)};function b(A){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&A&&A.type==="category"&&v["_"+A._id.charAt(0)].length){var M=A._id.charAt(0),C={},m=v["_"+M+"CategoryMap"]||v[M];for(c=0;c<m.length;c++)C[m[c]]=c;return function(S){var x=C[A._categories[S]];return x+1?x:i}}else return R.identity}var f=b(p),o=b(t);t&&t.type==="category"&&(r=t._categories.length);var d=new Array(r);for(c=0;c<r;c++)for(p&&p.type==="category"?l=p._categories.length:l=n(T,c),d[c]=new Array(l),u=0;u<l;u++)d[c][u]=y(h(T,o(c),f(u)));return d}},61243:function(G){G.exports={min:"zmin",max:"zmax"}},68296:function(G,V,e){var g=e(71828),R=e(50606).BADNUM,i=e(42973);G.exports=function(T,v,p,t,r,l){var n=T._length,s=v.makeCalcdata(T,t),c=p.makeCalcdata(T,r);s=i(T,v,t,s).vals,c=i(T,p,r,c).vals;var u=T.text,y=u!==void 0&&g.isArray1D(u),h=T.hovertext,b=h!==void 0&&g.isArray1D(h),f,o,d=g.distinctVals(s),A=d.vals,M=g.distinctVals(c),C=M.vals,m=[],S,x,a=C.length,E=A.length;for(f=0;f<l.length;f++)m[f]=g.init2dArray(a,E);y&&(S=g.init2dArray(a,E)),b&&(x=g.init2dArray(a,E));var w=g.init2dArray(a,E);for(f=0;f<n;f++)if(s[f]!==R&&c[f]!==R){var k=g.findBin(s[f]+d.minDiff/2,A),I=g.findBin(c[f]+M.minDiff/2,C);for(o=0;o<l.length;o++){var U=l[o],z=T[U],N=m[o];N[I][k]=z[f],w[I][k]=f}y&&(S[I][k]=u[f]),b&&(x[I][k]=h[f])}for(T["_"+t]=A,T["_"+r]=C,o=0;o<l.length;o++)T["_"+l[o]]=m[o];y&&(T._text=S),b&&(T._hovertext=x),v&&v.type==="category"&&(T["_"+t+"CategoryMap"]=A.map(function(B){return v._categories[B]})),p&&p.type==="category"&&(T["_"+r+"CategoryMap"]=C.map(function(B){return p._categories[B]})),T._after2before=w}},76382:function(G,V,e){var g=e(71828),R=e(67684),i=e(58623),L=e(73927),T=e(49901),v=e(1586),p=e(21606);G.exports=function(r,l,n,s){function c(y,h){return g.coerce(r,l,p,y,h)}var u=R(r,l,c,s);if(!u){l.visible=!1;return}L(r,l,s,c),c("xhoverformat"),c("yhoverformat"),c("text"),c("hovertext"),c("hovertemplate"),i(c,s),T(r,l,c,s),c("hoverongaps"),c("connectgaps",g.isArray1D(l.z)&&l.zsmooth!==!1),v(r,l,s,c,{prefix:"",cLetter:"z"})}},43907:function(G,V,e){var g=e(71828).maxRowLength;G.exports=function(i){var L=[],T={},v=[],p=i[0],t=[],r=[0,0,0],l=g(i),n,s,c,u,y,h,b,f;for(s=0;s<i.length;s++)for(n=t,t=p,p=i[s+1]||[],c=0;c<l;c++)t[c]===void 0&&(h=(t[c-1]!==void 0?1:0)+(t[c+1]!==void 0?1:0)+(n[c]!==void 0?1:0)+(p[c]!==void 0?1:0),h?(s===0&&h++,c===0&&h++,s===i.length-1&&h++,c===t.length-1&&h++,h<4&&(T[[s,c]]=[s,c,h]),L.push([s,c,h])):v.push([s,c]));for(;v.length;){for(b={},f=!1,y=v.length-1;y>=0;y--)u=v[y],s=u[0],c=u[1],h=((T[[s-1,c]]||r)[2]+(T[[s+1,c]]||r)[2]+(T[[s,c-1]]||r)[2]+(T[[s,c+1]]||r)[2])/20,h&&(b[u]=[s,c,h],v.splice(y,1),f=!0);if(!f)throw"findEmpties iterated with no new neighbors";for(u in b)T[u]=b[u],L.push(b[u])}return L.sort(function(o,d){return d[2]-o[2]})}},46248:function(G,V,e){var g=e(30211),R=e(71828),i=e(89298),L=e(21081).extractOpts;G.exports=function(v,p,t,r,l){l||(l={});var n=l.isContour,s=v.cd[0],c=s.trace,u=v.xa,y=v.ya,h=s.x,b=s.y,f=s.z,o=s.xCenter,d=s.yCenter,A=s.zmask,M=c.zhoverformat,C=h,m=b,S,x,a,E;if(v.index!==!1){try{a=Math.round(v.index[1]),E=Math.round(v.index[0])}catch{R.error("Error hovering on heatmap, pointNumber must be [row,col], found:",v.index);return}if(a<0||a>=f[0].length||E<0||E>f.length)return}else{if(g.inbox(p-h[0],p-h[h.length-1],0)>0||g.inbox(t-b[0],t-b[b.length-1],0)>0)return;if(n){var w;for(C=[2*h[0]-h[1]],w=1;w<h.length;w++)C.push((h[w]+h[w-1])/2);for(C.push([2*h[h.length-1]-h[h.length-2]]),m=[2*b[0]-b[1]],w=1;w<b.length;w++)m.push((b[w]+b[w-1])/2);m.push([2*b[b.length-1]-b[b.length-2]])}a=Math.max(0,Math.min(C.length-2,R.findBin(p,C))),E=Math.max(0,Math.min(m.length-2,R.findBin(t,m)))}var k=u.c2p(h[a]),I=u.c2p(h[a+1]),U=y.c2p(b[E]),z=y.c2p(b[E+1]),N,B;n?(N=s.orig_x||h,B=s.orig_y||b,I=k,S=N[a],z=U,x=B[E]):(N=s.orig_x||o||h,B=s.orig_y||d||b,S=o?N[a]:(N[a]+N[a+1])/2,x=d?B[E]:(B[E]+B[E+1])/2,u&&u.type==="category"&&(S=h[a]),y&&y.type==="category"&&(x=b[E]),c.zsmooth&&(k=I=u.c2p(S),U=z=y.c2p(x)));var F=f[E][a];if(A&&!A[E][a]&&(F=void 0),!(F===void 0&&!c.hoverongaps)){var H;Array.isArray(s.hovertext)&&Array.isArray(s.hovertext[E])?H=s.hovertext[E][a]:Array.isArray(s.text)&&Array.isArray(s.text[E])&&(H=s.text[E][a]);var X=L(c),q={type:"linear",range:[X.min,X.max],hoverformat:M,_separators:u._separators,_numFormat:u._numFormat},ne=i.tickText(q,F,"hover").text;return[R.extendFlat(v,{index:c._after2before?c._after2before[E][a]:[E,a],distance:v.maxHoverDistance,spikeDistance:v.maxSpikeDistance,x0:k,x1:I,y0:U,y1:z,xLabelVal:S,yLabelVal:x,zLabelVal:F,zLabel:ne,text:H})]}}},92165:function(G,V,e){G.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(G,V,e){var g=e(71828),R=.01,i=[[-1,0],[1,0],[0,-1],[0,1]];function L(v){return .5-.25*Math.min(1,v*.5)}G.exports=function(p,t){var r=1,l;for(T(p,t),l=0;l<t.length&&!(t[l][2]<4);l++);for(t=t.slice(l),l=0;l<100&&r>R;l++)r=T(p,t,L(r));return r>R&&g.log("interp2d didn't converge quickly",r),p};function T(v,p,t){var r=0,l,n,s,c,u,y,h,b,f,o,d,A,M;for(c=0;c<p.length;c++){for(l=p[c],n=l[0],s=l[1],d=v[n][s],o=0,f=0,u=0;u<4;u++)y=i[u],h=v[n+y[0]],h&&(b=h[s+y[1]],b!==void 0&&(o===0?A=M=b:(A=Math.min(A,b),M=Math.max(M,b)),f++,o+=b));if(f===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][s]=o/f,d===void 0?f<4&&(r=1):(v[n][s]=(1+t)*v[n][s]-t*d,M>A&&(r=Math.max(r,Math.abs(v[n][s]-d)/(M-A))))}return r}},58623:function(G,V,e){var g=e(71828);G.exports=function(i,L){i("texttemplate");var T=g.extendFlat({},L.font,{color:"auto",size:"auto"});g.coerceFont(i,"textfont",T)}},70769:function(G,V,e){var g=e(73972),R=e(71828).isArrayOrTypedArray;G.exports=function(L,T,v,p,t,r){var l=[],n=g.traceIs(L,"contour"),s=g.traceIs(L,"histogram"),c=g.traceIs(L,"gl2d"),u,y,h,b=R(T)&&T.length>1;if(b&&!s&&r.type!=="category"){var f=T.length;if(f<=t){if(n||c)l=T.slice(0,t);else if(t===1)l=[T[0]-.5,T[0]+.5];else{for(l=[1.5*T[0]-.5*T[1]],h=1;h<f;h++)l.push((T[h-1]+T[h])*.5);l.push(1.5*T[f-1]-.5*T[f-2])}if(f<t){var o=l[l.length-1],d=o-l[l.length-2];for(h=f;h<t;h++)o+=d,l.push(o)}}else return n?T.slice(0,t):T.slice(0,t+1)}else{var A=L[r._id.charAt(0)+"calendar"];if(s)u=r.r2c(v,0,A);else if(R(T)&&T.length===1)u=T[0];else if(v===void 0)u=0;else{var M=r.type==="log"?r.d2c:r.r2c;u=M(v,0,A)}for(y=p||1,h=n||c?0:-.5;h<t;h++)l.push(u+y*h)}return l}},50347:function(G,V,e){var g=e(39898),R=e(84267),i=e(73972),L=e(91424),T=e(89298),v=e(71828),p=e(63893),t=e(8225),r=e(7901),l=e(21081).extractOpts,n=e(21081).makeColorScaleFuncFromTrace,s=e(77922),c=e(18783),u=c.LINE_SPACING,y=e(3883),h=e(32396).STYLE,b="heatmap-label";function f(C){return C.selectAll("g."+b)}function o(C){f(C).remove()}G.exports=function(C,m,S,x){var a=m.xaxis,E=m.yaxis;v.makeTraceGroups(x,S,"hm").each(function(w){var k=g.select(this),I=w[0],U=I.trace,z=U.xgap||0,N=U.ygap||0,B=I.z,F=I.x,H=I.y,X=I.xCenter,q=I.yCenter,ne=i.traceIs(U,"contour"),oe=ne?"best":U.zsmooth,ve=B.length,J=v.maxRowLength(B),Y=!1,j=!1,K,te,se,Q,ee,le,ie,he;for(le=0;K===void 0&&le<F.length-1;)K=a.c2p(F[le]),le++;for(le=F.length-1;te===void 0&&le>0;)te=a.c2p(F[le]),le--;for(te<K&&(se=te,te=K,K=se,Y=!0),le=0;Q===void 0&&le<H.length-1;)Q=E.c2p(H[le]),le++;for(le=H.length-1;ee===void 0&&le>0;)ee=E.c2p(H[le]),le--;ee<Q&&(se=Q,Q=ee,ee=se,j=!0),ne&&(X=F,q=H,F=I.xfill,H=I.yfill);var xe="default";if(oe?xe=oe==="best"?"smooth":"fast":U._islinear&&z===0&&N===0&&y()&&(xe="fast"),xe!=="fast"){var Se=oe==="best"?0:.5;K=Math.max(-Se*a._length,K),te=Math.min((1+Se)*a._length,te),Q=Math.max(-Se*E._length,Q),ee=Math.min((1+Se)*E._length,ee)}var Ee=Math.round(te-K),Ne=Math.round(ee-Q),He=K>=a._length||te<=0||Q>=E._length||ee<=0;if(He){var Ce=k.selectAll("image").data([]);Ce.exit().remove(),o(k);return}var be,we;xe==="fast"?(be=J,we=ve):(be=Ee,we=Ne);var ke=document.createElement("canvas");ke.width=be,ke.height=we;var Fe=ke.getContext("2d"),Pe=n(U,{noNumericCheck:!0,returnArray:!0}),Ge,nt;xe==="fast"?(Ge=Y?function(nn){return J-1-nn}:v.identity,nt=j?function(nn){return ve-1-nn}:v.identity):(Ge=function(nn){return v.constrain(Math.round(a.c2p(F[nn])-K),0,Ee)},nt=function(nn){return v.constrain(Math.round(E.c2p(H[nn])-Q),0,Ne)});var qe=nt(0),Ke=[qe,qe],$e=Y?0:1,vt=j?0:1,yt=0,mt=0,Et=0,Xe=0,Ue,Be,rt,it,Ye;function De(nn,bn){if(nn!==void 0){var dn=Pe(nn);return dn[0]=Math.round(dn[0]),dn[1]=Math.round(dn[1]),dn[2]=Math.round(dn[2]),yt+=bn,mt+=dn[0]*bn,Et+=dn[1]*bn,Xe+=dn[2]*bn,dn}return[0,0,0,0]}function Te(nn,bn,dn,Pn){var zn=nn[dn.bin0];if(zn===void 0)return De(void 0,1);var ta=nn[dn.bin1],oa=bn[dn.bin0],ya=bn[dn.bin1],ca=ta-zn||0,la=oa-zn||0,Pr;return ta===void 0?ya===void 0?Pr=0:oa===void 0?Pr=2*(ya-zn):Pr=(2*ya-oa-zn)*2/3:ya===void 0?oa===void 0?Pr=0:Pr=(2*zn-ta-oa)*2/3:oa===void 0?Pr=(2*ya-ta-zn)*2/3:Pr=ya+zn-ta-oa,De(zn+dn.frac*ca+Pn.frac*(la+dn.frac*Pr))}if(xe!=="default"){var fe=0,me;try{me=new Uint8Array(be*we*4)}catch{me=new Array(be*we*4)}if(xe==="smooth"){var Re=X||F,Oe=q||H,st=new Array(Re.length),ut=new Array(Oe.length),Tt=new Array(Ee),It=X?A:d,Gt=q?A:d,jt,Pt,Qt;for(le=0;le<Re.length;le++)st[le]=Math.round(a.c2p(Re[le])-K);for(le=0;le<Oe.length;le++)ut[le]=Math.round(E.c2p(Oe[le])-Q);for(le=0;le<Ee;le++)Tt[le]=It(le,st);for(ie=0;ie<Ne;ie++)for(jt=Gt(ie,ut),Pt=B[jt.bin0],Qt=B[jt.bin1],le=0;le<Ee;le++,fe+=4)Ye=Te(Pt,Qt,Tt[le],jt),M(me,fe,Ye)}else for(ie=0;ie<ve;ie++)for(it=B[ie],Ke=nt(ie),le=0;le<J;le++)Ye=De(it[le],1),fe=(Ke*J+Ge(le))*4,M(me,fe,Ye);var or=Fe.createImageData(be,we);try{or.data.set(me)}catch{var zr=or.data,bt=zr.length;for(ie=0;ie<bt;ie++)zr[ie]=me[ie]}Fe.putImageData(or,0,0)}else{var Jt=Math.floor(z/2),Zt=Math.floor(N/2);for(ie=0;ie<ve;ie++)if(it=B[ie],Ke.reverse(),Ke[vt]=nt(ie+1),!(Ke[0]===Ke[1]||Ke[0]===void 0||Ke[1]===void 0))for(Be=Ge(0),Ue=[Be,Be],le=0;le<J;le++)Ue.reverse(),Ue[$e]=Ge(le+1),!(Ue[0]===Ue[1]||Ue[0]===void 0||Ue[1]===void 0)&&(rt=it[le],Ye=De(rt,(Ue[1]-Ue[0])*(Ke[1]-Ke[0])),Fe.fillStyle="rgba("+Ye.join(",")+")",Fe.fillRect(Ue[0]+Jt,Ke[0]+Zt,Ue[1]-Ue[0]-z,Ke[1]-Ke[0]-N))}mt=Math.round(mt/yt),Et=Math.round(Et/yt),Xe=Math.round(Xe/yt);var Ar=R("rgb("+mt+","+Et+","+Xe+")");C._hmpixcount=(C._hmpixcount||0)+yt,C._hmlumcount=(C._hmlumcount||0)+yt*Ar.getLuminance();var dr=k.selectAll("image").data(w);dr.enter().append("svg:image").attr({xmlns:s.svg,preserveAspectRatio:"none"}),dr.attr({height:Ne,width:Ee,x:K,y:Q,"xlink:href":ke.toDataURL("image/png")}),xe==="fast"&&!oe&&dr.attr("style",h),o(k);var ht=U.texttemplate;if(ht){var ct=l(U),wt={type:"linear",range:[ct.min,ct.max],_separators:a._separators,_numFormat:a._numFormat},St=U.type==="histogram2dcontour",Rt=U.type==="contour",Ct=Rt?1:0,Ot=Rt?ve-1:ve,Wt=Rt?1:0,er=Rt?J-1:J,$t=[];for(le=Ct;le<Ot;le++){var sr;if(Rt)sr=I.y[le];else if(St){if(le===0||le===ve-1)continue;sr=I.y[le]}else if(I.yCenter)sr=I.yCenter[le];else{if(le+1===ve&&I.y[le+1]===void 0)continue;sr=(I.y[le]+I.y[le+1])/2}var Cr=Math.round(E.c2p(sr));if(!(0>Cr||Cr>E._length))for(ie=Wt;ie<er;ie++){var je;if(Rt)je=I.x[ie];else if(St){if(ie===0||ie===J-1)continue;je=I.x[ie]}else if(I.xCenter)je=I.xCenter[ie];else{if(ie+1===J&&I.x[ie+1]===void 0)continue;je=(I.x[ie]+I.x[ie+1])/2}var We=Math.round(a.c2p(je));if(!(0>We||We>a._length)){var kt=t({x:je,y:sr},U,C._fullLayout);kt.x=je,kt.y=sr;var zt=I.z[le][ie];zt===void 0?(kt.z="",kt.zLabel=""):(kt.z=zt,kt.zLabel=T.tickText(wt,zt,"hover").text);var Xt=I.text&&I.text[le]&&I.text[le][ie];(Xt===void 0||Xt===!1)&&(Xt=""),kt.text=Xt;var lr=v.texttemplateString(ht,kt,C._fullLayout._d3locale,kt,U._meta||{});if(lr){var cr=lr.split("<br>"),nr=cr.length,Bt=0;for(he=0;he<nr;he++)Bt=Math.max(Bt,cr[he].length);$t.push({l:nr,c:Bt,t:lr,x:We,y:Cr,z:zt})}}}}var vr=U.textfont,yr=vr.family,mr=vr.size,gr=C._fullLayout.font.size;if(!mr||mr==="auto"){var Zr=1/0,Ur=1/0,Br=0,Tn=0;for(he=0;he<$t.length;he++){var Kr=$t[he];if(Br=Math.max(Br,Kr.l),Tn=Math.max(Tn,Kr.c),he<$t.length-1){var Bn=$t[he+1],On=Math.abs(Bn.x-Kr.x),Tr=Math.abs(Bn.y-Kr.y);On&&(Zr=Math.min(Zr,On)),Tr&&(Ur=Math.min(Ur,Tr))}}!isFinite(Zr)||!isFinite(Ur)?mr=gr:(Zr-=z,Ur-=N,Zr/=Tn,Ur/=Br,Zr/=u/2,Ur/=u,mr=Math.min(Math.floor(Zr),Math.floor(Ur),gr))}if(mr<=0||!isFinite(mr))return;var Mr=function(nn){return nn.x},Hr=function(nn){return nn.y-mr*(nn.l*u/2-1)},Vr=f(k).data($t);Vr.enter().append("g").classed(b,1).append("text").attr("text-anchor","middle").each(function(nn){var bn=g.select(this),dn=vr.color;(!dn||dn==="auto")&&(dn=r.contrast("rgba("+Pe(nn.z).join()+")")),bn.attr("data-notex",1).call(p.positionText,Mr(nn),Hr(nn)).call(L.font,yr,mr,dn).text(nn.t).call(p.convertToTspans,C)})}})};function d(C,m){var S=m.length-2,x=v.constrain(v.findBin(C,m),0,S),a=m[x],E=m[x+1],w=v.constrain(x+(C-a)/(E-a)-.5,0,S),k=Math.round(w),I=Math.abs(w-k);return!w||w===S||!I?{bin0:k,bin1:k,frac:0}:{bin0:k,frac:I,bin1:Math.round(k+I/(w-k))}}function A(C,m){var S=m.length-1,x=v.constrain(v.findBin(C,m),0,S),a=m[x],E=m[x+1],w=(C-a)/(E-a)||0;return w<=0?{bin0:x,bin1:x,frac:0}:w<.5?{bin0:x,bin1:x+1,frac:w}:{bin0:x+1,bin1:x,frac:1-w}}function M(C,m,S){C[m]=S[0],C[m+1]=S[1],C[m+2]=S[2],C[m+3]=Math.round(S[3]*255)}},70035:function(G,V,e){var g=e(39898);G.exports=function(i){g.select(i).selectAll(".hm image").style("opacity",function(L){return L.trace.opacity})}},49901:function(G){G.exports=function(e,g,R){var i=R("zsmooth");i===!1&&(R("xgap"),R("ygap")),R("zhoverformat")}},67684:function(G,V,e){var g=e(92770),R=e(71828),i=e(73972);G.exports=function(p,t,r,l,n,s){var c=r("z");n=n||"x",s=s||"y";var u,y;if(c===void 0||!c.length)return 0;if(R.isArray1D(p.z)){u=r(n),y=r(s);var h=R.minRowLength(u),b=R.minRowLength(y);if(h===0||b===0)return 0;t._length=Math.min(h,b,c.length)}else{if(u=L(n,r),y=L(s,r),!T(c))return 0;r("transpose"),t._length=null}if(p.type==="heatmapgl")return!0;var f=i.getComponentMethod("calendars","handleTraceDefaults");return f(p,t,[n,s],l),!0};function L(v,p){var t=p(v),r=t?p(v+"type","array"):"scaled";return r==="scaled"&&(p(v+"0"),p("d"+v)),t}function T(v){for(var p=!0,t=!1,r=!1,l,n=0;n<v.length;n++){if(l=v[n],!R.isArrayOrTypedArray(l)){p=!1;break}l.length>0&&(t=!0);for(var s=0;s<l.length;s++)if(g(l[s])){r=!0;break}}return p&&t&&r}},16063:function(G,V,e){for(var g=e(21606),R=e(50693),i=e(1426).extendFlat,L=e(30962).overrideAll,T=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},p=0;p<T.length;p++){var t=T[p];v[t]=g[t]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},i(v,R("",{cLetter:"z",autoColorDflt:!1})),G.exports=L(v,"calc","nested")},59560:function(G,V,e){var g=e(9330).gl_heatmap2d,R=e(89298),i=e(78614);function L(t,r){this.scene=t,this.uid=r,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=g(t.glplot,this.options),this.heatmap._trace=this}var T=L.prototype;T.handlePick=function(t){var r=this.options,l=r.shape,n=t.pointId,s=n%l[0],c=Math.floor(n/l[0]),u=n;return{trace:this,dataCoord:t.dataCoord,traceCoord:[r.x[s],r.y[c],r.z[u]],textLabel:this.textLabels[n],name:this.name,pointIndex:[c,s],hoverinfo:this.hoverinfo}},T.update=function(t,r){var l=r[0];this.index=t.index,this.name=t.name,this.hoverinfo=t.hoverinfo;var n=l.z;this.options.z=[].concat.apply([],n);var s=n[0].length,c=n.length;this.options.shape=[s,c],this.options.x=l.x,this.options.y=l.y,this.options.zsmooth=t.zsmooth;var u=v(t);this.options.colorLevels=u.colorLevels,this.options.colorValues=u.colorValues,this.textLabels=[].concat.apply([],t.text),this.heatmap.update(this.options);var y=this.scene.xaxis,h=this.scene.yaxis,b,f;t.zsmooth===!1&&(b={ppad:l.x[1]-l.x[0]},f={ppad:l.y[1]-l.y[0]}),t._extremes[y._id]=R.findExtremes(y,l.x,b),t._extremes[h._id]=R.findExtremes(h,l.y,f)},T.dispose=function(){this.heatmap.dispose()};function v(t){for(var r=t.colorscale,l=t.zmin,n=t.zmax,s=r.length,c=new Array(s),u=new Array(4*s),y=0;y<s;y++){var h=r[y],b=i(h[1]);c[y]=l+h[0]*(n-l);for(var f=0;f<4;f++)u[4*y+f]=b[f]}return{colorLevels:c,colorValues:u}}function p(t,r,l){var n=new L(t,r.uid);return n.update(r,l),n}G.exports=p},19600:function(G,V,e){var g=e(71828),R=e(67684),i=e(1586),L=e(16063);G.exports=function(v,p,t,r){function l(s,c){return g.coerce(v,p,L,s,c)}var n=R(v,p,l,r);if(!n){p.visible=!1;return}l("text"),l("zsmooth"),i(v,p,r,l,{prefix:"",cLetter:"z"})}},3325:function(G,V,e){G.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(G,V,e){var g=e(1486),R=e(12663).axisHoverFormat,i=e(5386).fF,L=e(5386).si,T=e(41940),v=e(17656),p=e(72406),t=e(1426).extendFlat;G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:R("x"),yhoverformat:R("y"),text:t({},g.text,{}),hovertext:t({},g.hovertext,{}),orientation:g.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({},{keys:p.eventDataKeys}),texttemplate:L({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},g.textposition,{arrayOk:!1}),textfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:g.insidetextanchor,textangle:g.textangle,cliponaxis:g.cliponaxis,constraintext:g.constraintext,marker:g.marker,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,_deprecated:{bardir:g._deprecated.bardir}}},42174:function(G){G.exports=function(e,g){for(var R=e.length,i=0,L=0;L<R;L++)g[L]?(e[L]/=g[L],i+=e[L]):e[L]=null;return i}},17656:function(G){G.exports=function(e,g){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(G,V,e){var g=e(92770);G.exports={count:function(R,i,L){return L[R]++,1},sum:function(R,i,L,T){var v=T[i];return g(v)?(v=Number(v),L[R]+=v,v):0},avg:function(R,i,L,T,v){var p=T[i];return g(p)&&(p=Number(p),L[R]+=p,v[R]++),0},min:function(R,i,L,T){var v=T[i];if(g(v))if(v=Number(v),g(L[R])){if(L[R]>v){var p=v-L[R];return L[R]=v,p}}else return L[R]=v,v;return 0},max:function(R,i,L,T){var v=T[i];if(g(v))if(v=Number(v),g(L[R])){if(L[R]<v){var p=v-L[R];return L[R]=v,p}}else return L[R]=v,v;return 0}}},40965:function(G,V,e){var g=e(50606),R=g.ONEAVGYEAR,i=g.ONEAVGMONTH,L=g.ONEDAY,T=g.ONEHOUR,v=g.ONEMIN,p=g.ONESEC,t=e(89298).tickIncrement;G.exports=function(u,y,h,b,f){var o=-1.1*y,d=-.1*y,A=u-d,M=h[0],C=h[1],m=Math.min(r(M+d,M+A,b,f),r(C+d,C+A,b,f)),S=Math.min(r(M+o,M+d,b,f),r(C+o,C+d,b,f)),x,a;if(m>S&&S<Math.abs(C-M)/4e3?(x=m,a=!1):(x=Math.min(m,S),a=!0),b.type==="date"&&x>L){var E=x===R?1:6,w=x===R?"M12":"M1";return function(k,I){var U=b.c2d(k,R,f),z=U.indexOf("-",E);z>0&&(U=U.substr(0,z));var N=b.d2c(U,0,f);if(N<k){var B=t(N,w,!1,f);(N+B)/2<k+u&&(N=B)}return I&&a?t(N,w,!0,f):N}}return function(k,I){var U=x*Math.round(k/x);return U+x/10<k&&U+x*.9<k+u&&(U+=x),I&&a&&(U-=x),U}};function r(c,u,y,h){if(c*u<=0)return 1/0;for(var b=Math.abs(u-c),f=y.type==="date",o=l(b,f),d=0;d<10;d++){var A=l(o*80,f);if(o===A)break;if(n(A,c,u,f,y,h))o=A;else break}return o}function l(c,u){return u&&c>p?c>L?c>R*1.1?R:c>i*1.1?i:L:c>T?T:c>v?v:p:Math.pow(10,Math.floor(Math.log(c)/Math.LN10))}function n(c,u,y,h,b,f){if(h&&c>L){var o=s(u,b,f),d=s(y,b,f),A=c===R?0:1;return o[A]!==d[A]}return Math.floor(y/c)-Math.floor(u/c)>.1}function s(c,u,y){var h=u.c2d(c,R,y).split("-");return h[0]===""&&(h.unshift(),h[0]="-"+h[0]),h}},72138:function(G,V,e){var g=e(92770),R=e(71828),i=e(73972),L=e(89298),T=e(75341),v=e(59575),p=e(36362),t=e(42174),r=e(40965);function l(y,h){var b=[],f=[],o=h.orientation==="h",d=L.getFromId(y,o?h.yaxis:h.xaxis),A=o?"y":"x",M={x:"y",y:"x"}[A],C=h[A+"calendar"],m=h.cumulative,S,x=n(y,h,d,A),a=x[0],E=x[1],w=typeof a.size=="string",k=[],I=w?k:a,U=[],z=[],N=[],B=0,F=h.histnorm,H=h.histfunc,X=F.indexOf("density")!==-1,q,ne,oe;m.enabled&&X&&(F=F.replace(/ ?density$/,""),X=!1);var ve=H==="max"||H==="min",J=ve?null:0,Y=v.count,j=p[F],K=!1,te=function(Fe){return d.r2c(Fe,0,C)},se;for(R.isArrayOrTypedArray(h[M])&&H!=="count"&&(se=h[M],K=H==="avg",Y=v[H]),S=te(a.start),ne=te(a.end)+(S-L.tickIncrement(S,a.size,!1,C))/1e6;S<ne&&b.length<1e6&&(q=L.tickIncrement(S,a.size,!1,C),b.push((S+q)/2),f.push(J),N.push([]),k.push(S),X&&U.push(1/(q-S)),K&&z.push(0),!(q<=S));)S=q;k.push(S),!w&&d.type==="date"&&(I={start:te(I.start),end:te(I.end),size:I.size}),y._fullLayout._roundFnOpts||(y._fullLayout._roundFnOpts={});var Q=h["_"+A+"bingroup"],ee={leftGap:1/0,rightGap:1/0};Q&&(y._fullLayout._roundFnOpts[Q]||(y._fullLayout._roundFnOpts[Q]=ee),ee=y._fullLayout._roundFnOpts[Q]);var le=f.length,ie=!0,he=ee.leftGap,xe=ee.rightGap,Se={};for(S=0;S<E.length;S++){var Ee=E[S];oe=R.findBin(Ee,I),oe>=0&&oe<le&&(B+=Y(oe,S,f,se,z),ie&&N[oe].length&&Ee!==E[N[oe][0]]&&(ie=!1),N[oe].push(S),Se[S]=oe,he=Math.min(he,Ee-k[oe]),xe=Math.min(xe,k[oe+1]-Ee))}ee.leftGap=he,ee.rightGap=xe;var Ne;ie||(Ne=function(Fe,Pe){return function(){var Ge=y._fullLayout._roundFnOpts[Q];return r(Ge.leftGap,Ge.rightGap,k,d,C)(Fe,Pe)}}),K&&(B=t(f,z)),j&&j(f,B,U),m.enabled&&u(f,m.direction,m.currentbin);var He=Math.min(b.length,f.length),Ce=[],be=0,we=He-1;for(S=0;S<He;S++)if(f[S]){be=S;break}for(S=He-1;S>=be;S--)if(f[S]){we=S;break}for(S=be;S<=we;S++)if(g(b[S])&&g(f[S])){var ke={p:b[S],s:f[S],b:0};m.enabled||(ke.pts=N[S],ie?ke.ph0=ke.ph1=N[S].length?E[N[S][0]]:b[S]:(h._computePh=!0,ke.ph0=Ne(k[S]),ke.ph1=Ne(k[S+1],!0))),Ce.push(ke)}return Ce.length===1&&(Ce[0].width1=L.tickIncrement(Ce[0].p,a.size,!1,C)-Ce[0].p),T(Ce,h),R.isArrayOrTypedArray(h.selectedpoints)&&R.tagSelected(Ce,h,Se),Ce}function n(y,h,b,f,o){var d=f+"bins",A=y._fullLayout,M=h["_"+f+"bingroup"],C=A._histogramBinOpts[M],m=A.barmode==="overlay",S,x,a,E,w,k,I,U=function(Ee){return b.r2c(Ee,0,E)},z=function(Ee){return b.c2r(Ee,0,E)},N=b.type==="date"?function(Ee){return Ee||Ee===0?R.cleanDate(Ee,null,E):null}:function(Ee){return g(Ee)?Number(Ee):null};function B(Ee,Ne,He){Ne[Ee+"Found"]?(Ne[Ee]=N(Ne[Ee]),Ne[Ee]===null&&(Ne[Ee]=He[Ee])):(k[Ee]=Ne[Ee]=He[Ee],R.nestedProperty(x[0],d+"."+Ee).set(He[Ee]))}if(h["_"+f+"autoBinFinished"])delete h["_"+f+"autoBinFinished"];else{x=C.traces;var F=[],H=!0,X=!1,q=!1;for(S=0;S<x.length;S++)if(a=x[S],a.visible){var ne=C.dirs[S];w=a["_"+ne+"pos0"]=b.makeCalcdata(a,ne),F=R.concat(F,w),delete a["_"+f+"autoBinFinished"],h.visible===!0&&(H?H=!1:(delete a._autoBin,a["_"+f+"autoBinFinished"]=1),i.traceIs(a,"2dMap")&&(X=!0),a.type==="histogram2dcontour"&&(q=!0))}E=x[0][f+"calendar"];var oe=L.autoBin(F,b,C.nbins,X,E,C.sizeFound&&C.size),ve=x[0]._autoBin={};if(k=ve[C.dirs[0]]={},q&&(C.size||(oe.start=z(L.tickIncrement(U(oe.start),oe.size,!0,E))),C.end===void 0&&(oe.end=z(L.tickIncrement(U(oe.end),oe.size,!1,E)))),m&&!i.traceIs(h,"2dMap")&&oe._dataSpan===0&&b.type!=="category"&&b.type!=="multicategory"){if(o)return[oe,w,!0];oe=s(y,h,b,f,d)}I=a.cumulative||{},I.enabled&&I.currentbin!=="include"&&(I.direction==="decreasing"?oe.start=z(L.tickIncrement(U(oe.start),oe.size,!0,E)):oe.end=z(L.tickIncrement(U(oe.end),oe.size,!1,E))),C.size=oe.size,C.sizeFound||(k.size=oe.size,R.nestedProperty(x[0],d+".size").set(oe.size)),B("start",C,oe),B("end",C,oe)}w=h["_"+f+"pos0"],delete h["_"+f+"pos0"];var J=h._input[d]||{},Y=R.extendFlat({},C),j=C.start,K=b.r2l(J.start),te=K!==void 0;if((C.startFound||te)&&K!==b.r2l(j)){var se=te?K:R.aggNums(Math.min,null,w),Q={type:b.type==="category"||b.type==="multicategory"?"linear":b.type,r2l:b.r2l,dtick:C.size,tick0:j,calendar:E,range:[se,L.tickIncrement(se,C.size,!1,E)].map(b.l2r)},ee=L.tickFirst(Q);ee>b.r2l(se)&&(ee=L.tickIncrement(ee,C.size,!0,E)),Y.start=b.l2r(ee),te||R.nestedProperty(h,d+".start").set(Y.start)}var le=C.end,ie=b.r2l(J.end),he=ie!==void 0;if((C.endFound||he)&&ie!==b.r2l(le)){var xe=he?ie:R.aggNums(Math.max,null,w);Y.end=b.l2r(xe),he||R.nestedProperty(h,d+".start").set(Y.end)}var Se="autobin"+f;return h._input[Se]===!1&&(h._input[d]=R.extendFlat({},h[d]||{}),delete h._input[Se],delete h[Se]),[Y,w]}function s(y,h,b,f,o){var d=y._fullLayout,A=c(y,h),M=!1,C=1/0,m=[h],S,x,a;for(S=0;S<A.length;S++)if(x=A[S],x===h)M=!0;else if(!M)a=d._histogramBinOpts[x["_"+f+"bingroup"]],C=Math.min(C,a.size||x[o].size);else{var E=n(y,x,b,f,!0),w=E[0],k=E[2];x["_"+f+"autoBinFinished"]=1,x["_"+f+"pos0"]=E[1],k?m.push(x):C=Math.min(C,w.size)}var I=new Array(m.length);for(S=0;S<m.length;S++)for(var U=m[S]["_"+f+"pos0"],z=0;z<U.length;z++)if(U[z]!==void 0){I[S]=U[z];break}for(isFinite(C)||(C=R.distinctVals(I).minDiff),S=0;S<m.length;S++){x=m[S];var N=x[f+"calendar"],B={start:b.c2r(I[S]-C/2,0,N),end:b.c2r(I[S]+C/2,0,N),size:C};x._input[o]=x[o]=B,a=d._histogramBinOpts[x["_"+f+"bingroup"]],a&&R.extendFlat(a,B)}return h[o]}function c(y,h){for(var b=h.xaxis,f=h.yaxis,o=h.orientation,d=[],A=y._fullData,M=0;M<A.length;M++){var C=A[M];C.type==="histogram"&&C.visible===!0&&C.orientation===o&&C.xaxis===b&&C.yaxis===f&&d.push(C)}return d}function u(y,h,b){var f,o,d;function A(C){d=y[C],y[C]/=2}function M(C){o=y[C],y[C]=d+o/2,d+=o}if(b==="half")if(h==="increasing")for(A(0),f=1;f<y.length;f++)M(f);else for(A(y.length-1),f=y.length-2;f>=0;f--)M(f);else if(h==="increasing"){for(f=1;f<y.length;f++)y[f]+=y[f-1];b==="exclude"&&(y.unshift(0),y.pop())}else{for(f=y.length-2;f>=0;f--)y[f]+=y[f+1];b==="exclude"&&(y.push(0),y.shift())}}G.exports={calc:l,calcAllAutoBins:n}},72406:function(G){G.exports={eventDataKeys:["binNumber"]}},82222:function(G,V,e){var g=e(71828),R=e(41675),i=e(73972).traceIs,L=e(26125),T=g.nestedProperty,v=e(99082).getAxisGroup,p=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];G.exports=function(l,n){var s=n._histogramBinOpts={},c=[],u={},y=[],h,b,f,o,d,A,M;function C(q,ne){return g.coerce(h._input,h,h._module.attributes,q,ne)}function m(q){return q.orientation==="v"?"x":"y"}function S(q,ne){var oe=R.getFromTrace({_fullLayout:n},q,ne);return oe.type}function x(q,ne,oe){var ve=q.uid+"__"+oe;ne||(ne=ve);var J=S(q,oe),Y=q[oe+"calendar"]||"",j=s[ne],K=!0;j&&(J===j.axType&&Y===j.calendar?(K=!1,j.traces.push(q),j.dirs.push(oe)):(ne=ve,J!==j.axType&&g.warn(["Attempted to group the bins of trace",q.index,"set on a","type:"+J,"axis","with bins on","type:"+j.axType,"axis."].join(" ")),Y!==j.calendar&&g.warn(["Attempted to group the bins of trace",q.index,"set with a",Y,"calendar","with bins",j.calendar?"on a "+j.calendar+" calendar":"w/o a set calendar"].join(" ")))),K&&(s[ne]={traces:[q],dirs:[oe],axType:J,calendar:q[oe+"calendar"]||""}),q["_"+oe+"bingroup"]=ne}for(d=0;d<l.length;d++)h=l[d],i(h,"histogram")&&(c.push(h),delete h._xautoBinFinished,delete h._yautoBinFinished,i(h,"2dMap")||L(h._input,h,n,C));var a=n._alignmentOpts||{};for(d=0;d<c.length;d++){if(h=c[d],f="",!i(h,"2dMap")){if(o=m(h),n.barmode==="group"&&h.alignmentgroup){var E=h[o+"axis"],w=v(n,E)+h.orientation;(a[w]||{})[h.alignmentgroup]&&(f=w)}!f&&n.barmode!=="overlay"&&(f=v(n,h.xaxis)+v(n,h.yaxis)+m(h))}f?(u[f]||(u[f]=[]),u[f].push(h)):y.push(h)}for(f in u){if(b=u[f],b.length===1){y.push(b[0]);continue}var k=!1;for(b.length&&(h=b[0],k=C("bingroup")),f=k||f,d=0;d<b.length;d++){h=b[d];var I=h._input.bingroup;I&&I!==f&&g.warn(["Trace",h.index,"must match","within bingroup",f+".","Ignoring its bingroup:",I,"setting."].join(" ")),h.bingroup=f,x(h,f,m(h))}}for(d=0;d<y.length;d++){h=y[d];var U=C("bingroup");if(i(h,"2dMap"))for(M=0;M<2;M++){o=t[M];var z=C(o+"bingroup",U?U+"__"+o:null);x(h,z,o)}else x(h,U,m(h))}for(f in s){var N=s[f];for(b=N.traces,A=0;A<p.length;A++){var B=p[A],F=B.name,H,X;if(!(F==="nbins"&&N.sizeFound)){for(d=0;d<b.length;d++){if(h=b[d],o=N.dirs[d],H=B.aStr[o],T(h._input,H).get()!==void 0){N[F]=C(H),N[F+"Found"]=!0;break}X=(h._autoBin||{})[o]||{},X[F]&&T(h,H).set(X[F])}if(F==="start"||F==="end")for(;d<b.length;d++)h=b[d],h["_"+o+"bingroup"]&&(X=(h._autoBin||{})[o]||{},C(H,X[F]));F==="nbins"&&!N.sizeFound&&!N.nbinsFound&&(h=b[0],N[F]=C(H))}}}}},11385:function(G,V,e){var g=e(73972),R=e(71828),i=e(7901),L=e(90769).handleText,T=e(98340),v=e(7745);G.exports=function(t,r,l,n){function s(S,x){return R.coerce(t,r,v,S,x)}var c=s("x"),u=s("y"),y=s("cumulative.enabled");y&&(s("cumulative.direction"),s("cumulative.currentbin")),s("text");var h=s("textposition");L(t,r,n,s,h,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat");var b=s("orientation",u&&!c?"h":"v"),f=b==="v"?"x":"y",o=b==="v"?"y":"x",d=c&&u?Math.min(R.minRowLength(c)&&R.minRowLength(u)):R.minRowLength(r[f]||[]);if(!d){r.visible=!1;return}r._length=d;var A=g.getComponentMethod("calendars","handleTraceDefaults");A(t,r,["x","y"],n);var M=r[o];M&&s("histfunc"),s("histnorm"),s("autobin"+f),T(t,r,s,l,n),R.coerceSelectionMarkerOpacity(r,s);var C=(r.marker.line||{}).color,m=g.getComponentMethod("errorbars","supplyDefaults");m(t,r,C||i.defaultLine,{axis:"y"}),m(t,r,C||i.defaultLine,{axis:"x",inherit:"y"})}},84402:function(G){G.exports=function(e,g,R,i,L){if(e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"zLabelVal"in g&&(e.z=g.zLabelVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),!(R.cumulative||{}).enabled){var T=Array.isArray(L)?i[0].pts[L[0]][L[1]]:i[L].pts;e.pointNumbers=T,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(R._indexToPoints){v=[];for(var p=0;p<T.length;p++)v=v.concat(R._indexToPoints[T[p]])}else v=T;e.pointIndices=v}return e}},76440:function(G,V,e){var g=e(95423).hoverPoints,R=e(89298).hoverLabelText;G.exports=function(L,T,v,p,t){var r=g(L,T,v,p,t);if(r){L=r[0];var l=L.cd[L.index],n=L.cd[0].trace;if(!n.cumulative.enabled){var s=n.orientation==="h"?"y":"x";L[s+"Label"]=R(L[s+"a"],[l.ph0,l.ph1],n[s+"hoverformat"])}return r}}},36071:function(G,V,e){G.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(G){G.exports={percent:function(V,e){for(var g=V.length,R=100/e,i=0;i<g;i++)V[i]*=R},probability:function(V,e){for(var g=V.length,R=0;R<g;R++)V[R]/=e},density:function(V,e,g,R){var i=V.length;R=R||1;for(var L=0;L<i;L++)V[L]*=g[L]*R},"probability density":function(V,e,g,R){var i=V.length;R&&(e/=R);for(var L=0;L<i;L++)V[L]*=g[L]/e}}},35361:function(G,V,e){var g=e(7745),R=e(17656),i=e(21606),L=e(9012),T=e(12663).axisHoverFormat,v=e(5386).fF,p=e(5386).si,t=e(50693),r=e(1426).extendFlat;G.exports=r({x:g.x,y:g.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:R("x"),nbinsy:g.nbinsy,ybins:R("y"),autobinx:g.autobinx,autobiny:g.autobiny,bingroup:r({},g.bingroup,{}),xbingroup:r({},g.bingroup,{}),ybingroup:r({},g.bingroup,{}),xgap:i.xgap,ygap:i.ygap,zsmooth:i.zsmooth,xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:p({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:i.textfont,showlegend:r({},L.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(G,V,e){var g=e(71828),R=e(89298),i=e(59575),L=e(36362),T=e(42174),v=e(40965),p=e(72138).calcAllAutoBins;G.exports=function(s,c){var u=R.getFromId(s,c.xaxis),y=R.getFromId(s,c.yaxis),h=c.xcalendar,b=c.ycalendar,f=function(Ye){return u.r2c(Ye,0,h)},o=function(Ye){return y.r2c(Ye,0,b)},d=function(Ye){return u.c2r(Ye,0,h)},A=function(Ye){return y.c2r(Ye,0,b)},M,C,m,S,x=p(s,c,u,"x"),a=x[0],E=x[1],w=p(s,c,y,"y"),k=w[0],I=w[1],U=c._length;E.length>U&&E.splice(U,E.length-U),I.length>U&&I.splice(U,I.length-U);var z=[],N=[],B=[],F=typeof a.size=="string",H=typeof k.size=="string",X=[],q=[],ne=F?X:a,oe=H?q:k,ve=0,J=[],Y=[],j=c.histnorm,K=c.histfunc,te=j.indexOf("density")!==-1,se=K==="max"||K==="min",Q=se?null:0,ee=i.count,le=L[j],ie=!1,he=[],xe=[],Se="z"in c?c.z:"marker"in c&&Array.isArray(c.marker.color)?c.marker.color:"";Se&&K!=="count"&&(ie=K==="avg",ee=i[K]);var Ee=a.size,Ne=f(a.start),He=f(a.end)+(Ne-R.tickIncrement(Ne,Ee,!1,h))/1e6;for(M=Ne;M<He;M=R.tickIncrement(M,Ee,!1,h))N.push(Q),X.push(M),ie&&B.push(0);X.push(M);var Ce=N.length,be=(M-Ne)/Ce,we=d(Ne+be/2),ke=k.size,Fe=o(k.start),Pe=o(k.end)+(Fe-R.tickIncrement(Fe,ke,!1,b))/1e6;for(M=Fe;M<Pe;M=R.tickIncrement(M,ke,!1,b)){z.push(N.slice()),q.push(M);var Ge=new Array(Ce);for(C=0;C<Ce;C++)Ge[C]=[];Y.push(Ge),ie&&J.push(B.slice())}q.push(M);var nt=z.length,qe=(M-Fe)/nt,Ke=A(Fe+qe/2);te&&(he=t(N.length,ne,be,F),xe=t(z.length,oe,qe,H)),!F&&u.type==="date"&&(ne=r(f,ne)),!H&&y.type==="date"&&(oe=r(o,oe));var $e=!0,vt=!0,yt=new Array(Ce),mt=new Array(nt),Et=1/0,Xe=1/0,Ue=1/0,Be=1/0;for(M=0;M<U;M++){var rt=E[M],it=I[M];m=g.findBin(rt,ne),S=g.findBin(it,oe),m>=0&&m<Ce&&S>=0&&S<nt&&(ve+=ee(m,M,z[S],Se,J[S]),Y[S][m].push(M),$e&&(yt[m]===void 0?yt[m]=rt:yt[m]!==rt&&($e=!1)),vt&&(mt[S]===void 0?mt[S]=it:mt[S]!==it&&(vt=!1)),Et=Math.min(Et,rt-X[m]),Xe=Math.min(Xe,X[m+1]-rt),Ue=Math.min(Ue,it-q[S]),Be=Math.min(Be,q[S+1]-it))}if(ie)for(S=0;S<nt;S++)ve+=T(z[S],J[S]);if(le)for(S=0;S<nt;S++)le(z[S],ve,he,xe[S]);return{x:E,xRanges:l(X,$e&&yt,Et,Xe,u,h),x0:we,dx:be,y:I,yRanges:l(q,vt&&mt,Ue,Be,y,b),y0:Ke,dy:qe,z,pts:Y}};function t(n,s,c,u){var y=new Array(n),h;if(u)for(h=0;h<n;h++)y[h]=1/(s[h+1]-s[h]);else{var b=1/c;for(h=0;h<n;h++)y[h]=b}return y}function r(n,s){return{start:n(s.start),end:n(s.end),size:s.size}}function l(n,s,c,u,y,h){var b,f=n.length-1,o=new Array(f),d=v(c,u,n,y,h);for(b=0;b<f;b++){var A=(s||[])[b];o[b]=A===void 0?[d(n[b]),d(n[b+1],!0)]:[A,A]}return o}},93888:function(G,V,e){var g=e(71828),R=e(75238),i=e(49901),L=e(1586),T=e(58623),v=e(35361);G.exports=function(t,r,l,n){function s(c,u){return g.coerce(t,r,v,c,u)}R(t,r,s,n),r.visible!==!1&&(i(t,r,s,n),L(t,r,n,s,{prefix:"",cLetter:"z"}),s("hovertemplate"),T(s,n),s("xhoverformat"),s("yhoverformat"))}},76128:function(G,V,e){var g=e(46248),R=e(89298).hoverLabelText;G.exports=function(L,T,v,p,t){var r=g(L,T,v,p,t);if(r){L=r[0];var l=L.index,n=l[0],s=l[1],c=L.cd[0],u=c.trace,y=c.xRanges[s],h=c.yRanges[n];return L.xLabel=R(L.xa,[y[0],y[1]],u.xhoverformat),L.yLabel=R(L.ya,[h[0],h[1]],u.yhoverformat),r}}},43905:function(G,V,e){G.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(G,V,e){var g=e(73972),R=e(71828);G.exports=function(L,T,v,p){var t=v("x"),r=v("y"),l=R.minRowLength(t),n=R.minRowLength(r);if(!l||!n){T.visible=!1;return}T._length=Math.min(l,n);var s=g.getComponentMethod("calendars","handleTraceDefaults");s(L,T,["x","y"],p);var c=v("z")||v("marker.color");c&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},99066:function(G,V,e){var g=e(35361),R=e(70600),i=e(50693),L=e(12663).axisHoverFormat,T=e(1426).extendFlat;G.exports=T({x:g.x,y:g.y,z:g.z,marker:g.marker,histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:g.xbins,nbinsy:g.nbinsy,ybins:g.ybins,autobinx:g.autobinx,autobiny:g.autobiny,bingroup:g.bingroup,xbingroup:g.xbingroup,ybingroup:g.ybingroup,autocontour:R.autocontour,ncontours:R.ncontours,contours:R.contours,line:{color:R.line.color,width:T({},R.line.width,{dflt:.5}),dash:R.line.dash,smoothing:R.line.smoothing,editType:"plot"},xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z",1),hovertemplate:g.hovertemplate,texttemplate:R.texttemplate,textfont:R.textfont},i("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(G,V,e){var g=e(71828),R=e(75238),i=e(67217),L=e(8724),T=e(58623),v=e(99066);G.exports=function(t,r,l,n){function s(u,y){return g.coerce(t,r,v,u,y)}function c(u){return g.coerce2(t,r,v,u)}R(t,r,s,n),r.visible!==!1&&(i(t,r,s,c),L(t,r,s,n),s("xhoverformat"),s("yhoverformat"),s("hovertemplate"),r.contours&&r.contours.coloring==="heatmap"&&T(s,n))}},35902:function(G,V,e){G.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(G,V,e){var g=e(5386).fF,R=e(5386).si,i=e(50693),L=e(27670).Y,T=e(34e3),v=e(57564),p=e(45802),t=e(43473),r=e(1426).extendFlat,l=e(79952).u;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:p.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:r({colors:v.marker.colors,line:v.marker.line,pattern:l,editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:p.pathbar,text:T.text,textinfo:v.textinfo,texttemplate:R({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:T.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:t.eventDataKeys}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:p.outsidetextfont,textposition:p.textposition,sort:T.sort,root:v.root,domain:L({name:"icicle",trace:!0,editType:"calc"})}},96346:function(G,V,e){var g=e(74875);V.name="icicle",V.plot=function(R,i,L,T){g.plotBasePlot(V.name,R,i,L,T)},V.clean=function(R,i,L,T){g.cleanBasePlot(V.name,R,i,L,T)}},46584:function(G,V,e){var g=e(52147);V.y=function(R,i){return g.calc(R,i)},V.T=function(R){return g._runCrossTraceCalc("icicle",R)}},56524:function(G,V,e){var g=e(71828),R=e(46291),i=e(7901),L=e(27670).c,T=e(90769).handleText,v=e(97313).TEXTPAD,p=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,l=t.handleDefaults;G.exports=function(s,c,u,y){function h(m,S){return g.coerce(s,c,R,m,S)}var b=h("labels"),f=h("parents");if(!b||!b.length||!f||!f.length){c.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),h("tiling.orientation"),h("tiling.flip"),h("tiling.pad");var d=h("text");h("texttemplate"),c.texttemplate||h("textinfo",Array.isArray(d)?"text+label":"label"),h("hovertext"),h("hovertemplate");var A=h("pathbar.visible"),M="auto";T(s,c,y,h,M,{hasPathbar:A,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition"),p(s,c,y,h);var C=c._hasColorscale=r(s,"marker","colors")||(s.marker||{}).coloraxis;C&&l(s,c,y,h,{prefix:"marker.",cLetter:"c"}),h("leaf.opacity",C?1:.7),c._hovered={marker:{line:{width:2,color:i.contrast(y.paper_bgcolor)}}},A&&(h("pathbar.thickness",c.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),L(c,y,h),c._length=null}},90666:function(G,V,e){var g=e(39898),R=e(71828),i=e(91424),L=e(63893),T=e(21538),v=e(82454).styleOne,p=e(43473),t=e(2791),r=e(83523),l=e(24714).formatSliceLabel,n=!1;G.exports=function(c,u,y,h,b){var f=b.width,o=b.height,d=b.viewX,A=b.viewY,M=b.pathSlice,C=b.toMoveInsideSlice,m=b.strTransform,S=b.hasTransition,x=b.handleSlicesExit,a=b.makeUpdateSliceInterpolator,E=b.makeUpdateTextInterpolator,w=b.prevEntry,k={},I=c._context.staticPlot,U=c._fullLayout,z=u[0],N=z.trace,B=N.textposition.indexOf("left")!==-1,F=N.textposition.indexOf("right")!==-1,H=N.textposition.indexOf("bottom")!==-1,X=T(y,[f,o],{flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1,orientation:N.tiling.orientation,pad:{inner:N.tiling.pad},maxDepth:N._maxDepth}),q=X.descendants(),ne=1/0,oe=-1/0;q.forEach(function(K){var te=K.depth;te>=N._maxDepth?(K.x0=K.x1=(K.x0+K.x1)/2,K.y0=K.y1=(K.y0+K.y1)/2):(ne=Math.min(ne,te),oe=Math.max(oe,te))}),h=h.data(q,t.getPtId),N._maxVisibleLayers=isFinite(oe)?oe-ne+1:0,h.enter().append("g").classed("slice",!0),x(h,n,k,[f,o],M),h.order();var ve=null;if(S&&w){var J=t.getPtId(w);h.each(function(K){ve===null&&t.getPtId(K)===J&&(ve={x0:K.x0,x1:K.x1,y0:K.y0,y1:K.y1})})}var Y=function(){return ve||{x0:0,x1:f,y0:0,y1:o}},j=h;return S&&(j=j.transition().each("end",function(){var K=g.select(this);t.setSliceCursor(K,c,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),j.each(function(K){K._x0=d(K.x0),K._x1=d(K.x1),K._y0=A(K.y0),K._y1=A(K.y1),K._hoverX=d(K.x1-N.tiling.pad),K._hoverY=A(H?K.y1-N.tiling.pad/2:K.y0+N.tiling.pad/2);var te=g.select(this),se=R.ensureSingle(te,"path","surface",function(ie){ie.style("pointer-events",I?"none":"all")});S?se.transition().attrTween("d",function(ie){var he=a(ie,n,Y(),[f,o],{orientation:N.tiling.orientation,flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1});return function(xe){return M(he(xe))}}):se.attr("d",M),te.call(r,y,c,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,c,{isTransitioning:c._transitioning}),se.call(v,K,N,c,{hovered:!1}),K.x0===K.x1||K.y0===K.y1?K._text="":K._text=l(K,y,N,u,U)||"";var Q=R.ensureSingle(te,"g","slicetext"),ee=R.ensureSingle(Q,"text","",function(ie){ie.attr("data-notex",1)}),le=R.ensureUniformFontSize(c,t.determineTextFont(N,K,U.font));ee.text(K._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":B?"start":"middle").call(i.font,le).call(L.convertToTspans,c),K.textBB=i.bBox(ee.node()),K.transform=C(K,{fontSize:le.size}),K.transform.fontSize=le.size,S?ee.transition().attrTween("transform",function(ie){var he=E(ie,n,Y(),[f,o]);return function(xe){return m(he(xe))}}):ee.attr("transform",m(K))}),ve}},69816:function(G,V,e){G.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(G){G.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(G,V,e){var g=e(71828),R=e(92894);G.exports=function(L,T){function v(p,t){return g.coerce(L,T,R,p,t)}v("iciclecolorway",T.colorway),v("extendiciclecolors")}},21538:function(G,V,e){var g=e(674),R=e(14102);G.exports=function(L,T,v){var p=v.flipX,t=v.flipY,r=v.orientation==="h",l=v.maxDepth,n=T[0],s=T[1];l&&(n=(L.height+1)*T[0]/Math.min(L.height+1,l),s=(L.height+1)*T[1]/Math.min(L.height+1,l));var c=g.partition().padding(v.pad.inner).size(r?[T[1],n]:[T[0],s])(L);return(r||p||t)&&R(c,T,{swapXY:r,flipX:p,flipY:t}),c}},85596:function(G,V,e){var g=e(80694),R=e(90666);G.exports=function(L,T,v,p){return g(L,T,v,p,{type:"icicle",drawDescendants:R})}},82454:function(G,V,e){var g=e(39898),R=e(7901),i=e(71828),L=e(72597).resizeText,T=e(43467);function v(t){var r=t._fullLayout._iciclelayer.selectAll(".trace");L(t,r,"icicle"),r.each(function(l){var n=g.select(this),s=l[0],c=s.trace;n.style("opacity",c.opacity),n.selectAll("path.surface").each(function(u){g.select(this).call(p,u,c,t)})})}function p(t,r,l,n){var s=r.data.data,c=!r.children,u=s.i,y=i.castOption(l,u,"marker.line.color")||R.defaultLine,h=i.castOption(l,u,"marker.line.width")||0;t.call(T,r,l,n).style("stroke-width",h).call(R.stroke,y).style("opacity",c?l.leaf.opacity:null)}G.exports={style:v,styleOne:p}},17230:function(G,V,e){for(var g=e(9012),R=e(5386).fF,i=e(1426).extendFlat,L=e(51877).colormodel,T=["rgb","rgba","rgba256","hsl","hsla"],v=[],p=[],t=0;t<T.length;t++){var r=L[T[t]];v.push("For the `"+T[t]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),p.push("For the `"+T[t]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}G.exports=i({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:T,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:i({},g.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:R({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(G,V,e){var g=e(71828),R=e(51877),i=e(92770),L=e(89298),T=e(71828).maxRowLength,v=e(67395).A;G.exports=function(n,s){var c,u;if(s._hasZ)c=s.z.length,u=T(s.z);else if(s._hasSource){var y=v(s.source);c=y.height,u=y.width}var h=L.getFromId(n,s.xaxis||"x"),b=L.getFromId(n,s.yaxis||"y"),f=h.d2c(s.x0)-s.dx/2,o=b.d2c(s.y0)-s.dy/2,d,A=[f,f+u*s.dx],M=[o,o+c*s.dy];if(h&&h.type==="log")for(d=0;d<u;d++)A.push(f+d*s.dx);if(b&&b.type==="log")for(d=0;d<c;d++)M.push(o+d*s.dy);s._extremes[h._id]=L.findExtremes(h,A),s._extremes[b._id]=L.findExtremes(b,M),s._scaler=r(s);var C={x0:f,y0:o,z:s.z,w:u,h:c};return[C]};function p(l,n,s,c){return function(u){return g.constrain((u-l)*n,s,c)}}function t(l,n){return function(s){return g.constrain(s,l,n)}}function r(l){var n=R.colormodel[l.colormodel],s=n.colormodel||l.colormodel,c=s.length;l._sArray=[];for(var u=0;u<c;u++)n.min[u]!==l.zmin[u]||n.max[u]!==l.zmax[u]?l._sArray.push(p(l.zmin[u],(n.max[u]-n.min[u])/(l.zmax[u]-l.zmin[u]),n.min[u],n.max[u])):l._sArray.push(t(n.min[u],n.max[u]));return function(y){for(var h=y.slice(0,c),b=0;b<c;b++){var f=h[b];if(!i(f))return!1;h[b]=l._sArray[b](f)}return h}}},51877:function(G){G.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(V){return V.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(V){return V.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(V){return V.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(V){var e=V.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(V){var e=V.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13245:function(G,V,e){var g=e(71828),R=e(17230),i=e(51877),L=e(25095).IMAGE_URL_PREFIX;G.exports=function(v,p){function t(n,s){return g.coerce(v,p,R,n,s)}t("source"),p.source&&!p.source.match(L)&&delete p.source,p._hasSource=!!p.source;var r=t("z");if(p._hasZ=!(r===void 0||!r.length||!r[0]||!r[0].length),!p._hasZ&&!p._hasSource){p.visible=!1;return}t("x0"),t("y0"),t("dx"),t("dy");var l;p._hasZ?(t("colormodel","rgb"),l=i.colormodel[p.colormodel],t("zmin",l.zminDflt||l.min),t("zmax",l.zmaxDflt||l.max)):p._hasSource&&(p.colormodel="rgba256",l=i.colormodel[p.colormodel],p.zmin=l.zminDflt,p.zmax=l.zmaxDflt),t("zsmooth"),t("text"),t("hovertext"),t("hovertemplate"),p._length=null}},30835:function(G){G.exports=function(e,g){return"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e.color=g.color,e.colormodel=g.trace.colormodel,e.z||(e.z=g.color),e}},67395:function(G,V,e){var g=e(33575),R=e(25095).IMAGE_URL_PREFIX,i=e(12856).Buffer;V.A=function(L){var T=L.replace(R,""),v=new i(T,"base64");return g(v)}},28749:function(G,V,e){var g=e(30211),R=e(71828),i=e(51877);G.exports=function(T,v,p){var t=T.cd[0],r=t.trace,l=T.xa,n=T.ya;if(!(g.inbox(v-t.x0,v-(t.x0+t.w*r.dx),0)>0||g.inbox(p-t.y0,p-(t.y0+t.h*r.dy),0)>0)){var s=Math.floor((v-t.x0)/r.dx),c=Math.floor(Math.abs(p-t.y0)/r.dy),u;if(r._hasZ?u=t.z[c][s]:r._hasSource&&(u=r._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(s,c,1,1).data),!!u){var y=t.hi||r.hoverinfo,h;if(y){var b=y.split("+");b.indexOf("all")!==-1&&(b=["color"]),b.indexOf("color")!==-1&&(h=!0)}var f=i.colormodel[r.colormodel],o=f.colormodel||r.colormodel,d=o.length,A=r._scaler(u),M=f.suffix,C=[];(r.hovertemplate||h)&&(C.push("["+[A[0]+M[0],A[1]+M[1],A[2]+M[2]].join(", ")),d===4&&C.push(", "+A[3]+M[3]),C.push("]"),C=C.join(""),T.extraText=o.toUpperCase()+": "+C);var m;Array.isArray(r.hovertext)&&Array.isArray(r.hovertext[c])?m=r.hovertext[c][s]:Array.isArray(r.text)&&Array.isArray(r.text[c])&&(m=r.text[c][s]);var S=n.c2p(t.y0+(c+.5)*r.dy),x=t.x0+(s+.5)*r.dx,a=t.y0+(c+.5)*r.dy,E="["+u.slice(0,r.colormodel.length).join(", ")+"]";return[R.extendFlat(T,{index:[c,s],x0:l.c2p(t.x0+s*r.dx),x1:l.c2p(t.x0+(s+1)*r.dx),y0:S,y1:S,color:A,xVal:x,xLabelVal:x,yVal:a,yLabelVal:a,zLabelVal:E,text:m,hovertemplateLabels:{zLabel:E,colorLabel:C,"color[0]Label":A[0]+M[0],"color[1]Label":A[1]+M[1],"color[2]Label":A[2]+M[2],"color[3]Label":A[3]+M[3]}})]}}}},94507:function(G,V,e){G.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(G,V,e){var g=e(39898),R=e(71828),i=R.strTranslate,L=e(77922),T=e(51877),v=e(3883),p=e(32396).STYLE;G.exports=function(r,l,n,s){var c=l.xaxis,u=l.yaxis,y=!r._context._exportedPlot&&v();R.makeTraceGroups(s,n,"im").each(function(h){var b=g.select(this),f=h[0],o=f.trace,d=(o.zsmooth==="fast"||o.zsmooth===!1&&y)&&!o._hasZ&&o._hasSource&&c.type==="linear"&&u.type==="linear";o._realImage=d;var A=f.z,M=f.x0,C=f.y0,m=f.w,S=f.h,x=o.dx,a=o.dy,E,w,k,I,U,z;for(z=0;E===void 0&&z<m;)E=c.c2p(M+z*x),z++;for(z=m;w===void 0&&z>0;)w=c.c2p(M+z*x),z--;for(z=0;I===void 0&&z<S;)I=u.c2p(C+z*a),z++;for(z=S;U===void 0&&z>0;)U=u.c2p(C+z*a),z--;if(w<E&&(k=w,w=E,E=k),U<I&&(k=I,I=U,U=k),!d){var N=.5;E=Math.max(-N*c._length,E),w=Math.min((1+N)*c._length,w),I=Math.max(-N*u._length,I),U=Math.min((1+N)*u._length,U)}var B=Math.round(w-E),F=Math.round(U-I),H=B<=0||F<=0;if(H){var X=b.selectAll("image").data([]);X.exit().remove();return}function q(Q){var ee=document.createElement("canvas");ee.width=B,ee.height=F;var le=ee.getContext("2d",{willReadFrequently:!0}),ie=function(Fe){return R.constrain(Math.round(c.c2p(M+Fe*x)-E),0,B)},he=function(Fe){return R.constrain(Math.round(u.c2p(C+Fe*a)-I),0,F)},xe=T.colormodel[o.colormodel],Se=xe.colormodel||o.colormodel,Ee=xe.fmt,Ne;for(z=0;z<f.w;z++){var He=ie(z),Ce=ie(z+1);if(!(Ce===He||isNaN(Ce)||isNaN(He)))for(var be=0;be<f.h;be++){var we=he(be),ke=he(be+1);ke===we||isNaN(ke)||isNaN(we)||!Q(z,be)||(Ne=o._scaler(Q(z,be)),Ne?le.fillStyle=Se+"("+Ee(Ne).join(",")+")":le.fillStyle="rgba(0,0,0,0)",le.fillRect(He,we,Ce-He,ke-we))}}return ee}var ne=b.selectAll("image").data([h]);ne.enter().append("svg:image").attr({xmlns:L.svg,preserveAspectRatio:"none"}),ne.exit().remove();var oe=o.zsmooth===!1?p:"";if(d){var ve=R.simpleMap(c.range,c.r2l),J=R.simpleMap(u.range,u.r2l),Y=ve[1]<ve[0],j=J[1]>J[0];if(Y||j){var K=E+B/2,te=I+F/2;oe+="transform:"+i(K+"px",te+"px")+"scale("+(Y?-1:1)+","+(j?-1:1)+")"+i(-K+"px",-te+"px")+";"}}ne.attr("style",oe);var se=new Promise(function(Q){if(o._hasZ)Q();else if(o._hasSource)if(o._canvas&&o._canvas.el.width===m&&o._canvas.el.height===S&&o._canvas.source===o.source)Q();else{var ee=document.createElement("canvas");ee.width=m,ee.height=S;var le=ee.getContext("2d",{willReadFrequently:!0});o._image=o._image||new Image;var ie=o._image;ie.onload=function(){le.drawImage(ie,0,0),o._canvas={el:ee,source:o.source},Q()},ie.setAttribute("src",o.source)}}).then(function(){var Q,ee;if(o._hasZ)ee=q(function(he,xe){return A[xe][he]}),Q=ee.toDataURL("image/png");else if(o._hasSource)if(d)Q=o.source;else{var le=o._canvas.el.getContext("2d",{willReadFrequently:!0}),ie=le.getImageData(0,0,m,S).data;ee=q(function(he,xe){var Se=4*(xe*m+he);return[ie[Se],ie[Se+1],ie[Se+2],ie[Se+3]]}),Q=ee.toDataURL("image/png")}ne.attr({"xlink:href":Q,height:F,width:B,x:E,y:I})});r._promises.push(se)})}},12826:function(G,V,e){var g=e(39898);G.exports=function(i){g.select(i).selectAll(".im image").style("opacity",function(L){return L[0].trace.opacity})}},54846:function(G,V,e){var g=e(1426).extendFlat,R=e(1426).extendDeep,i=e(30962).overrideAll,L=e(41940),T=e(22399),v=e(27670).Y,p=e(13838),t=e(44467).templatedArray,r=e(22372),l=e(12663).descriptionOnlyNumbers,n=L({editType:"plot",colorEditType:"plot"}),s={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:T.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},c={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",R({},s,{range:c}));G.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:g({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:l("value")},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:l("value")},increasing:{symbol:{valType:"string",dflt:r.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:r.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:R({},s,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:T.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:i({range:c,visible:g({},p.visible,{dflt:!0}),tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:g({},p.ticks,{dflt:"outside"}),ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:g({},s.line.color,{}),width:g({},s.line.width,{dflt:1}),editType:"plot"},thickness:g({},s.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(G,V,e){var g=e(74875);V.name="indicator",V.plot=function(R,i,L,T){g.plotBasePlot(V.name,R,i,L,T)},V.clean=function(R,i,L,T){g.cleanBasePlot(V.name,R,i,L,T)}},24667:function(G){function V(e,g){var R=[],i=g.value;typeof g._lastValue!="number"&&(g._lastValue=g.value);var L=g._lastValue,T=L;return g._hasDelta&&typeof g.delta.reference=="number"&&(T=g.delta.reference),R[0]={y:i,lastY:L,delta:i-T,relativeDelta:(i-T)/T},R}G.exports={calc:V}},84577:function(G){G.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(G,V,e){var g=e(71828),R=e(54846),i=e(27670).c,L=e(44467),T=e(85501),v=e(84577),p=e(26218),t=e(38701),r=e(96115),l=e(89426);function n(c,u,y,h){function b(U,z){return g.coerce(c,u,R,U,z)}i(u,h,b),b("mode"),u._hasNumber=u.mode.indexOf("number")!==-1,u._hasDelta=u.mode.indexOf("delta")!==-1,u._hasGauge=u.mode.indexOf("gauge")!==-1;var f=b("value");u._range=[0,typeof f=="number"?1.5*f:1];var o=new Array(2),d;u._hasNumber&&(b("number.valueformat"),b("number.font.color",h.font.color),b("number.font.family",h.font.family),b("number.font.size"),u.number.font.size===void 0&&(u.number.font.size=v.defaultNumberFontSize,o[0]=!0),b("number.prefix"),b("number.suffix"),d=u.number.font.size);var A;u._hasDelta&&(b("delta.font.color",h.font.color),b("delta.font.family",h.font.family),b("delta.font.size"),u.delta.font.size===void 0&&(u.delta.font.size=(u._hasNumber?.5:1)*(d||v.defaultNumberFontSize),o[1]=!0),b("delta.reference",u.value),b("delta.relative"),b("delta.valueformat",u.delta.relative?"2%":""),b("delta.increasing.symbol"),b("delta.increasing.color"),b("delta.decreasing.symbol"),b("delta.decreasing.color"),b("delta.position"),b("delta.prefix"),b("delta.suffix"),A=u.delta.font.size),u._scaleNumbers=(!u._hasNumber||o[0])&&(!u._hasDelta||o[1])||!1,b("title.font.color",h.font.color),b("title.font.family",h.font.family),b("title.font.size",.25*(d||A||v.defaultNumberFontSize)),b("title.text");var M,C,m,S;function x(U,z){return g.coerce(M,C,R.gauge,U,z)}function a(U,z){return g.coerce(m,S,R.gauge.axis,U,z)}if(u._hasGauge){M=c.gauge,M||(M={}),C=L.newContainer(u,"gauge"),x("shape");var E=u._isBullet=u.gauge.shape==="bullet";E||b("title.align","center");var w=u._isAngular=u.gauge.shape==="angular";w||b("align","center"),x("bgcolor",h.paper_bgcolor),x("borderwidth"),x("bordercolor"),x("bar.color"),x("bar.line.color"),x("bar.line.width");var k=v.valueThickness*(u.gauge.shape==="bullet"?.5:1);x("bar.thickness",k),T(M,C,{name:"steps",handleItemDefaults:s}),x("threshold.value"),x("threshold.thickness"),x("threshold.line.width"),x("threshold.line.color"),m={},M&&(m=M.axis||{}),S=L.newContainer(C,"axis"),a("visible"),u._range=a("range",u._range);var I={outerTicks:!0};p(m,S,a,"linear"),l(m,S,a,"linear",I),r(m,S,a,"linear",I),t(m,S,a,I)}else b("title.align","center"),b("align","center"),u._isAngular=u._isBullet=!1;u._length=null}function s(c,u){function y(h,b){return g.coerce(c,u,R.gauge.steps,h,b)}y("color"),y("line.color"),y("line.width"),y("range"),y("thickness")}G.exports={supplyDefaults:n}},15154:function(G,V,e){G.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(G,V,e){var g=e(39898),R=e(81684).sX,i=e(81684).k4,L=e(71828),T=L.strScale,v=L.strTranslate,p=L.rad2deg,t=e(18783).MID_SHIFT,r=e(91424),l=e(84577),n=e(63893),s=e(89298),c=e(71453),u=e(52830),y=e(13838),h=e(7901),b={left:"start",center:"middle",right:"end"},f={left:0,center:.5,right:1},o=/[yzafpnmkMGTPEZY]/;function d(I){return I&&I.duration>0}G.exports=function(U,z,N,B){var F=U._fullLayout,H;d(N)&&B&&(H=B()),L.makeTraceGroups(F._indicatorlayer,z,"trace").each(function(X){var q=X[0],ne=q.trace,oe=g.select(this),ve=ne._hasGauge,J=ne._isAngular,Y=ne._isBullet,j=ne.domain,K={w:F._size.w*(j.x[1]-j.x[0]),h:F._size.h*(j.y[1]-j.y[0]),l:F._size.l+F._size.w*j.x[0],r:F._size.r+F._size.w*(1-j.x[1]),t:F._size.t+F._size.h*(1-j.y[1]),b:F._size.b+F._size.h*j.y[0]},te=K.l+K.w/2,se=K.t+K.h/2,Q=Math.min(K.w/2,K.h),ee=l.innerRadius*Q,le,ie,he,xe=ne.align||"center";if(ie=se,!ve)le=K.l+f[xe]*K.w,he=function(Pe){return a(Pe,K.w,K.h)};else if(J&&(le=te,ie=se+Q/2,he=function(Pe){return E(Pe,.9*ee)}),Y){var Se=l.bulletPadding,Ee=1-l.bulletNumberDomainSize+Se;le=K.l+(Ee+(1-Ee)*f[xe])*K.w,he=function(Pe){return a(Pe,(l.bulletNumberDomainSize-Se)*K.w,K.h)}}C(U,oe,X,{numbersX:le,numbersY:ie,numbersScaler:he,transitionOpts:N,onComplete:H});var Ne,He;ve&&(Ne={range:ne.gauge.axis.range,color:ne.gauge.bgcolor,line:{color:ne.gauge.bordercolor,width:0},thickness:1},He={range:ne.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ne.gauge.bordercolor,width:ne.gauge.borderwidth},thickness:1});var Ce=oe.selectAll("g.angular").data(J?X:[]);Ce.exit().remove();var be=oe.selectAll("g.angularaxis").data(J?X:[]);be.exit().remove(),J&&M(U,oe,X,{radius:Q,innerRadius:ee,gauge:Ce,layer:be,size:K,gaugeBg:Ne,gaugeOutline:He,transitionOpts:N,onComplete:H});var we=oe.selectAll("g.bullet").data(Y?X:[]);we.exit().remove();var ke=oe.selectAll("g.bulletaxis").data(Y?X:[]);ke.exit().remove(),Y&&A(U,oe,X,{gauge:we,layer:ke,size:K,gaugeBg:Ne,gaugeOutline:He,transitionOpts:N,onComplete:H});var Fe=oe.selectAll("text.title").data(X);Fe.exit().remove(),Fe.enter().append("text").classed("title",!0),Fe.attr("text-anchor",function(){return Y?b.right:b[ne.title.align]}).text(ne.title.text).call(r.font,ne.title.font).call(n.convertToTspans,U),Fe.attr("transform",function(){var Pe=K.l+K.w*f[ne.title.align],Ge,nt=l.titlePadding,qe=r.bBox(Fe.node());if(ve){if(J)if(ne.gauge.axis.visible){var Ke=r.bBox(be.node());Ge=Ke.top-nt-qe.bottom}else Ge=K.t+K.h/2-Q/2-qe.bottom-nt;Y&&(Ge=ie-(qe.top+qe.bottom)/2,Pe=K.l-l.bulletPadding*K.w)}else Ge=ne._numbersTop-nt-qe.bottom;return v(Pe,Ge)})})};function A(I,U,z,N){var B=z[0].trace,F=N.gauge,H=N.layer,X=N.gaugeBg,q=N.gaugeOutline,ne=N.size,oe=B.domain,ve=N.transitionOpts,J=N.onComplete,Y,j,K,te,se;F.enter().append("g").classed("bullet",!0),F.attr("transform",v(ne.l,ne.t)),H.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),H.selectAll("g.xbulletaxistick,path,text").remove();var Q=ne.h,ee=B.gauge.bar.thickness*Q,le=oe.x[0],ie=oe.x[0]+(oe.x[1]-oe.x[0])*(B._hasNumber||B._hasDelta?1-l.bulletNumberDomainSize:1);Y=x(I,B.gauge.axis),Y._id="xbulletaxis",Y.domain=[le,ie],Y.setScale(),j=s.calcTicks(Y),K=s.makeTransTickFn(Y),te=s.getTickSigns(Y)[2],se=ne.t+ne.h,Y.visible&&(s.drawTicks(I,Y,{vals:Y.ticks==="inside"?s.clipEnds(Y,j):j,layer:H,path:s.makeTickPath(Y,se,te),transFn:K}),s.drawLabels(I,Y,{vals:j,layer:H,transFn:K,labelFns:s.makeLabelFns(Y,se)}));function he(be){be.attr("width",function(we){return Math.max(0,Y.c2p(we.range[1])-Y.c2p(we.range[0]))}).attr("x",function(we){return Y.c2p(we.range[0])}).attr("y",function(we){return .5*(1-we.thickness)*Q}).attr("height",function(we){return we.thickness*Q})}var xe=[X].concat(B.gauge.steps),Se=F.selectAll("g.bg-bullet").data(xe);Se.enter().append("g").classed("bg-bullet",!0).append("rect"),Se.select("rect").call(he).call(m),Se.exit().remove();var Ee=F.selectAll("g.value-bullet").data([B.gauge.bar]);Ee.enter().append("g").classed("value-bullet",!0).append("rect"),Ee.select("rect").attr("height",ee).attr("y",(Q-ee)/2).call(m),d(ve)?Ee.select("rect").transition().duration(ve.duration).ease(ve.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()}).attr("width",Math.max(0,Y.c2p(Math.min(B.gauge.axis.range[1],z[0].y)))):Ee.select("rect").attr("width",typeof z[0].y=="number"?Math.max(0,Y.c2p(Math.min(B.gauge.axis.range[1],z[0].y))):0),Ee.exit().remove();var Ne=z.filter(function(){return B.gauge.threshold.value||B.gauge.threshold.value===0}),He=F.selectAll("g.threshold-bullet").data(Ne);He.enter().append("g").classed("threshold-bullet",!0).append("line"),He.select("line").attr("x1",Y.c2p(B.gauge.threshold.value)).attr("x2",Y.c2p(B.gauge.threshold.value)).attr("y1",(1-B.gauge.threshold.thickness)/2*Q).attr("y2",(1-(1-B.gauge.threshold.thickness)/2)*Q).call(h.stroke,B.gauge.threshold.line.color).style("stroke-width",B.gauge.threshold.line.width),He.exit().remove();var Ce=F.selectAll("g.gauge-outline").data([q]);Ce.enter().append("g").classed("gauge-outline",!0).append("rect"),Ce.select("rect").call(he).call(m),Ce.exit().remove()}function M(I,U,z,N){var B=z[0].trace,F=N.size,H=N.radius,X=N.innerRadius,q=N.gaugeBg,ne=N.gaugeOutline,oe=[F.l+F.w/2,F.t+F.h/2+H/2],ve=N.gauge,J=N.layer,Y=N.transitionOpts,j=N.onComplete,K=Math.PI/2;function te($e){var vt=B.gauge.axis.range[0],yt=B.gauge.axis.range[1],mt=($e-vt)/(yt-vt)*Math.PI-K;return mt<-K?-K:mt>K?K:mt}function se($e){return g.svg.arc().innerRadius((X+H)/2-$e/2*(H-X)).outerRadius((X+H)/2+$e/2*(H-X)).startAngle(-K)}function Q($e){$e.attr("d",function(vt){return se(vt.thickness).startAngle(te(vt.range[0])).endAngle(te(vt.range[1]))()})}var ee,le,ie,he;ve.enter().append("g").classed("angular",!0),ve.attr("transform",v(oe[0],oe[1])),J.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),J.selectAll("g.xangularaxistick,path,text").remove(),ee=x(I,B.gauge.axis),ee.type="linear",ee.range=B.gauge.axis.range,ee._id="xangularaxis",ee.ticklabeloverflow="allow",ee.setScale();var xe=function($e){return(ee.range[0]-$e.x)/(ee.range[1]-ee.range[0])*Math.PI+Math.PI},Se={},Ee=s.makeLabelFns(ee,0),Ne=Ee.labelStandoff;Se.xFn=function($e){var vt=xe($e);return Math.cos(vt)*Ne},Se.yFn=function($e){var vt=xe($e),yt=Math.sin(vt)>0?.2:1;return-Math.sin(vt)*(Ne+$e.fontSize*yt)+Math.abs(Math.cos(vt))*($e.fontSize*t)},Se.anchorFn=function($e){var vt=xe($e),yt=Math.cos(vt);return Math.abs(yt)<.1?"middle":yt>0?"start":"end"},Se.heightFn=function($e,vt,yt){var mt=xe($e);return-.5*(1+Math.sin(mt))*yt};var He=function($e){return v(oe[0]+H*Math.cos($e),oe[1]-H*Math.sin($e))};ie=function($e){return He(xe($e))};var Ce=function($e){var vt=xe($e);return He(vt)+"rotate("+-p(vt)+")"};if(le=s.calcTicks(ee),he=s.getTickSigns(ee)[2],ee.visible){he=ee.ticks==="inside"?-1:1;var be=(ee.linewidth||1)/2;s.drawTicks(I,ee,{vals:le,layer:J,path:"M"+he*be+",0h"+he*ee.ticklen,transFn:Ce}),s.drawLabels(I,ee,{vals:le,layer:J,transFn:ie,labelFns:Se})}var we=[q].concat(B.gauge.steps),ke=ve.selectAll("g.bg-arc").data(we);ke.enter().append("g").classed("bg-arc",!0).append("path"),ke.select("path").call(Q).call(m),ke.exit().remove();var Fe=se(B.gauge.bar.thickness),Pe=ve.selectAll("g.value-arc").data([B.gauge.bar]);Pe.enter().append("g").classed("value-arc",!0).append("path");var Ge=Pe.select("path");d(Y)?(Ge.transition().duration(Y.duration).ease(Y.easing).each("end",function(){j&&j()}).each("interrupt",function(){j&&j()}).attrTween("d",S(Fe,te(z[0].lastY),te(z[0].y))),B._lastValue=z[0].y):Ge.attr("d",typeof z[0].y=="number"?Fe.endAngle(te(z[0].y)):"M0,0Z"),Ge.call(m),Pe.exit().remove(),we=[];var nt=B.gauge.threshold.value;(nt||nt===0)&&we.push({range:[nt,nt],color:B.gauge.threshold.color,line:{color:B.gauge.threshold.line.color,width:B.gauge.threshold.line.width},thickness:B.gauge.threshold.thickness});var qe=ve.selectAll("g.threshold-arc").data(we);qe.enter().append("g").classed("threshold-arc",!0).append("path"),qe.select("path").call(Q).call(m),qe.exit().remove();var Ke=ve.selectAll("g.gauge-outline").data([ne]);Ke.enter().append("g").classed("gauge-outline",!0).append("path"),Ke.select("path").call(Q).call(m),Ke.exit().remove()}function C(I,U,z,N){var B=z[0].trace,F=N.numbersX,H=N.numbersY,X=B.align||"center",q=b[X],ne=N.transitionOpts,oe=N.onComplete,ve=L.ensureSingle(U,"g","numbers"),J,Y,j,K=[];B._hasNumber&&K.push("number"),B._hasDelta&&(K.push("delta"),B.delta.position==="left"&&K.reverse());var te=ve.selectAll("text").data(K);te.enter().append("text"),te.attr("text-anchor",function(){return q}).attr("class",function(He){return He}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),te.exit().remove();function se(He,Ce,be,we){if(He.match("s")&&be>=0!=we>=0&&!Ce(be).slice(-1).match(o)&&!Ce(we).slice(-1).match(o)){var ke=He.slice().replace("s","f").replace(/\d+/,function(Pe){return parseInt(Pe)-1}),Fe=x(I,{tickformat:ke});return function(Pe){return Math.abs(Pe)<1?s.tickText(Fe,Pe).text:Ce(Pe)}}else return Ce}function Q(){var He=x(I,{tickformat:B.number.valueformat},B._range);He.setScale(),s.prepTicks(He);var Ce=function(Pe){return s.tickText(He,Pe).text},be=B.number.suffix,we=B.number.prefix,ke=ve.select("text.number");function Fe(){var Pe=typeof z[0].y=="number"?we+Ce(z[0].y)+be:"-";ke.text(Pe).call(r.font,B.number.font).call(n.convertToTspans,I)}return d(ne)?ke.transition().duration(ne.duration).ease(ne.easing).each("end",function(){Fe(),oe&&oe()}).each("interrupt",function(){Fe(),oe&&oe()}).attrTween("text",function(){var Pe=g.select(this),Ge=i(z[0].lastY,z[0].y);B._lastValue=z[0].y;var nt=se(B.number.valueformat,Ce,z[0].lastY,z[0].y);return function(qe){Pe.text(we+nt(Ge(qe))+be)}}):Fe(),J=w(we+Ce(z[0].y)+be,B.number.font,q,I),ke}function ee(){var He=x(I,{tickformat:B.delta.valueformat},B._range);He.setScale(),s.prepTicks(He);var Ce=function(qe){return s.tickText(He,qe).text},be=B.delta.suffix,we=B.delta.prefix,ke=function(qe){var Ke=B.delta.relative?qe.relativeDelta:qe.delta;return Ke},Fe=function(qe,Ke){return qe===0||typeof qe!="number"||isNaN(qe)?"-":(qe>0?B.delta.increasing.symbol:B.delta.decreasing.symbol)+we+Ke(qe)+be},Pe=function(qe){return qe.delta>=0?B.delta.increasing.color:B.delta.decreasing.color};B._deltaLastValue===void 0&&(B._deltaLastValue=ke(z[0]));var Ge=ve.select("text.delta");Ge.call(r.font,B.delta.font).call(h.fill,Pe({delta:B._deltaLastValue}));function nt(){Ge.text(Fe(ke(z[0]),Ce)).call(h.fill,Pe(z[0])).call(n.convertToTspans,I)}return d(ne)?Ge.transition().duration(ne.duration).ease(ne.easing).tween("text",function(){var qe=g.select(this),Ke=ke(z[0]),$e=B._deltaLastValue,vt=se(B.delta.valueformat,Ce,$e,Ke),yt=i($e,Ke);return B._deltaLastValue=Ke,function(mt){qe.text(Fe(yt(mt),vt)),qe.call(h.fill,Pe({delta:yt(mt)}))}}).each("end",function(){nt(),oe&&oe()}).each("interrupt",function(){nt(),oe&&oe()}):nt(),Y=w(Fe(ke(z[0]),Ce),B.delta.font,q,I),Ge}var le=B.mode+B.align,ie;if(B._hasDelta&&(ie=ee(),le+=B.delta.position+B.delta.font.size+B.delta.font.family+B.delta.valueformat,le+=B.delta.increasing.symbol+B.delta.decreasing.symbol,j=Y),B._hasNumber&&(Q(),le+=B.number.font.size+B.number.font.family+B.number.valueformat+B.number.suffix+B.number.prefix,j=J),B._hasDelta&&B._hasNumber){var he=[(J.left+J.right)/2,(J.top+J.bottom)/2],xe=[(Y.left+Y.right)/2,(Y.top+Y.bottom)/2],Se,Ee,Ne=.75*B.delta.font.size;B.delta.position==="left"&&(Se=k(B,"deltaPos",0,-1*(J.width*f[B.align]+Y.width*(1-f[B.align])+Ne),le,Math.min),Ee=he[1]-xe[1],j={width:J.width+Y.width+Ne,height:Math.max(J.height,Y.height),left:Y.left+Se,right:J.right,top:Math.min(J.top,Y.top+Ee),bottom:Math.max(J.bottom,Y.bottom+Ee)}),B.delta.position==="right"&&(Se=k(B,"deltaPos",0,J.width*(1-f[B.align])+Y.width*f[B.align]+Ne,le,Math.max),Ee=he[1]-xe[1],j={width:J.width+Y.width+Ne,height:Math.max(J.height,Y.height),left:J.left,right:Y.right+Se,top:Math.min(J.top,Y.top+Ee),bottom:Math.max(J.bottom,Y.bottom+Ee)}),B.delta.position==="bottom"&&(Se=null,Ee=Y.height,j={width:Math.max(J.width,Y.width),height:J.height+Y.height,left:Math.min(J.left,Y.left),right:Math.max(J.right,Y.right),top:J.bottom-J.height,bottom:J.bottom+Y.height}),B.delta.position==="top"&&(Se=null,Ee=J.top,j={width:Math.max(J.width,Y.width),height:J.height+Y.height,left:Math.min(J.left,Y.left),right:Math.max(J.right,Y.right),top:J.bottom-J.height-Y.height,bottom:J.bottom}),ie.attr({dx:Se,dy:Ee})}(B._hasNumber||B._hasDelta)&&ve.attr("transform",function(){var He=N.numbersScaler(j);le+=He[2];var Ce=k(B,"numbersScale",1,He[0],le,Math.min),be;B._scaleNumbers||(Ce=1),B._isAngular?be=H-Ce*j.bottom:be=H-Ce*(j.top+j.bottom)/2,B._numbersTop=Ce*j.top+be;var we=j[X];X==="center"&&(we=(j.left+j.right)/2);var ke=F-Ce*we;return ke=k(B,"numbersTranslate",0,ke,le,Math.max),v(ke,be)+T(Ce)})}function m(I){I.each(function(U){h.stroke(g.select(this),U.line.color)}).each(function(U){h.fill(g.select(this),U.color)}).style("stroke-width",function(U){return U.line.width})}function S(I,U,z){return function(){var N=R(U,z);return function(B){return I.endAngle(N(B))()}}}function x(I,U,z){var N=I._fullLayout,B=L.extendFlat({type:"linear",ticks:"outside",range:z,showline:!0},U),F={type:"linear",_id:"x"+U._id},H={letter:"x",font:N.font,noHover:!0,noTickson:!0};function X(q,ne){return L.coerce(B,F,y,q,ne)}return c(B,F,X,H,N),u(B,F,X,H),F}function a(I,U,z){var N=Math.min(U/I.width,z/I.height);return[N,I,U+"x"+z]}function E(I,U){var z=Math.sqrt(I.width/2*(I.width/2)+I.height*I.height),N=U/z;return[N,I,U]}function w(I,U,z,N){var B=document.createElementNS("http://www.w3.org/2000/svg","text"),F=g.select(B);return F.text(I).attr("x",0).attr("y",0).attr("text-anchor",z).attr("data-unformatted",I).call(n.convertToTspans,N).call(r.font,U),r.bBox(F.node())}function k(I,U,z,N,B,F){var H="_cache"+U;I[H]&&I[H].key===B||(I[H]={key:B,value:z});var X=L.aggNums(F,null,[I[H].value,N],2);return I[H].value=X,X}},16249:function(G,V,e){var g=e(50693),R=e(12663).axisHoverFormat,i=e(5386).fF,L=e(2418),T=e(9012),v=e(1426).extendFlat,p=e(30962).overrideAll;function t(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function r(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var l=G.exports=p(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:t(),y:t(),z:t()},caps:{x:r(),y:r(),z:r()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:i(),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),valuehoverformat:R("value",1),showlegend:v({},T.showlegend,{dflt:!1})},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:v({},T.hoverinfo)}),"calc","nested");l.flatshading.dflt=!0,l.lighting.facenormalsepsilon.dflt=0,l.x.editType=l.y.editType=l.z.editType=l.value.editType="calc+clearAxisTypes",l.transforms=void 0},56959:function(G,V,e){var g=e(78803),R=e(88489).processGrid,i=e(88489).filter;G.exports=function(T,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=i(v.x,v._len),v._y=i(v.y,v._len),v._z=i(v.z,v._len),v._value=i(v.value,v._len);var p=R(v);v._gridFill=p.fill,v._Xs=p.Xs,v._Ys=p.Ys,v._Zs=p.Zs,v._len=p.len;for(var t=1/0,r=-1/0,l=0;l<v._len;l++){var n=v._value[l];t=Math.min(t,n),r=Math.max(r,n)}v._minValues=t,v._maxValues=r,v._vMin=v.isomin===void 0||v.isomin===null?t:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?r:v.isomax,g(T,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},22674:function(G,V,e){var g=e(9330).gl_mesh3d,R=e(81697).parseColorScale,i=e(78614),L=e(21081).extractOpts,T=e(90060),v=function(s,c){for(var u=c.length-1;u>0;u--){var y=Math.min(c[u],c[u-1]),h=Math.max(c[u],c[u-1]);if(h>y&&y<s&&s<=h)return{id:u,distRatio:(h-s)/(h-y)}}return{id:0,distRatio:0}};function p(s,c,u){this.scene=s,this.uid=u,this.mesh=c,this.name="",this.data=null,this.showContour=!1}var t=p.prototype;t.handlePick=function(s){if(s.object===this.mesh){var c=s.data.index,u=this.data._meshX[c],y=this.data._meshY[c],h=this.data._meshZ[c],b=this.data._Ys.length,f=this.data._Zs.length,o=v(u,this.data._Xs).id,d=v(y,this.data._Ys).id,A=v(h,this.data._Zs).id,M=s.index=A+f*d+f*b*o;s.traceCoordinate=[this.data._meshX[M],this.data._meshY[M],this.data._meshZ[M],this.data._value[M]];var C=this.data.hovertext||this.data.text;return Array.isArray(C)&&C[M]!==void 0?s.textLabel=C[M]:C&&(s.textLabel=C),!0}},t.update=function(s){var c=this.scene,u=c.fullSceneLayout;this.data=l(s);function y(d,A,M,C){return A.map(function(m){return d.d2l(m,0,C)*M})}var h=T(y(u.xaxis,s._meshX,c.dataScale[0],s.xcalendar),y(u.yaxis,s._meshY,c.dataScale[1],s.ycalendar),y(u.zaxis,s._meshZ,c.dataScale[2],s.zcalendar)),b=T(s._meshI,s._meshJ,s._meshK),f={positions:h,cells:b,lightPosition:[s.lightposition.x,s.lightposition.y,s.lightposition.z],ambient:s.lighting.ambient,diffuse:s.lighting.diffuse,specular:s.lighting.specular,roughness:s.lighting.roughness,fresnel:s.lighting.fresnel,vertexNormalsEpsilon:s.lighting.vertexnormalsepsilon,faceNormalsEpsilon:s.lighting.facenormalsepsilon,opacity:s.opacity,contourEnable:s.contour.show,contourColor:i(s.contour.color).slice(0,3),contourWidth:s.contour.width,useFacetNormals:s.flatshading},o=L(s);f.vertexIntensity=s._meshIntensity,f.vertexIntensityBounds=[o.min,o.max],f.colormap=R(s),this.mesh.update(f)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function l(s){s._meshI=[],s._meshJ=[],s._meshK=[];var c=s.surface.show,u=s.spaceframe.show,y=s.surface.fill,h=s.spaceframe.fill,b=!1,f=!1,o=0,d,A,M=s._Xs,C=s._Ys,m=s._Zs,S=M.length,x=C.length,a=m.length,E=r.indexOf(s._gridFill.replace(/-/g,"").replace(/\+/g,"")),w=function(rt,it,Ye){switch(E){case 5:return Ye+a*it+a*x*rt;case 4:return Ye+a*rt+a*S*it;case 3:return it+x*Ye+x*a*rt;case 2:return it+x*rt+x*S*Ye;case 1:return rt+S*Ye+S*a*it;default:return rt+S*it+S*x*Ye}},k=s._minValues,I=s._maxValues,U=s._vMin,z=s._vMax,N,B,F,H;function X(rt,it,Ye){for(var De=H.length,Te=A;Te<De;Te++)if(rt===N[Te]&&it===B[Te]&&Ye===F[Te])return Te;return-1}function q(){A=d}function ne(){N=[],B=[],F=[],H=[],d=0,q()}function oe(rt,it,Ye,De){return N.push(rt),B.push(it),F.push(Ye),H.push(De),d++,d-1}function ve(rt,it,Ye){return s._meshI.push(rt),s._meshJ.push(it),s._meshK.push(Ye),o++,o-1}function J(rt,it,Ye){for(var De=[],Te=0;Te<rt.length;Te++)De[Te]=(rt[Te]+it[Te]+Ye[Te])/3;return De}function Y(rt,it,Ye){for(var De=[],Te=0;Te<rt.length;Te++)De[Te]=rt[Te]*(1-Ye)+Ye*it[Te];return De}var j;function K(rt){j=rt}function te(rt,it){var Ye=rt[0],De=rt[1],Te=rt[2],fe=J(Ye,De,Te),me=Math.sqrt(1-j),Re=Y(fe,Ye,me),Oe=Y(fe,De,me),st=Y(fe,Te,me),ut=it[0],Tt=it[1],It=it[2];return{xyzv:[[Ye,De,Oe],[Oe,Re,Ye],[De,Te,st],[st,Oe,De],[Te,Ye,Re],[Re,st,Te]],abc:[[ut,Tt,-1],[-1,-1,ut],[Tt,It,-1],[-1,-1,Tt],[It,ut,-1],[-1,-1,It]]}}function se(rt,it){return rt==="all"||rt===null?!0:rt.indexOf(it)>-1}function Q(rt,it){return rt===null?it:rt}function ee(rt,it,Ye){q();var De=[it],Te=[Ye];if(j>=1)De=[it],Te=[Ye];else if(j>0){var fe=te(it,Ye);De=fe.xyzv,Te=fe.abc}for(var me=0;me<De.length;me++){it=De[me],Ye=Te[me];for(var Re=[],Oe=0;Oe<3;Oe++){var st=it[Oe][0],ut=it[Oe][1],Tt=it[Oe][2],It=it[Oe][3],Gt=Ye[Oe]>-1?Ye[Oe]:X(st,ut,Tt);Gt>-1?Re[Oe]=Gt:Re[Oe]=oe(st,ut,Tt,Q(rt,It))}ve(Re[0],Re[1],Re[2])}}function le(rt,it,Ye){var De=function(Te,fe,me){ee(rt,[it[Te],it[fe],it[me]],[Ye[Te],Ye[fe],Ye[me]])};De(0,1,2),De(2,3,0)}function ie(rt,it,Ye){var De=function(Te,fe,me){ee(rt,[it[Te],it[fe],it[me]],[Ye[Te],Ye[fe],Ye[me]])};De(0,1,2),De(3,0,1),De(2,3,0),De(1,2,3)}function he(rt,it,Ye,De){var Te=rt[3];Te<Ye&&(Te=Ye),Te>De&&(Te=De);for(var fe=(rt[3]-Te)/(rt[3]-it[3]+1e-9),me=[],Re=0;Re<4;Re++)me[Re]=(1-fe)*rt[Re]+fe*it[Re];return me}function xe(rt,it,Ye){return rt>=it&&rt<=Ye}function Se(rt){var it=.001*(z-U);return rt>=U-it&&rt<=z+it}function Ee(rt){for(var it=[],Ye=0;Ye<4;Ye++){var De=rt[Ye];it.push([s._x[De],s._y[De],s._z[De],s._value[De]])}return it}var Ne=3;function He(rt,it,Ye,De,Te,fe){fe||(fe=1),Ye=[-1,-1,-1];var me=!1,Re=[xe(it[0][3],De,Te),xe(it[1][3],De,Te),xe(it[2][3],De,Te)];if(!Re[0]&&!Re[1]&&!Re[2])return!1;var Oe=function(ut,Tt,It){return Se(Tt[0][3])&&Se(Tt[1][3])&&Se(Tt[2][3])?(ee(ut,Tt,It),!0):fe<Ne?He(ut,Tt,It,U,z,++fe):!1};if(Re[0]&&Re[1]&&Re[2])return Oe(rt,it,Ye)||me;var st=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(ut){if(Re[ut[0]]&&Re[ut[1]]&&!Re[ut[2]]){var Tt=it[ut[0]],It=it[ut[1]],Gt=it[ut[2]],jt=he(Gt,Tt,De,Te),Pt=he(Gt,It,De,Te);me=Oe(rt,[Pt,jt,Tt],[-1,-1,Ye[ut[0]]])||me,me=Oe(rt,[Tt,It,Pt],[Ye[ut[0]],Ye[ut[1]],-1])||me,st=!0}}),st||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(ut){if(Re[ut[0]]&&!Re[ut[1]]&&!Re[ut[2]]){var Tt=it[ut[0]],It=it[ut[1]],Gt=it[ut[2]],jt=he(It,Tt,De,Te),Pt=he(Gt,Tt,De,Te);me=Oe(rt,[Pt,jt,Tt],[-1,-1,Ye[ut[0]]])||me,st=!0}}),me}function Ce(rt,it,Ye,De){var Te=!1,fe=Ee(it),me=[xe(fe[0][3],Ye,De),xe(fe[1][3],Ye,De),xe(fe[2][3],Ye,De),xe(fe[3][3],Ye,De)];if(!me[0]&&!me[1]&&!me[2]&&!me[3])return Te;if(me[0]&&me[1]&&me[2]&&me[3])return f&&(Te=ie(rt,fe,it)||Te),Te;var Re=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Oe){if(me[Oe[0]]&&me[Oe[1]]&&me[Oe[2]]&&!me[Oe[3]]){var st=fe[Oe[0]],ut=fe[Oe[1]],Tt=fe[Oe[2]],It=fe[Oe[3]];if(f)Te=ee(rt,[st,ut,Tt],[it[Oe[0]],it[Oe[1]],it[Oe[2]]])||Te;else{var Gt=he(It,st,Ye,De),jt=he(It,ut,Ye,De),Pt=he(It,Tt,Ye,De);Te=ee(null,[Gt,jt,Pt],[-1,-1,-1])||Te}Re=!0}}),Re||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Oe){if(me[Oe[0]]&&me[Oe[1]]&&!me[Oe[2]]&&!me[Oe[3]]){var st=fe[Oe[0]],ut=fe[Oe[1]],Tt=fe[Oe[2]],It=fe[Oe[3]],Gt=he(Tt,st,Ye,De),jt=he(Tt,ut,Ye,De),Pt=he(It,ut,Ye,De),Qt=he(It,st,Ye,De);f?(Te=ee(rt,[st,Qt,Gt],[it[Oe[0]],-1,-1])||Te,Te=ee(rt,[ut,jt,Pt],[it[Oe[1]],-1,-1])||Te):Te=le(null,[Gt,jt,Pt,Qt],[-1,-1,-1,-1])||Te,Re=!0}}),Re)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Oe){if(me[Oe[0]]&&!me[Oe[1]]&&!me[Oe[2]]&&!me[Oe[3]]){var st=fe[Oe[0]],ut=fe[Oe[1]],Tt=fe[Oe[2]],It=fe[Oe[3]],Gt=he(ut,st,Ye,De),jt=he(Tt,st,Ye,De),Pt=he(It,st,Ye,De);f?(Te=ee(rt,[st,Gt,jt],[it[Oe[0]],-1,-1])||Te,Te=ee(rt,[st,jt,Pt],[it[Oe[0]],-1,-1])||Te,Te=ee(rt,[st,Pt,Gt],[it[Oe[0]],-1,-1])||Te):Te=ee(null,[Gt,jt,Pt],[-1,-1,-1])||Te,Re=!0}}),Te}function be(rt,it,Ye,De,Te,fe,me,Re,Oe,st,ut){var Tt=!1;return b&&(se(rt,"A")&&(Tt=Ce(null,[it,Ye,De,fe],st,ut)||Tt),se(rt,"B")&&(Tt=Ce(null,[Ye,De,Te,Oe],st,ut)||Tt),se(rt,"C")&&(Tt=Ce(null,[Ye,fe,me,Oe],st,ut)||Tt),se(rt,"D")&&(Tt=Ce(null,[De,fe,Re,Oe],st,ut)||Tt),se(rt,"E")&&(Tt=Ce(null,[Ye,De,fe,Oe],st,ut)||Tt)),f&&(Tt=Ce(rt,[Ye,De,fe,Oe],st,ut)||Tt),Tt}function we(rt,it,Ye,De,Te,fe,me,Re){return[Re[0]===!0?!0:He(rt,Ee([it,Ye,De]),[it,Ye,De],fe,me),Re[1]===!0?!0:He(rt,Ee([De,Te,it]),[De,Te,it],fe,me)]}function ke(rt,it,Ye,De,Te,fe,me,Re,Oe){return Re?we(rt,it,Ye,Te,De,fe,me,Oe):we(rt,Ye,Te,De,it,fe,me,Oe)}function Fe(rt,it,Ye,De,Te,fe,me){var Re=!1,Oe,st,ut,Tt,It=function(){Re=He(rt,[Oe,st,ut],[-1,-1,-1],Te,fe)||Re,Re=He(rt,[ut,Tt,Oe],[-1,-1,-1],Te,fe)||Re},Gt=me[0],jt=me[1],Pt=me[2];return Gt&&(Oe=Y(Ee([w(it,Ye-0,De-0)])[0],Ee([w(it-1,Ye-0,De-0)])[0],Gt),st=Y(Ee([w(it,Ye-0,De-1)])[0],Ee([w(it-1,Ye-0,De-1)])[0],Gt),ut=Y(Ee([w(it,Ye-1,De-1)])[0],Ee([w(it-1,Ye-1,De-1)])[0],Gt),Tt=Y(Ee([w(it,Ye-1,De-0)])[0],Ee([w(it-1,Ye-1,De-0)])[0],Gt),It()),jt&&(Oe=Y(Ee([w(it-0,Ye,De-0)])[0],Ee([w(it-0,Ye-1,De-0)])[0],jt),st=Y(Ee([w(it-0,Ye,De-1)])[0],Ee([w(it-0,Ye-1,De-1)])[0],jt),ut=Y(Ee([w(it-1,Ye,De-1)])[0],Ee([w(it-1,Ye-1,De-1)])[0],jt),Tt=Y(Ee([w(it-1,Ye,De-0)])[0],Ee([w(it-1,Ye-1,De-0)])[0],jt),It()),Pt&&(Oe=Y(Ee([w(it-0,Ye-0,De)])[0],Ee([w(it-0,Ye-0,De-1)])[0],Pt),st=Y(Ee([w(it-0,Ye-1,De)])[0],Ee([w(it-0,Ye-1,De-1)])[0],Pt),ut=Y(Ee([w(it-1,Ye-1,De)])[0],Ee([w(it-1,Ye-1,De-1)])[0],Pt),Tt=Y(Ee([w(it-1,Ye-0,De)])[0],Ee([w(it-1,Ye-0,De-1)])[0],Pt),It()),Re}function Pe(rt,it,Ye,De,Te,fe,me,Re,Oe,st,ut,Tt){var It=rt;return Tt?(b&&rt==="even"&&(It=null),be(It,it,Ye,De,Te,fe,me,Re,Oe,st,ut)):(b&&rt==="odd"&&(It=null),be(It,Oe,Re,me,fe,Te,De,Ye,it,st,ut))}function Ge(rt,it,Ye,De,Te){for(var fe=[],me=0,Re=0;Re<it.length;Re++)for(var Oe=it[Re],st=1;st<a;st++)for(var ut=1;ut<x;ut++)fe.push(ke(rt,w(Oe,ut-1,st-1),w(Oe,ut-1,st),w(Oe,ut,st-1),w(Oe,ut,st),Ye,De,(Oe+ut+st)%2,Te&&Te[me]?Te[me]:[])),me++;return fe}function nt(rt,it,Ye,De,Te){for(var fe=[],me=0,Re=0;Re<it.length;Re++)for(var Oe=it[Re],st=1;st<S;st++)for(var ut=1;ut<a;ut++)fe.push(ke(rt,w(st-1,Oe,ut-1),w(st,Oe,ut-1),w(st-1,Oe,ut),w(st,Oe,ut),Ye,De,(st+Oe+ut)%2,Te&&Te[me]?Te[me]:[])),me++;return fe}function qe(rt,it,Ye,De,Te){for(var fe=[],me=0,Re=0;Re<it.length;Re++)for(var Oe=it[Re],st=1;st<x;st++)for(var ut=1;ut<S;ut++)fe.push(ke(rt,w(ut-1,st-1,Oe),w(ut-1,st,Oe),w(ut,st-1,Oe),w(ut,st,Oe),Ye,De,(ut+st+Oe)%2,Te&&Te[me]?Te[me]:[])),me++;return fe}function Ke(rt,it,Ye){for(var De=1;De<a;De++)for(var Te=1;Te<x;Te++)for(var fe=1;fe<S;fe++)Pe(rt,w(fe-1,Te-1,De-1),w(fe-1,Te-1,De),w(fe-1,Te,De-1),w(fe-1,Te,De),w(fe,Te-1,De-1),w(fe,Te-1,De),w(fe,Te,De-1),w(fe,Te,De),it,Ye,(fe+Te+De)%2)}function $e(rt,it,Ye){f=!0,Ke(rt,it,Ye),f=!1}function vt(rt,it,Ye){b=!0,Ke(rt,it,Ye),b=!1}function yt(rt,it,Ye,De,Te,fe){for(var me=[],Re=0,Oe=0;Oe<it.length;Oe++)for(var st=it[Oe],ut=1;ut<a;ut++)for(var Tt=1;Tt<x;Tt++)me.push(Fe(rt,st,Tt,ut,Ye,De,Te[Oe],fe&&fe[Re]?fe[Re]:[])),Re++;return me}function mt(rt,it,Ye,De,Te,fe){for(var me=[],Re=0,Oe=0;Oe<it.length;Oe++)for(var st=it[Oe],ut=1;ut<S;ut++)for(var Tt=1;Tt<a;Tt++)me.push(Fe(rt,ut,st,Tt,Ye,De,Te[Oe],fe&&fe[Re]?fe[Re]:[])),Re++;return me}function Et(rt,it,Ye,De,Te,fe){for(var me=[],Re=0,Oe=0;Oe<it.length;Oe++)for(var st=it[Oe],ut=1;ut<x;ut++)for(var Tt=1;Tt<S;Tt++)me.push(Fe(rt,Tt,ut,st,Ye,De,Te[Oe],fe&&fe[Re]?fe[Re]:[])),Re++;return me}function Xe(rt,it){for(var Ye=[],De=rt;De<it;De++)Ye.push(De);return Ye}function Ue(){for(var rt=0;rt<S;rt++)for(var it=0;it<x;it++)for(var Ye=0;Ye<a;Ye++){var De=w(rt,it,Ye);oe(s._x[De],s._y[De],s._z[De],s._value[De])}}function Be(){ne(),Ue();var rt=null;if(u&&h&&(K(h),$e(rt,U,z)),c&&y){K(y);for(var it=s.surface.pattern,Ye=s.surface.count,De=0;De<Ye;De++){var Te=Ye===1?.5:De/(Ye-1),fe=(1-Te)*U+Te*z,me=Math.abs(fe-k),Re=Math.abs(fe-I),Oe=me>Re?[k,fe]:[fe,I];vt(it,Oe[0],Oe[1])}}var st=[[Math.min(U,I),Math.max(U,I)],[Math.min(k,z),Math.max(k,z)]];["x","y","z"].forEach(function(ut){for(var Tt=[],It=0;It<st.length;It++){var Gt=0,jt=st[It][0],Pt=st[It][1],Qt=s.slices[ut];if(Qt.show&&Qt.fill){K(Qt.fill);var or=[],zr=[],bt=[];if(Qt.locations.length)for(var Jt=0;Jt<Qt.locations.length;Jt++){var Zt=v(Qt.locations[Jt],ut==="x"?M:ut==="y"?C:m);Zt.distRatio===0?or.push(Zt.id):Zt.id>0&&(zr.push(Zt.id),ut==="x"?bt.push([Zt.distRatio,0,0]):ut==="y"?bt.push([0,Zt.distRatio,0]):bt.push([0,0,Zt.distRatio]))}else ut==="x"?or=Xe(1,S-1):ut==="y"?or=Xe(1,x-1):or=Xe(1,a-1);zr.length>0&&(ut==="x"?Tt[Gt]=yt(rt,zr,jt,Pt,bt,Tt[Gt]):ut==="y"?Tt[Gt]=mt(rt,zr,jt,Pt,bt,Tt[Gt]):Tt[Gt]=Et(rt,zr,jt,Pt,bt,Tt[Gt]),Gt++),or.length>0&&(ut==="x"?Tt[Gt]=Ge(rt,or,jt,Pt,Tt[Gt]):ut==="y"?Tt[Gt]=nt(rt,or,jt,Pt,Tt[Gt]):Tt[Gt]=qe(rt,or,jt,Pt,Tt[Gt]),Gt++)}var Ar=s.caps[ut];Ar.show&&Ar.fill&&(K(Ar.fill),ut==="x"?Tt[Gt]=Ge(rt,[0,S-1],jt,Pt,Tt[Gt]):ut==="y"?Tt[Gt]=nt(rt,[0,x-1],jt,Pt,Tt[Gt]):Tt[Gt]=qe(rt,[0,a-1],jt,Pt,Tt[Gt]),Gt++)}}),o===0&&ne(),s._meshX=N,s._meshY=B,s._meshZ=F,s._meshIntensity=H,s._Xs=M,s._Ys=C,s._Zs=m}return Be(),s}function n(s,c){var u=s.glplot.gl,y=g({gl:u}),h=new p(s,y,c.uid);return y._trace=h,h.update(c),s.glplot.add(y),h}G.exports={findNearestOnAxis:v,generateIsoMeshes:l,createIsosurfaceTrace:n}},82738:function(G,V,e){var g=e(71828),R=e(73972),i=e(16249),L=e(1586);function T(p,t,r,l){function n(s,c){return g.coerce(p,t,i,s,c)}v(p,t,r,l,n)}function v(p,t,r,l,n){var s=n("isomin"),c=n("isomax");c!=null&&s!==void 0&&s!==null&&s>c&&(t.isomin=null,t.isomax=null);var u=n("x"),y=n("y"),h=n("z"),b=n("value");if(!u||!u.length||!y||!y.length||!h||!h.length||!b||!b.length){t.visible=!1;return}var f=R.getComponentMethod("calendars","handleTraceDefaults");f(p,t,["x","y","z"],l),n("valuehoverformat"),["x","y","z"].forEach(function(M){n(M+"hoverformat");var C="caps."+M,m=n(C+".show");m&&n(C+".fill");var S="slices."+M,x=n(S+".show");x&&(n(S+".fill"),n(S+".locations"))});var o=n("spaceframe.show");o&&n("spaceframe.fill");var d=n("surface.show");d&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var A=n("contour.show");A&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(M){n(M)}),L(p,t,l,n,{prefix:"",cLetter:"c"}),t._length=null}G.exports={supplyDefaults:T,supplyIsoDefaults:v}},64943:function(G,V,e){G.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(G,V,e){var g=e(50693),R=e(12663).axisHoverFormat,i=e(5386).fF,L=e(54532),T=e(9012),v=e(1426).extendFlat;G.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"}),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},g("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:L.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},L.contours.x.show,{}),color:L.contours.x.color,width:L.contours.x.width,editType:"calc"},lightposition:{x:v({},L.lightposition.x,{dflt:1e5}),y:v({},L.lightposition.y,{dflt:1e5}),z:v({},L.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},L.lighting),hoverinfo:v({},T.hoverinfo,{editType:"calc"}),showlegend:v({},T.showlegend,{dflt:!1})})},82932:function(G,V,e){var g=e(78803);G.exports=function(i,L){L.intensity&&g(i,L,{vals:L.intensity,containerStr:"",cLetter:"c"})}},91134:function(G,V,e){var g=e(9330).gl_mesh3d,R=e(9330).delaunay_triangulate,i=e(9330).alpha_shape,L=e(9330).convex_hull,T=e(81697).parseColorScale,v=e(78614),p=e(21081).extractOpts,t=e(90060);function r(b,f,o){this.scene=b,this.uid=o,this.mesh=f,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var l=r.prototype;l.handlePick=function(b){if(b.object===this.mesh){var f=b.index=b.data.index;b.data._cellCenter?b.traceCoordinate=b.data.dataCoordinate:b.traceCoordinate=[this.data.x[f],this.data.y[f],this.data.z[f]];var o=this.data.hovertext||this.data.text;return Array.isArray(o)&&o[f]!==void 0?b.textLabel=o[f]:o&&(b.textLabel=o),!0}};function n(b){for(var f=[],o=b.length,d=0;d<o;d++)f[d]=v(b[d]);return f}function s(b,f,o,d){for(var A=[],M=f.length,C=0;C<M;C++)A[C]=b.d2l(f[C],0,d)*o;return A}function c(b){for(var f=[],o=b.length,d=0;d<o;d++)f[d]=Math.round(b[d]);return f}function u(b,f){for(var o=["x","y","z"].indexOf(b),d=[],A=f.length,M=0;M<A;M++)d[M]=[f[M][(o+1)%3],f[M][(o+2)%3]];return R(d)}function y(b,f){for(var o=b.length,d=0;d<o;d++)if(b[d]<=-.5||b[d]>=f-.5)return!1;return!0}l.update=function(b){var f=this.scene,o=f.fullSceneLayout;this.data=b;var d=b.x.length,A=t(s(o.xaxis,b.x,f.dataScale[0],b.xcalendar),s(o.yaxis,b.y,f.dataScale[1],b.ycalendar),s(o.zaxis,b.z,f.dataScale[2],b.zcalendar)),M;if(b.i&&b.j&&b.k){if(b.i.length!==b.j.length||b.j.length!==b.k.length||!y(b.i,d)||!y(b.j,d)||!y(b.k,d))return;M=t(c(b.i),c(b.j),c(b.k))}else b.alphahull===0?M=L(A):b.alphahull>0?M=i(b.alphahull,A):M=u(b.delaunayaxis,A);var C={positions:A,cells:M,lightPosition:[b.lightposition.x,b.lightposition.y,b.lightposition.z],ambient:b.lighting.ambient,diffuse:b.lighting.diffuse,specular:b.lighting.specular,roughness:b.lighting.roughness,fresnel:b.lighting.fresnel,vertexNormalsEpsilon:b.lighting.vertexnormalsepsilon,faceNormalsEpsilon:b.lighting.facenormalsepsilon,opacity:b.opacity,contourEnable:b.contour.show,contourColor:v(b.contour.color).slice(0,3),contourWidth:b.contour.width,useFacetNormals:b.flatshading};if(b.intensity){var m=p(b);this.color="#fff";var S=b.intensitymode;C[S+"Intensity"]=b.intensity,C[S+"IntensityBounds"]=[m.min,m.max],C.colormap=T(b)}else b.vertexcolor?(this.color=b.vertexcolor[0],C.vertexColors=n(b.vertexcolor)):b.facecolor?(this.color=b.facecolor[0],C.cellColors=n(b.facecolor)):(this.color=b.color,C.meshColor=v(b.color));this.mesh.update(C)},l.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function h(b,f){var o=b.glplot.gl,d=g({gl:o}),A=new r(b,d,f.uid);return d._trace=A,A.update(f),b.glplot.add(d),A}G.exports=h},58669:function(G,V,e){var g=e(73972),R=e(71828),i=e(1586),L=e(2418);G.exports=function(v,p,t,r){function l(y,h){return R.coerce(v,p,L,y,h)}function n(y){var h=y.map(function(b){var f=l(b);return f&&R.isArrayOrTypedArray(f)?f:null});return h.every(function(b){return b&&b.length===h[0].length})&&h}var s=n(["x","y","z"]);if(!s){p.visible=!1;return}if(n(["i","j","k"]),p.i&&(!p.j||!p.k)||p.j&&(!p.k||!p.i)||p.k&&(!p.i||!p.j)){p.visible=!1;return}var c=g.getComponentMethod("calendars","handleTraceDefaults");c(v,p,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(y){l(y)});var u=l("contour.show");u&&(l("contour.color"),l("contour.width")),"intensity"in v?(l("intensity"),l("intensitymode"),i(v,p,r,l,{prefix:"",cLetter:"c"})):(p.showscale=!1,"facecolor"in v?l("facecolor"):"vertexcolor"in v?l("vertexcolor"):l("color",t)),l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),p._length=null}},21164:function(G,V,e){G.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(G,V,e){var g=e(71828).extendFlat,R=e(82196),i=e(12663).axisHoverFormat,L=e(79952).P,T=e(77914),v=e(22372),p=v.INCREASING.COLOR,t=v.DECREASING.COLOR,r=R.line;function l(n){return{line:{color:g({},r.color,{dflt:n}),width:r.width,dash:L,editType:"style"},editType:"style"}}G.exports={xperiod:R.xperiod,xperiod0:R.xperiod0,xperiodalignment:R.xperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:g({},r.width,{}),dash:g({},L,{}),editType:"style"},increasing:l(p),decreasing:l(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:g({},T.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(G,V,e){var g=e(71828),R=g._,i=e(89298),L=e(42973),T=e(50606).BADNUM;function v(l,n){var s=i.getFromId(l,n.xaxis),c=i.getFromId(l,n.yaxis),u=r(l,s,n),y=n._minDiff;n._minDiff=null;var h=n._origX;n._origX=null;var b=n._xcalc;n._xcalc=null;var f=t(l,n,h,b,c,p);return n._extremes[s._id]=i.findExtremes(s,b,{vpad:y/2}),f.length?(g.extendFlat(f[0].t,{wHover:y/2,tickLen:u}),f):[{t:{empty:!0}}]}function p(l,n,s,c){return{o:l,h:n,l:s,c}}function t(l,n,s,c,u,y){for(var h=u.makeCalcdata(n,"open"),b=u.makeCalcdata(n,"high"),f=u.makeCalcdata(n,"low"),o=u.makeCalcdata(n,"close"),d=Array.isArray(n.text),A=Array.isArray(n.hovertext),M=!0,C=null,m=!!n.xperiodalignment,S=[],x=0;x<c.length;x++){var a=c[x],E=h[x],w=b[x],k=f[x],I=o[x];if(a!==T&&E!==T&&w!==T&&k!==T&&I!==T){I===E?C!==null&&I!==C&&(M=I>C):M=I>E,C=I;var U=y(E,w,k,I);U.pos=a,U.yc=(E+I)/2,U.i=x,U.dir=M?"increasing":"decreasing",U.x=U.pos,U.y=[k,w],m&&(U.orig_p=s[x]),d&&(U.tx=n.text[x]),A&&(U.htx=n.hovertext[x]),S.push(U)}else S.push({pos:a,empty:!0})}return n._extremes[u._id]=i.findExtremes(u,g.concat(f,b),{padded:!0}),S.length&&(S[0].t={labels:{open:R(l,"open:")+" ",high:R(l,"high:")+" ",low:R(l,"low:")+" ",close:R(l,"close:")+" "}}),S}function r(l,n,s){var c=s._minDiff;if(!c){var u=l._fullData,y=[];c=1/0;var h;for(h=0;h<u.length;h++){var b=u[h];if(b.type==="ohlc"&&b.visible===!0&&b.xaxis===n._id){y.push(b);var f=n.makeCalcdata(b,"x");b._origX=f;var o=L(s,n,"x",f).vals;b._xcalc=o;var d=g.distinctVals(o).minDiff;d&&isFinite(d)&&(c=Math.min(c,d))}}for(c===1/0&&(c=1),h=0;h<y.length;h++)y[h]._minDiff=c}return c*s.tickwidth}G.exports={calc:v,calcCommon:t}},16169:function(G,V,e){var g=e(71828),R=e(14555),i=e(73927),L=e(2522);G.exports=function(p,t,r,l){function n(c,u){return g.coerce(p,t,L,c,u)}var s=R(p,t,n,l);if(!s){t.visible=!1;return}i(p,t,l,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),T(p,t,n,"increasing"),T(p,t,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),l._requestRangeslider[t.xaxis]=!0};function T(v,p,t,r){t(r+".line.color"),t(r+".line.width",p.line.width),t(r+".line.dash",p.line.dash)}},66449:function(G,V,e){var g=e(89298),R=e(71828),i=e(30211),L=e(7901),T=e(71828).fillText,v=e(22372),p={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function t(s,c,u,y){var h=s.cd,b=h[0].trace;return b.hoverlabel.split?l(s,c,u,y):n(s,c,u,y)}function r(s,c,u,y){var h=s.cd,b=s.xa,f=h[0].trace,o=h[0].t,d=f.type,A=d==="ohlc"?"l":"min",M=d==="ohlc"?"h":"max",C,m,S=o.bPos||0,x=function(X){return X.pos+S-c},a=o.bdPos||o.tickLen,E=o.wHover,w=Math.min(1,a/Math.abs(b.r2c(b.range[1])-b.r2c(b.range[0])));C=s.maxHoverDistance-w,m=s.maxSpikeDistance-w;function k(X){var q=x(X);return i.inbox(q-E,q+E,C)}function I(X){var q=X[A],ne=X[M];return q===ne||i.inbox(q-u,ne-u,C)}function U(X){return(k(X)+I(X))/2}var z=i.getDistanceFunction(y,k,I,U);if(i.getClosest(h,z,s),s.index===!1)return null;var N=h[s.index];if(N.empty)return null;var B=N.dir,F=f[B],H=F.line.color;return L.opacity(H)&&F.line.width?s.color=H:s.color=F.fillcolor,s.x0=b.c2p(N.pos+S-a,!0),s.x1=b.c2p(N.pos+S+a,!0),s.xLabelVal=N.orig_p!==void 0?N.orig_p:N.pos,s.spikeDistance=U(N)*m/C,s.xSpike=b.c2p(N.pos,!0),s}function l(s,c,u,y){var h=s.cd,b=s.ya,f=h[0].trace,o=h[0].t,d=[],A=r(s,c,u,y);if(!A)return[];var M=A.index,C=h[M],m=C.hi||f.hoverinfo,S=m.split("+"),x=m==="all",a=x||S.indexOf("y")!==-1;if(!a)return[];for(var E=["high","open","close","low"],w={},k=0;k<E.length;k++){var I=E[k],U=f[I][A.index],z=b.c2p(U,!0),N;U in w?(N=w[U],N.yLabel+="<br>"+o.labels[I]+g.hoverLabelText(b,U,f.yhoverformat)):(N=R.extendFlat({},A),N.y0=N.y1=z,N.yLabelVal=U,N.yLabel=o.labels[I]+g.hoverLabelText(b,U,f.yhoverformat),N.name="",d.push(N),w[U]=N)}return d}function n(s,c,u,y){var h=s.cd,b=s.ya,f=h[0].trace,o=h[0].t,d=r(s,c,u,y);if(!d)return[];var A=d.index,M=h[A],C=d.index=M.i,m=M.dir;function S(U){return o.labels[U]+g.hoverLabelText(b,f[U][C],f.yhoverformat)}var x=M.hi||f.hoverinfo,a=x.split("+"),E=x==="all",w=E||a.indexOf("y")!==-1,k=E||a.indexOf("text")!==-1,I=w?[S("open"),S("high"),S("low"),S("close")+"  "+p[m]]:[];return k&&T(M,f,I),d.extraText=I.join("<br>"),d.y0=d.y1=b.c2p(M.yc,!0),[d]}G.exports={hoverPoints:t,hoverSplit:l,hoverOnPoints:n}},54186:function(G,V,e){G.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(G,V,e){var g=e(73972),R=e(71828);G.exports=function(L,T,v,p){var t=v("x"),r=v("open"),l=v("high"),n=v("low"),s=v("close");v("hoverlabel.split");var c=g.getComponentMethod("calendars","handleTraceDefaults");if(c(L,T,["x"],p),!!(r&&l&&n&&s)){var u=Math.min(r.length,l.length,n.length,s.length);return t&&(u=Math.min(u,R.minRowLength(t))),T._length=u,u}}},72314:function(G,V,e){var g=e(39898),R=e(71828);G.exports=function(L,T,v,p){var t=T.yaxis,r=T.xaxis,l=!!r.rangebreaks;R.makeTraceGroups(p,v,"trace ohlc").each(function(n){var s=g.select(this),c=n[0],u=c.t,y=c.trace;if(y.visible!==!0||u.empty){s.remove();return}var h=u.tickLen,b=s.selectAll("path").data(R.identity);b.enter().append("path"),b.exit().remove(),b.attr("d",function(f){if(f.empty)return"M0,0Z";var o=r.c2p(f.pos-h,!0),d=r.c2p(f.pos+h,!0),A=l?(o+d)/2:r.c2p(f.pos,!0),M=t.c2p(f.o,!0),C=t.c2p(f.h,!0),m=t.c2p(f.l,!0),S=t.c2p(f.c,!0);return"M"+o+","+M+"H"+A+"M"+A+","+C+"V"+m+"M"+d+","+S+"H"+A})})}},67324:function(G){G.exports=function(e,g){var R=e.cd,i=e.xaxis,L=e.yaxis,T=[],v,p=R[0].t.bPos||0;if(g===!1)for(v=0;v<R.length;v++)R[v].selected=0;else for(v=0;v<R.length;v++){var t=R[v];g.contains([i.c2p(t.pos+p),L.c2p(t.yc)],null,t.i,e)?(T.push({pointNumber:t.i,x:i.c2d(t.pos),y:L.c2d(t.yc)}),t.selected=1):t.selected=0}return T}},53101:function(G,V,e){var g=e(39898),R=e(91424),i=e(7901);G.exports=function(T,v,p){var t=p||g.select(T).selectAll("g.ohlclayer").selectAll("g.trace");t.style("opacity",function(r){return r[0].trace.opacity}),t.each(function(r){var l=r[0].trace;g.select(this).selectAll("path").each(function(n){if(!n.empty){var s=l[n.dir].line;g.select(this).style("fill","none").call(i.stroke,s.color).call(R.dashLine,s.dash,s.width).style("opacity",l.selectedpoints&&!n.selected?.3:1)}})})}},99506:function(G,V,e){var g=e(1426).extendFlat,R=e(9012),i=e(41940),L=e(50693),T=e(5386).fF,v=e(27670).Y,p=g({editType:"calc"},L("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:T({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});G.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:g({},R.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:T({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:i({editType:"calc"}),tickfont:i({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:p,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(G,V,e){var g=e(27659).a0,R=e(45784),i="parcats";V.name=i,V.plot=function(L,T,v,p){var t=g(L.calcdata,i);if(t.length){var r=t[0];R(L,r,v,p)}},V.clean=function(L,T,v,p){var t=p._has&&p._has("parcats"),r=T._has&&T._has("parcats");t&&!r&&p._paperdiv.selectAll(".parcats").remove()}},28699:function(G,V,e){var g=e(28984).wrap,R=e(52075).hasColorscale,i=e(78803),L=e(75744),T=e(91424),v=e(71828),p=e(92770);G.exports=function(o,d){var A=v.filterVisible(d.dimensions);if(A.length===0)return[];var M=A.map(function(J){var Y;if(J.categoryorder==="trace")Y=null;else if(J.categoryorder==="array")Y=J.categoryarray;else{Y=L(J.values);for(var j=!0,K=0;K<Y.length;K++)if(!p(Y[K])){j=!1;break}Y.sort(j?v.sorterAsc:void 0),J.categoryorder==="category descending"&&(Y=Y.reverse())}return u(J.values,Y)}),C,m,S;v.isArrayOrTypedArray(d.counts)?C=d.counts:C=[d.counts],y(A),A.forEach(function(J,Y){h(J,M[Y])});var x=d.line,a;x?(R(d,"line")&&i(o,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),a=T.tryColorscale(x)):a=v.identity;function E(J){var Y,j;return v.isArrayOrTypedArray(x.color)?(Y=x.color[J%x.color.length],j=Y):Y=x.color,{color:a(Y),rawColor:j}}var w=A[0].values.length,k={},I=M.map(function(J){return J.inds});S=0;var U,z;for(U=0;U<w;U++){var N=[];for(z=0;z<I.length;z++)N.push(I[z][U]);m=C[U%C.length],S+=m;var B=E(U),F=N+"-"+B.rawColor;k[F]===void 0&&(k[F]=s(N,B.color,B.rawColor)),c(k[F],U,m)}var H=A.map(function(J,Y){return r(Y,J._index,J._displayindex,J.label,S)});for(U=0;U<w;U++)for(m=C[U%C.length],z=0;z<H.length;z++){var X=H[z].containerInd,q=M[z].inds[U],ne=H[z].categories;if(ne[q]===void 0){var oe=d.dimensions[X]._categoryarray[q],ve=d.dimensions[X]._ticktext[q];ne[q]=l(z,q,oe,ve)}n(ne[q],U,m)}return g(t(H,k,S))};function t(f,o,d){var A=f.map(function(M){return M.categories.length}).reduce(function(M,C){return Math.max(M,C)});return{dimensions:f,paths:o,trace:void 0,maxCats:A,count:d}}function r(f,o,d,A,M){return{dimensionInd:f,containerInd:o,displayInd:d,dimensionLabel:A,count:M,categories:[],dragX:null}}function l(f,o,d,A){return{dimensionInd:f,categoryInd:o,categoryValue:d,displayInd:o,categoryLabel:A,valueInds:[],count:0,dragY:null}}function n(f,o,d){f.valueInds.push(o),f.count+=d}function s(f,o,d){return{categoryInds:f,color:o,rawColor:d,valueInds:[],count:0}}function c(f,o,d){f.valueInds.push(o),f.count+=d}function u(f,o){o==null?o=[]:o=o.map(function(a){return a});var d={},A={},M=[];o.forEach(function(a,E){d[a]=0,A[a]=E});for(var C=0;C<f.length;C++){var m=f[C],S;d[m]===void 0?(d[m]=1,S=o.push(m)-1,A[m]=S):(d[m]++,S=A[m]),M.push(S)}var x=o.map(function(a){return d[a]});return{uniqueValues:o,uniqueCounts:x,inds:M}}function y(f){var o=f.map(function(A){return A.displayindex}),d;if(b(o))for(d=0;d<f.length;d++)f[d]._displayindex=f[d].displayindex;else for(d=0;d<f.length;d++)f[d]._displayindex=d}function h(f,o){f._categoryarray=o.uniqueValues,f.ticktext===null||f.ticktext===void 0?f._ticktext=[]:f._ticktext=f.ticktext.slice();for(var d=f._ticktext.length;d<o.uniqueValues.length;d++)f._ticktext.push(o.uniqueValues[d])}function b(f){for(var o=new Array(f.length),d=0;d<f.length;d++){if(f[d]<0||f[d]>=f.length||o[f[d]]!==void 0)return!1;o[f[d]]=!0}return!0}},14647:function(G,V,e){var g=e(71828),R=e(52075).hasColorscale,i=e(1586),L=e(27670).c,T=e(85501),v=e(99506),p=e(94397);function t(l,n,s,c,u){u("line.shape"),u("line.hovertemplate");var y=u("line.color",c.colorway[0]);if(R(l,"line")&&g.isArrayOrTypedArray(y)){if(y.length)return u("line.colorscale"),i(l,n,c,u,{prefix:"line.",cLetter:"c"}),y.length;n.line.color=s}return 1/0}function r(l,n){function s(o,d){return g.coerce(l,n,v.dimensions,o,d)}var c=s("values"),u=s("visible");if(c&&c.length||(u=n.visible=!1),u){s("label"),s("displayindex",n._index);var y=l.categoryarray,h=Array.isArray(y)&&y.length>0,b;h&&(b="array");var f=s("categoryorder",b);f==="array"?(s("categoryarray"),s("ticktext")):(delete l.categoryarray,delete l.ticktext),!h&&f==="array"&&(n.categoryorder="trace")}}G.exports=function(n,s,c,u){function y(d,A){return g.coerce(n,s,v,d,A)}var h=T(n,s,{name:"dimensions",handleItemDefaults:r}),b=t(n,s,c,u,y);L(s,u,y),(!Array.isArray(h)||!h.length)&&(s.visible=!1),p(s,h,"values",b),y("hoveron"),y("hovertemplate"),y("arrangement"),y("bundlecolors"),y("sortpaths"),y("counts");var f={family:u.font.family,size:Math.round(u.font.size),color:u.font.color};g.coerceFont(y,"labelfont",f);var o={family:u.font.family,size:Math.round(u.font.size/1.2),color:u.font.color};g.coerceFont(y,"tickfont",o)}},94873:function(G,V,e){G.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(G,V,e){var g=e(39898),R=e(81684).k4,i=e(72391),L=e(30211),T=e(71828),v=T.strTranslate,p=e(91424),t=e(84267),r=e(63893);function l(K,te,se,Q){var ee=te._context.staticPlot,le=K.map(oe.bind(0,te,se)),ie=Q.selectAll("g.parcatslayer").data([null]);ie.enter().append("g").attr("class","parcatslayer").style("pointer-events",ee?"none":"all");var he=ie.selectAll("g.trace.parcats").data(le,n),xe=he.enter().append("g").attr("class","trace parcats");he.attr("transform",function(Ge){return v(Ge.x,Ge.y)}),xe.append("g").attr("class","paths");var Se=he.select("g.paths"),Ee=Se.selectAll("path.path").data(function(Ge){return Ge.paths},n);Ee.attr("fill",function(Ge){return Ge.model.color});var Ne=Ee.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ge){return Ge.model.color}).attr("fill-opacity",0);o(Ne),Ee.attr("d",function(Ge){return Ge.svgD}),Ne.empty()||Ee.sort(c),Ee.exit().remove(),Ee.on("mouseover",u).on("mouseout",y).on("click",f),xe.append("g").attr("class","dimensions");var He=he.select("g.dimensions"),Ce=He.selectAll("g.dimension").data(function(Ge){return Ge.dimensions},n);Ce.enter().append("g").attr("class","dimension"),Ce.attr("transform",function(Ge){return v(Ge.x,0)}),Ce.exit().remove();var be=Ce.selectAll("g.category").data(function(Ge){return Ge.categories},n),we=be.enter().append("g").attr("class","category");be.attr("transform",function(Ge){return v(0,Ge.y)}),we.append("rect").attr("class","catrect").attr("pointer-events","none"),be.select("rect.catrect").attr("fill","none").attr("width",function(Ge){return Ge.width}).attr("height",function(Ge){return Ge.height}),M(we);var ke=be.selectAll("rect.bandrect").data(function(Ge){return Ge.bands},n);ke.each(function(){T.raiseToTop(this)}),ke.attr("fill",function(Ge){return Ge.color});var Fe=ke.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ge){return Ge.color}).attr("fill-opacity",0);ke.attr("fill",function(Ge){return Ge.color}).attr("width",function(Ge){return Ge.width}).attr("height",function(Ge){return Ge.height}).attr("y",function(Ge){return Ge.y}).attr("cursor",function(Ge){return Ge.parcatsViewModel.arrangement==="fixed"?"default":Ge.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),m(Fe),ke.exit().remove(),we.append("text").attr("class","catlabel").attr("pointer-events","none");var Pe=te._fullLayout.paper_bgcolor;be.select("text.catlabel").attr("text-anchor",function(Ge){return s(Ge)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",r.makeTextShadow(Pe)).style("fill","rgb(0, 0, 0)").attr("x",function(Ge){return s(Ge)?Ge.width+5:-5}).attr("y",function(Ge){return Ge.height/2}).text(function(Ge){return Ge.model.categoryLabel}).each(function(Ge){p.font(g.select(this),Ge.parcatsViewModel.categorylabelfont),r.convertToTspans(g.select(this),te)}),we.append("text").attr("class","dimlabel"),be.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ge){return Ge.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Ge){return Ge.width/2}).attr("y",-5).text(function(Ge,nt){return nt===0?Ge.parcatsViewModel.model.dimensions[Ge.model.dimensionInd].dimensionLabel:null}).each(function(Ge){p.font(g.select(this),Ge.parcatsViewModel.labelfont)}),be.selectAll("rect.bandrect").on("mouseover",z).on("mouseout",N),be.exit().remove(),Ce.call(g.behavior.drag().origin(function(Ge){return{x:Ge.x,y:0}}).on("dragstart",B).on("drag",F).on("dragend",H)),he.each(function(Ge){Ge.traceSelection=g.select(this),Ge.pathSelection=g.select(this).selectAll("g.paths").selectAll("path.path"),Ge.dimensionSelection=g.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),he.exit().remove()}G.exports=function(K,te,se,Q){l(se,K,Q,te)};function n(K){return K.key}function s(K){var te=K.parcatsViewModel.dimensions.length,se=K.parcatsViewModel.dimensions[te-1].model.dimensionInd;return K.model.dimensionInd===se}function c(K,te){return K.model.rawColor>te.model.rawColor?1:K.model.rawColor<te.model.rawColor?-1:0}function u(K){if(!K.parcatsViewModel.dragDimension&&K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){T.raiseToTop(this),d(g.select(this));var te=h(K),se=b(K);if(K.parcatsViewModel.graphDiv.emit("plotly_hover",{points:te,event:g.event,constraints:se}),K.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var Q=g.mouse(this)[0],ee=K.parcatsViewModel.graphDiv,le=K.parcatsViewModel.trace,ie=ee._fullLayout,he=ie._paperdiv.node().getBoundingClientRect(),xe=K.parcatsViewModel.graphDiv.getBoundingClientRect(),Se,Ee,Ne;for(Ne=0;Ne<K.leftXs.length-1;Ne++)if(K.leftXs[Ne]+K.dimWidths[Ne]-2<=Q&&Q<=K.leftXs[Ne+1]+2){var He=K.parcatsViewModel.dimensions[Ne],Ce=K.parcatsViewModel.dimensions[Ne+1];Se=(He.x+He.width+Ce.x)/2,Ee=(K.topYs[Ne]+K.topYs[Ne+1]+K.height)/2;break}var be=K.parcatsViewModel.x+Se,we=K.parcatsViewModel.y+Ee,ke=t.mostReadable(K.model.color,["black","white"]),Fe=K.model.count,Pe=Fe/K.parcatsViewModel.model.count,Ge={countLabel:Fe,probabilityLabel:Pe.toFixed(3)},nt=[];K.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&nt.push(["Count:",Ge.countLabel].join(" ")),K.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&nt.push(["P:",Ge.probabilityLabel].join(" "));var qe=nt.join("<br>"),Ke=g.mouse(ee)[0];L.loneHover({trace:le,x:be-he.left+xe.left,y:we-he.top+xe.top,text:qe,color:K.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:ke,idealAlign:Ke<be?"right":"left",hovertemplate:(le.line||{}).hovertemplate,hovertemplateLabels:Ge,eventData:[{data:le._input,fullData:le,count:Fe,probability:Pe}]},{container:ie._hoverlayer.node(),outerContainer:ie._paper.node(),gd:ee})}}}function y(K){if(!K.parcatsViewModel.dragDimension&&(o(g.select(this)),L.loneUnhover(K.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),K.parcatsViewModel.pathSelection.sort(c),K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var te=h(K),se=b(K);K.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:te,event:g.event,constraints:se})}}function h(K){for(var te=[],se=X(K.parcatsViewModel),Q=0;Q<K.model.valueInds.length;Q++){var ee=K.model.valueInds[Q];te.push({curveNumber:se,pointNumber:ee})}return te}function b(K){for(var te={},se=K.parcatsViewModel.model.dimensions,Q=0;Q<se.length;Q++){var ee=se[Q],le=ee.categories[K.model.categoryInds[Q]];te[ee.containerInd]=le.categoryValue}return K.model.rawColor!==void 0&&(te.color=K.model.rawColor),te}function f(K){if(K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var te=h(K),se=b(K);K.parcatsViewModel.graphDiv.emit("plotly_click",{points:te,event:g.event,constraints:se})}}function o(K){K.attr("fill",function(te){return te.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(K){K.attr("fill-opacity",.8).attr("stroke",function(te){return t.mostReadable(te.model.color,["black","white"])}).attr("stroke-width",.3)}function A(K){K.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function M(K){K.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function C(K){K.attr("stroke","black").attr("stroke-width",1.5)}function m(K){K.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function S(K){var te=K.parcatsViewModel.pathSelection,se=K.categoryViewModel.model.dimensionInd,Q=K.categoryViewModel.model.categoryInd;return te.filter(function(ee){return ee.model.categoryInds[se]===Q&&ee.model.color===K.color})}function x(K){var te=g.select(K.parentNode).selectAll("rect.bandrect");te.each(function(se){var Q=S(se);d(Q),Q.each(function(){T.raiseToTop(this)})}),A(g.select(K.parentNode))}function a(K){var te=g.select(K).datum(),se=S(te);d(se),se.each(function(){T.raiseToTop(this)}),g.select(K.parentNode).selectAll("rect.bandrect").filter(function(Q){return Q.color===te.color}).each(function(){T.raiseToTop(this),C(g.select(this))})}function E(K,te,se){var Q=g.select(K).datum(),ee=Q.categoryViewModel.model,le=Q.parcatsViewModel.graphDiv,ie=g.select(K.parentNode).selectAll("rect.bandrect"),he=[];ie.each(function(Se){var Ee=S(Se);Ee.each(function(Ne){Array.prototype.push.apply(he,h(Ne))})});var xe={};xe[ee.dimensionInd]=ee.categoryValue,le.emit(te,{points:he,event:se,constraints:xe})}function w(K,te,se){var Q=g.select(K).datum(),ee=Q.categoryViewModel.model,le=Q.parcatsViewModel.graphDiv,ie=S(Q),he=[];ie.each(function(Se){Array.prototype.push.apply(he,h(Se))});var xe={};xe[ee.dimensionInd]=ee.categoryValue,Q.rawColor!==void 0&&(xe.color=Q.rawColor),le.emit(te,{points:he,event:se,constraints:xe})}function k(K,te,se){K._fullLayout._calcInverseTransform(K);var Q=K._fullLayout._invScaleX,ee=K._fullLayout._invScaleY,le=g.select(se.parentNode).select("rect.catrect"),ie=le.node().getBoundingClientRect(),he=le.datum(),xe=he.parcatsViewModel,Se=xe.model.dimensions[he.model.dimensionInd],Ee=xe.trace,Ne=ie.top+ie.height/2,He,Ce;xe.dimensions.length>1&&Se.displayInd===xe.dimensions.length-1?(He=ie.left,Ce="left"):(He=ie.left+ie.width,Ce="right");var be=he.model.count,we=he.model.categoryLabel,ke=be/he.parcatsViewModel.model.count,Fe={countLabel:be,categoryLabel:we,probabilityLabel:ke.toFixed(3)},Pe=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Pe.push(["Count:",Fe.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Pe.push(["P("+Fe.categoryLabel+"):",Fe.probabilityLabel].join(" "));var Ge=Pe.join("<br>");return{trace:Ee,x:Q*(He-te.left),y:ee*(Ne-te.top),text:Ge,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ce,hovertemplate:Ee.hovertemplate,hovertemplateLabels:Fe,eventData:[{data:Ee._input,fullData:Ee,count:be,category:we,probability:ke}]}}function I(K,te,se){var Q=[];return g.select(se.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var ee=this;Q.push(k(K,te,ee))}),Q}function U(K,te,se){K._fullLayout._calcInverseTransform(K);var Q=K._fullLayout._invScaleX,ee=K._fullLayout._invScaleY,le=se.getBoundingClientRect(),ie=g.select(se).datum(),he=ie.categoryViewModel,xe=he.parcatsViewModel,Se=xe.model.dimensions[he.model.dimensionInd],Ee=xe.trace,Ne=le.y+le.height/2,He,Ce;xe.dimensions.length>1&&Se.displayInd===xe.dimensions.length-1?(He=le.left,Ce="left"):(He=le.left+le.width,Ce="right");var be=he.model.categoryLabel,we=ie.parcatsViewModel.model.count,ke=0;ie.categoryViewModel.bands.forEach(function(mt){mt.color===ie.color&&(ke+=mt.count)});var Fe=he.model.count,Pe=0;xe.pathSelection.each(function(mt){mt.model.color===ie.color&&(Pe+=mt.model.count)});var Ge=ke/we,nt=ke/Pe,qe=ke/Fe,Ke={countLabel:we,categoryLabel:be,probabilityLabel:Ge.toFixed(3)},$e=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&$e.push(["Count:",Ke.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&($e.push("P(color  "+be+"): "+Ke.probabilityLabel),$e.push("P("+be+" | color): "+nt.toFixed(3)),$e.push("P(color | "+be+"): "+qe.toFixed(3)));var vt=$e.join("<br>"),yt=t.mostReadable(ie.color,["black","white"]);return{trace:Ee,x:Q*(He-te.left),y:ee*(Ne-te.top),text:vt,color:ie.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:yt,fontSize:10,idealAlign:Ce,hovertemplate:Ee.hovertemplate,hovertemplateLabels:Ke,eventData:[{data:Ee._input,fullData:Ee,category:be,count:we,probability:Ge,categorycount:Fe,colorcount:Pe,bandcolorcount:ke}]}}function z(K){if(!K.parcatsViewModel.dragDimension&&K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var te=g.mouse(this)[1];if(te<-1)return;var se=K.parcatsViewModel.graphDiv,Q=se._fullLayout,ee=Q._paperdiv.node().getBoundingClientRect(),le=K.parcatsViewModel.hoveron,ie=this;if(le==="color"?(a(ie),w(ie,"plotly_hover",g.event)):(x(ie),E(ie,"plotly_hover",g.event)),K.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var he;le==="category"?he=k(se,ee,ie):le==="color"?he=U(se,ee,ie):le==="dimension"&&(he=I(se,ee,ie)),he&&L.loneHover(he,{container:Q._hoverlayer.node(),outerContainer:Q._paper.node(),gd:se})}}}function N(K){var te=K.parcatsViewModel;if(!te.dragDimension&&(o(te.pathSelection),M(te.dimensionSelection.selectAll("g.category")),m(te.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),L.loneUnhover(te.graphDiv._fullLayout._hoverlayer.node()),te.pathSelection.sort(c),te.hoverinfoItems.indexOf("skip")===-1)){var se=K.parcatsViewModel.hoveron,Q=this;se==="color"?w(Q,"plotly_unhover",g.event):E(Q,"plotly_unhover",g.event)}}function B(K){K.parcatsViewModel.arrangement!=="fixed"&&(K.dragDimensionDisplayInd=K.model.displayInd,K.initialDragDimensionDisplayInds=K.parcatsViewModel.model.dimensions.map(function(te){return te.displayInd}),K.dragHasMoved=!1,K.dragCategoryDisplayInd=null,g.select(this).selectAll("g.category").select("rect.catrect").each(function(te){var se=g.mouse(this)[0],Q=g.mouse(this)[1];-2<=se&&se<=te.width+2&&-2<=Q&&Q<=te.height+2&&(K.dragCategoryDisplayInd=te.model.displayInd,K.initialDragCategoryDisplayInds=K.model.categories.map(function(ee){return ee.displayInd}),te.model.dragY=te.y,T.raiseToTop(this.parentNode),g.select(this.parentNode).selectAll("rect.bandrect").each(function(ee){ee.y<Q&&Q<=ee.y+ee.height&&(K.potentialClickBand=this)}))}),K.parcatsViewModel.dragDimension=K,L.loneUnhover(K.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function F(K){if(K.parcatsViewModel.arrangement!=="fixed"&&(K.dragHasMoved=!0,K.dragDimensionDisplayInd!==null)){var te=K.dragDimensionDisplayInd,se=te-1,Q=te+1,ee=K.parcatsViewModel.dimensions[te];if(K.dragCategoryDisplayInd!==null){var le=ee.categories[K.dragCategoryDisplayInd];le.model.dragY+=g.event.dy;var ie=le.model.dragY,he=le.model.displayInd,xe=ee.categories,Se=xe[he-1],Ee=xe[he+1];Se!==void 0&&ie<Se.y+Se.height/2&&(le.model.displayInd=Se.model.displayInd,Se.model.displayInd=he),Ee!==void 0&&ie+le.height>Ee.y+Ee.height/2&&(le.model.displayInd=Ee.model.displayInd,Ee.model.displayInd=he),K.dragCategoryDisplayInd=le.model.displayInd}if(K.dragCategoryDisplayInd===null||K.parcatsViewModel.arrangement==="freeform"){ee.model.dragX=g.event.x;var Ne=K.parcatsViewModel.dimensions[se],He=K.parcatsViewModel.dimensions[Q];Ne!==void 0&&ee.model.dragX<Ne.x+Ne.width&&(ee.model.displayInd=Ne.model.displayInd,Ne.model.displayInd=te),He!==void 0&&ee.model.dragX+ee.width>He.x&&(ee.model.displayInd=He.model.displayInd,He.model.displayInd=K.dragDimensionDisplayInd),K.dragDimensionDisplayInd=ee.model.displayInd}Y(K.parcatsViewModel),J(K.parcatsViewModel),ne(K.parcatsViewModel),q(K.parcatsViewModel)}}function H(K){if(K.parcatsViewModel.arrangement!=="fixed"&&K.dragDimensionDisplayInd!==null){g.select(this).selectAll("text").attr("font-weight","normal");var te={},se=X(K.parcatsViewModel),Q=K.parcatsViewModel.model.dimensions.map(function(He){return He.displayInd}),ee=K.initialDragDimensionDisplayInds.some(function(He,Ce){return He!==Q[Ce]});ee&&Q.forEach(function(He,Ce){var be=K.parcatsViewModel.model.dimensions[Ce].containerInd;te["dimensions["+be+"].displayindex"]=He});var le=!1;if(K.dragCategoryDisplayInd!==null){var ie=K.model.categories.map(function(He){return He.displayInd});if(le=K.initialDragCategoryDisplayInds.some(function(He,Ce){return He!==ie[Ce]}),le){var he=K.model.categories.slice().sort(function(He,Ce){return He.displayInd-Ce.displayInd}),xe=he.map(function(He){return He.categoryValue}),Se=he.map(function(He){return He.categoryLabel});te["dimensions["+K.model.containerInd+"].categoryarray"]=[xe],te["dimensions["+K.model.containerInd+"].ticktext"]=[Se],te["dimensions["+K.model.containerInd+"].categoryorder"]="array"}}if(K.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!K.dragHasMoved&&K.potentialClickBand&&(K.parcatsViewModel.hoveron==="color"?w(K.potentialClickBand,"plotly_click",g.event.sourceEvent):E(K.potentialClickBand,"plotly_click",g.event.sourceEvent)),K.model.dragX=null,K.dragCategoryDisplayInd!==null){var Ee=K.parcatsViewModel.dimensions[K.dragDimensionDisplayInd].categories[K.dragCategoryDisplayInd];Ee.model.dragY=null,K.dragCategoryDisplayInd=null}K.dragDimensionDisplayInd=null,K.parcatsViewModel.dragDimension=null,K.dragHasMoved=null,K.potentialClickBand=null,Y(K.parcatsViewModel),J(K.parcatsViewModel);var Ne=g.transition().duration(300).ease("cubic-in-out");Ne.each(function(){ne(K.parcatsViewModel,!0),q(K.parcatsViewModel,!0)}).each("end",function(){(ee||le)&&i.restyle(K.parcatsViewModel.graphDiv,te,[se])})}}function X(K){for(var te,se=K.graphDiv._fullData,Q=0;Q<se.length;Q++)if(K.key===se[Q].uid){te=Q;break}return te}function q(K,te){te===void 0&&(te=!1);function se(Q){return te?Q.transition():Q}K.pathSelection.data(function(Q){return Q.paths},n),se(K.pathSelection).attr("d",function(Q){return Q.svgD})}function ne(K,te){te===void 0&&(te=!1);function se(xe){return te?xe.transition():xe}K.dimensionSelection.data(function(xe){return xe.dimensions},n);var Q=K.dimensionSelection.selectAll("g.category").data(function(xe){return xe.categories},n);se(K.dimensionSelection).attr("transform",function(xe){return v(xe.x,0)}),se(Q).attr("transform",function(xe){return v(0,xe.y)});var ee=Q.select(".dimlabel");ee.text(function(xe,Se){return Se===0?xe.parcatsViewModel.model.dimensions[xe.model.dimensionInd].dimensionLabel:null});var le=Q.select(".catlabel");le.attr("text-anchor",function(xe){return s(xe)?"start":"end"}).attr("x",function(xe){return s(xe)?xe.width+5:-5}).each(function(xe){var Se,Ee;s(xe)?(Se=xe.width+5,Ee="start"):(Se=-5,Ee="end"),g.select(this).selectAll("tspan").attr("x",Se).attr("text-anchor",Ee)});var ie=Q.selectAll("rect.bandrect").data(function(xe){return xe.bands},n),he=ie.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(xe){return xe.color}).attr("fill-opacity",0);ie.attr("fill",function(xe){return xe.color}).attr("width",function(xe){return xe.width}).attr("height",function(xe){return xe.height}).attr("y",function(xe){return xe.y}),m(he),ie.each(function(){T.raiseToTop(this)}),ie.exit().remove()}function oe(K,te,se){var Q=se[0],ee=te.margin||{l:80,r:80,t:100,b:80},le=Q.trace,ie=le.domain,he=te.width,xe=te.height,Se=Math.floor(he*(ie.x[1]-ie.x[0])),Ee=Math.floor(xe*(ie.y[1]-ie.y[0])),Ne=ie.x[0]*he+ee.l,He=te.height-ie.y[1]*te.height+ee.t,Ce=le.line.shape,be;le.hoverinfo==="all"?be=["count","probability"]:be=(le.hoverinfo||"").split("+");var we={trace:le,key:le.uid,model:Q,x:Ne,y:He,width:Se,height:Ee,hoveron:le.hoveron,hoverinfoItems:be,arrangement:le.arrangement,bundlecolors:le.bundlecolors,sortpaths:le.sortpaths,labelfont:le.labelfont,categorylabelfont:le.tickfont,pathShape:Ce,dragDimension:null,margin:ee,paths:[],dimensions:[],graphDiv:K,traceSelection:null,pathSelection:null,dimensionSelection:null};return Q.dimensions&&(Y(we),J(we)),we}function ve(K,te,se,Q,ee){var le=[],ie=[],he,xe;for(xe=0;xe<se.length-1;xe++)he=R(se[xe]+K[xe],K[xe+1]),le.push(he(ee)),ie.push(he(1-ee));var Se="M "+K[0]+","+te[0];for(Se+="l"+se[0]+",0 ",xe=1;xe<se.length;xe++)Se+="C"+le[xe-1]+","+te[xe-1]+" "+ie[xe-1]+","+te[xe]+" "+K[xe]+","+te[xe],Se+="l"+se[xe]+",0 ";for(Se+="l0,"+Q+" ",Se+="l -"+se[se.length-1]+",0 ",xe=se.length-2;xe>=0;xe--)Se+="C"+ie[xe]+","+(te[xe+1]+Q)+" "+le[xe]+","+(te[xe]+Q)+" "+(K[xe]+se[xe])+","+(te[xe]+Q),Se+="l-"+se[xe]+",0 ";return Se+="Z",Se}function J(K){var te=K.dimensions,se=K.model,Q=te.map(function(Ue){return Ue.categories.map(function(Be){return Be.y})}),ee=K.model.dimensions.map(function(Ue){return Ue.categories.map(function(Be){return Be.displayInd})}),le=K.model.dimensions.map(function(Ue){return Ue.displayInd}),ie=K.dimensions.map(function(Ue){return Ue.model.dimensionInd}),he=te.map(function(Ue){return Ue.x}),xe=te.map(function(Ue){return Ue.width}),Se=[];for(var Ee in se.paths)se.paths.hasOwnProperty(Ee)&&Se.push(se.paths[Ee]);function Ne(Ue){var Be=Ue.categoryInds.map(function(it,Ye){return ee[Ye][it]}),rt=ie.map(function(it){return Be[it]});return rt}Se.sort(function(Ue,Be){var rt=Ne(Ue),it=Ne(Be);return K.sortpaths==="backward"&&(rt.reverse(),it.reverse()),rt.push(Ue.valueInds[0]),it.push(Be.valueInds[0]),K.bundlecolors&&(rt.unshift(Ue.rawColor),it.unshift(Be.rawColor)),rt<it?-1:rt>it?1:0});for(var He=new Array(Se.length),Ce=te[0].model.count,be=te[0].categories.map(function(Ue){return Ue.height}).reduce(function(Ue,Be){return Ue+Be}),we=0;we<Se.length;we++){var ke=Se[we],Fe;Ce>0?Fe=be*(ke.count/Ce):Fe=0;for(var Pe=new Array(Q.length),Ge=0;Ge<ke.categoryInds.length;Ge++){var nt=ke.categoryInds[Ge],qe=ee[Ge][nt],Ke=le[Ge];Pe[Ke]=Q[Ke][qe],Q[Ke][qe]+=Fe;var $e=K.dimensions[Ke].categories[qe],vt=$e.bands.length,yt=$e.bands[vt-1];if(yt===void 0||ke.rawColor!==yt.rawColor){var mt=yt===void 0?0:yt.y+yt.height;$e.bands.push({key:mt,color:ke.color,rawColor:ke.rawColor,height:Fe,width:$e.width,count:ke.count,y:mt,categoryViewModel:$e,parcatsViewModel:K})}else{var Et=$e.bands[vt-1];Et.height+=Fe,Et.count+=ke.count}}var Xe;K.pathShape==="hspline"?Xe=ve(he,Pe,xe,Fe,.5):Xe=ve(he,Pe,xe,Fe,0),He[we]={key:ke.valueInds[0],model:ke,height:Fe,leftXs:he,topYs:Pe,dimWidths:xe,svgD:Xe,parcatsViewModel:K}}K.paths=He}function Y(K){var te=K.model.dimensions.map(function(ie){return{displayInd:ie.displayInd,dimensionInd:ie.dimensionInd}});te.sort(function(ie,he){return ie.displayInd-he.displayInd});var se=[];for(var Q in te){var ee=te[Q].dimensionInd,le=K.model.dimensions[ee];se.push(j(K,le))}K.dimensions=se}function j(K,te){var se=40,Q=16,ee=K.model.dimensions.length,le=te.displayInd,ie,he,xe;ee>1?ie=(K.width-2*se-Q)/(ee-1):ie=0,he=se,xe=he+ie*le;var Se=[],Ee=K.model.maxCats,Ne=te.categories.length,He=8,Ce=te.count,be=K.height-He*(Ee-1),we,ke,Fe,Pe,Ge,nt=(Ee-Ne)*He/2,qe=te.categories.map(function(Ke){return{displayInd:Ke.displayInd,categoryInd:Ke.categoryInd}});for(qe.sort(function(Ke,$e){return Ke.displayInd-$e.displayInd}),Ge=0;Ge<Ne;Ge++)Pe=qe[Ge].categoryInd,ke=te.categories[Pe],Ce>0?we=ke.count/Ce*be:we=0,Fe={key:ke.valueInds[0],model:ke,width:Q,height:we,y:ke.dragY!==null?ke.dragY:nt,bands:[],parcatsViewModel:K},nt=nt+we+He,Se.push(Fe);return{key:te.dimensionInd,x:te.dragX!==null?te.dragX:xe,y:0,width:Q,model:te,categories:Se,parcatsViewModel:K,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},45784:function(G,V,e){var g=e(45460);G.exports=function(i,L,T,v){var p=i._fullLayout,t=p._paper,r=p._size;g(i,t,L,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},T,v)}},73362:function(G,V,e){var g=e(50693),R=e(13838),i=e(41940),L=e(27670).Y,T=e(1426).extendFlat,v=e(44467).templatedArray;G.exports={domain:L({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:i({editType:"plot"}),tickfont:i({editType:"plot"}),rangefont:i({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:T({},R.tickvals,{editType:"plot"}),ticktext:T({},R.ticktext,{editType:"plot"}),tickformat:T({},R.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:T({editType:"calc"},g("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(G,V,e){var g=e(25706),R=e(39898),i=e(28984).keyFun,L=e(28984).repeat,T=e(71828).sorterAsc,v=e(71828).strTranslate,p=g.bar.snapRatio;function t(H,X){return H*(1-p)+X*p}var r=g.bar.snapClose;function l(H,X){return H*(1-r)+X*r}function n(H,X,q,ne){if(s(q,ne))return q;var oe=H?-1:1,ve=0,J=X.length-1;if(oe<0){var Y=ve;ve=J,J=Y}for(var j=X[ve],K=j,te=ve;oe*te<oe*J;te+=oe){var se=te+oe,Q=X[se];if(oe*q<oe*l(j,Q))return t(j,K);if(oe*q<oe*Q||se===J)return t(Q,j);K=j,j=Q}}function s(H,X){for(var q=0;q<X.length;q++)if(H>=X[q][0]&&H<=X[q][1])return!0;return!1}function c(H){H.attr("x",-g.bar.captureWidth/2).attr("width",g.bar.captureWidth)}function u(H){H.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function y(H){if(!H.brush.filterSpecified)return"0,"+H.height;for(var X=h(H.brush.filter.getConsolidated(),H.height),q=[0],ne,oe,ve,J=X.length?X[0][0]:null,Y=0;Y<X.length;Y++)ne=X[Y],oe=ne[1]-ne[0],q.push(J),q.push(oe),ve=Y+1,ve<X.length&&(J=X[ve][0]-ne[1]);return q.push(H.height),q}function h(H,X){return H.map(function(q){return q.map(function(ne){return Math.max(0,ne*X)}).sort(T)})}function b(H,X){var q=g.bar.handleHeight;if(!(X>H[1]+q||X<H[0]-q))return X>=.9*H[1]+.1*H[0]?"n":X<=.9*H[0]+.1*H[1]?"s":"ns"}function f(){R.select(document.body).style("cursor",null)}function o(H){H.attr("stroke-dasharray",y)}function d(H,X){var q=R.select(H).selectAll(".highlight, .highlight-shadow"),ne=X?q.transition().duration(g.bar.snapDuration).each("end",X):q;o(ne)}function A(H,X){var q=H.brush,ne=q.filterSpecified,oe=NaN,ve={},J;if(ne){var Y=H.height,j=q.filter.getConsolidated(),K=h(j,Y),te=NaN,se=NaN,Q=NaN;for(J=0;J<=K.length;J++){var ee=K[J];if(ee&&ee[0]<=X&&X<=ee[1]){te=J;break}else if(se=J?J-1:NaN,ee&&ee[0]>X){Q=J;break}}if(oe=te,isNaN(oe)&&(isNaN(se)||isNaN(Q)?oe=isNaN(se)?Q:se:oe=X-K[se][1]<K[Q][0]-X?se:Q),!isNaN(oe)){var le=K[oe],ie=b(le,X);ie&&(ve.interval=j[oe],ve.intervalPix=le,ve.region=ie)}}if(H.ordinal&&!ve.region){var he=H.unitTickvals,xe=H.unitToPaddedPx.invert(X);for(J=0;J<he.length;J++){var Se=[he[Math.max(J-1,0)]*.25+he[J]*.75,he[Math.min(J+1,he.length-1)]*.25+he[J]*.75];if(xe>=Se[0]&&xe<=Se[1]){ve.clickableOrdinalRange=Se;break}}}return ve}function M(H,X){R.event.sourceEvent.stopPropagation();var q=X.height-R.mouse(H)[1]-2*g.verticalPadding,ne=X.unitToPaddedPx.invert(q),oe=X.brush,ve=A(X,q),J=ve.interval,Y=oe.svgBrush;if(Y.wasDragged=!1,Y.grabbingBar=ve.region==="ns",Y.grabbingBar){var j=J.map(X.unitToPaddedPx);Y.grabPoint=q-j[0]-g.verticalPadding,Y.barLength=j[1]-j[0]}Y.clickableOrdinalRange=ve.clickableOrdinalRange,Y.stayingIntervals=X.multiselect&&oe.filterSpecified?oe.filter.getConsolidated():[],J&&(Y.stayingIntervals=Y.stayingIntervals.filter(function(K){return K[0]!==J[0]&&K[1]!==J[1]})),Y.startExtent=ve.region?J[ve.region==="s"?1:0]:ne,X.parent.inBrushDrag=!0,Y.brushStartCallback()}function C(H,X){R.event.sourceEvent.stopPropagation();var q=X.height-R.mouse(H)[1]-2*g.verticalPadding,ne=X.brush.svgBrush;ne.wasDragged=!0,ne._dragging=!0,ne.grabbingBar?ne.newExtent=[q-ne.grabPoint,q+ne.barLength-ne.grabPoint].map(X.unitToPaddedPx.invert):ne.newExtent=[ne.startExtent,X.unitToPaddedPx.invert(q)].sort(T),X.brush.filterSpecified=!0,ne.extent=ne.stayingIntervals.concat([ne.newExtent]),ne.brushCallback(X),d(H.parentNode)}function m(H,X){var q=X.brush,ne=q.filter,oe=q.svgBrush;oe._dragging||(S(H,X),C(H,X),X.brush.svgBrush.wasDragged=!1),oe._dragging=!1;var ve=R.event;ve.sourceEvent.stopPropagation();var J=oe.grabbingBar;if(oe.grabbingBar=!1,oe.grabLocation=void 0,X.parent.inBrushDrag=!1,f(),!oe.wasDragged){oe.wasDragged=void 0,oe.clickableOrdinalRange?q.filterSpecified&&X.multiselect?oe.extent.push(oe.clickableOrdinalRange):(oe.extent=[oe.clickableOrdinalRange],q.filterSpecified=!0):J?(oe.extent=oe.stayingIntervals,oe.extent.length===0&&I(q)):I(q),oe.brushCallback(X),d(H.parentNode),oe.brushEndCallback(q.filterSpecified?ne.getConsolidated():[]);return}var Y=function(){ne.set(ne.getConsolidated())};if(X.ordinal){var j=X.unitTickvals;j[j.length-1]<j[0]&&j.reverse(),oe.newExtent=[n(0,j,oe.newExtent[0],oe.stayingIntervals),n(1,j,oe.newExtent[1],oe.stayingIntervals)];var K=oe.newExtent[1]>oe.newExtent[0];oe.extent=oe.stayingIntervals.concat(K?[oe.newExtent]:[]),oe.extent.length||I(q),oe.brushCallback(X),K?d(H.parentNode,Y):(Y(),d(H.parentNode))}else Y();oe.brushEndCallback(q.filterSpecified?ne.getConsolidated():[])}function S(H,X){var q=X.height-R.mouse(H)[1]-2*g.verticalPadding,ne=A(X,q),oe="crosshair";ne.clickableOrdinalRange?oe="pointer":ne.region&&(oe=ne.region+"-resize"),R.select(document.body).style("cursor",oe)}function x(H){H.on("mousemove",function(X){R.event.preventDefault(),X.parent.inBrushDrag||S(this,X)}).on("mouseleave",function(X){X.parent.inBrushDrag||f()}).call(R.behavior.drag().on("dragstart",function(X){M(this,X)}).on("drag",function(X){C(this,X)}).on("dragend",function(X){m(this,X)}))}function a(H,X){return H[0]-X[0]}function E(H,X,q){var ne=q._context.staticPlot,oe=H.selectAll(".background").data(L);oe.enter().append("rect").classed("background",!0).call(c).call(u).style("pointer-events",ne?"none":"auto").attr("transform",v(0,g.verticalPadding)),oe.call(x).attr("height",function(Y){return Y.height-g.verticalPadding});var ve=H.selectAll(".highlight-shadow").data(L);ve.enter().append("line").classed("highlight-shadow",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width+g.bar.strokeWidth).attr("stroke",X).attr("opacity",g.bar.strokeOpacity).attr("stroke-linecap","butt"),ve.attr("y1",function(Y){return Y.height}).call(o);var J=H.selectAll(".highlight").data(L);J.enter().append("line").classed("highlight",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width-g.bar.strokeWidth).attr("stroke",g.bar.fillColor).attr("opacity",g.bar.fillOpacity).attr("stroke-linecap","butt"),J.attr("y1",function(Y){return Y.height}).call(o)}function w(H,X,q){var ne=H.selectAll("."+g.cn.axisBrush).data(L,i);ne.enter().append("g").classed(g.cn.axisBrush,!0),E(ne,X,q)}function k(H){return H.svgBrush.extent.map(function(X){return X.slice()})}function I(H){H.filterSpecified=!1,H.svgBrush.extent=[[-1/0,1/0]]}function U(H){return function(q){var ne=q.brush,oe=k(ne),ve=oe.slice();ne.filter.set(ve),H()}}function z(H){for(var X=H.slice(),q=[],ne,oe=X.shift();oe;){for(ne=oe.slice();(oe=X.shift())&&oe[0]<=ne[1];)ne[1]=Math.max(ne[1],oe[1]);q.push(ne)}return q.length===1&&q[0][0]>q[0][1]&&(q=[]),q}function N(){var H=[],X,q;return{set:function(ne){H=ne.map(function(oe){return oe.slice().sort(T)}).sort(a),H.length===1&&H[0][0]===-1/0&&H[0][1]===1/0&&(H=[[0,-1]]),X=z(H),q=H.reduce(function(oe,ve){return[Math.min(oe[0],ve[0]),Math.max(oe[1],ve[1])]},[1/0,-1/0])},get:function(){return H.slice()},getConsolidated:function(){return X},getBounds:function(){return q}}}function B(H,X,q,ne,oe,ve){var J=N();return J.set(q),{filter:J,filterSpecified:X,svgBrush:{extent:[],brushStartCallback:ne,brushCallback:U(oe),brushEndCallback:ve}}}function F(H,X){if(Array.isArray(H[0])?(H=H.map(function(ne){return ne.sort(T)}),X.multiselect?H=z(H.sort(a)):H=[H[0]]):H=[H.sort(T)],X.tickvals){var q=X.tickvals.slice().sort(T);if(H=H.map(function(ne){var oe=[n(0,q,ne[0],[]),n(1,q,ne[1],[])];if(oe[1]>oe[0])return oe}).filter(function(ne){return ne}),!H.length)return}return H.length>1?H:H[0]}G.exports={makeBrush:B,ensureAxisBrush:w,cleanRanges:F}},71791:function(G,V,e){G.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(G,V,e){var g=e(39898),R=e(27659).a0,i=e(21341),L=e(77922);V.name="parcoords",V.plot=function(T){var v=R(T.calcdata,"parcoords")[0];v.length&&i(T,v)},V.clean=function(T,v,p,t){var r=t._has&&t._has("parcoords"),l=v._has&&v._has("parcoords");r&&!l&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},V.toSVG=function(T){var v=T._fullLayout._glimages,p=g.select(T).selectAll(".svg-container"),t=p.filter(function(l,n){return n===p.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function r(){var l=this,n=l.toDataURL("image/png"),s=v.append("svg:image");s.attr({xmlns:L.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:l.style.width,height:l.style.height})}t.each(r),window.setTimeout(function(){g.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(G,V,e){var g=e(71828).isArrayOrTypedArray,R=e(21081),i=e(28984).wrap;G.exports=function(v,p){var t,r;return R.hasColorscale(p,"line")&&g(p.line.color)?(t=p.line.color,r=R.extractOpts(p.line).colorscale,R.calc(v,p,{vals:t,containerStr:"line",cLetter:"c"})):(t=L(p._length),r=[[0,p.line.color],[1,p.line.color]]),i({lineColor:t,cscale:r})};function L(T){for(var v=new Array(T),p=0;p<T;p++)v[p]=.5;return v}},25706:function(G){G.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(G,V,e){var g=e(71828),R=e(52075).hasColorscale,i=e(1586),L=e(27670).c,T=e(85501),v=e(89298),p=e(73362),t=e(57920),r=e(25706).maxDimensionCount,l=e(94397);function n(c,u,y,h,b){var f=b("line.color",y);if(R(c,"line")&&g.isArrayOrTypedArray(f)){if(f.length)return b("line.colorscale"),i(c,u,h,b,{prefix:"line.",cLetter:"c"}),f.length;u.line.color=y}return 1/0}function s(c,u,y,h){function b(M,C){return g.coerce(c,u,p.dimensions,M,C)}var f=b("values"),o=b("visible");if(f&&f.length||(o=u.visible=!1),o){b("label"),b("tickvals"),b("ticktext"),b("tickformat");var d=b("range");u._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},v.setConvert(u._ax,h.layout),b("multiselect");var A=b("constraintrange");A&&(u.constraintrange=t.cleanRanges(A,u))}}G.exports=function(u,y,h,b){function f(C,m){return g.coerce(u,y,p,C,m)}var o=u.dimensions;Array.isArray(o)&&o.length>r&&(g.log("parcoords traces support up to "+r+" dimensions at the moment"),o.splice(r));var d=T(u,y,{name:"dimensions",layout:b,handleItemDefaults:s}),A=n(u,y,h,b,f);L(y,b,f),(!Array.isArray(d)||!d.length)&&(y.visible=!1),l(y,d,"values",A);var M={family:b.font.family,size:Math.round(b.font.size/1.2),color:b.font.color};g.coerceFont(f,"labelfont",M),g.coerceFont(f,"tickfont",M),g.coerceFont(f,"rangefont",M),f("labelangle"),f("labelside"),f("unselected.line.color"),f("unselected.line.opacity")}},1602:function(G,V,e){var g=e(71828).isTypedArray;V.convertTypedArray=function(R){return g(R)?Array.prototype.slice.call(R):R},V.isOrdinal=function(R){return!!R.tickvals},V.isVisible=function(R){return R.visible||!("visible"in R)}},67618:function(G,V,e){var g=e(71791);g.plot=e(21341),G.exports=g},83398:function(G,V,e){var g=e(56068),R=g([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),i=g([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),L=e(25706).maxDimensionCount,T=e(71828),v=1e-6,p=2048,t=new Uint8Array(4),r=new Uint8Array(4),l={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function n(S){S.read({x:0,y:0,width:1,height:1,data:t})}function s(S,x,a,E,w){var k=S._gl;k.enable(k.SCISSOR_TEST),k.scissor(x,a,E,w),S.clear({color:[0,0,0,0],depth:1})}function c(S,x,a,E,w,k){var I=k.key;function U(z){var N=Math.min(E,w-z*E);z===0&&(window.cancelAnimationFrame(a.currentRafs[I]),delete a.currentRafs[I],s(S,k.scissorX,k.scissorY,k.scissorWidth,k.viewBoxSize[1])),!a.clearOnly&&(k.count=2*N,k.offset=2*z*E,x(k),z*E+N<w&&(a.currentRafs[I]=window.requestAnimationFrame(function(){U(z+1)})),a.drawCompleted=!1)}a.drawCompleted||(n(S),a.drawCompleted=!0),U(0)}function u(S){return Math.max(v,Math.min(1-v,S))}function y(S,x){for(var a=new Array(256),E=0;E<256;E++)a[E]=S(E/255).concat(x);return a}function h(S,x){return(S>>>8*x)%256/255}function b(S,x,a){for(var E=new Array(S*(L+4)),w=0,k=0;k<S;k++){for(var I=0;I<L;I++)E[w++]=I<x.length?x[I].paddedUnitValues[k]:.5;E[w++]=h(k,2),E[w++]=h(k,1),E[w++]=h(k,0),E[w++]=u(a[k])}return E}function f(S,x,a){for(var E=new Array(x*8),w=0,k=0;k<x;k++)for(var I=0;I<2;I++)for(var U=0;U<4;U++){var z=S*4+U,N=a[k*64+z];z===63&&I===0&&(N*=-1),E[w++]=N}return E}function o(S){var x="0"+S;return x.substr(x.length-2)}function d(S){return S<L?"p"+o(S+1)+"_"+o(S+4):"colors"}function A(S,x,a){for(var E=0;E<=L;E+=4)S[d(E)](f(E/4,x,a))}function M(S){for(var x={},a=0;a<=L;a+=4)x[d(a)]=S.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return x}function C(S,x,a,E,w,k,I,U,z,N,B,F,H,X){for(var q=[[],[]],ne=0;ne<64;ne++)q[0][ne]=ne===w?1:0,q[1][ne]=ne===k?1:0;I*=X,U*=X,z*=X,N*=X;var oe=S.lines.canvasOverdrag*X,ve=S.domain,J=S.canvasWidth*X,Y=S.canvasHeight*X,j=S.pad.l*X,K=S.pad.b*X,te=S.layoutHeight*X,se=S.layoutWidth*X,Q=S.deselectedLines.color,ee=S.deselectedLines.opacity,le=T.extendFlat({key:B,resolution:[J,Y],viewBoxPos:[I+oe,U],viewBoxSize:[z,N],i0:w,i1:k,dim0A:q[0].slice(0,16),dim0B:q[0].slice(16,32),dim0C:q[0].slice(32,48),dim0D:q[0].slice(48,64),dim1A:q[1].slice(0,16),dim1B:q[1].slice(16,32),dim1C:q[1].slice(32,48),dim1D:q[1].slice(48,64),drwLayer:F,contextColor:[Q[0]/255,Q[1]/255,Q[2]/255,ee!=="auto"?Q[3]*ee:Math.max(1/255,Math.pow(1/S.lines.color.length,1/3))],scissorX:(E===x?0:I+oe)+(j-oe)+se*ve.x[0],scissorWidth:(E===a?J-I+oe:z+.5)+(E===x?I+oe:0),scissorY:U+K+te*ve.y[0],scissorHeight:N,viewportX:j-oe+se*ve.x[0],viewportY:K+te*ve.y[0],viewportWidth:J,viewportHeight:Y},H);return le}function m(S){var x=p-1,a=Math.max(0,Math.floor(S[0]*x),0),E=Math.min(x,Math.ceil(S[1]*x),x);return[Math.min(a,E),Math.max(a,E)]}G.exports=function(S,x){var a=x.context,E=x.pick,w=x.regl,k=w._gl,I=k.getParameter(k.ALIASED_LINE_WIDTH_RANGE),U=Math.max(I[0],Math.min(I[1],x.viewModel.plotGlPixelRatio)),z={currentRafs:{},drawCompleted:!0,clearOnly:!1},N,B,F,H,X=M(w),q,ne=w.texture(l),oe=[];J(x);var ve=w({profile:!1,blend:{enable:a,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!a,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:w.prop("scissorX"),y:w.prop("scissorY"),width:w.prop("scissorWidth"),height:w.prop("scissorHeight")}},viewport:{x:w.prop("viewportX"),y:w.prop("viewportY"),width:w.prop("viewportWidth"),height:w.prop("viewportHeight")},dither:!1,vert:R,frag:i,primitive:"lines",lineWidth:U,attributes:X,uniforms:{resolution:w.prop("resolution"),viewBoxPos:w.prop("viewBoxPos"),viewBoxSize:w.prop("viewBoxSize"),dim0A:w.prop("dim0A"),dim1A:w.prop("dim1A"),dim0B:w.prop("dim0B"),dim1B:w.prop("dim1B"),dim0C:w.prop("dim0C"),dim1C:w.prop("dim1C"),dim0D:w.prop("dim0D"),dim1D:w.prop("dim1D"),loA:w.prop("loA"),hiA:w.prop("hiA"),loB:w.prop("loB"),hiB:w.prop("hiB"),loC:w.prop("loC"),hiC:w.prop("hiC"),loD:w.prop("loD"),hiD:w.prop("hiD"),palette:ne,contextColor:w.prop("contextColor"),maskTexture:w.prop("maskTexture"),drwLayer:w.prop("drwLayer"),maskHeight:w.prop("maskHeight")},offset:w.prop("offset"),count:w.prop("count")});function J(Q){N=Q.model,B=Q.viewModel,F=B.dimensions.slice(),H=F[0]?F[0].values.length:0;var ee=N.lines,le=E?ee.color.map(function(he,xe){return xe/ee.color.length}):ee.color,ie=b(H,F,le);A(X,H,ie),!a&&!E&&(ne=w.texture(T.extendFlat({data:y(N.unitToColor,255)},l)))}function Y(Q){var ee,le,ie,he=[[],[]];for(ie=0;ie<64;ie++){var xe=!Q&&ie<F.length?F[ie].brush.filter.getBounds():[-1/0,1/0];he[0][ie]=xe[0],he[1][ie]=xe[1]}var Se=p*8,Ee=new Array(Se);for(ee=0;ee<Se;ee++)Ee[ee]=255;if(!Q)for(ee=0;ee<F.length;ee++){var Ne=ee%8,He=(ee-Ne)/8,Ce=Math.pow(2,Ne),be=F[ee],we=be.brush.filter.get();if(!(we.length<2)){var ke=m(we[0])[1];for(le=1;le<we.length;le++){var Fe=m(we[le]);for(ie=ke+1;ie<Fe[0];ie++)Ee[ie*8+He]&=~Ce;ke=Math.max(ke,Fe[1])}}}var Pe={shape:[8,p],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ee};return q?q(Pe):q=w.texture(Pe),{maskTexture:q,maskHeight:p,loA:he[0].slice(0,16),loB:he[0].slice(16,32),loC:he[0].slice(32,48),loD:he[0].slice(48,64),hiA:he[1].slice(0,16),hiB:he[1].slice(16,32),hiC:he[1].slice(32,48),hiD:he[1].slice(48,64)}}function j(Q,ee,le){var ie=Q.length,he,xe,Se,Ee=1/0,Ne=-1/0;for(he=0;he<ie;he++)Q[he].dim0.canvasX<Ee&&(Ee=Q[he].dim0.canvasX,xe=he),Q[he].dim1.canvasX>Ne&&(Ne=Q[he].dim1.canvasX,Se=he);ie===0&&s(w,0,0,N.canvasWidth,N.canvasHeight);var He=Y(a);for(he=0;he<ie;he++){var Ce=Q[he],be=Ce.dim0.crossfilterDimensionIndex,we=Ce.dim1.crossfilterDimensionIndex,ke=Ce.canvasX,Fe=Ce.canvasY,Pe=ke+Ce.panelSizeX,Ge=Ce.plotGlPixelRatio;if(ee||!oe[be]||oe[be][0]!==ke||oe[be][1]!==Pe){oe[be]=[ke,Pe];var nt=C(N,xe,Se,he,be,we,ke,Fe,Ce.panelSizeX,Ce.panelSizeY,Ce.dim0.crossfilterDimensionIndex,a?0:E?2:1,He,Ge);z.clearOnly=le;var qe=ee?N.lines.blockLineCount:H;c(w,ve,z,qe,H,nt)}}}function K(Q,ee){return w.read({x:Q,y:ee,width:1,height:1,data:r}),r}function te(Q,ee,le,ie){var he=new Uint8Array(4*le*ie);return w.read({x:Q,y:ee,width:le,height:ie,data:he}),he}function se(){S.style["pointer-events"]="none",ne.destroy(),q&&q.destroy();for(var Q in X)X[Q].destroy()}return{render:j,readPixel:K,readPixels:te,destroy:se,update:J}}},94397:function(G){G.exports=function(V,e,g,R){R||(R=1/0);var i,L;for(i=0;i<e.length;i++)L=e[i],L.visible&&(R=Math.min(R,L[g].length));for(R===1/0&&(R=0),V._length=R,i=0;i<e.length;i++)L=e[i],L.visible&&(L._length=R);return R}},17171:function(G,V,e){var g=e(39898),R=e(71828),i=R.numberFormat,L=e(36652),T=e(89298),v=R.strRotate,p=R.strTranslate,t=e(63893),r=e(91424),l=e(21081),n=e(28984),s=n.keyFun,c=n.repeat,u=n.unwrap,y=e(1602),h=e(25706),b=e(57920),f=e(83398);function o(q,ne,oe){return R.aggNums(q,null,ne,oe)}function d(q,ne){return M(o(Math.min,q,ne),o(Math.max,q,ne))}function A(q){var ne=q.range;return ne?M(ne[0],ne[1]):d(q.values,q._length)}function M(q,ne){return(isNaN(q)||!isFinite(q))&&(q=0),(isNaN(ne)||!isFinite(ne))&&(ne=0),q===ne&&(q===0?(q-=1,ne+=1):(q*=.9,ne*=1.1)),[q,ne]}function C(q,ne){return ne?function(oe,ve){var J=ne[ve];return J??q(oe)}:q}function m(q,ne,oe,ve,J){var Y=A(oe);return ve?g.scale.ordinal().domain(ve.map(C(i(oe.tickformat),J))).range(ve.map(function(j){var K=(j-Y[0])/(Y[1]-Y[0]);return q-ne+K*(2*ne-q)})):g.scale.linear().domain(Y).range([q-ne,ne])}function S(q,ne){return g.scale.linear().range([ne,q-ne])}function x(q,ne){return g.scale.linear().domain(A(q)).range([ne,1-ne])}function a(q){if(q.tickvals){var ne=A(q);return g.scale.ordinal().domain(q.tickvals).range(q.tickvals.map(function(oe){return(oe-ne[0])/(ne[1]-ne[0])}))}}function E(q){var ne=q.map(function(Y){return Y[0]}),oe=q.map(function(Y){var j=L(Y[1]);return g.rgb("rgb("+j[0]+","+j[1]+","+j[2]+")")}),ve=function(Y){return function(j){return j[Y]}},J="rgb".split("").map(function(Y){return g.scale.linear().clamp(!0).domain(ne).range(oe.map(ve(Y)))});return function(Y){return J.map(function(j){return j(Y)})}}function w(q){return q.dimensions.some(function(ne){return ne.brush.filterSpecified})}function k(q,ne,oe){var ve=u(ne),J=ve.trace,Y=y.convertTypedArray(ve.lineColor),j=J.line,K={color:L(J.unselected.line.color),opacity:J.unselected.line.opacity},te=l.extractOpts(j),se=te.reversescale?l.flipScale(ve.cscale):ve.cscale,Q=J.domain,ee=J.dimensions,le=q.width,ie=J.labelangle,he=J.labelside,xe=J.labelfont,Se=J.tickfont,Ee=J.rangefont,Ne=R.extendDeepNoArrays({},j,{color:Y.map(g.scale.linear().domain(A({values:Y,range:[te.min,te.max],_length:J._length}))),blockLineCount:h.blockLineCount,canvasOverdrag:h.overdrag*h.canvasPixelRatio}),He=Math.floor(le*(Q.x[1]-Q.x[0])),Ce=Math.floor(q.height*(Q.y[1]-Q.y[0])),be=q.margin||{l:80,r:80,t:100,b:80},we=He,ke=Ce;return{key:oe,colCount:ee.filter(y.isVisible).length,dimensions:ee,tickDistance:h.tickDistance,unitToColor:E(se),lines:Ne,deselectedLines:K,labelAngle:ie,labelSide:he,labelFont:xe,tickFont:Se,rangeFont:Ee,layoutWidth:le,layoutHeight:q.height,domain:Q,translateX:Q.x[0]*le,translateY:q.height-Q.y[1]*q.height,pad:be,canvasWidth:we*h.canvasPixelRatio+2*Ne.canvasOverdrag,canvasHeight:ke*h.canvasPixelRatio,width:we,height:ke,canvasPixelRatio:h.canvasPixelRatio}}function I(q,ne,oe){var ve=oe.width,J=oe.height,Y=oe.dimensions,j=oe.canvasPixelRatio,K=function(le){return ve*le/Math.max(1,oe.colCount-1)},te=h.verticalPadding/J,se=S(J,h.verticalPadding),Q={key:oe.key,xScale:K,model:oe,inBrushDrag:!1},ee={};return Q.dimensions=Y.filter(y.isVisible).map(function(le,ie){var he=x(le,te),xe=ee[le.label];ee[le.label]=(xe||0)+1;var Se=le.label+(xe?"__"+xe:""),Ee=le.constraintrange,Ne=Ee&&Ee.length;Ne&&!Array.isArray(Ee[0])&&(Ee=[Ee]);var He=Ne?Ee.map(function(Ke){return Ke.map(he)}):[[-1/0,1/0]],Ce=function(){var Ke=Q;Ke.focusLayer&&Ke.focusLayer.render(Ke.panels,!0);var $e=w(Ke);!q.contextShown()&&$e?(Ke.contextLayer&&Ke.contextLayer.render(Ke.panels,!0),q.contextShown(!0)):q.contextShown()&&!$e&&(Ke.contextLayer&&Ke.contextLayer.render(Ke.panels,!0,!0),q.contextShown(!1))},be=le.values;be.length>le._length&&(be=be.slice(0,le._length));var we=le.tickvals,ke;function Fe(Ke,$e){return{val:Ke,text:ke[$e]}}function Pe(Ke,$e){return Ke.val-$e.val}if(Array.isArray(we)&&we.length){ke=le.ticktext,!Array.isArray(ke)||!ke.length?ke=we.map(i(le.tickformat)):ke.length>we.length?ke=ke.slice(0,we.length):we.length>ke.length&&(we=we.slice(0,ke.length));for(var Ge=1;Ge<we.length;Ge++)if(we[Ge]<we[Ge-1]){for(var nt=we.map(Fe).sort(Pe),qe=0;qe<we.length;qe++)we[qe]=nt[qe].val,ke[qe]=nt[qe].text;break}}else we=void 0;return be=y.convertTypedArray(be),{key:Se,label:le.label,tickFormat:le.tickformat,tickvals:we,ticktext:ke,ordinal:y.isOrdinal(le),multiselect:le.multiselect,xIndex:ie,crossfilterDimensionIndex:ie,visibleIndex:le._index,height:J,values:be,paddedUnitValues:be.map(he),unitTickvals:we&&we.map(he),xScale:K,x:K(ie),canvasX:K(ie)*j,unitToPaddedPx:se,domainScale:m(J,h.verticalPadding,le,we,ke),ordinalScale:a(le),parent:Q,model:oe,brush:b.makeBrush(q,Ne,He,function(){q.linePickActive(!1)},Ce,function(Ke){if(Q.focusLayer.render(Q.panels,!0),Q.pickLayer&&Q.pickLayer.render(Q.panels,!0),q.linePickActive(!0),ne&&ne.filterChanged){var $e=he.invert,vt=Ke.map(function(yt){return yt.map($e).sort(R.sorterAsc)}).sort(function(yt,mt){return yt[0]-mt[0]});ne.filterChanged(Q.key,le._index,vt)}})}}),Q}function U(q){q.classed(h.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function z(){var q=!0,ne=!1;return{linePickActive:function(oe){return arguments.length?q=!!oe:q},contextShown:function(oe){return arguments.length?ne=!!oe:ne}}}function N(q,ne){var oe=ne==="top"?1:-1,ve=q*Math.PI/180,J=Math.sin(ve),Y=Math.cos(ve);return{dir:oe,dx:J,dy:Y,degrees:q}}function B(q,ne,oe){for(var ve=ne.panels||(ne.panels=[]),J=q.data(),Y=0;Y<J.length-1;Y++){var j=ve[Y]||(ve[Y]={}),K=J[Y],te=J[Y+1];j.dim0=K,j.dim1=te,j.canvasX=K.canvasX,j.panelSizeX=te.canvasX-K.canvasX,j.panelSizeY=ne.model.canvasHeight,j.y=0,j.canvasY=0,j.plotGlPixelRatio=oe}}function F(q){for(var ne=0;ne<q.length;ne++)for(var oe=0;oe<q[ne].length;oe++)for(var ve=q[ne][oe].trace,J=ve.dimensions,Y=0;Y<J.length;Y++){var j=J[Y].values,K=J[Y]._ax;K&&(K.range?K.range=M(K.range[0],K.range[1]):K.range=d(j,ve._length),K.dtick||(K.dtick=.01*(Math.abs(K.range[1]-K.range[0])||1)),K.tickformat=J[Y].tickformat,T.calcTicks(K),K.cleanRange())}}function H(q,ne){return T.tickText(q._ax,ne,!1).text}function X(q,ne){if(q.ordinal)return"";var oe=q.domainScale.domain(),ve=oe[ne?oe.length-1:0];return H(q.model.dimensions[q.visibleIndex],ve)}G.exports=function(ne,oe,ve,J){var Y=ne._context.staticPlot,j=ne._fullLayout,K=j._toppaper,te=j._glcontainer,se=ne._context.plotGlPixelRatio,Q=ne._fullLayout.paper_bgcolor;F(oe);var ee=z(),le=oe.filter(function(qe){return u(qe).trace.visible}).map(k.bind(0,ve)).map(I.bind(0,ee,J));te.each(function(qe,Ke){return R.extendFlat(qe,le[Ke])});var ie=te.selectAll(".gl-canvas").each(function(qe){qe.viewModel=le[0],qe.viewModel.plotGlPixelRatio=se,qe.viewModel.paperColor=Q,qe.model=qe.viewModel?qe.viewModel.model:null}),he=null,xe=ie.filter(function(qe){return qe.pick});xe.style("pointer-events",Y?"none":"auto").on("mousemove",function(qe){if(ee.linePickActive()&&qe.lineLayer&&J&&J.hover){var Ke=g.event,$e=this.width,vt=this.height,yt=g.mouse(this),mt=yt[0],Et=yt[1];if(mt<0||Et<0||mt>=$e||Et>=vt)return;var Xe=qe.lineLayer.readPixel(mt,vt-1-Et),Ue=Xe[3]!==0,Be=Ue?Xe[2]+256*(Xe[1]+256*Xe[0]):null,rt={x:mt,y:Et,clientX:Ke.clientX,clientY:Ke.clientY,dataIndex:qe.model.key,curveNumber:Be};Be!==he&&(Ue?J.hover(rt):J.unhover&&J.unhover(rt),he=Be)}}),ie.style("opacity",function(qe){return qe.pick?0:1}),K.style("background","rgba(255, 255, 255, 0)");var Se=K.selectAll("."+h.cn.parcoords).data(le,s);Se.exit().remove(),Se.enter().append("g").classed(h.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Se.attr("transform",function(qe){return p(qe.model.translateX,qe.model.translateY)});var Ee=Se.selectAll("."+h.cn.parcoordsControlView).data(c,s);Ee.enter().append("g").classed(h.cn.parcoordsControlView,!0),Ee.attr("transform",function(qe){return p(qe.model.pad.l,qe.model.pad.t)});var Ne=Ee.selectAll("."+h.cn.yAxis).data(function(qe){return qe.dimensions},s);Ne.enter().append("g").classed(h.cn.yAxis,!0),Ee.each(function(qe){B(Ne,qe,se)}),ie.each(function(qe){if(qe.viewModel){!qe.lineLayer||J?qe.lineLayer=f(this,qe):qe.lineLayer.update(qe),(qe.key||qe.key===0)&&(qe.viewModel[qe.key]=qe.lineLayer);var Ke=!qe.context||J;qe.lineLayer.render(qe.viewModel.panels,Ke)}}),Ne.attr("transform",function(qe){return p(qe.xScale(qe.xIndex),0)}),Ne.call(g.behavior.drag().origin(function(qe){return qe}).on("drag",function(qe){var Ke=qe.parent;ee.linePickActive(!1),qe.x=Math.max(-h.overdrag,Math.min(qe.model.width+h.overdrag,g.event.x)),qe.canvasX=qe.x*qe.model.canvasPixelRatio,Ne.sort(function($e,vt){return $e.x-vt.x}).each(function($e,vt){$e.xIndex=vt,$e.x=qe===$e?$e.x:$e.xScale($e.xIndex),$e.canvasX=$e.x*$e.model.canvasPixelRatio}),B(Ne,Ke,se),Ne.filter(function($e){return Math.abs(qe.xIndex-$e.xIndex)!==0}).attr("transform",function($e){return p($e.xScale($e.xIndex),0)}),g.select(this).attr("transform",p(qe.x,0)),Ne.each(function($e,vt,yt){yt===qe.parent.key&&(Ke.dimensions[vt]=$e)}),Ke.contextLayer&&Ke.contextLayer.render(Ke.panels,!1,!w(Ke)),Ke.focusLayer.render&&Ke.focusLayer.render(Ke.panels)}).on("dragend",function(qe){var Ke=qe.parent;qe.x=qe.xScale(qe.xIndex),qe.canvasX=qe.x*qe.model.canvasPixelRatio,B(Ne,Ke,se),g.select(this).attr("transform",function($e){return p($e.x,0)}),Ke.contextLayer&&Ke.contextLayer.render(Ke.panels,!1,!w(Ke)),Ke.focusLayer&&Ke.focusLayer.render(Ke.panels),Ke.pickLayer&&Ke.pickLayer.render(Ke.panels,!0),ee.linePickActive(!0),J&&J.axesMoved&&J.axesMoved(Ke.key,Ke.dimensions.map(function($e){return $e.crossfilterDimensionIndex}))})),Ne.exit().remove();var He=Ne.selectAll("."+h.cn.axisOverlays).data(c,s);He.enter().append("g").classed(h.cn.axisOverlays,!0),He.selectAll("."+h.cn.axis).remove();var Ce=He.selectAll("."+h.cn.axis).data(c,s);Ce.enter().append("g").classed(h.cn.axis,!0),Ce.each(function(qe){var Ke=qe.model.height/qe.model.tickDistance,$e=qe.domainScale,vt=$e.domain();g.select(this).call(g.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Ke,qe.tickFormat).tickValues(qe.ordinal?vt:null).tickFormat(function(yt){return y.isOrdinal(qe)?yt:H(qe.model.dimensions[qe.visibleIndex],yt)}).scale($e)),r.font(Ce.selectAll("text"),qe.model.tickFont)}),Ce.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Ce.selectAll("text").style("text-shadow",t.makeTextShadow(Q)).style("cursor","default");var be=He.selectAll("."+h.cn.axisHeading).data(c,s);be.enter().append("g").classed(h.cn.axisHeading,!0);var we=be.selectAll("."+h.cn.axisTitle).data(c,s);we.enter().append("text").classed(h.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",Y?"none":"auto"),we.text(function(qe){return qe.label}).each(function(qe){var Ke=g.select(this);r.font(Ke,qe.model.labelFont),t.convertToTspans(Ke,ne)}).attr("transform",function(qe){var Ke=N(qe.model.labelAngle,qe.model.labelSide),$e=h.axisTitleOffset;return(Ke.dir>0?"":p(0,2*$e+qe.model.height))+v(Ke.degrees)+p(-$e*Ke.dx,-$e*Ke.dy)}).attr("text-anchor",function(qe){var Ke=N(qe.model.labelAngle,qe.model.labelSide),$e=Math.abs(Ke.dx),vt=Math.abs(Ke.dy);return 2*$e>vt?Ke.dir*Ke.dx<0?"start":"end":"middle"});var ke=He.selectAll("."+h.cn.axisExtent).data(c,s);ke.enter().append("g").classed(h.cn.axisExtent,!0);var Fe=ke.selectAll("."+h.cn.axisExtentTop).data(c,s);Fe.enter().append("g").classed(h.cn.axisExtentTop,!0),Fe.attr("transform",p(0,-h.axisExtentOffset));var Pe=Fe.selectAll("."+h.cn.axisExtentTopText).data(c,s);Pe.enter().append("text").classed(h.cn.axisExtentTopText,!0).call(U),Pe.text(function(qe){return X(qe,!0)}).each(function(qe){r.font(g.select(this),qe.model.rangeFont)});var Ge=ke.selectAll("."+h.cn.axisExtentBottom).data(c,s);Ge.enter().append("g").classed(h.cn.axisExtentBottom,!0),Ge.attr("transform",function(qe){return p(0,qe.model.height+h.axisExtentOffset)});var nt=Ge.selectAll("."+h.cn.axisExtentBottomText).data(c,s);nt.enter().append("text").classed(h.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(U),nt.text(function(qe){return X(qe,!1)}).each(function(qe){r.font(g.select(this),qe.model.rangeFont)}),b.ensureAxisBrush(He,Q,ne)}},21341:function(G,V,e){var g=e(17171),R=e(79749),i=e(1602).isVisible,L={};function T(t,r,l){var n=r.indexOf(l),s=t.indexOf(n);return s===-1&&(s+=r.length),s}function v(t,r){return function(n,s){return T(t,r,n)-T(t,r,s)}}var p=G.exports=function(r,l){var n=r._fullLayout,s=R(r,[],L);if(s){var c={},u={},y={},h={},b=n._size;l.forEach(function(M,C){var m=M[0].trace;y[C]=m.index;var S=h[C]=m._fullInput.index;c[C]=r.data[S].dimensions,u[C]=r.data[S].dimensions.slice()});var f=function(M,C,m){var S=u[M][C],x=m.map(function(U){return U.slice()}),a="dimensions["+C+"].constraintrange",E=n._tracePreGUI[r._fullData[y[M]]._fullInput.uid];if(E[a]===void 0){var w=S.constraintrange;E[a]=w||null}var k=r._fullData[y[M]].dimensions[C];x.length?(x.length===1&&(x=x[0]),S.constraintrange=x,k.constraintrange=x.slice(),x=[x]):(delete S.constraintrange,delete k.constraintrange,x=null);var I={};I[a]=x,r.emit("plotly_restyle",[I,[h[M]]])},o=function(M){r.emit("plotly_hover",M)},d=function(M){r.emit("plotly_unhover",M)},A=function(M,C){var m=v(C,u[M].filter(i));c[M].sort(m),u[M].filter(function(S){return!i(S)}).sort(function(S){return u[M].indexOf(S)}).forEach(function(S){c[M].splice(c[M].indexOf(S),1),c[M].splice(u[M].indexOf(S),0,S)}),r.emit("plotly_restyle",[{dimensions:[c[M]]},[h[M]]])};g(r,l,{width:b.w,height:b.h,margin:{t:b.t,r:b.r,b:b.b,l:b.l}},{filterChanged:f,hover:o,unhover:d,axesMoved:A})}};p.reglPrecompiled=L},34e3:function(G,V,e){var g=e(9012),R=e(27670).Y,i=e(41940),L=e(22399),T=e(5386).fF,v=e(5386).si,p=e(1426).extendFlat,t=e(79952).u,r=i({editType:"plot",arrayOk:!0,colorEditType:"plot"});G.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:L.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:T({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},r,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},r,{}),outsidetextfont:p({},r,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},r,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:R({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},r,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(G,V,e){var g=e(74875);V.name="pie",V.plot=function(R,i,L,T){g.plotBasePlot(V.name,R,i,L,T)},V.clean=function(R,i,L,T){g.cleanBasePlot(V.name,R,i,L,T)}},32354:function(G,V,e){var g=e(92770),R=e(84267),i=e(7901),L={};function T(r,l){var n=[],s=r._fullLayout,c=s.hiddenlabels||[],u=l.labels,y=l.marker.colors||[],h=l.values,b=l._length,f=l._hasValues&&b,o,d;if(l.dlabel)for(u=new Array(b),o=0;o<b;o++)u[o]=String(l.label0+o*l.dlabel);var A={},M=v(s["_"+l.type+"colormap"]),C=0,m=!1;for(o=0;o<b;o++){var S,x,a;if(f){if(S=h[o],!g(S))continue;S=+S}else S=1;x=u[o],(x===void 0||x==="")&&(x=o),x=String(x);var E=A[x];E===void 0?(A[x]=n.length,a=c.indexOf(x)!==-1,a||(C+=S),n.push({v:S,label:x,color:M(y[o],x),i:o,pts:[o],hidden:a})):(m=!0,d=n[E],d.v+=S,d.pts.push(o),d.hidden||(C+=S),d.color===!1&&y[o]&&(d.color=M(y[o],x)))}n=n.filter(function(k){return k.v>=0});var w=l.type==="funnelarea"?m:l.sort;return w&&n.sort(function(k,I){return I.v-k.v}),n[0]&&(n[0].vTotal=C),n}function v(r){return function(n,s){return!n||(n=R(n),!n.isValid())?!1:(n=i.addOpacity(n,n.getAlpha()),r[s]||(r[s]=n),n)}}function p(r,l){var n=(l||{}).type;n||(n="pie");var s=r._fullLayout,c=r.calcdata,u=s[n+"colorway"],y=s["_"+n+"colormap"];s["extend"+n+"colors"]&&(u=t(u,L));for(var h=0,b=0;b<c.length;b++){var f=c[b],o=f[0].trace.type;if(o===n)for(var d=0;d<f.length;d++){var A=f[d];A.color===!1&&(y[A.label]?A.color=y[A.label]:(y[A.label]=A.color=u[h%u.length],h++))}}}function t(r,l){var n,s=JSON.stringify(r),c=l[s];if(!c){for(c=r.slice(),n=0;n<r.length;n++)c.push(R(r[n]).lighten(20).toHexString());for(n=0;n<r.length;n++)c.push(R(r[n]).darken(20).toHexString());l[s]=c}return c}G.exports={calc:T,crossTraceCalc:p,makePullColorFn:v,generateExtendedColors:t}},37434:function(G,V,e){var g=e(92770),R=e(71828),i=e(34e3),L=e(27670).c,T=e(90769).handleText,v=e(71828).coercePattern;function p(l,n){var s=Array.isArray(l),c=R.isArrayOrTypedArray(n),u=Math.min(s?l.length:1/0,c?n.length:1/0);if(isFinite(u)||(u=0),u&&c){for(var y,h=0;h<u;h++){var b=n[h];if(g(b)&&b>0){y=!0;break}}y||(u=0)}return{hasLabels:s,hasValues:c,len:u}}function t(l,n,s,c,u){var y=c("marker.line.width");y&&c("marker.line.color",u?void 0:s.paper_bgcolor);var h=c("marker.colors");v(c,"marker.pattern",h),l.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=l.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=s.paper_bgcolor)}function r(l,n,s,c){function u(E,w){return R.coerce(l,n,i,E,w)}var y=u("labels"),h=u("values"),b=p(y,h),f=b.len;if(n._hasLabels=b.hasLabels,n._hasValues=b.hasValues,!n._hasLabels&&n._hasValues&&(u("label0"),u("dlabel")),!f){n.visible=!1;return}n._length=f,t(l,n,c,u,!0),u("scalegroup");var o=u("text"),d=u("texttemplate"),A;if(d||(A=u("textinfo",Array.isArray(o)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),d||A&&A!=="none"){var M=u("textposition");T(l,n,c,u,M,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var C=Array.isArray(M)||M==="auto",m=C||M==="outside";m&&u("automargin"),(M==="inside"||M==="auto"||Array.isArray(M))&&u("insidetextorientation")}L(n,c,u);var S=u("hole"),x=u("title.text");if(x){var a=u("title.position",S?"middle center":"top center");!S&&a==="middle center"&&(n.title.position="top center"),R.coerceFont(u,"title.font",c.font)}u("sort"),u("direction"),u("rotation"),u("pull")}G.exports={handleLabelsAndValues:p,handleMarkerDefaults:t,supplyDefaults:r}},20007:function(G,V,e){var g=e(23469).appendArrayMultiPointValues;G.exports=function(i,L){var T={curveNumber:L.index,pointNumbers:i.pts,data:L._input,fullData:L,label:i.label,color:i.color,value:i.v,percent:i.percent,text:i.text,bbox:i.bbox,v:i.v};return i.pts.length===1&&(T.pointNumber=T.i=i.pts[0]),g(T,L,i.pts),L.type==="funnelarea"&&(delete T.v,delete T.i),T}},22209:function(G,V,e){var g=e(91424),R=e(7901);G.exports=function(L,T,v,p){var t=v.marker.pattern;t&&t.shape?g.pointStyle(L,v,p,T):R.fill(L,T.color)}},53581:function(G,V,e){var g=e(71828);function R(i){return i.indexOf("e")!==-1?i.replace(/[.]?0+e/,"e"):i.indexOf(".")!==-1?i.replace(/[.]?0+$/,""):i}V.formatPiePercent=function(L,T){var v=R((L*100).toPrecision(3));return g.numSeparate(v,T)+"%"},V.formatPieValue=function(L,T){var v=R(L.toPrecision(10));return g.numSeparate(v,T)},V.getFirstFilled=function(L,T){if(Array.isArray(L))for(var v=0;v<T.length;v++){var p=L[T[v]];if(p||p===0||p==="")return p}},V.castOption=function(L,T){if(Array.isArray(L))return V.getFirstFilled(L,T);if(L)return L},V.getRotationAngle=function(i){return(i==="auto"?0:i)*Math.PI/180}},58810:function(G,V,e){G.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(G){G.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(G,V,e){var g=e(71828),R=e(92774);G.exports=function(L,T){function v(p,t){return g.coerce(L,T,R,p,t)}v("hiddenlabels"),v("piecolorway",T.colorway),v("extendpiecolors")}},14575:function(G,V,e){var g=e(39898),R=e(74875),i=e(30211),L=e(7901),T=e(91424),v=e(71828),p=v.strScale,t=v.strTranslate,r=e(63893),l=e(72597),n=l.recordMinTextSize,s=l.clearMinTextSize,c=e(97313).TEXTPAD,u=e(53581),y=e(20007),h=e(71828).isValidTextValue;function b(Y,j){var K=Y._context.staticPlot,te=Y._fullLayout,se=te._size;s("pie",te),M(j,Y),X(j,se);var Q=v.makeTraceGroups(te._pielayer,j,"trace").each(function(ee){var le=g.select(this),ie=ee[0],he=ie.trace;ne(ee),le.attr("stroke-linejoin","round"),le.each(function(){var xe=g.select(this).selectAll("g.slice").data(ee);xe.enter().append("g").classed("slice",!0),xe.exit().remove();var Se=[[[],[]],[[],[]]],Ee=!1;xe.each(function(Pe,Ge){if(Pe.hidden){g.select(this).selectAll("path,g").remove();return}Pe.pointNumber=Pe.i,Pe.curveNumber=he.index,Se[Pe.pxmid[1]<0?0:1][Pe.pxmid[0]<0?0:1].push(Pe);var nt=ie.cx,qe=ie.cy,Ke=g.select(this),$e=Ke.selectAll("path.surface").data([Pe]);if($e.enter().append("path").classed("surface",!0).style({"pointer-events":K?"none":"all"}),Ke.call(o,Y,ee),he.pull){var vt=+u.castOption(he.pull,Pe.pts)||0;vt>0&&(nt+=vt*Pe.pxmid[0],qe+=vt*Pe.pxmid[1])}Pe.cxFinal=nt,Pe.cyFinal=qe;function yt(it,Ye,De,Te){var fe=Te*(Ye[0]-it[0]),me=Te*(Ye[1]-it[1]);return"a"+Te*ie.r+","+Te*ie.r+" 0 "+Pe.largeArc+(De?" 1 ":" 0 ")+fe+","+me}var mt=he.hole;if(Pe.v===ie.vTotal){var Et="M"+(nt+Pe.px0[0])+","+(qe+Pe.px0[1])+yt(Pe.px0,Pe.pxmid,!0,1)+yt(Pe.pxmid,Pe.px0,!0,1)+"Z";mt?$e.attr("d","M"+(nt+mt*Pe.px0[0])+","+(qe+mt*Pe.px0[1])+yt(Pe.px0,Pe.pxmid,!1,mt)+yt(Pe.pxmid,Pe.px0,!1,mt)+"Z"+Et):$e.attr("d",Et)}else{var Xe=yt(Pe.px0,Pe.px1,!0,1);if(mt){var Ue=1-mt;$e.attr("d","M"+(nt+mt*Pe.px1[0])+","+(qe+mt*Pe.px1[1])+yt(Pe.px1,Pe.px0,!1,mt)+"l"+Ue*Pe.px0[0]+","+Ue*Pe.px0[1]+Xe+"Z")}else $e.attr("d","M"+nt+","+qe+"l"+Pe.px0[0]+","+Pe.px0[1]+Xe+"Z")}ve(Y,Pe,ie);var Be=u.castOption(he.textposition,Pe.pts),rt=Ke.selectAll("g.slicetext").data(Pe.text&&Be!=="none"?[0]:[]);rt.enter().append("g").classed("slicetext",!0),rt.exit().remove(),rt.each(function(){var it=v.ensureSingle(g.select(this),"text","",function(st){st.attr("data-notex",1)}),Ye=v.ensureUniformFontSize(Y,Be==="outside"?d(he,Pe,te.font):A(he,Pe,te.font));it.text(Pe.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(T.font,Ye).call(r.convertToTspans,Y);var De=T.bBox(it.node()),Te;if(Be==="outside")Te=I(De,Pe);else if(Te=C(De,Pe,ie),Be==="auto"&&Te.scale<1){var fe=v.ensureUniformFontSize(Y,he.outsidetextfont);it.call(T.font,fe),De=T.bBox(it.node()),Te=I(De,Pe)}var me=Te.textPosAngle,Re=me===void 0?Pe.pxmid:oe(ie.r,me);if(Te.targetX=nt+Re[0]*Te.rCenter+(Te.x||0),Te.targetY=qe+Re[1]*Te.rCenter+(Te.y||0),J(Te,De),Te.outside){var Oe=Te.targetY;Pe.yLabelMin=Oe-De.height/2,Pe.yLabelMid=Oe,Pe.yLabelMax=Oe+De.height/2,Pe.labelExtraX=0,Pe.labelExtraY=0,Ee=!0}Te.fontSize=Ye.size,n(he.type,Te,te),ee[Ge].transform=Te,v.setTransormAndDisplay(it,Te)})});var Ne=g.select(this).selectAll("g.titletext").data(he.title.text?[0]:[]);if(Ne.enter().append("g").classed("titletext",!0),Ne.exit().remove(),Ne.each(function(){var Pe=v.ensureSingle(g.select(this),"text","",function(qe){qe.attr("data-notex",1)}),Ge=he.title.text;he._meta&&(Ge=v.templateString(Ge,he._meta)),Pe.text(Ge).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(T.font,he.title.font).call(r.convertToTspans,Y);var nt;he.title.position==="middle center"?nt=U(ie):nt=z(ie,se),Pe.attr("transform",t(nt.x,nt.y)+p(Math.min(1,nt.scale))+t(nt.tx,nt.ty))}),Ee&&H(Se,he),f(xe,he),Ee&&he.automargin){var He=T.bBox(le.node()),Ce=he.domain,be=se.w*(Ce.x[1]-Ce.x[0]),we=se.h*(Ce.y[1]-Ce.y[0]),ke=(.5*be-ie.r)/se.w,Fe=(.5*we-ie.r)/se.h;R.autoMargin(Y,"pie."+he.uid+".automargin",{xl:Ce.x[0]-ke,xr:Ce.x[1]+ke,yb:Ce.y[0]-Fe,yt:Ce.y[1]+Fe,l:Math.max(ie.cx-ie.r-He.left,0),r:Math.max(He.right-(ie.cx+ie.r),0),b:Math.max(He.bottom-(ie.cy+ie.r),0),t:Math.max(ie.cy-ie.r-He.top,0),pad:5})}})});setTimeout(function(){Q.selectAll("tspan").each(function(){var ee=g.select(this);ee.attr("dy")&&ee.attr("dy",ee.attr("dy"))})},0)}function f(Y,j){Y.each(function(K){var te=g.select(this);if(!K.labelExtraX&&!K.labelExtraY){te.select("path.textline").remove();return}var se=te.select("g.slicetext text");K.transform.targetX+=K.labelExtraX,K.transform.targetY+=K.labelExtraY,v.setTransormAndDisplay(se,K.transform);var Q=K.cxFinal+K.pxmid[0],ee=K.cyFinal+K.pxmid[1],le="M"+Q+","+ee,ie=(K.yLabelMax-K.yLabelMin)*(K.pxmid[0]<0?-1:1)/4;if(K.labelExtraX){var he=K.labelExtraX*K.pxmid[1]/K.pxmid[0],xe=K.yLabelMid+K.labelExtraY-(K.cyFinal+K.pxmid[1]);Math.abs(he)>Math.abs(xe)?le+="l"+xe*K.pxmid[0]/K.pxmid[1]+","+xe+"H"+(Q+K.labelExtraX+ie):le+="l"+K.labelExtraX+","+he+"v"+(xe-he)+"h"+ie}else le+="V"+(K.yLabelMid+K.labelExtraY)+"h"+ie;v.ensureSingle(te,"path","textline").call(L.stroke,j.outsidetextfont.color).attr({"stroke-width":Math.min(2,j.outsidetextfont.size/8),d:le,fill:"none"})})}function o(Y,j,K){var te=K[0],se=te.cx,Q=te.cy,ee=te.trace,le=ee.type==="funnelarea";"_hasHoverLabel"in ee||(ee._hasHoverLabel=!1),"_hasHoverEvent"in ee||(ee._hasHoverEvent=!1),Y.on("mouseover",function(ie){var he=j._fullLayout,xe=j._fullData[ee.index];if(!(j._dragging||he.hovermode===!1)){var Se=xe.hoverinfo;if(Array.isArray(Se)&&(Se=i.castHoverinfo({hoverinfo:[u.castOption(Se,ie.pts)],_module:ee._module},he,0)),Se==="all"&&(Se="label+text+value+percent+name"),xe.hovertemplate||Se!=="none"&&Se!=="skip"&&Se){var Ee=ie.rInscribed||0,Ne=se+ie.pxmid[0]*(1-Ee),He=Q+ie.pxmid[1]*(1-Ee),Ce=he.separators,be=[];if(Se&&Se.indexOf("label")!==-1&&be.push(ie.label),ie.text=u.castOption(xe.hovertext||xe.text,ie.pts),Se&&Se.indexOf("text")!==-1){var we=ie.text;v.isValidTextValue(we)&&be.push(we)}ie.value=ie.v,ie.valueLabel=u.formatPieValue(ie.v,Ce),Se&&Se.indexOf("value")!==-1&&be.push(ie.valueLabel),ie.percent=ie.v/te.vTotal,ie.percentLabel=u.formatPiePercent(ie.percent,Ce),Se&&Se.indexOf("percent")!==-1&&be.push(ie.percentLabel);var ke=xe.hoverlabel,Fe=ke.font,Pe=[];i.loneHover({trace:ee,x0:Ne-Ee*te.r,x1:Ne+Ee*te.r,y:He,_x0:le?se+ie.TL[0]:Ne-Ee*te.r,_x1:le?se+ie.TR[0]:Ne+Ee*te.r,_y0:le?Q+ie.TL[1]:He-Ee*te.r,_y1:le?Q+ie.BL[1]:He+Ee*te.r,text:be.join("<br>"),name:xe.hovertemplate||Se.indexOf("name")!==-1?xe.name:void 0,idealAlign:ie.pxmid[0]<0?"left":"right",color:u.castOption(ke.bgcolor,ie.pts)||ie.color,borderColor:u.castOption(ke.bordercolor,ie.pts),fontFamily:u.castOption(Fe.family,ie.pts),fontSize:u.castOption(Fe.size,ie.pts),fontColor:u.castOption(Fe.color,ie.pts),nameLength:u.castOption(ke.namelength,ie.pts),textAlign:u.castOption(ke.align,ie.pts),hovertemplate:u.castOption(xe.hovertemplate,ie.pts),hovertemplateLabels:ie,eventData:[y(ie,xe)]},{container:he._hoverlayer.node(),outerContainer:he._paper.node(),gd:j,inOut_bbox:Pe}),ie.bbox=Pe[0],ee._hasHoverLabel=!0}ee._hasHoverEvent=!0,j.emit("plotly_hover",{points:[y(ie,xe)],event:g.event})}}),Y.on("mouseout",function(ie){var he=j._fullLayout,xe=j._fullData[ee.index],Se=g.select(this).datum();ee._hasHoverEvent&&(ie.originalEvent=g.event,j.emit("plotly_unhover",{points:[y(Se,xe)],event:g.event}),ee._hasHoverEvent=!1),ee._hasHoverLabel&&(i.loneUnhover(he._hoverlayer.node()),ee._hasHoverLabel=!1)}),Y.on("click",function(ie){var he=j._fullLayout,xe=j._fullData[ee.index];j._dragging||he.hovermode===!1||(j._hoverdata=[y(ie,xe)],i.click(j,g.event))})}function d(Y,j,K){var te=u.castOption(Y.outsidetextfont.color,j.pts)||u.castOption(Y.textfont.color,j.pts)||K.color,se=u.castOption(Y.outsidetextfont.family,j.pts)||u.castOption(Y.textfont.family,j.pts)||K.family,Q=u.castOption(Y.outsidetextfont.size,j.pts)||u.castOption(Y.textfont.size,j.pts)||K.size;return{color:te,family:se,size:Q}}function A(Y,j,K){var te=u.castOption(Y.insidetextfont.color,j.pts);!te&&Y._input.textfont&&(te=u.castOption(Y._input.textfont.color,j.pts));var se=u.castOption(Y.insidetextfont.family,j.pts)||u.castOption(Y.textfont.family,j.pts)||K.family,Q=u.castOption(Y.insidetextfont.size,j.pts)||u.castOption(Y.textfont.size,j.pts)||K.size;return{color:te||L.contrast(j.color),family:se,size:Q}}function M(Y,j){for(var K,te,se=0;se<Y.length;se++)if(K=Y[se][0],te=K.trace,te.title.text){var Q=te.title.text;te._meta&&(Q=v.templateString(Q,te._meta));var ee=T.tester.append("text").attr("data-notex",1).text(Q).call(T.font,te.title.font).call(r.convertToTspans,j),le=T.bBox(ee.node(),!0);K.titleBox={width:le.width,height:le.height},ee.remove()}}function C(Y,j,K){var te=K.r||j.rpx1,se=j.rInscribed,Q=j.startangle===j.stopangle;if(Q)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var ee=j.ring,le=ee===1&&Math.abs(j.startangle-j.stopangle)===Math.PI*2,ie=j.halfangle,he=j.midangle,xe=K.trace.insidetextorientation,Se=xe==="horizontal",Ee=xe==="tangential",Ne=xe==="radial",He=xe==="auto",Ce=[],be;if(!He){var we=function(Ke,$e){if(m(j,Ke)){var vt=Math.abs(Ke-j.startangle),yt=Math.abs(Ke-j.stopangle),mt=vt<yt?vt:yt;$e==="tan"?be=x(Y,te,ee,mt,0):be=S(Y,te,ee,mt,Math.PI/2),be.textPosAngle=Ke,Ce.push(be)}},ke;if(Se||Ee){for(ke=4;ke>=-4;ke-=2)we(Math.PI*ke,"tan");for(ke=4;ke>=-4;ke-=2)we(Math.PI*(ke+1),"tan")}if(Se||Ne){for(ke=4;ke>=-4;ke-=2)we(Math.PI*(ke+1.5),"rad");for(ke=4;ke>=-4;ke-=2)we(Math.PI*(ke+.5),"rad")}}if(le||He||Se){var Fe=Math.sqrt(Y.width*Y.width+Y.height*Y.height);if(be={scale:se*te*2/Fe,rCenter:1-se,rotate:0},be.textPosAngle=(j.startangle+j.stopangle)/2,be.scale>=1)return be;Ce.push(be)}(He||Ne)&&(be=S(Y,te,ee,ie,he),be.textPosAngle=(j.startangle+j.stopangle)/2,Ce.push(be)),(He||Ee)&&(be=x(Y,te,ee,ie,he),be.textPosAngle=(j.startangle+j.stopangle)/2,Ce.push(be));for(var Pe=0,Ge=0,nt=0;nt<Ce.length;nt++){var qe=Ce[nt].scale;if(Ge<qe&&(Ge=qe,Pe=nt),!He&&Ge>=1)break}return Ce[Pe]}function m(Y,j){var K=Y.startangle,te=Y.stopangle;return K>j&&j>te||K<j&&j<te}function S(Y,j,K,te,se){j=Math.max(0,j-2*c);var Q=Y.width/Y.height,ee=w(Q,te,j,K);return{scale:ee*2/Y.height,rCenter:a(Q,ee/j),rotate:E(se)}}function x(Y,j,K,te,se){j=Math.max(0,j-2*c);var Q=Y.height/Y.width,ee=w(Q,te,j,K);return{scale:ee*2/Y.width,rCenter:a(Q,ee/j),rotate:E(se+Math.PI/2)}}function a(Y,j){return Math.cos(j)-Y*j}function E(Y){return(180/Math.PI*Y+720)%180-90}function w(Y,j,K,te){var se=Y+1/(2*Math.tan(j));return K*Math.min(1/(Math.sqrt(se*se+.5)+se),te/(Math.sqrt(Y*Y+te/2)+Y))}function k(Y,j){return Y.v===j.vTotal&&!j.trace.hole?1:Math.min(1/(1+1/Math.sin(Y.halfangle)),Y.ring/2)}function I(Y,j){var K=j.pxmid[0],te=j.pxmid[1],se=Y.width/2,Q=Y.height/2;return K<0&&(se*=-1),te<0&&(Q*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(Q)*(se>0?1:-1)/2,y:Q/(1+K*K/(te*te)),outside:!0}}function U(Y){var j=Math.sqrt(Y.titleBox.width*Y.titleBox.width+Y.titleBox.height*Y.titleBox.height);return{x:Y.cx,y:Y.cy,scale:Y.trace.hole*Y.r*2/j,tx:0,ty:-Y.titleBox.height/2+Y.trace.title.font.size}}function z(Y,j){var K=1,te=1,se,Q=Y.trace,ee={x:Y.cx,y:Y.cy},le={tx:0,ty:0};le.ty+=Q.title.font.size,se=F(Q),Q.title.position.indexOf("top")!==-1?(ee.y-=(1+se)*Y.r,le.ty-=Y.titleBox.height):Q.title.position.indexOf("bottom")!==-1&&(ee.y+=(1+se)*Y.r);var ie=N(Y.r,Y.trace.aspectratio),he=j.w*(Q.domain.x[1]-Q.domain.x[0])/2;return Q.title.position.indexOf("left")!==-1?(he=he+ie,ee.x-=(1+se)*ie,le.tx+=Y.titleBox.width/2):Q.title.position.indexOf("center")!==-1?he*=2:Q.title.position.indexOf("right")!==-1&&(he=he+ie,ee.x+=(1+se)*ie,le.tx-=Y.titleBox.width/2),K=he/Y.titleBox.width,te=B(Y,j)/Y.titleBox.height,{x:ee.x,y:ee.y,scale:Math.min(K,te),tx:le.tx,ty:le.ty}}function N(Y,j){return Y/(j===void 0?1:j)}function B(Y,j){var K=Y.trace,te=j.h*(K.domain.y[1]-K.domain.y[0]);return Math.min(Y.titleBox.height,te/2)}function F(Y){var j=Y.pull;if(!j)return 0;var K;if(Array.isArray(j))for(j=0,K=0;K<Y.pull.length;K++)Y.pull[K]>j&&(j=Y.pull[K]);return j}function H(Y,j){var K,te,se,Q,ee,le,ie,he,xe,Se,Ee,Ne,He;function Ce(Fe,Pe){return Fe.pxmid[1]-Pe.pxmid[1]}function be(Fe,Pe){return Pe.pxmid[1]-Fe.pxmid[1]}function we(Fe,Pe){Pe||(Pe={});var Ge=Pe.labelExtraY+(te?Pe.yLabelMax:Pe.yLabelMin),nt=te?Fe.yLabelMin:Fe.yLabelMax,qe=te?Fe.yLabelMax:Fe.yLabelMin,Ke=Fe.cyFinal+ee(Fe.px0[1],Fe.px1[1]),$e=Ge-nt,vt,yt,mt,Et,Xe,Ue;if($e*ie>0&&(Fe.labelExtraY=$e),!!Array.isArray(j.pull))for(yt=0;yt<Se.length;yt++)mt=Se[yt],!(mt===Fe||(u.castOption(j.pull,Fe.pts)||0)>=(u.castOption(j.pull,mt.pts)||0))&&((Fe.pxmid[1]-mt.pxmid[1])*ie>0?(Et=mt.cyFinal+ee(mt.px0[1],mt.px1[1]),$e=Et-nt-Fe.labelExtraY,$e*ie>0&&(Fe.labelExtraY+=$e)):(qe+Fe.labelExtraY-Ke)*ie>0&&(vt=3*le*Math.abs(yt-Se.indexOf(Fe)),Xe=mt.cxFinal+Q(mt.px0[0],mt.px1[0]),Ue=Xe+vt-(Fe.cxFinal+Fe.pxmid[0])-Fe.labelExtraX,Ue*le>0&&(Fe.labelExtraX+=Ue)))}for(te=0;te<2;te++)for(se=te?Ce:be,ee=te?Math.max:Math.min,ie=te?1:-1,K=0;K<2;K++){for(Q=K?Math.max:Math.min,le=K?1:-1,he=Y[te][K],he.sort(se),xe=Y[1-te][K],Se=xe.concat(he),Ne=[],Ee=0;Ee<he.length;Ee++)he[Ee].yLabelMid!==void 0&&Ne.push(he[Ee]);for(He=!1,Ee=0;te&&Ee<xe.length;Ee++)if(xe[Ee].yLabelMid!==void 0){He=xe[Ee];break}for(Ee=0;Ee<Ne.length;Ee++){var ke=Ee&&Ne[Ee-1];He&&!Ee&&(ke=He),we(Ne[Ee],ke)}}}function X(Y,j){for(var K=[],te=0;te<Y.length;te++){var se=Y[te][0],Q=se.trace,ee=Q.domain,le=j.w*(ee.x[1]-ee.x[0]),ie=j.h*(ee.y[1]-ee.y[0]);Q.title.text&&Q.title.position!=="middle center"&&(ie-=B(se,j));var he=le/2,xe=ie/2;Q.type==="funnelarea"&&!Q.scalegroup&&(xe/=Q.aspectratio),se.r=Math.min(he,xe)/(1+F(Q)),se.cx=j.l+j.w*(Q.domain.x[1]+Q.domain.x[0])/2,se.cy=j.t+j.h*(1-Q.domain.y[0])-ie/2,Q.title.text&&Q.title.position.indexOf("bottom")!==-1&&(se.cy-=B(se,j)),Q.scalegroup&&K.indexOf(Q.scalegroup)===-1&&K.push(Q.scalegroup)}q(Y,K)}function q(Y,j){for(var K,te,se,Q=0;Q<j.length;Q++){var ee=1/0,le=j[Q];for(te=0;te<Y.length;te++)if(K=Y[te][0],se=K.trace,se.scalegroup===le){var ie;if(se.type==="pie")ie=K.r*K.r;else if(se.type==="funnelarea"){var he,xe;se.aspectratio>1?(he=K.r,xe=he/se.aspectratio):(xe=K.r,he=xe*se.aspectratio),he*=(1+se.baseratio)/2,ie=he*xe}ee=Math.min(ee,ie/K.vTotal)}for(te=0;te<Y.length;te++)if(K=Y[te][0],se=K.trace,se.scalegroup===le){var Se=ee*K.vTotal;se.type==="funnelarea"&&(Se/=(1+se.baseratio)/2,Se/=se.aspectratio),K.r=Math.sqrt(Se)}}}function ne(Y){var j=Y[0],K=j.r,te=j.trace,se=u.getRotationAngle(te.rotation),Q=2*Math.PI/j.vTotal,ee="px0",le="px1",ie,he,xe;if(te.direction==="counterclockwise"){for(ie=0;ie<Y.length&&Y[ie].hidden;ie++);if(ie===Y.length)return;se+=Q*Y[ie].v,Q*=-1,ee="px1",le="px0"}for(xe=oe(K,se),ie=0;ie<Y.length;ie++)he=Y[ie],!he.hidden&&(he[ee]=xe,he.startangle=se,se+=Q*he.v/2,he.pxmid=oe(K,se),he.midangle=se,se+=Q*he.v/2,xe=oe(K,se),he.stopangle=se,he[le]=xe,he.largeArc=he.v>j.vTotal/2?1:0,he.halfangle=Math.PI*Math.min(he.v/j.vTotal,.5),he.ring=1-te.hole,he.rInscribed=k(he,j))}function oe(Y,j){return[Y*Math.sin(j),-Y*Math.cos(j)]}function ve(Y,j,K){var te=Y._fullLayout,se=K.trace,Q=se.texttemplate,ee=se.textinfo;if(!Q&&ee&&ee!=="none"){var le=ee.split("+"),ie=function(Pe){return le.indexOf(Pe)!==-1},he=ie("label"),xe=ie("text"),Se=ie("value"),Ee=ie("percent"),Ne=te.separators,He;if(He=he?[j.label]:[],xe){var Ce=u.getFirstFilled(se.text,j.pts);h(Ce)&&He.push(Ce)}Se&&He.push(u.formatPieValue(j.v,Ne)),Ee&&He.push(u.formatPiePercent(j.v/K.vTotal,Ne)),j.text=He.join("<br>")}function be(Pe){return{label:Pe.label,value:Pe.v,valueLabel:u.formatPieValue(Pe.v,te.separators),percent:Pe.v/K.vTotal,percentLabel:u.formatPiePercent(Pe.v/K.vTotal,te.separators),color:Pe.color,text:Pe.text,customdata:v.castOption(se,Pe.i,"customdata")}}if(Q){var we=v.castOption(se,j.i,"texttemplate");if(!we)j.text="";else{var ke=be(j),Fe=u.getFirstFilled(se.text,j.pts);(h(Fe)||Fe==="")&&(ke.text=Fe),j.text=v.texttemplateString(we,ke,Y._fullLayout._d3locale,ke,se._meta||{})}}}function J(Y,j){var K=Y.rotate*Math.PI/180,te=Math.cos(K),se=Math.sin(K),Q=(j.left+j.right)/2,ee=(j.top+j.bottom)/2;Y.textX=Q*te-ee*se,Y.textY=Q*se+ee*te,Y.noCenter=!0}G.exports={plot:b,formatSliceLabel:ve,transformInsideText:C,determineInsideTextFont:A,positionTitleOutside:z,prerenderTitles:M,layoutAreas:X,attachFxHandlers:o,computeTransform:J}},68357:function(G,V,e){var g=e(39898),R=e(63463),i=e(72597).resizeText;G.exports=function(T){var v=T._fullLayout._pielayer.selectAll(".trace");i(T,v,"pie"),v.each(function(p){var t=p[0],r=t.trace,l=g.select(this);l.style({opacity:r.opacity}),l.selectAll("path.surface").each(function(n){g.select(this).call(R,n,r,T)})})}},63463:function(G,V,e){var g=e(7901),R=e(53581).castOption,i=e(22209);G.exports=function(T,v,p,t){var r=p.marker.line,l=R(r.color,v.pts)||g.defaultLine,n=R(r.width,v.pts)||0;T.call(i,v,p,t).style("stroke-width",n).call(g.stroke,l)}},10959:function(G,V,e){var g=e(82196);G.exports={x:g.x,y:g.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:g.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(G,V,e){var g=e(9330).gl_pointcloud2d,R=e(78614),i=e(71739).findExtremes,L=e(34603);function T(t,r){this.scene=t,this.uid=r,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=g(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var v=T.prototype;v.handlePick=function(t){var r=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[r*2],this.pickXYData[r*2+1]]:[this.pickXData[r],this.pickYData[r]],textLabel:Array.isArray(this.textLabels)?this.textLabels[r]:this.textLabels,color:this.color,name:this.name,pointIndex:r,hoverinfo:this.hoverinfo}},v.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=L(t,{})},v.updateFast=function(t){var r=this.xData=this.pickXData=t.x,l=this.yData=this.pickYData=t.y,n=this.pickXYData=t.xy,s=t.xbounds&&t.ybounds,c=t.indices,u,y,h,b=this.bounds,f,o,d;if(n){if(h=n,u=n.length>>>1,s)b[0]=t.xbounds[0],b[2]=t.xbounds[1],b[1]=t.ybounds[0],b[3]=t.ybounds[1];else for(d=0;d<u;d++)f=h[d*2],o=h[d*2+1],f<b[0]&&(b[0]=f),f>b[2]&&(b[2]=f),o<b[1]&&(b[1]=o),o>b[3]&&(b[3]=o);if(c)y=c;else for(y=new Int32Array(u),d=0;d<u;d++)y[d]=d}else for(u=r.length,h=new Float32Array(2*u),y=new Int32Array(u),d=0;d<u;d++)f=r[d],o=l[d],y[d]=d,h[d*2]=f,h[d*2+1]=o,f<b[0]&&(b[0]=f),f>b[2]&&(b[2]=f),o<b[1]&&(b[1]=o),o>b[3]&&(b[3]=o);this.idToIndex=y,this.pointcloudOptions.idToIndex=y,this.pointcloudOptions.positions=h;var A=R(t.marker.color),M=R(t.marker.border.color),C=t.opacity*t.marker.opacity;A[3]*=C,this.pointcloudOptions.color=A;var m=t.marker.blend;if(m===null){var S=100;m=r.length<S||l.length<S}this.pointcloudOptions.blend=m,M[3]*=C,this.pointcloudOptions.borderColor=M;var x=t.marker.sizemin,a=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=x,this.pointcloudOptions.sizeMax=a,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var E=this.scene.xaxis,w=this.scene.yaxis,k=a/2||.5;t._extremes[E._id]=i(E,[b[0],b[2]],{ppad:k}),t._extremes[w._id]=i(w,[b[1],b[3]],{ppad:k})},v.dispose=function(){this.pointcloud.dispose()};function p(t,r){var l=new T(t,r.uid);return l.update(r),l}G.exports=p},33876:function(G,V,e){var g=e(71828),R=e(10959);G.exports=function(L,T,v){function p(t,r){return g.coerce(L,T,R,t,r)}p("x"),p("y"),p("xbounds"),p("ybounds"),L.xy&&L.xy instanceof Float32Array&&(T.xy=L.xy),L.indices&&L.indices instanceof Int32Array&&(T.indices=L.indices),p("text"),p("marker.color",v),p("marker.opacity"),p("marker.blend"),p("marker.sizemin"),p("marker.sizemax"),p("marker.border.color",v),p("marker.border.arearatio"),T._length=null}},20593:function(G,V,e){G.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(G,V,e){var g=e(41940),R=e(9012),i=e(22399),L=e(77914),T=e(27670).Y,v=e(5386).fF,p=e(50693),t=e(44467).templatedArray,r=e(12663).descriptionOnlyNumbers,l=e(1426).extendFlat,n=e(30962).overrideAll,s=G.exports=n({hoverinfo:l({},R.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:L.hoverlabel,domain:T({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:r("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:g({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:L.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:l(p().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");s.transforms=void 0},75536:function(G,V,e){var g=e(30962).overrideAll,R=e(27659).a0,i=e(60436),L=e(528),T=e(6964),v=e(28569),p=e(47322).prepSelect,t=e(71828),r=e(73972),l="sankey";V.name=l,V.baseLayoutAttrOverrides=g({hoverlabel:L.hoverlabel},"plot","nested"),V.plot=function(s){var c=R(s.calcdata,l)[0];i(s,c),V.updateFx(s)},V.clean=function(s,c,u,y){var h=y._has&&y._has(l),b=c._has&&c._has(l);h&&!b&&(y._paperdiv.selectAll(".sankey").remove(),y._paperdiv.selectAll(".bgsankey").remove())},V.updateFx=function(s){for(var c=0;c<s._fullData.length;c++)n(s,c)};function n(s,c){var u=s._fullData[c],y=s._fullLayout,h=y.dragmode,b=y.dragmode==="pan"?"move":"crosshair",f=u._bgRect;if(f&&!(h==="pan"||h==="zoom")){T(f,b);var o={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},d={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},A={gd:s,element:f.node(),plotinfo:{id:c,xaxis:o,yaxis:d,fillRangeItems:t.noop},subplot:c,xaxes:[o],yaxes:[d],doneFnCompleted:function(M){var C=s._fullData[c],m,S=C.node.groups.slice(),x=[];function a(I){for(var U=C._sankey.graph.nodes,z=0;z<U.length;z++)if(U[z].pointNumber===I)return U[z]}for(var E=0;E<M.length;E++){var w=a(M[E].pointNumber);if(w)if(w.group){for(var k=0;k<w.childrenNodes.length;k++)x.push(w.childrenNodes[k].pointNumber);S[w.pointNumber-C.node._count]=!1}else x.push(w.pointNumber)}m=S.filter(Boolean).concat([x]),r.call("_guiRestyle",s,{"node.groups":[m]},c)}};A.prepFn=function(M,C,m){p(M,C,m,A,h)},v.init(A)}}},92930:function(G,V,e){var g=e(68664),R=e(71828),i=e(28984).wrap,L=R.isArrayOrTypedArray,T=R.isIndex,v=e(21081);function p(r){var l=r.node,n=r.link,s=[],c=L(n.color),u=L(n.customdata),y={},h={},b=n.colorscales.length,f;for(f=0;f<b;f++){var o=n.colorscales[f],d=v.extractScale(o,{cLetter:"c"}),A=v.makeColorScaleFunc(d);h[o.label]=A}var M=0;for(f=0;f<n.value.length;f++)n.source[f]>M&&(M=n.source[f]),n.target[f]>M&&(M=n.target[f]);var C=M+1;r.node._count=C;var m,S=r.node.groups,x={};for(f=0;f<S.length;f++){var a=S[f];for(m=0;m<a.length;m++){var E=a[m],w=C+f;x.hasOwnProperty(E)?R.warn("Node "+E+" is already part of a group."):x[E]=w}}var k={source:[],target:[]};for(f=0;f<n.value.length;f++){var I=n.value[f],U=n.source[f],z=n.target[f];if(I>0&&T(U,C)&&T(z,C)&&!(x.hasOwnProperty(U)&&x.hasOwnProperty(z)&&x[U]===x[z])){x.hasOwnProperty(z)&&(z=x[z]),x.hasOwnProperty(U)&&(U=x[U]),U=+U,z=+z,y[U]=y[z]=!0;var N="";n.label&&n.label[f]&&(N=n.label[f]);var B=null;N&&h.hasOwnProperty(N)&&(B=h[N]),s.push({pointNumber:f,label:N,color:c?n.color[f]:n.color,customdata:u?n.customdata[f]:n.customdata,concentrationscale:B,source:U,target:z,value:+I}),k.source.push(U),k.target.push(z)}}var F=C+S.length,H=L(l.color),X=L(l.customdata),q=[];for(f=0;f<F;f++)if(y[f]){var ne=l.label[f];q.push({group:f>C-1,childrenNodes:[],pointNumber:f,label:ne,color:H?l.color[f]:l.color,customdata:X?l.customdata[f]:l.customdata})}var oe=!1;return t(F,k.source,k.target)&&(oe=!0),{circular:oe,links:s,nodes:q,groups:S,groupLookup:x}}function t(r,l,n){for(var s=R.init2dArray(r,0),c=0;c<Math.min(l.length,n.length);c++)if(R.isIndex(l[c],r)&&R.isIndex(n[c],r)){if(l[c]===n[c])return!0;s[l[c]].push(n[c])}var u=g(s);return u.components.some(function(y){return y.length>1})}G.exports=function(l,n){var s=p(n);return i({circular:s.circular,_nodes:s.nodes,_links:s.links,_groups:s.groups,_groupLookup:s.groupLookup})}},85247:function(G){G.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(G,V,e){var g=e(71828),R=e(39953),i=e(7901),L=e(84267),T=e(27670).c,v=e(38048),p=e(44467),t=e(85501);G.exports=function(n,s,c,u){function y(a,E){return g.coerce(n,s,R,a,E)}var h=g.extendDeep(u.hoverlabel,n.hoverlabel),b=n.node,f=p.newContainer(s,"node");function o(a,E){return g.coerce(b,f,R.node,a,E)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",n.hoverinfo),v(b,f,o,h),o("hovertemplate");var d=u.colorway,A=function(a){return d[a%d.length]};o("color",f.label.map(function(a,E){return i.addOpacity(A(E),.8)})),o("customdata");var M=n.link||{},C=p.newContainer(s,"link");function m(a,E){return g.coerce(M,C,R.link,a,E)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",n.hoverinfo),v(M,C,m,h),m("hovertemplate");var S=L(u.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";m("color",g.repeat(S,C.value.length)),m("customdata"),t(M,C,{name:"colorscales",handleItemDefaults:r}),T(s,u,y),y("orientation"),y("valueformat"),y("valuesuffix");var x;f.x.length&&f.y.length&&(x="freeform"),y("arrangement",x),g.coerceFont(y,"textfont",g.extendFlat({},u.font)),s._length=null};function r(l,n){function s(c,u){return g.coerce(l,n,R.link.colorscales,c,u)}s("label"),s("cmin"),s("cmax"),s("colorscale")}},29396:function(G,V,e){G.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(G,V,e){var g=e(39898),R=e(71828),i=R.numberFormat,L=e(3393),T=e(30211),v=e(7901),p=e(85247).cn,t=R._;function r(d){return d!==""}function l(d,A){return d.filter(function(M){return M.key===A.traceId})}function n(d,A){g.select(d).select("path").style("fill-opacity",A),g.select(d).select("rect").style("fill-opacity",A)}function s(d){g.select(d).select("text.name").style("fill","black")}function c(d){return function(A){return d.node.sourceLinks.indexOf(A.link)!==-1||d.node.targetLinks.indexOf(A.link)!==-1}}function u(d){return function(A){return A.node.sourceLinks.indexOf(d.link)!==-1||A.node.targetLinks.indexOf(d.link)!==-1}}function y(d,A,M){A&&M&&l(M,A).selectAll("."+p.sankeyLink).filter(c(A)).call(b.bind(0,A,M,!1))}function h(d,A,M){A&&M&&l(M,A).selectAll("."+p.sankeyLink).filter(c(A)).call(f.bind(0,A,M,!1))}function b(d,A,M,C){var m=C.datum().link.label;C.style("fill-opacity",function(S){if(!S.link.concentrationscale)return .4}),m&&l(A,d).selectAll("."+p.sankeyLink).filter(function(S){return S.link.label===m}).style("fill-opacity",function(S){if(!S.link.concentrationscale)return .4}),M&&l(A,d).selectAll("."+p.sankeyNode).filter(u(d)).call(y)}function f(d,A,M,C){var m=C.datum().link.label;C.style("fill-opacity",function(S){return S.tinyColorAlpha}),m&&l(A,d).selectAll("."+p.sankeyLink).filter(function(S){return S.link.label===m}).style("fill-opacity",function(S){return S.tinyColorAlpha}),M&&l(A,d).selectAll(p.sankeyNode).filter(u(d)).call(h)}function o(d,A){var M=d.hoverlabel||{},C=R.nestedProperty(M,A).get();return Array.isArray(C)?!1:C}G.exports=function(A,M){for(var C=A._fullLayout,m=C._paper,S=C._size,x=0;x<A._fullData.length;x++)if(A._fullData[x].visible&&A._fullData[x].type===p.sankey&&!A._fullData[x]._viewInitial){var a=A._fullData[x].node;A._fullData[x]._viewInitial={node:{groups:a.groups.slice(),x:a.x.slice(),y:a.y.slice()}}}var E=function(oe,ve){var J=ve.link;J.originalEvent=g.event,A._hoverdata=[J],T.click(A,{target:!0})},w=function(oe,ve,J){A._fullLayout.hovermode!==!1&&(g.select(oe).call(b.bind(0,ve,J,!0)),ve.link.trace.link.hoverinfo!=="skip"&&(ve.link.fullData=ve.link.trace,A.emit("plotly_hover",{event:g.event,points:[ve.link]})))},k=t(A,"source:")+" ",I=t(A,"target:")+" ",U=t(A,"concentration:")+" ",z=t(A,"incoming flow count:")+" ",N=t(A,"outgoing flow count:")+" ",B=function(oe,ve){if(A._fullLayout.hovermode===!1)return;var J=ve.link.trace.link;if(J.hoverinfo==="none"||J.hoverinfo==="skip")return;var Y=[];function j(ie){var he,xe;ie.circular?(he=(ie.circularPathData.leftInnerExtent+ie.circularPathData.rightInnerExtent)/2,xe=ie.circularPathData.verticalFullExtent):(he=(ie.source.x1+ie.target.x0)/2,xe=(ie.y0+ie.y1)/2);var Se=[he,xe];return ie.trace.orientation==="v"&&Se.reverse(),Se[0]+=ve.parent.translateX,Se[1]+=ve.parent.translateY,Se}for(var K=0,te=0;te<ve.flow.links.length;te++){var se=ve.flow.links[te];if(!(A._fullLayout.hovermode==="closest"&&ve.link.pointNumber!==se.pointNumber)){ve.link.pointNumber===se.pointNumber&&(K=te),se.fullData=se.trace,J=ve.link.trace.link;var Q=j(se),ee={valueLabel:i(ve.valueFormat)(se.value)+ve.valueSuffix};Y.push({x:Q[0],y:Q[1],name:ee.valueLabel,text:[se.label||"",k+se.source.label,I+se.target.label,se.concentrationscale?U+i("%0.2f")(se.flow.labelConcentration):""].filter(r).join("<br>"),color:o(J,"bgcolor")||v.addOpacity(se.color,1),borderColor:o(J,"bordercolor"),fontFamily:o(J,"font.family"),fontSize:o(J,"font.size"),fontColor:o(J,"font.color"),nameLength:o(J,"namelength"),textAlign:o(J,"align"),idealAlign:g.event.x<Q[0]?"right":"left",hovertemplate:J.hovertemplate,hovertemplateLabels:ee,eventData:[se]})}}var le=T.loneHover(Y,{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:A,anchorIndex:K});le.each(function(){var ie=this;ve.link.concentrationscale||n(ie,.65),s(ie)})},F=function(oe,ve,J){A._fullLayout.hovermode!==!1&&(g.select(oe).call(f.bind(0,ve,J,!0)),ve.link.trace.link.hoverinfo!=="skip"&&(ve.link.fullData=ve.link.trace,A.emit("plotly_unhover",{event:g.event,points:[ve.link]})),T.loneUnhover(C._hoverlayer.node()))},H=function(oe,ve,J){var Y=ve.node;Y.originalEvent=g.event,A._hoverdata=[Y],g.select(oe).call(h,ve,J),T.click(A,{target:!0})},X=function(oe,ve,J){A._fullLayout.hovermode!==!1&&(g.select(oe).call(y,ve,J),ve.node.trace.node.hoverinfo!=="skip"&&(ve.node.fullData=ve.node.trace,A.emit("plotly_hover",{event:g.event,points:[ve.node]})))},q=function(oe,ve){if(A._fullLayout.hovermode!==!1){var J=ve.node.trace.node;if(!(J.hoverinfo==="none"||J.hoverinfo==="skip")){var Y=g.select(oe).select("."+p.nodeRect),j=A._fullLayout._paperdiv.node().getBoundingClientRect(),K=Y.node().getBoundingClientRect(),te=K.left-2-j.left,se=K.right+2-j.left,Q=K.top+K.height/4-j.top,ee={valueLabel:i(ve.valueFormat)(ve.node.value)+ve.valueSuffix};ve.node.fullData=ve.node.trace,A._fullLayout._calcInverseTransform(A);var le=A._fullLayout._invScaleX,ie=A._fullLayout._invScaleY,he=T.loneHover({x0:le*te,x1:le*se,y:ie*Q,name:i(ve.valueFormat)(ve.node.value)+ve.valueSuffix,text:[ve.node.label,z+ve.node.targetLinks.length,N+ve.node.sourceLinks.length].filter(r).join("<br>"),color:o(J,"bgcolor")||ve.tinyColorHue,borderColor:o(J,"bordercolor"),fontFamily:o(J,"font.family"),fontSize:o(J,"font.size"),fontColor:o(J,"font.color"),nameLength:o(J,"namelength"),textAlign:o(J,"align"),idealAlign:"left",hovertemplate:J.hovertemplate,hovertemplateLabels:ee,eventData:[ve.node]},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:A});n(he,.85),s(he)}}},ne=function(oe,ve,J){A._fullLayout.hovermode!==!1&&(g.select(oe).call(h,ve,J),ve.node.trace.node.hoverinfo!=="skip"&&(ve.node.fullData=ve.node.trace,A.emit("plotly_unhover",{event:g.event,points:[ve.node]})),T.loneUnhover(C._hoverlayer.node()))};L(A,m,M,{width:S.w,height:S.h,margin:{t:S.t,r:S.r,b:S.b,l:S.l}},{linkEvents:{hover:w,follow:B,unhover:F,select:E},nodeEvents:{hover:X,follow:q,unhover:ne,select:H}})}},3393:function(G,V,e){var g=e(49887),R=e(81684).k4,i=e(39898),L=e(30838),T=e(86781),v=e(85247),p=e(84267),t=e(7901),r=e(91424),l=e(71828),n=l.strTranslate,s=l.strRotate,c=e(28984),u=c.keyFun,y=c.repeat,h=c.unwrap,b=e(63893),f=e(73972),o=e(18783),d=o.CAP_SHIFT,A=o.LINE_SPACING,M=3;function C(j,K,te){var se=h(K),Q=se.trace,ee=Q.domain,le=Q.orientation==="h",ie=Q.node.pad,he=Q.node.thickness,xe=j.width*(ee.x[1]-ee.x[0]),Se=j.height*(ee.y[1]-ee.y[0]),Ee=se._nodes,Ne=se._links,He=se.circular,Ce;He?Ce=T.sankeyCircular().circularLinkGap(0):Ce=L.sankey(),Ce.iterations(v.sankeyIterations).size(le?[xe,Se]:[Se,xe]).nodeWidth(he).nodePadding(ie).nodeId(function(Xe){return Xe.pointNumber}).nodes(Ee).links(Ne);var be=Ce();Ce.nodePadding()<ie&&l.warn("node.pad was reduced to ",Ce.nodePadding()," to fit within the figure.");var we,ke,Fe;for(var Pe in se._groupLookup){var Ge=parseInt(se._groupLookup[Pe]),nt;for(we=0;we<be.nodes.length;we++)if(be.nodes[we].pointNumber===Ge){nt=be.nodes[we];break}if(nt){var qe={pointNumber:parseInt(Pe),x0:nt.x0,x1:nt.x1,y0:nt.y0,y1:nt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};be.nodes.unshift(qe),nt.childrenNodes.unshift(qe)}}function Ke(){for(we=0;we<be.nodes.length;we++){var Xe=be.nodes[we],Ue={},Be,rt;for(ke=0;ke<Xe.targetLinks.length;ke++)rt=Xe.targetLinks[ke],Be=rt.source.pointNumber+":"+rt.target.pointNumber,Ue.hasOwnProperty(Be)||(Ue[Be]=[]),Ue[Be].push(rt);var it=Object.keys(Ue);for(ke=0;ke<it.length;ke++){Be=it[ke];var Ye=Ue[Be],De=0,Te={};for(Fe=0;Fe<Ye.length;Fe++)rt=Ye[Fe],Te[rt.label]||(Te[rt.label]=0),Te[rt.label]+=rt.value,De+=rt.value;for(Fe=0;Fe<Ye.length;Fe++)rt=Ye[Fe],rt.flow={value:De,labelConcentration:Te[rt.label]/De,concentration:rt.value/De,links:Ye},rt.concentrationscale&&(rt.color=p(rt.concentrationscale(rt.flow.labelConcentration)))}var fe=0;for(ke=0;ke<Xe.sourceLinks.length;ke++)fe+=Xe.sourceLinks[ke].value;for(ke=0;ke<Xe.sourceLinks.length;ke++)rt=Xe.sourceLinks[ke],rt.concentrationOut=rt.value/fe;var me=0;for(ke=0;ke<Xe.targetLinks.length;ke++)me+=Xe.targetLinks[ke].value;for(ke=0;ke<Xe.targetLinks.length;ke++)rt=Xe.targetLinks[ke],rt.concenrationIn=rt.value/me}}Ke();function $e(Xe){Xe.forEach(function(Ue){var Be,rt,it=0,Ye=Ue.length,De;for(Ue.sort(function(Te,fe){return Te.y0-fe.y0}),De=0;De<Ye;++De)Be=Ue[De],Be.y0>=it||(rt=it-Be.y0,rt>1e-6&&(Be.y0+=rt,Be.y1+=rt)),it=Be.y1+ie})}function vt(Xe){var Ue=Xe.map(function(fe,me){return{x0:fe.x0,index:me}}).sort(function(fe,me){return fe.x0-me.x0}),Be=[],rt=-1,it,Ye=-1/0,De;for(we=0;we<Ue.length;we++){var Te=Xe[Ue[we].index];Te.x0>Ye+he&&(rt+=1,it=Te.x0),Ye=Te.x0,Be[rt]||(Be[rt]=[]),Be[rt].push(Te),De=it-Te.x0,Te.x0+=De,Te.x1+=De}return Be}if(Q.node.x.length&&Q.node.y.length){for(we=0;we<Math.min(Q.node.x.length,Q.node.y.length,be.nodes.length);we++)if(Q.node.x[we]&&Q.node.y[we]){var yt=[Q.node.x[we]*xe,Q.node.y[we]*Se];be.nodes[we].x0=yt[0]-he/2,be.nodes[we].x1=yt[0]+he/2;var mt=be.nodes[we].y1-be.nodes[we].y0;be.nodes[we].y0=yt[1]-mt/2,be.nodes[we].y1=yt[1]+mt/2}if(Q.arrangement==="snap"){Ee=be.nodes;var Et=vt(Ee);$e(Et)}Ce.update(be)}return{circular:He,key:te,trace:Q,guid:l.randstr(),horizontal:le,width:xe,height:Se,nodePad:Q.node.pad,nodeLineColor:Q.node.line.color,nodeLineWidth:Q.node.line.width,linkLineColor:Q.link.line.color,linkLineWidth:Q.link.line.width,linkArrowLength:Q.link.arrowlen,valueFormat:Q.valueformat,valueSuffix:Q.valuesuffix,textFont:Q.textfont,translateX:ee.x[0]*j.width+j.margin.l,translateY:j.height-ee.y[1]*j.height+j.margin.t,dragParallel:le?Se:xe,dragPerpendicular:le?xe:Se,arrangement:Q.arrangement,sankey:Ce,graph:be,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function m(j,K,te){var se=p(K.color),Q=K.source.label+"|"+K.target.label,ee=Q+"__"+te;return K.trace=j.trace,K.curveNumber=j.trace.index,{circular:j.circular,key:ee,traceId:j.key,pointNumber:K.pointNumber,link:K,tinyColorHue:t.tinyRGB(se),tinyColorAlpha:se.getAlpha(),linkPath:x,linkLineColor:j.linkLineColor,linkLineWidth:j.linkLineWidth,linkArrowLength:j.linkArrowLength,valueFormat:j.valueFormat,valueSuffix:j.valueSuffix,sankey:j.sankey,parent:j,interactionState:j.interactionState,flow:K.flow}}function S(j,K){var te="",se=j.width/2,Q=j.circularPathData;return j.circularLinkType==="top"?te="M "+(Q.targetX-K)+" "+(Q.targetY+se)+" L"+(Q.rightInnerExtent-K)+" "+(Q.targetY+se)+"A"+(Q.rightLargeArcRadius+se)+" "+(Q.rightSmallArcRadius+se)+" 0 0 1 "+(Q.rightFullExtent-se-K)+" "+(Q.targetY-Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-se-K)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+se)+" "+(Q.rightLargeArcRadius+se)+" 0 0 1 "+(Q.rightInnerExtent-K)+" "+(Q.verticalFullExtent-se)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent-se)+"A"+(Q.leftLargeArcRadius+se)+" "+(Q.leftLargeArcRadius+se)+" 0 0 1 "+(Q.leftFullExtent+se)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+se)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+se)+" "+(Q.leftSmallArcRadius+se)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.sourceY+se)+"L"+Q.sourceX+" "+(Q.sourceY+se)+"L"+Q.sourceX+" "+(Q.sourceY-se)+"L"+Q.leftInnerExtent+" "+(Q.sourceY-se)+"A"+(Q.leftLargeArcRadius-se)+" "+(Q.leftSmallArcRadius-se)+" 0 0 0 "+(Q.leftFullExtent-se)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-se)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-se)+" "+(Q.leftLargeArcRadius-se)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent+se)+"L"+(Q.rightInnerExtent-K)+" "+(Q.verticalFullExtent+se)+"A"+(Q.rightLargeArcRadius-se)+" "+(Q.rightLargeArcRadius-se)+" 0 0 0 "+(Q.rightFullExtent+se-K)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+se-K)+" "+(Q.targetY-Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-se)+" "+(Q.rightSmallArcRadius-se)+" 0 0 0 "+(Q.rightInnerExtent-K)+" "+(Q.targetY-se)+"L"+(Q.targetX-K)+" "+(Q.targetY-se)+(K>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z":te="M "+(Q.targetX-K)+" "+(Q.targetY-se)+" L"+(Q.rightInnerExtent-K)+" "+(Q.targetY-se)+"A"+(Q.rightLargeArcRadius+se)+" "+(Q.rightSmallArcRadius+se)+" 0 0 0 "+(Q.rightFullExtent-se-K)+" "+(Q.targetY+Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-se-K)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+se)+" "+(Q.rightLargeArcRadius+se)+" 0 0 0 "+(Q.rightInnerExtent-K)+" "+(Q.verticalFullExtent+se)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent+se)+"A"+(Q.leftLargeArcRadius+se)+" "+(Q.leftLargeArcRadius+se)+" 0 0 0 "+(Q.leftFullExtent+se)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+se)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+se)+" "+(Q.leftSmallArcRadius+se)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.sourceY-se)+"L"+Q.sourceX+" "+(Q.sourceY-se)+"L"+Q.sourceX+" "+(Q.sourceY+se)+"L"+Q.leftInnerExtent+" "+(Q.sourceY+se)+"A"+(Q.leftLargeArcRadius-se)+" "+(Q.leftSmallArcRadius-se)+" 0 0 1 "+(Q.leftFullExtent-se)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-se)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-se)+" "+(Q.leftLargeArcRadius-se)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent-se)+"L"+(Q.rightInnerExtent-K)+" "+(Q.verticalFullExtent-se)+"A"+(Q.rightLargeArcRadius-se)+" "+(Q.rightLargeArcRadius-se)+" 0 0 1 "+(Q.rightFullExtent+se-K)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+se-K)+" "+(Q.targetY+Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-se)+" "+(Q.rightSmallArcRadius-se)+" 0 0 1 "+(Q.rightInnerExtent-K)+" "+(Q.targetY+se)+"L"+(Q.targetX-K)+" "+(Q.targetY+se)+(K>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z",te}function x(){var j=.5;function K(te){var se=te.linkArrowLength;if(te.link.circular)return S(te.link,se);var Q=Math.abs((te.link.target.x0-te.link.source.x1)/2);se>Q&&(se=Q);var ee=te.link.source.x1,le=te.link.target.x0-se,ie=R(ee,le),he=ie(j),xe=ie(1-j),Se=te.link.y0-te.link.width/2,Ee=te.link.y0+te.link.width/2,Ne=te.link.y1-te.link.width/2,He=te.link.y1+te.link.width/2,Ce="M"+ee+","+Se,be="C"+he+","+Se+" "+xe+","+Ne+" "+le+","+Ne,we="C"+xe+","+He+" "+he+","+Ee+" "+ee+","+Ee,ke=se>0?"L"+(le+se)+","+(Ne+te.link.width/2):"";return ke+="L"+le+","+He,Ce+be+ke+we+"Z"}return K}function a(j,K){var te=p(K.color),se=v.nodePadAcross,Q=j.nodePad/2;K.dx=K.x1-K.x0,K.dy=K.y1-K.y0;var ee=K.dx,le=Math.max(.5,K.dy),ie="node_"+K.pointNumber;return K.group&&(ie=l.randstr()),K.trace=j.trace,K.curveNumber=j.trace.index,{index:K.pointNumber,key:ie,partOfGroup:K.partOfGroup||!1,group:K.group,traceId:j.key,trace:j.trace,node:K,nodePad:j.nodePad,nodeLineColor:j.nodeLineColor,nodeLineWidth:j.nodeLineWidth,textFont:j.textFont,size:j.horizontal?j.height:j.width,visibleWidth:Math.ceil(ee),visibleHeight:le,zoneX:-se,zoneY:-Q,zoneWidth:ee+2*se,zoneHeight:le+2*Q,labelY:j.horizontal?K.dy/2+1:K.dx/2+1,left:K.originalLayer===1,sizeAcross:j.width,forceLayouts:j.forceLayouts,horizontal:j.horizontal,darkBackground:te.getBrightness()<=128,tinyColorHue:t.tinyRGB(te),tinyColorAlpha:te.getAlpha(),valueFormat:j.valueFormat,valueSuffix:j.valueSuffix,sankey:j.sankey,graph:j.graph,arrangement:j.arrangement,uniqueNodeLabelPathId:[j.guid,j.key,ie].join("_"),interactionState:j.interactionState,figure:j}}function E(j){j.attr("transform",function(K){return n(K.node.x0.toFixed(3),K.node.y0.toFixed(3))})}function w(j){j.call(E)}function k(j,K){j.call(w),K.attr("d",x())}function I(j){j.attr("width",function(K){return K.node.x1-K.node.x0}).attr("height",function(K){return K.visibleHeight})}function U(j){return j.link.width>1||j.linkLineWidth>0}function z(j){var K=n(j.translateX,j.translateY);return K+(j.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function N(j,K,te){j.on(".basic",null).on("mouseover.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(te.hover(this,se,K),se.interactionState.hovered=[this,se])}).on("mousemove.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(te.follow(this,se),se.interactionState.hovered=[this,se])}).on("mouseout.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(te.unhover(this,se,K),se.interactionState.hovered=!1)}).on("click.basic",function(se){se.interactionState.hovered&&(te.unhover(this,se,K),se.interactionState.hovered=!1),!se.interactionState.dragInProgress&&!se.partOfGroup&&te.select(this,se,K)})}function B(j,K,te,se){var Q=i.behavior.drag().origin(function(ee){return{x:ee.node.x0+ee.visibleWidth/2,y:ee.node.y0+ee.visibleHeight/2}}).on("dragstart",function(ee){if(ee.arrangement!=="fixed"&&(l.ensureSingle(se._fullLayout._infolayer,"g","dragcover",function(ie){se._fullLayout._dragCover=ie}),l.raiseToTop(this),ee.interactionState.dragInProgress=ee.node,oe(ee.node),ee.interactionState.hovered&&(te.nodeEvents.unhover.apply(0,ee.interactionState.hovered),ee.interactionState.hovered=!1),ee.arrangement==="snap")){var le=ee.traceId+"|"+ee.key;ee.forceLayouts[le]?ee.forceLayouts[le].alpha(1):F(j,le,ee),H(j,K,ee,le,se)}}).on("drag",function(ee){if(ee.arrangement!=="fixed"){var le=i.event.x,ie=i.event.y;ee.arrangement==="snap"?(ee.node.x0=le-ee.visibleWidth/2,ee.node.x1=le+ee.visibleWidth/2,ee.node.y0=ie-ee.visibleHeight/2,ee.node.y1=ie+ee.visibleHeight/2):(ee.arrangement==="freeform"&&(ee.node.x0=le-ee.visibleWidth/2,ee.node.x1=le+ee.visibleWidth/2),ie=Math.max(0,Math.min(ee.size-ee.visibleHeight/2,ie)),ee.node.y0=ie-ee.visibleHeight/2,ee.node.y1=ie+ee.visibleHeight/2),oe(ee.node),ee.arrangement!=="snap"&&(ee.sankey.update(ee.graph),k(j.filter(ve(ee)),K))}}).on("dragend",function(ee){if(ee.arrangement!=="fixed"){ee.interactionState.dragInProgress=!1;for(var le=0;le<ee.node.childrenNodes.length;le++)ee.node.childrenNodes[le].x=ee.node.x,ee.node.childrenNodes[le].y=ee.node.y;ee.arrangement!=="snap"&&q(ee,se)}});j.on(".drag",null).call(Q)}function F(j,K,te,se){J(te.graph.nodes);var Q=te.graph.nodes.filter(function(ee){return ee.originalX===te.node.originalX}).filter(function(ee){return!ee.partOfGroup});te.forceLayouts[K]=g.forceSimulation(Q).alphaDecay(0).force("collide",g.forceCollide().radius(function(ee){return ee.dy/2+te.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",X(j,K,Q,te)).stop()}function H(j,K,te,se,Q){window.requestAnimationFrame(function ee(){var le;for(le=0;le<v.forceTicksPerFrame;le++)te.forceLayouts[se].tick();var ie=te.graph.nodes;if(Y(ie),te.sankey.update(te.graph),k(j.filter(ve(te)),K),te.forceLayouts[se].alpha()>0)window.requestAnimationFrame(ee);else{var he=te.node.originalX;te.node.x0=he-te.visibleWidth/2,te.node.x1=he+te.visibleWidth/2,q(te,Q)}})}function X(j,K,te,se){return function(){for(var ee=0,le=0;le<te.length;le++){var ie=te[le];ie===se.interactionState.dragInProgress?(ie.x=ie.lastDraggedX,ie.y=ie.lastDraggedY):(ie.vx=(ie.originalX-ie.x)/v.forceTicksPerFrame,ie.y=Math.min(se.size-ie.dy/2,Math.max(ie.dy/2,ie.y))),ee=Math.max(ee,Math.abs(ie.vx),Math.abs(ie.vy))}!se.interactionState.dragInProgress&&ee<.1&&se.forceLayouts[K].alpha()>0&&se.forceLayouts[K].alpha(0)}}function q(j,K){for(var te=[],se=[],Q=0;Q<j.graph.nodes.length;Q++){var ee=(j.graph.nodes[Q].x0+j.graph.nodes[Q].x1)/2,le=(j.graph.nodes[Q].y0+j.graph.nodes[Q].y1)/2;te.push(ee/j.figure.width),se.push(le/j.figure.height)}f.call("_guiRestyle",K,{"node.x":[te],"node.y":[se]},j.trace.index).then(function(){K._fullLayout._dragCover&&K._fullLayout._dragCover.remove()})}function ne(j){var K=[],te;for(te=0;te<j.length;te++)j[te].originalX=(j[te].x0+j[te].x1)/2,j[te].originalY=(j[te].y0+j[te].y1)/2,K.indexOf(j[te].originalX)===-1&&K.push(j[te].originalX);for(K.sort(function(se,Q){return se-Q}),te=0;te<j.length;te++)j[te].originalLayerIndex=K.indexOf(j[te].originalX),j[te].originalLayer=j[te].originalLayerIndex/(K.length-1)}function oe(j){j.lastDraggedX=j.x0+j.dx/2,j.lastDraggedY=j.y0+j.dy/2}function ve(j){return function(K){return K.node.originalX===j.node.originalX}}function J(j){for(var K=0;K<j.length;K++)j[K].y=(j[K].y0+j[K].y1)/2,j[K].x=(j[K].x0+j[K].x1)/2}function Y(j){for(var K=0;K<j.length;K++)j[K].y0=j[K].y-j[K].dy/2,j[K].y1=j[K].y0+j[K].dy,j[K].x0=j[K].x-j[K].dx/2,j[K].x1=j[K].x0+j[K].dx}G.exports=function(j,K,te,se,Q){var ee=j._context.staticPlot,le=!1;l.ensureSingle(j._fullLayout._infolayer,"g","first-render",function(){le=!0});var ie=j._fullLayout._dragCover,he=te.filter(function(we){return h(we).trace.visible}).map(C.bind(null,se)),xe=K.selectAll("."+v.cn.sankey).data(he,u);xe.exit().remove(),xe.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",ee?"none":"auto").attr("transform",z),xe.each(function(we,ke){j._fullData[ke]._sankey=we;var Fe="bgsankey-"+we.trace.uid+"-"+ke;l.ensureSingle(j._fullLayout._draggers,"rect",Fe),j._fullData[ke]._bgRect=i.select("."+Fe),j._fullData[ke]._bgRect.style("pointer-events",ee?"none":"all").attr("width",we.width).attr("height",we.height).attr("x",we.translateX).attr("y",we.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),xe.transition().ease(v.ease).duration(v.duration).attr("transform",z);var Se=xe.selectAll("."+v.cn.sankeyLinks).data(y,u);Se.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var Ee=Se.selectAll("."+v.cn.sankeyLink).data(function(we){var ke=we.graph.links;return ke.filter(function(Fe){return Fe.value}).map(m.bind(null,we))},u);Ee.enter().append("path").classed(v.cn.sankeyLink,!0).call(N,xe,Q.linkEvents),Ee.style("stroke",function(we){return U(we)?t.tinyRGB(p(we.linkLineColor)):we.tinyColorHue}).style("stroke-opacity",function(we){return U(we)?t.opacity(we.linkLineColor):we.tinyColorAlpha}).style("fill",function(we){return we.tinyColorHue}).style("fill-opacity",function(we){return we.tinyColorAlpha}).style("stroke-width",function(we){return U(we)?we.linkLineWidth:1}).attr("d",x()),Ee.style("opacity",function(){return j._context.staticPlot||le||ie?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),Ee.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ne=xe.selectAll("."+v.cn.sankeyNodeSet).data(y,u);Ne.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Ne.style("cursor",function(we){switch(we.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var He=Ne.selectAll("."+v.cn.sankeyNode).data(function(we){var ke=we.graph.nodes;return ne(ke),ke.map(a.bind(null,we))},u);He.enter().append("g").classed(v.cn.sankeyNode,!0).call(E).style("opacity",function(we){return(j._context.staticPlot||le)&&!we.partOfGroup?1:0}),He.call(N,xe,Q.nodeEvents).call(B,Ee,Q,j),He.transition().ease(v.ease).duration(v.duration).call(E).style("opacity",function(we){return we.partOfGroup?0:1}),He.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Ce=He.selectAll("."+v.cn.nodeRect).data(y);Ce.enter().append("rect").classed(v.cn.nodeRect,!0).call(I),Ce.style("stroke-width",function(we){return we.nodeLineWidth}).style("stroke",function(we){return t.tinyRGB(p(we.nodeLineColor))}).style("stroke-opacity",function(we){return t.opacity(we.nodeLineColor)}).style("fill",function(we){return we.tinyColorHue}).style("fill-opacity",function(we){return we.tinyColorAlpha}),Ce.transition().ease(v.ease).duration(v.duration).call(I);var be=He.selectAll("."+v.cn.nodeLabel).data(y);be.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),be.attr("data-notex",1).text(function(we){return we.node.label}).each(function(we){var ke=i.select(this);r.font(ke,we.textFont),b.convertToTspans(ke,j)}).style("text-shadow",b.makeTextShadow(j._fullLayout.paper_bgcolor)).attr("text-anchor",function(we){return we.horizontal&&we.left?"end":"start"}).attr("transform",function(we){var ke=i.select(this),Fe=b.lineCount(ke),Pe=we.textFont.size*((Fe-1)*A-d),Ge=we.nodeLineWidth/2+M,nt=((we.horizontal?we.visibleHeight:we.visibleWidth)-Pe)/2;we.horizontal&&(we.left?Ge=-Ge:Ge+=we.visibleWidth);var qe=we.horizontal?"":"scale(-1,1)"+s(90);return n(we.horizontal?Ge:nt,we.horizontal?nt:Ge)+qe}),be.transition().ease(v.ease).duration(v.duration)}},84564:function(G){G.exports=function(e,g){for(var R=e.cd,i=[],L=R[0].trace,T=L._sankey.graph.nodes,v=0;v<T.length;v++){var p=T[v];if(!p.partOfGroup){var t=[(p.x0+p.x1)/2,(p.y0+p.y1)/2];L.orientation==="v"&&t.reverse(),g&&g.contains(t,!1,v,e)&&i.push({pointNumber:p.pointNumber})}}return i}},75225:function(G,V,e){var g=e(71828);G.exports=function(i,L){for(var T=0;T<i.length;T++)i[T].i=T;g.mergeArray(L.text,i,"tx"),g.mergeArray(L.texttemplate,i,"txt"),g.mergeArray(L.hovertext,i,"htx"),g.mergeArray(L.customdata,i,"data"),g.mergeArray(L.textposition,i,"tp"),L.textfont&&(g.mergeArrayCastPositive(L.textfont.size,i,"ts"),g.mergeArray(L.textfont.color,i,"tc"),g.mergeArray(L.textfont.family,i,"tf"));var v=L.marker;if(v){g.mergeArrayCastPositive(v.size,i,"ms"),g.mergeArrayCastPositive(v.opacity,i,"mo"),g.mergeArray(v.symbol,i,"mx"),g.mergeArray(v.angle,i,"ma"),g.mergeArray(v.standoff,i,"mf"),g.mergeArray(v.color,i,"mc");var p=v.line;v.line&&(g.mergeArray(p.color,i,"mlc"),g.mergeArrayCastPositive(p.width,i,"mlw"));var t=v.gradient;t&&t.type!=="none"&&(g.mergeArray(t.type,i,"mgt"),g.mergeArray(t.color,i,"mgc"))}}},82196:function(G,V,e){var g=e(12663).axisHoverFormat,R=e(5386).si,i=e(5386).fF,L=e(50693),T=e(41940),v=e(79952).P,p=e(79952).u,t=e(91424),r=e(47581),l=e(1426).extendFlat;function n(u){return{valType:"any",dflt:0,editType:"calc"}}function s(u){return{valType:"any",editType:"calc"}}function c(u){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:n(),yperiod:n(),xperiod0:s(),yperiod0:s(),xperiodalignment:c(),yperiodalignment:c(),xhoverformat:g("x"),yhoverformat:g("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:R({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:l({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:p,marker:l({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:l({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},L("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},L("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:T({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(G,V,e){var g=e(92770),R=e(71828),i=e(89298),L=e(42973),T=e(50606).BADNUM,v=e(34098),p=e(36922),t=e(75225),r=e(66279);function l(h,b){var f=h._fullLayout,o=b._xA=i.getFromId(h,b.xaxis||"x","x"),d=b._yA=i.getFromId(h,b.yaxis||"y","y"),A=o.makeCalcdata(b,"x"),M=d.makeCalcdata(b,"y"),C=L(b,o,"x",A),m=L(b,d,"y",M),S=C.vals,x=m.vals,a=b._length,E=new Array(a),w=b.ids,k=y(b,f,o,d),I=!1,U,z,N,B,F,H;c(f,b);var X="x",q="y",ne;if(k)R.pushUnique(k.traceIndices,b._expandedIndex),U=k.orientation==="v",U?(q="s",ne="x"):(X="s",ne="y"),F=k.stackgaps==="interpolate";else{var oe=s(b,a);n(h,b,o,d,S,x,oe)}var ve=!!b.xperiodalignment,J=!!b.yperiodalignment;for(z=0;z<a;z++){var Y=E[z]={},j=g(S[z]),K=g(x[z]);j&&K?(Y[X]=S[z],Y[q]=x[z],ve&&(Y.orig_x=A[z],Y.xEnd=C.ends[z],Y.xStart=C.starts[z]),J&&(Y.orig_y=M[z],Y.yEnd=m.ends[z],Y.yStart=m.starts[z])):k&&(U?j:K)?(Y[ne]=U?S[z]:x[z],Y.gap=!0,F?(Y.s=T,I=!0):Y.s=0):Y[X]=Y[q]=T,w&&(Y.id=String(w[z]))}if(t(E,b),p(h,b),r(E,b),k){for(z=0;z<E.length;)E[z][ne]===T?E.splice(z,1):z++;if(R.sort(E,function(ee,le){return ee[ne]-le[ne]||ee.i-le.i}),I){for(z=0;z<E.length-1&&E[z].gap;)z++;for(H=E[z].s,H||(H=E[z].s=0),N=0;N<z;N++)E[N].s=H;for(B=E.length-1;B>z&&E[B].gap;)B--;for(H=E[B].s,N=E.length-1;N>B;N--)E[N].s=H;for(;z<B;)if(z++,E[z].gap){for(N=z+1;E[N].gap;)N++;for(var te=E[z-1][ne],se=E[z-1].s,Q=(E[N].s-se)/(E[N][ne]-te);z<N;)E[z].s=se+(E[z][ne]-te)*Q,z++}}}return E}function n(h,b,f,o,d,A,M){var C=b._length,m=h._fullLayout,S=f._id,x=o._id,a=m._firstScatter[u(b)]===b.uid,E=(y(b,m,f,o)||{}).orientation,w=b.fill;f._minDtick=0,o._minDtick=0;var k={padded:!0},I={padded:!0};M&&(k.ppad=I.ppad=M);var U=C<2||d[0]!==d[C-1]||A[0]!==A[C-1];U&&(w==="tozerox"||w==="tonextx"&&(a||E==="h"))?k.tozero=!0:!(b.error_y||{}).visible&&(w==="tonexty"||w==="tozeroy"||!v.hasMarkers(b)&&!v.hasText(b))&&(k.padded=!1,k.ppad=0),U&&(w==="tozeroy"||w==="tonexty"&&(a||E==="v"))?I.tozero=!0:(w==="tonextx"||w==="tozerox")&&(I.padded=!1),S&&(b._extremes[S]=i.findExtremes(f,d,k)),x&&(b._extremes[x]=i.findExtremes(o,A,I))}function s(h,b){if(v.hasMarkers(h)){var f=h.marker,o=1.6*(h.marker.sizeref||1),d;if(h.marker.sizemode==="area"?d=function(S){return Math.max(Math.sqrt((S||0)/o),3)}:d=function(S){return Math.max((S||0)/o,3)},R.isArrayOrTypedArray(f.size)){var A={type:"linear"};i.setConvert(A);for(var M=A.makeCalcdata(h.marker,"size"),C=new Array(b),m=0;m<b;m++)C[m]=d(M[m]);return C}else return d(f.size)}}function c(h,b){var f=u(b),o=h._firstScatter;o[f]||(o[f]=b.uid)}function u(h){var b=h.stackgroup;return h.xaxis+h.yaxis+h.type+(b?"-"+b:"")}function y(h,b,f,o){var d=h.stackgroup;if(d){var A=b._scatterStackOpts[f._id+o._id][d],M=A.orientation==="v"?o:f;if(M.type==="linear"||M.type==="log")return A}}G.exports={calc:l,calcMarkerSize:s,calcAxisExpansion:n,setFirstScatter:c,getStackOpts:y}},66279:function(G,V,e){var g=e(71828);G.exports=function(i,L){g.isArrayOrTypedArray(L.selectedpoints)&&g.tagSelected(i,L)}},36922:function(G,V,e){var g=e(52075).hasColorscale,R=e(78803),i=e(34098);G.exports=function(T,v){i.hasLines(v)&&g(v,"line")&&R(T,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(v)&&(g(v,"marker")&&R(T,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),g(v,"marker.line")&&R(T,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(G){G.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(G,V,e){var g=e(47761),R=e(11661).setGroupPositions;function i(v,p){for(var t=p.xaxis,r=p.yaxis,l=v._fullLayout,n=v._fullData,s=v.calcdata,c=[],u=[],y=0;y<n.length;y++){var h=n[y];h.visible===!0&&h.type==="scatter"&&h.xaxis===t._id&&h.yaxis===r._id&&(h.orientation==="h"?c.push(s[y]):h.orientation==="v"&&u.push(s[y]))}var b={mode:l.scattermode,gap:l.scattergap};R(v,t,r,u,b),R(v,r,t,c,b)}G.exports=function(p,t){p._fullLayout.scattermode==="group"&&i(p,t);var r=t.xaxis,l=t.yaxis,n=r._id+l._id,s=p._fullLayout._scatterStackOpts[n];if(s){var c=p.calcdata,u,y,h,b,f,o,d,A,M,C,m,S,x,a,E;for(var w in s){C=s[w];var k=C.traceIndices;if(k.length){for(m=C.stackgaps==="interpolate",S=C.groupnorm,C.orientation==="v"?(x="x",a="y"):(x="y",a="x"),E=new Array(k.length),u=0;u<E.length;u++)E[u]=!1;o=c[k[0]];var I=new Array(o.length);for(u=0;u<o.length;u++)I[u]=o[u][x];for(u=1;u<k.length;u++){for(f=c[k[u]],y=h=0;y<f.length;y++){for(d=f[y][x];d>I[h]&&h<I.length;h++)L(f,y,I[h],u,E,m,x),y++;if(d!==I[h]){for(b=0;b<u;b++)L(c[k[b]],h,d,b,E,m,x);I.splice(h,0,d)}h++}for(;h<I.length;h++)L(f,y,I[h],u,E,m,x),y++}var U=I.length;for(y=0;y<o.length;y++){for(A=o[y][a]=o[y].s,u=1;u<k.length;u++)f=c[k[u]],f[0].trace._rawLength=f[0].trace._length,f[0].trace._length=U,A+=f[y].s,f[y][a]=A;if(S)for(M=(S==="fraction"?A:A/100)||1,u=0;u<k.length;u++){var z=c[k[u]][y];z[a]/=M,z.sNorm=z.s/M}}for(u=0;u<k.length;u++){f=c[k[u]];var N=f[0].trace,B=g.calcMarkerSize(N,N._rawLength),F=Array.isArray(B);if(B&&E[u]||F){var H=B;for(B=new Array(U),y=0;y<U;y++)B[y]=f[y].gap?0:F?H[f[y].i]:H}var X=new Array(U),q=new Array(U);for(y=0;y<U;y++)X[y]=f[y].x,q[y]=f[y].y;g.calcAxisExpansion(p,N,r,l,X,q,B),f[0].t.orientation=C.orientation}}}}};function L(v,p,t,r,l,n,s){l[r]=!0;var c={i:null,gap:!0,s:0};if(c[s]=t,v.splice(p,0,c),p&&t===v[p-1][s]){var u=v[p-1];c.s=u.s,c.i=u.i,c.gap=u.gap}else n&&(c.s=T(v,p,t,s));p||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function T(v,p,t,r){var l=v[p-1],n=v[p+1];return n?l?l.s+(n.s-l.s)*(t-l[r])/(n[r]-l[r]):n.s:l.s}},34936:function(G,V,e){var g=e(71828),R=e(26125),i=e(82196);G.exports=function(T,v){var p,t,r;function l(y){return g.coerce(t._input,t,i,y)}if(v.scattermode==="group")for(r=0;r<T.length;r++)t=T[r],t.type==="scatter"&&(p=t._input,R(p,t,v,l));for(r=0;r<T.length;r++){var n=T[r];if(n.type==="scatter"){var s=n.fill;if(!(s==="none"||s==="toself")&&(n.opacity=void 0,s==="tonexty"||s==="tonextx"))for(var c=r-1;c>=0;c--){var u=T[c];if(u.type==="scatter"&&u.xaxis===n.xaxis&&u.yaxis===n.yaxis){u.opacity=void 0;break}}}}}},17438:function(G,V,e){var g=e(71828),R=e(73972),i=e(82196),L=e(47581),T=e(34098),v=e(67513),p=e(73927),t=e(565),r=e(49508),l=e(11058),n=e(94039),s=e(82410),c=e(28908),u=e(71828).coercePattern;G.exports=function(h,b,f,o){function d(E,w){return g.coerce(h,b,i,E,w)}var A=v(h,b,o,d);if(A||(b.visible=!1),!!b.visible){p(h,b,o,d),d("xhoverformat"),d("yhoverformat");var M=t(h,b,o,d);o.scattermode==="group"&&b.orientation===void 0&&d("orientation","v");var C=!M&&A<L.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",C),T.hasLines(b)&&(l(h,b,f,o,d,{backoff:!0}),n(h,b,d),d("connectgaps"),d("line.simplify")),T.hasMarkers(b)&&r(h,b,f,o,d,{gradient:!0}),T.hasText(b)&&(d("texttemplate"),s(h,b,o,d));var m=[];(T.hasMarkers(b)||T.hasText(b))&&(d("cliponaxis"),d("marker.maxdisplayed"),m.push("points")),d("fill",M?M.fillDflt:"none"),b.fill!=="none"&&(c(h,b,f,d),T.hasLines(b)||n(h,b,d),u(d,"fillpattern",b.fillcolor,!1));var S=(b.line||{}).color,x=(b.marker||{}).color;(b.fill==="tonext"||b.fill==="toself")&&m.push("fills"),d("hoveron",m.join("+")||"points"),b.hoveron!=="fills"&&d("hovertemplate");var a=R.getComponentMethod("errorbars","supplyDefaults");a(h,b,S||x||f,{axis:"y"}),a(h,b,S||x||f,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(b,d)}}},28908:function(G,V,e){var g=e(7901),R=e(71828).isArrayOrTypedArray;G.exports=function(L,T,v,p){var t=!1;if(T.marker){var r=T.marker.color,l=(T.marker.line||{}).color;r&&!R(r)?t=r:l&&!R(l)&&(t=l)}p("fillcolor",g.addOpacity((T.line||{}).color||t||v,.5))}},8225:function(G,V,e){var g=e(89298);G.exports=function(i,L,T){var v={},p={_fullLayout:T},t=g.getFromTrace(p,L,"x"),r=g.getFromTrace(p,L,"y"),l=i.orig_x;l===void 0&&(l=i.x);var n=i.orig_y;return n===void 0&&(n=i.y),v.xLabel=g.tickText(t,t.c2l(l),!0).text,v.yLabel=g.tickText(r,r.c2l(n),!0).text,v}},34603:function(G,V,e){var g=e(7901),R=e(34098);G.exports=function(L,T){var v,p;if(L.mode==="lines")return v=L.line.color,v&&g.opacity(v)?v:L.fillcolor;if(L.mode==="none")return L.fill?L.fillcolor:"";var t=T.mcc||(L.marker||{}).color,r=T.mlcc||((L.marker||{}).line||{}).color;return p=t&&g.opacity(t)?t:r&&g.opacity(r)&&(T.mlw||((L.marker||{}).line||{}).width)?r:"",p?g.opacity(p)<.3?g.addOpacity(p,.3):p:(v=(L.line||{}).color,v&&g.opacity(v)&&R.hasLines(L)&&L.line.width?v:L.fillcolor)}},26125:function(G,V,e){var g=e(99082).getAxisGroup;G.exports=function(i,L,T,v){var p=L.orientation,t=L[{v:"x",h:"y"}[p]+"axis"],r=g(T,t)+p,l=T._alignmentOpts||{},n=v("alignmentgroup"),s=l[r];s||(s=l[r]={});var c=s[n];c?c.traces.push(L):c=s[n]={traces:[L],alignmentIndex:Object.keys(s).length,offsetGroups:{}};var u=v("offsetgroup"),y=c.offsetGroups,h=y[u];u&&(h||(h=y[u]={offsetIndex:Object.keys(y).length}),L._offsetIndex=h.offsetIndex)}},33720:function(G,V,e){var g=e(71828),R=e(30211),i=e(73972),L=e(34603),T=e(7901),v=g.fillText;G.exports=function(t,r,l,n){var s=t.cd,c=s[0].trace,u=t.xa,y=t.ya,h=u.c2p(r),b=y.c2p(l),f=[h,b],o=c.hoveron||"",d=c.mode.indexOf("markers")!==-1?3:.5,A=!!c.xperiodalignment,M=!!c.yperiodalignment;if(o.indexOf("points")!==-1){var C=function(he){if(A){var xe=u.c2p(he.xStart),Se=u.c2p(he.xEnd);return h>=Math.min(xe,Se)&&h<=Math.max(xe,Se)?0:1/0}var Ee=Math.max(3,he.mrc||0),Ne=1-1/Ee,He=Math.abs(u.c2p(he.x)-h);return He<Ee?Ne*He/Ee:He-Ee+Ne},m=function(he){if(M){var xe=y.c2p(he.yStart),Se=y.c2p(he.yEnd);return b>=Math.min(xe,Se)&&b<=Math.max(xe,Se)?0:1/0}var Ee=Math.max(3,he.mrc||0),Ne=1-1/Ee,He=Math.abs(y.c2p(he.y)-b);return He<Ee?Ne*He/Ee:He-Ee+Ne},S=function(he){var xe=Math.max(d,he.mrc||0),Se=u.c2p(he.x)-h,Ee=y.c2p(he.y)-b;return Math.max(Math.sqrt(Se*Se+Ee*Ee)-xe,1-d/xe)},x=R.getDistanceFunction(n,C,m,S);if(R.getClosest(s,x,t),t.index!==!1){var a=s[t.index],E=u.c2p(a.x,!0),w=y.c2p(a.y,!0),k=a.mrc||1;t.index=a.i;var I=s[0].t.orientation,U=I&&(a.sNorm||a.s),z=I==="h"?U:a.orig_x!==void 0?a.orig_x:a.x,N=I==="v"?U:a.orig_y!==void 0?a.orig_y:a.y;return g.extendFlat(t,{color:L(c,a),x0:E-k,x1:E+k,xLabelVal:z,y0:w-k,y1:w+k,yLabelVal:N,spikeDistance:S(a),hovertemplate:c.hovertemplate}),v(a,c,t),i.getComponentMethod("errorbars","hoverInfo")(a,c,t),[t]}}if(o.indexOf("fills")!==-1&&c._polygons){var B=c._polygons,F=[],H=!1,X=1/0,q=-1/0,ne=1/0,oe=-1/0,ve,J,Y,j,K,te,se,Q,ee;for(ve=0;ve<B.length;ve++)Y=B[ve],Y.contains(f)&&(H=!H,F.push(Y),ne=Math.min(ne,Y.ymin),oe=Math.max(oe,Y.ymax));if(H){ne=Math.max(ne,0),oe=Math.min(oe,y._length);var le=(ne+oe)/2;for(ve=0;ve<F.length;ve++)for(j=F[ve].pts,J=1;J<j.length;J++)Q=j[J-1][1],ee=j[J][1],Q>le!=ee>=le&&(te=j[J-1][0],se=j[J][0],ee-Q&&(K=te+(se-te)*(le-Q)/(ee-Q),X=Math.min(X,K),q=Math.max(q,K)));X=Math.max(X,0),q=Math.min(q,u._length);var ie=T.defaultLine;return T.opacity(c.fillcolor)?ie=c.fillcolor:T.opacity((c.line||{}).color)&&(ie=c.line.color),g.extendFlat(t,{distance:t.maxHoverDistance,x0:X,x1:q,y0:le,y1:le,color:ie,hovertemplate:!1}),delete t.index,c.text&&!Array.isArray(c.text)?t.text=String(c.text):t.text=c.name,[t]}}}},67368:function(G,V,e){var g=e(34098);G.exports={hasLines:g.hasLines,hasMarkers:g.hasMarkers,hasText:g.hasText,isBubble:g.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(G){G.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(G,V,e){var g=e(71828),R=e(21479);G.exports=function(i,L){function T(p,t){return g.coerce(i,L,R,p,t)}var v=L.barmode==="group";L.scattermode==="group"&&T("scattergap",v?L.bargap:.2)}},11058:function(G,V,e){var g=e(71828).isArrayOrTypedArray,R=e(52075).hasColorscale,i=e(1586);G.exports=function(T,v,p,t,r,l){l||(l={});var n=(T.marker||{}).color;if(r("line.color",p),R(T,"line"))i(T,v,t,r,{prefix:"line.",cLetter:"c"});else{var s=(g(n)?!1:n)||p;r("line.color",s)}r("line.width"),l.noDash||r("line.dash"),l.backoff&&r("line.backoff")}},34621:function(G,V,e){var g=e(91424),R=e(50606),i=R.BADNUM,L=R.LOG_CLIP,T=L+.5,v=L-.5,p=e(71828),t=p.segmentsIntersect,r=p.constrain,l=e(47581);G.exports=function(s,c){var u=c.trace||{},y=c.xaxis,h=c.yaxis,b=y.type==="log",f=h.type==="log",o=y._length,d=h._length,A=c.backoff,M=u.marker,C=c.connectGaps,m=c.baseTolerance,S=c.shape,x=S==="linear",a=u.fill&&u.fill!=="none",E=[],w=l.minTolerance,k=s.length,I=new Array(k),U=0,z,N,B,F,H,X,q,ne,oe,ve,J,Y,j,K,te,se;function Q(Tt){var It=s[Tt];if(!It)return!1;var Gt=c.linearized?y.l2p(It.x):y.c2p(It.x),jt=c.linearized?h.l2p(It.y):h.c2p(It.y);if(Gt===i){if(b&&(Gt=y.c2p(It.x,!0)),Gt===i)return!1;f&&jt===i&&(Gt*=Math.abs(y._m*d*(y._m>0?T:v)/(h._m*o*(h._m>0?T:v)))),Gt*=1e3}if(jt===i){if(f&&(jt=h.c2p(It.y,!0)),jt===i)return!1;jt*=1e3}return[Gt,jt]}function ee(Tt,It,Gt,jt){var Pt=Gt-Tt,Qt=jt-It,or=.5-Tt,zr=.5-It,bt=Pt*Pt+Qt*Qt,Jt=Pt*or+Qt*zr;if(Jt>0&&Jt<bt){var Zt=or*Qt-zr*Pt;if(Zt*Zt<bt)return!0}}var le,ie;function he(Tt,It){var Gt=Tt[0]/o,jt=Tt[1]/d,Pt=Math.max(0,-Gt,Gt-1,-jt,jt-1);return Pt&&le!==void 0&&ee(Gt,jt,le,ie)&&(Pt=0),Pt&&It&&ee(Gt,jt,It[0]/o,It[1]/d)&&(Pt=0),(1+l.toleranceGrowth*Pt)*m}function xe(Tt,It){var Gt=Tt[0]-It[0],jt=Tt[1]-It[1];return Math.sqrt(Gt*Gt+jt*jt)}var Se=l.maxScreensAway,Ee=-o*Se,Ne=o*(1+Se),He=-d*Se,Ce=d*(1+Se),be=[[Ee,He,Ne,He],[Ne,He,Ne,Ce],[Ne,Ce,Ee,Ce],[Ee,Ce,Ee,He]],we,ke,Fe,Pe,Ge,nt;function qe(Tt,It){for(var Gt=[],jt=0,Pt=0;Pt<4;Pt++){var Qt=be[Pt],or=t(Tt[0],Tt[1],It[0],It[1],Qt[0],Qt[1],Qt[2],Qt[3]);or&&(!jt||Math.abs(or.x-Gt[0][0])>1||Math.abs(or.y-Gt[0][1])>1)&&(or=[or.x,or.y],jt&&xe(or,Tt)<xe(Gt[0],Tt)?Gt.unshift(or):Gt.push(or),jt++)}return Gt}function Ke(Tt){if(Tt[0]<Ee||Tt[0]>Ne||Tt[1]<He||Tt[1]>Ce)return[r(Tt[0],Ee,Ne),r(Tt[1],He,Ce)]}function $e(Tt,It){if(Tt[0]===It[0]&&(Tt[0]===Ee||Tt[0]===Ne)||Tt[1]===It[1]&&(Tt[1]===He||Tt[1]===Ce))return!0}function vt(Tt,It){var Gt=[],jt=Ke(Tt),Pt=Ke(It);return jt&&Pt&&$e(jt,Pt)||(jt&&Gt.push(jt),Pt&&Gt.push(Pt)),Gt}function yt(Tt,It,Gt){return function(jt,Pt){var Qt=Ke(jt),or=Ke(Pt),zr=[];if(Qt&&or&&$e(Qt,or))return zr;Qt&&zr.push(Qt),or&&zr.push(or);var bt=2*p.constrain((jt[Tt]+Pt[Tt])/2,It,Gt)-((Qt||jt)[Tt]+(or||Pt)[Tt]);if(bt){var Jt;Qt&&or?Jt=bt>0==Qt[Tt]>or[Tt]?Qt:or:Jt=Qt||or,Jt[Tt]+=bt}return zr}}var mt;S==="linear"||S==="spline"?mt=qe:S==="hv"||S==="vh"?mt=vt:S==="hvh"?mt=yt(0,Ee,Ne):S==="vhv"&&(mt=yt(1,He,Ce));function Et(Tt,It){var Gt=It[0]-Tt[0],jt=(It[1]-Tt[1])/Gt,Pt=(Tt[1]*It[0]-It[1]*Tt[0])/Gt;return Pt>0?[jt>0?Ee:Ne,Ce]:[jt>0?Ne:Ee,He]}function Xe(Tt){var It=Tt[0],Gt=Tt[1],jt=It===I[U-1][0],Pt=Gt===I[U-1][1];if(!(jt&&Pt))if(U>1){var Qt=It===I[U-2][0],or=Gt===I[U-2][1];jt&&(It===Ee||It===Ne)&&Qt?or?U--:I[U-1]=Tt:Pt&&(Gt===He||Gt===Ce)&&or?Qt?U--:I[U-1]=Tt:I[U++]=Tt}else I[U++]=Tt}function Ue(Tt){I[U-1][0]!==Tt[0]&&I[U-1][1]!==Tt[1]&&Xe([Fe,Pe]),Xe(Tt),Ge=null,Fe=Pe=0}var Be=p.isArrayOrTypedArray(M);function rt(Tt){if(Tt&&A&&(Tt.i=z,Tt.d=s,Tt.trace=u,Tt.marker=Be?M[Tt.i]:M,Tt.backoff=A),le=Tt[0]/o,ie=Tt[1]/d,we=Tt[0]<Ee?Ee:Tt[0]>Ne?Ne:0,ke=Tt[1]<He?He:Tt[1]>Ce?Ce:0,we||ke){if(!U)I[U++]=[we||Tt[0],ke||Tt[1]];else if(Ge){var It=mt(Ge,Tt);It.length>1&&(Ue(It[0]),I[U++]=It[1])}else nt=mt(I[U-1],Tt)[0],I[U++]=nt;var Gt=I[U-1];we&&ke&&(Gt[0]!==we||Gt[1]!==ke)?(Ge&&(Fe!==we&&Pe!==ke?Xe(Fe&&Pe?Et(Ge,Tt):[Fe||we,Pe||ke]):Fe&&Pe&&Xe([Fe,Pe])),Xe([we,ke])):Fe-we&&Pe-ke&&Xe([we||Fe,ke||Pe]),Ge=Tt,Fe=we,Pe=ke}else Ge&&Ue(mt(Ge,Tt)[0]),I[U++]=Tt}for(z=0;z<k;z++)if(N=Q(z),!!N){for(U=0,Ge=null,rt(N),z++;z<k;z++){if(F=Q(z),!F){if(C)continue;break}if(!x||!c.simplify){rt(F);continue}var it=Q(z+1);if(ve=xe(F,N),!(!(a&&(U===0||U===k-1))&&ve<he(F,it)*w)){for(ne=[(F[0]-N[0])/ve,(F[1]-N[1])/ve],H=N,J=ve,Y=K=te=0,q=!1,B=F,z++;z<s.length;z++){if(X=it,it=Q(z+1),!X){if(C)continue;break}if(oe=[X[0]-N[0],X[1]-N[1]],se=oe[0]*ne[1]-oe[1]*ne[0],K=Math.min(K,se),te=Math.max(te,se),te-K>he(X,it))break;B=X,j=oe[0]*ne[0]+oe[1]*ne[1],j>J?(J=j,F=X,q=!1):j<Y&&(Y=j,H=X,q=!0)}if(q?(rt(F),B!==H&&rt(H)):(H!==N&&rt(H),B!==F&&rt(F)),rt(B),z>=s.length||!X)break;rt(X),N=X}}Ge&&Xe([Fe||Ge[0],Pe||Ge[1]]),E.push(I.slice(0,U))}var Ye=S.slice(S.length-1);if(A&&Ye!=="h"&&Ye!=="v"){for(var De=!1,Te=-1,fe=[],me=0;me<E.length;me++)for(var Re=0;Re<E[me].length-1;Re++){var Oe=E[me][Re],st=E[me][Re+1],ut=g.applyBackoff(st,Oe);(ut[0]!==st[0]||ut[1]!==st[1])&&(De=!0),fe[Te+1]||(Te++,fe[Te]=[Oe,[ut[0],ut[1]]])}return De?fe:E}return E}},94039:function(G){G.exports=function(e,g,R){var i=R("line.shape");i==="spline"&&R("line.smoothing")}},68687:function(G){var V={tonextx:1,tonexty:1,tonext:1};G.exports=function(g,R,i){var L,T,v,p,t,r={},l=!1,n=-1,s=0,c=-1;for(T=0;T<i.length;T++)L=i[T][0].trace,v=L.stackgroup||"",v?v in r?t=r[v]:(t=r[v]=s,s++):L.fill in V&&c>=0?t=c:(t=c=s,s++),t<n&&(l=!0),L._groupIndex=n=t;var u=i.slice();l&&u.sort(function(h,b){var f=h[0].trace,o=b[0].trace;return f._groupIndex-o._groupIndex||f.index-o.index});var y={};for(T=0;T<u.length;T++)L=u[T][0].trace,v=L.stackgroup||"",L.visible===!0?(L._nexttrace=null,L.fill in V&&(p=y[v],L._prevtrace=p||null,p&&(p._nexttrace=L)),L._ownfill=L.fill&&(L.fill.substr(0,6)==="tozero"||L.fill==="toself"||L.fill.substr(0,2)==="to"&&!L._prevtrace),y[v]=L):L._prevtrace=L._nexttrace=L._ownfill=null;return u}},39984:function(G,V,e){var g=e(92770);G.exports=function(i,L){L||(L=2);var T=i.marker,v=T.sizeref||1,p=T.sizemin||0,t=T.sizemode==="area"?function(r){return Math.sqrt(r/v)}:function(r){return r/v};return function(r){var l=t(r/L);return g(l)&&l>0?Math.max(l,p):0}}},4898:function(G){G.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(G,V,e){var g=e(7901),R=e(52075).hasColorscale,i=e(1586),L=e(34098);G.exports=function(v,p,t,r,l,n){var s=L.isBubble(v),c=(v.line||{}).color,u;if(n=n||{},c&&(t=c),l("marker.symbol"),l("marker.opacity",s?.7:1),l("marker.size"),n.noAngle||(l("marker.angle"),n.noAngleRef||l("marker.angleref"),n.noStandOff||l("marker.standoff")),l("marker.color",t),R(v,"marker")&&i(v,p,r,l,{prefix:"marker.",cLetter:"c"}),n.noSelect||(l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size")),n.noLine||(c&&!Array.isArray(c)&&p.marker.color!==c?u=c:s?u=g.background:u=g.defaultLine,l("marker.line.color",u),R(v,"marker.line")&&i(v,p,r,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",s?1:0)),s&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),n.gradient){var y=l("marker.gradient.type");y!=="none"&&l("marker.gradient.color")}}},73927:function(G,V,e){var g=e(71828).dateTick0,R=e(50606),i=R.ONEWEEK;function L(T,v){return T%i===0?g(v,1):g(v,0)}G.exports=function(v,p,t,r,l){if(l||(l={x:!0,y:!0}),l.x){var n=r("xperiod");n&&(r("xperiod0",L(n,p.xcalendar)),r("xperiodalignment"))}if(l.y){var s=r("yperiod");s&&(r("yperiod0",L(s,p.ycalendar)),r("yperiodalignment"))}}},32663:function(G,V,e){var g=e(39898),R=e(73972),i=e(71828),L=i.ensureSingle,T=i.identity,v=e(91424),p=e(34098),t=e(34621),r=e(68687),l=e(61082).tester;G.exports=function(y,h,b,f,o,d){var A,M,C=!o,m=!!o&&o.duration>0,S=r(y,h,b);if(A=f.selectAll("g.trace").data(S,function(a){return a[0].trace.uid}),A.enter().append("g").attr("class",function(a){return"trace scatter trace"+a[0].trace.uid}).style("stroke-miterlimit",2),A.order(),n(y,A,h),m){d&&(M=d());var x=g.transition().duration(o.duration).ease(o.easing).each("end",function(){M&&M()}).each("interrupt",function(){M&&M()});x.each(function(){f.selectAll("g.trace").each(function(a,E){s(y,E,h,a,S,this,o)})})}else A.each(function(a,E){s(y,E,h,a,S,this,o)});C&&A.exit().remove(),f.selectAll("path:not([d])").remove()};function n(u,y,h){y.each(function(b){var f=L(g.select(this),"g","fills");v.setClipUrl(f,h.layerClipId,u);var o=b[0].trace,d=[];o._ownfill&&d.push("_ownFill"),o._nexttrace&&d.push("_nextFill");var A=f.selectAll("g").data(d,T);A.enter().append("g"),A.exit().each(function(M){o[M]=null}).remove(),A.order().each(function(M){o[M]=L(g.select(this),"path","js-fill")})})}function s(u,y,h,b,f,o,d){var A=u._context.staticPlot,M;c(u,y,h,b,f);var C=!!d&&d.duration>0;function m(Pe){return C?Pe.transition():Pe}var S=h.xaxis,x=h.yaxis,a=b[0].trace,E=a.line,w=g.select(o),k=L(w,"g","errorbars"),I=L(w,"g","lines"),U=L(w,"g","points"),z=L(w,"g","text");if(R.getComponentMethod("errorbars","plot")(u,k,h,d),a.visible!==!0)return;m(w).style("opacity",a.opacity);var N,B,F=a.fill.charAt(a.fill.length-1);F!=="x"&&F!=="y"&&(F=""),b[0][h.isRangePlot?"nodeRangePlot3":"node3"]=w;var H="",X=[],q=a._prevtrace;q&&(H=q._prevRevpath||"",B=q._nextFill,X=q._polygons);var ne,oe,ve="",J="",Y,j,K,te,se,Q,ee,le=[],ie=i.noop;if(N=a._ownFill,p.hasLines(a)||a.fill!=="none"){for(B&&B.datum(b),["hv","vh","hvh","vhv"].indexOf(E.shape)!==-1?(Y=v.steps(E.shape),j=v.steps(E.shape.split("").reverse().join(""))):E.shape==="spline"?Y=j=function(Pe){var Ge=Pe[Pe.length-1];return Pe.length>1&&Pe[0][0]===Ge[0]&&Pe[0][1]===Ge[1]?v.smoothclosed(Pe.slice(1),E.smoothing):v.smoothopen(Pe,E.smoothing)}:Y=j=function(Pe){return"M"+Pe.join("L")},K=function(Pe){return j(Pe.reverse())},le=t(b,{xaxis:S,yaxis:x,trace:a,connectGaps:a.connectgaps,baseTolerance:Math.max(E.width||1,3)/4,shape:E.shape,backoff:E.backoff,simplify:E.simplify,fill:a.fill}),ee=a._polygons=new Array(le.length),M=0;M<le.length;M++)a._polygons[M]=l(le[M]);le.length&&(te=le[0][0],se=le[le.length-1],Q=se[se.length-1]),ie=function(Pe){return function(Ge){if(ne=Y(Ge),oe=K(Ge),ve?F?(ve+="L"+ne.substr(1),J=oe+("L"+J.substr(1))):(ve+="Z"+ne,J=oe+"Z"+J):(ve=ne,J=oe),p.hasLines(a)){var nt=g.select(this);if(nt.datum(b),Pe)m(nt.style("opacity",0).attr("d",ne).call(v.lineGroupStyle)).style("opacity",1);else{var qe=m(nt);qe.attr("d",ne),v.singleLineStyle(b,qe)}}}}}var he=I.selectAll(".js-line").data(le);m(he.exit()).style("opacity",0).remove(),he.each(ie(!1)),he.enter().append("path").classed("js-line",!0).style("vector-effect",A?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(ie(!0)),v.setClipUrl(he,h.layerClipId,u);function xe(Pe){m(Pe).attr("d","M0,0Z")}le.length?(N?(N.datum(b),te&&Q&&(F?(F==="y"?te[1]=Q[1]=x.c2p(0,!0):F==="x"&&(te[0]=Q[0]=S.c2p(0,!0)),m(N).attr("d","M"+Q+"L"+te+"L"+ve.substr(1)).call(v.singleFillStyle,u)):m(N).attr("d",ve+"Z").call(v.singleFillStyle,u))):B&&(a.fill.substr(0,6)==="tonext"&&ve&&H?(a.fill==="tonext"?m(B).attr("d",ve+"Z"+H+"Z").call(v.singleFillStyle,u):m(B).attr("d",ve+"L"+H.substr(1)+"Z").call(v.singleFillStyle,u),a._polygons=a._polygons.concat(X)):(xe(B),a._polygons=null)),a._prevRevpath=J,a._prevPolygons=ee):(N?xe(N):B&&xe(B),a._polygons=a._prevRevpath=a._prevPolygons=null);function Se(Pe){return Pe.filter(function(Ge){return!Ge.gap&&Ge.vis})}function Ee(Pe){return Pe.filter(function(Ge){return Ge.vis})}function Ne(Pe){return Pe.filter(function(Ge){return!Ge.gap})}function He(Pe){return Pe.id}function Ce(Pe){if(Pe.ids)return He}function be(){return!1}function we(Pe,Ge,nt){var qe,Ke,$e,vt=nt[0].trace,yt=p.hasMarkers(vt),mt=p.hasText(vt),Et=Ce(vt),Xe=be,Ue=be;if(yt||mt){var Be=T,rt=vt.stackgroup,it=rt&&u._fullLayout._scatterStackOpts[S._id+x._id][rt].stackgaps==="infer zero";vt.marker.maxdisplayed||vt._needsCull?Be=it?Ee:Se:rt&&!it&&(Be=Ne),yt&&(Xe=Be),mt&&(Ue=Be)}Ke=Pe.selectAll("path.point"),qe=Ke.data(Xe,Et);var Ye=qe.enter().append("path").classed("point",!0);C&&Ye.call(v.pointStyle,vt,u).call(v.translatePoints,S,x).style("opacity",0).transition().style("opacity",1),qe.order();var De;yt&&(De=v.makePointStyleFns(vt)),qe.each(function(Te){var fe=g.select(this),me=m(fe);$e=v.translatePoint(Te,me,S,x),$e?(v.singlePointStyle(Te,me,vt,De,u),h.layerClipId&&v.hideOutsideRangePoint(Te,me,S,x,vt.xcalendar,vt.ycalendar),vt.customdata&&fe.classed("plotly-customdata",Te.data!==null&&Te.data!==void 0)):me.remove()}),C?qe.exit().transition().style("opacity",0).remove():qe.exit().remove(),Ke=Ge.selectAll("g"),qe=Ke.data(Ue,Et),qe.enter().append("g").classed("textpoint",!0).append("text"),qe.order(),qe.each(function(Te){var fe=g.select(this),me=m(fe.select("text"));$e=v.translatePoint(Te,me,S,x),$e?h.layerClipId&&v.hideOutsideRangePoint(Te,fe,S,x,vt.xcalendar,vt.ycalendar):fe.remove()}),qe.selectAll("text").call(v.textPointStyle,vt,u).each(function(Te){var fe=S.c2p(Te.x),me=x.c2p(Te.y);g.select(this).selectAll("tspan.line").each(function(){m(g.select(this)).attr({x:fe,y:me})})}),qe.exit().remove()}U.datum(b),z.datum(b),we(U,z,b);var ke=a.cliponaxis===!1,Fe=ke?null:h.layerClipId;v.setClipUrl(U,Fe,u),v.setClipUrl(z,Fe,u)}function c(u,y,h,b,f){var o=h.xaxis,d=h.yaxis,A=g.extent(i.simpleMap(o.range,o.r2c)),M=g.extent(i.simpleMap(d.range,d.r2c)),C=b[0].trace;if(p.hasMarkers(C)){var m=C.marker.maxdisplayed;if(m!==0){var S=b.filter(function(w){return w.x>=A[0]&&w.x<=A[1]&&w.y>=M[0]&&w.y<=M[1]}),x=Math.ceil(S.length/m),a=0;f.forEach(function(w,k){var I=w[0].trace;p.hasMarkers(I)&&I.marker.maxdisplayed>0&&k<y&&a++});var E=Math.round(a*x/3+Math.floor(a/3)*x/7.1);b.forEach(function(w){delete w.vis}),S.forEach(function(w,k){Math.round((k+E)%x)===0&&(w.vis=!0)})}}}},98002:function(G,V,e){var g=e(34098);G.exports=function(i,L){var T=i.cd,v=i.xaxis,p=i.yaxis,t=[],r=T[0].trace,l,n,s,c,u=!g.hasMarkers(r)&&!g.hasText(r);if(u)return[];if(L===!1)for(l=0;l<T.length;l++)T[l].selected=0;else for(l=0;l<T.length;l++)n=T[l],s=v.c2p(n.x),c=p.c2p(n.y),n.i!==null&&L.contains([s,c],!1,l,i)?(t.push({pointNumber:n.i,x:v.c2d(n.x),y:p.c2d(n.y)}),n.selected=1):n.selected=0;return t}},565:function(G){var V=["orientation","groupnorm","stackgaps"];G.exports=function(g,R,i,L){var T=i._scatterStackOpts,v=L("stackgroup");if(v){var p=R.xaxis+R.yaxis,t=T[p];t||(t=T[p]={});var r=t[v],l=!1;r?r.traces.push(R):(r=t[v]={traceIndices:[],traces:[R]},l=!0);for(var n={orientation:R.x&&!R.y?"h":"v"},s=0;s<V.length;s++){var c=V[s],u=c+"Found";if(!r[u]){var y=g[c]!==void 0,h=c==="orientation";if((y||l)&&(r[c]=L(c,n[c]),h&&(r.fillDflt=r[c]==="h"?"tonextx":"tonexty"),y&&(r[u]=!0,!l&&(delete r.traces[0][c],h))))for(var b=0;b<r.traces.length-1;b++){var f=r.traces[b];f._input.fill!==f.fill&&(f.fill=r.fillDflt)}}}return r}}},16296:function(G,V,e){var g=e(39898),R=e(91424),i=e(73972);function L(t){var r=g.select(t).selectAll("g.trace.scatter");r.style("opacity",function(l){return l[0].trace.opacity}),r.selectAll("g.points").each(function(l){var n=g.select(this),s=l.trace||l[0].trace;T(n,s,t)}),r.selectAll("g.text").each(function(l){var n=g.select(this),s=l.trace||l[0].trace;v(n,s,t)}),r.selectAll("g.trace path.js-line").call(R.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(R.fillGroupStyle,t),i.getComponentMethod("errorbars","style")(r)}function T(t,r,l){R.pointStyle(t.selectAll("path.point"),r,l)}function v(t,r,l){R.textPointStyle(t.selectAll("text"),r,l)}function p(t,r,l){var n=r[0].trace;n.selectedpoints?(R.selectedPointStyle(l.selectAll("path.point"),n),R.selectedTextStyle(l.selectAll("text"),n)):(T(l,n,t),v(l,n,t))}G.exports={style:L,stylePoints:T,styleText:v,styleOnSelect:p}},34098:function(G,V,e){var g=e(71828);G.exports={hasLines:function(R){return R.visible&&R.mode&&R.mode.indexOf("lines")!==-1},hasMarkers:function(R){return R.visible&&(R.mode&&R.mode.indexOf("markers")!==-1||R.type==="splom")},hasText:function(R){return R.visible&&R.mode&&R.mode.indexOf("text")!==-1},isBubble:function(R){return g.isPlainObject(R.marker)&&g.isArrayOrTypedArray(R.marker.size)}}},82410:function(G,V,e){var g=e(71828);G.exports=function(R,i,L,T,v){v=v||{},T("textposition"),g.coerceFont(T,"textfont",L.font),v.noSelect||(T("selected.textfont.color"),T("unselected.textfont.color"))}},67513:function(G,V,e){var g=e(71828),R=e(73972);G.exports=function(L,T,v,p){var t=p("x"),r=p("y"),l,n=R.getComponentMethod("calendars","handleTraceDefaults");if(n(L,T,["x","y"],v),t){var s=g.minRowLength(t);r?l=Math.min(s,g.minRowLength(r)):(l=s,p("y0"),p("dy"))}else{if(!r)return 0;l=g.minRowLength(r),p("x0"),p("dx")}return T._length=l,l}},44542:function(G,V,e){var g=e(82196),R=e(50693),i=e(12663).axisHoverFormat,L=e(5386).fF,T=e(5386).si,v=e(9012),p=e(29659),t=e(87381),r=e(1426).extendFlat,l=e(30962).overrideAll,n=e(78607),s=g.line,c=g.marker,u=c.line,y=r({width:s.width,dash:{valType:"enumerated",values:n(p),dflt:"solid"}},R("line"));function h(f){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var b=G.exports=l({x:g.x,y:g.y,z:{valType:"data_array"},text:r({},g.text,{}),texttemplate:T({},{}),hovertext:r({},g.hovertext,{}),hovertemplate:L(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),mode:r({},g.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:h(),y:h(),z:h()},connectgaps:g.connectgaps,line:y,marker:r({symbol:{valType:"enumerated",values:n(t),dflt:"circle",arrayOk:!0},size:r({},c.size,{dflt:8}),sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:r({},c.opacity,{arrayOk:!1}),colorbar:c.colorbar,line:r({width:r({},u.width,{arrayOk:!1})},R("marker.line"))},R("marker")),textposition:r({},g.textposition,{dflt:"top center"}),textfont:{color:g.textfont.color,size:g.textfont.size,family:r({},g.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:r({},v.hoverinfo)},"calc","nested");b.x.editType=b.y.editType=b.z.editType="calc+clearAxisTypes"},36563:function(G,V,e){var g=e(75225),R=e(36922);G.exports=function(L,T){var v=[{x:!1,y:!1,trace:T,t:{}}];return g(v,T),R(L,T),v}},67336:function(G,V,e){var g=e(73972);function R(T,v,p,t){if(!v||!v.visible)return null;for(var r=g.getComponentMethod("errorbars","makeComputeError")(v),l=new Array(T.length),n=0;n<T.length;n++){var s=r(+T[n],n);if(t.type==="log"){var c=t.c2l(T[n]),u=T[n]-s[0],y=T[n]+s[1];if(l[n]=[(t.c2l(u,!0)-c)*p,(t.c2l(y,!0)-c)*p],u>0){var h=t.c2l(u);t._lowerLogErrorBound||(t._lowerLogErrorBound=h),t._lowerErrorBound=Math.min(t._lowerLogErrorBound,h)}}else l[n]=[-s[0]*p,s[1]*p]}return l}function i(T){for(var v=0;v<T.length;v++)if(T[v])return T[v].length;return 0}function L(T,v,p){var t=[R(T.x,T.error_x,v[0],p.xaxis),R(T.y,T.error_y,v[1],p.yaxis),R(T.z,T.error_z,v[2],p.zaxis)],r=i(t);if(r===0)return null;for(var l=new Array(r),n=0;n<r;n++){for(var s=[[0,0,0],[0,0,0]],c=0;c<3;c++)if(t[c])for(var u=0;u<2;u++)s[u][c]=t[c][n][u];l[n]=s}return l}G.exports=L},58925:function(G,V,e){var g=e(9330).gl_line3d,R=e(9330).gl_scatter3d,i=e(9330).gl_error3d,L=e(9330).gl_mesh3d,T=e(9330).delaunay_triangulate,v=e(71828),p=e(78614),t=e(81697).formatColor,r=e(39984),l=e(29659),n=e(87381),s=e(89298),c=e(23469).appendArrayPointValue,u=e(67336);function y(w,k){this.scene=w,this.uid=k,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var h=y.prototype;h.handlePick=function(w){if(w.object&&(w.object===this.linePlot||w.object===this.delaunayMesh||w.object===this.textMarkers||w.object===this.scatterPlot)){var k=w.index=w.data.index;return w.object.highlight&&w.object.highlight(null),this.scatterPlot&&(w.object=this.scatterPlot,this.scatterPlot.highlight(w.data)),w.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[k]||this.textLabels[k]===0)&&(w.textLabel=this.textLabels[k]):w.textLabel=this.textLabels),w.traceCoordinate=[this.data.x[k],this.data.y[k],this.data.z[k]],!0}};function b(w,k,I){var U=(I+1)%3,z=(I+2)%3,N=[],B=[],F;for(F=0;F<w.length;++F){var H=w[F];isNaN(H[U])||!isFinite(H[U])||isNaN(H[z])||!isFinite(H[z])||(N.push([H[U],H[z]]),B.push(F))}var X=T(N);for(F=0;F<X.length;++F)for(var q=X[F],ne=0;ne<q.length;++ne)q[ne]=B[q[ne]];return{positions:w,cells:X,meshColor:k}}function f(w){for(var k=[0,0,0],I=[[0,0,0],[0,0,0],[0,0,0]],U=[1,1,1],z=0;z<3;z++){var N=w[z];N&&N.copy_zstyle!==!1&&w[2].visible!==!1&&(N=w[2]),!(!N||!N.visible)&&(k[z]=N.width/2,I[z]=p(N.color),U[z]=N.thickness)}return{capSize:k,color:I,lineWidth:U}}function o(w){return w==null?0:w.indexOf("left")>-1?-1:w.indexOf("right")>-1?1:0}function d(w){return w==null?0:w.indexOf("top")>-1?-1:w.indexOf("bottom")>-1?1:0}function A(w){var k=0,I=0,U=[k,I];if(Array.isArray(w))for(var z=0;z<w.length;z++)U[z]=[k,I],w[z]&&(U[z][0]=o(w[z]),U[z][1]=d(w[z]));else U[0]=o(w),U[1]=d(w);return U}function M(w,k){return k(w*4)}function C(w){return n[w]}function m(w,k,I,U,z){var N=null;if(v.isArrayOrTypedArray(w)){N=[];for(var B=0;B<k;B++)w[B]===void 0?N[B]=U:N[B]=I(w[B],z)}else N=I(w,v.identity);return N}function S(w,k){var I=[],U=w.fullSceneLayout,z=w.dataScale,N=U.xaxis,B=U.yaxis,F=U.zaxis,H=k.marker,X=k.line,q=k.x||[],ne=k.y||[],oe=k.z||[],ve=q.length,J=k.xcalendar,Y=k.ycalendar,j=k.zcalendar,K,te,se,Q,ee,le;for(ee=0;ee<ve;ee++)K=N.d2l(q[ee],0,J)*z[0],te=B.d2l(ne[ee],0,Y)*z[1],se=F.d2l(oe[ee],0,j)*z[2],I[ee]=[K,te,se];if(Array.isArray(k.text))le=k.text;else if(k.text!==void 0)for(le=new Array(ve),ee=0;ee<ve;ee++)le[ee]=k.text;function ie(qe,Ke){var $e=U[qe];return s.tickText($e,$e.d2l(Ke),!0).text}var he=k.texttemplate;if(he){var xe=w.fullLayout,Se=xe._d3locale,Ee=Array.isArray(he),Ne=Ee?Math.min(he.length,ve):ve,He=Ee?function(qe){return he[qe]}:function(){return he};for(le=new Array(Ne),ee=0;ee<Ne;ee++){var Ce={x:q[ee],y:ne[ee],z:oe[ee]},be={xLabel:ie("xaxis",q[ee]),yLabel:ie("yaxis",ne[ee]),zLabel:ie("zaxis",oe[ee])},we={};c(we,k,ee);var ke=k._meta||{};le[ee]=v.texttemplateString(He(ee),be,Se,we,Ce,ke)}}if(Q={position:I,mode:k.mode,text:le},"line"in k&&(Q.lineColor=t(X,1,ve),Q.lineWidth=X.width,Q.lineDashes=X.dash),"marker"in k){var Fe=r(k);Q.scatterColor=t(H,1,ve),Q.scatterSize=m(H.size,ve,M,20,Fe),Q.scatterMarker=m(H.symbol,ve,C,""),Q.scatterLineWidth=H.line.width,Q.scatterLineColor=t(H.line,1,ve),Q.scatterAngle=0}"textposition"in k&&(Q.textOffset=A(k.textposition),Q.textColor=t(k.textfont,1,ve),Q.textSize=m(k.textfont.size,ve,v.identity,12),Q.textFont=k.textfont.family,Q.textAngle=0);var Pe=["x","y","z"];for(Q.project=[!1,!1,!1],Q.projectScale=[1,1,1],Q.projectOpacity=[1,1,1],ee=0;ee<3;++ee){var Ge=k.projection[Pe[ee]];(Q.project[ee]=Ge.show)&&(Q.projectOpacity[ee]=Ge.opacity,Q.projectScale[ee]=Ge.scale)}Q.errorBounds=u(k,z,U);var nt=f([k.error_x,k.error_y,k.error_z]);return Q.errorColor=nt.color,Q.errorLineWidth=nt.lineWidth,Q.errorCapSize=nt.capSize,Q.delaunayAxis=k.surfaceaxis,Q.delaunayColor=p(k.surfacecolor),Q}function x(w){if(v.isArrayOrTypedArray(w)){var k=w[0];return v.isArrayOrTypedArray(k)&&(w=k),"rgb("+w.slice(0,3).map(function(I){return Math.round(I*255)})+")"}return null}function a(w){return v.isArrayOrTypedArray(w)?w.length===4&&typeof w[0]=="number"?x(w):w.map(x):null}h.update=function(w){var k=this.scene.glplot.gl,I,U,z,N,B=l.solid;this.data=w;var F=S(this.scene,w);"mode"in F&&(this.mode=F.mode),"lineDashes"in F&&F.lineDashes in l&&(B=l[F.lineDashes]),this.color=a(F.scatterColor)||a(F.lineColor),this.dataPoints=F.position,I={gl:this.scene.glplot.gl,position:F.position,color:F.lineColor,lineWidth:F.lineWidth||1,dashes:B[0],dashScale:B[1],opacity:w.opacity,connectGaps:w.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(I):(this.linePlot=g(I),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var H=w.opacity;if(w.marker&&w.marker.opacity!==void 0&&(H*=w.marker.opacity),U={gl:this.scene.glplot.gl,position:F.position,color:F.scatterColor,size:F.scatterSize,glyph:F.scatterMarker,opacity:H,orthographic:!0,lineWidth:F.scatterLineWidth,lineColor:F.scatterLineColor,project:F.project,projectScale:F.projectScale,projectOpacity:F.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(U):(this.scatterPlot=R(U),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),N={gl:this.scene.glplot.gl,position:F.position,glyph:F.text,color:F.textColor,size:F.textSize,angle:F.textAngle,alignment:F.textOffset,font:F.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:w.opacity},this.textLabels=w.hovertext||w.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(N):(this.textMarkers=R(N),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),z={gl:this.scene.glplot.gl,position:F.position,color:F.errorColor,error:F.errorBounds,lineWidth:F.errorLineWidth,capSize:F.errorCapSize,opacity:w.opacity},this.errorBars?F.errorBounds?this.errorBars.update(z):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):F.errorBounds&&(this.errorBars=i(z),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),F.delaunayAxis>=0){var X=b(F.position,F.delaunayColor,F.delaunayAxis);X.opacity=w.opacity,this.delaunayMesh?this.delaunayMesh.update(X):(X.gl=k,this.delaunayMesh=L(X),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},h.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function E(w,k){var I=new y(w,k.uid);return I.update(k),I}G.exports=E},21428:function(G,V,e){var g=e(73972),R=e(71828),i=e(34098),L=e(49508),T=e(11058),v=e(82410),p=e(44542);G.exports=function(l,n,s,c){function u(M,C){return R.coerce(l,n,p,M,C)}var y=t(l,n,u,c);if(!y){n.visible=!1;return}u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),u("mode"),i.hasLines(n)&&(u("connectgaps"),T(l,n,s,c,u)),i.hasMarkers(n)&&L(l,n,s,c,u,{noSelect:!0,noAngle:!0}),i.hasText(n)&&(u("texttemplate"),v(l,n,c,u,{noSelect:!0}));var h=(n.line||{}).color,b=(n.marker||{}).color;u("surfaceaxis")>=0&&u("surfacecolor",h||b);for(var f=["x","y","z"],o=0;o<3;++o){var d="projection."+f[o];u(d+".show")&&(u(d+".opacity"),u(d+".scale"))}var A=g.getComponentMethod("errorbars","supplyDefaults");A(l,n,h||b||s,{axis:"z"}),A(l,n,h||b||s,{axis:"y",inherit:"z"}),A(l,n,h||b||s,{axis:"x",inherit:"z"})};function t(r,l,n,s){var c=0,u=n("x"),y=n("y"),h=n("z"),b=g.getComponentMethod("calendars","handleTraceDefaults");return b(r,l,["x","y","z"],s),u&&y&&h&&(c=Math.min(u.length,y.length,h.length),l._length=l._xlength=l._ylength=l._zlength=c),c}},13551:function(G,V,e){G.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(G,V,e){var g=e(82196),R=e(9012),i=e(5386).fF,L=e(5386).si,T=e(50693),v=e(1426).extendFlat,p=g.marker,t=g.line,r=p.line;G.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:v({},g.mode,{dflt:"markers"}),text:v({},g.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","text"]}),hovertext:v({},g.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:v({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:g.connectgaps,fill:v({},g.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:g.fillcolor,marker:v({symbol:p.symbol,opacity:p.opacity,maxdisplayed:p.maxdisplayed,angle:p.angle,angleref:p.angleref,standoff:p.standoff,size:p.size,sizeref:p.sizeref,sizemin:p.sizemin,sizemode:p.sizemode,line:v({width:r.width,editType:"calc"},T("marker.line")),gradient:p.gradient,editType:"calc"},T("marker")),textfont:g.textfont,textposition:g.textposition,selected:g.selected,unselected:g.unselected,hoverinfo:v({},R.hoverinfo,{flags:["a","b","text","name"]}),hoveron:g.hoveron,hovertemplate:i()}},34618:function(G,V,e){var g=e(92770),R=e(36922),i=e(75225),L=e(66279),T=e(47761).calcMarkerSize,v=e(22882);G.exports=function(t,r){var l=r._carpetTrace=v(t,r);if(!(!l||!l.visible||l.visible==="legendonly")){var n;r.xaxis=l.xaxis,r.yaxis=l.yaxis;var s=r._length,c=new Array(s),u,y,h=!1;for(n=0;n<s;n++)if(u=r.a[n],y=r.b[n],g(u)&&g(y)){var b=l.ab2xy(+u,+y,!0),f=l.isVisible(+u,+y);f||(h=!0),c[n]={x:b[0],y:b[1],a:u,b:y,vis:f}}else c[n]={x:!1,y:!1};return r._needsCull=h,c[0].carpet=l,c[0].trace=r,T(r,s),R(t,r),i(c,r),L(c,r),c}}},98965:function(G,V,e){var g=e(71828),R=e(47581),i=e(34098),L=e(49508),T=e(11058),v=e(94039),p=e(82410),t=e(28908),r=e(97001);G.exports=function(n,s,c,u){function y(M,C){return g.coerce(n,s,r,M,C)}y("carpet"),s.xaxis="x",s.yaxis="y";var h=y("a"),b=y("b"),f=Math.min(h.length,b.length);if(!f){s.visible=!1;return}s._length=f,y("text"),y("texttemplate"),y("hovertext");var o=f<R.PTS_LINESONLY?"lines+markers":"lines";y("mode",o),i.hasLines(s)&&(T(n,s,c,u,y,{backoff:!0}),v(n,s,y),y("connectgaps")),i.hasMarkers(s)&&L(n,s,c,u,y,{gradient:!0}),i.hasText(s)&&p(n,s,u,y);var d=[];(i.hasMarkers(s)||i.hasText(s))&&(y("marker.maxdisplayed"),d.push("points")),y("fill"),s.fill!=="none"&&(t(n,s,c,y),i.hasLines(s)||v(n,s,y)),(s.fill==="tonext"||s.fill==="toself")&&d.push("fills");var A=y("hoveron",d.join("+")||"points");A!=="fills"&&y("hovertemplate"),g.coerceSelectionMarkerOpacity(s,y)}},16165:function(G){G.exports=function(e,g,R,i,L){var T=i[L];return e.a=T.a,e.b=T.b,e.y=T.y,e}},48953:function(G){G.exports=function(e,g){var R={},i=g._carpet,L=i.ab2ij([e.a,e.b]),T=Math.floor(L[0]),v=L[0]-T,p=Math.floor(L[1]),t=L[1]-p,r=i.evalxy([],T,p,v,t);return R.yLabel=r[1].toFixed(3),R}},22931:function(G,V,e){var g=e(33720),R=e(71828).fillText;G.exports=function(L,T,v,p){var t=g(L,T,v,p);if(!t||t[0].index===!1)return;var r=t[0];if(r.index===void 0){var l=1-r.y0/L.ya._length,n=L.xa._length,s=n*l/2,c=n-s;return r.x0=Math.max(Math.min(r.x0,c),s),r.x1=Math.max(Math.min(r.x1,c),s),t}var u=r.cd[r.index];r.a=u.a,r.b=u.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var y=r.trace,h=y._carpet,b=y._module.formatLabels(u,y);r.yLabel=b.yLabel,delete r.text;var f=[];function o(M,C){var m;M.labelprefix&&M.labelprefix.length>0?m=M.labelprefix.replace(/ = $/,""):m=M._hovertitle,f.push(m+": "+C.toFixed(3)+M.labelsuffix)}if(!y.hovertemplate){var d=u.hi||y.hoverinfo,A=d.split("+");A.indexOf("all")!==-1&&(A=["a","b","text"]),A.indexOf("a")!==-1&&o(h.aaxis,u.a),A.indexOf("b")!==-1&&o(h.baxis,u.b),f.push("y: "+r.yLabel),A.indexOf("text")!==-1&&R(u,y,f),r.extraText=f.join("<br>")}return t}},46858:function(G,V,e){G.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(G,V,e){var g=e(32663),R=e(89298),i=e(91424);G.exports=function(T,v,p,t){var r,l,n,s=p[0][0].carpet,c=R.getFromId(T,s.xaxis||"x"),u=R.getFromId(T,s.yaxis||"y"),y={xaxis:c,yaxis:u,plot:v.plot};for(r=0;r<p.length;r++)l=p[r][0].trace,l._xA=c,l._yA=u;for(g(T,y,p,t),r=0;r<p.length;r++)l=p[r][0].trace,n=t.selectAll("g.trace"+l.uid+" .js-line"),i.setClipUrl(n,p[r][0].carpet._clipPathId,T)}},19316:function(G,V,e){var g=e(5386).fF,R=e(5386).si,i=e(82196),L=e(9012),T=e(50693),v=e(79952).P,p=e(1426).extendFlat,t=e(30962).overrideAll,r=i.marker,l=i.line,n=r.line;G.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:p({},i.mode,{dflt:"markers"}),text:p({},i.text,{}),texttemplate:R({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:p({},i.hovertext,{}),textfont:i.textfont,textposition:i.textposition,line:{color:l.color,width:l.width,dash:v},connectgaps:i.connectgaps,marker:p({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:p({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:p({width:n.width},T("marker.line")),gradient:r.gradient},T("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:i.fillcolor,selected:i.selected,unselected:i.unselected,hoverinfo:p({},L.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:g()},"calc","nested")},84622:function(G,V,e){var g=e(92770),R=e(50606).BADNUM,i=e(36922),L=e(75225),T=e(66279),v=e(71828)._;function p(t){return t&&typeof t=="string"}G.exports=function(r,l){var n=Array.isArray(l.locations),s=n?l.locations.length:l._length,c=new Array(s),u;l.geojson?u=function(d){return p(d)||g(d)}:u=p;for(var y=0;y<s;y++){var h=c[y]={};if(n){var b=l.locations[y];h.loc=u(b)?b:null}else{var f=l.lon[y],o=l.lat[y];g(f)&&g(o)?h.lonlat=[+f,+o]:h.lonlat=[R,R]}}return L(c,l),i(r,l),T(c,l),s&&(c[0].t={labels:{lat:v(r,"lat:")+" ",lon:v(r,"lon:")+" "}}),c}},10659:function(G,V,e){var g=e(71828),R=e(34098),i=e(49508),L=e(11058),T=e(82410),v=e(28908),p=e(19316);G.exports=function(r,l,n,s){function c(A,M){return g.coerce(r,l,p,A,M)}var u=c("locations"),y;if(u&&u.length){var h=c("geojson"),b;(typeof h=="string"&&h!==""||g.isPlainObject(h))&&(b="geojson-id");var f=c("locationmode",b);f==="geojson-id"&&c("featureidkey"),y=u.length}else{var o=c("lon")||[],d=c("lat")||[];y=Math.min(o.length,d.length)}if(!y){l.visible=!1;return}l._length=y,c("text"),c("hovertext"),c("hovertemplate"),c("mode"),R.hasLines(l)&&(L(r,l,n,s,c),c("connectgaps")),R.hasMarkers(l)&&i(r,l,n,s,c,{gradient:!0}),R.hasText(l)&&(c("texttemplate"),T(r,l,s,c)),c("fill"),l.fill!=="none"&&v(r,l,n,c),g.coerceSelectionMarkerOpacity(l,c)}},84084:function(G){G.exports=function(e,g,R,i,L){e.lon=g.lon,e.lat=g.lat,e.location=g.loc?g.loc:null;var T=i[L];return T.fIn&&T.fIn.properties&&(e.properties=T.fIn.properties),e}},82719:function(G,V,e){var g=e(89298);G.exports=function(i,L,T){var v={},p=T[L.geo]._subplot,t=p.mockAxis,r=i.lonlat;return v.lonLabel=g.tickText(t,t.c2l(r[0]),!0).text,v.latLabel=g.tickText(t,t.c2l(r[1]),!0).text,v}},14977:function(G,V,e){var g=e(30211),R=e(50606).BADNUM,i=e(34603),L=e(71828).fillText,T=e(19316);G.exports=function(t,r,l){var n=t.cd,s=n[0].trace,c=t.xa,u=t.ya,y=t.subplot,h=y.projection.isLonLatOverEdges,b=y.project;function f(S){var x=S.lonlat;if(x[0]===R||h(x))return 1/0;var a=b(x),E=b([r,l]),w=Math.abs(a[0]-E[0]),k=Math.abs(a[1]-E[1]),I=Math.max(3,S.mrc||0);return Math.max(Math.sqrt(w*w+k*k)-I,1-3/I)}if(g.getClosest(n,f,t),t.index!==!1){var o=n[t.index],d=o.lonlat,A=[c.c2p(d),u.c2p(d)],M=o.mrc||1;t.x0=A[0]-M,t.x1=A[0]+M,t.y0=A[1]-M,t.y1=A[1]+M,t.loc=o.loc,t.lon=d[0],t.lat=d[1];var C={};C[s.geo]={_subplot:y};var m=s._module.formatLabels(o,s,C);return t.lonLabel=m.lonLabel,t.latLabel=m.latLabel,t.color=i(s,o),t.extraText=v(s,o,t,n[0].t.labels),t.hovertemplate=s.hovertemplate,[t]}};function v(p,t,r,l){if(p.hovertemplate)return;var n=t.hi||p.hoverinfo,s=n==="all"?T.hoverinfo.flags:n.split("+"),c=s.indexOf("location")!==-1&&Array.isArray(p.locations),u=s.indexOf("lon")!==-1,y=s.indexOf("lat")!==-1,h=s.indexOf("text")!==-1,b=[];function f(o){return o+""}return c?b.push(t.loc):u&&y?b.push("("+f(r.latLabel)+", "+f(r.lonLabel)+")"):u?b.push(l.lon+f(r.lonLabel)):y&&b.push(l.lat+f(r.latLabel)),h&&L(t,p,b),b.join("<br>")}},17988:function(G,V,e){G.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(G,V,e){var g=e(39898),R=e(71828),i=e(90973).getTopojsonFeatures,L=e(18214),T=e(41327),v=e(71739).findExtremes,p=e(50606).BADNUM,t=e(47761).calcMarkerSize,r=e(34098),l=e(33095);function n(c,u,y){var h=u.layers.frontplot.select(".scatterlayer"),b=R.makeTraceGroups(h,y,"trace scattergeo");function f(o,d){o.lonlat[0]===p&&g.select(d).remove()}b.selectAll("*").remove(),b.each(function(o){var d=g.select(this),A=o[0].trace;if(r.hasLines(A)||A.fill!=="none"){var M=L.calcTraceToLineCoords(o),C=A.fill!=="none"?L.makePolygon(M):L.makeLine(M);d.selectAll("path.js-line").data([{geojson:C,trace:A}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}r.hasMarkers(A)&&d.selectAll("path.point").data(R.identity).enter().append("path").classed("point",!0).each(function(m){f(m,this)}),r.hasText(A)&&d.selectAll("g").data(R.identity).enter().append("g").append("text").each(function(m){f(m,this)}),l(c,o)})}function s(c,u){var y=c[0].trace,h=u[y.geo],b=h._subplot,f=y._length,o,d;if(Array.isArray(y.locations)){var A=y.locationmode,M=A==="geojson-id"?T.extractTraceFeature(c):i(y,b.topojson);for(o=0;o<f;o++){d=c[o];var C=A==="geojson-id"?d.fOut:T.locationToFeature(A,d.loc,M);d.lonlat=C?C.properties.ct:[p,p]}}var m={padded:!0},S,x;if(h.fitbounds==="geojson"&&y.locationmode==="geojson-id"){var a=T.computeBbox(T.getTraceGeojson(y));S=[a[0],a[2]],x=[a[1],a[3]]}else{for(S=new Array(f),x=new Array(f),o=0;o<f;o++)d=c[o],S[o]=d.lonlat[0],x[o]=d.lonlat[1];m.ppad=t(y,f)}y._extremes.lon=v(h.lonaxis._ax,S,m),y._extremes.lat=v(h.lataxis._ax,x,m)}G.exports={calcGeoJSON:s,plot:n}},20548:function(G,V,e){var g=e(34098),R=e(50606).BADNUM;G.exports=function(L,T){var v=L.cd,p=L.xaxis,t=L.yaxis,r=[],l=v[0].trace,n,s,c,u,y,h=!g.hasMarkers(l)&&!g.hasText(l);if(h)return[];if(T===!1)for(y=0;y<v.length;y++)v[y].selected=0;else for(y=0;y<v.length;y++)n=v[y],s=n.lonlat,s[0]!==R&&(c=p.c2p(s),u=t.c2p(s),T.contains([c,u],null,y,L)?(r.push({pointNumber:y,lon:s[0],lat:s[1]}),n.selected=1):n.selected=0);return r}},33095:function(G,V,e){var g=e(39898),R=e(91424),i=e(7901),L=e(16296),T=L.stylePoints,v=L.styleText;G.exports=function(r,l){l&&p(r,l)};function p(t,r){var l=r[0].trace,n=r[0].node3;n.style("opacity",r[0].trace.opacity),T(n,l,t),v(n,l,t),n.selectAll("path.js-line").style("fill","none").each(function(s){var c=g.select(this),u=s.trace,y=u.line||{};c.call(i.stroke,y.color).call(R.dashLine,y.dash||"",y.width||0),u.fill!=="none"&&c.call(i.fill,u.fillcolor)})}},42341:function(G,V,e){var g=e(9012),R=e(82196),i=e(12663).axisHoverFormat,L=e(50693),T=e(78607),v=e(1426).extendFlat,p=e(30962).overrideAll,t=e(78232).DASHES,r=R.line,l=R.marker,n=l.line,s=G.exports=p({x:R.x,x0:R.x0,dx:R.dx,y:R.y,y0:R.y0,dy:R.dy,xperiod:R.xperiod,yperiod:R.yperiod,xperiod0:R.xperiod0,yperiod0:R.yperiod0,xperiodalignment:R.xperiodalignment,yperiodalignment:R.yperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),text:R.text,hovertext:R.hovertext,textposition:R.textposition,textfont:R.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:T(t),dflt:"solid"}},marker:v({},L("marker"),{symbol:l.symbol,angle:l.angle,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:l.opacity,colorbar:l.colorbar,line:v({},L("marker.line"),{width:n.width})}),connectgaps:R.connectgaps,fill:v({},R.fill,{dflt:"none"}),fillcolor:R.fillcolor,selected:{marker:R.selected.marker,textfont:R.selected.textfont},unselected:{marker:R.unselected.marker,textfont:R.unselected.textfont},opacity:g.opacity},"calc","nested");s.x.editType=s.y.editType=s.x0.editType=s.y0.editType="calc+clearAxisTypes",s.hovertemplate=R.hovertemplate,s.texttemplate=R.texttemplate},72156:function(G,V,e){var g=e(20794);G.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:g.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(G,V,e){var g=e(88294),R=e(71828),i=e(41675),L=e(71739).findExtremes,T=e(42973),v=e(47761),p=v.calcMarkerSize,t=v.calcAxisExpansion,r=v.setFirstScatter,l=e(36922),n=e(19635),s=e(38967),c=e(50606).BADNUM,u=e(78232).TOO_MANY_POINTS;G.exports=function(f,o){var d=f._fullLayout,A=o._xA=i.getFromId(f,o.xaxis,"x"),M=o._yA=i.getFromId(f,o.yaxis,"y"),C=d._plots[o.xaxis+o.yaxis],m=o._length,S=m>=u,x=m*2,a={},E,w=A.makeCalcdata(o,"x"),k=M.makeCalcdata(o,"y"),I=T(o,A,"x",w),U=T(o,M,"y",k),z=I.vals,N=U.vals;o._x=z,o._y=N,o.xperiodalignment&&(o._origX=w,o._xStarts=I.starts,o._xEnds=I.ends),o.yperiodalignment&&(o._origY=k,o._yStarts=U.starts,o._yEnds=U.ends);var B=new Array(x),F=new Array(m);for(E=0;E<m;E++)B[E*2]=z[E]===c?NaN:z[E],B[E*2+1]=N[E]===c?NaN:N[E],F[E]=E;if(A.type==="log")for(E=0;E<x;E+=2)B[E]=A.c2l(B[E]);if(M.type==="log")for(E=1;E<x;E+=2)B[E]=M.c2l(B[E]);S&&A.type!=="log"&&M.type!=="log"?a.tree=g(B):a.ids=F,l(f,o);var H=h(f,C,o,B,z,N),X=s(f,C);r(d,o);var q;return S?H.marker&&(q=H.marker.sizeAvg||Math.max(H.marker.size,3)):q=p(o,m),t(f,o,A,M,z,N,q),H.errorX&&y(o,A,H.errorX),H.errorY&&y(o,M,H.errorY),H.fill&&!X.fill2d&&(X.fill2d=!0),H.marker&&!X.scatter2d&&(X.scatter2d=!0),H.line&&!X.line2d&&(X.line2d=!0),(H.errorX||H.errorY)&&!X.error2d&&(X.error2d=!0),H.text&&!X.glText&&(X.glText=!0),H.marker&&(H.marker.snap=m),X.lineOptions.push(H.line),X.errorXOptions.push(H.errorX),X.errorYOptions.push(H.errorY),X.fillOptions.push(H.fill),X.markerOptions.push(H.marker),X.markerSelectedOptions.push(H.markerSel),X.markerUnselectedOptions.push(H.markerUnsel),X.textOptions.push(H.text),X.textSelectedOptions.push(H.textSel),X.textUnselectedOptions.push(H.textUnsel),X.selectBatch.push([]),X.unselectBatch.push([]),a._scene=X,a.index=X.count,a.x=z,a.y=N,a.positions=B,X.count++,[{x:!1,y:!1,t:a,trace:o}]};function y(b,f,o){var d=b._extremes[f._id],A=L(f,o._bnds,{padded:!0});d.min=d.min.concat(A.min),d.max=d.max.concat(A.max)}function h(b,f,o,d,A,M){var C=n.style(b,o);if(C.marker&&(C.marker.positions=d),C.line&&d.length>1&&R.extendFlat(C.line,n.linePositions(b,o,d)),C.errorX||C.errorY){var m=n.errorBarPositions(b,o,d,A,M);C.errorX&&R.extendFlat(C.errorX,m.x),C.errorY&&R.extendFlat(C.errorY,m.y)}return C.text&&(R.extendFlat(C.text,{positions:d},n.textPosition(b,o,C.text,C.marker)),R.extendFlat(C.textSel,{positions:d},n.textPosition(b,o,C.text,C.markerSel)),R.extendFlat(C.textUnsel,{positions:d},n.textPosition(b,o,C.text,C.markerUnsel))),C}},78232:function(G){var V=20;G.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:V,SYMBOL_STROKE:V/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(G,V,e){var g=e(92770),R=e(82019),i=e(25075),L=e(73972),T=e(71828),v=e(91424),p=e(41675),t=e(81697).formatColor,r=e(34098),l=e(39984),n=e(68645),s=e(78232),c=e(37822).DESELECTDIM,u={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},y=e(23469).appendArrayPointValue;function h(I,U){var z,N={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},B=I._context.plotGlPixelRatio;if(U.visible!==!0)return N;if(r.hasText(U)&&(N.text=b(I,U),N.textSel=d(I,U,U.selected),N.textUnsel=d(I,U,U.unselected)),r.hasMarkers(U)&&(N.marker=f(I,U),N.markerSel=o(I,U,U.selected),N.markerUnsel=o(I,U,U.unselected),!U.unselected&&T.isArrayOrTypedArray(U.marker.opacity))){var F=U.marker.opacity;for(N.markerUnsel.opacity=new Array(F.length),z=0;z<F.length;z++)N.markerUnsel.opacity[z]=c*F[z]}if(r.hasLines(U)){N.line={overlay:!0,thickness:U.line.width*B,color:U.line.color,opacity:U.opacity};var H=(s.DASHES[U.line.dash]||[1]).slice();for(z=0;z<H.length;++z)H[z]*=U.line.width*B;N.line.dashes=H}return U.error_x&&U.error_x.visible&&(N.errorX=A(U,U.error_x,B)),U.error_y&&U.error_y.visible&&(N.errorY=A(U,U.error_y,B)),U.fill&&U.fill!=="none"&&(N.fill={closed:!0,fill:U.fillcolor,thickness:0}),N}function b(I,U){var z=I._fullLayout,N=U._length,B=U.textfont,F=U.textposition,H=Array.isArray(F)?F:[F],X=B.color,q=B.size,ne=B.family,oe={},ve,J=I._context.plotGlPixelRatio,Y=U.texttemplate;if(Y){oe.text=[];var j=z._d3locale,K=Array.isArray(Y),te=K?Math.min(Y.length,N):N,se=K?function(Se){return Y[Se]}:function(){return Y};for(ve=0;ve<te;ve++){var Q={i:ve},ee=U._module.formatLabels(Q,U,z),le={};y(le,U,ve);var ie=U._meta||{};oe.text.push(T.texttemplateString(se(ve),ee,j,le,Q,ie))}}else Array.isArray(U.text)&&U.text.length<N?oe.text=U.text.slice():oe.text=U.text;if(Array.isArray(oe.text))for(ve=oe.text.length;ve<N;ve++)oe.text[ve]="";for(oe.opacity=U.opacity,oe.font={},oe.align=[],oe.baseline=[],ve=0;ve<H.length;ve++){var he=H[ve].split(/\s+/);switch(he[1]){case"left":oe.align.push("right");break;case"right":oe.align.push("left");break;default:oe.align.push(he[1])}switch(he[0]){case"top":oe.baseline.push("bottom");break;case"bottom":oe.baseline.push("top");break;default:oe.baseline.push(he[0])}}if(Array.isArray(X))for(oe.color=new Array(N),ve=0;ve<N;ve++)oe.color[ve]=X[ve];else oe.color=X;if(T.isArrayOrTypedArray(q)||Array.isArray(ne))for(oe.font=new Array(N),ve=0;ve<N;ve++){var xe=oe.font[ve]={};xe.size=(T.isTypedArray(q)?q[ve]:Array.isArray(q)?g(q[ve])?q[ve]:0:q)*J,xe.family=Array.isArray(ne)?ne[ve]:ne}else oe.font={size:q*J,family:ne};return oe}function f(I,U){var z=U._length,N=U.marker,B={},F,H=T.isArrayOrTypedArray(N.symbol),X=T.isArrayOrTypedArray(N.angle),q=T.isArrayOrTypedArray(N.color),ne=T.isArrayOrTypedArray(N.line.color),oe=T.isArrayOrTypedArray(N.opacity),ve=T.isArrayOrTypedArray(N.size),J=T.isArrayOrTypedArray(N.line.width),Y;if(H||(Y=n.isOpenSymbol(N.symbol)),H||q||ne||oe||X){B.symbols=new Array(z),B.angles=new Array(z),B.colors=new Array(z),B.borderColors=new Array(z);var j=N.symbol,K=N.angle,te=t(N,N.opacity,z),se=t(N.line,N.opacity,z);if(!Array.isArray(se[0])){var Q=se;for(se=Array(z),F=0;F<z;F++)se[F]=Q}if(!Array.isArray(te[0])){var ee=te;for(te=Array(z),F=0;F<z;F++)te[F]=ee}if(!Array.isArray(j)){var le=j;for(j=Array(z),F=0;F<z;F++)j[F]=le}if(!Array.isArray(K)){var ie=K;for(K=Array(z),F=0;F<z;F++)K[F]=ie}for(B.symbols=j,B.angles=K,B.colors=te,B.borderColors=se,F=0;F<z;F++)H&&(Y=n.isOpenSymbol(N.symbol[F])),Y&&(se[F]=te[F].slice(),te[F]=te[F].slice(),te[F][3]=0);for(B.opacity=U.opacity,B.markers=new Array(z),F=0;F<z;F++)B.markers[F]=a({mx:B.symbols[F],ma:B.angles[F]},U)}else Y?(B.color=i(N.color,"uint8"),B.color[3]=0,B.borderColor=i(N.color,"uint8")):(B.color=i(N.color,"uint8"),B.borderColor=i(N.line.color,"uint8")),B.opacity=U.opacity*N.opacity,B.marker=a({mx:N.symbol,ma:N.angle},U);var he=1,xe=l(U,he),Se;if(ve||J){var Ee=B.sizes=new Array(z),Ne=B.borderSizes=new Array(z),He=0,Ce;if(ve){for(F=0;F<z;F++)Ee[F]=xe(N.size[F]),He+=Ee[F];Ce=He/z}else for(Se=xe(N.size),F=0;F<z;F++)Ee[F]=Se;if(J)for(F=0;F<z;F++)Ne[F]=N.line.width[F];else for(Se=N.line.width,F=0;F<z;F++)Ne[F]=Se;B.sizeAvg=Ce}else B.size=xe(N&&N.size||10),B.borderSizes=xe(N.line.width);return B}function o(I,U,z){var N=U.marker,B={};return z&&(z.marker&&z.marker.symbol?B=f(I,T.extendFlat({},N,z.marker)):z.marker&&(z.marker.size&&(B.size=z.marker.size),z.marker.color&&(B.colors=z.marker.color),z.marker.opacity!==void 0&&(B.opacity=z.marker.opacity))),B}function d(I,U,z){var N={};if(!z)return N;if(z.textfont){var B={opacity:1,text:U.text,texttemplate:U.texttemplate,textposition:U.textposition,textfont:T.extendFlat({},U.textfont)};z.textfont&&T.extendFlat(B.textfont,z.textfont),N=b(I,B)}return N}function A(I,U,z){var N={capSize:U.width*2*z,lineWidth:U.thickness*z,color:U.color};return U.copy_ystyle&&(N=I.error_y),N}var M=s.SYMBOL_SDF_SIZE,C=s.SYMBOL_SIZE,m=s.SYMBOL_STROKE,S={},x=v.symbolFuncs[0](C*.05);function a(I,U){var z=I.mx;if(z==="circle")return null;var N,B,F=v.symbolNumber(z),H=v.symbolFuncs[F%100],X=!!v.symbolNoDot[F%100],q=!!v.symbolNoFill[F%100],ne=n.isDotSymbol(z);if(I.ma&&(z+="_"+I.ma),S[z])return S[z];var oe=v.getMarkerAngle(I,U);return ne&&!X?N=H(C*1.1,oe)+x:N=H(C,oe),B=R(N,{w:M,h:M,viewBox:[-C,-C,C,C],stroke:q?m:-m}),S[z]=B,B||null}function E(I,U,z){var N=z.length,B=N/2,F,H;if(r.hasLines(U)&&B)if(U.line.shape==="hv"){for(F=[],H=0;H<B-1;H++)isNaN(z[H*2])||isNaN(z[H*2+1])?F.push(NaN,NaN,NaN,NaN):(F.push(z[H*2],z[H*2+1]),!isNaN(z[H*2+2])&&!isNaN(z[H*2+3])?F.push(z[H*2+2],z[H*2+1]):F.push(NaN,NaN));F.push(z[N-2],z[N-1])}else if(U.line.shape==="hvh"){for(F=[],H=0;H<B-1;H++)if(isNaN(z[H*2])||isNaN(z[H*2+1])||isNaN(z[H*2+2])||isNaN(z[H*2+3]))!isNaN(z[H*2])&&!isNaN(z[H*2+1])?F.push(z[H*2],z[H*2+1]):F.push(NaN,NaN),F.push(NaN,NaN);else{var X=(z[H*2]+z[H*2+2])/2;F.push(z[H*2],z[H*2+1],X,z[H*2+1],X,z[H*2+3])}F.push(z[N-2],z[N-1])}else if(U.line.shape==="vhv"){for(F=[],H=0;H<B-1;H++)if(isNaN(z[H*2])||isNaN(z[H*2+1])||isNaN(z[H*2+2])||isNaN(z[H*2+3]))!isNaN(z[H*2])&&!isNaN(z[H*2+1])?F.push(z[H*2],z[H*2+1]):F.push(NaN,NaN),F.push(NaN,NaN);else{var q=(z[H*2+1]+z[H*2+3])/2;F.push(z[H*2],z[H*2+1],z[H*2],q,z[H*2+2],q)}F.push(z[N-2],z[N-1])}else if(U.line.shape==="vh"){for(F=[],H=0;H<B-1;H++)isNaN(z[H*2])||isNaN(z[H*2+1])?F.push(NaN,NaN,NaN,NaN):(F.push(z[H*2],z[H*2+1]),!isNaN(z[H*2+2])&&!isNaN(z[H*2+3])?F.push(z[H*2],z[H*2+3]):F.push(NaN,NaN));F.push(z[N-2],z[N-1])}else F=z;var ne=!1;for(H=0;H<F.length;H++)if(isNaN(F[H])){ne=!0;break}var oe=ne||F.length>s.TOO_MANY_POINTS||r.hasMarkers(U)?"rect":"round";if(ne&&U.connectgaps){var ve=F[0],J=F[1];for(H=0;H<F.length;H+=2)isNaN(F[H])||isNaN(F[H+1])?(F[H]=ve,F[H+1]=J):(ve=F[H],J=F[H+1])}return{join:oe,positions:F}}function w(I,U,z,N,B){var F=L.getComponentMethod("errorbars","makeComputeError"),H=p.getFromId(I,U.xaxis,"x"),X=p.getFromId(I,U.yaxis,"y"),q=z.length/2,ne={};function oe(ve,J){var Y=J._id.charAt(0),j=U["error_"+Y];if(j&&j.visible&&(J.type==="linear"||J.type==="log")){for(var K=F(j),te={x:0,y:1}[Y],se={x:[0,1,2,3],y:[2,3,0,1]}[Y],Q=new Float64Array(4*q),ee=1/0,le=-1/0,ie=0,he=0;ie<q;ie++,he+=4){var xe=ve[ie];if(g(xe)){var Se=z[ie*2+te],Ee=K(xe,ie),Ne=Ee[0],He=Ee[1];if(g(Ne)&&g(He)){var Ce=xe-Ne,be=xe+He;Q[he+se[0]]=Se-J.c2l(Ce),Q[he+se[1]]=J.c2l(be)-Se,Q[he+se[2]]=0,Q[he+se[3]]=0,ee=Math.min(ee,xe-Ne),le=Math.max(le,xe+He)}}}ne[Y]={positions:z,errors:Q,_bnds:[ee,le]}}}return oe(N,H),oe(B,X),ne}function k(I,U,z,N){var B=U._length,F={},H;if(r.hasMarkers(U)){var X=z.font,q=z.align,ne=z.baseline;for(F.offset=new Array(B),H=0;H<B;H++){var oe=N.sizes?N.sizes[H]:N.size,ve=Array.isArray(X)?X[H].size:X.size,J=Array.isArray(q)?q.length>1?q[H]:q[0]:q,Y=Array.isArray(ne)?ne.length>1?ne[H]:ne[0]:ne,j=u[J],K=u[Y],te=oe?oe/.8+1:0,se=-K*te-K*.5;F.offset[H]=[j*te/ve,se/ve]}}return F}G.exports={style:h,markerStyle:f,markerSelection:o,linePositions:E,errorBarPositions:w,textPosition:k}},47148:function(G,V,e){var g=e(71828),R=e(73972),i=e(68645),L=e(42341),T=e(47581),v=e(34098),p=e(67513),t=e(73927),r=e(49508),l=e(11058),n=e(28908),s=e(82410);G.exports=function(u,y,h,b){function f(x,a){return g.coerce(u,y,L,x,a)}var o=u.marker?i.isOpenSymbol(u.marker.symbol):!1,d=v.isBubble(u),A=p(u,y,b,f);if(!A){y.visible=!1;return}t(u,y,b,f),f("xhoverformat"),f("yhoverformat");var M=A<T.PTS_LINESONLY?"lines+markers":"lines";f("text"),f("hovertext"),f("hovertemplate"),f("mode",M),v.hasLines(y)&&(f("connectgaps"),l(u,y,h,b,f),f("line.shape")),v.hasMarkers(y)&&(r(u,y,h,b,f,{noAngleRef:!0,noStandOff:!0}),f("marker.line.width",o||d?1:0)),v.hasText(y)&&(f("texttemplate"),s(u,y,b,f));var C=(y.line||{}).color,m=(y.marker||{}).color;f("fill"),y.fill!=="none"&&n(u,y,h,f);var S=R.getComponentMethod("errorbars","supplyDefaults");S(u,y,C||m||h,{axis:"y"}),S(u,y,C||m||h,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(y,f)}},5345:function(G,V,e){var g=e(71828),R=e(7901),i=e(37822).DESELECTDIM;function L(T){var v=T[0],p=v.trace,t=v.t,r=t._scene,l=t.index,n=r.selectBatch[l],s=r.unselectBatch[l],c=r.textOptions[l],u=r.textSelectedOptions[l]||{},y=r.textUnselectedOptions[l]||{},h=g.extendFlat({},c),b,f;if(n.length||s.length){var o=u.color,d=y.color,A=c.color,M=Array.isArray(A);for(h.color=new Array(p._length),b=0;b<n.length;b++)f=n[b],h.color[f]=o||(M?A[f]:A);for(b=0;b<s.length;b++){f=s[b];var C=M?A[f]:A;h.color[f]=d||(o?C:R.addOpacity(C,i))}}r.glText[l].update(h)}G.exports={styleTextSelection:L}},68101:function(G,V,e){var g=e(8225);G.exports=function(i,L,T){var v=i.i;return"x"in i||(i.x=L._x[v]),"y"in i||(i.y=L._y[v]),g(i,L,T)}},68645:function(G,V,e){var g=e(78232);V.isOpenSymbol=function(R){return typeof R=="string"?g.OPEN_RE.test(R):R%200>100},V.isDotSymbol=function(R){return typeof R=="string"?g.DOT_RE.test(R):R>200}},20794:function(G,V,e){var g=e(73972),R=e(71828),i=e(34603);function L(v,p,t,r){var l=v.cd,n=l[0].t,s=l[0].trace,c=v.xa,u=v.ya,y=n.x,h=n.y,b=c.c2p(p),f=u.c2p(t),o=v.distance,d;if(n.tree){var A=c.p2c(b-o),M=c.p2c(b+o),C=u.p2c(f-o),m=u.p2c(f+o);r==="x"?d=n.tree.range(Math.min(A,M),Math.min(u._rl[0],u._rl[1]),Math.max(A,M),Math.max(u._rl[0],u._rl[1])):d=n.tree.range(Math.min(A,M),Math.min(C,m),Math.max(A,M),Math.max(C,m))}else d=n.ids;var S,x,a,E,w,k,I,U,z,N=o;if(r==="x"){var B=!!s.xperiodalignment,F=!!s.yperiodalignment;for(w=0;w<d.length;w++){if(S=d[w],a=y[S],k=Math.abs(c.c2p(a)-b),B){var H=c.c2p(s._xStarts[S]),X=c.c2p(s._xEnds[S]);k=b>=Math.min(H,X)&&b<=Math.max(H,X)?0:1/0}if(k<N){if(N=k,E=h[S],I=u.c2p(E)-f,F){var q=u.c2p(s._yStarts[S]),ne=u.c2p(s._yEnds[S]);I=f>=Math.min(q,ne)&&f<=Math.max(q,ne)?0:1/0}z=Math.sqrt(k*k+I*I),x=d[w]}}}else for(w=d.length-1;w>-1;w--)S=d[w],a=y[S],E=h[S],k=c.c2p(a)-b,I=u.c2p(E)-f,U=Math.sqrt(k*k+I*I),U<N&&(N=z=U,x=S);return v.index=x,v.distance=N,v.dxy=z,x===void 0?[v]:[T(v,y,h,s)]}function T(v,p,t,r){var l=v.xa,n=v.ya,s=v.distance,c=v.dxy,u=v.index,y={pointNumber:u,x:p[u],y:t[u]};y.tx=Array.isArray(r.text)?r.text[u]:r.text,y.htx=Array.isArray(r.hovertext)?r.hovertext[u]:r.hovertext,y.data=Array.isArray(r.customdata)?r.customdata[u]:r.customdata,y.tp=Array.isArray(r.textposition)?r.textposition[u]:r.textposition;var h=r.textfont;h&&(y.ts=R.isArrayOrTypedArray(h.size)?h.size[u]:h.size,y.tc=Array.isArray(h.color)?h.color[u]:h.color,y.tf=Array.isArray(h.family)?h.family[u]:h.family);var b=r.marker;b&&(y.ms=R.isArrayOrTypedArray(b.size)?b.size[u]:b.size,y.mo=R.isArrayOrTypedArray(b.opacity)?b.opacity[u]:b.opacity,y.mx=R.isArrayOrTypedArray(b.symbol)?b.symbol[u]:b.symbol,y.ma=R.isArrayOrTypedArray(b.angle)?b.angle[u]:b.angle,y.mc=R.isArrayOrTypedArray(b.color)?b.color[u]:b.color);var f=b&&b.line;f&&(y.mlc=Array.isArray(f.color)?f.color[u]:f.color,y.mlw=R.isArrayOrTypedArray(f.width)?f.width[u]:f.width);var o=b&&b.gradient;o&&o.type!=="none"&&(y.mgt=Array.isArray(o.type)?o.type[u]:o.type,y.mgc=Array.isArray(o.color)?o.color[u]:o.color);var d=l.c2p(y.x,!0),A=n.c2p(y.y,!0),M=y.mrc||1,C=r.hoverlabel;C&&(y.hbg=Array.isArray(C.bgcolor)?C.bgcolor[u]:C.bgcolor,y.hbc=Array.isArray(C.bordercolor)?C.bordercolor[u]:C.bordercolor,y.hts=R.isArrayOrTypedArray(C.font.size)?C.font.size[u]:C.font.size,y.htc=Array.isArray(C.font.color)?C.font.color[u]:C.font.color,y.htf=Array.isArray(C.font.family)?C.font.family[u]:C.font.family,y.hnl=R.isArrayOrTypedArray(C.namelength)?C.namelength[u]:C.namelength);var m=r.hoverinfo;m&&(y.hi=Array.isArray(m)?m[u]:m);var S=r.hovertemplate;S&&(y.ht=Array.isArray(S)?S[u]:S);var x={};x[v.index]=y;var a=r._origX,E=r._origY,w=R.extendFlat({},v,{color:i(r,y),x0:d-M,x1:d+M,xLabelVal:a?a[u]:y.x,y0:A-M,y1:A+M,yLabelVal:E?E[u]:y.y,cd:x,distance:s,spikeDistance:c,hovertemplate:y.ht});return y.htx?w.text=y.htx:y.tx?w.text=y.tx:r.text&&(w.text=r.text),R.fillText(y,r,w),g.getComponentMethod("errorbars","hoverInfo")(y,r,w),w}G.exports={hoverPoints:L,calcHover:T}},68868:function(G,V,e){var g=e(72156);g.plot=e(26787),G.exports=g},26787:function(G,V,e){var g=e(11870),R=e(46075),i=e(3593),L=e(42505),T=e(71828),v=e(64505).selectMode,p=e(79749),t=e(34098),r=e(68687),l=e(5345).styleTextSelection,n={};function s(u,y,h,b){var f=u._size,o=u.width*b,d=u.height*b,A=f.l*b,M=f.b*b,C=f.r*b,m=f.t*b,S=f.w*b,x=f.h*b;return[A+y.domain[0]*S,M+h.domain[0]*x,o-C-(1-y.domain[1])*S,d-m-(1-h.domain[1])*x]}var c=G.exports=function(y,h,b){if(b.length){var f=y._fullLayout,o=h._scene,d=h.xaxis,A=h.yaxis,M,C;if(o){var m=p(y,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!m){o.init();return}var S=o.count,x=f._glcanvas.data()[0].regl;if(r(y,h,b),o.dirty){if(o.error2d===!0&&(o.error2d=i(x)),o.line2d===!0&&(o.line2d=R(x)),o.scatter2d===!0&&(o.scatter2d=g(x)),o.fill2d===!0&&(o.fill2d=R(x)),o.glText===!0)for(o.glText=new Array(S),M=0;M<S;M++)o.glText[M]=new L(x);if(o.glText){if(S>o.glText.length){var a=S-o.glText.length;for(M=0;M<a;M++)o.glText.push(new L(x))}else if(S<o.glText.length){var E=o.glText.length-S,w=o.glText.splice(S,E);w.forEach(function(Q){Q.destroy()})}for(M=0;M<S;M++)o.glText[M].update(o.textOptions[M])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(Q){if(Q&&Q.positions){for(var ee=Q.positions,le=0;le<ee.length&&(isNaN(ee[le])||isNaN(ee[le+1]));)le+=2;for(var ie=ee.length-2;ie>le&&(isNaN(ee[ie])||isNaN(ee[ie+1]));)ie-=2;Q.positions=ee.slice(le,ie+2)}return Q}),o.line2d.update(o.lineOptions)),o.error2d){var k=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(k)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=T.repeat(null,S),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(Q,ee){var le=b[ee];if(!(!Q||!le||!le[0]||!le[0].trace)){var ie=le[0],he=ie.trace,xe=ie.t,Se=o.lineOptions[ee],Ee,Ne,He=[];he._ownfill&&He.push(ee),he._nexttrace&&He.push(ee+1),He.length&&(o.fillOrder[ee]=He);var Ce=[],be=Se&&Se.positions||xe.positions,we,ke;if(he.fill==="tozeroy"){for(we=0;we<be.length&&isNaN(be[we+1]);)we+=2;for(ke=be.length-2;ke>we&&isNaN(be[ke+1]);)ke-=2;be[we+1]!==0&&(Ce=[be[we],0]),Ce=Ce.concat(be.slice(we,ke+2)),be[ke+1]!==0&&(Ce=Ce.concat([be[ke],0]))}else if(he.fill==="tozerox"){for(we=0;we<be.length&&isNaN(be[we]);)we+=2;for(ke=be.length-2;ke>we&&isNaN(be[ke]);)ke-=2;be[we]!==0&&(Ce=[0,be[we+1]]),Ce=Ce.concat(be.slice(we,ke+2)),be[ke]!==0&&(Ce=Ce.concat([0,be[ke+1]]))}else if(he.fill==="toself"||he.fill==="tonext"){for(Ce=[],Ee=0,Q.splitNull=!0,Ne=0;Ne<be.length;Ne+=2)(isNaN(be[Ne])||isNaN(be[Ne+1]))&&(Ce=Ce.concat(be.slice(Ee,Ne)),Ce.push(be[Ee],be[Ee+1]),Ce.push(null,null),Ee=Ne+2);Ce=Ce.concat(be.slice(Ee)),Ee&&Ce.push(be[Ee],be[Ee+1])}else{var Fe=he._nexttrace;if(Fe){var Pe=o.lineOptions[ee+1];if(Pe){var Ge=Pe.positions;if(he.fill==="tonexty"){for(Ce=be.slice(),ee=Math.floor(Ge.length/2);ee--;){var nt=Ge[ee*2],qe=Ge[ee*2+1];isNaN(nt)||isNaN(qe)||Ce.push(nt,qe)}Q.fill=Fe.fillcolor}}}}if(he._prevtrace&&he._prevtrace.fill==="tonext"){var Ke=o.lineOptions[ee-1].positions,$e=Ce.length/2;Ee=$e;var vt=[Ee];for(Ne=0;Ne<Ke.length;Ne+=2)(isNaN(Ke[Ne])||isNaN(Ke[Ne+1]))&&(vt.push(Ne/2+$e+1),Ee=Ne+2);Ce=Ce.concat(Ke),Q.hole=vt}return Q.fillmode=he.fill,Q.opacity=he.opacity,Q.positions=Ce,Q}}),o.fill2d.update(o.fillOptions))}var I=f.dragmode,U=v(I),z=f.clickmode.indexOf("select")>-1;for(M=0;M<S;M++){var N=b[M][0],B=N.trace,F=N.t,H=F.index,X=B._length,q=F.x,ne=F.y;if(B.selectedpoints||U||z){if(U||(U=!0),B.selectedpoints){var oe=o.selectBatch[H]=T.selIndices2selPoints(B),ve={};for(C=0;C<oe.length;C++)ve[oe[C]]=1;var J=[];for(C=0;C<X;C++)ve[C]||J.push(C);o.unselectBatch[H]=J}var Y=F.xpx=new Array(X),j=F.ypx=new Array(X);for(C=0;C<X;C++)Y[C]=d.c2p(q[C]),j[C]=A.c2p(ne[C])}else F.xpx=F.ypx=null}if(U){if(o.select2d||(o.select2d=g(f._glcanvas.data()[1].regl)),o.scatter2d){var K=new Array(S);for(M=0;M<S;M++)K[M]=o.selectBatch[M].length||o.unselectBatch[M].length?o.markerUnselectedOptions[M]:{};o.scatter2d.update(K)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&b.forEach(function(Q){var ee=((Q||[])[0]||{}).trace||{};t.hasText(ee)&&l(Q)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var te={viewport:s(f,d,A,y._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(A._rl||A.range)[0],(d._rl||d.range)[1],(A._rl||A.range)[1]]},se=T.repeat(te,o.count);o.fill2d&&o.fill2d.update(se),o.line2d&&o.line2d.update(se),o.error2d&&o.error2d.update(se.concat(se)),o.scatter2d&&o.scatter2d.update(se),o.select2d&&o.select2d.update(se),o.glText&&o.glText.forEach(function(Q){Q.update(te)})}}};c.reglPrecompiled=n},38967:function(G,V,e){var g=e(71828);G.exports=function(i,L){var T=L._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},p={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return L._scene||(T=L._scene={},T.init=function(){g.extendFlat(T,p,v)},T.init(),T.update=function(r){var l=g.repeat(r,T.count);if(T.fill2d&&T.fill2d.update(l),T.scatter2d&&T.scatter2d.update(l),T.line2d&&T.line2d.update(l),T.error2d&&T.error2d.update(l.concat(l)),T.select2d&&T.select2d.update(l),T.glText)for(var n=0;n<T.count;n++)T.glText[n].update(r)},T.draw=function(){for(var r=T.count,l=T.fill2d,n=T.error2d,s=T.line2d,c=T.scatter2d,u=T.glText,y=T.select2d,h=T.selectBatch,b=T.unselectBatch,f=0;f<r;f++){if(l&&T.fillOrder[f]&&l.draw(T.fillOrder[f]),s&&T.lineOptions[f]&&s.draw(f),n&&(T.errorXOptions[f]&&n.draw(f),T.errorYOptions[f]&&n.draw(f+r)),c&&T.markerOptions[f])if(b[f].length){var o=g.repeat([],T.count);o[f]=b[f],c.draw(o)}else h[f].length||c.draw(f);u[f]&&T.textOptions[f]&&u[f].render()}y&&y.draw(h),T.dirty=!1},T.destroy=function(){T.fill2d&&T.fill2d.destroy&&T.fill2d.destroy(),T.scatter2d&&T.scatter2d.destroy&&T.scatter2d.destroy(),T.error2d&&T.error2d.destroy&&T.error2d.destroy(),T.line2d&&T.line2d.destroy&&T.line2d.destroy(),T.select2d&&T.select2d.destroy&&T.select2d.destroy(),T.glText&&T.glText.forEach(function(r){r.destroy&&r.destroy()}),T.lineOptions=null,T.fillOptions=null,T.markerOptions=null,T.markerSelectedOptions=null,T.markerUnselectedOptions=null,T.errorXOptions=null,T.errorYOptions=null,T.textOptions=null,T.textSelectedOptions=null,T.textUnselectedOptions=null,T.selectBatch=null,T.unselectBatch=null,L._scene=null}),T.dirty||g.extendFlat(T,v),T}},58147:function(G,V,e){var g=e(34098),R=e(5345).styleTextSelection;G.exports=function(L,T){var v=L.cd,p=L.xaxis,t=L.yaxis,r=[],l=v[0].trace,n=v[0].t,s=l._length,c=n.x,u=n.y,y=n._scene,h=n.index;if(!y)return r;var b=g.hasText(l),f=g.hasMarkers(l),o=!f&&!b;if(l.visible!==!0||o)return r;var d=[],A=[];if(T!==!1&&!T.degenerate)for(var M=0;M<s;M++)T.contains([n.xpx[M],n.ypx[M]],!1,M,L)?(d.push(M),r.push({pointNumber:M,x:p.c2d(c[M]),y:t.c2d(u[M])})):A.push(M);if(f){var C=y.scatter2d;if(!d.length&&!A.length){var m=new Array(y.count);m[h]=y.markerOptions[h],C.update.apply(C,m)}else if(!y.selectBatch[h].length&&!y.unselectBatch[h].length){var S=new Array(y.count);S[h]=y.markerUnselectedOptions[h],C.update.apply(C,S)}}return y.selectBatch[h]=d,y.unselectBatch[h]=A,b&&R(v),r}},99181:function(G,V,e){var g=e(5386).fF,R=e(5386).si,i=e(19316),L=e(82196),T=e(23585),v=e(9012),p=e(50693),t=e(1426).extendFlat,r=e(30962).overrideAll,l=e(23585),n=i.line,s=i.marker;G.exports=r({lon:i.lon,lat:i.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},l.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},s.opacity,{dflt:1})},mode:t({},L.mode,{dflt:"markers"}),text:t({},L.text,{}),texttemplate:R({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},L.hovertext,{}),line:{color:n.color,width:n.width},connectgaps:L.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:s.opacity,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode},p("marker")),fill:i.fill,fillcolor:L.fillcolor,textfont:T.layers.symbol.textfont,textposition:T.layers.symbol.textposition,below:{valType:"string"},selected:{marker:L.selected.marker},unselected:{marker:L.unselected.marker},hoverinfo:t({},v.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:g()},"calc","nested")},15790:function(G,V,e){var g=e(92770),R=e(71828),i=e(50606).BADNUM,L=e(18214),T=e(21081),v=e(91424),p=e(39984),t=e(34098),r=e(13056),l=e(23469).appendArrayPointValue,n=e(63893).NEWLINES,s=e(63893).BR_TAG_ALL;G.exports=function(A,M){var C=M[0].trace,m=C.visible===!0&&C._length!==0,S=C.fill!=="none",x=t.hasLines(C),a=t.hasMarkers(C),E=t.hasText(C),w=a&&C.marker.symbol==="circle",k=a&&C.marker.symbol!=="circle",I=C.cluster&&C.cluster.enabled,U=c("fill"),z=c("line"),N=c("circle"),B=c("symbol"),F={fill:U,line:z,circle:N,symbol:B};if(!m)return F;var H;if((S||x)&&(H=L.calcTraceToLineCoords(M)),S&&(U.geojson=L.makePolygon(H),U.layout.visibility="visible",R.extendFlat(U.paint,{"fill-color":C.fillcolor})),x&&(z.geojson=L.makeLine(H),z.layout.visibility="visible",R.extendFlat(z.paint,{"line-width":C.line.width,"line-color":C.line.color,"line-opacity":C.opacity})),w){var X=u(M);N.geojson=X.geojson,N.layout.visibility="visible",I&&(N.filter=["!",["has","point_count"]],F.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":o(C.cluster.color,C.cluster.step),"circle-radius":o(C.cluster.size,C.cluster.step),"circle-opacity":o(C.cluster.opacity,C.cluster.step)}},F.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),R.extendFlat(N.paint,{"circle-color":X.mcc,"circle-radius":X.mrc,"circle-opacity":X.mo})}if(w&&I&&(N.filter=["!",["has","point_count"]]),(k||E)&&(B.geojson=y(M,A),R.extendFlat(B.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),k&&(R.extendFlat(B.layout,{"icon-size":C.marker.size/10}),"angle"in C.marker&&C.marker.angle!=="auto"&&R.extendFlat(B.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),B.layout["icon-allow-overlap"]=C.marker.allowoverlap,R.extendFlat(B.paint,{"icon-opacity":C.opacity*C.marker.opacity,"icon-color":C.marker.color})),E)){var q=(C.marker||{}).size,ne=r(C.textposition,q);R.extendFlat(B.layout,{"text-size":C.textfont.size,"text-anchor":ne.anchor,"text-offset":ne.offset}),R.extendFlat(B.paint,{"text-color":C.textfont.color,"text-opacity":C.opacity})}return F};function c(d){return{type:d,geojson:L.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function u(d){var A=d[0].trace,M=A.marker,C=A.selectedpoints,m=R.isArrayOrTypedArray(M.color),S=R.isArrayOrTypedArray(M.size),x=R.isArrayOrTypedArray(M.opacity),a;function E(q){return A.opacity*q}function w(q){return q/2}var k;m&&(T.hasColorscale(A,"marker")?k=T.makeColorScaleFuncFromTrace(M):k=R.identity);var I;S&&(I=p(A));var U;x&&(U=function(q){var ne=g(q)?+R.constrain(q,0,1):0;return E(ne)});var z=[];for(a=0;a<d.length;a++){var N=d[a],B=N.lonlat;if(!f(B)){var F={};k&&(F.mcc=N.mcc=k(N.mc)),I&&(F.mrc=N.mrc=I(N.ms)),U&&(F.mo=U(N.mo)),C&&(F.selected=N.selected||0),z.push({type:"Feature",id:a+1,geometry:{type:"Point",coordinates:B},properties:F})}}var H;if(C)for(H=v.makeSelectedPointStyleFns(A),a=0;a<z.length;a++){var X=z[a].properties;H.selectedOpacityFn&&(X.mo=E(H.selectedOpacityFn(X))),H.selectedColorFn&&(X.mcc=H.selectedColorFn(X)),H.selectedSizeFn&&(X.mrc=H.selectedSizeFn(X))}return{geojson:{type:"FeatureCollection",features:z},mcc:m||H&&H.selectedColorFn?{type:"identity",property:"mcc"}:M.color,mrc:S||H&&H.selectedSizeFn?{type:"identity",property:"mrc"}:w(M.size),mo:x||H&&H.selectedOpacityFn?{type:"identity",property:"mo"}:E(M.opacity)}}function y(d,A){for(var M=A._fullLayout,C=d[0].trace,m=C.marker||{},S=m.symbol,x=m.angle,a=S!=="circle"?h(S):b,E=x!=="auto"?h(x,!0):b,w=t.hasText(C)?h(C.text):b,k=[],I=0;I<d.length;I++){var U=d[I];if(!f(U.lonlat)){var z=C.texttemplate,N;if(z){var B=Array.isArray(z)?z[I]||"":z,F=C._module.formatLabels(U,C,M),H={};l(H,C,U.i);var X=C._meta||{};N=R.texttemplateString(B,F,M._d3locale,H,U,X)}else N=w(I);N&&(N=N.replace(n,"").replace(s,`
`)),k.push({type:"Feature",geometry:{type:"Point",coordinates:U.lonlat},properties:{symbol:a(I),angle:E(I),text:N}})}}return{type:"FeatureCollection",features:k}}function h(d,A){return R.isArrayOrTypedArray(d)?A?function(M){return g(d[M])?+d[M]:0}:function(M){return d[M]}:d?function(){return d}:b}function b(){return""}function f(d){return d[0]===i}function o(d,A){var M;if(R.isArrayOrTypedArray(d)&&R.isArrayOrTypedArray(A)){M=["step",["get","point_count"],d[0]];for(var C=1;C<d.length;C++)M.push(A[C-1],d[C])}else M=d;return M}},76645:function(G,V,e){var g=e(71828),R=e(34098),i=e(49508),L=e(11058),T=e(82410),v=e(28908),p=e(99181);G.exports=function(l,n,s,c){function u(m,S){return g.coerce(l,n,p,m,S)}function y(m,S){return g.coerce2(l,n,p,m,S)}var h=t(l,n,u);if(!h){n.visible=!1;return}if(u("text"),u("texttemplate"),u("hovertext"),u("hovertemplate"),u("mode"),u("below"),R.hasLines(n)&&(L(l,n,s,c,u,{noDash:!0}),u("connectgaps")),R.hasMarkers(n)){i(l,n,s,c,u,{noLine:!0,noAngle:!0}),u("marker.allowoverlap"),u("marker.angle");var b=n.marker;b.symbol!=="circle"&&(g.isArrayOrTypedArray(b.size)&&(b.size=b.size[0]),g.isArrayOrTypedArray(b.color)&&(b.color=b.color[0]))}var f=y("cluster.maxzoom"),o=y("cluster.step"),d=y("cluster.color",n.marker&&n.marker.color||s),A=y("cluster.size"),M=y("cluster.opacity"),C=f!==!1||o!==!1||d!==!1||A!==!1||M!==!1;u("cluster.enabled",C),R.hasText(n)&&T(l,n,c,u,{noSelect:!0}),u("fill"),n.fill!=="none"&&v(l,n,s,u),g.coerceSelectionMarkerOpacity(n,u)};function t(r,l,n){var s=n("lon")||[],c=n("lat")||[],u=Math.min(s.length,c.length);return l._length=u,u}},53353:function(G){G.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e}},15636:function(G,V,e){var g=e(89298);G.exports=function(i,L,T){var v={},p=T[L.subplot]._subplot,t=p.mockAxis,r=i.lonlat;return v.lonLabel=g.tickText(t,t.c2l(r[0]),!0).text,v.latLabel=g.tickText(t,t.c2l(r[1]),!0).text,v}},28178:function(G,V,e){var g=e(30211),R=e(71828),i=e(34603),L=R.fillText,T=e(50606).BADNUM,v=e(77734).traceLayerPrefix;function p(r,l,n){var s=r.cd,c=s[0].trace,u=r.xa,y=r.ya,h=r.subplot,b=[],f=v+c.uid+"-circle",o=c.cluster&&c.cluster.enabled;if(o){var d=h.map.queryRenderedFeatures(null,{layers:[f]});b=d.map(function(z){return z.id})}var A=l>=0?Math.floor((l+180)/360):Math.ceil((l-180)/360),M=A*360,C=l-M;function m(z){var N=z.lonlat;if(N[0]===T||o&&b.indexOf(z.i+1)===-1)return 1/0;var B=R.modHalf(N[0],360),F=N[1],H=h.project([B,F]),X=H.x-u.c2p([C,F]),q=H.y-y.c2p([B,n]),ne=Math.max(3,z.mrc||0);return Math.max(Math.sqrt(X*X+q*q)-ne,1-3/ne)}if(g.getClosest(s,m,r),r.index!==!1){var S=s[r.index],x=S.lonlat,a=[R.modHalf(x[0],360)+M,x[1]],E=u.c2p(a),w=y.c2p(a),k=S.mrc||1;r.x0=E-k,r.x1=E+k,r.y0=w-k,r.y1=w+k;var I={};I[c.subplot]={_subplot:h};var U=c._module.formatLabels(S,c,I);return r.lonLabel=U.lonLabel,r.latLabel=U.latLabel,r.color=i(c,S),r.extraText=t(c,S,s[0].t.labels),r.hovertemplate=c.hovertemplate,[r]}}function t(r,l,n){if(r.hovertemplate)return;var s=l.hi||r.hoverinfo,c=s.split("+"),u=c.indexOf("all")!==-1,y=c.indexOf("lon")!==-1,h=c.indexOf("lat")!==-1,b=l.lonlat,f=[];function o(d){return d+""}return u||y&&h?f.push("("+o(b[1])+", "+o(b[0])+")"):y?f.push(n.lon+o(b[0])):h&&f.push(n.lat+o(b[1])),(u||c.indexOf("text")!==-1)&&L(l,r,f),f.join("<br>")}G.exports={hoverPoints:p,getExtraText:t}},20467:function(G,V,e){G.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(g,R){if(R){var i=R[0].trace;i._glTrace.update(R)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(G,V,e){var g=e(71828),R=e(15790),i=e(77734).traceLayerPrefix,L={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function T(p,t,r,l){this.type="scattermapbox",this.subplot=p,this.uid=t,this.clusterEnabled=r,this.isHidden=l,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:i+t+"-fill",line:i+t+"-line",circle:i+t+"-circle",symbol:i+t+"-symbol",cluster:i+t+"-cluster",clusterCount:i+t+"-cluster-count"},this.below=null}var v=T.prototype;v.addSource=function(p,t,r){var l={type:"geojson",data:t.geojson};r&&r.enabled&&g.extendFlat(l,{cluster:!0,clusterMaxZoom:r.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[p]);n?n.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[p],l)},v.setSourceData=function(p,t){this.subplot.map.getSource(this.sourceIds[p]).setData(t.geojson)},v.addLayer=function(p,t,r){var l={type:t.type,id:this.layerIds[p],source:this.sourceIds[p],layout:t.layout,paint:t.paint};t.filter&&(l.filter=t.filter);for(var n=this.layerIds[p],s,c=this.subplot.getMapLayers(),u=0;u<c.length;u++)if(c[u].id===n){s=!0;break}s?(this.subplot.setOptions(n,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",l.paint)):this.subplot.addLayer(l,r)},v.update=function(t){var r=t[0].trace,l=this.subplot,n=l.map,s=R(l.gd,t),c=l.belowLookup["trace-"+this.uid],u=!!(r.cluster&&r.cluster.enabled),y=!!this.clusterEnabled,h=this;function b(x){x||h.addSource("circle",s.circle,r.cluster);for(var a=L.cluster,E=0;E<a.length;E++){var w=a[E],k=s[w];h.addLayer(w,k,c)}}function f(x){for(var a=L.cluster,E=a.length-1;E>=0;E--){var w=a[E];n.removeLayer(h.layerIds[w])}x||n.removeSource(h.sourceIds.circle)}function o(x){for(var a=L.nonCluster,E=0;E<a.length;E++){var w=a[E],k=s[w];x||h.addSource(w,k),h.addLayer(w,k,c)}}function d(x){for(var a=L.nonCluster,E=a.length-1;E>=0;E--){var w=a[E];n.removeLayer(h.layerIds[w]),x||n.removeSource(h.sourceIds[w])}}function A(x){y?f(x):d(x)}function M(x){u?b(x):o(x)}function C(){for(var x=u?L.cluster:L.nonCluster,a=0;a<x.length;a++){var E=x[a],w=s[E];w&&(l.setOptions(h.layerIds[E],"setLayoutProperty",w.layout),w.layout.visibility==="visible"&&(E!=="cluster"&&h.setSourceData(E,w),l.setOptions(h.layerIds[E],"setPaintProperty",w.paint)))}}var m=this.isHidden,S=r.visible!==!0;S?m||A():m?S||M():y!==u?(A(),M()):(this.below!==c&&(A(!0),M(!0)),C()),this.clusterEnabled=u,this.isHidden=S,this.below=c,t[0].trace._glTrace=this},v.dispose=function(){for(var t=this.subplot.map,r=this.clusterEnabled?L.cluster:L.nonCluster,l=r.length-1;l>=0;l--){var n=r[l];t.removeLayer(this.layerIds[n]),t.removeSource(this.sourceIds[n])}},G.exports=function(t,r){var l=r[0].trace,n=l.cluster&&l.cluster.enabled,s=l.visible!==!0,c=new T(t,l.uid,n,s),u=R(t.gd,r),y=c.below=t.belowLookup["trace-"+l.uid],h,b,f;if(n)for(c.addSource("circle",u.circle,l.cluster),h=0;h<L.cluster.length;h++)b=L.cluster[h],f=u[b],c.addLayer(b,f,y);else for(h=0;h<L.nonCluster.length;h++)b=L.nonCluster[h],f=u[b],c.addSource(b,f,l.cluster),c.addLayer(b,f,y);return r[0].trace._glTrace=c,c}},86387:function(G,V,e){var g=e(71828),R=e(34098),i=e(50606).BADNUM;G.exports=function(T,v){var p=T.cd,t=T.xaxis,r=T.yaxis,l=[],n=p[0].trace,s;if(!R.hasMarkers(n))return[];if(v===!1)for(s=0;s<p.length;s++)p[s].selected=0;else for(s=0;s<p.length;s++){var c=p[s],u=c.lonlat;if(u[0]!==i){var y=[g.modHalf(u[0],360),u[1]],h=[t.c2p(y),r.c2p(y)];v.contains(h,null,s,T)?(l.push({pointNumber:s,lon:u[0],lat:u[1]}),c.selected=1):c.selected=0}}return l}},81245:function(G,V,e){var g=e(5386).fF,R=e(5386).si,i=e(1426).extendFlat,L=e(82196),T=e(9012),v=L.line;G.exports={mode:L.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:L.text,texttemplate:R({editType:"plot"},{keys:["r","theta","text"]}),hovertext:L.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:i({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,cliponaxis:i({},L.cliponaxis,{dflt:!1}),textposition:L.textposition,textfont:L.textfont,fill:i({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L.fillcolor,hoverinfo:i({},T.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:L.hoveron,hovertemplate:g(),selected:L.selected,unselected:L.unselected}},26442:function(G,V,e){var g=e(92770),R=e(50606).BADNUM,i=e(89298),L=e(36922),T=e(75225),v=e(66279),p=e(47761).calcMarkerSize;G.exports=function(r,l){for(var n=r._fullLayout,s=l.subplot,c=n[s].radialaxis,u=n[s].angularaxis,y=c.makeCalcdata(l,"r"),h=u.makeCalcdata(l,"theta"),b=l._length,f=new Array(b),o=0;o<b;o++){var d=y[o],A=h[o],M=f[o]={};g(d)&&g(A)?(M.r=d,M.theta=A):M.r=R}var C=p(l,b);return l._extremes.x=i.findExtremes(c,y,{ppad:C}),L(r,l),T(f,l),v(f,l),f}},22184:function(G,V,e){var g=e(71828),R=e(34098),i=e(49508),L=e(11058),T=e(94039),v=e(82410),p=e(28908),t=e(47581).PTS_LINESONLY,r=e(81245);function l(s,c,u,y){function h(o,d){return g.coerce(s,c,r,o,d)}var b=n(s,c,y,h);if(!b){c.visible=!1;return}h("thetaunit"),h("mode",b<t?"lines+markers":"lines"),h("text"),h("hovertext"),c.hoveron!=="fills"&&h("hovertemplate"),R.hasLines(c)&&(L(s,c,u,y,h,{backoff:!0}),T(s,c,h),h("connectgaps")),R.hasMarkers(c)&&i(s,c,u,y,h,{gradient:!0}),R.hasText(c)&&(h("texttemplate"),v(s,c,y,h));var f=[];(R.hasMarkers(c)||R.hasText(c))&&(h("cliponaxis"),h("marker.maxdisplayed"),f.push("points")),h("fill"),c.fill!=="none"&&(p(s,c,u,h),R.hasLines(c)||T(s,c,h)),(c.fill==="tonext"||c.fill==="toself")&&f.push("fills"),h("hoveron",f.join("+")||"points"),g.coerceSelectionMarkerOpacity(c,h)}function n(s,c,u,y){var h=y("r"),b=y("theta"),f;if(h)b?f=Math.min(h.length,b.length):(f=h.length,y("theta0"),y("dtheta"));else{if(!b)return 0;f=c.theta.length,y("r0"),y("dr")}return c._length=f,f}G.exports={handleRThetaDefaults:n,supplyDefaults:l}},98608:function(G,V,e){var g=e(71828),R=e(89298);G.exports=function(L,T,v){var p={},t=v[T.subplot]._subplot,r,l;t?(r=t.radialAxis,l=t.angularAxis):(t=v[T.subplot],r=t.radialaxis,l=t.angularaxis);var n=r.c2l(L.r);p.rLabel=R.tickText(r,n,!0).text;var s=l.thetaunit==="degrees"?g.rad2deg(L.theta):L.theta;return p.thetaLabel=R.tickText(l,s,!0).text,p}},59150:function(G,V,e){var g=e(33720);function R(L,T,v,p){var t=g(L,T,v,p);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var l=L.subplot,n=r.cd[r.index],s=r.trace;if(l.isPtInside(n))return r.xLabelVal=void 0,r.yLabelVal=void 0,i(n,s,l,r),r.hovertemplate=s.hovertemplate,t}}function i(L,T,v,p){var t=v.radialAxis,r=v.angularAxis;t._hovertitle="r",r._hovertitle="";var l={};l[T.subplot]={_subplot:v};var n=T._module.formatLabels(L,T,l);p.rLabel=n.rLabel,p.thetaLabel=n.thetaLabel;var s=L.hi||T.hoverinfo,c=[];function u(h,b){c.push(h._hovertitle+": "+b)}if(!T.hovertemplate){var y=s.split("+");y.indexOf("all")!==-1&&(y=["r","theta","text"]),y.indexOf("r")!==-1&&u(t,p.rLabel),y.indexOf("theta")!==-1&&u(r,p.thetaLabel),y.indexOf("text")!==-1&&p.text&&(c.push(p.text),delete p.text),p.extraText=c.join("<br>")}}G.exports={hoverPoints:R,makeHoverPointText:i}},91271:function(G,V,e){G.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(G,V,e){var g=e(32663),R=e(50606).BADNUM;G.exports=function(L,T,v){for(var p=T.layers.frontplot.select("g.scatterlayer"),t=T.xaxis,r=T.yaxis,l={xaxis:t,yaxis:r,plot:T.framework,layerClipId:T._hasClipOnAxisFalse?T.clipIds.forTraces:null},n=T.radialAxis,s=T.angularAxis,c=0;c<v.length;c++)for(var u=v[c],y=0;y<u.length;y++){y===0&&(u[0].trace._xA=t,u[0].trace._yA=r);var h=u[y],b=h.r;if(b===R)h.x=h.y=R;else{var f=n.c2g(b),o=s.c2g(h.theta);h.x=f*Math.cos(o),h.y=f*Math.sin(o)}}g(L,l,v,p)}},53286:function(G,V,e){var g=e(81245),R=e(42341),i=e(5386).si;G.exports={mode:g.mode,r:g.r,theta:g.theta,r0:g.r0,dr:g.dr,theta0:g.theta0,dtheta:g.dtheta,thetaunit:g.thetaunit,text:g.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:g.hovertext,hovertemplate:g.hovertemplate,line:R.line,connectgaps:R.connectgaps,marker:R.marker,fill:R.fill,fillcolor:R.fillcolor,textposition:R.textposition,textfont:R.textfont,hoverinfo:g.hoverinfo,selected:g.selected,unselected:g.unselected}},65746:function(G,V,e){G.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(G,V,e){var g=e(36922),R=e(47761).calcMarkerSize,i=e(19635),L=e(89298),T=e(78232).TOO_MANY_POINTS;G.exports=function(p,t){var r=p._fullLayout,l=t.subplot,n=r[l].radialaxis,s=r[l].angularaxis,c=t._r=n.makeCalcdata(t,"r"),u=t._theta=s.makeCalcdata(t,"theta"),y=t._length,h={};y<c.length&&(c=c.slice(0,y)),y<u.length&&(u=u.slice(0,y)),h.r=c,h.theta=u,g(p,t);var b=h.opts=i.style(p,t),f;return y<T?f=R(t,y):b.marker&&(f=2*(b.marker.sizeAvg||Math.max(b.marker.size,3))),t._extremes.x=L.findExtremes(n,c,{ppad:f}),[{x:!1,y:!1,t:h,trace:t}]}},75485:function(G,V,e){var g=e(71828),R=e(34098),i=e(22184).handleRThetaDefaults,L=e(49508),T=e(11058),v=e(82410),p=e(28908),t=e(47581).PTS_LINESONLY,r=e(53286);G.exports=function(n,s,c,u){function y(b,f){return g.coerce(n,s,r,b,f)}var h=i(n,s,u,y);if(!h){s.visible=!1;return}y("thetaunit"),y("mode",h<t?"lines+markers":"lines"),y("text"),y("hovertext"),s.hoveron!=="fills"&&y("hovertemplate"),R.hasLines(s)&&(T(n,s,c,u,y),y("connectgaps")),R.hasMarkers(s)&&L(n,s,c,u,y,{noAngleRef:!0,noStandOff:!0}),R.hasText(s)&&(y("texttemplate"),v(n,s,u,y)),y("fill"),s.fill!=="none"&&p(n,s,c,y),g.coerceSelectionMarkerOpacity(s,y)}},46255:function(G,V,e){var g=e(98608);G.exports=function(i,L,T){var v=i.i;return"r"in i||(i.r=L._r[v]),"theta"in i||(i.theta=L._theta[v]),g(i,L,T)}},29347:function(G,V,e){var g=e(20794),R=e(59150).makeHoverPointText;function i(L,T,v,p){var t=L.cd,r=t[0].t,l=r.r,n=r.theta,s=g.hoverPoints(L,T,v,p);if(!(!s||s[0].index===!1)){var c=s[0];if(c.index===void 0)return s;var u=L.subplot,y=c.cd[c.index],h=c.trace;if(y.r=l[c.index],y.theta=n[c.index],!!u.isPtInside(y))return c.xLabelVal=void 0,c.yLabelVal=void 0,R(y,h,u,c),s}}G.exports={hoverPoints:i}},21461:function(G,V,e){var g=e(65746);g.plot=e(49741),G.exports=g},49741:function(G,V,e){var g=e(88294),R=e(92770),i=e(26787),L=e(38967),T=e(19635),v=e(71828),p=e(78232).TOO_MANY_POINTS,t={};G.exports=function(l,n,s){if(s.length){var c=n.radialAxis,u=n.angularAxis,y=L(l,n);return s.forEach(function(h){if(!(!h||!h[0]||!h[0].trace)){var b=h[0],f=b.trace,o=b.t,d=f._length,A=o.r,M=o.theta,C=o.opts,m,S=A.slice(),x=M.slice();for(m=0;m<A.length;m++)n.isPtInside({r:A[m],theta:M[m]})||(S[m]=NaN,x[m]=NaN);var a=new Array(d*2),E=Array(d),w=Array(d);for(m=0;m<d;m++){var k=S[m],I,U;if(R(k)){var z=c.c2g(k),N=u.c2g(x[m],f.thetaunit);I=z*Math.cos(N),U=z*Math.sin(N)}else I=U=NaN;E[m]=a[m*2]=I,w[m]=a[m*2+1]=U}o.tree=g(a),C.marker&&d>=p&&(C.marker.cluster=o.tree),C.marker&&(C.markerSel.positions=C.markerUnsel.positions=C.marker.positions=a),C.line&&a.length>1&&v.extendFlat(C.line,T.linePositions(l,f,a)),C.text&&(v.extendFlat(C.text,{positions:a},T.textPosition(l,f,C.text,C.marker)),v.extendFlat(C.textSel,{positions:a},T.textPosition(l,f,C.text,C.markerSel)),v.extendFlat(C.textUnsel,{positions:a},T.textPosition(l,f,C.text,C.markerUnsel))),C.fill&&!y.fill2d&&(y.fill2d=!0),C.marker&&!y.scatter2d&&(y.scatter2d=!0),C.line&&!y.line2d&&(y.line2d=!0),C.text&&!y.glText&&(y.glText=!0),y.lineOptions.push(C.line),y.fillOptions.push(C.fill),y.markerOptions.push(C.marker),y.markerSelectedOptions.push(C.markerSel),y.markerUnselectedOptions.push(C.markerUnsel),y.textOptions.push(C.text),y.textSelectedOptions.push(C.textSel),y.textUnselectedOptions.push(C.textUnsel),y.selectBatch.push([]),y.unselectBatch.push([]),o.x=E,o.y=w,o.rawx=E,o.rawy=w,o.r=A,o.theta=M,o.positions=a,o._scene=y,o.index=y.count,y.count++}}),i(l,n,s)}},G.exports.reglPrecompiled=t},48300:function(G,V,e){var g=e(5386).fF,R=e(5386).si,i=e(1426).extendFlat,L=e(82196),T=e(9012),v=L.line;G.exports={mode:L.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:L.text,texttemplate:R({editType:"plot"},{keys:["real","imag","text"]}),hovertext:L.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:i({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,cliponaxis:i({},L.cliponaxis,{dflt:!1}),textposition:L.textposition,textfont:L.textfont,fill:i({},L.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:L.fillcolor,hoverinfo:i({},T.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:L.hoveron,hovertemplate:g(),selected:L.selected,unselected:L.unselected}},30621:function(G,V,e){var g=e(92770),R=e(50606).BADNUM,i=e(36922),L=e(75225),T=e(66279),v=e(47761).calcMarkerSize;G.exports=function(t,r){for(var l=t._fullLayout,n=r.subplot,s=l[n].realaxis,c=l[n].imaginaryaxis,u=s.makeCalcdata(r,"real"),y=c.makeCalcdata(r,"imag"),h=r._length,b=new Array(h),f=0;f<h;f++){var o=u[f],d=y[f],A=b[f]={};g(o)&&g(d)?(A.real=o,A.imag=d):A.real=R}return v(r,h),i(t,r),L(b,r),T(b,r),b}},65269:function(G,V,e){var g=e(71828),R=e(34098),i=e(49508),L=e(11058),T=e(94039),v=e(82410),p=e(28908),t=e(47581).PTS_LINESONLY,r=e(48300);G.exports=function(s,c,u,y){function h(o,d){return g.coerce(s,c,r,o,d)}var b=l(s,c,y,h);if(!b){c.visible=!1;return}h("mode",b<t?"lines+markers":"lines"),h("text"),h("hovertext"),c.hoveron!=="fills"&&h("hovertemplate"),R.hasLines(c)&&(L(s,c,u,y,h,{backoff:!0}),T(s,c,h),h("connectgaps")),R.hasMarkers(c)&&i(s,c,u,y,h,{gradient:!0}),R.hasText(c)&&(h("texttemplate"),v(s,c,y,h));var f=[];(R.hasMarkers(c)||R.hasText(c))&&(h("cliponaxis"),h("marker.maxdisplayed"),f.push("points")),h("fill"),c.fill!=="none"&&(p(s,c,u,h),R.hasLines(c)||T(s,c,h)),(c.fill==="tonext"||c.fill==="toself")&&f.push("fills"),h("hoveron",f.join("+")||"points"),g.coerceSelectionMarkerOpacity(c,h)};function l(n,s,c,u){var y=u("real"),h=u("imag"),b;return y&&h&&(b=Math.min(y.length,h.length)),s._length=b,b}},62047:function(G,V,e){var g=e(89298);G.exports=function(i,L,T){var v={},p=T[L.subplot]._subplot;return v.realLabel=g.tickText(p.radialAxis,i.real,!0).text,v.imagLabel=g.tickText(p.angularAxis,i.imag,!0).text,v}},11350:function(G,V,e){var g=e(33720);function R(L,T,v,p){var t=g(L,T,v,p);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var l=L.subplot,n=r.cd[r.index],s=r.trace;if(l.isPtInside(n))return r.xLabelVal=void 0,r.yLabelVal=void 0,i(n,s,l,r),r.hovertemplate=s.hovertemplate,t}}function i(L,T,v,p){var t=v.radialAxis,r=v.angularAxis;t._hovertitle="real",r._hovertitle="imag";var l={};l[T.subplot]={_subplot:v};var n=T._module.formatLabels(L,T,l);p.realLabel=n.realLabel,p.imagLabel=n.imagLabel;var s=L.hi||T.hoverinfo,c=[];function u(h,b){c.push(h._hovertitle+": "+b)}if(!T.hovertemplate){var y=s.split("+");y.indexOf("all")!==-1&&(y=["real","imag","text"]),y.indexOf("real")!==-1&&u(t,p.realLabel),y.indexOf("imag")!==-1&&u(r,p.imagLabel),y.indexOf("text")!==-1&&p.text&&(c.push(p.text),delete p.text),p.extraText=c.join("<br>")}}G.exports={hoverPoints:R,makeHoverPointText:i}},85956:function(G,V,e){G.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(G,V,e){var g=e(32663),R=e(50606).BADNUM,i=e(23893),L=i.smith;G.exports=function(v,p,t){for(var r=p.layers.frontplot.select("g.scatterlayer"),l=p.xaxis,n=p.yaxis,s={xaxis:l,yaxis:n,plot:p.framework,layerClipId:p._hasClipOnAxisFalse?p.clipIds.forTraces:null},c=0;c<t.length;c++)for(var u=t[c],y=0;y<u.length;y++){y===0&&(u[0].trace._xA=l,u[0].trace._yA=n);var h=u[y],b=h.real;if(b===R)h.x=h.y=R;else{var f=L([b,h.imag]);h.x=f[0],h.y=f[1]}}g(v,s,t,r)}},50413:function(G,V,e){var g=e(5386).fF,R=e(5386).si,i=e(82196),L=e(9012),T=e(50693),v=e(79952).P,p=e(1426).extendFlat,t=i.marker,r=i.line,l=t.line;G.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:p({},i.mode,{dflt:"markers"}),text:p({},i.text,{}),texttemplate:R({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:p({},i.hovertext,{}),line:{color:r.color,width:r.width,dash:v,backoff:r.backoff,shape:p({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:i.connectgaps,cliponaxis:i.cliponaxis,fill:p({},i.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:i.fillcolor,marker:p({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:p({width:l.width,editType:"calc"},T("marker.line")),gradient:t.gradient,editType:"calc"},T("marker")),textfont:i.textfont,textposition:i.textposition,selected:i.selected,unselected:i.unselected,hoverinfo:p({},L.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:i.hoveron,hovertemplate:g()}},54337:function(G,V,e){var g=e(92770),R=e(36922),i=e(75225),L=e(66279),T=e(47761).calcMarkerSize,v=["a","b","c"],p={a:["b","c"],b:["a","c"],c:["a","b"]};G.exports=function(r,l){var n=r._fullLayout[l.subplot],s=n.sum,c=l.sum||s,u={a:l.a,b:l.b,c:l.c},y,h,b,f,o,d;for(y=0;y<v.length;y++)if(b=v[y],!u[b]){for(o=u[p[b][0]],d=u[p[b][1]],f=new Array(o.length),h=0;h<o.length;h++)f[h]=c-o[h]-d[h];u[b]=f}var A=l._length,M=new Array(A),C,m,S,x,a,E;for(y=0;y<A;y++)C=u.a[y],m=u.b[y],S=u.c[y],g(C)&&g(m)&&g(S)?(C=+C,m=+m,S=+S,x=s/(C+m+S),x!==1&&(C*=x,m*=x,S*=x),E=C,a=S-m,M[y]={x:a,y:E,a:C,b:m,c:S}):M[y]={x:!1,y:!1};return T(l,A),R(r,l),i(M,l),L(M,l),M}},46008:function(G,V,e){var g=e(71828),R=e(47581),i=e(34098),L=e(49508),T=e(11058),v=e(94039),p=e(82410),t=e(28908),r=e(50413);G.exports=function(n,s,c,u){function y(M,C){return g.coerce(n,s,r,M,C)}var h=y("a"),b=y("b"),f=y("c"),o;if(h?(o=h.length,b?(o=Math.min(o,b.length),f&&(o=Math.min(o,f.length))):f?o=Math.min(o,f.length):o=0):b&&f&&(o=Math.min(b.length,f.length)),!o){s.visible=!1;return}s._length=o,y("sum"),y("text"),y("hovertext"),s.hoveron!=="fills"&&y("hovertemplate");var d=o<R.PTS_LINESONLY?"lines+markers":"lines";y("mode",d),i.hasLines(s)&&(T(n,s,c,u,y,{backoff:!0}),v(n,s,y),y("connectgaps")),i.hasMarkers(s)&&L(n,s,c,u,y,{gradient:!0}),i.hasText(s)&&(y("texttemplate"),p(n,s,u,y));var A=[];(i.hasMarkers(s)||i.hasText(s))&&(y("cliponaxis"),y("marker.maxdisplayed"),A.push("points")),y("fill"),s.fill!=="none"&&(t(n,s,c,y),i.hasLines(s)||v(n,s,y)),(s.fill==="tonext"||s.fill==="toself")&&A.push("fills"),y("hoveron",A.join("+")||"points"),g.coerceSelectionMarkerOpacity(s,y)}},4524:function(G){G.exports=function(e,g,R,i,L){if(g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),i[L]){var T=i[L];e.a=T.a,e.b=T.b,e.c=T.c}else e.a=g.a,e.b=g.b,e.c=g.c;return e}},93645:function(G,V,e){var g=e(89298);G.exports=function(i,L,T){var v={},p=T[L.subplot]._subplot;return v.aLabel=g.tickText(p.aaxis,i.a,!0).text,v.bLabel=g.tickText(p.baxis,i.b,!0).text,v.cLabel=g.tickText(p.caxis,i.c,!0).text,v}},47250:function(G,V,e){var g=e(33720);G.exports=function(i,L,T,v){var p=g(i,L,T,v);if(!p||p[0].index===!1)return;var t=p[0];if(t.index===void 0){var r=1-t.y0/i.ya._length,l=i.xa._length,n=l*r/2,s=l-n;return t.x0=Math.max(Math.min(t.x0,s),n),t.x1=Math.max(Math.min(t.x1,s),n),p}var c=t.cd[t.index],u=t.trace,y=t.subplot;t.a=c.a,t.b=c.b,t.c=c.c,t.xLabelVal=void 0,t.yLabelVal=void 0;var h={};h[u.subplot]={_subplot:y};var b=u._module.formatLabels(c,u,h);t.aLabel=b.aLabel,t.bLabel=b.bLabel,t.cLabel=b.cLabel;var f=c.hi||u.hoverinfo,o=[];function d(M,C){o.push(M._hovertitle+": "+C)}if(!u.hovertemplate){var A=f.split("+");A.indexOf("all")!==-1&&(A=["a","b","c"]),A.indexOf("a")!==-1&&d(y.aaxis,t.aLabel),A.indexOf("b")!==-1&&d(y.baxis,t.bLabel),A.indexOf("c")!==-1&&d(y.caxis,t.cLabel)}return t.extraText=o.join("<br>"),t.hovertemplate=u.hovertemplate,p}},52979:function(G,V,e){G.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(G,V,e){var g=e(32663);G.exports=function(i,L,T){var v=L.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var p=L.xaxis,t=L.yaxis,r={xaxis:p,yaxis:t,plot:v,layerClipId:L._hasClipOnAxisFalse?L.clipIdRelative:null},l=L.layers.frontplot.select("g.scatterlayer"),n=0;n<T.length;n++){var s=T[n];s.length&&(s[0].trace._xA=p,s[0].trace._yA=t)}g(i,r,T,l)}},46880:function(G,V,e){var g=e(82196),R=e(50693),i=e(12663).axisHoverFormat,L=e(5386).fF,T=e(42341),v=e(85555).idRegex,p=e(44467).templatedArray,t=e(1426).extendFlat,r=g.marker,l=r.line,n=t(R("marker.line",{editTypeOverride:"calc"}),{width:t({},l.width,{editType:"calc"}),editType:"calc"}),s=t(R("marker"),{symbol:r.symbol,angle:r.angle,size:t({},r.size,{editType:"markerSize"}),sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:n,editType:"calc"});s.color.editType=s.cmin.editType=s.cmax.editType="style";function c(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[u],editType:"plot"}}}G.exports={dimensions:p("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},T.text,{}),hovertext:t({},T.hovertext,{}),hovertemplate:L(),xhoverformat:i("x"),yhoverformat:i("y"),marker:s,xaxes:c("x"),yaxes:c("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:T.selected.marker,editType:"calc"},unselected:{marker:T.unselected.marker,editType:"calc"},opacity:T.opacity}},65017:function(G,V,e){var g=e(73972),R=e(83312);G.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},g.register(R)},16947:function(G,V,e){var g=e(46075),R=e(73972),i=e(79749),L=e(27659).a0,T=e(93612),v=e(41675).getFromId,p=e(89298).shouldShowZeroLine,t="splom",r={};function l(h){var b=h._fullLayout,f=R.getModule(t),o=L(h.calcdata,f)[0],d=i(h,["ANGLE_instanced_arrays","OES_element_index_uint"],r);d&&(b._hasOnlyLargeSploms&&c(h),f.plot(h,{},o))}function n(h){var b=h.calcdata,f=h._fullLayout;f._hasOnlyLargeSploms&&c(h);for(var o=0;o<b.length;o++){var d=b[o][0],A=d.trace,M=f._splomScenes[A.uid];A.type==="splom"&&M&&M.matrix&&s(h,A,M)}}function s(h,b,f){for(var o=f.matrixOptions.data.length,d=b._visibleDims,A=f.viewOpts.ranges=new Array(o),M=0;M<d.length;M++){var C=d[M],m=A[M]=new Array(4),S=v(h,b._diag[C][0]);S&&(m[0]=S.r2l(S.range[0]),m[2]=S.r2l(S.range[1]));var x=v(h,b._diag[C][1]);x&&(m[1]=x.r2l(x.range[0]),m[3]=x.r2l(x.range[1]))}f.selectBatch.length||f.unselectBatch.length?f.matrix.update({ranges:A},{ranges:A}):f.matrix.update({ranges:A})}function c(h){var b=h._fullLayout,f=b._glcanvas.data()[0].regl,o=b._splomGrid;o||(o=b._splomGrid=g(f)),o.update(u(h))}function u(h){var b=h._context.plotGlPixelRatio,f=h._fullLayout,o=f._size,d=[0,0,f.width*b,f.height*b],A={},M;function C(X,q,ne,oe,ve,J){ne*=b,oe*=b,ve*=b,J*=b;var Y=q[X+"color"],j=q[X+"width"],K=String(Y+j);K in A?A[K].data.push(NaN,NaN,ne,oe,ve,J):A[K]={data:[ne,oe,ve,J],join:"rect",thickness:j*b,color:Y,viewport:d,range:d,overlay:!1}}for(M in f._splomSubplots){var m=f._plots[M],S=m.xaxis,x=m.yaxis,a=S._gridVals,E=x._gridVals,w=S._offset,k=S._length,I=x._length,U=o.b+x.domain[0]*o.h,z=-x._m,N=-z*x.r2l(x.range[0],x.calendar),B,F;if(S.showgrid)for(M=0;M<a.length;M++)B=w+S.l2p(a[M].x),C("grid",S,B,U,B,U+I);if(x.showgrid)for(M=0;M<E.length;M++)F=U+N+z*E[M].x,C("grid",x,w,F,w+k,F);p(h,S,x)&&(B=w+S.l2p(0),C("zeroline",S,B,U,B,U+I)),p(h,x,S)&&(F=U+N+0,C("zeroline",x,w,F,w+k,F))}var H=[];for(M in A)H.push(A[M]);return H}function y(h,b,f,o){var d={},A;if(o._splomScenes){for(A=0;A<h.length;A++){var M=h[A];M.type==="splom"&&(d[M.uid]=1)}for(A=0;A<f.length;A++){var C=f[A];if(!d[C.uid]){var m=o._splomScenes[C.uid];m&&m.destroy&&m.destroy(),o._splomScenes[C.uid]=null,delete o._splomScenes[C.uid]}}}Object.keys(o._splomScenes||{}).length===0&&delete o._splomScenes,o._splomGrid&&!b._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),T.clean(h,b,f,o)}G.exports={name:t,attr:T.attr,attrRegex:T.attrRegex,layoutAttributes:T.layoutAttributes,supplyLayoutDefaults:T.supplyLayoutDefaults,drawFramework:T.drawFramework,plot:l,drag:n,updateGrid:c,clean:y,updateFx:T.updateFx,toSVG:T.toSVG,reglPrecompiled:r}},87625:function(G,V,e){var g=e(71828),R=e(41675),i=e(47761).calcMarkerSize,L=e(47761).calcAxisExpansion,T=e(36922),v=e(19635).markerSelection,p=e(19635).markerStyle,t=e(10164),r=e(50606).BADNUM,l=e(78232).TOO_MANY_POINTS;G.exports=function(s,c){var u=c.dimensions,y=c._length,h={},b=h.cdata=[],f=h.data=[],o=c._visibleDims=[],d,A,M,C,m;function S(k,I){for(var U=k.makeCalcdata({v:I.values,vcalendar:c.calendar},"v"),z=0;z<U.length;z++)U[z]=U[z]===r?NaN:U[z];b.push(U),f.push(k.type==="log"?g.simpleMap(U,k.c2l):U)}for(d=0;d<u.length;d++)if(M=u[d],M.visible){if(C=R.getFromId(s,c._diag[d][0]),m=R.getFromId(s,c._diag[d][1]),C&&m&&C.type!==m.type){g.log("Skipping splom dimension "+d+" with conflicting axis types");continue}C?(S(C,M),m&&m.type==="category"&&(m._categories=C._categories.slice())):S(m,M),o.push(d)}T(s,c),g.extendFlat(h,p(s,c));var x=b.length,a=x*y>l,E;for(a?E=h.sizeAvg||Math.max(h.size,3):E=i(c,y),A=0;A<o.length;A++)d=o[A],M=u[d],C=R.getFromId(s,c._diag[d][0])||{},m=R.getFromId(s,c._diag[d][1])||{},L(s,c,C,m,b[A],b[A],E);var w=t(s,c);return w.matrix||(w.matrix=!0),w.matrixOptions=h,w.selectedOptions=v(s,c,c.selected),w.unselectedOptions=v(s,c,c.unselected),[{x:!1,y:!1,t:{},trace:c}]}},25784:function(G,V,e){var g=e(71828),R=e(85501),i=e(46880),L=e(34098),T=e(49508),v=e(94397),p=e(68645).isOpenSymbol;G.exports=function(n,s,c,u){function y(C,m){return g.coerce(n,s,i,C,m)}var h=R(n,s,{name:"dimensions",handleItemDefaults:t}),b=y("diagonal.visible"),f=y("showupperhalf"),o=y("showlowerhalf"),d=v(s,h,"values");if(!d||!b&&!f&&!o){s.visible=!1;return}y("text"),y("hovertext"),y("hovertemplate"),y("xhoverformat"),y("yhoverformat"),T(n,s,c,u,y,{noAngleRef:!0,noStandOff:!0});var A=p(s.marker.symbol),M=L.isBubble(s);y("marker.line.width",A||M?1:0),r(n,s,u,y),g.coerceSelectionMarkerOpacity(s,y)};function t(l,n){function s(u,y){return g.coerce(l,n,i.dimensions,u,y)}s("label");var c=s("values");c&&c.length?s("visible"):n.visible=!1,s("axis.type"),s("axis.matches")}function r(l,n,s,c){var u=n.dimensions,y=u.length,h=n.showupperhalf,b=n.showlowerhalf,f=n.diagonal.visible,o,d,A=new Array(y),M=new Array(y);for(o=0;o<y;o++){var C=o?o+1:"";A[o]="x"+C,M[o]="y"+C}var m=c("xaxes",A),S=c("yaxes",M),x=n._diag=new Array(y);n._xaxes={},n._yaxes={};var a=[],E=[];function w(X,q,ne,oe){if(X){var ve=X.charAt(0),J=s._splomAxes[ve];if(n["_"+ve+"axes"][X]=1,oe.push(X),!(X in J)){var Y=J[X]={};ne&&(Y.label=ne.label||"",ne.visible&&ne.axis&&(ne.axis.type&&(Y.type=ne.axis.type),ne.axis.matches&&(Y.matches=q)))}}}var k=!f&&!b,I=!f&&!h;for(n._axesDim={},o=0;o<y;o++){var U=u[o],z=o===0,N=o===y-1,B=z&&k||N&&I?void 0:m[o],F=z&&I||N&&k?void 0:S[o];w(B,F,U,a),w(F,B,U,E),x[o]=[B,F],n._axesDim[B]=o,n._axesDim[F]=o}for(o=0;o<a.length;o++)for(d=0;d<E.length;d++){var H=a[o]+E[d];(o>d&&h||o<d&&b||o===d&&(f||!b||!h))&&(s._splomSubplots[H]=1)}(!b||!f&&h&&b)&&(s._splomGridDflt.xside="bottom",s._splomGridDflt.yside="left")}},28801:function(G,V,e){var g=e(71828),R=e(36922),i=e(19635).markerStyle;G.exports=function(T,v){var p=v.trace,t=T._fullLayout._splomScenes[p.uid];if(t){R(T,p),g.extendFlat(t.matrixOptions,i(T,p));var r=g.extendFlat({},t.matrixOptions,t.viewOpts);t.matrix.update(r,null)}}},35948:function(G,V){V.getDimIndex=function(g,R){for(var i=R._id,L=i.charAt(0),T={x:0,y:1}[L],v=g._visibleDims,p=0;p<v.length;p++){var t=v[p];if(g._diag[t][T]===i)return p}return!1}},8567:function(G,V,e){var g=e(35948),R=e(20794).calcHover;function i(L,T,v){var p=L.cd,t=p[0].trace,r=L.scene,l=r.matrixOptions.cdata,n=L.xa,s=L.ya,c=n.c2p(T),u=s.c2p(v),y=L.distance,h=g.getDimIndex(t,n),b=g.getDimIndex(t,s);if(h===!1||b===!1)return[L];for(var f=l[h],o=l[b],d,A,M=y,C=0;C<f.length;C++){var m=f[C],S=o[C],x=n.c2p(m)-c,a=s.c2p(S)-u,E=Math.sqrt(x*x+a*a);E<M&&(M=A=E,d=C)}return L.index=d,L.distance=M,L.dxy=A,d===void 0?[L]:[R(L,f,o,t)]}G.exports={hoverPoints:i}},6419:function(G,V,e){var g=e(65017);g.basePlotModule=e(16947),G.exports=g},79410:function(G,V,e){var g=e(60487),R=e(71828),i=e(41675),L=e(64505).selectMode;G.exports=function(p,t,r){if(r.length)for(var l=0;l<r.length;l++)T(p,r[l][0])};function T(v,p){var t=v._fullLayout,r=t._size,l=p.trace,n=p.t,s=t._splomScenes[l.uid],c=s.matrixOptions,u=c.cdata,y=t._glcanvas.data()[0].regl,h=t.dragmode,b,f,o,d,A;if(u.length!==0){c.lower=l.showupperhalf,c.upper=l.showlowerhalf,c.diagonal=l.diagonal.visible;var M=l._visibleDims,C=u.length,m=s.viewOpts={};for(m.ranges=new Array(C),m.domains=new Array(C),A=0;A<M.length;A++){o=M[A];var S=m.ranges[A]=new Array(4),x=m.domains[A]=new Array(4);b=i.getFromId(v,l._diag[o][0]),b&&(S[0]=b._rl[0],S[2]=b._rl[1],x[0]=b.domain[0],x[2]=b.domain[1]),f=i.getFromId(v,l._diag[o][1]),f&&(S[1]=f._rl[0],S[3]=f._rl[1],x[1]=f.domain[0],x[3]=f.domain[1])}var a=v._context.plotGlPixelRatio,E=r.l*a,w=r.b*a,k=r.w*a,I=r.h*a;m.viewport=[E,w,k+E,I+w],s.matrix===!0&&(s.matrix=g(y));var U=t.clickmode.indexOf("select")>-1,z=L(h)||!!l.selectedpoints||U,N=!0;if(z){var B=l._length;if(l.selectedpoints){s.selectBatch=l.selectedpoints;var F=l.selectedpoints,H={};for(o=0;o<F.length;o++)H[F[o]]=!0;var X=[];for(o=0;o<B;o++)H[o]||X.push(o);s.unselectBatch=X}var q=n.xpx=new Array(C),ne=n.ypx=new Array(C);for(A=0;A<M.length;A++){if(o=M[A],b=i.getFromId(v,l._diag[o][0]),b)for(q[A]=new Array(B),d=0;d<B;d++)q[A][d]=b.c2p(u[A][d]);if(f=i.getFromId(v,l._diag[o][1]),f)for(ne[A]=new Array(B),d=0;d<B;d++)ne[A][d]=f.c2p(u[A][d])}if(s.selectBatch.length||s.unselectBatch.length){var oe=R.extendFlat({},c,s.unselectedOptions,m),ve=R.extendFlat({},c,s.selectedOptions,m);s.matrix.update(oe,ve),N=!1}}else n.xpx=n.ypx=null;if(N){var J=R.extendFlat({},c,m);s.matrix.update(J,null)}}}},10164:function(G,V,e){var g=e(71828);G.exports=function(i,L){var T=i._fullLayout,v=L.uid,p=T._splomScenes;p||(p=T._splomScenes={});var t={dirty:!0,selectBatch:[],unselectBatch:[]},r={matrix:!1,selectBatch:[],unselectBatch:[]},l=p[L.uid];return l||(l=p[v]=g.extendFlat({},t,r),l.draw=function(){l.matrix&&l.matrix.draw&&(l.selectBatch.length||l.unselectBatch.length?l.matrix.draw(l.unselectBatch,l.selectBatch):l.matrix.draw()),l.dirty=!1},l.destroy=function(){l.matrix&&l.matrix.destroy&&l.matrix.destroy(),l.matrixOptions=null,l.selectBatch=null,l.unselectBatch=null,l=null}),l.dirty||g.extendFlat(l,t),l}},8689:function(G,V,e){var g=e(71828),R=g.pushUnique,i=e(34098),L=e(35948);G.exports=function(v,p){var t=v.cd,r=t[0].trace,l=t[0].t,n=v.scene,s=n.matrixOptions.cdata,c=v.xaxis,u=v.yaxis,y=[];if(!n)return y;var h=!i.hasMarkers(r)&&!i.hasText(r);if(r.visible!==!0||h)return y;var b=L.getDimIndex(r,c),f=L.getDimIndex(r,u);if(b===!1||f===!1)return y;var o=l.xpx[b],d=l.ypx[f],A=s[b],M=s[f],C=(v.scene.selectBatch||[]).slice(),m=[];if(p!==!1&&!p.degenerate)for(var S=0;S<A.length;S++)p.contains([o[S],d[S]],null,S,v)?(y.push({pointNumber:S,x:A[S],y:M[S]}),R(C,S)):C.indexOf(S)!==-1?R(C,S):m.push(S);var x=n.matrixOptions;return!C.length&&!m.length?n.matrix.update(x,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,g.extendFlat({},x,n.selectedOptions,n.viewOpts)),n.selectBatch=C,n.unselectBatch=m,y}},21850:function(G,V,e){var g=e(50693),R=e(12663).axisHoverFormat,i=e(5386).fF,L=e(2418),T=e(9012),v=e(1426).extendFlat,p={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:R("u",1),vhoverformat:R("v",1),whoverformat:R("w",1),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),showlegend:v({},T.showlegend,{dflt:!1})};v(p,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){p[r]=L[r]}),p.hoverinfo=v({},T.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),p.transforms=void 0,G.exports=p},88489:function(G,V,e){var g=e(71828),R=e(78803);function i(p,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=v(t.u,t._len),t._v=v(t.v,t._len),t._w=v(t.w,t._len),t._x=v(t.x,t._len),t._y=v(t.y,t._len),t._z=v(t.z,t._len);var r=L(t);t._gridFill=r.fill,t._Xs=r.Xs,t._Ys=r.Ys,t._Zs=r.Zs,t._len=r.len;var l=0,n,s,c;t.starts&&(n=v(t.starts.x||[]),s=v(t.starts.y||[]),c=v(t.starts.z||[]),l=Math.min(n.length,s.length,c.length)),t._startsX=n||[],t._startsY=s||[],t._startsZ=c||[];var u=0,y=1/0,h;for(h=0;h<t._len;h++){var b=t._u[h],f=t._v[h],o=t._w[h],d=Math.sqrt(b*b+f*f+o*o);u=Math.max(u,d),y=Math.min(y,d)}for(R(p,t,{vals:[y,u],containerStr:"",cLetter:"c"}),h=0;h<l;h++){var A=n[h];r.xMax=Math.max(r.xMax,A),r.xMin=Math.min(r.xMin,A);var M=s[h];r.yMax=Math.max(r.yMax,M),r.yMin=Math.min(r.yMin,M);var C=c[h];r.zMax=Math.max(r.zMax,C),r.zMin=Math.min(r.zMin,C)}t._slen=l,t._normMax=u,t._xbnds=[r.xMin,r.xMax],t._ybnds=[r.yMin,r.yMax],t._zbnds=[r.zMin,r.zMax]}function L(p){var t=p._x,r=p._y,l=p._z,n=p._len,s,c,u,y=-1/0,h=1/0,b=-1/0,f=1/0,o=-1/0,d=1/0,A="",M,C,m,S,x,a,E,w,k;for(n&&(S=t[0],a=r[0],w=l[0]),n>1&&(x=t[n-1],E=r[n-1],k=l[n-1]),s=0;s<n;s++)y=Math.max(y,t[s]),h=Math.min(h,t[s]),b=Math.max(b,r[s]),f=Math.min(f,r[s]),o=Math.max(o,l[s]),d=Math.min(d,l[s]),!M&&t[s]!==S&&(M=!0,A+="x"),!C&&r[s]!==a&&(C=!0,A+="y"),!m&&l[s]!==w&&(m=!0,A+="z");M||(A+="x"),C||(A+="y"),m||(A+="z");var I=T(p._x),U=T(p._y),z=T(p._z);A=A.replace("x",(S>x?"-":"+")+"x"),A=A.replace("y",(a>E?"-":"+")+"y"),A=A.replace("z",(w>k?"-":"+")+"z");var N=function(){n=0,I=[],U=[],z=[]};(!n||n<I.length*U.length*z.length)&&N();var B=function(he){return he==="x"?t:he==="y"?r:l},F=function(he){return he==="x"?I:he==="y"?U:z},H=function(he){return he[n-1]<he[0]?-1:1},X=B(A[1]),q=B(A[3]),ne=B(A[5]),oe=F(A[1]).length,ve=F(A[3]).length,J=F(A[5]).length,Y=!1,j=function(he,xe,Se){return oe*(ve*he+xe)+Se},K=H(B(A[1])),te=H(B(A[3])),se=H(B(A[5]));for(s=0;s<J-1;s++){for(c=0;c<ve-1;c++){for(u=0;u<oe-1;u++){var Q=j(s,c,u),ee=j(s,c,u+1),le=j(s,c+1,u),ie=j(s+1,c,u);if((!(X[Q]*K<X[ee]*K)||!(q[Q]*te<q[le]*te)||!(ne[Q]*se<ne[ie]*se))&&(Y=!0),Y)break}if(Y)break}if(Y)break}return Y&&(g.warn("Encountered arbitrary coordinates! Unable to input data grid."),N()),{xMin:h,yMin:f,zMin:d,xMax:y,yMax:b,zMax:o,Xs:I,Ys:U,Zs:z,len:n,fill:A}}function T(p){return g.distinctVals(p).vals}function v(p,t){if(t===void 0&&(t=p.length),g.isTypedArray(p))return p.subarray(0,t);for(var r=[],l=0;l<t;l++)r[l]=+p[l];return r}G.exports={calc:i,filter:v,processGrid:L}},90154:function(G,V,e){var g=e(9330).gl_streamtube3d,R=g.createTubeMesh,i=e(71828),L=e(81697).parseColorScale,T=e(21081).extractOpts,v=e(90060),p={xaxis:0,yaxis:1,zaxis:2};function t(u,y){this.scene=u,this.uid=y,this.mesh=null,this.data=null}var r=t.prototype;r.handlePick=function(u){var y=this.scene.fullSceneLayout,h=this.scene.dataScale;function b(d,A){var M=y[A],C=h[p[A]];return M.l2c(d)/C}if(u.object===this.mesh){var f=u.data.position,o=u.data.velocity;return u.traceCoordinate=[b(f[0],"xaxis"),b(f[1],"yaxis"),b(f[2],"zaxis"),b(o[0],"xaxis"),b(o[1],"yaxis"),b(o[2],"zaxis"),u.data.intensity*this.data._normMax,u.data.divergence],u.textLabel=this.data.hovertext||this.data.text,!0}};function l(u){var y=u.length,h;return y>2?h=u.slice(1,y-1):y===2?h=[(u[0]+u[1])/2]:h=u,h}function n(u){var y=u.length;return y===1?[.5,.5]:[u[1]-u[0],u[y-1]-u[y-2]]}function s(u,y){var h=u.fullSceneLayout,b=u.dataScale,f=y._len,o={};function d(ve,J){var Y=h[J],j=b[p[J]];return i.simpleMap(ve,function(K){return Y.d2l(K)*j})}if(o.vectors=v(d(y._u,"xaxis"),d(y._v,"yaxis"),d(y._w,"zaxis"),f),!f)return{positions:[],cells:[]};var A=d(y._Xs,"xaxis"),M=d(y._Ys,"yaxis"),C=d(y._Zs,"zaxis");o.meshgrid=[A,M,C],o.gridFill=y._gridFill;var m=y._slen;if(m)o.startingPositions=v(d(y._startsX,"xaxis"),d(y._startsY,"yaxis"),d(y._startsZ,"zaxis"));else{for(var S=M[0],x=l(A),a=l(C),E=new Array(x.length*a.length),w=0,k=0;k<x.length;k++)for(var I=0;I<a.length;I++)E[w++]=[x[k],S,a[I]];o.startingPositions=E}o.colormap=L(y),o.tubeSize=y.sizeref,o.maxLength=y.maxdisplayed;var U=d(y._xbnds,"xaxis"),z=d(y._ybnds,"yaxis"),N=d(y._zbnds,"zaxis"),B=n(A),F=n(M),H=n(C),X=[[U[0]-B[0],z[0]-F[0],N[0]-H[0]],[U[1]+B[1],z[1]+F[1],N[1]+H[1]]],q=g(o,X),ne=T(y);q.vertexIntensityBounds=[ne.min/y._normMax,ne.max/y._normMax];var oe=y.lightposition;return q.lightPosition=[oe.x,oe.y,oe.z],q.ambient=y.lighting.ambient,q.diffuse=y.lighting.diffuse,q.specular=y.lighting.specular,q.roughness=y.lighting.roughness,q.fresnel=y.lighting.fresnel,q.opacity=y.opacity,y._pad=q.tubeScale*y.sizeref*2,q}r.update=function(u){this.data=u;var y=s(this.scene,u);this.mesh.update(y)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(u,y){var h=u.glplot.gl,b=s(u,y),f=R(h,b),o=new t(u,y.uid);return o.mesh=f,o.data=y,f._trace=o,u.glplot.add(f),o}G.exports=c},22459:function(G,V,e){var g=e(71828),R=e(1586),i=e(21850);G.exports=function(T,v,p,t){function r(h,b){return g.coerce(T,v,i,h,b)}var l=r("u"),n=r("v"),s=r("w"),c=r("x"),u=r("y"),y=r("z");if(!l||!l.length||!n||!n.length||!s||!s.length||!c||!c.length||!u||!u.length||!y||!y.length){v.visible=!1;return}r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),R(T,v,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),v._length=null}},61510:function(G,V,e){G.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(g,R){return g.tubex=g.x,g.tubey=g.y,g.tubez=g.z,g.tubeu=R.traceCoordinate[3],g.tubev=R.traceCoordinate[4],g.tubew=R.traceCoordinate[5],g.norm=R.traceCoordinate[6],g.divergence=R.traceCoordinate[7],delete g.x,delete g.y,delete g.z,g},meta:{}}},57564:function(G,V,e){var g=e(9012),R=e(5386).fF,i=e(5386).si,L=e(50693),T=e(27670).Y,v=e(34e3),p=e(7055),t=e(1426).extendFlat,r=e(79952).u;G.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},v.marker.line.color,{dflt:null}),width:t({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:r,editType:"calc"},L("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:i({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:t({},g.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:R({},{keys:p.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:t({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:T({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(G,V,e){var g=e(74875);V.name="sunburst",V.plot=function(R,i,L,T){g.plotBasePlot(V.name,R,i,L,T)},V.clean=function(R,i,L,T){g.cleanBasePlot(V.name,R,i,L,T)}},52147:function(G,V,e){var g=e(674),R=e(92770),i=e(71828),L=e(21081).makeColorScaleFuncFromTrace,T=e(32354).makePullColorFn,v=e(32354).generateExtendedColors,p=e(21081).calc,t=e(50606).ALMOST_EQUAL,r={},l={},n={};V.calc=function(c,u){var y=c._fullLayout,h=u.ids,b=i.isArrayOrTypedArray(h),f=u.labels,o=u.parents,d=u.values,A=i.isArrayOrTypedArray(d),M=[],C={},m={},S=function(K,te){C[K]?C[K].push(te):C[K]=[te],m[te]=1},x=function(K){return K||typeof K=="number"},a=function(K){return!A||R(d[K])&&d[K]>=0},E,w,k;b?(E=Math.min(h.length,o.length),w=function(K){return x(h[K])&&a(K)},k=function(K){return String(h[K])}):(E=Math.min(f.length,o.length),w=function(K){return x(f[K])&&a(K)},k=function(K){return String(f[K])}),A&&(E=Math.min(E,d.length));for(var I=0;I<E;I++)if(w(I)){var U=k(I),z=x(o[I])?String(o[I]):"",N={i:I,id:U,pid:z,label:x(f[I])?String(f[I]):""};A&&(N.v=+d[I]),M.push(N),S(z,U)}if(C[""]){if(C[""].length>1){for(var H=i.randstr(),X=0;X<M.length;X++)M[X].pid===""&&(M[X].pid=H);M.unshift({hasMultipleRoots:!0,id:H,pid:"",label:""})}}else{var B=[],F;for(F in C)m[F]||B.push(F);if(B.length===1)F=B[0],M.unshift({hasImpliedRoot:!0,id:F,pid:"",label:F});else return i.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",B.join(", ")].join(" "))}var q;try{q=g.stratify().id(function(K){return K.id}).parentId(function(K){return K.pid})(M)}catch(K){return i.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",K.message].join(" "))}var ne=g.hierarchy(q),oe=!1;if(A)switch(u.branchvalues){case"remainder":ne.sum(function(K){return K.data.v});break;case"total":ne.each(function(K){var te=K.data.data,se=te.v;if(K.children){var Q=K.children.reduce(function(ee,le){return ee+le.data.data.v},0);if((te.hasImpliedRoot||te.hasMultipleRoots)&&(se=Q),se<Q*t)return oe=!0,i.warn(["Total value for node",K.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,se,`
children sum =`,Q].join(" "))}K.value=se});break}else s(ne,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!oe){u.sort&&ne.sort(function(K,te){return te.value-K.value});var ve,J,Y=u.marker.colors||[],j=!!Y.length;return u._hasColorscale?(j||(Y=A?u.values:u._values),p(c,u,{vals:Y,containerStr:"marker",cLetter:"c"}),J=L(u.marker)):ve=T(y["_"+u.type+"colormap"]),ne.each(function(K){var te=K.data.data;te.color=u._hasColorscale?J(Y[te.i]):ve(Y[te.i],te.id)}),M[0].hierarchy=ne,M}},V._runCrossTraceCalc=function(c,u){var y=u._fullLayout,h=u.calcdata,b=y[c+"colorway"],f=y["_"+c+"colormap"];y["extend"+c+"colors"]&&(b=v(b,c==="icicle"?n:c==="treemap"?l:r));var o=0,d;function A(S){var x=S.data.data,a=x.id;x.color===!1&&(f[a]?x.color=f[a]:S.parent?S.parent.parent?x.color=S.parent.data.data.color:(f[a]=x.color=b[o%b.length],o++):x.color=d)}for(var M=0;M<h.length;M++){var C=h[M],m=C[0];m.trace.type===c&&m.hierarchy&&(d=m.trace.root.color,m.hierarchy.each(A))}},V.crossTraceCalc=function(c){return V._runCrossTraceCalc("sunburst",c)};function s(c,u,y){var h=0,b=c.children;if(b){for(var f=b.length,o=0;o<f;o++)h+=s(b[o],u,y);y.branches&&h++}else y.leaves&&h++;return c.value=c.data.data.value=h,u._values||(u._values=[]),u._values[c.data.data.i]=h,h}},7055:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(G,V,e){var g=e(71828),R=e(57564),i=e(27670).c,L=e(90769).handleText,T=e(37434).handleMarkerDefaults,v=e(21081),p=v.hasColorscale,t=v.handleDefaults;G.exports=function(l,n,s,c){function u(A,M){return g.coerce(l,n,R,A,M)}var y=u("labels"),h=u("parents");if(!y||!y.length||!h||!h.length){n.visible=!1;return}var b=u("values");b&&b.length?u("branchvalues"):u("count"),u("level"),u("maxdepth"),T(l,n,c,u);var f=n._hasColorscale=p(l,"marker","colors")||(l.marker||{}).coloraxis;f&&t(l,n,c,u,{prefix:"marker.",cLetter:"c"}),u("leaf.opacity",f?1:.7);var o=u("text");u("texttemplate"),n.texttemplate||u("textinfo",Array.isArray(o)?"text+label":"label"),u("hovertext"),u("hovertemplate");var d="auto";L(l,n,c,u,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u("insidetextorientation"),u("sort"),u("rotation"),u("root.color"),i(n,c,u),n._length=null}},43467:function(G,V,e){var g=e(91424),R=e(7901);G.exports=function(L,T,v,p,t){var r=T.data.data,l=r.i,n=t||r.color;if(l>=0){T.i=r.i;var s=v.marker;s.pattern?(!s.colors||!s.pattern.shape)&&(s.color=n,T.color=n):(s.color=n,T.color=n),g.pointStyle(L,v,p,T)}else R.fill(L,n)}},83523:function(G,V,e){var g=e(39898),R=e(73972),i=e(23469).appendArrayPointValue,L=e(30211),T=e(71828),v=e(11086),p=e(2791),t=e(53581),r=t.formatPieValue;G.exports=function(s,c,u,y,h){var b=y[0],f=b.trace,o=b.hierarchy,d=f.type==="sunburst",A=f.type==="treemap"||f.type==="icicle";"_hasHoverLabel"in f||(f._hasHoverLabel=!1),"_hasHoverEvent"in f||(f._hasHoverEvent=!1);var M=function(S){var x=u._fullLayout;if(!(u._dragging||x.hovermode===!1)){var a=u._fullData[f.index],E=S.data.data,w=E.i,k=p.isHierarchyRoot(S),I=p.getParent(o,S),U=p.getValue(S),z=function(ee){return T.castOption(a,w,ee)},N=z("hovertemplate"),B=L.castHoverinfo(a,x,w),F=x.separators,H;if(N||B&&B!=="none"&&B!=="skip"){var X,q;d&&(X=b.cx+S.pxmid[0]*(1-S.rInscribed),q=b.cy+S.pxmid[1]*(1-S.rInscribed)),A&&(X=S._hoverX,q=S._hoverY);var ne={},oe=[],ve=[],J=function(ee){return oe.indexOf(ee)!==-1};B&&(oe=B==="all"?a._module.attributes.hoverinfo.flags:B.split("+")),ne.label=E.label,J("label")&&ne.label&&ve.push(ne.label),E.hasOwnProperty("v")&&(ne.value=E.v,ne.valueLabel=r(ne.value,F),J("value")&&ve.push(ne.valueLabel)),ne.currentPath=S.currentPath=p.getPath(S.data),J("current path")&&!k&&ve.push(ne.currentPath);var Y,j=[],K=function(){j.indexOf(Y)===-1&&(ve.push(Y),j.push(Y))};ne.percentParent=S.percentParent=U/p.getValue(I),ne.parent=S.parentString=p.getPtLabel(I),J("percent parent")&&(Y=p.formatPercent(ne.percentParent,F)+" of "+ne.parent,K()),ne.percentEntry=S.percentEntry=U/p.getValue(c),ne.entry=S.entry=p.getPtLabel(c),J("percent entry")&&!k&&!S.onPathbar&&(Y=p.formatPercent(ne.percentEntry,F)+" of "+ne.entry,K()),ne.percentRoot=S.percentRoot=U/p.getValue(o),ne.root=S.root=p.getPtLabel(o),J("percent root")&&!k&&(Y=p.formatPercent(ne.percentRoot,F)+" of "+ne.root,K()),ne.text=z("hovertext")||z("text"),J("text")&&(Y=ne.text,T.isValidTextValue(Y)&&ve.push(Y)),H=[l(S,a,h.eventDataKeys)];var te={trace:a,y:q,_x0:S._x0,_x1:S._x1,_y0:S._y0,_y1:S._y1,text:ve.join("<br>"),name:N||J("name")?a.name:void 0,color:z("hoverlabel.bgcolor")||E.color,borderColor:z("hoverlabel.bordercolor"),fontFamily:z("hoverlabel.font.family"),fontSize:z("hoverlabel.font.size"),fontColor:z("hoverlabel.font.color"),nameLength:z("hoverlabel.namelength"),textAlign:z("hoverlabel.align"),hovertemplate:N,hovertemplateLabels:ne,eventData:H};d&&(te.x0=X-S.rInscribed*S.rpx1,te.x1=X+S.rInscribed*S.rpx1,te.idealAlign=S.pxmid[0]<0?"left":"right"),A&&(te.x=X,te.idealAlign=X<0?"left":"right");var se=[];L.loneHover(te,{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:u,inOut_bbox:se}),H[0].bbox=se[0],f._hasHoverLabel=!0}if(A){var Q=s.select("path.surface");h.styleOne(Q,S,a,u,{hovered:!0})}f._hasHoverEvent=!0,u.emit("plotly_hover",{points:H||[l(S,a,h.eventDataKeys)],event:g.event})}},C=function(S){var x=u._fullLayout,a=u._fullData[f.index],E=g.select(this).datum();if(f._hasHoverEvent&&(S.originalEvent=g.event,u.emit("plotly_unhover",{points:[l(E,a,h.eventDataKeys)],event:g.event}),f._hasHoverEvent=!1),f._hasHoverLabel&&(L.loneUnhover(x._hoverlayer.node()),f._hasHoverLabel=!1),A){var w=s.select("path.surface");h.styleOne(w,E,a,u,{hovered:!1})}},m=function(S){var x=u._fullLayout,a=u._fullData[f.index],E=d&&(p.isHierarchyRoot(S)||p.isLeaf(S)),w=p.getPtId(S),k=p.isEntry(S)?p.findEntryWithChild(o,w):p.findEntryWithLevel(o,w),I=p.getPtId(k),U={points:[l(S,a,h.eventDataKeys)],event:g.event};E||(U.nextLevel=I);var z=v.triggerHandler(u,"plotly_"+f.type+"click",U);if(z!==!1&&x.hovermode&&(u._hoverdata=[l(S,a,h.eventDataKeys)],L.click(u,g.event)),!E&&z!==!1&&!u._dragging&&!u._transitioning){R.call("_storeDirectGUIEdit",a,x._tracePreGUI[a.uid],{level:a.level});var N={data:[{level:I}],traces:[f.index]},B={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};L.loneUnhover(x._hoverlayer.node()),R.call("animate",u,N,B)}};s.on("mouseover",M),s.on("mouseout",C),s.on("click",m)};function l(n,s,c){for(var u=n.data.data,y={curveNumber:s.index,pointNumber:u.i,data:s._input,fullData:s},h=0;h<c.length;h++){var b=c[h];b in n&&(y[b]=n[b])}return"parentString"in n&&!p.isHierarchyRoot(n)&&(y.parent=n.parentString),i(y,s,u.i),y}},2791:function(G,V,e){var g=e(71828),R=e(7901),i=e(6964),L=e(53581);V.findEntryWithLevel=function(t,r){var l;return r&&t.eachAfter(function(n){if(V.getPtId(n)===r)return l=n.copy()}),l||t},V.findEntryWithChild=function(t,r){var l;return t.eachAfter(function(n){for(var s=n.children||[],c=0;c<s.length;c++){var u=s[c];if(V.getPtId(u)===r)return l=n.copy()}}),l||t},V.isEntry=function(t){return!t.parent},V.isLeaf=function(t){return!t.children},V.getPtId=function(t){return t.data.data.id},V.getPtLabel=function(t){return t.data.data.label},V.getValue=function(t){return t.value},V.isHierarchyRoot=function(t){return p(t)===""},V.setSliceCursor=function(t,r,l){var n=l.isTransitioning;if(!n){var s=t.datum();n=l.hideOnRoot&&V.isHierarchyRoot(s)||l.hideOnLeaves&&V.isLeaf(s)}i(t,n?null:"pointer")};function T(t,r,l){return{color:V.getOutsideTextFontKey("color",t,r,l),family:V.getOutsideTextFontKey("family",t,r,l),size:V.getOutsideTextFontKey("size",t,r,l)}}function v(t,r,l,n){var s=(n||{}).onPathbar,c=r.data.data,u=c.i,y=g.castOption(t,u,(s?"pathbar.textfont":"insidetextfont")+".color");return!y&&t._input.textfont&&(y=g.castOption(t._input,u,"textfont.color")),{color:y||R.contrast(c.color),family:V.getInsideTextFontKey("family",t,r,l,n),size:V.getInsideTextFontKey("size",t,r,l,n)}}V.getInsideTextFontKey=function(t,r,l,n,s){var c=(s||{}).onPathbar,u=c?"pathbar.textfont":"insidetextfont",y=l.data.data.i;return g.castOption(r,y,u+"."+t)||g.castOption(r,y,"textfont."+t)||n.size},V.getOutsideTextFontKey=function(t,r,l,n){var s=l.data.data.i;return g.castOption(r,s,"outsidetextfont."+t)||g.castOption(r,s,"textfont."+t)||n.size},V.isOutsideText=function(t,r){return!t._hasColorscale&&V.isHierarchyRoot(r)},V.determineTextFont=function(t,r,l,n){return V.isOutsideText(t,r)?T(t,r,l):v(t,r,l,n)},V.hasTransition=function(t){return!!(t&&t.duration>0)},V.getMaxDepth=function(t){return t.maxdepth>=0?t.maxdepth:1/0},V.isHeader=function(t,r){return!(V.isLeaf(t)||t.depth===r._maxDepth-1)};function p(t){return t.data.data.pid}V.getParent=function(t,r){return V.findEntryWithLevel(t,p(r))},V.listPath=function(t,r){var l=t.parent;if(!l)return[];var n=r?[l.data[r]]:[l];return V.listPath(l,r).concat(n)},V.getPath=function(t){return V.listPath(t,"label").join("/")+"/"},V.formatValue=L.formatPieValue,V.formatPercent=function(t,r){var l=g.formatPercent(t,0);return l==="0%"&&(l=L.formatPiePercent(t,r)),l}},87619:function(G,V,e){G.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(G){G.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(G,V,e){var g=e(71828),R=e(2654);G.exports=function(L,T){function v(p,t){return g.coerce(L,T,R,p,t)}v("sunburstcolorway",T.colorway),v("extendsunburstcolors")}},24714:function(G,V,e){var g=e(39898),R=e(674),i=e(81684).sX,L=e(91424),T=e(71828),v=e(63893),p=e(72597),t=p.recordMinTextSize,r=p.clearMinTextSize,l=e(14575),n=e(53581).getRotationAngle,s=l.computeTransform,c=l.transformInsideText,u=e(29969).styleOne,y=e(16688).resizeText,h=e(83523),b=e(7055),f=e(2791);V.plot=function(m,S,x,a){var E=m._fullLayout,w=E._sunburstlayer,k,I,U=!x,z=!E.uniformtext.mode&&f.hasTransition(x);if(r("sunburst",E),k=w.selectAll("g.trace.sunburst").data(S,function(B){return B[0].trace.uid}),k.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),k.order(),z){a&&(I=a());var N=g.transition().duration(x.duration).ease(x.easing).each("end",function(){I&&I()}).each("interrupt",function(){I&&I()});N.each(function(){w.selectAll("g.trace").each(function(B){o(m,B,this,x)})})}else k.each(function(B){o(m,B,this,x)}),E.uniformtext.mode&&y(m,E._sunburstlayer.selectAll(".trace"),"sunburst");U&&k.exit().remove()};function o(m,S,x,a){var E=m._context.staticPlot,w=m._fullLayout,k=!w.uniformtext.mode&&f.hasTransition(a),I=g.select(x),U=I.selectAll("g.slice"),z=S[0],N=z.trace,B=z.hierarchy,F=f.findEntryWithLevel(B,N.level),H=f.getMaxDepth(N),X=w._size,q=N.domain,ne=X.w*(q.x[1]-q.x[0]),oe=X.h*(q.y[1]-q.y[0]),ve=.5*Math.min(ne,oe),J=z.cx=X.l+X.w*(q.x[1]+q.x[0])/2,Y=z.cy=X.t+X.h*(1-q.y[0])-oe/2;if(!F)return U.remove();var j=null,K={};k&&U.each(function(Ge){K[f.getPtId(Ge)]={rpx0:Ge.rpx0,rpx1:Ge.rpx1,x0:Ge.x0,x1:Ge.x1,transform:Ge.transform},!j&&f.isEntry(Ge)&&(j=Ge)});var te=d(F).descendants(),se=F.height+1,Q=0,ee=H;z.hasMultipleRoots&&f.isHierarchyRoot(F)&&(te=te.slice(1),se-=1,Q=1,ee+=1),te=te.filter(function(Ge){return Ge.y1<=ee});var le=n(N.rotation);le&&te.forEach(function(Ge){Ge.x0+=le,Ge.x1+=le});var ie=Math.min(se,H),he=function(Ge){return(Ge-Q)/ie*ve},xe=function(Ge,nt){return[Ge*Math.cos(nt),-Ge*Math.sin(nt)]},Se=function(Ge){return T.pathAnnulus(Ge.rpx0,Ge.rpx1,Ge.x0,Ge.x1,J,Y)},Ee=function(Ge){return J+M(Ge)[0]*(Ge.transform.rCenter||0)+(Ge.transform.x||0)},Ne=function(Ge){return Y+M(Ge)[1]*(Ge.transform.rCenter||0)+(Ge.transform.y||0)};U=U.data(te,f.getPtId),U.enter().append("g").classed("slice",!0),k?U.exit().transition().each(function(){var Ge=g.select(this),nt=Ge.select("path.surface");nt.transition().attrTween("d",function(Ke){var $e=we(Ke);return function(vt){return Se($e(vt))}});var qe=Ge.select("g.slicetext");qe.attr("opacity",0)}).remove():U.exit().remove(),U.order();var He=null;if(k&&j){var Ce=f.getPtId(j);U.each(function(Ge){He===null&&f.getPtId(Ge)===Ce&&(He=Ge.x1)})}var be=U;k&&(be=be.transition().each("end",function(){var Ge=g.select(this);f.setSliceCursor(Ge,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),be.each(function(Ge){var nt=g.select(this),qe=T.ensureSingle(nt,"path","surface",function(Et){Et.style("pointer-events",E?"none":"all")});Ge.rpx0=he(Ge.y0),Ge.rpx1=he(Ge.y1),Ge.xmid=(Ge.x0+Ge.x1)/2,Ge.pxmid=xe(Ge.rpx1,Ge.xmid),Ge.midangle=-(Ge.xmid-Math.PI/2),Ge.startangle=-(Ge.x0-Math.PI/2),Ge.stopangle=-(Ge.x1-Math.PI/2),Ge.halfangle=.5*Math.min(T.angleDelta(Ge.x0,Ge.x1)||Math.PI,Math.PI),Ge.ring=1-Ge.rpx0/Ge.rpx1,Ge.rInscribed=A(Ge),k?qe.transition().attrTween("d",function(Et){var Xe=ke(Et);return function(Ue){return Se(Xe(Ue))}}):qe.attr("d",Se),nt.call(h,F,m,S,{eventDataKeys:b.eventDataKeys,transitionTime:b.CLICK_TRANSITION_TIME,transitionEasing:b.CLICK_TRANSITION_EASING}).call(f.setSliceCursor,m,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:m._transitioning}),qe.call(u,Ge,N,m);var Ke=T.ensureSingle(nt,"g","slicetext"),$e=T.ensureSingle(Ke,"text","",function(Et){Et.attr("data-notex",1)}),vt=T.ensureUniformFontSize(m,f.determineTextFont(N,Ge,w.font));$e.text(V.formatSliceLabel(Ge,F,N,S,w)).classed("slicetext",!0).attr("text-anchor","middle").call(L.font,vt).call(v.convertToTspans,m);var yt=L.bBox($e.node());Ge.transform=c(yt,Ge,z),Ge.transform.targetX=Ee(Ge),Ge.transform.targetY=Ne(Ge);var mt=function(Et,Xe){var Ue=Et.transform;return s(Ue,Xe),Ue.fontSize=vt.size,t(N.type,Ue,w),T.getTextTransform(Ue)};k?$e.transition().attrTween("transform",function(Et){var Xe=Fe(Et);return function(Ue){return mt(Xe(Ue),yt)}}):$e.attr("transform",mt(Ge,yt))});function we(Ge){var nt=f.getPtId(Ge),qe=K[nt],Ke=K[f.getPtId(F)],$e;if(Ke){var vt=(Ge.x1>Ke.x1?2*Math.PI:0)+le;$e=Ge.rpx1<Ke.rpx1?{x0:Ge.x0,x1:Ge.x1,rpx0:0,rpx1:0}:{x0:vt,x1:vt,rpx0:Ge.rpx0,rpx1:Ge.rpx1}}else{var yt,mt=f.getPtId(Ge.parent);U.each(function(rt){if(f.getPtId(rt)===mt)return yt=rt});var Et=yt.children,Xe;Et.forEach(function(rt,it){if(f.getPtId(rt)===nt)return Xe=it});var Ue=Et.length,Be=i(yt.x0,yt.x1);$e={rpx0:ve,rpx1:ve,x0:Be(Xe/Ue),x1:Be((Xe+1)/Ue)}}return i(qe,$e)}function ke(Ge){var nt=K[f.getPtId(Ge)],qe,Ke={x0:Ge.x0,x1:Ge.x1,rpx0:Ge.rpx0,rpx1:Ge.rpx1};if(nt)qe=nt;else if(j)if(Ge.parent)if(He){var $e=(Ge.x1>He?2*Math.PI:0)+le;qe={x0:$e,x1:$e}}else qe={rpx0:ve,rpx1:ve},T.extendFlat(qe,Pe(Ge));else qe={rpx0:0,rpx1:0};else qe={x0:le,x1:le};return i(qe,Ke)}function Fe(Ge){var nt=K[f.getPtId(Ge)],qe,Ke=Ge.transform;if(nt)qe=nt;else if(qe={rpx1:Ge.rpx1,transform:{textPosAngle:Ke.textPosAngle,scale:0,rotate:Ke.rotate,rCenter:Ke.rCenter,x:Ke.x,y:Ke.y}},j)if(Ge.parent)if(He){var $e=Ge.x1>He?2*Math.PI:0;qe.x0=qe.x1=$e}else T.extendFlat(qe,Pe(Ge));else qe.x0=qe.x1=le;else qe.x0=qe.x1=le;var vt=i(qe.transform.textPosAngle,Ge.transform.textPosAngle),yt=i(qe.rpx1,Ge.rpx1),mt=i(qe.x0,Ge.x0),Et=i(qe.x1,Ge.x1),Xe=i(qe.transform.scale,Ke.scale),Ue=i(qe.transform.rotate,Ke.rotate),Be=Ke.rCenter===0?3:qe.transform.rCenter===0?1/3:1,rt=i(qe.transform.rCenter,Ke.rCenter),it=function(Ye){return rt(Math.pow(Ye,Be))};return function(Ye){var De=yt(Ye),Te=mt(Ye),fe=Et(Ye),me=it(Ye),Re=xe(De,(Te+fe)/2),Oe=vt(Ye),st={pxmid:Re,rpx1:De,transform:{textPosAngle:Oe,rCenter:me,x:Ke.x,y:Ke.y}};return t(N.type,Ke,w),{transform:{targetX:Ee(st),targetY:Ne(st),scale:Xe(Ye),rotate:Ue(Ye),rCenter:me}}}}function Pe(Ge){var nt=Ge.parent,qe=K[f.getPtId(nt)],Ke={};if(qe){var $e=nt.children,vt=$e.indexOf(Ge),yt=$e.length,mt=i(qe.x0,qe.x1);Ke.x0=mt(vt/yt),Ke.x1=mt(vt/yt)}else Ke.x0=Ke.x1=0;return Ke}}function d(m){return R.partition().size([2*Math.PI,m.height+1])(m)}V.formatSliceLabel=function(m,S,x,a,E){var w=x.texttemplate,k=x.textinfo;if(!w&&(!k||k==="none"))return"";var I=E.separators,U=a[0],z=m.data.data,N=U.hierarchy,B=f.isHierarchyRoot(m),F=f.getParent(N,m),H=f.getValue(m);if(!w){var X=k.split("+"),q=function(Q){return X.indexOf(Q)!==-1},ne=[],oe;if(q("label")&&z.label&&ne.push(z.label),z.hasOwnProperty("v")&&q("value")&&ne.push(f.formatValue(z.v,I)),!B){q("current path")&&ne.push(f.getPath(m.data));var ve=0;q("percent parent")&&ve++,q("percent entry")&&ve++,q("percent root")&&ve++;var J=ve>1;if(ve){var Y,j=function(Q){oe=f.formatPercent(Y,I),J&&(oe+=" of "+Q),ne.push(oe)};q("percent parent")&&!B&&(Y=H/f.getValue(F),j("parent")),q("percent entry")&&(Y=H/f.getValue(S),j("entry")),q("percent root")&&(Y=H/f.getValue(N),j("root"))}}return q("text")&&(oe=T.castOption(x,z.i,"text"),T.isValidTextValue(oe)&&ne.push(oe)),ne.join("<br>")}var K=T.castOption(x,z.i,"texttemplate");if(!K)return"";var te={};z.label&&(te.label=z.label),z.hasOwnProperty("v")&&(te.value=z.v,te.valueLabel=f.formatValue(z.v,I)),te.currentPath=f.getPath(m.data),B||(te.percentParent=H/f.getValue(F),te.percentParentLabel=f.formatPercent(te.percentParent,I),te.parent=f.getPtLabel(F)),te.percentEntry=H/f.getValue(S),te.percentEntryLabel=f.formatPercent(te.percentEntry,I),te.entry=f.getPtLabel(S),te.percentRoot=H/f.getValue(N),te.percentRootLabel=f.formatPercent(te.percentRoot,I),te.root=f.getPtLabel(N),z.hasOwnProperty("color")&&(te.color=z.color);var se=T.castOption(x,z.i,"text");return(T.isValidTextValue(se)||se==="")&&(te.text=se),te.customdata=T.castOption(x,z.i,"customdata"),T.texttemplateString(K,te,E._d3locale,te,x._meta||{})};function A(m){return m.rpx0===0&&T.isFullCircle([m.x0,m.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(m.halfangle)),m.ring/2))}function M(m){return C(m.rpx1,m.transform.textPosAngle)}function C(m,S){return[m*Math.sin(S),-m*Math.cos(S)]}},29969:function(G,V,e){var g=e(39898),R=e(7901),i=e(71828),L=e(72597).resizeText,T=e(43467);function v(t){var r=t._fullLayout._sunburstlayer.selectAll(".trace");L(t,r,"sunburst"),r.each(function(l){var n=g.select(this),s=l[0],c=s.trace;n.style("opacity",c.opacity),n.selectAll("path.surface").each(function(u){g.select(this).call(p,u,c,t)})})}function p(t,r,l,n){var s=r.data.data,c=!r.children,u=s.i,y=i.castOption(l,u,"marker.line.color")||R.defaultLine,h=i.castOption(l,u,"marker.line.width")||0;t.call(T,r,l,n).style("stroke-width",h).call(R.stroke,y).style("opacity",c?l.leaf.opacity:null)}G.exports={style:v,styleOne:p}},54532:function(G,V,e){var g=e(7901),R=e(50693),i=e(12663).axisHoverFormat,L=e(5386).fF,T=e(9012),v=e(1426).extendFlat,p=e(30962).overrideAll;function t(n){return{valType:"boolean",dflt:!1}}function r(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:t(),y:t(),z:t()},color:{valType:"color",dflt:g.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:g.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var l=G.exports=p(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:L(),xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},R("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:r(),y:r(),z:r()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},R.zauto,{}),zmin:v({},R.zmin,{}),zmax:v({},R.zmax,{})},hoverinfo:v({},T.hoverinfo),showlegend:v({},T.showlegend,{dflt:!1})}),"calc","nested");l.x.editType=l.y.editType=l.z.editType="calc+clearAxisTypes",l.transforms=void 0},18396:function(G,V,e){var g=e(78803);G.exports=function(i,L){L.surfacecolor?g(i,L,{vals:L.surfacecolor,containerStr:"",cLetter:"c"}):g(i,L,{vals:L.z,containerStr:"",cLetter:"c"})}},43768:function(G,V,e){var g=e(9330).gl_surface3d,R=e(9330).ndarray,i=e(9330).ndarray_linear_interpolate.d2,L=e(824),T=e(43907),v=e(71828).isArrayOrTypedArray,p=e(81697).parseColorScale,t=e(78614),r=e(21081).extractOpts;function l(a,E,w){this.scene=a,this.uid=w,this.surface=E,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=l.prototype;n.getXat=function(a,E,w,k){var I=v(this.data.x)?v(this.data.x[0])?this.data.x[E][a]:this.data.x[a]:a;return w===void 0?I:k.d2l(I,0,w)},n.getYat=function(a,E,w,k){var I=v(this.data.y)?v(this.data.y[0])?this.data.y[E][a]:this.data.y[E]:E;return w===void 0?I:k.d2l(I,0,w)},n.getZat=function(a,E,w,k){var I=this.data.z[E][a];return I===null&&this.data.connectgaps&&this.data._interpolatedZ&&(I=this.data._interpolatedZ[E][a]),w===void 0?I:k.d2l(I,0,w)},n.handlePick=function(a){if(a.object===this.surface){var E=(a.data.index[0]-1)/this.dataScaleX-1,w=(a.data.index[1]-1)/this.dataScaleY-1,k=Math.max(Math.min(Math.round(E),this.data.z[0].length-1),0),I=Math.max(Math.min(Math.round(w),this.data._ylength-1),0);a.index=[k,I],a.traceCoordinate=[this.getXat(k,I),this.getYat(k,I),this.getZat(k,I)],a.dataCoordinate=[this.getXat(k,I,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(k,I,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(k,I,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var U=0;U<3;U++){var z=a.dataCoordinate[U];z!=null&&(a.dataCoordinate[U]*=this.scene.dataScale[U])}var N=this.data.hovertext||this.data.text;return Array.isArray(N)&&N[I]&&N[I][k]!==void 0?a.textLabel=N[I][k]:N?a.textLabel=N:a.textLabel="",a.data.dataCoordinate=a.dataCoordinate.slice(),this.surface.highlight(a.data),this.scene.glplot.spikes.position=a.dataCoordinate,!0}};function s(a){var E=a[0].rgb,w=a[a.length-1].rgb;return E[0]===w[0]&&E[1]===w[1]&&E[2]===w[2]&&E[3]===w[3]}var c=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function u(a,E){if(a<E)return 0;for(var w=0;Math.floor(a%E)===0;)a/=E,w++;return w}function y(a){for(var E=[],w=0;w<c.length;w++){var k=c[w];E.push(u(a,k))}return E}function h(a){for(var E=y(a),w=a,k=0;k<c.length;k++)if(E[k]>0){w=c[k];break}return w}function b(a,E){if(!(a<1||E<1)){for(var w=y(a),k=y(E),I=1,U=0;U<c.length;U++)I*=Math.pow(c[U],Math.max(w[U],k[U]));return I}}function f(a){if(a.length!==0){for(var E=1,w=0;w<a.length;w++)E=b(E,a[w]);return E}}n.calcXnums=function(a){var E,w=[];for(E=1;E<a;E++){var k=this.getXat(E-1,0),I=this.getXat(E,0);I!==k&&k!==void 0&&k!==null&&I!==void 0&&I!==null?w[E-1]=Math.abs(I-k):w[E-1]=0}var U=0;for(E=1;E<a;E++)U+=w[E-1];for(E=1;E<a;E++)w[E-1]===0?w[E-1]=1:w[E-1]=Math.round(U/w[E-1]);return w},n.calcYnums=function(a){var E,w=[];for(E=1;E<a;E++){var k=this.getYat(0,E-1),I=this.getYat(0,E);I!==k&&k!==void 0&&k!==null&&I!==void 0&&I!==null?w[E-1]=Math.abs(I-k):w[E-1]=0}var U=0;for(E=1;E<a;E++)U+=w[E-1];for(E=1;E<a;E++)w[E-1]===0?w[E-1]=1:w[E-1]=Math.round(U/w[E-1]);return w};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=o[9],A=o[13];n.estimateScale=function(a,E){for(var w=E===0?this.calcXnums(a):this.calcYnums(a),k=1+f(w);k<d;)k*=2;for(;k>A;)k--,k/=h(k),k++,k<d&&(k=A);var I=Math.round(k/a);return I>1?I:1};function M(a,E,w){var k=w[8]+w[2]*E[0]+w[5]*E[1];return a[0]=(w[6]+w[0]*E[0]+w[3]*E[1])/k,a[1]=(w[7]+w[1]*E[0]+w[4]*E[1])/k,a}function C(a,E,w){return m(a,E,M,w),a}function m(a,E,w,k){for(var I=[0,0],U=a.shape[0],z=a.shape[1],N=0;N<U;N++)for(var B=0;B<z;B++)w(I,[N,B],k),a.set(N,B,i(E,I[0],I[1]));return a}n.refineCoords=function(a){for(var E=this.dataScaleX,w=this.dataScaleY,k=a[0].shape[0],I=a[0].shape[1],U=Math.floor(a[0].shape[0]*E+1)|0,z=Math.floor(a[0].shape[1]*w+1)|0,N=1+k+1,B=1+I+1,F=R(new Float32Array(N*B),[N,B]),H=[1/E,0,0,0,1/w,0,0,0,1],X=0;X<a.length;++X){this.surface.padField(F,a[X]);var q=R(new Float32Array(U*z),[U,z]);C(q,F,H),a[X]=q}};function S(a,E){for(var w=!1,k=0;k<a.length;k++)if(E===a[k]){w=!0;break}w===!1&&a.push(E)}n.setContourLevels=function(){var a=[[],[],[]],E=[!1,!1,!1],w=!1,k,I,U;for(k=0;k<3;++k)if(this.showContour[k]&&(w=!0,this.contourSize[k]>0&&this.contourStart[k]!==null&&this.contourEnd[k]!==null&&this.contourEnd[k]>this.contourStart[k]))for(E[k]=!0,I=this.contourStart[k];I<this.contourEnd[k];I+=this.contourSize[k])U=I*this.scene.dataScale[k],S(a[k],U);if(w){var z=[[],[],[]];for(k=0;k<3;++k)this.showContour[k]&&(z[k]=E[k]?a[k]:this.scene.contourLevels[k]);this.surface.update({levels:z})}},n.update=function(a){var E=this.scene,w=E.fullSceneLayout,k=this.surface,I=p(a),U=E.dataScale,z=a.z[0].length,N=a._ylength,B=E.contourLevels;this.data=a;var F,H,X,q,ne=[];for(F=0;F<3;F++)for(ne[F]=[],H=0;H<z;H++)ne[F][H]=[];for(H=0;H<z;H++)for(X=0;X<N;X++)ne[0][H][X]=this.getXat(H,X,a.xcalendar,w.xaxis),ne[1][H][X]=this.getYat(H,X,a.ycalendar,w.yaxis),ne[2][H][X]=this.getZat(H,X,a.zcalendar,w.zaxis);if(a.connectgaps)for(a._emptypoints=T(ne[2]),L(ne[2],a._emptypoints),a._interpolatedZ=[],H=0;H<z;H++)for(a._interpolatedZ[H]=[],X=0;X<N;X++)a._interpolatedZ[H][X]=ne[2][H][X];for(F=0;F<3;F++)for(H=0;H<z;H++)for(X=0;X<N;X++)q=ne[F][H][X],q==null?ne[F][H][X]=NaN:q=ne[F][H][X]*=U[F];for(F=0;F<3;F++)for(H=0;H<z;H++)for(X=0;X<N;X++)q=ne[F][H][X],q!=null&&(this.minValues[F]>q&&(this.minValues[F]=q),this.maxValues[F]<q&&(this.maxValues[F]=q));for(F=0;F<3;F++)this.objectOffset[F]=.5*(this.minValues[F]+this.maxValues[F]);for(F=0;F<3;F++)for(H=0;H<z;H++)for(X=0;X<N;X++)q=ne[F][H][X],q!=null&&(ne[F][H][X]-=this.objectOffset[F]);var oe=[R(new Float32Array(z*N),[z,N]),R(new Float32Array(z*N),[z,N]),R(new Float32Array(z*N),[z,N])];for(F=0;F<3;F++)for(H=0;H<z;H++)for(X=0;X<N;X++)oe[F].set(H,X,ne[F][H][X]);ne=[];var ve={colormap:I,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!a.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:a.opacityscale,opacity:a.opacity},J=r(a);if(ve.intensityBounds=[J.min,J.max],a.surfacecolor){var Y=R(new Float32Array(z*N),[z,N]);for(H=0;H<z;H++)for(X=0;X<N;X++)Y.set(H,X,a.surfacecolor[X][H]);oe.push(Y)}else ve.intensityBounds[0]*=U[2],ve.intensityBounds[1]*=U[2];(A<oe[0].shape[0]||A<oe[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(oe[0].shape[0],0),this.dataScaleY=this.estimateScale(oe[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(oe)),a.surfacecolor&&(ve.intensity=oe.pop());var j=[!0,!0,!0],K=["x","y","z"];for(F=0;F<3;++F){var te=a.contours[K[F]];j[F]=te.highlight,ve.showContour[F]=te.show||te.highlight,ve.showContour[F]&&(ve.contourProject[F]=[te.project.x,te.project.y,te.project.z],te.show?(this.showContour[F]=!0,ve.levels[F]=B[F],k.highlightColor[F]=ve.contourColor[F]=t(te.color),te.usecolormap?k.highlightTint[F]=ve.contourTint[F]=0:k.highlightTint[F]=ve.contourTint[F]=1,ve.contourWidth[F]=te.width,this.contourStart[F]=te.start,this.contourEnd[F]=te.end,this.contourSize[F]=te.size):(this.showContour[F]=!1,this.contourStart[F]=null,this.contourEnd[F]=null,this.contourSize[F]=0),te.highlight&&(ve.dynamicColor[F]=t(te.highlightcolor),ve.dynamicWidth[F]=te.highlightwidth))}s(I)&&(ve.vertexColor=!0),ve.objectOffset=this.objectOffset,ve.coords=oe,k.update(ve),k.visible=a.visible,k.enableDynamic=j,k.enableHighlight=j,k.snapToData=!0,"lighting"in a&&(k.ambientLight=a.lighting.ambient,k.diffuseLight=a.lighting.diffuse,k.specularLight=a.lighting.specular,k.roughness=a.lighting.roughness,k.fresnel=a.lighting.fresnel),"lightposition"in a&&(k.lightPosition=[a.lightposition.x,a.lightposition.y,a.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function x(a,E){var w=a.glplot.gl,k=g({gl:w}),I=new l(a,k,E.uid);return k._trace=I,I.update(E),a.glplot.add(k),I}G.exports=x},91831:function(G,V,e){var g=e(73972),R=e(71828),i=e(1586),L=e(54532),T=.1;function v(n,s){for(var c=[],u=32,y=0;y<u;y++){var h=y/(u-1),b=s+(1-s)*(1-Math.pow(Math.sin(n*h*Math.PI),2));c.push([h,Math.max(0,Math.min(1,b))])}return c}function p(n){var s=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var c=0;c<n.length;c++){var u=n[c];if(u.length!==2||+u[0]<s)return!1;s=+u[0]}return!0}function t(n,s,c,u){var y,h;function b(a,E){return R.coerce(n,s,L,a,E)}var f=b("x"),o=b("y"),d=b("z");if(!d||!d.length||f&&f.length<1||o&&o.length<1){s.visible=!1;return}s._xlength=Array.isArray(f)&&R.isArrayOrTypedArray(f[0])?d.length:d[0].length,s._ylength=d.length;var A=g.getComponentMethod("calendars","handleTraceDefaults");A(n,s,["x","y","z"],u),b("text"),b("hovertext"),b("hovertemplate"),b("xhoverformat"),b("yhoverformat"),b("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(a){b(a)});var M=b("surfacecolor"),C=["x","y","z"];for(y=0;y<3;++y){var m="contours."+C[y],S=b(m+".show"),x=b(m+".highlight");if(S||x)for(h=0;h<3;++h)b(m+".project."+C[h]);S&&(b(m+".color"),b(m+".width"),b(m+".usecolormap")),x&&(b(m+".highlightcolor"),b(m+".highlightwidth")),b(m+".start"),b(m+".end"),b(m+".size")}M||(l(n,"zmin","cmin"),l(n,"zmax","cmax"),l(n,"zauto","cauto")),i(n,s,u,b,{prefix:"",cLetter:"c"}),r(n,s,u,b),s._length=null}function r(n,s,c,u){var y=u("opacityscale");y==="max"?s.opacityscale=[[0,T],[1,1]]:y==="min"?s.opacityscale=[[0,1],[1,T]]:y==="extremes"?s.opacityscale=v(1,T):p(y)||(s.opacityscale=void 0)}function l(n,s,c){s in n&&!(c in n)&&(n[c]=n[s])}G.exports={supplyDefaults:t,opacityscaleDefaults:r}},93601:function(G,V,e){G.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(G,V,e){var g=e(50215),R=e(1426).extendFlat,i=e(30962).overrideAll,L=e(41940),T=e(27670).Y,v=e(12663).descriptionOnlyNumbers,p=G.exports=i({domain:T({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:R({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:R({},L({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:R({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:R({},L({arrayOk:!0}))}},"calc","from-root");p.transforms=void 0},99469:function(G,V,e){var g=e(27659).a0,R=e(36736),i="table";V.name=i,V.plot=function(L){var T=g(L.calcdata,i)[0];T.length&&R(L,T)},V.clean=function(L,T,v,p){var t=p._has&&p._has(i),r=T._has&&T._has(i);t&&!r&&p._paperdiv.selectAll(".table").remove()}},76333:function(G,V,e){var g=e(28984).wrap;G.exports=function(){return g({})}},49850:function(G){G.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(G,V,e){var g=e(49850),R=e(1426).extendFlat,i=e(92770);G.exports=function(c,u){var y=v(u.cells.values),h=function(H){return H.slice(u.header.values.length,H.length)},b=v(u.header.values);b.length&&!b[0].length&&(b[0]=[""],b=v(b));var f=b.concat(h(y).map(function(){return p((b[0]||[""]).length)})),o=u.domain,d=Math.floor(c._fullLayout._size.w*(o.x[1]-o.x[0])),A=Math.floor(c._fullLayout._size.h*(o.y[1]-o.y[0])),M=u.header.values.length?f[0].map(function(){return u.header.height}):[g.emptyHeaderHeight],C=y.length?y[0].map(function(){return u.cells.height}):[],m=M.reduce(T,0),S=A-m,x=S+g.uplift,a=l(C,x),E=l(M,m),w=r(E,[]),k=r(a,w),I={},U=u._fullInput.columnorder.concat(h(y.map(function(H,X){return X}))),z=f.map(function(H,X){var q=Array.isArray(u.columnwidth)?u.columnwidth[Math.min(X,u.columnwidth.length-1)]:u.columnwidth;return i(q)?Number(q):1}),N=z.reduce(T,0);z=z.map(function(H){return H/N*d});var B=Math.max(L(u.header.line.width),L(u.cells.line.width)),F={key:u.uid+c._context.staticPlot,translateX:o.x[0]*c._fullLayout._size.w,translateY:c._fullLayout._size.h*(1-o.y[1]),size:c._fullLayout._size,width:d,maxLineWidth:B,height:A,columnOrder:U,groupHeight:A,rowBlocks:k,headerRowBlocks:w,scrollY:0,cells:R({},u.cells,{values:y}),headerCells:R({},u.header,{values:f}),gdColumns:f.map(function(H){return H[0]}),gdColumnsOriginalOrder:f.map(function(H){return H[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:f.map(function(H,X){var q=I[H];I[H]=(q||0)+1;var ne=H+"__"+I[H];return{key:ne,label:H,specIndex:X,xIndex:U[X],xScale:t,x:void 0,calcdata:void 0,columnWidth:z[X]}})};return F.columns.forEach(function(H){H.calcdata=F,H.x=t(H)}),F};function L(s){if(Array.isArray(s)){for(var c=0,u=0;u<s.length;u++)c=Math.max(c,L(s[u]));return c}return s}function T(s,c){return s+c}function v(s){var c=s.slice(),u=1/0,y=0,h;for(h=0;h<c.length;h++)Array.isArray(c[h])||(c[h]=[c[h]]),u=Math.min(u,c[h].length),y=Math.max(y,c[h].length);if(u!==y)for(h=0;h<c.length;h++){var b=y-c[h].length;b&&(c[h]=c[h].concat(p(b)))}return c}function p(s){for(var c=new Array(s),u=0;u<s;u++)c[u]="";return c}function t(s){return s.calcdata.columns.reduce(function(c,u){return u.xIndex<s.xIndex?c+u.columnWidth:c},0)}function r(s,c){var u=Object.keys(s);return u.map(function(y){return R({},s[y],{auxiliaryBlocks:c})})}function l(s,c){for(var u={},y,h=0,b=0,f=n(),o=0,d=0,A=0;A<s.length;A++)y=s[A],f.rows.push({rowIndex:A,rowHeight:y}),b+=y,(b>=c||A===s.length-1)&&(u[h]=f,f.key=d++,f.firstRowIndex=o,f.lastRowIndex=A,f=n(),h+=b,o=A+1,b=0);return u}function n(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},56269:function(G,V,e){var g=e(1426).extendFlat;V.splitToPanels=function(i){var L=[0,0],T=g({},i,{key:"header",type:"header",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!0,values:i.calcdata.headerCells.values[i.specIndex],rowBlocks:i.calcdata.headerRowBlocks,calcdata:g({},i.calcdata,{cells:i.calcdata.headerCells})}),v=g({},i,{key:"cells1",type:"cells",page:0,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks}),p=g({},i,{key:"cells2",type:"cells",page:1,prevPages:L,currentRepaint:[null,null],dragHandle:!1,values:i.calcdata.cells.values[i.specIndex],rowBlocks:i.calcdata.rowBlocks});return[v,p,T]},V.splitToCells=function(i){var L=R(i);return(i.values||[]).slice(L[0],L[1]).map(function(T,v){var p=typeof T=="string"&&T.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+p,key:L[0]+v,column:i,calcdata:i.calcdata,page:i.page,rowBlocks:i.rowBlocks,value:T}})};function R(i){var L=i.rowBlocks[i.page],T=L?L.rows[0].rowIndex:0,v=L?T+L.rows.length:0;return[T,v]}},39754:function(G,V,e){var g=e(71828),R=e(44464),i=e(27670).c;function L(T,v){for(var p=T.columnorder||[],t=T.header.values.length,r=p.slice(0,t),l=r.slice().sort(function(c,u){return c-u}),n=r.map(function(c){return l.indexOf(c)}),s=n.length;s<t;s++)n.push(s);v("columnorder",n)}G.exports=function(v,p,t,r){function l(n,s){return g.coerce(v,p,R,n,s)}i(p,r,l),l("columnwidth"),l("header.values"),l("header.format"),l("header.align"),l("header.prefix"),l("header.suffix"),l("header.height"),l("header.line.width"),l("header.line.color"),l("header.fill.color"),g.coerceFont(l,"header.font",g.extendFlat({},r.font)),L(p,l),l("cells.values"),l("cells.format"),l("cells.align"),l("cells.prefix"),l("cells.suffix"),l("cells.height"),l("cells.line.width"),l("cells.line.color"),l("cells.fill.color"),g.coerceFont(l,"cells.font",g.extendFlat({},r.font)),p._length=null}},96595:function(G,V,e){G.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(G,V,e){var g=e(49850),R=e(39898),i=e(71828),L=i.numberFormat,T=e(28984),v=e(91424),p=e(63893),t=e(71828).raiseToTop,r=e(71828).strTranslate,l=e(71828).cancelTransition,n=e(51018),s=e(56269),c=e(7901);G.exports=function(le,ie){var he=!le._context.staticPlot,xe=le._fullLayout._paper.selectAll("."+g.cn.table).data(ie.map(function(Ke){var $e=T.unwrap(Ke),vt=$e.trace;return n(le,vt)}),T.keyFun);xe.exit().remove(),xe.enter().append("g").classed(g.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),xe.attr("width",function(Ke){return Ke.width+Ke.size.l+Ke.size.r}).attr("height",function(Ke){return Ke.height+Ke.size.t+Ke.size.b}).attr("transform",function(Ke){return r(Ke.translateX,Ke.translateY)});var Se=xe.selectAll("."+g.cn.tableControlView).data(T.repeat,T.keyFun),Ee=Se.enter().append("g").classed(g.cn.tableControlView,!0).style("box-sizing","content-box");if(he){var Ne="onwheel"in document?"wheel":"mousewheel";Ee.on("mousemove",function(Ke){Se.filter(function($e){return Ke===$e}).call(f,le)}).on(Ne,function(Ke){if(!Ke.scrollbarState.wheeling){Ke.scrollbarState.wheeling=!0;var $e=Ke.scrollY+R.event.deltaY,vt=q(le,Se,null,$e)(Ke);vt||(R.event.stopPropagation(),R.event.preventDefault()),Ke.scrollbarState.wheeling=!1}}).call(f,le,!0)}Se.attr("transform",function(Ke){return r(Ke.size.l,Ke.size.t)});var He=Se.selectAll("."+g.cn.scrollBackground).data(T.repeat,T.keyFun);He.enter().append("rect").classed(g.cn.scrollBackground,!0).attr("fill","none"),He.attr("width",function(Ke){return Ke.width}).attr("height",function(Ke){return Ke.height}),Se.each(function(Ke){v.setClipUrl(R.select(this),y(le,Ke),le)});var Ce=Se.selectAll("."+g.cn.yColumn).data(function(Ke){return Ke.columns},T.keyFun);Ce.enter().append("g").classed(g.cn.yColumn,!0),Ce.exit().remove(),Ce.attr("transform",function(Ke){return r(Ke.x,0)}),he&&Ce.call(R.behavior.drag().origin(function(Ke){var $e=R.select(this);return z($e,Ke,-g.uplift),t(this),Ke.calcdata.columnDragInProgress=!0,f(Se.filter(function(vt){return Ke.calcdata.key===vt.key}),le),Ke}).on("drag",function(Ke){var $e=R.select(this),vt=function(Et){return(Ke===Et?R.event.x:Et.x)+Et.columnWidth/2};Ke.x=Math.max(-g.overdrag,Math.min(Ke.calcdata.width+g.overdrag-Ke.columnWidth,R.event.x));var yt=b(Ce).filter(function(Et){return Et.calcdata.key===Ke.calcdata.key}),mt=yt.sort(function(Et,Xe){return vt(Et)-vt(Xe)});mt.forEach(function(Et,Xe){Et.xIndex=Xe,Et.x=Ke===Et?Et.x:Et.xScale(Et)}),Ce.filter(function(Et){return Ke!==Et}).transition().ease(g.transitionEase).duration(g.transitionDuration).attr("transform",function(Et){return r(Et.x,0)}),$e.call(l).attr("transform",r(Ke.x,-g.uplift))}).on("dragend",function(Ke){var $e=R.select(this),vt=Ke.calcdata;Ke.x=Ke.xScale(Ke),Ke.calcdata.columnDragInProgress=!1,z($e,Ke,0),I(le,vt,vt.columns.map(function(yt){return yt.xIndex}))})),Ce.each(function(Ke){v.setClipUrl(R.select(this),h(le,Ke),le)});var be=Ce.selectAll("."+g.cn.columnBlock).data(s.splitToPanels,T.keyFun);be.enter().append("g").classed(g.cn.columnBlock,!0).attr("id",function(Ke){return Ke.key}),be.style("cursor",function(Ke){return Ke.dragHandle?"ew-resize":Ke.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var we=be.filter(B),ke=be.filter(N);he&&ke.call(R.behavior.drag().origin(function(Ke){return R.event.stopPropagation(),Ke}).on("drag",q(le,Se,-1)).on("dragend",function(){})),o(le,Se,we,be),o(le,Se,ke,be);var Fe=Se.selectAll("."+g.cn.scrollAreaClip).data(T.repeat,T.keyFun);Fe.enter().append("clipPath").classed(g.cn.scrollAreaClip,!0).attr("id",function(Ke){return y(le,Ke)});var Pe=Fe.selectAll("."+g.cn.scrollAreaClipRect).data(T.repeat,T.keyFun);Pe.enter().append("rect").classed(g.cn.scrollAreaClipRect,!0).attr("x",-g.overdrag).attr("y",-g.uplift).attr("fill","none"),Pe.attr("width",function(Ke){return Ke.width+2*g.overdrag}).attr("height",function(Ke){return Ke.height+g.uplift});var Ge=Ce.selectAll("."+g.cn.columnBoundary).data(T.repeat,T.keyFun);Ge.enter().append("g").classed(g.cn.columnBoundary,!0);var nt=Ce.selectAll("."+g.cn.columnBoundaryClippath).data(T.repeat,T.keyFun);nt.enter().append("clipPath").classed(g.cn.columnBoundaryClippath,!0),nt.attr("id",function(Ke){return h(le,Ke)});var qe=nt.selectAll("."+g.cn.columnBoundaryRect).data(T.repeat,T.keyFun);qe.enter().append("rect").classed(g.cn.columnBoundaryRect,!0).attr("fill","none"),qe.attr("width",function(Ke){return Ke.columnWidth+2*u(Ke)}).attr("height",function(Ke){return Ke.calcdata.height+2*u(Ke)+g.uplift}).attr("x",function(Ke){return-u(Ke)}).attr("y",function(Ke){return-u(Ke)}),X(null,ke,Se)};function u(ee){return Math.ceil(ee.calcdata.maxLineWidth/2)}function y(ee,le){return"clip"+ee._fullLayout._uid+"_scrollAreaBottomClip_"+le.key}function h(ee,le){return"clip"+ee._fullLayout._uid+"_columnBoundaryClippath_"+le.calcdata.key+"_"+le.specIndex}function b(ee){return[].concat.apply([],ee.map(function(le){return le})).map(function(le){return le.__data__})}function f(ee,le,ie){function he(Ce){var be=Ce.rowBlocks;return j(be,be.length-1)+(be.length?K(be[be.length-1],1/0):1)}var xe=ee.selectAll("."+g.cn.scrollbarKit).data(T.repeat,T.keyFun);xe.enter().append("g").classed(g.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),xe.each(function(Ce){var be=Ce.scrollbarState;be.totalHeight=he(Ce),be.scrollableAreaHeight=Ce.groupHeight-F(Ce),be.currentlyVisibleHeight=Math.min(be.totalHeight,be.scrollableAreaHeight),be.ratio=be.currentlyVisibleHeight/be.totalHeight,be.barLength=Math.max(be.ratio*be.currentlyVisibleHeight,g.goldenRatio*g.scrollbarWidth),be.barWiggleRoom=be.currentlyVisibleHeight-be.barLength,be.wiggleRoom=Math.max(0,be.totalHeight-be.scrollableAreaHeight),be.topY=be.barWiggleRoom===0?0:Ce.scrollY/be.wiggleRoom*be.barWiggleRoom,be.bottomY=be.topY+be.barLength,be.dragMultiplier=be.wiggleRoom/be.barWiggleRoom}).attr("transform",function(Ce){var be=Ce.width+g.scrollbarWidth/2+g.scrollbarOffset;return r(be,F(Ce))});var Se=xe.selectAll("."+g.cn.scrollbar).data(T.repeat,T.keyFun);Se.enter().append("g").classed(g.cn.scrollbar,!0);var Ee=Se.selectAll("."+g.cn.scrollbarSlider).data(T.repeat,T.keyFun);Ee.enter().append("g").classed(g.cn.scrollbarSlider,!0),Ee.attr("transform",function(Ce){return r(0,Ce.scrollbarState.topY||0)});var Ne=Ee.selectAll("."+g.cn.scrollbarGlyph).data(T.repeat,T.keyFun);Ne.enter().append("line").classed(g.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",g.scrollbarWidth).attr("stroke-linecap","round").attr("y1",g.scrollbarWidth/2),Ne.attr("y2",function(Ce){return Ce.scrollbarState.barLength-g.scrollbarWidth/2}).attr("stroke-opacity",function(Ce){return Ce.columnDragInProgress||!Ce.scrollbarState.barWiggleRoom||ie?0:.4}),Ne.transition().delay(0).duration(0),Ne.transition().delay(g.scrollbarHideDelay).duration(g.scrollbarHideDuration).attr("stroke-opacity",0);var He=Se.selectAll("."+g.cn.scrollbarCaptureZone).data(T.repeat,T.keyFun);He.enter().append("line").classed(g.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",g.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ce){var be=R.event.y,we=this.getBoundingClientRect(),ke=Ce.scrollbarState,Fe=be-we.top,Pe=R.scale.linear().domain([0,ke.scrollableAreaHeight]).range([0,ke.totalHeight]).clamp(!0);ke.topY<=Fe&&Fe<=ke.bottomY||q(le,ee,null,Pe(Fe-ke.barLength/2))(Ce)}).call(R.behavior.drag().origin(function(Ce){return R.event.stopPropagation(),Ce.scrollbarState.scrollbarScrollInProgress=!0,Ce}).on("drag",q(le,ee)).on("dragend",function(){})),He.attr("y2",function(Ce){return Ce.scrollbarState.scrollableAreaHeight}),le._context.staticPlot&&(Ne.remove(),He.remove())}function o(ee,le,ie,he){var xe=d(ie),Se=A(xe);S(Se);var Ee=M(Se);a(Ee);var Ne=m(Se),He=C(Ne);x(He),E(He,le,he,ee),Y(Se)}function d(ee){var le=ee.selectAll("."+g.cn.columnCells).data(T.repeat,T.keyFun);return le.enter().append("g").classed(g.cn.columnCells,!0),le.exit().remove(),le}function A(ee){var le=ee.selectAll("."+g.cn.columnCell).data(s.splitToCells,function(ie){return ie.keyWithinBlock});return le.enter().append("g").classed(g.cn.columnCell,!0),le.exit().remove(),le}function M(ee){var le=ee.selectAll("."+g.cn.cellRect).data(T.repeat,function(ie){return ie.keyWithinBlock});return le.enter().append("rect").classed(g.cn.cellRect,!0),le}function C(ee){var le=ee.selectAll("."+g.cn.cellText).data(T.repeat,function(ie){return ie.keyWithinBlock});return le.enter().append("text").classed(g.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){R.event.stopPropagation()}),le}function m(ee){var le=ee.selectAll("."+g.cn.cellTextHolder).data(T.repeat,function(ie){return ie.keyWithinBlock});return le.enter().append("g").classed(g.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),le}function S(ee){ee.each(function(le,ie){var he=le.calcdata.cells.font,xe=le.column.specIndex,Se={size:U(he.size,xe,ie),color:U(he.color,xe,ie),family:U(he.family,xe,ie)};le.rowNumber=le.key,le.align=U(le.calcdata.cells.align,xe,ie),le.cellBorderWidth=U(le.calcdata.cells.line.width,xe,ie),le.font=Se})}function x(ee){ee.each(function(le){v.font(R.select(this),le.font)})}function a(ee){ee.attr("width",function(le){return le.column.columnWidth}).attr("stroke-width",function(le){return le.cellBorderWidth}).each(function(le){var ie=R.select(this);c.stroke(ie,U(le.calcdata.cells.line.color,le.column.specIndex,le.rowNumber)),c.fill(ie,U(le.calcdata.cells.fill.color,le.column.specIndex,le.rowNumber))})}function E(ee,le,ie,he){ee.text(function(xe){var Se=xe.column.specIndex,Ee=xe.rowNumber,Ne=xe.value,He=typeof Ne=="string",Ce=He&&Ne.match(/<br>/i),be=!He||Ce;xe.mayHaveMarkup=He&&Ne.match(/[<&>]/);var we=w(Ne);xe.latex=we;var ke=we?"":U(xe.calcdata.cells.prefix,Se,Ee)||"",Fe=we?"":U(xe.calcdata.cells.suffix,Se,Ee)||"",Pe=we?null:U(xe.calcdata.cells.format,Se,Ee)||null,Ge=ke+(Pe?L(Pe)(xe.value):xe.value)+Fe,nt;xe.wrappingNeeded=!xe.wrapped&&!be&&!we&&(nt=k(Ge)),xe.cellHeightMayIncrease=Ce||we||xe.mayHaveMarkup||(nt===void 0?k(Ge):nt),xe.needsConvertToTspans=xe.mayHaveMarkup||xe.wrappingNeeded||xe.latex;var qe;if(xe.wrappingNeeded){var Ke=g.wrapSplitCharacter===" "?Ge.replace(/<a href=/ig,"<a_href="):Ge,$e=Ke.split(g.wrapSplitCharacter),vt=g.wrapSplitCharacter===" "?$e.map(function(yt){return yt.replace(/<a_href=/ig,"<a href=")}):$e;xe.fragments=vt.map(function(yt){return{text:yt,width:null}}),xe.fragments.push({fragment:g.wrapSpacer,width:null}),qe=vt.join(g.lineBreaker)+g.lineBreaker+g.wrapSpacer}else delete xe.fragments,qe=Ge;return qe}).attr("dy",function(xe){return xe.needsConvertToTspans?0:"0.75em"}).each(function(xe){var Se=this,Ee=R.select(Se),Ne=xe.wrappingNeeded?oe:ve;xe.needsConvertToTspans?p.convertToTspans(Ee,he,Ne(ie,Se,le,he,xe)):R.select(Se.parentNode).attr("transform",function(He){return r(J(He),g.cellPad)}).attr("text-anchor",function(He){return{left:"start",center:"middle",right:"end"}[He.align]})})}function w(ee){return typeof ee=="string"&&ee.match(g.latexCheck)}function k(ee){return ee.indexOf(g.wrapSplitCharacter)!==-1}function I(ee,le,ie){var he=le.gdColumnsOriginalOrder;le.gdColumns.sort(function(xe,Se){return ie[he.indexOf(xe)]-ie[he.indexOf(Se)]}),le.columnorder=ie,ee.emit("plotly_restyle")}function U(ee,le,ie){if(Array.isArray(ee)){var he=ee[Math.min(le,ee.length-1)];return Array.isArray(he)?he[Math.min(ie,he.length-1)]:he}else return ee}function z(ee,le,ie){ee.transition().ease(g.releaseTransitionEase).duration(g.releaseTransitionDuration).attr("transform",r(le.x,ie))}function N(ee){return ee.type==="cells"}function B(ee){return ee.type==="header"}function F(ee){var le=ee.rowBlocks.length?ee.rowBlocks[0].auxiliaryBlocks:[];return le.reduce(function(ie,he){return ie+K(he,1/0)},0)}function H(ee,le,ie){for(var he=[],xe=0,Se=0;Se<ee.length;Se++){for(var Ee=ee[Se],Ne=Ee.rows,He=0,Ce=0;Ce<Ne.length;Ce++)He+=Ne[Ce].rowHeight;Ee.allRowsHeight=He;var be=xe+He,we=le,ke=we+ie;we<be&&ke>xe&&he.push(Se),xe+=He}return he}function X(ee,le,ie){var he=b(le)[0];if(he!==void 0){var xe=he.rowBlocks,Se=he.calcdata,Ee=j(xe,xe.length),Ne=he.calcdata.groupHeight-F(he),He=Se.scrollY=Math.max(0,Math.min(Ee-Ne,Se.scrollY)),Ce=H(xe,He,Ne);Ce.length===1&&(Ce[0]===xe.length-1?Ce.unshift(Ce[0]-1):Ce.push(Ce[0]+1)),Ce[0]%2&&Ce.reverse(),le.each(function(be,we){be.page=Ce[we],be.scrollY=He}),le.attr("transform",function(be){var we=j(be.rowBlocks,be.page)-be.scrollY;return r(0,we)}),ee&&(ne(ee,ie,le,Ce,he.prevPages,he,0),ne(ee,ie,le,Ce,he.prevPages,he,1),f(ie,ee))}}function q(ee,le,ie,he){return function(Se){var Ee=Se.calcdata?Se.calcdata:Se,Ne=le.filter(function(we){return Ee.key===we.key}),He=ie||Ee.scrollbarState.dragMultiplier,Ce=Ee.scrollY;Ee.scrollY=he===void 0?Ee.scrollY+He*R.event.dy:he;var be=Ne.selectAll("."+g.cn.yColumn).selectAll("."+g.cn.columnBlock).filter(N);return X(ee,be,Ne),Ee.scrollY===Ce}}function ne(ee,le,ie,he,xe,Se,Ee){var Ne=he[Ee]!==xe[Ee];Ne&&(clearTimeout(Se.currentRepaint[Ee]),Se.currentRepaint[Ee]=setTimeout(function(){var He=ie.filter(function(Ce,be){return be===Ee&&he[be]!==xe[be]});o(ee,le,He,ie),xe[Ee]=he[Ee]}))}function oe(ee,le,ie,he){return function(){var Se=R.select(le.parentNode);Se.each(function(Ee){var Ne=Ee.fragments;Se.selectAll("tspan.line").each(function(Ge,nt){Ne[nt].width=this.getComputedTextLength()});var He=Ne[Ne.length-1].width,Ce=Ne.slice(0,-1),be=[],we,ke,Fe=0,Pe=Ee.column.columnWidth-2*g.cellPad;for(Ee.value="";Ce.length;)we=Ce.shift(),ke=we.width+He,Fe+ke>Pe&&(Ee.value+=be.join(g.wrapSpacer)+g.lineBreaker,be=[],Fe=0),be.push(we.text),Fe+=ke;Fe&&(Ee.value+=be.join(g.wrapSpacer)),Ee.wrapped=!0}),Se.selectAll("tspan.line").remove(),E(Se.select("."+g.cn.cellText),ie,ee,he),R.select(le.parentNode.parentNode).call(Y)}}function ve(ee,le,ie,he,xe){return function(){if(!xe.settledY){var Ee=R.select(le.parentNode),Ne=se(xe),He=xe.key-Ne.firstRowIndex,Ce=Ne.rows[He].rowHeight,be=xe.cellHeightMayIncrease?le.parentNode.getBoundingClientRect().height+2*g.cellPad:Ce,we=Math.max(be,Ce),ke=we-Ne.rows[He].rowHeight;ke&&(Ne.rows[He].rowHeight=we,ee.selectAll("."+g.cn.columnCell).call(Y),X(null,ee.filter(N),0),f(ie,he,!0)),Ee.attr("transform",function(){var Fe=this,Pe=Fe.parentNode,Ge=Pe.getBoundingClientRect(),nt=R.select(Fe.parentNode).select("."+g.cn.cellRect).node().getBoundingClientRect(),qe=Fe.transform.baseVal.consolidate(),Ke=nt.top-Ge.top+(qe?qe.matrix.f:g.cellPad);return r(J(xe,R.select(Fe.parentNode).select("."+g.cn.cellTextHolder).node().getBoundingClientRect().width),Ke)}),xe.settledY=!0}}}function J(ee,le){switch(ee.align){case"left":return g.cellPad;case"right":return ee.column.columnWidth-(le||0)-g.cellPad;case"center":return(ee.column.columnWidth-(le||0))/2;default:return g.cellPad}}function Y(ee){ee.attr("transform",function(le){var ie=le.rowBlocks[0].auxiliaryBlocks.reduce(function(Ee,Ne){return Ee+K(Ne,1/0)},0),he=se(le),xe=K(he,le.key),Se=xe+ie;return r(0,Se)}).selectAll("."+g.cn.cellRect).attr("height",function(le){return Q(se(le),le.key).rowHeight})}function j(ee,le){for(var ie=0,he=le-1;he>=0;he--)ie+=te(ee[he]);return ie}function K(ee,le){for(var ie=0,he=0;he<ee.rows.length&&ee.rows[he].rowIndex<le;he++)ie+=ee.rows[he].rowHeight;return ie}function te(ee){var le=ee.allRowsHeight;if(le!==void 0)return le;for(var ie=0,he=0;he<ee.rows.length;he++)ie+=ee.rows[he].rowHeight;return ee.allRowsHeight=ie,ie}function se(ee){return ee.rowBlocks[ee.page]}function Q(ee,le){return ee.rows[le-ee.firstRowIndex]}},45802:function(G,V,e){var g=e(5386).fF,R=e(5386).si,i=e(50693),L=e(27670).Y,T=e(34e3),v=e(57564),p=e(43473),t=e(1426).extendFlat,r=e(79952).u;G.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:r,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},T.textfont,{}),editType:"calc"},text:T.text,textinfo:v.textinfo,texttemplate:R({editType:"plot"},{keys:p.eventDataKeys.concat(["label","value"])}),hovertext:T.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:p.eventDataKeys}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:t({},T.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:T.sort,root:v.root,domain:L({name:"treemap",trace:!0,editType:"calc"})}},78018:function(G,V,e){var g=e(74875);V.name="treemap",V.plot=function(R,i,L,T){g.plotBasePlot(V.name,R,i,L,T)},V.clean=function(R,i,L,T){g.cleanBasePlot(V.name,R,i,L,T)}},65039:function(G,V,e){var g=e(52147);V.y=function(R,i){return g.calc(R,i)},V.T=function(R){return g._runCrossTraceCalc("treemap",R)}},43473:function(G){G.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(G,V,e){var g=e(71828),R=e(45802),i=e(7901),L=e(27670).c,T=e(90769).handleText,v=e(97313).TEXTPAD,p=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,l=t.handleDefaults;G.exports=function(s,c,u,y){function h(a,E){return g.coerce(s,c,R,a,E)}var b=h("labels"),f=h("parents");if(!b||!b.length||!f||!f.length){c.visible=!1;return}var o=h("values");o&&o.length?h("branchvalues"):h("count"),h("level"),h("maxdepth");var d=h("tiling.packing");d==="squarify"&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var A=h("text");h("texttemplate"),c.texttemplate||h("textinfo",Array.isArray(A)?"text+label":"label"),h("hovertext"),h("hovertemplate");var M=h("pathbar.visible"),C="auto";T(s,c,y,h,C,{hasPathbar:M,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var m=c.textposition.indexOf("bottom")!==-1;p(s,c,y,h);var S=c._hasColorscale=r(s,"marker","colors")||(s.marker||{}).coloraxis;S?l(s,c,y,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(c.marker.colors||[]).length);var x=c.textfont.size*2;h("marker.pad.t",m?x/4:x),h("marker.pad.l",x/4),h("marker.pad.r",x/4),h("marker.pad.b",m?x:x/4),h("marker.cornerradius"),c._hovered={marker:{line:{width:2,color:i.contrast(y.paper_bgcolor)}}},M&&(h("pathbar.thickness",c.pathbar.textfont.size+2*v),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),L(c,y,h),c._length=null}},80694:function(G,V,e){var g=e(39898),R=e(2791),i=e(72597),L=i.clearMinTextSize,T=e(16688).resizeText,v=e(46650);G.exports=function(t,r,l,n,s){var c=s.type,u=s.drawDescendants,y=t._fullLayout,h=y["_"+c+"layer"],b,f,o=!l;if(L(c,y),b=h.selectAll("g.trace."+c).data(r,function(A){return A[0].trace.uid}),b.enter().append("g").classed("trace",!0).classed(c,!0),b.order(),!y.uniformtext.mode&&R.hasTransition(l)){n&&(f=n());var d=g.transition().duration(l.duration).ease(l.easing).each("end",function(){f&&f()}).each("interrupt",function(){f&&f()});d.each(function(){h.selectAll("g.trace").each(function(A){v(t,A,this,l,u)})})}else b.each(function(A){v(t,A,this,l,u)}),y.uniformtext.mode&&T(t,h.selectAll(".trace"),c);o&&b.exit().remove()}},66209:function(G,V,e){var g=e(39898),R=e(71828),i=e(91424),L=e(63893),T=e(37210),v=e(96362).styleOne,p=e(43473),t=e(2791),r=e(83523),l=!0;G.exports=function(s,c,u,y,h){var b=h.barDifY,f=h.width,o=h.height,d=h.viewX,A=h.viewY,M=h.pathSlice,C=h.toMoveInsideSlice,m=h.strTransform,S=h.hasTransition,x=h.handleSlicesExit,a=h.makeUpdateSliceInterpolator,E=h.makeUpdateTextInterpolator,w={},k=s._context.staticPlot,I=s._fullLayout,U=c[0],z=U.trace,N=U.hierarchy,B=f/z._entryDepth,F=t.listPath(u.data,"id"),H=T(N.copy(),[f,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();H=H.filter(function(q){var ne=F.indexOf(q.data.id);return ne===-1?!1:(q.x0=B*ne,q.x1=B*(ne+1),q.y0=b,q.y1=b+o,q.onPathbar=!0,!0)}),H.reverse(),y=y.data(H,t.getPtId),y.enter().append("g").classed("pathbar",!0),x(y,l,w,[f,o],M),y.order();var X=y;S&&(X=X.transition().each("end",function(){var q=g.select(this);t.setSliceCursor(q,s,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(q){q._x0=d(q.x0),q._x1=d(q.x1),q._y0=A(q.y0),q._y1=A(q.y1),q._hoverX=d(q.x1-Math.min(f,o)/2),q._hoverY=A(q.y1-o/2);var ne=g.select(this),oe=R.ensureSingle(ne,"path","surface",function(j){j.style("pointer-events",k?"none":"all")});S?oe.transition().attrTween("d",function(j){var K=a(j,l,w,[f,o]);return function(te){return M(K(te))}}):oe.attr("d",M),ne.call(r,u,s,c,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,s,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:s._transitioning}),oe.call(v,q,z,s,{hovered:!1}),q._text=(t.getPtLabel(q)||"").split("<br>").join(" ")||"";var ve=R.ensureSingle(ne,"g","slicetext"),J=R.ensureSingle(ve,"text","",function(j){j.attr("data-notex",1)}),Y=R.ensureUniformFontSize(s,t.determineTextFont(z,q,I.font,{onPathbar:!0}));J.text(q._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(i.font,Y).call(L.convertToTspans,s),q.textBB=i.bBox(J.node()),q.transform=C(q,{fontSize:Y.size,onPathbar:!0}),q.transform.fontSize=Y.size,S?J.transition().attrTween("transform",function(j){var K=E(j,l,w,[f,o]);return function(te){return m(K(te))}}):J.attr("transform",m(q))})}},52583:function(G,V,e){var g=e(39898),R=e(71828),i=e(91424),L=e(63893),T=e(37210),v=e(96362).styleOne,p=e(43473),t=e(2791),r=e(83523),l=e(24714).formatSliceLabel,n=!1;G.exports=function(c,u,y,h,b){var f=b.width,o=b.height,d=b.viewX,A=b.viewY,M=b.pathSlice,C=b.toMoveInsideSlice,m=b.strTransform,S=b.hasTransition,x=b.handleSlicesExit,a=b.makeUpdateSliceInterpolator,E=b.makeUpdateTextInterpolator,w=b.prevEntry,k={},I=c._context.staticPlot,U=c._fullLayout,z=u[0],N=z.trace,B=N.textposition.indexOf("left")!==-1,F=N.textposition.indexOf("right")!==-1,H=N.textposition.indexOf("bottom")!==-1,X=!H&&!N.marker.pad.t||H&&!N.marker.pad.b,q=T(y,[f,o],{packing:N.tiling.packing,squarifyratio:N.tiling.squarifyratio,flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1,pad:{inner:N.tiling.pad,top:N.marker.pad.t,left:N.marker.pad.l,right:N.marker.pad.r,bottom:N.marker.pad.b}}),ne=q.descendants(),oe=1/0,ve=-1/0;ne.forEach(function(te){var se=te.depth;se>=N._maxDepth?(te.x0=te.x1=(te.x0+te.x1)/2,te.y0=te.y1=(te.y0+te.y1)/2):(oe=Math.min(oe,se),ve=Math.max(ve,se))}),h=h.data(ne,t.getPtId),N._maxVisibleLayers=isFinite(ve)?ve-oe+1:0,h.enter().append("g").classed("slice",!0),x(h,n,k,[f,o],M),h.order();var J=null;if(S&&w){var Y=t.getPtId(w);h.each(function(te){J===null&&t.getPtId(te)===Y&&(J={x0:te.x0,x1:te.x1,y0:te.y0,y1:te.y1})})}var j=function(){return J||{x0:0,x1:f,y0:0,y1:o}},K=h;return S&&(K=K.transition().each("end",function(){var te=g.select(this);t.setSliceCursor(te,c,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),K.each(function(te){var se=t.isHeader(te,N);te._x0=d(te.x0),te._x1=d(te.x1),te._y0=A(te.y0),te._y1=A(te.y1),te._hoverX=d(te.x1-N.marker.pad.r),te._hoverY=A(H?te.y1-N.marker.pad.b/2:te.y0+N.marker.pad.t/2);var Q=g.select(this),ee=R.ensureSingle(Q,"path","surface",function(xe){xe.style("pointer-events",I?"none":"all")});S?ee.transition().attrTween("d",function(xe){var Se=a(xe,n,j(),[f,o]);return function(Ee){return M(Se(Ee))}}):ee.attr("d",M),Q.call(r,y,c,u,{styleOne:v,eventDataKeys:p.eventDataKeys,transitionTime:p.CLICK_TRANSITION_TIME,transitionEasing:p.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,c,{isTransitioning:c._transitioning}),ee.call(v,te,N,c,{hovered:!1}),te.x0===te.x1||te.y0===te.y1?te._text="":se?te._text=X?"":t.getPtLabel(te)||"":te._text=l(te,y,N,u,U)||"";var le=R.ensureSingle(Q,"g","slicetext"),ie=R.ensureSingle(le,"text","",function(xe){xe.attr("data-notex",1)}),he=R.ensureUniformFontSize(c,t.determineTextFont(N,te,U.font));ie.text(te._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":B||se?"start":"middle").call(i.font,he).call(L.convertToTspans,c),te.textBB=i.bBox(ie.node()),te.transform=C(te,{fontSize:he.size,isHeader:se}),te.transform.fontSize=he.size,S?ie.transition().attrTween("transform",function(xe){var Se=E(xe,n,j(),[f,o]);return function(Ee){return m(Se(Ee))}}):ie.attr("transform",m(te))}),J}},14102:function(G){G.exports=function V(e,g,R){var i;R.swapXY&&(i=e.x0,e.x0=e.y0,e.y0=i,i=e.x1,e.x1=e.y1,e.y1=i),R.flipX&&(i=e.x0,e.x0=g[0]-e.x1,e.x1=g[0]-i),R.flipY&&(i=e.y0,e.y0=g[1]-e.y1,e.y1=g[1]-i);var L=e.children;if(L)for(var T=0;T<L.length;T++)V(L[T],g,R)}},70954:function(G,V,e){G.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(G){G.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(G,V,e){var g=e(71828),R=e(55479);G.exports=function(L,T){function v(p,t){return g.coerce(L,T,R,p,t)}v("treemapcolorway",T.colorway),v("extendtreemapcolors")}},37210:function(G,V,e){var g=e(674),R=e(14102);G.exports=function(T,v,p){var t=p.flipX,r=p.flipY,l=p.packing==="dice-slice",n=p.pad[r?"bottom":"top"],s=p.pad[t?"right":"left"],c=p.pad[t?"left":"right"],u=p.pad[r?"top":"bottom"],y;l&&(y=s,s=n,n=y,y=c,c=u,u=y);var h=g.treemap().tile(i(p.packing,p.squarifyratio)).paddingInner(p.pad.inner).paddingLeft(s).paddingRight(c).paddingTop(n).paddingBottom(u).size(l?[v[1],v[0]]:v)(T);return(l||t||r)&&R(h,v,{swapXY:l,flipX:t,flipY:r}),h};function i(L,T){switch(L){case"squarify":return g.treemapSquarify.ratio(T);case"binary":return g.treemapBinary;case"dice":return g.treemapDice;case"slice":return g.treemapSlice;default:return g.treemapSliceDice}}},5893:function(G,V,e){var g=e(80694),R=e(52583);G.exports=function(L,T,v,p){return g(L,T,v,p,{type:"treemap",drawDescendants:R})}},46650:function(G,V,e){var g=e(39898),R=e(81684).sX,i=e(2791),L=e(71828),T=e(97313).TEXTPAD,v=e(17295),p=v.toMoveInsideBar,t=e(72597),r=t.recordMinTextSize,l=e(43473),n=e(66209);function s(c){return i.isHierarchyRoot(c)?"":i.getPtId(c)}G.exports=function(u,y,h,b,f){var o=u._fullLayout,d=y[0],A=d.trace,M=A.type,C=M==="icicle",m=d.hierarchy,S=i.findEntryWithLevel(m,A.level),x=g.select(h),a=x.selectAll("g.pathbar"),E=x.selectAll("g.slice");if(!S){a.remove(),E.remove();return}var w=i.isHierarchyRoot(S),k=!o.uniformtext.mode&&i.hasTransition(b),I=i.getMaxDepth(A),U=function(Be){return Be.data.depth-S.data.depth<I},z=o._size,N=A.domain,B=z.w*(N.x[1]-N.x[0]),F=z.h*(N.y[1]-N.y[0]),H=B,X=A.pathbar.thickness,q=A.marker.line.width+l.gapWithPathbar,ne=A.pathbar.visible?A.pathbar.side.indexOf("bottom")>-1?F+q:-(X+q):0,oe={x0:H,x1:H,y0:ne,y1:ne+X},ve=function(Be,rt,it){var Ye=A.tiling.pad,De=function(Re){return Re-Ye<=rt.x0},Te=function(Re){return Re+Ye>=rt.x1},fe=function(Re){return Re-Ye<=rt.y0},me=function(Re){return Re+Ye>=rt.y1};return Be.x0===rt.x0&&Be.x1===rt.x1&&Be.y0===rt.y0&&Be.y1===rt.y1?{x0:Be.x0,x1:Be.x1,y0:Be.y0,y1:Be.y1}:{x0:De(Be.x0-Ye)?0:Te(Be.x0-Ye)?it[0]:Be.x0,x1:De(Be.x1+Ye)?0:Te(Be.x1+Ye)?it[0]:Be.x1,y0:fe(Be.y0-Ye)?0:me(Be.y0-Ye)?it[1]:Be.y0,y1:fe(Be.y1+Ye)?0:me(Be.y1+Ye)?it[1]:Be.y1}},J=null,Y={},j={},K=null,te=function(Be,rt){return rt?Y[s(Be)]:j[s(Be)]},se=function(Be,rt,it,Ye){if(rt)return Y[s(m)]||oe;var De=j[A.level]||it;return U(Be)?ve(Be,De,Ye):{}};d.hasMultipleRoots&&w&&I++,A._maxDepth=I,A._backgroundColor=o.paper_bgcolor,A._entryDepth=S.data.depth,A._atRootLevel=w;var Q=-B/2+z.l+z.w*(N.x[1]+N.x[0])/2,ee=-F/2+z.t+z.h*(1-(N.y[1]+N.y[0])/2),le=function(Be){return Q+Be},ie=function(Be){return ee+Be},he=ie(0),xe=le(0),Se=function(Be){return xe+Be},Ee=function(Be){return he+Be};function Ne(Be,rt){return Be+","+rt}var He=Se(0),Ce=function(Be){Be.x=Math.max(He,Be.x)},be=A.pathbar.edgeshape,we=function(Be){var rt=Se(Math.max(Math.min(Be.x0,Be.x0),0)),it=Se(Math.min(Math.max(Be.x1,Be.x1),H)),Ye=Ee(Be.y0),De=Ee(Be.y1),Te=X/2,fe={},me={};fe.x=rt,me.x=it,fe.y=me.y=(Ye+De)/2;var Re={x:rt,y:Ye},Oe={x:it,y:Ye},st={x:it,y:De},ut={x:rt,y:De};return be===">"?(Re.x-=Te,Oe.x-=Te,st.x-=Te,ut.x-=Te):be==="/"?(st.x-=Te,ut.x-=Te,fe.x-=Te/2,me.x-=Te/2):be==="\\"?(Re.x-=Te,Oe.x-=Te,fe.x-=Te/2,me.x-=Te/2):be==="<"&&(fe.x-=Te,me.x-=Te),Ce(Re),Ce(ut),Ce(fe),Ce(Oe),Ce(st),Ce(me),"M"+Ne(Re.x,Re.y)+"L"+Ne(Oe.x,Oe.y)+"L"+Ne(me.x,me.y)+"L"+Ne(st.x,st.y)+"L"+Ne(ut.x,ut.y)+"L"+Ne(fe.x,fe.y)+"Z"},ke=A[C?"tiling":"marker"].pad,Fe=function(Be){return A.textposition.indexOf(Be)!==-1},Pe=Fe("top"),Ge=Fe("left"),nt=Fe("right"),qe=Fe("bottom"),Ke=function(Be){var rt=le(Be.x0),it=le(Be.x1),Ye=ie(Be.y0),De=ie(Be.y1),Te=it-rt,fe=De-Ye;if(!Te||!fe)return"";var me=A.marker.cornerradius||0,Re=Math.min(me,Te/2,fe/2);Re&&Be.data&&Be.data.data&&Be.data.data.label&&(Pe&&(Re=Math.min(Re,ke.t)),Ge&&(Re=Math.min(Re,ke.l)),nt&&(Re=Math.min(Re,ke.r)),qe&&(Re=Math.min(Re,ke.b)));var Oe=function(st,ut){return Re?"a"+Ne(Re,Re)+" 0 0 1 "+Ne(st,ut):""};return"M"+Ne(rt,Ye+Re)+Oe(Re,-Re)+"L"+Ne(it-Re,Ye)+Oe(Re,Re)+"L"+Ne(it,De-Re)+Oe(-Re,Re)+"L"+Ne(rt+Re,De)+Oe(-Re,-Re)+"Z"},$e=function(Be,rt){var it=Be.x0,Ye=Be.x1,De=Be.y0,Te=Be.y1,fe=Be.textBB,me=Pe||rt.isHeader&&!qe,Re=me?"start":qe?"end":"middle",Oe=Fe("right"),st=Fe("left")||rt.onPathbar,ut=st?-1:Oe?1:0;if(rt.isHeader){if(it+=(C?ke:ke.l)-T,Ye-=(C?ke:ke.r)-T,it>=Ye){var Tt=(it+Ye)/2;it=Tt,Ye=Tt}var It;qe?(It=Te-(C?ke:ke.b),De<It&&It<Te&&(De=It)):(It=De+(C?ke:ke.t),De<It&&It<Te&&(Te=It))}var Gt=p(it,Ye,De,Te,fe,{isHorizontal:!1,constrained:!0,angle:0,anchor:Re,leftToRight:ut});return Gt.fontSize=rt.fontSize,Gt.targetX=le(Gt.targetX),Gt.targetY=ie(Gt.targetY),isNaN(Gt.targetX)||isNaN(Gt.targetY)?{}:(it!==Ye&&De!==Te&&r(A.type,Gt,o),{scale:Gt.scale,rotate:Gt.rotate,textX:Gt.textX,textY:Gt.textY,anchorX:Gt.anchorX,anchorY:Gt.anchorY,targetX:Gt.targetX,targetY:Gt.targetY})},vt=function(Be,rt){for(var it,Ye=0,De=Be;!it&&Ye<I;)Ye++,De=De.parent,De?it=te(De,rt):Ye=I;return it||{}},yt=function(Be,rt,it,Ye){var De=te(Be,rt),Te;if(rt)Te=oe;else{var fe=te(S,rt);fe?Te=ve(Be,fe,Ye):Te={}}return R(De,Te)},mt=function(Be,rt,it,Ye,De){var Te=te(Be,rt),fe;if(Te)fe=Te;else if(rt)fe=oe;else if(J)if(Be.parent){var me=K||it;me&&!rt?fe=ve(Be,me,Ye):(fe={},L.extendFlat(fe,vt(Be,rt)))}else fe=L.extendFlat({},Be),C&&(De.orientation==="h"?De.flipX?fe.x0=Be.x1:fe.x1=0:De.flipY?fe.y0=Be.y1:fe.y1=0);else fe={};return R(fe,{x0:Be.x0,x1:Be.x1,y0:Be.y0,y1:Be.y1})},Et=function(Be,rt,it,Ye){var De=te(Be,rt),Te={},fe=se(Be,rt,it,Ye);L.extendFlat(Te,{transform:$e({x0:fe.x0,x1:fe.x1,y0:fe.y0,y1:fe.y1,textBB:Be.textBB,_text:Be._text},{isHeader:i.isHeader(Be,A)})}),De?Te=De:Be.parent&&L.extendFlat(Te,vt(Be,rt));var me=Be.transform;return Be.x0!==Be.x1&&Be.y0!==Be.y1&&r(A.type,me,o),R(Te,{transform:{scale:me.scale,rotate:me.rotate,textX:me.textX,textY:me.textY,anchorX:me.anchorX,anchorY:me.anchorY,targetX:me.targetX,targetY:me.targetY}})},Xe=function(Be,rt,it,Ye,De){var Te=Ye[0],fe=Ye[1];k?Be.exit().transition().each(function(){var me=g.select(this),Re=me.select("path.surface");Re.transition().attrTween("d",function(st){var ut=yt(st,rt,it,[Te,fe]);return function(Tt){return De(ut(Tt))}});var Oe=me.select("g.slicetext");Oe.attr("opacity",0)}).remove():Be.exit().remove()},Ue=function(Be){var rt=Be.transform;return Be.x0!==Be.x1&&Be.y0!==Be.y1&&r(A.type,rt,o),L.getTextTransform({textX:rt.textX,textY:rt.textY,anchorX:rt.anchorX,anchorY:rt.anchorY,targetX:rt.targetX,targetY:rt.targetY,scale:rt.scale,rotate:rt.rotate})};k&&(a.each(function(Be){Y[s(Be)]={x0:Be.x0,x1:Be.x1,y0:Be.y0,y1:Be.y1},Be.transform&&(Y[s(Be)].transform={textX:Be.transform.textX,textY:Be.transform.textY,anchorX:Be.transform.anchorX,anchorY:Be.transform.anchorY,targetX:Be.transform.targetX,targetY:Be.transform.targetY,scale:Be.transform.scale,rotate:Be.transform.rotate})}),E.each(function(Be){j[s(Be)]={x0:Be.x0,x1:Be.x1,y0:Be.y0,y1:Be.y1},Be.transform&&(j[s(Be)].transform={textX:Be.transform.textX,textY:Be.transform.textY,anchorX:Be.transform.anchorX,anchorY:Be.transform.anchorY,targetX:Be.transform.targetX,targetY:Be.transform.targetY,scale:Be.transform.scale,rotate:Be.transform.rotate}),!J&&i.isEntry(Be)&&(J=Be)})),K=f(u,y,S,E,{width:B,height:F,viewX:le,viewY:ie,pathSlice:Ke,toMoveInsideSlice:$e,prevEntry:J,makeUpdateSliceInterpolator:mt,makeUpdateTextInterpolator:Et,handleSlicesExit:Xe,hasTransition:k,strTransform:Ue}),A.pathbar.visible?n(u,y,S,a,{barDifY:ne,width:H,height:X,viewX:Se,viewY:Ee,pathSlice:we,toMoveInsideSlice:$e,makeUpdateSliceInterpolator:mt,makeUpdateTextInterpolator:Et,handleSlicesExit:Xe,hasTransition:k,strTransform:Ue}):a.remove()}},96362:function(G,V,e){var g=e(39898),R=e(7901),i=e(71828),L=e(2791),T=e(72597).resizeText,v=e(43467);function p(r){var l=r._fullLayout._treemaplayer.selectAll(".trace");T(r,l,"treemap"),l.each(function(n){var s=g.select(this),c=n[0],u=c.trace;s.style("opacity",u.opacity),s.selectAll("path.surface").each(function(y){g.select(this).call(t,y,u,r,{hovered:!1})})})}function t(r,l,n,s,c){var u=(c||{}).hovered,y=l.data.data,h=y.i,b,f,o=y.color,d=L.isHierarchyRoot(l),A=1;if(u)b=n._hovered.marker.line.color,f=n._hovered.marker.line.width;else if(d&&o===n.root.color)A=100,b="rgba(0,0,0,0)",f=0;else if(b=i.castOption(n,h,"marker.line.color")||R.defaultLine,f=i.castOption(n,h,"marker.line.width")||0,!n._hasColorscale&&!l.onPathbar){var M=n.marker.depthfade;if(M){var C=R.combine(R.addOpacity(n._backgroundColor,.75),o),m;if(M===!0){var S=L.getMaxDepth(n);isFinite(S)?L.isLeaf(l)?m=0:m=n._maxVisibleLayers-(l.data.depth-n._entryDepth):m=l.data.height+1}else m=l.data.depth-n._entryDepth,n._atRootLevel||m++;if(m>0)for(var x=0;x<m;x++){var a=.5*x/m;o=R.combine(R.addOpacity(C,a),o)}}}r.call(v,l,n,s,o).style("stroke-width",f).call(R.stroke,b).style("opacity",A)}G.exports={style:p,styleOne:t}},68875:function(G,V,e){var g=e(53522),R=e(1426).extendFlat,i=e(12663).axisHoverFormat;G.exports={y:g.y,x:g.x,x0:g.x0,y0:g.y0,xhoverformat:i("x"),yhoverformat:i("y"),name:R({},g.name,{}),orientation:R({},g.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,points:R({},g.boxpoints,{}),jitter:R({},g.jitter,{}),pointpos:R({},g.pointpos,{}),width:R({},g.width,{}),marker:g.marker,text:g.text,hovertext:g.hovertext,hovertemplate:g.hovertemplate,quartilemethod:g.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(G,V,e){var g=e(71828),R=e(89298),i=e(48518),L=e(60168),T=e(50606).BADNUM;G.exports=function(l,n){var s=i(l,n);if(s[0].t.empty)return s;for(var c=l._fullLayout,u=R.getFromId(l,n[n.orientation==="h"?"xaxis":"yaxis"]),y=1/0,h=-1/0,b=0,f=0,o=0;o<s.length;o++){var d=s[o],A=d.pts.map(L.extractVal),M=d.bandwidth=p(n,d,A),C=d.span=t(n,d,u,M);if(d.min===d.max&&M===0)C=d.span=[d.min,d.max],d.density=[{v:1,t:C[0]}],d.bandwidth=M,b=Math.max(b,1);else{var m=C[1]-C[0],S=Math.ceil(m/(M/3)),x=m/S;if(!isFinite(x)||!isFinite(S))return g.error("Something went wrong with computing the violin span"),s[0].t.empty=!0,s;var a=L.makeKDE(d,n,A);d.density=new Array(S);for(var E=0,w=C[0];w<C[1]+x/2;E++,w+=x){var k=a(w);d.density[E]={v:k,t:w},b=Math.max(b,k)}}f=Math.max(f,A.length),y=Math.min(y,C[0]),h=Math.max(h,C[1])}var I=R.findExtremes(u,[y,h],{padded:!0});if(n._extremes[u._id]=I,n.width)s[0].t.maxKDE=b;else{var U=c._violinScaleGroupStats,z=n.scalegroup,N=U[z];N?(N.maxKDE=Math.max(N.maxKDE,b),N.maxCount=Math.max(N.maxCount,f)):U[z]={maxKDE:b,maxCount:f}}return s[0].t.labels.kde=g._(l,"kde:"),s};function v(r,l,n){var s=Math.min(l,n/1.349);return 1.059*s*Math.pow(r,-.2)}function p(r,l,n){var s=l.max-l.min;if(!s)return r.bandwidth?r.bandwidth:0;if(r.bandwidth)return Math.max(r.bandwidth,s/1e4);var c=n.length,u=g.stdev(n,c-1,l.mean);return Math.max(v(c,u,l.q3-l.q1),s/100)}function t(r,l,n,s){var c=r.spanmode,u=r.span||[],y=[l.min,l.max],h=[l.min-2*s,l.max+2*s],b;function f(d){var A=u[d],M=n.type==="multicategory"?n.r2c(A):n.d2c(A,0,r[l.valLetter+"calendar"]);return M===T?h[d]:M}c==="soft"?b=h:c==="hard"?b=y:b=[f(0),f(1)];var o={type:"linear",range:b};return R.setConvert(o),o.cleanRange(),b}},86403:function(G,V,e){var g=e(37188).setPositionOffset,R=["v","h"];G.exports=function(L,T){for(var v=L.calcdata,p=T.xaxis,t=T.yaxis,r=0;r<R.length;r++){for(var l=R[r],n=l==="h"?t:p,s=[],c=0;c<v.length;c++){var u=v[c],y=u[0].t,h=u[0].trace;h.visible===!0&&h.type==="violin"&&!y.empty&&h.orientation===l&&h.xaxis===p._id&&h.yaxis===t._id&&s.push(c)}g("violin",L,s,n)}}},15899:function(G,V,e){var g=e(71828),R=e(7901),i=e(36411),L=e(68875);G.exports=function(v,p,t,r){function l(x,a){return g.coerce(v,p,L,x,a)}function n(x,a){return g.coerce2(v,p,L,x,a)}if(i.handleSampleDefaults(v,p,l,r),p.visible!==!1){l("bandwidth"),l("side");var s=l("width");s||(l("scalegroup",p.name),l("scalemode"));var c=l("span"),u;Array.isArray(c)&&(u="manual"),l("spanmode",u);var y=l("line.color",(v.marker||{}).color||t),h=l("line.width"),b=l("fillcolor",R.addOpacity(p.line.color,.5));i.handlePointsDefaults(v,p,l,{prefix:""});var f=n("box.width"),o=n("box.fillcolor",b),d=n("box.line.color",y),A=n("box.line.width",h),M=l("box.visible",!!(f||o||d||A));M||(p.box={visible:!1});var C=n("meanline.color",y),m=n("meanline.width",h),S=l("meanline.visible",!!(C||m));S||(p.meanline={visible:!1}),l("quartilemethod")}}},60168:function(G,V,e){var g=e(71828),R={gaussian:function(i){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*i*i)}};V.makeKDE=function(i,L,T){var v=T.length,p=R.gaussian,t=i.bandwidth,r=1/(v*t);return function(l){for(var n=0,s=0;s<v;s++)n+=p((l-T[s])/t);return r*n}},V.getPositionOnKdePath=function(i,L,T){var v,p;L.orientation==="h"?(v="y",p="x"):(v="x",p="y");var t=g.findPointOnPath(i.path,T,p,{pathLength:i.pathLength}),r=i.posCenterPx,l=t[v],n=L.side==="both"?2*r-l:r;return[l,n]},V.getKdeValue=function(i,L,T){var v=i.pts.map(V.extractVal),p=V.makeKDE(i,L,v);return p(T)/i.posDensityScale},V.extractVal=function(i){return i.v}},57634:function(G,V,e){var g=e(7901),R=e(71828),i=e(89298),L=e(41868),T=e(60168);G.exports=function(p,t,r,l,n){n||(n={});var s=n.hoverLayer,c=p.cd,u=c[0].trace,y=u.hoveron,h=y.indexOf("violins")!==-1,b=y.indexOf("kde")!==-1,f=[],o,d;if(h||b){var A=L.hoverOnBoxes(p,t,r,l);if(b&&A.length>0){var M=p.xa,C=p.ya,m,S,x,a,E;u.orientation==="h"?(E=t,m="y",x=C,S="x",a=M):(E=r,m="x",x=M,S="y",a=C);var w=c[p.index];if(E>=w.span[0]&&E<=w.span[1]){var k=R.extendFlat({},p),I=a.c2p(E,!0),U=T.getKdeValue(w,u,E),z=T.getPositionOnKdePath(w,u,I),N=x._offset,B=x._length;k[m+"0"]=z[0],k[m+"1"]=z[1],k[S+"0"]=k[S+"1"]=I,k[S+"Label"]=S+": "+i.hoverLabelText(a,E,u[S+"hoverformat"])+", "+c[0].t.labels.kde+" "+U.toFixed(3);for(var F=0,H=0;H<A.length;H++)if(A[H].attr==="med"){F=H;break}k.spikeDistance=A[F].spikeDistance;var X=m+"Spike";k[X]=A[F][X],A[F].spikeDistance=void 0,A[F][X]=void 0,k.hovertemplate=!1,f.push(k),d={},d[m+"1"]=R.constrain(N+z[0],N,N+B),d[m+"2"]=R.constrain(N+z[1],N,N+B),d[S+"1"]=d[S+"2"]=a._offset+I}}h&&(f=f.concat(A))}y.indexOf("points")!==-1&&(o=L.hoverOnPoints(p,t,r));var q=s.selectAll(".violinline-"+u.uid).data(d?[0]:[]);return q.enter().append("line").classed("violinline-"+u.uid,!0).attr("stroke-width",1.5),q.exit().remove(),q.attr(d).call(g.stroke,p.color),l==="closest"?o?[o]:f:(o&&f.push(o),f)}},47462:function(G,V,e){G.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(G,V,e){var g=e(40094),R=e(71828).extendFlat;G.exports={violinmode:R({},g.boxmode,{}),violingap:R({},g.boxgap,{}),violingroupgap:R({},g.boxgroupgap,{})}},33598:function(G,V,e){var g=e(71828),R=e(9228),i=e(4199);G.exports=function(T,v,p){function t(r,l){return g.coerce(T,v,R,r,l)}i._supply(T,v,p,t,"violin")}},28443:function(G,V,e){var g=e(39898),R=e(71828),i=e(91424),L=e(86047),T=e(34621),v=e(60168);G.exports=function(t,r,l,n){var s=t._context.staticPlot,c=t._fullLayout,u=r.xaxis,y=r.yaxis;function h(b,f){var o=T(b,{xaxis:u,yaxis:y,trace:f,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return i.smoothopen(o[0],1)}R.makeTraceGroups(n,l,"trace violins").each(function(b){var f=g.select(this),o=b[0],d=o.t,A=o.trace;if(A.visible!==!0||d.empty){f.remove();return}var M=d.bPos,C=d.bdPos,m=r[d.valLetter+"axis"],S=r[d.posLetter+"axis"],x=A.side==="both",a=x||A.side==="positive",E=x||A.side==="negative",w=f.selectAll("path.violin").data(R.identity);w.enter().append("path").style("vector-effect",s?"none":"non-scaling-stroke").attr("class","violin"),w.exit().remove(),w.each(function(H){var X=g.select(this),q=H.density,ne=q.length,oe=S.c2l(H.pos+M,!0),ve=S.l2p(oe),J;if(A.width)J=d.maxKDE/C;else{var Y=c._violinScaleGroupStats[A.scalegroup];J=A.scalemode==="count"?Y.maxKDE/C*(Y.maxCount/H.pts.length):Y.maxKDE/C}var j,K,te,se,Q,ee,le;if(a){for(ee=new Array(ne),se=0;se<ne;se++)le=ee[se]={},le[d.posLetter]=oe+q[se].v/J,le[d.valLetter]=m.c2l(q[se].t,!0);j=h(ee,A)}if(E){for(ee=new Array(ne),Q=0,se=ne-1;Q<ne;Q++,se--)le=ee[Q]={},le[d.posLetter]=oe-q[se].v/J,le[d.valLetter]=m.c2l(q[se].t,!0);K=h(ee,A)}if(x)te=j+"L"+K.substr(1)+"Z";else{var ie=[ve,m.c2p(q[0].t)],he=[ve,m.c2p(q[ne-1].t)];A.orientation==="h"&&(ie.reverse(),he.reverse()),a?te="M"+ie+"L"+j.substr(1)+"L"+he:te="M"+he+"L"+K.substr(1)+"L"+ie}X.attr("d",te),H.posCenterPx=ve,H.posDensityScale=J*C,H.path=X.node(),H.pathLength=H.path.getTotalLength()/(x?2:1)});var k=A.box,I=k.width,U=(k.line||{}).width,z,N;x?(z=C*I,N=0):a?(z=[0,C*I/2],N=U*{x:1,y:-1}[d.posLetter]):(z=[C*I/2,0],N=U*{x:-1,y:1}[d.posLetter]),L.plotBoxAndWhiskers(f,{pos:S,val:m},A,{bPos:M,bdPos:z,bPosPxOffset:N}),L.plotBoxMean(f,{pos:S,val:m},A,{bPos:M,bdPos:z,bPosPxOffset:N});var B;!A.box.visible&&A.meanline.visible&&(B=R.identity);var F=f.selectAll("path.meanline").data(B||[]);F.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",s?"none":"non-scaling-stroke"),F.exit().remove(),F.each(function(H){var X=m.c2p(H.mean,!0),q=v.getPositionOnKdePath(H,A,X);g.select(this).attr("d",A.orientation==="h"?"M"+X+","+q[0]+"V"+q[1]:"M"+q[0]+","+X+"H"+q[1])}),L.plotPoints(f,{x:u,y},A,d)})}},31847:function(G,V,e){var g=e(39898),R=e(7901),i=e(16296).stylePoints;G.exports=function(T){var v=g.select(T).selectAll("g.trace.violins");v.style("opacity",function(p){return p[0].trace.opacity}),v.each(function(p){var t=p[0].trace,r=g.select(this),l=t.box||{},n=l.line||{},s=t.meanline||{},c=s.width;r.selectAll("path.violin").style("stroke-width",t.line.width+"px").call(R.stroke,t.line.color).call(R.fill,t.fillcolor),r.selectAll("path.box").style("stroke-width",n.width+"px").call(R.stroke,n.color).call(R.fill,l.fillcolor);var u={"stroke-width":c+"px","stroke-dasharray":2*c+"px,"+c+"px"};r.selectAll("path.mean").style(u).call(R.stroke,s.color),r.selectAll("path.meanline").style(u).call(R.stroke,s.color),i(r,t,T)})}},16336:function(G,V,e){var g=e(50693),R=e(16249),i=e(54532),L=e(9012),T=e(1426).extendFlat,v=e(30962).overrideAll,p=G.exports=v(T({x:R.x,y:R.y,z:R.z,value:R.value,isomin:R.isomin,isomax:R.isomax,surface:R.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:R.slices,caps:R.caps,text:R.text,hovertext:R.hovertext,xhoverformat:R.xhoverformat,yhoverformat:R.yhoverformat,zhoverformat:R.zhoverformat,valuehoverformat:R.valuehoverformat,hovertemplate:R.hovertemplate},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:R.colorbar,opacity:R.opacity,opacityscale:i.opacityscale,lightposition:R.lightposition,lighting:R.lighting,flatshading:R.flatshading,contour:R.contour,hoverinfo:T({},L.hoverinfo),showlegend:T({},L.showlegend,{dflt:!1})}),"calc","nested");p.x.editType=p.y.editType=p.z.editType=p.value.editType="calc+clearAxisTypes",p.transforms=void 0},64809:function(G,V,e){var g=e(9330).gl_mesh3d,R=e(81697).parseColorScale,i=e(78614),L=e(21081).extractOpts,T=e(90060),v=e(22674).findNearestOnAxis,p=e(22674).generateIsoMeshes;function t(n,s,c){this.scene=n,this.uid=c,this.mesh=s,this.name="",this.data=null,this.showContour=!1}var r=t.prototype;r.handlePick=function(n){if(n.object===this.mesh){var s=n.data.index,c=this.data._meshX[s],u=this.data._meshY[s],y=this.data._meshZ[s],h=this.data._Ys.length,b=this.data._Zs.length,f=v(c,this.data._Xs).id,o=v(u,this.data._Ys).id,d=v(y,this.data._Zs).id,A=n.index=d+b*o+b*h*f;n.traceCoordinate=[this.data._meshX[A],this.data._meshY[A],this.data._meshZ[A],this.data._value[A]];var M=this.data.hovertext||this.data.text;return Array.isArray(M)&&M[A]!==void 0?n.textLabel=M[A]:M&&(n.textLabel=M),!0}},r.update=function(n){var s=this.scene,c=s.fullSceneLayout;this.data=p(n);function u(o,d,A,M){return d.map(function(C){return o.d2l(C,0,M)*A})}var y=T(u(c.xaxis,n._meshX,s.dataScale[0],n.xcalendar),u(c.yaxis,n._meshY,s.dataScale[1],n.ycalendar),u(c.zaxis,n._meshZ,s.dataScale[2],n.zcalendar)),h=T(n._meshI,n._meshJ,n._meshK),b={positions:y,cells:h,lightPosition:[n.lightposition.x,n.lightposition.y,n.lightposition.z],ambient:n.lighting.ambient,diffuse:n.lighting.diffuse,specular:n.lighting.specular,roughness:n.lighting.roughness,fresnel:n.lighting.fresnel,vertexNormalsEpsilon:n.lighting.vertexnormalsepsilon,faceNormalsEpsilon:n.lighting.facenormalsepsilon,opacity:n.opacity,opacityscale:n.opacityscale,contourEnable:n.contour.show,contourColor:i(n.contour.color).slice(0,3),contourWidth:n.contour.width,useFacetNormals:n.flatshading},f=L(n);b.vertexIntensity=n._meshIntensity,b.vertexIntensityBounds=[f.min,f.max],b.colormap=R(n),this.mesh.update(b)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(n,s){var c=n.glplot.gl,u=g({gl:c}),y=new t(n,u,s.uid);return u._trace=y,y.update(s),n.glplot.add(u),y}G.exports=l},47651:function(G,V,e){var g=e(71828),R=e(16336),i=e(82738).supplyIsoDefaults,L=e(91831).opacityscaleDefaults;G.exports=function(v,p,t,r){function l(n,s){return g.coerce(v,p,R,n,s)}i(v,p,t,r,l),L(v,p,r,l)}},17659:function(G,V,e){G.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(G,V,e){var g=e(1486),R=e(82196).line,i=e(9012),L=e(12663).axisHoverFormat,T=e(5386).fF,v=e(5386).si,p=e(48334),t=e(1426).extendFlat,r=e(7901);function l(n){return{marker:{color:t({},g.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},g.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},g.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}G.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),hovertext:g.hovertext,hovertemplate:T({},{keys:p.eventDataKeys}),hoverinfo:t({},i.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:p.eventDataKeys.concat(["label"])}),text:g.text,textposition:g.textposition,insidetextanchor:g.insidetextanchor,textangle:g.textangle,textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:g.orientation,offset:g.offset,width:g.width,increasing:l(),decreasing:l(),totals:l(),connector:{line:{color:t({},R.color,{dflt:r.defaultLine}),width:t({},R.width,{editType:"plot"}),dash:R.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup}},52752:function(G,V,e){var g=e(89298),R=e(42973),i=e(71828).mergeArray,L=e(66279),T=e(50606).BADNUM;function v(t){return t==="a"||t==="absolute"}function p(t){return t==="t"||t==="total"}G.exports=function(r,l){var n=g.getFromId(r,l.xaxis||"x"),s=g.getFromId(r,l.yaxis||"y"),c,u,y,h,b,f;l.orientation==="h"?(c=n.makeCalcdata(l,"x"),y=s.makeCalcdata(l,"y"),h=R(l,s,"y",y),b=!!l.yperiodalignment,f="y"):(c=s.makeCalcdata(l,"y"),y=n.makeCalcdata(l,"x"),h=R(l,n,"x",y),b=!!l.xperiodalignment,f="x"),u=h.vals;for(var o=Math.min(u.length,c.length),d=new Array(o),A=0,M,C=!1,m=0;m<o;m++){var S=c[m]||0,x=!1;(c[m]!==T||p(l.measure[m])||v(l.measure[m]))&&m+1<o&&(c[m+1]!==T||p(l.measure[m+1])||v(l.measure[m+1]))&&(x=!0);var a=d[m]={i:m,p:u[m],s:S,rawS:S,cNext:x};v(l.measure[m])?(A=a.s,a.isSum=!0,a.dir="totals",a.s=A):p(l.measure[m])?(a.isSum=!0,a.dir="totals",a.s=A):(a.isSum=!1,a.dir=a.rawS<0?"decreasing":"increasing",M=a.s,a.s=A+M,A+=M),a.dir==="totals"&&(C=!0),b&&(d[m].orig_p=y[m],d[m][f+"End"]=h.ends[m],d[m][f+"Start"]=h.starts[m]),l.ids&&(a.id=String(l.ids[m])),a.v=(l.base||0)+A}return d.length&&(d[0].hasTotals=C),i(l.text,d,"tx"),i(l.hovertext,d,"htx"),L(d,l),d}},48334:function(G){G.exports={eventDataKeys:["initial","delta","final"]}},70766:function(G,V,e){var g=e(11661).setGroupPositions;G.exports=function(i,L){var T=i._fullLayout,v=i._fullData,p=i.calcdata,t=L.xaxis,r=L.yaxis,l=[],n=[],s=[],c,u;for(u=0;u<v.length;u++){var y=v[u];y.visible===!0&&y.xaxis===t._id&&y.yaxis===r._id&&y.type==="waterfall"&&(c=p[u],y.orientation==="h"?s.push(c):n.push(c),l.push(c))}var h={mode:T.waterfallmode,norm:T.waterfallnorm,gap:T.waterfallgap,groupgap:T.waterfallgroupgap};for(g(i,t,r,n,h),g(i,r,t,s,h),u=0;u<l.length;u++){c=l[u];for(var b=0;b<c.length;b++){var f=c[b];f.isSum===!1&&(f.s0+=b===0?0:c[b-1].s),b+1<c.length&&(c[b].nextP0=c[b+1].p0,c[b].nextS0=c[b+1].s0)}}}},83266:function(G,V,e){var g=e(71828),R=e(26125),i=e(90769).handleText,L=e(67513),T=e(73927),v=e(43037),p=e(7901),t=e(22372),r=t.INCREASING.COLOR,l=t.DECREASING.COLOR,n="#4499FF";function s(y,h,b){y(h+".marker.color",b),y(h+".marker.line.color",p.defaultLine),y(h+".marker.line.width")}function c(y,h,b,f){function o(m,S){return g.coerce(y,h,v,m,S)}var d=L(y,h,f,o);if(!d){h.visible=!1;return}T(y,h,f,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",h.x&&!h.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var A=o("textposition");i(y,h,f,o,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&(o("texttemplate"),h.texttemplate||o("textinfo")),s(o,"increasing",r),s(o,"decreasing",l),s(o,"totals",n);var M=o("connector.visible");if(M){o("connector.mode");var C=o("connector.line.width");C&&(o("connector.line.color"),o("connector.line.dash"))}}function u(y,h){var b,f;function o(A){return g.coerce(f._input,f,v,A)}if(h.waterfallmode==="group")for(var d=0;d<y.length;d++)f=y[d],b=f._input,R(b,f,h,o)}G.exports={supplyDefaults:c,crossTraceDefaults:u}},58593:function(G){G.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"initial"in g&&(e.initial=g.initial),"delta"in g&&(e.delta=g.delta),"final"in g&&(e.final=g.final),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},61326:function(G,V,e){var g=e(89298).hoverLabelText,R=e(7901).opacity,i=e(95423).hoverOnBars,L=e(22372),T={increasing:L.INCREASING.SYMBOL,decreasing:L.DECREASING.SYMBOL};G.exports=function(t,r,l,n,s){var c=i(t,r,l,n,s);if(!c)return;var u=c.cd,y=u[0].trace,h=y.orientation==="h",b=h?"x":"y",f=h?t.xa:t.ya;function o(w){return g(f,w,y[b+"hoverformat"])}var d=c.index,A=u[d],M=A.isSum?A.b+A.s:A.rawS;c.initial=A.b+A.s-M,c.delta=M,c.final=c.initial+c.delta;var C=o(Math.abs(c.delta));c.deltaLabel=M<0?"("+C+")":C,c.finalLabel=o(c.final),c.initialLabel=o(c.initial);var m=A.hi||y.hoverinfo,S=[];if(m&&m!=="none"&&m!=="skip"){var x=m==="all",a=m.split("+"),E=function(w){return x||a.indexOf(w)!==-1};A.isSum||(E("final")&&(h?!E("x"):!E("y"))&&S.push(c.finalLabel),E("delta")&&(M<0?S.push(c.deltaLabel+" "+T.decreasing):S.push(c.deltaLabel+" "+T.increasing)),E("initial")&&S.push("Initial: "+c.initialLabel))}return S.length&&(c.extraText=S.join("<br>")),c.color=v(y,A),[c]};function v(p,t){var r=p[t.dir].marker,l=r.color,n=r.line.color,s=r.line.width;if(R(l))return l;if(R(n)&&s)return n}},19990:function(G,V,e){G.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(G){G.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(G,V,e){var g=e(71828),R=e(13494);G.exports=function(i,L,T){var v=!1;function p(l,n){return g.coerce(i,L,R,l,n)}for(var t=0;t<T.length;t++){var r=T[t];if(r.visible&&r.type==="waterfall"){v=!0;break}}v&&(p("waterfallmode"),p("waterfallgap",.2),p("waterfallgroupgap"))}},30436:function(G,V,e){var g=e(39898),R=e(71828),i=e(91424),L=e(50606).BADNUM,T=e(17295),v=e(72597).clearMinTextSize;G.exports=function(l,n,s,c){var u=l._fullLayout;v("waterfall",u),T.plot(l,n,s,c,{mode:u.waterfallmode,norm:u.waterfallmode,gap:u.waterfallgap,groupgap:u.waterfallgroupgap}),p(l,n,s,c)};function p(r,l,n,s){var c=l.xaxis,u=l.yaxis;R.makeTraceGroups(s,n,"trace bars").each(function(y){var h=g.select(this),b=y[0].trace,f=R.ensureSingle(h,"g","lines");if(!b.connector||!b.connector.visible){f.remove();return}var o=b.orientation==="h",d=b.connector.mode,A=f.selectAll("g.line").data(R.identity);A.enter().append("g").classed("line",!0),A.exit().remove();var M=A.size();A.each(function(C,m){if(!(m!==M-1&&!C.cNext)){var S=t(C,c,u,o),x=S[0],a=S[1],E="";x[0]!==L&&a[0]!==L&&x[1]!==L&&a[1]!==L&&(d==="spanning"&&!C.isSum&&m>0&&(o?E+="M"+x[0]+","+a[1]+"V"+a[0]:E+="M"+x[1]+","+a[0]+"H"+x[0]),d!=="between"&&(C.isSum||m<M-1)&&(o?E+="M"+x[1]+","+a[0]+"V"+a[1]:E+="M"+x[0]+","+a[1]+"H"+x[1]),x[2]!==L&&a[2]!==L&&(o?E+="M"+x[1]+","+a[1]+"V"+a[2]:E+="M"+x[1]+","+a[1]+"H"+x[2])),E===""&&(E="M0,0Z"),R.ensureSingle(g.select(this),"path").attr("d",E).call(i.setClipUrl,l.layerClipId,r)}})})}function t(r,l,n,s){var c=[],u=[],y=s?l:n,h=s?n:l;return c[0]=y.c2p(r.s0,!0),u[0]=h.c2p(r.p0,!0),c[1]=y.c2p(r.s1,!0),u[1]=h.c2p(r.p1,!0),c[2]=y.c2p(r.nextS0,!0),u[2]=h.c2p(r.nextP0,!0),s?[c,u]:[u,c]}},55750:function(G,V,e){var g=e(39898),R=e(91424),i=e(7901),L=e(37822).DESELECTDIM,T=e(16688),v=e(72597).resizeText,p=T.styleTextPoints;function t(r,l,n){var s=n||g.select(r).selectAll("g.waterfalllayer").selectAll("g.trace");v(r,s,"waterfall"),s.style("opacity",function(c){return c[0].trace.opacity}),s.each(function(c){var u=g.select(this),y=c[0].trace;u.selectAll(".point > path").each(function(h){if(!h.isBlank){var b=y[h.dir].marker;g.select(this).call(i.fill,b.color).call(i.stroke,b.line.color).call(R.dashLine,b.line.dash,b.line.width).style("opacity",y.selectedpoints&&!h.selected?L:1)}}),p(u,y,r),u.selectAll(".lines").each(function(){var h=y.connector.line;R.lineGroupStyle(g.select(this).selectAll("path"),h.width,h.color,h.dash)})})}G.exports={style:t}},82887:function(G,V,e){var g=e(89298),R=e(71828),i=e(86281),L=e(79344).p,T=e(50606).BADNUM;V.moduleType="transform",V.name="aggregate";var v=V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=v.aggregations;V.supplyDefaults=function(c,u){var y={},h;function b(w,k){return R.coerce(c,y,v,w,k)}var f=b("enabled");if(!f)return y;var o=i.findArrayAttributes(u),d={};for(h=0;h<o.length;h++)d[o[h]]=1;var A=b("groups");if(!Array.isArray(A)){if(!d[A])return y.enabled=!1,y;d[A]=0}var M=c.aggregations||[],C=y.aggregations=new Array(M.length),m;function S(w,k){return R.coerce(M[h],m,p,w,k)}for(h=0;h<M.length;h++){m={_index:h};var x=S("target"),a=S("func"),E=S("enabled");E&&x&&(d[x]||a==="count"&&d[x]===void 0)?(a==="stddev"&&S("funcmode"),d[x]=0,C[h]=m):C[h]={enabled:!1,_index:h}}for(h=0;h<o.length;h++)d[o[h]]&&C.push({target:o[h],func:p.func.dflt,enabled:!0,_index:-1});return y},V.calcTransform=function(c,u,y){if(y.enabled){var h=y.groups,b=R.getTargetArray(u,{target:h});if(b){var f,o,d,A,M={},C={},m=[],S=L(u.transforms,y),x=b.length;for(u._length&&(x=Math.min(x,u._length)),f=0;f<x;f++)o=b[f],d=M[o],d===void 0?(M[o]=m.length,A=[f],m.push(A),C[M[o]]=S(f)):(m[d].push(f),C[M[o]]=(C[M[o]]||[]).concat(S(f)));y._indexToPoints=C;var a=y.aggregations;for(f=0;f<a.length;f++)t(c,u,m,a[f]);typeof h=="string"&&t(c,u,m,{target:h,func:"first",enabled:!0}),u._length=m.length}}};function t(c,u,y,h){if(h.enabled){for(var b=h.target,f=R.nestedProperty(u,b),o=f.get(),d=g.getDataConversions(c,u,b,o),A=r(h,d),M=new Array(y.length),C=0;C<y.length;C++)M[C]=A(o,y[C]);f.set(M),h.func==="count"&&R.pushUnique(u._arrayAttrs,b)}}function r(c,u){var y=c.func,h=u.d2c,b=u.c2d;switch(y){case"count":return l;case"first":return n;case"last":return s;case"sum":return function(f,o){for(var d=0,A=0;A<o.length;A++){var M=h(f[o[A]]);M!==T&&(d+=M)}return b(d)};case"avg":return function(f,o){for(var d=0,A=0,M=0;M<o.length;M++){var C=h(f[o[M]]);C!==T&&(d+=C,A++)}return A?b(d/A):T};case"min":return function(f,o){for(var d=1/0,A=0;A<o.length;A++){var M=h(f[o[A]]);M!==T&&(d=Math.min(d,M))}return d===1/0?T:b(d)};case"max":return function(f,o){for(var d=-1/0,A=0;A<o.length;A++){var M=h(f[o[A]]);M!==T&&(d=Math.max(d,M))}return d===-1/0?T:b(d)};case"range":return function(f,o){for(var d=1/0,A=-1/0,M=0;M<o.length;M++){var C=h(f[o[M]]);C!==T&&(d=Math.min(d,C),A=Math.max(A,C))}return A===-1/0||d===1/0?T:b(A-d)};case"change":return function(f,o){var d=h(f[o[0]]),A=h(f[o[o.length-1]]);return d===T||A===T?T:b(A-d)};case"median":return function(f,o){for(var d=[],A=0;A<o.length;A++){var M=h(f[o[A]]);M!==T&&d.push(M)}if(!d.length)return T;d.sort(R.sorterAsc);var C=(d.length-1)/2;return b((d[Math.floor(C)]+d[Math.ceil(C)])/2)};case"mode":return function(f,o){for(var d={},A=0,M=T,C=0;C<o.length;C++){var m=h(f[o[C]]);if(m!==T){var S=d[m]=(d[m]||0)+1;S>A&&(A=S,M=m)}}return A?b(M):T};case"rms":return function(f,o){for(var d=0,A=0,M=0;M<o.length;M++){var C=h(f[o[M]]);C!==T&&(d+=C*C,A++)}return A?b(Math.sqrt(d/A)):T};case"stddev":return function(f,o){var d=0,A=0,M=1,C=T,m;for(m=0;m<o.length&&C===T;m++)C=h(f[o[m]]);if(C===T)return T;for(;m<o.length;m++){var S=h(f[o[m]]);if(S!==T){var x=S-C;d+=x,A+=x*x,M++}}var a=c.funcmode==="sample"?M-1:M;return a?Math.sqrt((A-d*d/M)/a):0}}}function l(c,u){return u.length}function n(c,u){return c[u[0]]}function s(c,u){return c[u[u.length-1]]}},14382:function(G,V,e){var g=e(71828),R=e(73972),i=e(89298),L=e(79344).p,T=e(74808),v=T.COMPARISON_OPS,p=T.INTERVAL_OPS,t=T.SET_OPS;V.moduleType="transform",V.name="filter",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(p).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},V.supplyDefaults=function(l){var n={};function s(h,b){return g.coerce(l,n,V.attributes,h,b)}var c=s("enabled");if(c){var u=s("target");if(g.isArrayOrTypedArray(u)&&u.length===0)return n.enabled=!1,n;s("preservegaps"),s("operation"),s("value");var y=R.getComponentMethod("calendars","handleDefaults");y(l,n,"valuecalendar",null),y(l,n,"targetcalendar",null)}return n},V.calcTransform=function(l,n,s){if(!s.enabled)return;var c=g.getTargetArray(n,s);if(!c)return;var u=s.target,y=c.length;n._length&&(y=Math.min(y,n._length));var h=s.targetcalendar,b=n._arrayAttrs,f=s.preservegaps;if(typeof u=="string"){var o=g.nestedProperty(n,u+"calendar").get();o&&(h=o)}var d=i.getDataToCoordFunc(l,n,u,c),A=r(s,d,h),M={},C={},m=0;function S(I,U){for(var z=0;z<b.length;z++){var N=g.nestedProperty(n,b[z]);I(N,U)}}var x,a;f?(x=function(I){M[I.astr]=g.extendDeep([],I.get()),I.set(new Array(y))},a=function(I,U){var z=M[I.astr][U];I.get()[U]=z}):(x=function(I){M[I.astr]=g.extendDeep([],I.get()),I.set([])},a=function(I,U){var z=M[I.astr][U];I.get().push(z)}),S(x);for(var E=L(n.transforms,s),w=0;w<y;w++){var k=A(c[w]);k?(S(a,w),C[m++]=E(w)):f&&m++}s._indexToPoints=C,n._length=m};function r(l,n,s){var c=l.operation,u=l.value,y=Array.isArray(u);function h(d){return d.indexOf(c)!==-1}var b=function(d){return n(d,0,l.valuecalendar)},f=function(d){return n(d,0,s)},o;switch(h(v)?o=b(y?u[0]:u):h(p)?o=y?[b(u[0]),b(u[1])]:[b(u),b(u)]:h(t)&&(o=y?u.map(b):[b(u)]),c){case"=":return function(d){return f(d)===o};case"!=":return function(d){return f(d)!==o};case"<":return function(d){return f(d)<o};case"<=":return function(d){return f(d)<=o};case">":return function(d){return f(d)>o};case">=":return function(d){return f(d)>=o};case"[]":return function(d){var A=f(d);return A>=o[0]&&A<=o[1]};case"()":return function(d){var A=f(d);return A>o[0]&&A<o[1]};case"[)":return function(d){var A=f(d);return A>=o[0]&&A<o[1]};case"(]":return function(d){var A=f(d);return A>o[0]&&A<=o[1]};case"][":return function(d){var A=f(d);return A<=o[0]||A>=o[1]};case")(":return function(d){var A=f(d);return A<o[0]||A>o[1]};case"](":return function(d){var A=f(d);return A<=o[0]||A>o[1]};case")[":return function(d){var A=f(d);return A<o[0]||A>=o[1]};case"{}":return function(d){return o.indexOf(f(d))!==-1};case"}{":return function(d){return o.indexOf(f(d))===-1}}}},43102:function(G,V,e){var g=e(71828),R=e(86281),i=e(74875),L=e(79344).p;V.moduleType="transform",V.name="groupby",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},V.supplyDefaults=function(v,p,t){var r,l={};function n(b,f){return g.coerce(v,l,V.attributes,b,f)}var s=n("enabled");if(!s)return l;n("groups"),n("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var c=v.styles,u=l.styles=[];if(c)for(r=0;r<c.length;r++){var y=u[r]={};g.coerce(c[r],u[r],V.attributes.styles,"target");var h=g.coerce(c[r],u[r],V.attributes.styles,"value");g.isPlainObject(h)?y.value=g.extendDeep({},h):h&&delete y.value}return l},V.transform=function(v,p){var t,r,l,n=[];for(r=0;r<v.length;r++)for(t=T(v[r],p),l=0;l<t.length;l++)n.push(t[l]);return n};function T(v,p){var t,r,l,n,s,c,u,y,h,b,f=p.transform,o=p.transformIndex,d=v.transforms[o].groups,A=L(v.transforms,f);if(!g.isArrayOrTypedArray(d)||d.length===0)return[v];var M=g.filterUnique(d),C=new Array(M.length),m=d.length,S=R.findArrayAttributes(v),x=f.styles||[],a={};for(t=0;t<x.length;t++)a[x[t].target]=x[t].value;f.styles&&(b=g.keyedContainer(f,"styles","target","value.name"));var E={},w={};for(t=0;t<M.length;t++){c=M[t],E[c]=t,w[c]=0,u=C[t]=g.extendDeepNoArrays({},v),u._group=c,u.transforms[o]._indexToPoints={};var k=null;for(b&&(k=b.get(c)),k||k===""?u.name=k:u.name=g.templateString(f.nameformat,{trace:v.name,group:c}),y=u.transforms,u.transforms=[],r=0;r<y.length;r++)u.transforms[r]=g.extendDeepNoArrays({},y[r]);for(r=0;r<S.length;r++)g.nestedProperty(u,S[r]).set([])}for(l=0;l<S.length;l++){for(n=S[l],r=0,h=[];r<M.length;r++)h[r]=g.nestedProperty(C[r],n).get();for(s=g.nestedProperty(v,n).get(),r=0;r<m;r++)h[E[d[r]]].push(s[r])}for(r=0;r<m;r++){u=C[E[d[r]]];var I=u.transforms[o]._indexToPoints;I[w[d[r]]]=A(r),w[d[r]]++}for(t=0;t<M.length;t++)c=M[t],u=C[t],i.clearExpandedTraceDefaultColors(u),u=g.extendDeepNoArrays(u,a[c]||{});return C}},79344:function(G,V){V.p=function(e,g){for(var R,i,L=0;L<e.length&&(R=e[L],R!==g);L++)!R._indexToPoints||R.enabled===!1||(i=R._indexToPoints);var T=i?function(v){return i[v]}:function(v){return[v]};return T}},32275:function(G,V,e){var g=e(71828),R=e(89298),i=e(79344).p,L=e(50606).BADNUM;V.moduleType="transform",V.name="sort",V.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},V.supplyDefaults=function(p){var t={};function r(n,s){return g.coerce(p,t,V.attributes,n,s)}var l=r("enabled");return l&&(r("target"),r("order")),t},V.calcTransform=function(p,t,r){if(r.enabled){var l=g.getTargetArray(t,r);if(l){var n=r.target,s=l.length;t._length&&(s=Math.min(s,t._length));var c=t._arrayAttrs,u=R.getDataToCoordFunc(p,t,n,l),y=T(r,l,u,s),h=i(t.transforms,r),b={},f,o;for(f=0;f<c.length;f++){var d=g.nestedProperty(t,c[f]),A=d.get(),M=new Array(s);for(o=0;o<s;o++)M[o]=A[y[o]];d.set(M)}for(o=0;o<s;o++)b[o]=h(y[o]);r._indexToPoints=b,t._length=s}}};function T(p,t,r,l){var n=new Array(l),s=new Array(l),c;for(c=0;c<l;c++)n[c]={v:t[c],i:c};for(n.sort(v(p,r)),c=0;c<l;c++)s[c]=n[c].i;return s}function v(p,t){switch(p.order){case"ascending":return function(r,l){var n=t(r.v),s=t(l.v);return n===L?1:s===L?-1:n-s};case"descending":return function(r,l){var n=t(r.v),s=t(l.v);return n===L?1:s===L?-1:s-n}}}},11506:function(G,V){V.version="2.24.2"},9330:function(G,V,e){var g=e(90386);(function(i,L){G.exports=L()})(self,function(){return function(){var R={7386:function(v,p,t){v.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(v,p,t){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function r(Te,fe){if(!(Te instanceof fe))throw new TypeError("Cannot call a class as a function")}function l(Te,fe){for(var me=0;me<fe.length;me++){var Re=fe[me];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(Te,Re.key,Re)}}function n(Te,fe,me){return fe&&l(Te.prototype,fe),me&&l(Te,me),Object.defineProperty(Te,"prototype",{writable:!1}),Te}function s(Te,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(fe&&fe.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),Object.defineProperty(Te,"prototype",{writable:!1}),fe&&c(Te,fe)}function c(Te,fe){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Re,Oe){return Re.__proto__=Oe,Re},c(Te,fe)}function u(Te){var fe=b();return function(){var Re=f(Te),Oe;if(fe){var st=f(this).constructor;Oe=Reflect.construct(Re,arguments,st)}else Oe=Re.apply(this,arguments);return y(this,Oe)}}function y(Te,fe){if(fe&&(o(fe)==="object"||typeof fe=="function"))return fe;if(fe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(Te)}function h(Te){if(Te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Te}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(Te){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(me){return me.__proto__||Object.getPrototypeOf(me)},f(Te)}function o(Te){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},o(Te)}var d=t(3910),A=t(3187),M=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;p.lW=x,p.h2=50;var C=2147483647;x.TYPED_ARRAY_SUPPORT=m(),!x.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{var Te=new Uint8Array(1),fe={foo:function(){return 42}};return Object.setPrototypeOf(fe,Uint8Array.prototype),Object.setPrototypeOf(Te,fe),Te.foo()===42}catch{return!1}}Object.defineProperty(x.prototype,"parent",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.buffer}}),Object.defineProperty(x.prototype,"offset",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.byteOffset}});function S(Te){if(Te>C)throw new RangeError('The value "'+Te+'" is invalid for option "size"');var fe=new Uint8Array(Te);return Object.setPrototypeOf(fe,x.prototype),fe}function x(Te,fe,me){if(typeof Te=="number"){if(typeof fe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(Te)}return a(Te,fe,me)}x.poolSize=8192;function a(Te,fe,me){if(typeof Te=="string")return I(Te,fe);if(ArrayBuffer.isView(Te))return z(Te);if(Te==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(Te));if(Be(Te,ArrayBuffer)||Te&&Be(Te.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(Te,SharedArrayBuffer)||Te&&Be(Te.buffer,SharedArrayBuffer)))return N(Te,fe,me);if(typeof Te=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Re=Te.valueOf&&Te.valueOf();if(Re!=null&&Re!==Te)return x.from(Re,fe,me);var Oe=B(Te);if(Oe)return Oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Te[Symbol.toPrimitive]=="function")return x.from(Te[Symbol.toPrimitive]("string"),fe,me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(Te))}x.from=function(Te,fe,me){return a(Te,fe,me)},Object.setPrototypeOf(x.prototype,Uint8Array.prototype),Object.setPrototypeOf(x,Uint8Array);function E(Te){if(typeof Te!="number")throw new TypeError('"size" argument must be of type number');if(Te<0)throw new RangeError('The value "'+Te+'" is invalid for option "size"')}function w(Te,fe,me){return E(Te),Te<=0?S(Te):fe!==void 0?typeof me=="string"?S(Te).fill(fe,me):S(Te).fill(fe):S(Te)}x.alloc=function(Te,fe,me){return w(Te,fe,me)};function k(Te){return E(Te),S(Te<0?0:F(Te)|0)}x.allocUnsafe=function(Te){return k(Te)},x.allocUnsafeSlow=function(Te){return k(Te)};function I(Te,fe){if((typeof fe!="string"||fe==="")&&(fe="utf8"),!x.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);var me=H(Te,fe)|0,Re=S(me),Oe=Re.write(Te,fe);return Oe!==me&&(Re=Re.slice(0,Oe)),Re}function U(Te){for(var fe=Te.length<0?0:F(Te.length)|0,me=S(fe),Re=0;Re<fe;Re+=1)me[Re]=Te[Re]&255;return me}function z(Te){if(Be(Te,Uint8Array)){var fe=new Uint8Array(Te);return N(fe.buffer,fe.byteOffset,fe.byteLength)}return U(Te)}function N(Te,fe,me){if(fe<0||Te.byteLength<fe)throw new RangeError('"offset" is outside of buffer bounds');if(Te.byteLength<fe+(me||0))throw new RangeError('"length" is outside of buffer bounds');var Re;return fe===void 0&&me===void 0?Re=new Uint8Array(Te):me===void 0?Re=new Uint8Array(Te,fe):Re=new Uint8Array(Te,fe,me),Object.setPrototypeOf(Re,x.prototype),Re}function B(Te){if(x.isBuffer(Te)){var fe=F(Te.length)|0,me=S(fe);return me.length===0||Te.copy(me,0,0,fe),me}if(Te.length!==void 0)return typeof Te.length!="number"||rt(Te.length)?S(0):U(Te);if(Te.type==="Buffer"&&Array.isArray(Te.data))return U(Te.data)}function F(Te){if(Te>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return Te|0}x.isBuffer=function(fe){return fe!=null&&fe._isBuffer===!0&&fe!==x.prototype},x.compare=function(fe,me){if(Be(fe,Uint8Array)&&(fe=x.from(fe,fe.offset,fe.byteLength)),Be(me,Uint8Array)&&(me=x.from(me,me.offset,me.byteLength)),!x.isBuffer(fe)||!x.isBuffer(me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(fe===me)return 0;for(var Re=fe.length,Oe=me.length,st=0,ut=Math.min(Re,Oe);st<ut;++st)if(fe[st]!==me[st]){Re=fe[st],Oe=me[st];break}return Re<Oe?-1:Oe<Re?1:0},x.isEncoding=function(fe){switch(String(fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},x.concat=function(fe,me){if(!Array.isArray(fe))throw new TypeError('"list" argument must be an Array of Buffers');if(fe.length===0)return x.alloc(0);var Re;if(me===void 0)for(me=0,Re=0;Re<fe.length;++Re)me+=fe[Re].length;var Oe=x.allocUnsafe(me),st=0;for(Re=0;Re<fe.length;++Re){var ut=fe[Re];if(Be(ut,Uint8Array))st+ut.length>Oe.length?(x.isBuffer(ut)||(ut=x.from(ut)),ut.copy(Oe,st)):Uint8Array.prototype.set.call(Oe,ut,st);else if(x.isBuffer(ut))ut.copy(Oe,st);else throw new TypeError('"list" argument must be an Array of Buffers');st+=ut.length}return Oe};function H(Te,fe){if(x.isBuffer(Te))return Te.length;if(ArrayBuffer.isView(Te)||Be(Te,ArrayBuffer))return Te.byteLength;if(typeof Te!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+o(Te));var me=Te.length,Re=arguments.length>2&&arguments[2]===!0;if(!Re&&me===0)return 0;for(var Oe=!1;;)switch(fe){case"ascii":case"latin1":case"binary":return me;case"utf8":case"utf-8":return yt(Te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me*2;case"hex":return me>>>1;case"base64":return Xe(Te).length;default:if(Oe)return Re?-1:yt(Te).length;fe=(""+fe).toLowerCase(),Oe=!0}}x.byteLength=H;function X(Te,fe,me){var Re=!1;if((fe===void 0||fe<0)&&(fe=0),fe>this.length||((me===void 0||me>this.length)&&(me=this.length),me<=0)||(me>>>=0,fe>>>=0,me<=fe))return"";for(Te||(Te="utf8");;)switch(Te){case"hex":return he(this,fe,me);case"utf8":case"utf-8":return se(this,fe,me);case"ascii":return le(this,fe,me);case"latin1":case"binary":return ie(this,fe,me);case"base64":return te(this,fe,me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,fe,me);default:if(Re)throw new TypeError("Unknown encoding: "+Te);Te=(Te+"").toLowerCase(),Re=!0}}x.prototype._isBuffer=!0;function q(Te,fe,me){var Re=Te[fe];Te[fe]=Te[me],Te[me]=Re}x.prototype.swap16=function(){var fe=this.length;if(fe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var me=0;me<fe;me+=2)q(this,me,me+1);return this},x.prototype.swap32=function(){var fe=this.length;if(fe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var me=0;me<fe;me+=4)q(this,me,me+3),q(this,me+1,me+2);return this},x.prototype.swap64=function(){var fe=this.length;if(fe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var me=0;me<fe;me+=8)q(this,me,me+7),q(this,me+1,me+6),q(this,me+2,me+5),q(this,me+3,me+4);return this},x.prototype.toString=function(){var fe=this.length;return fe===0?"":arguments.length===0?se(this,0,fe):X.apply(this,arguments)},x.prototype.toLocaleString=x.prototype.toString,x.prototype.equals=function(fe){if(!x.isBuffer(fe))throw new TypeError("Argument must be a Buffer");return this===fe?!0:x.compare(this,fe)===0},x.prototype.inspect=function(){var fe="",me=p.h2;return fe=this.toString("hex",0,me).replace(/(.{2})/g,"$1 ").trim(),this.length>me&&(fe+=" ... "),"<Buffer "+fe+">"},M&&(x.prototype[M]=x.prototype.inspect),x.prototype.compare=function(fe,me,Re,Oe,st){if(Be(fe,Uint8Array)&&(fe=x.from(fe,fe.offset,fe.byteLength)),!x.isBuffer(fe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+o(fe));if(me===void 0&&(me=0),Re===void 0&&(Re=fe?fe.length:0),Oe===void 0&&(Oe=0),st===void 0&&(st=this.length),me<0||Re>fe.length||Oe<0||st>this.length)throw new RangeError("out of range index");if(Oe>=st&&me>=Re)return 0;if(Oe>=st)return-1;if(me>=Re)return 1;if(me>>>=0,Re>>>=0,Oe>>>=0,st>>>=0,this===fe)return 0;for(var ut=st-Oe,Tt=Re-me,It=Math.min(ut,Tt),Gt=this.slice(Oe,st),jt=fe.slice(me,Re),Pt=0;Pt<It;++Pt)if(Gt[Pt]!==jt[Pt]){ut=Gt[Pt],Tt=jt[Pt];break}return ut<Tt?-1:Tt<ut?1:0};function ne(Te,fe,me,Re,Oe){if(Te.length===0)return-1;if(typeof me=="string"?(Re=me,me=0):me>2147483647?me=2147483647:me<-2147483648&&(me=-2147483648),me=+me,rt(me)&&(me=Oe?0:Te.length-1),me<0&&(me=Te.length+me),me>=Te.length){if(Oe)return-1;me=Te.length-1}else if(me<0)if(Oe)me=0;else return-1;if(typeof fe=="string"&&(fe=x.from(fe,Re)),x.isBuffer(fe))return fe.length===0?-1:oe(Te,fe,me,Re,Oe);if(typeof fe=="number")return fe=fe&255,typeof Uint8Array.prototype.indexOf=="function"?Oe?Uint8Array.prototype.indexOf.call(Te,fe,me):Uint8Array.prototype.lastIndexOf.call(Te,fe,me):oe(Te,[fe],me,Re,Oe);throw new TypeError("val must be string, number or Buffer")}function oe(Te,fe,me,Re,Oe){var st=1,ut=Te.length,Tt=fe.length;if(Re!==void 0&&(Re=String(Re).toLowerCase(),Re==="ucs2"||Re==="ucs-2"||Re==="utf16le"||Re==="utf-16le")){if(Te.length<2||fe.length<2)return-1;st=2,ut/=2,Tt/=2,me/=2}function It(or,zr){return st===1?or[zr]:or.readUInt16BE(zr*st)}var Gt;if(Oe){var jt=-1;for(Gt=me;Gt<ut;Gt++)if(It(Te,Gt)===It(fe,jt===-1?0:Gt-jt)){if(jt===-1&&(jt=Gt),Gt-jt+1===Tt)return jt*st}else jt!==-1&&(Gt-=Gt-jt),jt=-1}else for(me+Tt>ut&&(me=ut-Tt),Gt=me;Gt>=0;Gt--){for(var Pt=!0,Qt=0;Qt<Tt;Qt++)if(It(Te,Gt+Qt)!==It(fe,Qt)){Pt=!1;break}if(Pt)return Gt}return-1}x.prototype.includes=function(fe,me,Re){return this.indexOf(fe,me,Re)!==-1},x.prototype.indexOf=function(fe,me,Re){return ne(this,fe,me,Re,!0)},x.prototype.lastIndexOf=function(fe,me,Re){return ne(this,fe,me,Re,!1)};function ve(Te,fe,me,Re){me=Number(me)||0;var Oe=Te.length-me;Re?(Re=Number(Re),Re>Oe&&(Re=Oe)):Re=Oe;var st=fe.length;Re>st/2&&(Re=st/2);var ut;for(ut=0;ut<Re;++ut){var Tt=parseInt(fe.substr(ut*2,2),16);if(rt(Tt))return ut;Te[me+ut]=Tt}return ut}function J(Te,fe,me,Re){return Ue(yt(fe,Te.length-me),Te,me,Re)}function Y(Te,fe,me,Re){return Ue(mt(fe),Te,me,Re)}function j(Te,fe,me,Re){return Ue(Xe(fe),Te,me,Re)}function K(Te,fe,me,Re){return Ue(Et(fe,Te.length-me),Te,me,Re)}x.prototype.write=function(fe,me,Re,Oe){if(me===void 0)Oe="utf8",Re=this.length,me=0;else if(Re===void 0&&typeof me=="string")Oe=me,Re=this.length,me=0;else if(isFinite(me))me=me>>>0,isFinite(Re)?(Re=Re>>>0,Oe===void 0&&(Oe="utf8")):(Oe=Re,Re=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var st=this.length-me;if((Re===void 0||Re>st)&&(Re=st),fe.length>0&&(Re<0||me<0)||me>this.length)throw new RangeError("Attempt to write outside buffer bounds");Oe||(Oe="utf8");for(var ut=!1;;)switch(Oe){case"hex":return ve(this,fe,me,Re);case"utf8":case"utf-8":return J(this,fe,me,Re);case"ascii":case"latin1":case"binary":return Y(this,fe,me,Re);case"base64":return j(this,fe,me,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,fe,me,Re);default:if(ut)throw new TypeError("Unknown encoding: "+Oe);Oe=(""+Oe).toLowerCase(),ut=!0}},x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(Te,fe,me){return fe===0&&me===Te.length?d.fromByteArray(Te):d.fromByteArray(Te.slice(fe,me))}function se(Te,fe,me){me=Math.min(Te.length,me);for(var Re=[],Oe=fe;Oe<me;){var st=Te[Oe],ut=null,Tt=st>239?4:st>223?3:st>191?2:1;if(Oe+Tt<=me){var It=void 0,Gt=void 0,jt=void 0,Pt=void 0;switch(Tt){case 1:st<128&&(ut=st);break;case 2:It=Te[Oe+1],(It&192)===128&&(Pt=(st&31)<<6|It&63,Pt>127&&(ut=Pt));break;case 3:It=Te[Oe+1],Gt=Te[Oe+2],(It&192)===128&&(Gt&192)===128&&(Pt=(st&15)<<12|(It&63)<<6|Gt&63,Pt>2047&&(Pt<55296||Pt>57343)&&(ut=Pt));break;case 4:It=Te[Oe+1],Gt=Te[Oe+2],jt=Te[Oe+3],(It&192)===128&&(Gt&192)===128&&(jt&192)===128&&(Pt=(st&15)<<18|(It&63)<<12|(Gt&63)<<6|jt&63,Pt>65535&&Pt<1114112&&(ut=Pt))}}ut===null?(ut=65533,Tt=1):ut>65535&&(ut-=65536,Re.push(ut>>>10&1023|55296),ut=56320|ut&1023),Re.push(ut),Oe+=Tt}return ee(Re)}var Q=4096;function ee(Te){var fe=Te.length;if(fe<=Q)return String.fromCharCode.apply(String,Te);for(var me="",Re=0;Re<fe;)me+=String.fromCharCode.apply(String,Te.slice(Re,Re+=Q));return me}function le(Te,fe,me){var Re="";me=Math.min(Te.length,me);for(var Oe=fe;Oe<me;++Oe)Re+=String.fromCharCode(Te[Oe]&127);return Re}function ie(Te,fe,me){var Re="";me=Math.min(Te.length,me);for(var Oe=fe;Oe<me;++Oe)Re+=String.fromCharCode(Te[Oe]);return Re}function he(Te,fe,me){var Re=Te.length;(!fe||fe<0)&&(fe=0),(!me||me<0||me>Re)&&(me=Re);for(var Oe="",st=fe;st<me;++st)Oe+=it[Te[st]];return Oe}function xe(Te,fe,me){for(var Re=Te.slice(fe,me),Oe="",st=0;st<Re.length-1;st+=2)Oe+=String.fromCharCode(Re[st]+Re[st+1]*256);return Oe}x.prototype.slice=function(fe,me){var Re=this.length;fe=~~fe,me=me===void 0?Re:~~me,fe<0?(fe+=Re,fe<0&&(fe=0)):fe>Re&&(fe=Re),me<0?(me+=Re,me<0&&(me=0)):me>Re&&(me=Re),me<fe&&(me=fe);var Oe=this.subarray(fe,me);return Object.setPrototypeOf(Oe,x.prototype),Oe};function Se(Te,fe,me){if(Te%1!==0||Te<0)throw new RangeError("offset is not uint");if(Te+fe>me)throw new RangeError("Trying to access beyond buffer length")}x.prototype.readUintLE=x.prototype.readUIntLE=function(fe,me,Re){fe=fe>>>0,me=me>>>0,Re||Se(fe,me,this.length);for(var Oe=this[fe],st=1,ut=0;++ut<me&&(st*=256);)Oe+=this[fe+ut]*st;return Oe},x.prototype.readUintBE=x.prototype.readUIntBE=function(fe,me,Re){fe=fe>>>0,me=me>>>0,Re||Se(fe,me,this.length);for(var Oe=this[fe+--me],st=1;me>0&&(st*=256);)Oe+=this[fe+--me]*st;return Oe},x.prototype.readUint8=x.prototype.readUInt8=function(fe,me){return fe=fe>>>0,me||Se(fe,1,this.length),this[fe]},x.prototype.readUint16LE=x.prototype.readUInt16LE=function(fe,me){return fe=fe>>>0,me||Se(fe,2,this.length),this[fe]|this[fe+1]<<8},x.prototype.readUint16BE=x.prototype.readUInt16BE=function(fe,me){return fe=fe>>>0,me||Se(fe,2,this.length),this[fe]<<8|this[fe+1]},x.prototype.readUint32LE=x.prototype.readUInt32LE=function(fe,me){return fe=fe>>>0,me||Se(fe,4,this.length),(this[fe]|this[fe+1]<<8|this[fe+2]<<16)+this[fe+3]*16777216},x.prototype.readUint32BE=x.prototype.readUInt32BE=function(fe,me){return fe=fe>>>0,me||Se(fe,4,this.length),this[fe]*16777216+(this[fe+1]<<16|this[fe+2]<<8|this[fe+3])},x.prototype.readBigUInt64LE=Ye(function(fe){fe=fe>>>0,qe(fe,"offset");var me=this[fe],Re=this[fe+7];(me===void 0||Re===void 0)&&Ke(fe,this.length-8);var Oe=me+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24),st=this[++fe]+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+Re*Math.pow(2,24);return BigInt(Oe)+(BigInt(st)<<BigInt(32))}),x.prototype.readBigUInt64BE=Ye(function(fe){fe=fe>>>0,qe(fe,"offset");var me=this[fe],Re=this[fe+7];(me===void 0||Re===void 0)&&Ke(fe,this.length-8);var Oe=me*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe],st=this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+Re;return(BigInt(Oe)<<BigInt(32))+BigInt(st)}),x.prototype.readIntLE=function(fe,me,Re){fe=fe>>>0,me=me>>>0,Re||Se(fe,me,this.length);for(var Oe=this[fe],st=1,ut=0;++ut<me&&(st*=256);)Oe+=this[fe+ut]*st;return st*=128,Oe>=st&&(Oe-=Math.pow(2,8*me)),Oe},x.prototype.readIntBE=function(fe,me,Re){fe=fe>>>0,me=me>>>0,Re||Se(fe,me,this.length);for(var Oe=me,st=1,ut=this[fe+--Oe];Oe>0&&(st*=256);)ut+=this[fe+--Oe]*st;return st*=128,ut>=st&&(ut-=Math.pow(2,8*me)),ut},x.prototype.readInt8=function(fe,me){return fe=fe>>>0,me||Se(fe,1,this.length),this[fe]&128?(255-this[fe]+1)*-1:this[fe]},x.prototype.readInt16LE=function(fe,me){fe=fe>>>0,me||Se(fe,2,this.length);var Re=this[fe]|this[fe+1]<<8;return Re&32768?Re|4294901760:Re},x.prototype.readInt16BE=function(fe,me){fe=fe>>>0,me||Se(fe,2,this.length);var Re=this[fe+1]|this[fe]<<8;return Re&32768?Re|4294901760:Re},x.prototype.readInt32LE=function(fe,me){return fe=fe>>>0,me||Se(fe,4,this.length),this[fe]|this[fe+1]<<8|this[fe+2]<<16|this[fe+3]<<24},x.prototype.readInt32BE=function(fe,me){return fe=fe>>>0,me||Se(fe,4,this.length),this[fe]<<24|this[fe+1]<<16|this[fe+2]<<8|this[fe+3]},x.prototype.readBigInt64LE=Ye(function(fe){fe=fe>>>0,qe(fe,"offset");var me=this[fe],Re=this[fe+7];(me===void 0||Re===void 0)&&Ke(fe,this.length-8);var Oe=this[fe+4]+this[fe+5]*Math.pow(2,8)+this[fe+6]*Math.pow(2,16)+(Re<<24);return(BigInt(Oe)<<BigInt(32))+BigInt(me+this[++fe]*Math.pow(2,8)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,24))}),x.prototype.readBigInt64BE=Ye(function(fe){fe=fe>>>0,qe(fe,"offset");var me=this[fe],Re=this[fe+7];(me===void 0||Re===void 0)&&Ke(fe,this.length-8);var Oe=(me<<24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+this[++fe];return(BigInt(Oe)<<BigInt(32))+BigInt(this[++fe]*Math.pow(2,24)+this[++fe]*Math.pow(2,16)+this[++fe]*Math.pow(2,8)+Re)}),x.prototype.readFloatLE=function(fe,me){return fe=fe>>>0,me||Se(fe,4,this.length),A.read(this,fe,!0,23,4)},x.prototype.readFloatBE=function(fe,me){return fe=fe>>>0,me||Se(fe,4,this.length),A.read(this,fe,!1,23,4)},x.prototype.readDoubleLE=function(fe,me){return fe=fe>>>0,me||Se(fe,8,this.length),A.read(this,fe,!0,52,8)},x.prototype.readDoubleBE=function(fe,me){return fe=fe>>>0,me||Se(fe,8,this.length),A.read(this,fe,!1,52,8)};function Ee(Te,fe,me,Re,Oe,st){if(!x.isBuffer(Te))throw new TypeError('"buffer" argument must be a Buffer instance');if(fe>Oe||fe<st)throw new RangeError('"value" argument is out of bounds');if(me+Re>Te.length)throw new RangeError("Index out of range")}x.prototype.writeUintLE=x.prototype.writeUIntLE=function(fe,me,Re,Oe){if(fe=+fe,me=me>>>0,Re=Re>>>0,!Oe){var st=Math.pow(2,8*Re)-1;Ee(this,fe,me,Re,st,0)}var ut=1,Tt=0;for(this[me]=fe&255;++Tt<Re&&(ut*=256);)this[me+Tt]=fe/ut&255;return me+Re},x.prototype.writeUintBE=x.prototype.writeUIntBE=function(fe,me,Re,Oe){if(fe=+fe,me=me>>>0,Re=Re>>>0,!Oe){var st=Math.pow(2,8*Re)-1;Ee(this,fe,me,Re,st,0)}var ut=Re-1,Tt=1;for(this[me+ut]=fe&255;--ut>=0&&(Tt*=256);)this[me+ut]=fe/Tt&255;return me+Re},x.prototype.writeUint8=x.prototype.writeUInt8=function(fe,me,Re){return fe=+fe,me=me>>>0,Re||Ee(this,fe,me,1,255,0),this[me]=fe&255,me+1},x.prototype.writeUint16LE=x.prototype.writeUInt16LE=function(fe,me,Re){return fe=+fe,me=me>>>0,Re||Ee(this,fe,me,2,65535,0),this[me]=fe&255,this[me+1]=fe>>>8,me+2},x.prototype.writeUint16BE=x.prototype.writeUInt16BE=function(fe,me,Re){return fe=+fe,me=me>>>0,Re||Ee(this,fe,me,2,65535,0),this[me]=fe>>>8,this[me+1]=fe&255,me+2},x.prototype.writeUint32LE=x.prototype.writeUInt32LE=function(fe,me,Re){return fe=+fe,me=me>>>0,Re||Ee(this,fe,me,4,4294967295,0),this[me+3]=fe>>>24,this[me+2]=fe>>>16,this[me+1]=fe>>>8,this[me]=fe&255,me+4},x.prototype.writeUint32BE=x.prototype.writeUInt32BE=function(fe,me,Re){return fe=+fe,me=me>>>0,Re||Ee(this,fe,me,4,4294967295,0),this[me]=fe>>>24,this[me+1]=fe>>>16,this[me+2]=fe>>>8,this[me+3]=fe&255,me+4};function Ne(Te,fe,me,Re,Oe){nt(fe,Re,Oe,Te,me,7);var st=Number(fe&BigInt(4294967295));Te[me++]=st,st=st>>8,Te[me++]=st,st=st>>8,Te[me++]=st,st=st>>8,Te[me++]=st;var ut=Number(fe>>BigInt(32)&BigInt(4294967295));return Te[me++]=ut,ut=ut>>8,Te[me++]=ut,ut=ut>>8,Te[me++]=ut,ut=ut>>8,Te[me++]=ut,me}function He(Te,fe,me,Re,Oe){nt(fe,Re,Oe,Te,me,7);var st=Number(fe&BigInt(4294967295));Te[me+7]=st,st=st>>8,Te[me+6]=st,st=st>>8,Te[me+5]=st,st=st>>8,Te[me+4]=st;var ut=Number(fe>>BigInt(32)&BigInt(4294967295));return Te[me+3]=ut,ut=ut>>8,Te[me+2]=ut,ut=ut>>8,Te[me+1]=ut,ut=ut>>8,Te[me]=ut,me+8}x.prototype.writeBigUInt64LE=Ye(function(fe){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ne(this,fe,me,BigInt(0),BigInt("0xffffffffffffffff"))}),x.prototype.writeBigUInt64BE=Ye(function(fe){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return He(this,fe,me,BigInt(0),BigInt("0xffffffffffffffff"))}),x.prototype.writeIntLE=function(fe,me,Re,Oe){if(fe=+fe,me=me>>>0,!Oe){var st=Math.pow(2,8*Re-1);Ee(this,fe,me,Re,st-1,-st)}var ut=0,Tt=1,It=0;for(this[me]=fe&255;++ut<Re&&(Tt*=256);)fe<0&&It===0&&this[me+ut-1]!==0&&(It=1),this[me+ut]=(fe/Tt>>0)-It&255;return me+Re},x.prototype.writeIntBE=function(fe,me,Re,Oe){if(fe=+fe,me=me>>>0,!Oe){var st=Math.pow(2,8*Re-1);Ee(this,fe,me,Re,st-1,-st)}var ut=Re-1,Tt=1,It=0;for(this[me+ut]=fe&255;--ut>=0&&(Tt*=256);)fe<0&&It===0&&this[me+ut+1]!==0&&(It=1),this[me+ut]=(fe/Tt>>0)-It&255;return me+Re},x.prototype.writeInt8=function(fe,me,Re){return fe=+fe,me=me>>>0,Re||Ee(this,fe,me,1,127,-128),fe<0&&(fe=255+fe+1),this[me]=fe&255,me+1},x.prototype.writeInt16LE=function(fe,me,Re){return fe=+fe,me=me>>>0,Re||Ee(this,fe,me,2,32767,-32768),this[me]=fe&255,this[me+1]=fe>>>8,me+2},x.prototype.writeInt16BE=function(fe,me,Re){return fe=+fe,me=me>>>0,Re||Ee(this,fe,me,2,32767,-32768),this[me]=fe>>>8,this[me+1]=fe&255,me+2},x.prototype.writeInt32LE=function(fe,me,Re){return fe=+fe,me=me>>>0,Re||Ee(this,fe,me,4,2147483647,-2147483648),this[me]=fe&255,this[me+1]=fe>>>8,this[me+2]=fe>>>16,this[me+3]=fe>>>24,me+4},x.prototype.writeInt32BE=function(fe,me,Re){return fe=+fe,me=me>>>0,Re||Ee(this,fe,me,4,2147483647,-2147483648),fe<0&&(fe=4294967295+fe+1),this[me]=fe>>>24,this[me+1]=fe>>>16,this[me+2]=fe>>>8,this[me+3]=fe&255,me+4},x.prototype.writeBigInt64LE=Ye(function(fe){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ne(this,fe,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),x.prototype.writeBigInt64BE=Ye(function(fe){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return He(this,fe,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(Te,fe,me,Re,Oe,st){if(me+Re>Te.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("Index out of range")}function be(Te,fe,me,Re,Oe){return fe=+fe,me=me>>>0,Oe||Ce(Te,fe,me,4),A.write(Te,fe,me,Re,23,4),me+4}x.prototype.writeFloatLE=function(fe,me,Re){return be(this,fe,me,!0,Re)},x.prototype.writeFloatBE=function(fe,me,Re){return be(this,fe,me,!1,Re)};function we(Te,fe,me,Re,Oe){return fe=+fe,me=me>>>0,Oe||Ce(Te,fe,me,8),A.write(Te,fe,me,Re,52,8),me+8}x.prototype.writeDoubleLE=function(fe,me,Re){return we(this,fe,me,!0,Re)},x.prototype.writeDoubleBE=function(fe,me,Re){return we(this,fe,me,!1,Re)},x.prototype.copy=function(fe,me,Re,Oe){if(!x.isBuffer(fe))throw new TypeError("argument should be a Buffer");if(Re||(Re=0),!Oe&&Oe!==0&&(Oe=this.length),me>=fe.length&&(me=fe.length),me||(me=0),Oe>0&&Oe<Re&&(Oe=Re),Oe===Re||fe.length===0||this.length===0)return 0;if(me<0)throw new RangeError("targetStart out of bounds");if(Re<0||Re>=this.length)throw new RangeError("Index out of range");if(Oe<0)throw new RangeError("sourceEnd out of bounds");Oe>this.length&&(Oe=this.length),fe.length-me<Oe-Re&&(Oe=fe.length-me+Re);var st=Oe-Re;return this===fe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(me,Re,Oe):Uint8Array.prototype.set.call(fe,this.subarray(Re,Oe),me),st},x.prototype.fill=function(fe,me,Re,Oe){if(typeof fe=="string"){if(typeof me=="string"?(Oe=me,me=0,Re=this.length):typeof Re=="string"&&(Oe=Re,Re=this.length),Oe!==void 0&&typeof Oe!="string")throw new TypeError("encoding must be a string");if(typeof Oe=="string"&&!x.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);if(fe.length===1){var st=fe.charCodeAt(0);(Oe==="utf8"&&st<128||Oe==="latin1")&&(fe=st)}}else typeof fe=="number"?fe=fe&255:typeof fe=="boolean"&&(fe=Number(fe));if(me<0||this.length<me||this.length<Re)throw new RangeError("Out of range index");if(Re<=me)return this;me=me>>>0,Re=Re===void 0?this.length:Re>>>0,fe||(fe=0);var ut;if(typeof fe=="number")for(ut=me;ut<Re;++ut)this[ut]=fe;else{var Tt=x.isBuffer(fe)?fe:x.from(fe,Oe),It=Tt.length;if(It===0)throw new TypeError('The value "'+fe+'" is invalid for argument "value"');for(ut=0;ut<Re-me;++ut)this[ut+me]=Tt[ut%It]}return this};var ke={};function Fe(Te,fe,me){ke[Te]=function(Re){s(st,Re);var Oe=u(st);function st(){var ut;return r(this,st),ut=Oe.call(this),Object.defineProperty(h(ut),"message",{value:fe.apply(h(ut),arguments),writable:!0,configurable:!0}),ut.name="".concat(ut.name," [").concat(Te,"]"),ut.stack,delete ut.name,ut}return n(st,[{key:"code",get:function(){return Te},set:function(Tt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Tt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Te,"]: ").concat(this.message)}}]),st}(me)}Fe("ERR_BUFFER_OUT_OF_BOUNDS",function(Te){return Te?"".concat(Te," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Fe("ERR_INVALID_ARG_TYPE",function(Te,fe){return'The "'.concat(Te,'" argument must be of type number. Received type ').concat(o(fe))},TypeError),Fe("ERR_OUT_OF_RANGE",function(Te,fe,me){var Re='The value of "'.concat(Te,'" is out of range.'),Oe=me;return Number.isInteger(me)&&Math.abs(me)>Math.pow(2,32)?Oe=Pe(String(me)):typeof me=="bigint"&&(Oe=String(me),(me>Math.pow(BigInt(2),BigInt(32))||me<-Math.pow(BigInt(2),BigInt(32)))&&(Oe=Pe(Oe)),Oe+="n"),Re+=" It must be ".concat(fe,". Received ").concat(Oe),Re},RangeError);function Pe(Te){for(var fe="",me=Te.length,Re=Te[0]==="-"?1:0;me>=Re+4;me-=3)fe="_".concat(Te.slice(me-3,me)).concat(fe);return"".concat(Te.slice(0,me)).concat(fe)}function Ge(Te,fe,me){qe(fe,"offset"),(Te[fe]===void 0||Te[fe+me]===void 0)&&Ke(fe,Te.length-(me+1))}function nt(Te,fe,me,Re,Oe,st){if(Te>me||Te<fe){var ut=typeof fe=="bigint"?"n":"",Tt;throw st>3?fe===0||fe===BigInt(0)?Tt=">= 0".concat(ut," and < 2").concat(ut," ** ").concat((st+1)*8).concat(ut):Tt=">= -(2".concat(ut," ** ").concat((st+1)*8-1).concat(ut,") and < 2 ** ")+"".concat((st+1)*8-1).concat(ut):Tt=">= ".concat(fe).concat(ut," and <= ").concat(me).concat(ut),new ke.ERR_OUT_OF_RANGE("value",Tt,Te)}Ge(Re,Oe,st)}function qe(Te,fe){if(typeof Te!="number")throw new ke.ERR_INVALID_ARG_TYPE(fe,"number",Te)}function Ke(Te,fe,me){throw Math.floor(Te)!==Te?(qe(Te,me),new ke.ERR_OUT_OF_RANGE(me||"offset","an integer",Te)):fe<0?new ke.ERR_BUFFER_OUT_OF_BOUNDS:new ke.ERR_OUT_OF_RANGE(me||"offset",">= ".concat(me?1:0," and <= ").concat(fe),Te)}var $e=/[^+/0-9A-Za-z-_]/g;function vt(Te){if(Te=Te.split("=")[0],Te=Te.trim().replace($e,""),Te.length<2)return"";for(;Te.length%4!==0;)Te=Te+"=";return Te}function yt(Te,fe){fe=fe||1/0;for(var me,Re=Te.length,Oe=null,st=[],ut=0;ut<Re;++ut){if(me=Te.charCodeAt(ut),me>55295&&me<57344){if(!Oe){if(me>56319){(fe-=3)>-1&&st.push(239,191,189);continue}else if(ut+1===Re){(fe-=3)>-1&&st.push(239,191,189);continue}Oe=me;continue}if(me<56320){(fe-=3)>-1&&st.push(239,191,189),Oe=me;continue}me=(Oe-55296<<10|me-56320)+65536}else Oe&&(fe-=3)>-1&&st.push(239,191,189);if(Oe=null,me<128){if((fe-=1)<0)break;st.push(me)}else if(me<2048){if((fe-=2)<0)break;st.push(me>>6|192,me&63|128)}else if(me<65536){if((fe-=3)<0)break;st.push(me>>12|224,me>>6&63|128,me&63|128)}else if(me<1114112){if((fe-=4)<0)break;st.push(me>>18|240,me>>12&63|128,me>>6&63|128,me&63|128)}else throw new Error("Invalid code point")}return st}function mt(Te){for(var fe=[],me=0;me<Te.length;++me)fe.push(Te.charCodeAt(me)&255);return fe}function Et(Te,fe){for(var me,Re,Oe,st=[],ut=0;ut<Te.length&&!((fe-=2)<0);++ut)me=Te.charCodeAt(ut),Re=me>>8,Oe=me%256,st.push(Oe),st.push(Re);return st}function Xe(Te){return d.toByteArray(vt(Te))}function Ue(Te,fe,me,Re){var Oe;for(Oe=0;Oe<Re&&!(Oe+me>=fe.length||Oe>=Te.length);++Oe)fe[Oe+me]=Te[Oe];return Oe}function Be(Te,fe){return Te instanceof fe||Te!=null&&Te.constructor!=null&&Te.constructor.name!=null&&Te.constructor.name===fe.name}function rt(Te){return Te!==Te}var it=function(){for(var Te="0123456789abcdef",fe=new Array(256),me=0;me<16;++me)for(var Re=me*16,Oe=0;Oe<16;++Oe)fe[Re+Oe]=Te[me]+Te[Oe];return fe}();function Ye(Te){return typeof BigInt>"u"?De:Te}function De(){throw new Error("BigInt not supported")}},2321:function(v){v.exports=l,v.exports.isMobile=l,v.exports.default=l;var p=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,r=/android|ipad|playbook|silk/i;function l(n){n||(n={});var s=n.ua;if(!s&&typeof navigator<"u"&&(s=navigator.userAgent),s&&s.headers&&typeof s.headers["user-agent"]=="string"&&(s=s.headers["user-agent"]),typeof s!="string")return!1;var c=p.test(s)&&!t.test(s)||!!n.tablet&&r.test(s);return!c&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&s.indexOf("Macintosh")!==-1&&s.indexOf("Safari")!==-1&&(c=!0),c}},3910:function(v,p){p.byteLength=y,p.toByteArray=b,p.fromByteArray=d;for(var t=[],r=[],l=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=n.length;s<c;++s)t[s]=n[s],r[n.charCodeAt(s)]=s;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function u(A){var M=A.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=A.indexOf("=");C===-1&&(C=M);var m=C===M?0:4-C%4;return[C,m]}function y(A){var M=u(A),C=M[0],m=M[1];return(C+m)*3/4-m}function h(A,M,C){return(M+C)*3/4-C}function b(A){var M,C=u(A),m=C[0],S=C[1],x=new l(h(A,m,S)),a=0,E=S>0?m-4:m,w;for(w=0;w<E;w+=4)M=r[A.charCodeAt(w)]<<18|r[A.charCodeAt(w+1)]<<12|r[A.charCodeAt(w+2)]<<6|r[A.charCodeAt(w+3)],x[a++]=M>>16&255,x[a++]=M>>8&255,x[a++]=M&255;return S===2&&(M=r[A.charCodeAt(w)]<<2|r[A.charCodeAt(w+1)]>>4,x[a++]=M&255),S===1&&(M=r[A.charCodeAt(w)]<<10|r[A.charCodeAt(w+1)]<<4|r[A.charCodeAt(w+2)]>>2,x[a++]=M>>8&255,x[a++]=M&255),x}function f(A){return t[A>>18&63]+t[A>>12&63]+t[A>>6&63]+t[A&63]}function o(A,M,C){for(var m,S=[],x=M;x<C;x+=3)m=(A[x]<<16&16711680)+(A[x+1]<<8&65280)+(A[x+2]&255),S.push(f(m));return S.join("")}function d(A){for(var M,C=A.length,m=C%3,S=[],x=16383,a=0,E=C-m;a<E;a+=x)S.push(o(A,a,a+x>E?E:a+x));return m===1?(M=A[C-1],S.push(t[M>>2]+t[M<<4&63]+"==")):m===2&&(M=(A[C-2]<<8)+A[C-1],S.push(t[M>>10]+t[M>>4&63]+t[M<<2&63]+"=")),S.join("")}},3187:function(v,p){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */p.read=function(t,r,l,n,s){var c,u,y=s*8-n-1,h=(1<<y)-1,b=h>>1,f=-7,o=l?s-1:0,d=l?-1:1,A=t[r+o];for(o+=d,c=A&(1<<-f)-1,A>>=-f,f+=y;f>0;c=c*256+t[r+o],o+=d,f-=8);for(u=c&(1<<-f)-1,c>>=-f,f+=n;f>0;u=u*256+t[r+o],o+=d,f-=8);if(c===0)c=1-b;else{if(c===h)return u?NaN:(A?-1:1)*(1/0);u=u+Math.pow(2,n),c=c-b}return(A?-1:1)*u*Math.pow(2,c-n)},p.write=function(t,r,l,n,s,c){var u,y,h,b=c*8-s-1,f=(1<<b)-1,o=f>>1,d=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:c-1,M=n?1:-1,C=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(y=isNaN(r)?1:0,u=f):(u=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+o>=1?r+=d/h:r+=d*Math.pow(2,1-o),r*h>=2&&(u++,h/=2),u+o>=f?(y=0,u=f):u+o>=1?(y=(r*h-1)*Math.pow(2,s),u=u+o):(y=r*Math.pow(2,o-1)*Math.pow(2,s),u=0));s>=8;t[l+A]=y&255,A+=M,y/=256,s-=8);for(u=u<<s|y,b+=s;b>0;t[l+A]=u&255,A+=M,u/=256,b-=8);t[l+A-M]|=C*128}},1152:function(v,p,t){v.exports=u;var r=t(3440),l=t(7774),n=t(9298);function s(y,h){this._controllerNames=Object.keys(y),this._controllerList=this._controllerNames.map(function(b){return y[b]}),this._mode=h,this._active=y[h],this._active||(this._mode="turntable",this._active=y.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var c=s.prototype;c.flush=function(y){for(var h=this._controllerList,b=0;b<h.length;++b)h[b].flush(y)},c.idle=function(y){for(var h=this._controllerList,b=0;b<h.length;++b)h[b].idle(y)},c.lookAt=function(y,h,b,f){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].lookAt(y,h,b,f)},c.rotate=function(y,h,b,f){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].rotate(y,h,b,f)},c.pan=function(y,h,b,f){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].pan(y,h,b,f)},c.translate=function(y,h,b,f){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].translate(y,h,b,f)},c.setMatrix=function(y,h){for(var b=this._controllerList,f=0;f<b.length;++f)b[f].setMatrix(y,h)},c.setDistanceLimits=function(y,h){for(var b=this._controllerList,f=0;f<b.length;++f)b[f].setDistanceLimits(y,h)},c.setDistance=function(y,h){for(var b=this._controllerList,f=0;f<b.length;++f)b[f].setDistance(y,h)},c.recalcMatrix=function(y){this._active.recalcMatrix(y)},c.getDistance=function(y){return this._active.getDistance(y)},c.getDistanceLimits=function(y){return this._active.getDistanceLimits(y)},c.lastT=function(){return this._active.lastT()},c.setMode=function(y){if(y!==this._mode){var h=this._controllerNames.indexOf(y);if(!(h<0)){var b=this._active,f=this._controllerList[h],o=Math.max(b.lastT(),f.lastT());b.recalcMatrix(o),f.setMatrix(o,b.computedMatrix),this._active=f,this._mode=y,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},c.getMode=function(){return this._mode};function u(y){y=y||{};var h=y.eye||[0,0,1],b=y.center||[0,0,0],f=y.up||[0,1,0],o=y.distanceLimits||[0,1/0],d=y.mode||"turntable",A=r(),M=l(),C=n();return A.setDistanceLimits(o[0],o[1]),A.lookAt(0,h,b,f),M.setDistanceLimits(o[0],o[1]),M.lookAt(0,h,b,f),C.setDistanceLimits(o[0],o[1]),C.lookAt(0,h,b,f),new s({turntable:A,orbit:M,matrix:C},d)}},8126:function(v,p,t){var r=typeof WeakMap>"u"?t(5346):WeakMap,l=t(5827),n=t(2944),s=new r;function c(u){var y=s.get(u),h=y&&(y._triangleBuffer.handle||y._triangleBuffer.buffer);if(!h||!u.isBuffer(h)){var b=l(u,new Float32Array([-1,-1,-1,4,4,-1]));y=n(u,[{buffer:b,type:u.FLOAT,size:2}]),y._triangleBuffer=b,s.set(u,y)}y.bind(),u.drawArrays(u.TRIANGLES,0,3),y.unbind()}v.exports=c},8008:function(v,p,t){var r=t(4930);v.exports=l;function l(n,s,c){s=typeof s=="number"?s:1,c=c||": ";var u=n.split(/\r?\n/),y=String(u.length+s-1).length;return u.map(function(h,b){var f=b+s,o=String(f).length,d=r(f,y-o);return d+c+h}).join(`
`)}},2153:function(v,p,t){v.exports=n;var r=t(417);function l(s,c){for(var u=new Array(c+1),y=0;y<s.length;++y)u[y]=s[y];for(var y=0;y<=s.length;++y){for(var h=s.length;h<=c;++h){for(var b=new Array(c),f=0;f<c;++f)b[f]=Math.pow(h+1-y,f);u[h]=b}var o=r.apply(void 0,u);if(o)return!0}return!1}function n(s){var c=s.length;if(c===0)return[];if(c===1)return[0];for(var u=s[0].length,y=[s[0]],h=[0],b=1;b<c;++b){if(y.push(s[b]),!l(y,u)){y.pop();continue}if(h.push(b),h.length===u+1)return h}return h}},4653:function(v,p,t){v.exports=n;var r=t(4419),l=t(1778);function n(s,c){return r(c).filter(function(u){for(var y=new Array(u.length),h=0;h<u.length;++h)y[h]=c[u[h]];return l(y)*s<1})}},2350:function(v,p,t){v.exports=n;var r=t(4653),l=t(8691);function n(s,c){return l(r(s,c))}},7896:function(v){v.exports=function(t){return atob(t)}},957:function(v,p,t){v.exports=n;var r=t(6606);function l(s){for(var c=0,u=0;u<s.length;++u)c+=s[u];return c}function n(s,c){for(var u=c.length,y=new Array(u+1),h=0;h<u;++h){for(var b=new Array(u+1),f=0;f<=u;++f)b[f]=s[f][h];y[h]=b}y[u]=new Array(u+1);for(var h=0;h<=u;++h)y[u][h]=1;for(var o=new Array(u+1),h=0;h<u;++h)o[h]=c[h];o[u]=1;var d=r(y,o),A=l(d[u+1]);A===0&&(A=1);for(var M=new Array(u+1),h=0;h<=u;++h)M[h]=l(d[h])/A;return M}},1539:function(v,p,t){var r=t(8524);v.exports=l;function l(n,s){return r(n[0].mul(s[1]).add(s[0].mul(n[1])),n[1].mul(s[1]))}},8846:function(v){v.exports=p;function p(t,r){return t[0].mul(r[1]).cmp(r[0].mul(t[1]))}},9189:function(v,p,t){var r=t(8524);v.exports=l;function l(n,s){return r(n[0].mul(s[1]),n[1].mul(s[0]))}},5125:function(v,p,t){var r=t(234),l=t(3218),n=t(5514),s=t(2813),c=t(8524),u=t(9189);v.exports=y;function y(h,b){if(r(h))return b?u(h,y(b)):[h[0].clone(),h[1].clone()];var f=0,o,d;if(l(h))o=h.clone();else if(typeof h=="string")o=s(h);else{if(h===0)return[n(0),n(1)];if(h===Math.floor(h))o=n(h);else{for(;h!==Math.floor(h);)h=h*Math.pow(2,256),f-=256;o=n(h)}}if(r(b))o.mul(b[1]),d=b[0].clone();else if(l(b))d=b.clone();else if(typeof b=="string")d=s(b);else if(!b)d=n(1);else if(b===Math.floor(b))d=n(b);else{for(;b!==Math.floor(b);)b=b*Math.pow(2,256),f+=256;d=n(b)}return f>0?o=o.ushln(f):f<0&&(d=d.ushln(-f)),c(o,d)}},234:function(v,p,t){var r=t(3218);v.exports=l;function l(n){return Array.isArray(n)&&n.length===2&&r(n[0])&&r(n[1])}},4275:function(v,p,t){var r=t(1928);v.exports=l;function l(n){return n.cmp(new r(0))}},9958:function(v,p,t){var r=t(4275);v.exports=l;function l(n){var s=n.length,c=n.words,u=0;if(s===1)u=c[0];else if(s===2)u=c[0]+c[1]*67108864;else for(var y=0;y<s;y++){var h=c[y];u+=h*Math.pow(67108864,y)}return r(n)*u}},1112:function(v,p,t){var r=t(8362),l=t(2288).countTrailingZeros;v.exports=n;function n(s){var c=l(r.lo(s));if(c<32)return c;var u=l(r.hi(s));return u>20?52:u+32}},3218:function(v,p,t){t(1928),v.exports=r;function r(l){return l&&typeof l=="object"&&!!l.words}},5514:function(v,p,t){var r=t(1928),l=t(8362);v.exports=n;function n(s){var c=l.exponent(s);return c<52?new r(s):new r(s*Math.pow(2,52-c)).ushln(c-52)}},8524:function(v,p,t){var r=t(5514),l=t(4275);v.exports=n;function n(s,c){var u=l(s),y=l(c);if(u===0)return[r(0),r(1)];if(y===0)return[r(0),r(0)];y<0&&(s=s.neg(),c=c.neg());var h=s.gcd(c);return h.cmpn(1)?[s.div(h),c.div(h)]:[s,c]}},2813:function(v,p,t){var r=t(1928);v.exports=l;function l(n){return new r(n)}},3962:function(v,p,t){var r=t(8524);v.exports=l;function l(n,s){return r(n[0].mul(s[0]),n[1].mul(s[1]))}},4951:function(v,p,t){var r=t(4275);v.exports=l;function l(n){return r(n[0])*r(n[1])}},4354:function(v,p,t){var r=t(8524);v.exports=l;function l(n,s){return r(n[0].mul(s[1]).sub(n[1].mul(s[0])),n[1].mul(s[1]))}},7999:function(v,p,t){var r=t(9958),l=t(1112);v.exports=n;function n(s){var c=s[0],u=s[1];if(c.cmpn(0)===0)return 0;var y=c.abs().divmod(u.abs()),h=y.div,b=r(h),f=y.mod,o=c.negative!==u.negative?-1:1;if(f.cmpn(0)===0)return o*b;if(b){var d=l(b)+4,A=r(f.ushln(d).divRound(u));return o*(b+A*Math.pow(2,-d))}else{var M=u.bitLength()-f.bitLength()+53,A=r(f.ushln(M).divRound(u));return M<1023?o*A*Math.pow(2,-M):(A*=Math.pow(2,-1023),o*A*Math.pow(2,1023-M))}}},5070:function(v){function p(c,u,y,h,b){for(var f=b+1;h<=b;){var o=h+b>>>1,d=c[o],A=y!==void 0?y(d,u):d-u;A>=0?(f=o,b=o-1):h=o+1}return f}function t(c,u,y,h,b){for(var f=b+1;h<=b;){var o=h+b>>>1,d=c[o],A=y!==void 0?y(d,u):d-u;A>0?(f=o,b=o-1):h=o+1}return f}function r(c,u,y,h,b){for(var f=h-1;h<=b;){var o=h+b>>>1,d=c[o],A=y!==void 0?y(d,u):d-u;A<0?(f=o,h=o+1):b=o-1}return f}function l(c,u,y,h,b){for(var f=h-1;h<=b;){var o=h+b>>>1,d=c[o],A=y!==void 0?y(d,u):d-u;A<=0?(f=o,h=o+1):b=o-1}return f}function n(c,u,y,h,b){for(;h<=b;){var f=h+b>>>1,o=c[f],d=y!==void 0?y(o,u):o-u;if(d===0)return f;d<=0?h=f+1:b=f-1}return-1}function s(c,u,y,h,b,f){return typeof y=="function"?f(c,u,y,h===void 0?0:h|0,b===void 0?c.length-1:b|0):f(c,u,void 0,y===void 0?0:y|0,h===void 0?c.length-1:h|0)}v.exports={ge:function(c,u,y,h,b){return s(c,u,y,h,b,p)},gt:function(c,u,y,h,b){return s(c,u,y,h,b,t)},lt:function(c,u,y,h,b){return s(c,u,y,h,b,r)},le:function(c,u,y,h,b){return s(c,u,y,h,b,l)},eq:function(c,u,y,h,b){return s(c,u,y,h,b,n)}}},2288:function(v,p){"use restrict";var t=32;p.INT_BITS=t,p.INT_MAX=2147483647,p.INT_MIN=-1<<t-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var s=n>>t-1;return(n^s)-s},p.min=function(n,s){return s^(n^s)&-(n<s)},p.max=function(n,s){return n^(n^s)&-(n<s)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var s,c;return s=(n>65535)<<4,n>>>=s,c=(n>255)<<3,n>>>=c,s|=c,c=(n>15)<<2,n>>>=c,s|=c,c=(n>3)<<1,n>>>=c,s|=c,s|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function r(n){var s=32;return n&=-n,n&&s--,n&65535&&(s-=16),n&16711935&&(s-=8),n&252645135&&(s-=4),n&858993459&&(s-=2),n&1431655765&&(s-=1),s}p.countTrailingZeros=r,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var l=new Array(256);(function(n){for(var s=0;s<256;++s){var c=s,u=s,y=7;for(c>>>=1;c;c>>>=1)u<<=1,u|=c&1,--y;n[s]=u<<y&255}})(l),p.reverse=function(n){return l[n&255]<<24|l[n>>>8&255]<<16|l[n>>>16&255]<<8|l[n>>>24&255]},p.interleave2=function(n,s){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,n|s<<1},p.deinterleave2=function(n,s){return n=n>>>s&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,s,c){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,n|=s<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,n|c<<2},p.deinterleave3=function(n,s){return n=n>>>s&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var s=n|n-1;return s+1|(~s&-~s)-1>>>r(n)+1}},1928:function(v,p,t){v=t.nmd(v),function(r,l){function n(B,F){if(!B)throw new Error(F||"Assertion failed")}function s(B,F){B.super_=F;var H=function(){};H.prototype=F.prototype,B.prototype=new H,B.prototype.constructor=B}function c(B,F,H){if(c.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((F==="le"||F==="be")&&(H=F,F=10),this._init(B||0,F||10,H||"be"))}typeof r=="object"?r.exports=c:l.BN=c,c.BN=c,c.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=t(6601).Buffer}catch{}c.isBN=function(F){return F instanceof c?!0:F!==null&&typeof F=="object"&&F.constructor.wordSize===c.wordSize&&Array.isArray(F.words)},c.max=function(F,H){return F.cmp(H)>0?F:H},c.min=function(F,H){return F.cmp(H)<0?F:H},c.prototype._init=function(F,H,X){if(typeof F=="number")return this._initNumber(F,H,X);if(typeof F=="object")return this._initArray(F,H,X);H==="hex"&&(H=16),n(H===(H|0)&&H>=2&&H<=36),F=F.toString().replace(/\s+/g,"");var q=0;F[0]==="-"&&(q++,this.negative=1),q<F.length&&(H===16?this._parseHex(F,q,X):(this._parseBase(F,H,q),X==="le"&&this._initArray(this.toArray(),H,X)))},c.prototype._initNumber=function(F,H,X){F<0&&(this.negative=1,F=-F),F<67108864?(this.words=[F&67108863],this.length=1):F<4503599627370496?(this.words=[F&67108863,F/67108864&67108863],this.length=2):(n(F<9007199254740992),this.words=[F&67108863,F/67108864&67108863,1],this.length=3),X==="le"&&this._initArray(this.toArray(),H,X)},c.prototype._initArray=function(F,H,X){if(n(typeof F.length=="number"),F.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(F.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var ne,oe,ve=0;if(X==="be")for(q=F.length-1,ne=0;q>=0;q-=3)oe=F[q]|F[q-1]<<8|F[q-2]<<16,this.words[ne]|=oe<<ve&67108863,this.words[ne+1]=oe>>>26-ve&67108863,ve+=24,ve>=26&&(ve-=26,ne++);else if(X==="le")for(q=0,ne=0;q<F.length;q+=3)oe=F[q]|F[q+1]<<8|F[q+2]<<16,this.words[ne]|=oe<<ve&67108863,this.words[ne+1]=oe>>>26-ve&67108863,ve+=24,ve>=26&&(ve-=26,ne++);return this.strip()};function y(B,F){var H=B.charCodeAt(F);return H>=65&&H<=70?H-55:H>=97&&H<=102?H-87:H-48&15}function h(B,F,H){var X=y(B,H);return H-1>=F&&(X|=y(B,H-1)<<4),X}c.prototype._parseHex=function(F,H,X){this.length=Math.ceil((F.length-H)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var ne=0,oe=0,ve;if(X==="be")for(q=F.length-1;q>=H;q-=2)ve=h(F,H,q)<<ne,this.words[oe]|=ve&67108863,ne>=18?(ne-=18,oe+=1,this.words[oe]|=ve>>>26):ne+=8;else{var J=F.length-H;for(q=J%2===0?H+1:H;q<F.length;q+=2)ve=h(F,H,q)<<ne,this.words[oe]|=ve&67108863,ne>=18?(ne-=18,oe+=1,this.words[oe]|=ve>>>26):ne+=8}this.strip()};function b(B,F,H,X){for(var q=0,ne=Math.min(B.length,H),oe=F;oe<ne;oe++){var ve=B.charCodeAt(oe)-48;q*=X,ve>=49?q+=ve-49+10:ve>=17?q+=ve-17+10:q+=ve}return q}c.prototype._parseBase=function(F,H,X){this.words=[0],this.length=1;for(var q=0,ne=1;ne<=67108863;ne*=H)q++;q--,ne=ne/H|0;for(var oe=F.length-X,ve=oe%q,J=Math.min(oe,oe-ve)+X,Y=0,j=X;j<J;j+=q)Y=b(F,j,j+q,H),this.imuln(ne),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(ve!==0){var K=1;for(Y=b(F,j,F.length,H),j=0;j<ve;j++)K*=H;this.imuln(K),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this.strip()},c.prototype.copy=function(F){F.words=new Array(this.length);for(var H=0;H<this.length;H++)F.words[H]=this.words[H];F.length=this.length,F.negative=this.negative,F.red=this.red},c.prototype.clone=function(){var F=new c(null);return this.copy(F),F},c.prototype._expand=function(F){for(;this.length<F;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(F,H){F=F||10,H=H|0||1;var X;if(F===16||F==="hex"){X="";for(var q=0,ne=0,oe=0;oe<this.length;oe++){var ve=this.words[oe],J=((ve<<q|ne)&16777215).toString(16);ne=ve>>>24-q&16777215,ne!==0||oe!==this.length-1?X=f[6-J.length]+J+X:X=J+X,q+=2,q>=26&&(q-=26,oe--)}for(ne!==0&&(X=ne.toString(16)+X);X.length%H!==0;)X="0"+X;return this.negative!==0&&(X="-"+X),X}if(F===(F|0)&&F>=2&&F<=36){var Y=o[F],j=d[F];X="";var K=this.clone();for(K.negative=0;!K.isZero();){var te=K.modn(j).toString(F);K=K.idivn(j),K.isZero()?X=te+X:X=f[Y-te.length]+te+X}for(this.isZero()&&(X="0"+X);X.length%H!==0;)X="0"+X;return this.negative!==0&&(X="-"+X),X}n(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var F=this.words[0];return this.length===2?F+=this.words[1]*67108864:this.length===3&&this.words[2]===1?F+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-F:F},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(F,H){return n(typeof u<"u"),this.toArrayLike(u,F,H)},c.prototype.toArray=function(F,H){return this.toArrayLike(Array,F,H)},c.prototype.toArrayLike=function(F,H,X){var q=this.byteLength(),ne=X||Math.max(1,q);n(q<=ne,"byte array longer than desired length"),n(ne>0,"Requested array length <= 0"),this.strip();var oe=H==="le",ve=new F(ne),J,Y,j=this.clone();if(oe){for(Y=0;!j.isZero();Y++)J=j.andln(255),j.iushrn(8),ve[Y]=J;for(;Y<ne;Y++)ve[Y]=0}else{for(Y=0;Y<ne-q;Y++)ve[Y]=0;for(Y=0;!j.isZero();Y++)J=j.andln(255),j.iushrn(8),ve[ne-Y-1]=J}return ve},Math.clz32?c.prototype._countBits=function(F){return 32-Math.clz32(F)}:c.prototype._countBits=function(F){var H=F,X=0;return H>=4096&&(X+=13,H>>>=13),H>=64&&(X+=7,H>>>=7),H>=8&&(X+=4,H>>>=4),H>=2&&(X+=2,H>>>=2),X+H},c.prototype._zeroBits=function(F){if(F===0)return 26;var H=F,X=0;return H&8191||(X+=13,H>>>=13),H&127||(X+=7,H>>>=7),H&15||(X+=4,H>>>=4),H&3||(X+=2,H>>>=2),H&1||X++,X},c.prototype.bitLength=function(){var F=this.words[this.length-1],H=this._countBits(F);return(this.length-1)*26+H};function A(B){for(var F=new Array(B.bitLength()),H=0;H<F.length;H++){var X=H/26|0,q=H%26;F[H]=(B.words[X]&1<<q)>>>q}return F}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var F=0,H=0;H<this.length;H++){var X=this._zeroBits(this.words[H]);if(F+=X,X!==26)break}return F},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(F){return this.negative!==0?this.abs().inotn(F).iaddn(1):this.clone()},c.prototype.fromTwos=function(F){return this.testn(F-1)?this.notn(F).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(F){for(;this.length<F.length;)this.words[this.length++]=0;for(var H=0;H<F.length;H++)this.words[H]=this.words[H]|F.words[H];return this.strip()},c.prototype.ior=function(F){return n((this.negative|F.negative)===0),this.iuor(F)},c.prototype.or=function(F){return this.length>F.length?this.clone().ior(F):F.clone().ior(this)},c.prototype.uor=function(F){return this.length>F.length?this.clone().iuor(F):F.clone().iuor(this)},c.prototype.iuand=function(F){var H;this.length>F.length?H=F:H=this;for(var X=0;X<H.length;X++)this.words[X]=this.words[X]&F.words[X];return this.length=H.length,this.strip()},c.prototype.iand=function(F){return n((this.negative|F.negative)===0),this.iuand(F)},c.prototype.and=function(F){return this.length>F.length?this.clone().iand(F):F.clone().iand(this)},c.prototype.uand=function(F){return this.length>F.length?this.clone().iuand(F):F.clone().iuand(this)},c.prototype.iuxor=function(F){var H,X;this.length>F.length?(H=this,X=F):(H=F,X=this);for(var q=0;q<X.length;q++)this.words[q]=H.words[q]^X.words[q];if(this!==H)for(;q<H.length;q++)this.words[q]=H.words[q];return this.length=H.length,this.strip()},c.prototype.ixor=function(F){return n((this.negative|F.negative)===0),this.iuxor(F)},c.prototype.xor=function(F){return this.length>F.length?this.clone().ixor(F):F.clone().ixor(this)},c.prototype.uxor=function(F){return this.length>F.length?this.clone().iuxor(F):F.clone().iuxor(this)},c.prototype.inotn=function(F){n(typeof F=="number"&&F>=0);var H=Math.ceil(F/26)|0,X=F%26;this._expand(H),X>0&&H--;for(var q=0;q<H;q++)this.words[q]=~this.words[q]&67108863;return X>0&&(this.words[q]=~this.words[q]&67108863>>26-X),this.strip()},c.prototype.notn=function(F){return this.clone().inotn(F)},c.prototype.setn=function(F,H){n(typeof F=="number"&&F>=0);var X=F/26|0,q=F%26;return this._expand(X+1),H?this.words[X]=this.words[X]|1<<q:this.words[X]=this.words[X]&~(1<<q),this.strip()},c.prototype.iadd=function(F){var H;if(this.negative!==0&&F.negative===0)return this.negative=0,H=this.isub(F),this.negative^=1,this._normSign();if(this.negative===0&&F.negative!==0)return F.negative=0,H=this.isub(F),F.negative=1,H._normSign();var X,q;this.length>F.length?(X=this,q=F):(X=F,q=this);for(var ne=0,oe=0;oe<q.length;oe++)H=(X.words[oe]|0)+(q.words[oe]|0)+ne,this.words[oe]=H&67108863,ne=H>>>26;for(;ne!==0&&oe<X.length;oe++)H=(X.words[oe]|0)+ne,this.words[oe]=H&67108863,ne=H>>>26;if(this.length=X.length,ne!==0)this.words[this.length]=ne,this.length++;else if(X!==this)for(;oe<X.length;oe++)this.words[oe]=X.words[oe];return this},c.prototype.add=function(F){var H;return F.negative!==0&&this.negative===0?(F.negative=0,H=this.sub(F),F.negative^=1,H):F.negative===0&&this.negative!==0?(this.negative=0,H=F.sub(this),this.negative=1,H):this.length>F.length?this.clone().iadd(F):F.clone().iadd(this)},c.prototype.isub=function(F){if(F.negative!==0){F.negative=0;var H=this.iadd(F);return F.negative=1,H._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(F),this.negative=1,this._normSign();var X=this.cmp(F);if(X===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,ne;X>0?(q=this,ne=F):(q=F,ne=this);for(var oe=0,ve=0;ve<ne.length;ve++)H=(q.words[ve]|0)-(ne.words[ve]|0)+oe,oe=H>>26,this.words[ve]=H&67108863;for(;oe!==0&&ve<q.length;ve++)H=(q.words[ve]|0)+oe,oe=H>>26,this.words[ve]=H&67108863;if(oe===0&&ve<q.length&&q!==this)for(;ve<q.length;ve++)this.words[ve]=q.words[ve];return this.length=Math.max(this.length,ve),q!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(F){return this.clone().isub(F)};function M(B,F,H){H.negative=F.negative^B.negative;var X=B.length+F.length|0;H.length=X,X=X-1|0;var q=B.words[0]|0,ne=F.words[0]|0,oe=q*ne,ve=oe&67108863,J=oe/67108864|0;H.words[0]=ve;for(var Y=1;Y<X;Y++){for(var j=J>>>26,K=J&67108863,te=Math.min(Y,F.length-1),se=Math.max(0,Y-B.length+1);se<=te;se++){var Q=Y-se|0;q=B.words[Q]|0,ne=F.words[se]|0,oe=q*ne+K,j+=oe/67108864|0,K=oe&67108863}H.words[Y]=K|0,J=j|0}return J!==0?H.words[Y]=J|0:H.length--,H.strip()}var C=function(F,H,X){var q=F.words,ne=H.words,oe=X.words,ve=0,J,Y,j,K=q[0]|0,te=K&8191,se=K>>>13,Q=q[1]|0,ee=Q&8191,le=Q>>>13,ie=q[2]|0,he=ie&8191,xe=ie>>>13,Se=q[3]|0,Ee=Se&8191,Ne=Se>>>13,He=q[4]|0,Ce=He&8191,be=He>>>13,we=q[5]|0,ke=we&8191,Fe=we>>>13,Pe=q[6]|0,Ge=Pe&8191,nt=Pe>>>13,qe=q[7]|0,Ke=qe&8191,$e=qe>>>13,vt=q[8]|0,yt=vt&8191,mt=vt>>>13,Et=q[9]|0,Xe=Et&8191,Ue=Et>>>13,Be=ne[0]|0,rt=Be&8191,it=Be>>>13,Ye=ne[1]|0,De=Ye&8191,Te=Ye>>>13,fe=ne[2]|0,me=fe&8191,Re=fe>>>13,Oe=ne[3]|0,st=Oe&8191,ut=Oe>>>13,Tt=ne[4]|0,It=Tt&8191,Gt=Tt>>>13,jt=ne[5]|0,Pt=jt&8191,Qt=jt>>>13,or=ne[6]|0,zr=or&8191,bt=or>>>13,Jt=ne[7]|0,Zt=Jt&8191,Ar=Jt>>>13,dr=ne[8]|0,ht=dr&8191,ct=dr>>>13,wt=ne[9]|0,St=wt&8191,Rt=wt>>>13;X.negative=F.negative^H.negative,X.length=19,J=Math.imul(te,rt),Y=Math.imul(te,it),Y=Y+Math.imul(se,rt)|0,j=Math.imul(se,it);var Ct=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,J=Math.imul(ee,rt),Y=Math.imul(ee,it),Y=Y+Math.imul(le,rt)|0,j=Math.imul(le,it),J=J+Math.imul(te,De)|0,Y=Y+Math.imul(te,Te)|0,Y=Y+Math.imul(se,De)|0,j=j+Math.imul(se,Te)|0;var Ot=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,J=Math.imul(he,rt),Y=Math.imul(he,it),Y=Y+Math.imul(xe,rt)|0,j=Math.imul(xe,it),J=J+Math.imul(ee,De)|0,Y=Y+Math.imul(ee,Te)|0,Y=Y+Math.imul(le,De)|0,j=j+Math.imul(le,Te)|0,J=J+Math.imul(te,me)|0,Y=Y+Math.imul(te,Re)|0,Y=Y+Math.imul(se,me)|0,j=j+Math.imul(se,Re)|0;var Wt=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,J=Math.imul(Ee,rt),Y=Math.imul(Ee,it),Y=Y+Math.imul(Ne,rt)|0,j=Math.imul(Ne,it),J=J+Math.imul(he,De)|0,Y=Y+Math.imul(he,Te)|0,Y=Y+Math.imul(xe,De)|0,j=j+Math.imul(xe,Te)|0,J=J+Math.imul(ee,me)|0,Y=Y+Math.imul(ee,Re)|0,Y=Y+Math.imul(le,me)|0,j=j+Math.imul(le,Re)|0,J=J+Math.imul(te,st)|0,Y=Y+Math.imul(te,ut)|0,Y=Y+Math.imul(se,st)|0,j=j+Math.imul(se,ut)|0;var er=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(er>>>26)|0,er&=67108863,J=Math.imul(Ce,rt),Y=Math.imul(Ce,it),Y=Y+Math.imul(be,rt)|0,j=Math.imul(be,it),J=J+Math.imul(Ee,De)|0,Y=Y+Math.imul(Ee,Te)|0,Y=Y+Math.imul(Ne,De)|0,j=j+Math.imul(Ne,Te)|0,J=J+Math.imul(he,me)|0,Y=Y+Math.imul(he,Re)|0,Y=Y+Math.imul(xe,me)|0,j=j+Math.imul(xe,Re)|0,J=J+Math.imul(ee,st)|0,Y=Y+Math.imul(ee,ut)|0,Y=Y+Math.imul(le,st)|0,j=j+Math.imul(le,ut)|0,J=J+Math.imul(te,It)|0,Y=Y+Math.imul(te,Gt)|0,Y=Y+Math.imul(se,It)|0,j=j+Math.imul(se,Gt)|0;var $t=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+($t>>>26)|0,$t&=67108863,J=Math.imul(ke,rt),Y=Math.imul(ke,it),Y=Y+Math.imul(Fe,rt)|0,j=Math.imul(Fe,it),J=J+Math.imul(Ce,De)|0,Y=Y+Math.imul(Ce,Te)|0,Y=Y+Math.imul(be,De)|0,j=j+Math.imul(be,Te)|0,J=J+Math.imul(Ee,me)|0,Y=Y+Math.imul(Ee,Re)|0,Y=Y+Math.imul(Ne,me)|0,j=j+Math.imul(Ne,Re)|0,J=J+Math.imul(he,st)|0,Y=Y+Math.imul(he,ut)|0,Y=Y+Math.imul(xe,st)|0,j=j+Math.imul(xe,ut)|0,J=J+Math.imul(ee,It)|0,Y=Y+Math.imul(ee,Gt)|0,Y=Y+Math.imul(le,It)|0,j=j+Math.imul(le,Gt)|0,J=J+Math.imul(te,Pt)|0,Y=Y+Math.imul(te,Qt)|0,Y=Y+Math.imul(se,Pt)|0,j=j+Math.imul(se,Qt)|0;var sr=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(sr>>>26)|0,sr&=67108863,J=Math.imul(Ge,rt),Y=Math.imul(Ge,it),Y=Y+Math.imul(nt,rt)|0,j=Math.imul(nt,it),J=J+Math.imul(ke,De)|0,Y=Y+Math.imul(ke,Te)|0,Y=Y+Math.imul(Fe,De)|0,j=j+Math.imul(Fe,Te)|0,J=J+Math.imul(Ce,me)|0,Y=Y+Math.imul(Ce,Re)|0,Y=Y+Math.imul(be,me)|0,j=j+Math.imul(be,Re)|0,J=J+Math.imul(Ee,st)|0,Y=Y+Math.imul(Ee,ut)|0,Y=Y+Math.imul(Ne,st)|0,j=j+Math.imul(Ne,ut)|0,J=J+Math.imul(he,It)|0,Y=Y+Math.imul(he,Gt)|0,Y=Y+Math.imul(xe,It)|0,j=j+Math.imul(xe,Gt)|0,J=J+Math.imul(ee,Pt)|0,Y=Y+Math.imul(ee,Qt)|0,Y=Y+Math.imul(le,Pt)|0,j=j+Math.imul(le,Qt)|0,J=J+Math.imul(te,zr)|0,Y=Y+Math.imul(te,bt)|0,Y=Y+Math.imul(se,zr)|0,j=j+Math.imul(se,bt)|0;var Cr=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,J=Math.imul(Ke,rt),Y=Math.imul(Ke,it),Y=Y+Math.imul($e,rt)|0,j=Math.imul($e,it),J=J+Math.imul(Ge,De)|0,Y=Y+Math.imul(Ge,Te)|0,Y=Y+Math.imul(nt,De)|0,j=j+Math.imul(nt,Te)|0,J=J+Math.imul(ke,me)|0,Y=Y+Math.imul(ke,Re)|0,Y=Y+Math.imul(Fe,me)|0,j=j+Math.imul(Fe,Re)|0,J=J+Math.imul(Ce,st)|0,Y=Y+Math.imul(Ce,ut)|0,Y=Y+Math.imul(be,st)|0,j=j+Math.imul(be,ut)|0,J=J+Math.imul(Ee,It)|0,Y=Y+Math.imul(Ee,Gt)|0,Y=Y+Math.imul(Ne,It)|0,j=j+Math.imul(Ne,Gt)|0,J=J+Math.imul(he,Pt)|0,Y=Y+Math.imul(he,Qt)|0,Y=Y+Math.imul(xe,Pt)|0,j=j+Math.imul(xe,Qt)|0,J=J+Math.imul(ee,zr)|0,Y=Y+Math.imul(ee,bt)|0,Y=Y+Math.imul(le,zr)|0,j=j+Math.imul(le,bt)|0,J=J+Math.imul(te,Zt)|0,Y=Y+Math.imul(te,Ar)|0,Y=Y+Math.imul(se,Zt)|0,j=j+Math.imul(se,Ar)|0;var je=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(je>>>26)|0,je&=67108863,J=Math.imul(yt,rt),Y=Math.imul(yt,it),Y=Y+Math.imul(mt,rt)|0,j=Math.imul(mt,it),J=J+Math.imul(Ke,De)|0,Y=Y+Math.imul(Ke,Te)|0,Y=Y+Math.imul($e,De)|0,j=j+Math.imul($e,Te)|0,J=J+Math.imul(Ge,me)|0,Y=Y+Math.imul(Ge,Re)|0,Y=Y+Math.imul(nt,me)|0,j=j+Math.imul(nt,Re)|0,J=J+Math.imul(ke,st)|0,Y=Y+Math.imul(ke,ut)|0,Y=Y+Math.imul(Fe,st)|0,j=j+Math.imul(Fe,ut)|0,J=J+Math.imul(Ce,It)|0,Y=Y+Math.imul(Ce,Gt)|0,Y=Y+Math.imul(be,It)|0,j=j+Math.imul(be,Gt)|0,J=J+Math.imul(Ee,Pt)|0,Y=Y+Math.imul(Ee,Qt)|0,Y=Y+Math.imul(Ne,Pt)|0,j=j+Math.imul(Ne,Qt)|0,J=J+Math.imul(he,zr)|0,Y=Y+Math.imul(he,bt)|0,Y=Y+Math.imul(xe,zr)|0,j=j+Math.imul(xe,bt)|0,J=J+Math.imul(ee,Zt)|0,Y=Y+Math.imul(ee,Ar)|0,Y=Y+Math.imul(le,Zt)|0,j=j+Math.imul(le,Ar)|0,J=J+Math.imul(te,ht)|0,Y=Y+Math.imul(te,ct)|0,Y=Y+Math.imul(se,ht)|0,j=j+Math.imul(se,ct)|0;var We=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(We>>>26)|0,We&=67108863,J=Math.imul(Xe,rt),Y=Math.imul(Xe,it),Y=Y+Math.imul(Ue,rt)|0,j=Math.imul(Ue,it),J=J+Math.imul(yt,De)|0,Y=Y+Math.imul(yt,Te)|0,Y=Y+Math.imul(mt,De)|0,j=j+Math.imul(mt,Te)|0,J=J+Math.imul(Ke,me)|0,Y=Y+Math.imul(Ke,Re)|0,Y=Y+Math.imul($e,me)|0,j=j+Math.imul($e,Re)|0,J=J+Math.imul(Ge,st)|0,Y=Y+Math.imul(Ge,ut)|0,Y=Y+Math.imul(nt,st)|0,j=j+Math.imul(nt,ut)|0,J=J+Math.imul(ke,It)|0,Y=Y+Math.imul(ke,Gt)|0,Y=Y+Math.imul(Fe,It)|0,j=j+Math.imul(Fe,Gt)|0,J=J+Math.imul(Ce,Pt)|0,Y=Y+Math.imul(Ce,Qt)|0,Y=Y+Math.imul(be,Pt)|0,j=j+Math.imul(be,Qt)|0,J=J+Math.imul(Ee,zr)|0,Y=Y+Math.imul(Ee,bt)|0,Y=Y+Math.imul(Ne,zr)|0,j=j+Math.imul(Ne,bt)|0,J=J+Math.imul(he,Zt)|0,Y=Y+Math.imul(he,Ar)|0,Y=Y+Math.imul(xe,Zt)|0,j=j+Math.imul(xe,Ar)|0,J=J+Math.imul(ee,ht)|0,Y=Y+Math.imul(ee,ct)|0,Y=Y+Math.imul(le,ht)|0,j=j+Math.imul(le,ct)|0,J=J+Math.imul(te,St)|0,Y=Y+Math.imul(te,Rt)|0,Y=Y+Math.imul(se,St)|0,j=j+Math.imul(se,Rt)|0;var kt=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(kt>>>26)|0,kt&=67108863,J=Math.imul(Xe,De),Y=Math.imul(Xe,Te),Y=Y+Math.imul(Ue,De)|0,j=Math.imul(Ue,Te),J=J+Math.imul(yt,me)|0,Y=Y+Math.imul(yt,Re)|0,Y=Y+Math.imul(mt,me)|0,j=j+Math.imul(mt,Re)|0,J=J+Math.imul(Ke,st)|0,Y=Y+Math.imul(Ke,ut)|0,Y=Y+Math.imul($e,st)|0,j=j+Math.imul($e,ut)|0,J=J+Math.imul(Ge,It)|0,Y=Y+Math.imul(Ge,Gt)|0,Y=Y+Math.imul(nt,It)|0,j=j+Math.imul(nt,Gt)|0,J=J+Math.imul(ke,Pt)|0,Y=Y+Math.imul(ke,Qt)|0,Y=Y+Math.imul(Fe,Pt)|0,j=j+Math.imul(Fe,Qt)|0,J=J+Math.imul(Ce,zr)|0,Y=Y+Math.imul(Ce,bt)|0,Y=Y+Math.imul(be,zr)|0,j=j+Math.imul(be,bt)|0,J=J+Math.imul(Ee,Zt)|0,Y=Y+Math.imul(Ee,Ar)|0,Y=Y+Math.imul(Ne,Zt)|0,j=j+Math.imul(Ne,Ar)|0,J=J+Math.imul(he,ht)|0,Y=Y+Math.imul(he,ct)|0,Y=Y+Math.imul(xe,ht)|0,j=j+Math.imul(xe,ct)|0,J=J+Math.imul(ee,St)|0,Y=Y+Math.imul(ee,Rt)|0,Y=Y+Math.imul(le,St)|0,j=j+Math.imul(le,Rt)|0;var zt=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(zt>>>26)|0,zt&=67108863,J=Math.imul(Xe,me),Y=Math.imul(Xe,Re),Y=Y+Math.imul(Ue,me)|0,j=Math.imul(Ue,Re),J=J+Math.imul(yt,st)|0,Y=Y+Math.imul(yt,ut)|0,Y=Y+Math.imul(mt,st)|0,j=j+Math.imul(mt,ut)|0,J=J+Math.imul(Ke,It)|0,Y=Y+Math.imul(Ke,Gt)|0,Y=Y+Math.imul($e,It)|0,j=j+Math.imul($e,Gt)|0,J=J+Math.imul(Ge,Pt)|0,Y=Y+Math.imul(Ge,Qt)|0,Y=Y+Math.imul(nt,Pt)|0,j=j+Math.imul(nt,Qt)|0,J=J+Math.imul(ke,zr)|0,Y=Y+Math.imul(ke,bt)|0,Y=Y+Math.imul(Fe,zr)|0,j=j+Math.imul(Fe,bt)|0,J=J+Math.imul(Ce,Zt)|0,Y=Y+Math.imul(Ce,Ar)|0,Y=Y+Math.imul(be,Zt)|0,j=j+Math.imul(be,Ar)|0,J=J+Math.imul(Ee,ht)|0,Y=Y+Math.imul(Ee,ct)|0,Y=Y+Math.imul(Ne,ht)|0,j=j+Math.imul(Ne,ct)|0,J=J+Math.imul(he,St)|0,Y=Y+Math.imul(he,Rt)|0,Y=Y+Math.imul(xe,St)|0,j=j+Math.imul(xe,Rt)|0;var Xt=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,J=Math.imul(Xe,st),Y=Math.imul(Xe,ut),Y=Y+Math.imul(Ue,st)|0,j=Math.imul(Ue,ut),J=J+Math.imul(yt,It)|0,Y=Y+Math.imul(yt,Gt)|0,Y=Y+Math.imul(mt,It)|0,j=j+Math.imul(mt,Gt)|0,J=J+Math.imul(Ke,Pt)|0,Y=Y+Math.imul(Ke,Qt)|0,Y=Y+Math.imul($e,Pt)|0,j=j+Math.imul($e,Qt)|0,J=J+Math.imul(Ge,zr)|0,Y=Y+Math.imul(Ge,bt)|0,Y=Y+Math.imul(nt,zr)|0,j=j+Math.imul(nt,bt)|0,J=J+Math.imul(ke,Zt)|0,Y=Y+Math.imul(ke,Ar)|0,Y=Y+Math.imul(Fe,Zt)|0,j=j+Math.imul(Fe,Ar)|0,J=J+Math.imul(Ce,ht)|0,Y=Y+Math.imul(Ce,ct)|0,Y=Y+Math.imul(be,ht)|0,j=j+Math.imul(be,ct)|0,J=J+Math.imul(Ee,St)|0,Y=Y+Math.imul(Ee,Rt)|0,Y=Y+Math.imul(Ne,St)|0,j=j+Math.imul(Ne,Rt)|0;var lr=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(lr>>>26)|0,lr&=67108863,J=Math.imul(Xe,It),Y=Math.imul(Xe,Gt),Y=Y+Math.imul(Ue,It)|0,j=Math.imul(Ue,Gt),J=J+Math.imul(yt,Pt)|0,Y=Y+Math.imul(yt,Qt)|0,Y=Y+Math.imul(mt,Pt)|0,j=j+Math.imul(mt,Qt)|0,J=J+Math.imul(Ke,zr)|0,Y=Y+Math.imul(Ke,bt)|0,Y=Y+Math.imul($e,zr)|0,j=j+Math.imul($e,bt)|0,J=J+Math.imul(Ge,Zt)|0,Y=Y+Math.imul(Ge,Ar)|0,Y=Y+Math.imul(nt,Zt)|0,j=j+Math.imul(nt,Ar)|0,J=J+Math.imul(ke,ht)|0,Y=Y+Math.imul(ke,ct)|0,Y=Y+Math.imul(Fe,ht)|0,j=j+Math.imul(Fe,ct)|0,J=J+Math.imul(Ce,St)|0,Y=Y+Math.imul(Ce,Rt)|0,Y=Y+Math.imul(be,St)|0,j=j+Math.imul(be,Rt)|0;var cr=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(cr>>>26)|0,cr&=67108863,J=Math.imul(Xe,Pt),Y=Math.imul(Xe,Qt),Y=Y+Math.imul(Ue,Pt)|0,j=Math.imul(Ue,Qt),J=J+Math.imul(yt,zr)|0,Y=Y+Math.imul(yt,bt)|0,Y=Y+Math.imul(mt,zr)|0,j=j+Math.imul(mt,bt)|0,J=J+Math.imul(Ke,Zt)|0,Y=Y+Math.imul(Ke,Ar)|0,Y=Y+Math.imul($e,Zt)|0,j=j+Math.imul($e,Ar)|0,J=J+Math.imul(Ge,ht)|0,Y=Y+Math.imul(Ge,ct)|0,Y=Y+Math.imul(nt,ht)|0,j=j+Math.imul(nt,ct)|0,J=J+Math.imul(ke,St)|0,Y=Y+Math.imul(ke,Rt)|0,Y=Y+Math.imul(Fe,St)|0,j=j+Math.imul(Fe,Rt)|0;var nr=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(nr>>>26)|0,nr&=67108863,J=Math.imul(Xe,zr),Y=Math.imul(Xe,bt),Y=Y+Math.imul(Ue,zr)|0,j=Math.imul(Ue,bt),J=J+Math.imul(yt,Zt)|0,Y=Y+Math.imul(yt,Ar)|0,Y=Y+Math.imul(mt,Zt)|0,j=j+Math.imul(mt,Ar)|0,J=J+Math.imul(Ke,ht)|0,Y=Y+Math.imul(Ke,ct)|0,Y=Y+Math.imul($e,ht)|0,j=j+Math.imul($e,ct)|0,J=J+Math.imul(Ge,St)|0,Y=Y+Math.imul(Ge,Rt)|0,Y=Y+Math.imul(nt,St)|0,j=j+Math.imul(nt,Rt)|0;var Bt=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,J=Math.imul(Xe,Zt),Y=Math.imul(Xe,Ar),Y=Y+Math.imul(Ue,Zt)|0,j=Math.imul(Ue,Ar),J=J+Math.imul(yt,ht)|0,Y=Y+Math.imul(yt,ct)|0,Y=Y+Math.imul(mt,ht)|0,j=j+Math.imul(mt,ct)|0,J=J+Math.imul(Ke,St)|0,Y=Y+Math.imul(Ke,Rt)|0,Y=Y+Math.imul($e,St)|0,j=j+Math.imul($e,Rt)|0;var vr=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(vr>>>26)|0,vr&=67108863,J=Math.imul(Xe,ht),Y=Math.imul(Xe,ct),Y=Y+Math.imul(Ue,ht)|0,j=Math.imul(Ue,ct),J=J+Math.imul(yt,St)|0,Y=Y+Math.imul(yt,Rt)|0,Y=Y+Math.imul(mt,St)|0,j=j+Math.imul(mt,Rt)|0;var yr=(ve+J|0)+((Y&8191)<<13)|0;ve=(j+(Y>>>13)|0)+(yr>>>26)|0,yr&=67108863,J=Math.imul(Xe,St),Y=Math.imul(Xe,Rt),Y=Y+Math.imul(Ue,St)|0,j=Math.imul(Ue,Rt);var mr=(ve+J|0)+((Y&8191)<<13)|0;return ve=(j+(Y>>>13)|0)+(mr>>>26)|0,mr&=67108863,oe[0]=Ct,oe[1]=Ot,oe[2]=Wt,oe[3]=er,oe[4]=$t,oe[5]=sr,oe[6]=Cr,oe[7]=je,oe[8]=We,oe[9]=kt,oe[10]=zt,oe[11]=Xt,oe[12]=lr,oe[13]=cr,oe[14]=nr,oe[15]=Bt,oe[16]=vr,oe[17]=yr,oe[18]=mr,ve!==0&&(oe[19]=ve,X.length++),X};Math.imul||(C=M);function m(B,F,H){H.negative=F.negative^B.negative,H.length=B.length+F.length;for(var X=0,q=0,ne=0;ne<H.length-1;ne++){var oe=q;q=0;for(var ve=X&67108863,J=Math.min(ne,F.length-1),Y=Math.max(0,ne-B.length+1);Y<=J;Y++){var j=ne-Y,K=B.words[j]|0,te=F.words[Y]|0,se=K*te,Q=se&67108863;oe=oe+(se/67108864|0)|0,Q=Q+ve|0,ve=Q&67108863,oe=oe+(Q>>>26)|0,q+=oe>>>26,oe&=67108863}H.words[ne]=ve,X=oe,oe=q}return X!==0?H.words[ne]=X:H.length--,H.strip()}function S(B,F,H){var X=new x;return X.mulp(B,F,H)}c.prototype.mulTo=function(F,H){var X,q=this.length+F.length;return this.length===10&&F.length===10?X=C(this,F,H):q<63?X=M(this,F,H):q<1024?X=m(this,F,H):X=S(this,F,H),X};function x(B,F){this.x=B,this.y=F}x.prototype.makeRBT=function(F){for(var H=new Array(F),X=c.prototype._countBits(F)-1,q=0;q<F;q++)H[q]=this.revBin(q,X,F);return H},x.prototype.revBin=function(F,H,X){if(F===0||F===X-1)return F;for(var q=0,ne=0;ne<H;ne++)q|=(F&1)<<H-ne-1,F>>=1;return q},x.prototype.permute=function(F,H,X,q,ne,oe){for(var ve=0;ve<oe;ve++)q[ve]=H[F[ve]],ne[ve]=X[F[ve]]},x.prototype.transform=function(F,H,X,q,ne,oe){this.permute(oe,F,H,X,q,ne);for(var ve=1;ve<ne;ve<<=1)for(var J=ve<<1,Y=Math.cos(2*Math.PI/J),j=Math.sin(2*Math.PI/J),K=0;K<ne;K+=J)for(var te=Y,se=j,Q=0;Q<ve;Q++){var ee=X[K+Q],le=q[K+Q],ie=X[K+Q+ve],he=q[K+Q+ve],xe=te*ie-se*he;he=te*he+se*ie,ie=xe,X[K+Q]=ee+ie,q[K+Q]=le+he,X[K+Q+ve]=ee-ie,q[K+Q+ve]=le-he,Q!==J&&(xe=Y*te-j*se,se=Y*se+j*te,te=xe)}},x.prototype.guessLen13b=function(F,H){var X=Math.max(H,F)|1,q=X&1,ne=0;for(X=X/2|0;X;X=X>>>1)ne++;return 1<<ne+1+q},x.prototype.conjugate=function(F,H,X){if(!(X<=1))for(var q=0;q<X/2;q++){var ne=F[q];F[q]=F[X-q-1],F[X-q-1]=ne,ne=H[q],H[q]=-H[X-q-1],H[X-q-1]=-ne}},x.prototype.normalize13b=function(F,H){for(var X=0,q=0;q<H/2;q++){var ne=Math.round(F[2*q+1]/H)*8192+Math.round(F[2*q]/H)+X;F[q]=ne&67108863,ne<67108864?X=0:X=ne/67108864|0}return F},x.prototype.convert13b=function(F,H,X,q){for(var ne=0,oe=0;oe<H;oe++)ne=ne+(F[oe]|0),X[2*oe]=ne&8191,ne=ne>>>13,X[2*oe+1]=ne&8191,ne=ne>>>13;for(oe=2*H;oe<q;++oe)X[oe]=0;n(ne===0),n((ne&-8192)===0)},x.prototype.stub=function(F){for(var H=new Array(F),X=0;X<F;X++)H[X]=0;return H},x.prototype.mulp=function(F,H,X){var q=2*this.guessLen13b(F.length,H.length),ne=this.makeRBT(q),oe=this.stub(q),ve=new Array(q),J=new Array(q),Y=new Array(q),j=new Array(q),K=new Array(q),te=new Array(q),se=X.words;se.length=q,this.convert13b(F.words,F.length,ve,q),this.convert13b(H.words,H.length,j,q),this.transform(ve,oe,J,Y,q,ne),this.transform(j,oe,K,te,q,ne);for(var Q=0;Q<q;Q++){var ee=J[Q]*K[Q]-Y[Q]*te[Q];Y[Q]=J[Q]*te[Q]+Y[Q]*K[Q],J[Q]=ee}return this.conjugate(J,Y,q),this.transform(J,Y,se,oe,q,ne),this.conjugate(se,oe,q),this.normalize13b(se,q),X.negative=F.negative^H.negative,X.length=F.length+H.length,X.strip()},c.prototype.mul=function(F){var H=new c(null);return H.words=new Array(this.length+F.length),this.mulTo(F,H)},c.prototype.mulf=function(F){var H=new c(null);return H.words=new Array(this.length+F.length),S(this,F,H)},c.prototype.imul=function(F){return this.clone().mulTo(F,this)},c.prototype.imuln=function(F){n(typeof F=="number"),n(F<67108864);for(var H=0,X=0;X<this.length;X++){var q=(this.words[X]|0)*F,ne=(q&67108863)+(H&67108863);H>>=26,H+=q/67108864|0,H+=ne>>>26,this.words[X]=ne&67108863}return H!==0&&(this.words[X]=H,this.length++),this},c.prototype.muln=function(F){return this.clone().imuln(F)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(F){var H=A(F);if(H.length===0)return new c(1);for(var X=this,q=0;q<H.length&&H[q]===0;q++,X=X.sqr());if(++q<H.length)for(var ne=X.sqr();q<H.length;q++,ne=ne.sqr())H[q]!==0&&(X=X.mul(ne));return X},c.prototype.iushln=function(F){n(typeof F=="number"&&F>=0);var H=F%26,X=(F-H)/26,q=67108863>>>26-H<<26-H,ne;if(H!==0){var oe=0;for(ne=0;ne<this.length;ne++){var ve=this.words[ne]&q,J=(this.words[ne]|0)-ve<<H;this.words[ne]=J|oe,oe=ve>>>26-H}oe&&(this.words[ne]=oe,this.length++)}if(X!==0){for(ne=this.length-1;ne>=0;ne--)this.words[ne+X]=this.words[ne];for(ne=0;ne<X;ne++)this.words[ne]=0;this.length+=X}return this.strip()},c.prototype.ishln=function(F){return n(this.negative===0),this.iushln(F)},c.prototype.iushrn=function(F,H,X){n(typeof F=="number"&&F>=0);var q;H?q=(H-H%26)/26:q=0;var ne=F%26,oe=Math.min((F-ne)/26,this.length),ve=67108863^67108863>>>ne<<ne,J=X;if(q-=oe,q=Math.max(0,q),J){for(var Y=0;Y<oe;Y++)J.words[Y]=this.words[Y];J.length=oe}if(oe!==0)if(this.length>oe)for(this.length-=oe,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+oe];else this.words[0]=0,this.length=1;var j=0;for(Y=this.length-1;Y>=0&&(j!==0||Y>=q);Y--){var K=this.words[Y]|0;this.words[Y]=j<<26-ne|K>>>ne,j=K&ve}return J&&j!==0&&(J.words[J.length++]=j),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(F,H,X){return n(this.negative===0),this.iushrn(F,H,X)},c.prototype.shln=function(F){return this.clone().ishln(F)},c.prototype.ushln=function(F){return this.clone().iushln(F)},c.prototype.shrn=function(F){return this.clone().ishrn(F)},c.prototype.ushrn=function(F){return this.clone().iushrn(F)},c.prototype.testn=function(F){n(typeof F=="number"&&F>=0);var H=F%26,X=(F-H)/26,q=1<<H;if(this.length<=X)return!1;var ne=this.words[X];return!!(ne&q)},c.prototype.imaskn=function(F){n(typeof F=="number"&&F>=0);var H=F%26,X=(F-H)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=X)return this;if(H!==0&&X++,this.length=Math.min(X,this.length),H!==0){var q=67108863^67108863>>>H<<H;this.words[this.length-1]&=q}return this.strip()},c.prototype.maskn=function(F){return this.clone().imaskn(F)},c.prototype.iaddn=function(F){return n(typeof F=="number"),n(F<67108864),F<0?this.isubn(-F):this.negative!==0?this.length===1&&(this.words[0]|0)<F?(this.words[0]=F-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(F),this.negative=1,this):this._iaddn(F)},c.prototype._iaddn=function(F){this.words[0]+=F;for(var H=0;H<this.length&&this.words[H]>=67108864;H++)this.words[H]-=67108864,H===this.length-1?this.words[H+1]=1:this.words[H+1]++;return this.length=Math.max(this.length,H+1),this},c.prototype.isubn=function(F){if(n(typeof F=="number"),n(F<67108864),F<0)return this.iaddn(-F);if(this.negative!==0)return this.negative=0,this.iaddn(F),this.negative=1,this;if(this.words[0]-=F,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var H=0;H<this.length&&this.words[H]<0;H++)this.words[H]+=67108864,this.words[H+1]-=1;return this.strip()},c.prototype.addn=function(F){return this.clone().iaddn(F)},c.prototype.subn=function(F){return this.clone().isubn(F)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(F,H,X){var q=F.length+X,ne;this._expand(q);var oe,ve=0;for(ne=0;ne<F.length;ne++){oe=(this.words[ne+X]|0)+ve;var J=(F.words[ne]|0)*H;oe-=J&67108863,ve=(oe>>26)-(J/67108864|0),this.words[ne+X]=oe&67108863}for(;ne<this.length-X;ne++)oe=(this.words[ne+X]|0)+ve,ve=oe>>26,this.words[ne+X]=oe&67108863;if(ve===0)return this.strip();for(n(ve===-1),ve=0,ne=0;ne<this.length;ne++)oe=-(this.words[ne]|0)+ve,ve=oe>>26,this.words[ne]=oe&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(F,H){var X=this.length-F.length,q=this.clone(),ne=F,oe=ne.words[ne.length-1]|0,ve=this._countBits(oe);X=26-ve,X!==0&&(ne=ne.ushln(X),q.iushln(X),oe=ne.words[ne.length-1]|0);var J=q.length-ne.length,Y;if(H!=="mod"){Y=new c(null),Y.length=J+1,Y.words=new Array(Y.length);for(var j=0;j<Y.length;j++)Y.words[j]=0}var K=q.clone()._ishlnsubmul(ne,1,J);K.negative===0&&(q=K,Y&&(Y.words[J]=1));for(var te=J-1;te>=0;te--){var se=(q.words[ne.length+te]|0)*67108864+(q.words[ne.length+te-1]|0);for(se=Math.min(se/oe|0,67108863),q._ishlnsubmul(ne,se,te);q.negative!==0;)se--,q.negative=0,q._ishlnsubmul(ne,1,te),q.isZero()||(q.negative^=1);Y&&(Y.words[te]=se)}return Y&&Y.strip(),q.strip(),H!=="div"&&X!==0&&q.iushrn(X),{div:Y||null,mod:q}},c.prototype.divmod=function(F,H,X){if(n(!F.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var q,ne,oe;return this.negative!==0&&F.negative===0?(oe=this.neg().divmod(F,H),H!=="mod"&&(q=oe.div.neg()),H!=="div"&&(ne=oe.mod.neg(),X&&ne.negative!==0&&ne.iadd(F)),{div:q,mod:ne}):this.negative===0&&F.negative!==0?(oe=this.divmod(F.neg(),H),H!=="mod"&&(q=oe.div.neg()),{div:q,mod:oe.mod}):this.negative&F.negative?(oe=this.neg().divmod(F.neg(),H),H!=="div"&&(ne=oe.mod.neg(),X&&ne.negative!==0&&ne.isub(F)),{div:oe.div,mod:ne}):F.length>this.length||this.cmp(F)<0?{div:new c(0),mod:this}:F.length===1?H==="div"?{div:this.divn(F.words[0]),mod:null}:H==="mod"?{div:null,mod:new c(this.modn(F.words[0]))}:{div:this.divn(F.words[0]),mod:new c(this.modn(F.words[0]))}:this._wordDiv(F,H)},c.prototype.div=function(F){return this.divmod(F,"div",!1).div},c.prototype.mod=function(F){return this.divmod(F,"mod",!1).mod},c.prototype.umod=function(F){return this.divmod(F,"mod",!0).mod},c.prototype.divRound=function(F){var H=this.divmod(F);if(H.mod.isZero())return H.div;var X=H.div.negative!==0?H.mod.isub(F):H.mod,q=F.ushrn(1),ne=F.andln(1),oe=X.cmp(q);return oe<0||ne===1&&oe===0?H.div:H.div.negative!==0?H.div.isubn(1):H.div.iaddn(1)},c.prototype.modn=function(F){n(F<=67108863);for(var H=(1<<26)%F,X=0,q=this.length-1;q>=0;q--)X=(H*X+(this.words[q]|0))%F;return X},c.prototype.idivn=function(F){n(F<=67108863);for(var H=0,X=this.length-1;X>=0;X--){var q=(this.words[X]|0)+H*67108864;this.words[X]=q/F|0,H=q%F}return this.strip()},c.prototype.divn=function(F){return this.clone().idivn(F)},c.prototype.egcd=function(F){n(F.negative===0),n(!F.isZero());var H=this,X=F.clone();H.negative!==0?H=H.umod(F):H=H.clone();for(var q=new c(1),ne=new c(0),oe=new c(0),ve=new c(1),J=0;H.isEven()&&X.isEven();)H.iushrn(1),X.iushrn(1),++J;for(var Y=X.clone(),j=H.clone();!H.isZero();){for(var K=0,te=1;!(H.words[0]&te)&&K<26;++K,te<<=1);if(K>0)for(H.iushrn(K);K-- >0;)(q.isOdd()||ne.isOdd())&&(q.iadd(Y),ne.isub(j)),q.iushrn(1),ne.iushrn(1);for(var se=0,Q=1;!(X.words[0]&Q)&&se<26;++se,Q<<=1);if(se>0)for(X.iushrn(se);se-- >0;)(oe.isOdd()||ve.isOdd())&&(oe.iadd(Y),ve.isub(j)),oe.iushrn(1),ve.iushrn(1);H.cmp(X)>=0?(H.isub(X),q.isub(oe),ne.isub(ve)):(X.isub(H),oe.isub(q),ve.isub(ne))}return{a:oe,b:ve,gcd:X.iushln(J)}},c.prototype._invmp=function(F){n(F.negative===0),n(!F.isZero());var H=this,X=F.clone();H.negative!==0?H=H.umod(F):H=H.clone();for(var q=new c(1),ne=new c(0),oe=X.clone();H.cmpn(1)>0&&X.cmpn(1)>0;){for(var ve=0,J=1;!(H.words[0]&J)&&ve<26;++ve,J<<=1);if(ve>0)for(H.iushrn(ve);ve-- >0;)q.isOdd()&&q.iadd(oe),q.iushrn(1);for(var Y=0,j=1;!(X.words[0]&j)&&Y<26;++Y,j<<=1);if(Y>0)for(X.iushrn(Y);Y-- >0;)ne.isOdd()&&ne.iadd(oe),ne.iushrn(1);H.cmp(X)>=0?(H.isub(X),q.isub(ne)):(X.isub(H),ne.isub(q))}var K;return H.cmpn(1)===0?K=q:K=ne,K.cmpn(0)<0&&K.iadd(F),K},c.prototype.gcd=function(F){if(this.isZero())return F.abs();if(F.isZero())return this.abs();var H=this.clone(),X=F.clone();H.negative=0,X.negative=0;for(var q=0;H.isEven()&&X.isEven();q++)H.iushrn(1),X.iushrn(1);do{for(;H.isEven();)H.iushrn(1);for(;X.isEven();)X.iushrn(1);var ne=H.cmp(X);if(ne<0){var oe=H;H=X,X=oe}else if(ne===0||X.cmpn(1)===0)break;H.isub(X)}while(!0);return X.iushln(q)},c.prototype.invm=function(F){return this.egcd(F).a.umod(F)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(F){return this.words[0]&F},c.prototype.bincn=function(F){n(typeof F=="number");var H=F%26,X=(F-H)/26,q=1<<H;if(this.length<=X)return this._expand(X+1),this.words[X]|=q,this;for(var ne=q,oe=X;ne!==0&&oe<this.length;oe++){var ve=this.words[oe]|0;ve+=ne,ne=ve>>>26,ve&=67108863,this.words[oe]=ve}return ne!==0&&(this.words[oe]=ne,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(F){var H=F<0;if(this.negative!==0&&!H)return-1;if(this.negative===0&&H)return 1;this.strip();var X;if(this.length>1)X=1;else{H&&(F=-F),n(F<=67108863,"Number is too big");var q=this.words[0]|0;X=q===F?0:q<F?-1:1}return this.negative!==0?-X|0:X},c.prototype.cmp=function(F){if(this.negative!==0&&F.negative===0)return-1;if(this.negative===0&&F.negative!==0)return 1;var H=this.ucmp(F);return this.negative!==0?-H|0:H},c.prototype.ucmp=function(F){if(this.length>F.length)return 1;if(this.length<F.length)return-1;for(var H=0,X=this.length-1;X>=0;X--){var q=this.words[X]|0,ne=F.words[X]|0;if(q!==ne){q<ne?H=-1:q>ne&&(H=1);break}}return H},c.prototype.gtn=function(F){return this.cmpn(F)===1},c.prototype.gt=function(F){return this.cmp(F)===1},c.prototype.gten=function(F){return this.cmpn(F)>=0},c.prototype.gte=function(F){return this.cmp(F)>=0},c.prototype.ltn=function(F){return this.cmpn(F)===-1},c.prototype.lt=function(F){return this.cmp(F)===-1},c.prototype.lten=function(F){return this.cmpn(F)<=0},c.prototype.lte=function(F){return this.cmp(F)<=0},c.prototype.eqn=function(F){return this.cmpn(F)===0},c.prototype.eq=function(F){return this.cmp(F)===0},c.red=function(F){return new z(F)},c.prototype.toRed=function(F){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),F.convertTo(this)._forceRed(F)},c.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(F){return this.red=F,this},c.prototype.forceRed=function(F){return n(!this.red,"Already a number in reduction context"),this._forceRed(F)},c.prototype.redAdd=function(F){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,F)},c.prototype.redIAdd=function(F){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,F)},c.prototype.redSub=function(F){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,F)},c.prototype.redISub=function(F){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,F)},c.prototype.redShl=function(F){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,F)},c.prototype.redMul=function(F){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.mul(this,F)},c.prototype.redIMul=function(F){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.imul(this,F)},c.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(F){return n(this.red&&!F.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,F)};var a={k256:null,p224:null,p192:null,p25519:null};function E(B,F){this.name=B,this.p=new c(F,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}E.prototype._tmp=function(){var F=new c(null);return F.words=new Array(Math.ceil(this.n/13)),F},E.prototype.ireduce=function(F){var H=F,X;do this.split(H,this.tmp),H=this.imulK(H),H=H.iadd(this.tmp),X=H.bitLength();while(X>this.n);var q=X<this.n?-1:H.ucmp(this.p);return q===0?(H.words[0]=0,H.length=1):q>0?H.isub(this.p):H.strip!==void 0?H.strip():H._strip(),H},E.prototype.split=function(F,H){F.iushrn(this.n,0,H)},E.prototype.imulK=function(F){return F.imul(this.k)};function w(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(w,E),w.prototype.split=function(F,H){for(var X=4194303,q=Math.min(F.length,9),ne=0;ne<q;ne++)H.words[ne]=F.words[ne];if(H.length=q,F.length<=9){F.words[0]=0,F.length=1;return}var oe=F.words[9];for(H.words[H.length++]=oe&X,ne=10;ne<F.length;ne++){var ve=F.words[ne]|0;F.words[ne-10]=(ve&X)<<4|oe>>>22,oe=ve}oe>>>=22,F.words[ne-10]=oe,oe===0&&F.length>10?F.length-=10:F.length-=9},w.prototype.imulK=function(F){F.words[F.length]=0,F.words[F.length+1]=0,F.length+=2;for(var H=0,X=0;X<F.length;X++){var q=F.words[X]|0;H+=q*977,F.words[X]=H&67108863,H=q*64+(H/67108864|0)}return F.words[F.length-1]===0&&(F.length--,F.words[F.length-1]===0&&F.length--),F};function k(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(k,E);function I(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(I,E);function U(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(U,E),U.prototype.imulK=function(F){for(var H=0,X=0;X<F.length;X++){var q=(F.words[X]|0)*19+H,ne=q&67108863;q>>>=26,F.words[X]=ne,H=q}return H!==0&&(F.words[F.length++]=H),F},c._prime=function(F){if(a[F])return a[F];var H;if(F==="k256")H=new w;else if(F==="p224")H=new k;else if(F==="p192")H=new I;else if(F==="p25519")H=new U;else throw new Error("Unknown prime "+F);return a[F]=H,H};function z(B){if(typeof B=="string"){var F=c._prime(B);this.m=F.p,this.prime=F}else n(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}z.prototype._verify1=function(F){n(F.negative===0,"red works only with positives"),n(F.red,"red works only with red numbers")},z.prototype._verify2=function(F,H){n((F.negative|H.negative)===0,"red works only with positives"),n(F.red&&F.red===H.red,"red works only with red numbers")},z.prototype.imod=function(F){return this.prime?this.prime.ireduce(F)._forceRed(this):F.umod(this.m)._forceRed(this)},z.prototype.neg=function(F){return F.isZero()?F.clone():this.m.sub(F)._forceRed(this)},z.prototype.add=function(F,H){this._verify2(F,H);var X=F.add(H);return X.cmp(this.m)>=0&&X.isub(this.m),X._forceRed(this)},z.prototype.iadd=function(F,H){this._verify2(F,H);var X=F.iadd(H);return X.cmp(this.m)>=0&&X.isub(this.m),X},z.prototype.sub=function(F,H){this._verify2(F,H);var X=F.sub(H);return X.cmpn(0)<0&&X.iadd(this.m),X._forceRed(this)},z.prototype.isub=function(F,H){this._verify2(F,H);var X=F.isub(H);return X.cmpn(0)<0&&X.iadd(this.m),X},z.prototype.shl=function(F,H){return this._verify1(F),this.imod(F.ushln(H))},z.prototype.imul=function(F,H){return this._verify2(F,H),this.imod(F.imul(H))},z.prototype.mul=function(F,H){return this._verify2(F,H),this.imod(F.mul(H))},z.prototype.isqr=function(F){return this.imul(F,F.clone())},z.prototype.sqr=function(F){return this.mul(F,F)},z.prototype.sqrt=function(F){if(F.isZero())return F.clone();var H=this.m.andln(3);if(n(H%2===1),H===3){var X=this.m.add(new c(1)).iushrn(2);return this.pow(F,X)}for(var q=this.m.subn(1),ne=0;!q.isZero()&&q.andln(1)===0;)ne++,q.iushrn(1);n(!q.isZero());var oe=new c(1).toRed(this),ve=oe.redNeg(),J=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new c(2*Y*Y).toRed(this);this.pow(Y,J).cmp(ve)!==0;)Y.redIAdd(ve);for(var j=this.pow(Y,q),K=this.pow(F,q.addn(1).iushrn(1)),te=this.pow(F,q),se=ne;te.cmp(oe)!==0;){for(var Q=te,ee=0;Q.cmp(oe)!==0;ee++)Q=Q.redSqr();n(ee<se);var le=this.pow(j,new c(1).iushln(se-ee-1));K=K.redMul(le),j=le.redSqr(),te=te.redMul(j),se=ee}return K},z.prototype.invm=function(F){var H=F._invmp(this.m);return H.negative!==0?(H.negative=0,this.imod(H).redNeg()):this.imod(H)},z.prototype.pow=function(F,H){if(H.isZero())return new c(1).toRed(this);if(H.cmpn(1)===0)return F.clone();var X=4,q=new Array(1<<X);q[0]=new c(1).toRed(this),q[1]=F;for(var ne=2;ne<q.length;ne++)q[ne]=this.mul(q[ne-1],F);var oe=q[0],ve=0,J=0,Y=H.bitLength()%26;for(Y===0&&(Y=26),ne=H.length-1;ne>=0;ne--){for(var j=H.words[ne],K=Y-1;K>=0;K--){var te=j>>K&1;if(oe!==q[0]&&(oe=this.sqr(oe)),te===0&&ve===0){J=0;continue}ve<<=1,ve|=te,J++,!(J!==X&&(ne!==0||K!==0))&&(oe=this.mul(oe,q[ve]),J=0,ve=0)}Y=26}return oe},z.prototype.convertTo=function(F){var H=F.umod(this.m);return H===F?H.clone():H},z.prototype.convertFrom=function(F){var H=F.clone();return H.red=null,H},c.mont=function(F){return new N(F)};function N(B){z.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(N,z),N.prototype.convertTo=function(F){return this.imod(F.ushln(this.shift))},N.prototype.convertFrom=function(F){var H=this.imod(F.mul(this.rinv));return H.red=null,H},N.prototype.imul=function(F,H){if(F.isZero()||H.isZero())return F.words[0]=0,F.length=1,F;var X=F.imul(H),q=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ne=X.isub(q).iushrn(this.shift),oe=ne;return ne.cmp(this.m)>=0?oe=ne.isub(this.m):ne.cmpn(0)<0&&(oe=ne.iadd(this.m)),oe._forceRed(this)},N.prototype.mul=function(F,H){if(F.isZero()||H.isZero())return new c(0)._forceRed(this);var X=F.mul(H),q=X.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ne=X.isub(q).iushrn(this.shift),oe=ne;return ne.cmp(this.m)>=0?oe=ne.isub(this.m):ne.cmpn(0)<0&&(oe=ne.iadd(this.m)),oe._forceRed(this)},N.prototype.invm=function(F){var H=this.imod(F._invmp(this.m).mul(this.r2));return H._forceRed(this)}}(v,this)},2692:function(v){v.exports=p;function p(t){var r,l,n,s=t.length,c=0;for(r=0;r<s;++r)c+=t[r].length;var u=new Array(c),y=0;for(r=0;r<s;++r){var h=t[r],b=h.length;for(l=0;l<b;++l){var f=u[y++]=new Array(b-1),o=0;for(n=0;n<b;++n)n!==l&&(f[o++]=h[n]);if(l&1){var d=f[1];f[1]=f[0],f[0]=d}}}return u}},2569:function(v,p,t){v.exports=o;var r=t(5306),l=t(1390),n=t(2337);function s(d,A){for(var M=0;M<d;++M)if(!(A[M]<=A[M+d]))return!0;return!1}function c(d,A,M,C){for(var m=0,S=0,x=0,a=d.length;x<a;++x){var E=d[x];if(!s(A,E)){for(var w=0;w<2*A;++w)M[m++]=E[w];C[S++]=x}}return S}function u(d,A,M,C){var m=d.length,S=A.length;if(!(m<=0||S<=0)){var x=d[0].length>>>1;if(!(x<=0)){var a,E=r.mallocDouble(2*x*m),w=r.mallocInt32(m);if(m=c(d,x,E,w),m>0){if(x===1&&C)l.init(m),a=l.sweepComplete(x,M,0,m,E,w,0,m,E,w);else{var k=r.mallocDouble(2*x*S),I=r.mallocInt32(S);S=c(A,x,k,I),S>0&&(l.init(m+S),x===1?a=l.sweepBipartite(x,M,0,m,E,w,0,S,k,I):a=n(x,M,C,m,E,w,S,k,I),r.free(k),r.free(I))}r.free(E),r.free(w)}return a}}}var y;function h(d,A){y.push([d,A])}function b(d){return y=[],u(d,d,h,!0),y}function f(d,A){return y=[],u(d,A,h,!1),y}function o(d,A,M){switch(arguments.length){case 1:return b(d);case 2:return typeof A=="function"?u(d,d,A,!0):f(d,A);case 3:return u(d,A,M,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(v,p){function t(){function n(u,y,h,b,f,o,d,A,M,C,m){for(var S=2*u,x=b,a=S*b;x<f;++x,a+=S){var E=o[y+a],w=o[y+a+u],k=d[x];e:for(var I=A,U=S*A;I<M;++I,U+=S){var z=C[y+U],N=C[y+U+u],B=m[I];if(!(N<E||w<z)){for(var F=y+1;F<u;++F){var H=o[F+a],X=o[F+u+a],q=C[F+U],ne=C[F+u+U];if(X<q||ne<H)continue e}var oe=h(k,B);if(oe!==void 0)return oe}}}}function s(u,y,h,b,f,o,d,A,M,C,m){for(var S=2*u,x=A,a=S*A;x<M;++x,a+=S){var E=C[y+a],w=C[y+a+u],k=m[x];e:for(var I=b,U=S*b;I<f;++I,U+=S){var z=o[y+U],N=o[y+U+u],B=d[I];if(!(w<z||N<E)){for(var F=y+1;F<u;++F){var H=o[F+U],X=o[F+u+U],q=C[F+a],ne=C[F+u+a];if(X<q||ne<H)continue e}var oe=h(B,k);if(oe!==void 0)return oe}}}}function c(u,y,h,b,f,o,d,A,M,C,m){return f-b>M-A?n(u,y,h,b,f,o,d,A,M,C,m):s(u,y,h,b,f,o,d,A,M,C,m)}return c}function r(){function n(h,b,f,o,d,A,M,C,m,S,x){for(var a=2*h,E=o,w=a*o;E<d;++E,w+=a){var k=A[b+w],I=A[b+w+h],U=M[E];e:for(var z=C,N=a*C;z<m;++z,N+=a){var B=S[b+N],F=x[z];if(!(B<=k||I<B)){for(var H=b+1;H<h;++H){var X=A[H+w],q=A[H+h+w],ne=S[H+N],oe=S[H+h+N];if(q<ne||oe<X)continue e}var ve=f(F,U);if(ve!==void 0)return ve}}}}function s(h,b,f,o,d,A,M,C,m,S,x){for(var a=2*h,E=o,w=a*o;E<d;++E,w+=a){var k=A[b+w],I=A[b+w+h],U=M[E];e:for(var z=C,N=a*C;z<m;++z,N+=a){var B=S[b+N],F=x[z];if(!(B<k||I<B)){for(var H=b+1;H<h;++H){var X=A[H+w],q=A[H+h+w],ne=S[H+N],oe=S[H+h+N];if(q<ne||oe<X)continue e}var ve=f(U,F);if(ve!==void 0)return ve}}}}function c(h,b,f,o,d,A,M,C,m,S,x){for(var a=2*h,E=C,w=a*C;E<m;++E,w+=a){var k=S[b+w],I=x[E];e:for(var U=o,z=a*o;U<d;++U,z+=a){var N=A[b+z],B=A[b+z+h],F=M[U];if(!(k<=N||B<k)){for(var H=b+1;H<h;++H){var X=A[H+z],q=A[H+h+z],ne=S[H+w],oe=S[H+h+w];if(q<ne||oe<X)continue e}var ve=f(I,F);if(ve!==void 0)return ve}}}}function u(h,b,f,o,d,A,M,C,m,S,x){for(var a=2*h,E=C,w=a*C;E<m;++E,w+=a){var k=S[b+w],I=x[E];e:for(var U=o,z=a*o;U<d;++U,z+=a){var N=A[b+z],B=A[b+z+h],F=M[U];if(!(k<N||B<k)){for(var H=b+1;H<h;++H){var X=A[H+z],q=A[H+h+z],ne=S[H+w],oe=S[H+h+w];if(q<ne||oe<X)continue e}var ve=f(F,I);if(ve!==void 0)return ve}}}}function y(h,b,f,o,d,A,M,C,m,S,x,a){return A-d>S-m?o?n(h,b,f,d,A,M,C,m,S,x,a):s(h,b,f,d,A,M,C,m,S,x,a):o?c(h,b,f,d,A,M,C,m,S,x,a):u(h,b,f,d,A,M,C,m,S,x,a)}return y}function l(n){return n?t():r()}p.partial=l(!1),p.full=l(!0)},2337:function(v,p,t){v.exports=B;var r=t(5306),l=t(2288),n=t(7333),s=n.partial,c=n.full,u=t(1390),y=t(2464),h=t(122),b=128,f=1<<22,o=1<<22,d=h("!(lo>=p0)&&!(p1>=hi)"),A=h("lo===p0"),M=h("lo<p0"),C=h("hi<=p0"),m=h("lo<=p0&&p0<=hi"),S=h("lo<p0&&p0<=hi"),x=6,a=2,E=1024,w=r.mallocInt32(E),k=r.mallocDouble(E);function I(F,H){var X=8*l.log2(H+1)*(F+1)|0,q=l.nextPow2(x*X);w.length<q&&(r.free(w),w=r.mallocInt32(q));var ne=l.nextPow2(a*X);k.length<ne&&(r.free(k),k=r.mallocDouble(ne))}function U(F,H,X,q,ne,oe,ve,J,Y){var j=x*F;w[j]=H,w[j+1]=X,w[j+2]=q,w[j+3]=ne,w[j+4]=oe,w[j+5]=ve;var K=a*F;k[K]=J,k[K+1]=Y}function z(F,H,X,q,ne,oe,ve,J,Y,j,K){var te=2*F,se=Y*te,Q=j[se+H];e:for(var ee=ne,le=ne*te;ee<oe;++ee,le+=te){var ie=ve[le+H],he=ve[le+H+F];if(!(Q<ie||he<Q)&&!(q&&Q===ie)){for(var xe=J[ee],Se=H+1;Se<F;++Se){var ie=ve[le+Se],he=ve[le+Se+F],Ee=j[se+Se],Ne=j[se+Se+F];if(he<Ee||Ne<ie)continue e}var He;if(q?He=X(K,xe):He=X(xe,K),He!==void 0)return He}}}function N(F,H,X,q,ne,oe,ve,J,Y,j){var K=2*F,te=J*K,se=Y[te+H];e:for(var Q=q,ee=q*K;Q<ne;++Q,ee+=K){var le=ve[Q];if(le!==j){var ie=oe[ee+H],he=oe[ee+H+F];if(!(se<ie||he<se)){for(var xe=H+1;xe<F;++xe){var ie=oe[ee+xe],he=oe[ee+xe+F],Se=Y[te+xe],Ee=Y[te+xe+F];if(he<Se||Ee<ie)continue e}var Ne=X(le,j);if(Ne!==void 0)return Ne}}}}function B(F,H,X,q,ne,oe,ve,J,Y){I(F,q+ve);var j=0,K=2*F,te;for(U(j++,0,0,q,0,ve,X?16:0,-1/0,1/0),X||U(j++,0,0,ve,0,q,1,-1/0,1/0);j>0;){j-=1;var se=j*x,Q=w[se],ee=w[se+1],le=w[se+2],ie=w[se+3],he=w[se+4],xe=w[se+5],Se=j*a,Ee=k[Se],Ne=k[Se+1],He=xe&1,Ce=!!(xe&16),be=ne,we=oe,ke=J,Fe=Y;if(He&&(be=J,we=Y,ke=ne,Fe=oe),!(xe&2&&(le=M(F,Q,ee,le,be,we,Ne),ee>=le))&&!(xe&4&&(ee=C(F,Q,ee,le,be,we,Ee),ee>=le))){var Pe=le-ee,Ge=he-ie;if(Ce){if(F*Pe*(Pe+Ge)<o){if(te=u.scanComplete(F,Q,H,ee,le,be,we,ie,he,ke,Fe),te!==void 0)return te;continue}}else if(F*Math.min(Pe,Ge)<b){if(te=s(F,Q,H,He,ee,le,be,we,ie,he,ke,Fe),te!==void 0)return te;continue}else if(F*Pe*Ge<f){if(te=u.scanBipartite(F,Q,H,He,ee,le,be,we,ie,he,ke,Fe),te!==void 0)return te;continue}var nt=d(F,Q,ee,le,be,we,Ee,Ne);if(ee<nt)if(F*(nt-ee)<b){if(te=c(F,Q+1,H,ee,nt,be,we,ie,he,ke,Fe),te!==void 0)return te}else if(Q===F-2){if(He?te=u.sweepBipartite(F,H,ie,he,ke,Fe,ee,nt,be,we):te=u.sweepBipartite(F,H,ee,nt,be,we,ie,he,ke,Fe),te!==void 0)return te}else U(j++,Q+1,ee,nt,ie,he,He,-1/0,1/0),U(j++,Q+1,ie,he,ee,nt,He^1,-1/0,1/0);if(nt<le){var qe=y(F,Q,ie,he,ke,Fe),Ke=ke[K*qe+Q],$e=A(F,Q,qe,he,ke,Fe,Ke);if($e<he&&U(j++,Q,nt,le,$e,he,(He|4)+(Ce?16:0),Ke,Ne),ie<qe&&U(j++,Q,nt,le,ie,qe,(He|2)+(Ce?16:0),Ee,Ke),qe+1===$e){if(Ce?te=N(F,Q,H,nt,le,be,we,qe,ke,Fe[qe]):te=z(F,Q,H,He,nt,le,be,we,qe,ke,Fe[qe]),te!==void 0)return te}else if(qe<$e){var vt;if(Ce){if(vt=m(F,Q,nt,le,be,we,Ke),nt<vt){var yt=A(F,Q,nt,vt,be,we,Ke);if(Q===F-2){if(nt<yt&&(te=u.sweepComplete(F,H,nt,yt,be,we,qe,$e,ke,Fe),te!==void 0)||yt<vt&&(te=u.sweepBipartite(F,H,yt,vt,be,we,qe,$e,ke,Fe),te!==void 0))return te}else nt<yt&&U(j++,Q+1,nt,yt,qe,$e,16,-1/0,1/0),yt<vt&&(U(j++,Q+1,yt,vt,qe,$e,0,-1/0,1/0),U(j++,Q+1,qe,$e,yt,vt,1,-1/0,1/0))}}else He?vt=S(F,Q,nt,le,be,we,Ke):vt=m(F,Q,nt,le,be,we,Ke),nt<vt&&(Q===F-2?He?te=u.sweepBipartite(F,H,qe,$e,ke,Fe,nt,vt,be,we):te=u.sweepBipartite(F,H,nt,vt,be,we,qe,$e,ke,Fe):(U(j++,Q+1,nt,vt,qe,$e,He,-1/0,1/0),U(j++,Q+1,qe,$e,nt,vt,He^1,-1/0,1/0)))}}}}}},2464:function(v,p,t){v.exports=c;var r=t(122),l=r("lo<p0"),n=8;function s(u,y,h,b,f,o){for(var d=2*u,A=d*(h+1)+y,M=h+1;M<b;++M,A+=d)for(var C=f[A],m=M,S=d*(M-1);m>h&&f[S+y]>C;--m,S-=d){for(var x=S,a=S+d,E=0;E<d;++E,++x,++a){var w=f[x];f[x]=f[a],f[a]=w}var k=o[m];o[m]=o[m-1],o[m-1]=k}}function c(u,y,h,b,f,o){if(b<=h+1)return h;for(var d=h,A=b,M=b+h>>>1,C=2*u,m=M,S=f[C*M+y];d<A;){if(A-d<n){s(u,y,d,A,f,o),S=f[C*M+y];break}var x=A-d,a=Math.random()*x+d|0,E=f[C*a+y],w=Math.random()*x+d|0,k=f[C*w+y],I=Math.random()*x+d|0,U=f[C*I+y];E<=k?U>=k?(m=w,S=k):E>=U?(m=a,S=E):(m=I,S=U):k>=U?(m=w,S=k):U>=E?(m=a,S=E):(m=I,S=U);for(var B=C*(A-1),F=C*m,z=0;z<C;++z,++B,++F){var N=f[B];f[B]=f[F],f[F]=N}var H=o[A-1];o[A-1]=o[m],o[m]=H,m=l(u,y,d,A-1,f,o,S);for(var B=C*(A-1),F=C*m,z=0;z<C;++z,++B,++F){var N=f[B];f[B]=f[F],f[F]=N}var H=o[A-1];if(o[A-1]=o[m],o[m]=H,M<m){for(A=m-1;d<A&&f[C*(A-1)+y]===S;)A-=1;A+=1}else if(m<M)for(d=m+1;d<A&&f[C*d+y]===S;)d+=1;else break}return l(u,y,h,M,f,o,f[C*M+y])}},122:function(v){v.exports=t;var p={"lo===p0":r,"lo<p0":l,"lo<=p0":n,"hi<=p0":s,"lo<p0&&p0<=hi":u,"lo<=p0&&p0<=hi":c,"!(lo>=p0)&&!(p1>=hi)":y};function t(h){return p[h]}function r(h,b,f,o,d,A,M){for(var C=2*h,m=C*f,S=m,x=f,a=b,E=h+b,w=f;o>w;++w,m+=C){var k=d[m+a];if(k===M)if(x===w)x+=1,S+=C;else{for(var I=0;C>I;++I){var U=d[m+I];d[m+I]=d[S],d[S++]=U}var z=A[w];A[w]=A[x],A[x++]=z}}return x}function l(h,b,f,o,d,A,M){for(var C=2*h,m=C*f,S=m,x=f,a=b,E=h+b,w=f;o>w;++w,m+=C){var k=d[m+a];if(k<M)if(x===w)x+=1,S+=C;else{for(var I=0;C>I;++I){var U=d[m+I];d[m+I]=d[S],d[S++]=U}var z=A[w];A[w]=A[x],A[x++]=z}}return x}function n(h,b,f,o,d,A,M){for(var C=2*h,m=C*f,S=m,x=f,a=b,E=h+b,w=f;o>w;++w,m+=C){var k=d[m+E];if(k<=M)if(x===w)x+=1,S+=C;else{for(var I=0;C>I;++I){var U=d[m+I];d[m+I]=d[S],d[S++]=U}var z=A[w];A[w]=A[x],A[x++]=z}}return x}function s(h,b,f,o,d,A,M){for(var C=2*h,m=C*f,S=m,x=f,a=b,E=h+b,w=f;o>w;++w,m+=C){var k=d[m+E];if(k<=M)if(x===w)x+=1,S+=C;else{for(var I=0;C>I;++I){var U=d[m+I];d[m+I]=d[S],d[S++]=U}var z=A[w];A[w]=A[x],A[x++]=z}}return x}function c(h,b,f,o,d,A,M){for(var C=2*h,m=C*f,S=m,x=f,a=b,E=h+b,w=f;o>w;++w,m+=C){var k=d[m+a],I=d[m+E];if(k<=M&&M<=I)if(x===w)x+=1,S+=C;else{for(var U=0;C>U;++U){var z=d[m+U];d[m+U]=d[S],d[S++]=z}var N=A[w];A[w]=A[x],A[x++]=N}}return x}function u(h,b,f,o,d,A,M){for(var C=2*h,m=C*f,S=m,x=f,a=b,E=h+b,w=f;o>w;++w,m+=C){var k=d[m+a],I=d[m+E];if(k<M&&M<=I)if(x===w)x+=1,S+=C;else{for(var U=0;C>U;++U){var z=d[m+U];d[m+U]=d[S],d[S++]=z}var N=A[w];A[w]=A[x],A[x++]=N}}return x}function y(h,b,f,o,d,A,M,C){for(var m=2*h,S=m*f,x=S,a=f,E=b,w=h+b,k=f;o>k;++k,S+=m){var I=d[S+E],U=d[S+w];if(!(I>=M)&&!(C>=U))if(a===k)a+=1,x+=m;else{for(var z=0;m>z;++z){var N=d[S+z];d[S+z]=d[x],d[x++]=N}var B=A[k];A[k]=A[a],A[a++]=B}}return a}},309:function(v){v.exports=t;var p=32;function t(b,f){f<=4*p?r(0,f-1,b):h(0,f-1,b)}function r(b,f,o){for(var d=2*(b+1),A=b+1;A<=f;++A){for(var M=o[d++],C=o[d++],m=A,S=d-2;m-- >b;){var x=o[S-2],a=o[S-1];if(x<M)break;if(x===M&&a<C)break;o[S]=x,o[S+1]=a,S-=2}o[S]=M,o[S+1]=C}}function l(b,f,o){b*=2,f*=2;var d=o[b],A=o[b+1];o[b]=o[f],o[b+1]=o[f+1],o[f]=d,o[f+1]=A}function n(b,f,o){b*=2,f*=2,o[b]=o[f],o[b+1]=o[f+1]}function s(b,f,o,d){b*=2,f*=2,o*=2;var A=d[b],M=d[b+1];d[b]=d[f],d[b+1]=d[f+1],d[f]=d[o],d[f+1]=d[o+1],d[o]=A,d[o+1]=M}function c(b,f,o,d,A){b*=2,f*=2,A[b]=A[f],A[f]=o,A[b+1]=A[f+1],A[f+1]=d}function u(b,f,o){b*=2,f*=2;var d=o[b],A=o[f];return d<A?!1:d===A?o[b+1]>o[f+1]:!0}function y(b,f,o,d){b*=2;var A=d[b];return A<f?!0:A===f?d[b+1]<o:!1}function h(b,f,o){var d=(f-b+1)/6|0,A=b+d,M=f-d,C=b+f>>1,m=C-d,S=C+d,x=A,a=m,E=C,w=S,k=M,I=b+1,U=f-1,z=0;u(x,a,o)&&(z=x,x=a,a=z),u(w,k,o)&&(z=w,w=k,k=z),u(x,E,o)&&(z=x,x=E,E=z),u(a,E,o)&&(z=a,a=E,E=z),u(x,w,o)&&(z=x,x=w,w=z),u(E,w,o)&&(z=E,E=w,w=z),u(a,k,o)&&(z=a,a=k,k=z),u(a,E,o)&&(z=a,a=E,E=z),u(w,k,o)&&(z=w,w=k,k=z);for(var N=o[2*a],B=o[2*a+1],F=o[2*w],H=o[2*w+1],X=2*x,q=2*E,ne=2*k,oe=2*A,ve=2*C,J=2*M,Y=0;Y<2;++Y){var j=o[X+Y],K=o[q+Y],te=o[ne+Y];o[oe+Y]=j,o[ve+Y]=K,o[J+Y]=te}n(m,b,o),n(S,f,o);for(var se=I;se<=U;++se)if(y(se,N,B,o))se!==I&&l(se,I,o),++I;else if(!y(se,F,H,o))for(;;)if(y(U,F,H,o)){y(U,N,B,o)?(s(se,I,U,o),++I,--U):(l(se,U,o),--U);break}else{if(--U<se)break;continue}c(b,I-1,N,B,o),c(f,U+1,F,H,o),I-2-b<=p?r(b,I-2,o):h(b,I-2,o),f-(U+2)<=p?r(U+2,f,o):h(U+2,f,o),U-I<=p?r(I,U,o):h(I,U,o)}},1390:function(v,p,t){v.exports={init:A,sweepBipartite:m,sweepComplete:S,scanBipartite:x,scanComplete:a};var r=t(5306),l=t(2288),n=t(309),s=1<<28,c=1024,u=r.mallocInt32(c),y=r.mallocInt32(c),h=r.mallocInt32(c),b=r.mallocInt32(c),f=r.mallocInt32(c),o=r.mallocInt32(c),d=r.mallocDouble(c*8);function A(E){var w=l.nextPow2(E);u.length<w&&(r.free(u),u=r.mallocInt32(w)),y.length<w&&(r.free(y),y=r.mallocInt32(w)),h.length<w&&(r.free(h),h=r.mallocInt32(w)),b.length<w&&(r.free(b),b=r.mallocInt32(w)),f.length<w&&(r.free(f),f=r.mallocInt32(w)),o.length<w&&(r.free(o),o=r.mallocInt32(w));var k=8*w;d.length<k&&(r.free(d),d=r.mallocDouble(k))}function M(E,w,k,I){var U=w[I],z=E[k-1];E[U]=z,w[z]=U}function C(E,w,k,I){E[k]=I,w[I]=k}function m(E,w,k,I,U,z,N,B,F,H){for(var X=0,q=2*E,ne=E-1,oe=q-1,ve=k;ve<I;++ve){var J=z[ve],Y=q*ve;d[X++]=U[Y+ne],d[X++]=-(J+1),d[X++]=U[Y+oe],d[X++]=J}for(var ve=N;ve<B;++ve){var J=H[ve]+s,j=q*ve;d[X++]=F[j+ne],d[X++]=-J,d[X++]=F[j+oe],d[X++]=J}var K=X>>>1;n(d,K);for(var te=0,se=0,ve=0;ve<K;++ve){var Q=d[2*ve+1]|0;if(Q>=s)Q=Q-s|0,M(h,b,se--,Q);else if(Q>=0)M(u,y,te--,Q);else if(Q<=-s){Q=-Q-s|0;for(var ee=0;ee<te;++ee){var le=w(u[ee],Q);if(le!==void 0)return le}C(h,b,se++,Q)}else{Q=-Q-1|0;for(var ee=0;ee<se;++ee){var le=w(Q,h[ee]);if(le!==void 0)return le}C(u,y,te++,Q)}}}function S(E,w,k,I,U,z,N,B,F,H){for(var X=0,q=2*E,ne=E-1,oe=q-1,ve=k;ve<I;++ve){var J=z[ve]+1<<1,Y=q*ve;d[X++]=U[Y+ne],d[X++]=-J,d[X++]=U[Y+oe],d[X++]=J}for(var ve=N;ve<B;++ve){var J=H[ve]+1<<1,j=q*ve;d[X++]=F[j+ne],d[X++]=-J|1,d[X++]=F[j+oe],d[X++]=J|1}var K=X>>>1;n(d,K);for(var te=0,se=0,Q=0,ve=0;ve<K;++ve){var ee=d[2*ve+1]|0,le=ee&1;if(ve<K-1&&ee>>1===d[2*ve+3]>>1&&(le=2,ve+=1),ee<0){for(var ie=-(ee>>1)-1,he=0;he<Q;++he){var xe=w(f[he],ie);if(xe!==void 0)return xe}if(le!==0)for(var he=0;he<te;++he){var xe=w(u[he],ie);if(xe!==void 0)return xe}if(le!==1)for(var he=0;he<se;++he){var xe=w(h[he],ie);if(xe!==void 0)return xe}le===0?C(u,y,te++,ie):le===1?C(h,b,se++,ie):le===2&&C(f,o,Q++,ie)}else{var ie=(ee>>1)-1;le===0?M(u,y,te--,ie):le===1?M(h,b,se--,ie):le===2&&M(f,o,Q--,ie)}}}function x(E,w,k,I,U,z,N,B,F,H,X,q){var ne=0,oe=2*E,ve=w,J=w+E,Y=1,j=1;I?j=s:Y=s;for(var K=U;K<z;++K){var te=K+Y,se=oe*K;d[ne++]=N[se+ve],d[ne++]=-te,d[ne++]=N[se+J],d[ne++]=te}for(var K=F;K<H;++K){var te=K+j,Q=oe*K;d[ne++]=X[Q+ve],d[ne++]=-te}var ee=ne>>>1;n(d,ee);for(var le=0,K=0;K<ee;++K){var ie=d[2*K+1]|0;if(ie<0){var te=-ie,he=!1;if(te>=s?(he=!I,te-=s):(he=!!I,te-=1),he)C(u,y,le++,te);else{var xe=q[te],Se=oe*te,Ee=X[Se+w+1],Ne=X[Se+w+1+E];e:for(var He=0;He<le;++He){var Ce=u[He],be=oe*Ce;if(!(Ne<N[be+w+1]||N[be+w+1+E]<Ee)){for(var we=w+2;we<E;++we)if(X[Se+we+E]<N[be+we]||N[be+we+E]<X[Se+we])continue e;var ke=B[Ce],Fe;if(I?Fe=k(xe,ke):Fe=k(ke,xe),Fe!==void 0)return Fe}}}}else M(u,y,le--,ie-Y)}}function a(E,w,k,I,U,z,N,B,F,H,X){for(var q=0,ne=2*E,oe=w,ve=w+E,J=I;J<U;++J){var Y=J+s,j=ne*J;d[q++]=z[j+oe],d[q++]=-Y,d[q++]=z[j+ve],d[q++]=Y}for(var J=B;J<F;++J){var Y=J+1,K=ne*J;d[q++]=H[K+oe],d[q++]=-Y}var te=q>>>1;n(d,te);for(var se=0,J=0;J<te;++J){var Q=d[2*J+1]|0;if(Q<0){var Y=-Q;if(Y>=s)u[se++]=Y-s;else{Y-=1;var ee=X[Y],le=ne*Y,ie=H[le+w+1],he=H[le+w+1+E];e:for(var xe=0;xe<se;++xe){var Se=u[xe],Ee=N[Se];if(Ee===ee)break;var Ne=ne*Se;if(!(he<z[Ne+w+1]||z[Ne+w+1+E]<ie)){for(var He=w+2;He<E;++He)if(H[le+He+E]<z[Ne+He]||z[Ne+He+E]<H[le+He])continue e;var Ce=k(Ee,ee);if(Ce!==void 0)return Ce}}}}else{for(var Y=Q-s,xe=se-1;xe>=0;--xe)if(u[xe]===Y){for(var He=xe+1;He<se;++He)u[He-1]=u[He];break}--se}}}},7761:function(v,p,t){var r=t(9971),l=t(743),n=t(2161),s=t(7098);v.exports=b;function c(f){return[Math.min(f[0],f[1]),Math.max(f[0],f[1])]}function u(f,o){return f[0]-o[0]||f[1]-o[1]}function y(f){return f.map(c).sort(u)}function h(f,o,d){return o in f?f[o]:d}function b(f,o,d){Array.isArray(o)?(d=d||{},o=o||[]):(d=o||{},o=[]);var A=!!h(d,"delaunay",!0),M=!!h(d,"interior",!0),C=!!h(d,"exterior",!0),m=!!h(d,"infinity",!1);if(!M&&!C||f.length===0)return[];var S=r(f,o);if(A||M!==C||m){for(var x=l(f.length,y(o)),a=0;a<S.length;++a){var E=S[a];x.addTriangle(E[0],E[1],E[2])}return A&&n(f,x),C?M?m?s(x,0,m):x.cells():s(x,1,m):s(x,-1)}else return S}},2161:function(v,p,t){var r=t(2227)[4];t(5070),v.exports=n;function l(s,c,u,y,h,b){var f=c.opposite(y,h);if(!(f<0)){if(h<y){var o=y;y=h,h=o,o=b,b=f,f=o}c.isConstraint(y,h)||r(s[y],s[h],s[b],s[f])<0&&u.push(y,h)}}function n(s,c){for(var u=[],y=s.length,h=c.stars,b=0;b<y;++b)for(var f=h[b],o=1;o<f.length;o+=2){var d=f[o];if(!(d<b)&&!c.isConstraint(b,d)){for(var A=f[o-1],M=-1,C=1;C<f.length;C+=2)if(f[C-1]===d){M=f[C];break}M<0||r(s[b],s[d],s[A],s[M])<0&&u.push(b,d)}}for(;u.length>0;){for(var d=u.pop(),b=u.pop(),A=-1,M=-1,f=h[b],m=1;m<f.length;m+=2){var S=f[m-1],x=f[m];S===d?M=x:x===d&&(A=S)}A<0||M<0||r(s[b],s[d],s[A],s[M])>=0||(c.flip(b,d),l(s,c,u,A,b,M),l(s,c,u,b,M,A),l(s,c,u,M,d,A),l(s,c,u,d,A,M))}}},7098:function(v,p,t){var r=t(5070);v.exports=y;function l(h,b,f,o,d,A,M){this.cells=h,this.neighbor=b,this.flags=o,this.constraint=f,this.active=d,this.next=A,this.boundary=M}var n=l.prototype;function s(h,b){return h[0]-b[0]||h[1]-b[1]||h[2]-b[2]}n.locate=function(){var h=[0,0,0];return function(b,f,o){var d=b,A=f,M=o;return f<o?f<b&&(d=f,A=o,M=b):o<b&&(d=o,A=b,M=f),d<0?-1:(h[0]=d,h[1]=A,h[2]=M,r.eq(this.cells,h,s))}}();function c(h,b){for(var f=h.cells(),o=f.length,d=0;d<o;++d){var A=f[d],M=A[0],C=A[1],m=A[2];C<m?C<M&&(A[0]=C,A[1]=m,A[2]=M):m<M&&(A[0]=m,A[1]=M,A[2]=C)}f.sort(s);for(var S=new Array(o),d=0;d<S.length;++d)S[d]=0;var x=[],a=[],E=new Array(3*o),w=new Array(3*o),k=null;b&&(k=[]);for(var I=new l(f,E,w,S,x,a,k),d=0;d<o;++d)for(var A=f[d],U=0;U<3;++U){var M=A[U],C=A[(U+1)%3],z=E[3*d+U]=I.locate(C,M,h.opposite(C,M)),N=w[3*d+U]=h.isConstraint(M,C);z<0&&(N?a.push(d):(x.push(d),S[d]=1),b&&k.push([C,M,-1]))}return I}function u(h,b,f){for(var o=0,d=0;d<h.length;++d)b[d]===f&&(h[o++]=h[d]);return h.length=o,h}function y(h,b,f){var o=c(h,f);if(b===0)return f?o.cells.concat(o.boundary):o.cells;for(var d=1,A=o.active,M=o.next,C=o.flags,m=o.cells,S=o.constraint,x=o.neighbor;A.length>0||M.length>0;){for(;A.length>0;){var a=A.pop();if(C[a]!==-d){C[a]=d,m[a];for(var E=0;E<3;++E){var w=x[3*a+E];w>=0&&C[w]===0&&(S[3*a+E]?M.push(w):(A.push(w),C[w]=d))}}}var k=M;M=A,A=k,M.length=0,d=-d}var I=u(m,C,b);return f?I.concat(o.boundary):I}},9971:function(v,p,t){var r=t(5070),l=t(417)[3],n=0,s=1,c=2;v.exports=M;function u(C,m,S,x,a){this.a=C,this.b=m,this.idx=S,this.lowerIds=x,this.upperIds=a}function y(C,m,S,x){this.a=C,this.b=m,this.type=S,this.idx=x}function h(C,m){var S=C.a[0]-m.a[0]||C.a[1]-m.a[1]||C.type-m.type;return S||C.type!==n&&(S=l(C.a,C.b,m.b),S)?S:C.idx-m.idx}function b(C,m){return l(C.a,C.b,m)}function f(C,m,S,x,a){for(var E=r.lt(m,x,b),w=r.gt(m,x,b),k=E;k<w;++k){for(var I=m[k],U=I.lowerIds,N=U.length;N>1&&l(S[U[N-2]],S[U[N-1]],x)>0;)C.push([U[N-1],U[N-2],a]),N-=1;U.length=N,U.push(a);for(var z=I.upperIds,N=z.length;N>1&&l(S[z[N-2]],S[z[N-1]],x)<0;)C.push([z[N-2],z[N-1],a]),N-=1;z.length=N,z.push(a)}}function o(C,m){var S;return C.a[0]<m.a[0]?S=l(C.a,C.b,m.a):S=l(m.b,m.a,C.a),S||(m.b[0]<C.b[0]?S=l(C.a,C.b,m.b):S=l(m.b,m.a,C.b),S||C.idx-m.idx)}function d(C,m,S){var x=r.le(C,S,o),a=C[x],E=a.upperIds,w=E[E.length-1];a.upperIds=[w],C.splice(x+1,0,new u(S.a,S.b,S.idx,[w],E))}function A(C,m,S){var x=S.a;S.a=S.b,S.b=x;var a=r.eq(C,S,o),E=C[a],w=C[a-1];w.upperIds=E.upperIds,C.splice(a,1)}function M(C,m){for(var S=C.length,x=m.length,a=[],E=0;E<S;++E)a.push(new y(C[E],null,n,E));for(var E=0;E<x;++E){var w=m[E],k=C[w[0]],I=C[w[1]];k[0]<I[0]?a.push(new y(k,I,c,E),new y(I,k,s,E)):k[0]>I[0]&&a.push(new y(I,k,c,E),new y(k,I,s,E))}a.sort(h);for(var U=a[0].a[0]-(1+Math.abs(a[0].a[0]))*Math.pow(2,-52),z=[new u([U,1],[U,0],-1,[],[])],N=[],E=0,B=a.length;E<B;++E){var F=a[E],H=F.type;H===n?f(N,z,C,F.a,F.idx):H===c?d(z,C,F):A(z,C,F)}return N}},743:function(v,p,t){var r=t(5070);v.exports=c;function l(u,y){this.stars=u,this.edges=y}var n=l.prototype;function s(u,y,h){for(var b=1,f=u.length;b<f;b+=2)if(u[b-1]===y&&u[b]===h){u[b-1]=u[f-2],u[b]=u[f-1],u.length=f-2;return}}n.isConstraint=function(){var u=[0,0];function y(h,b){return h[0]-b[0]||h[1]-b[1]}return function(h,b){return u[0]=Math.min(h,b),u[1]=Math.max(h,b),r.eq(this.edges,u,y)>=0}}(),n.removeTriangle=function(u,y,h){var b=this.stars;s(b[u],y,h),s(b[y],h,u),s(b[h],u,y)},n.addTriangle=function(u,y,h){var b=this.stars;b[u].push(y,h),b[y].push(h,u),b[h].push(u,y)},n.opposite=function(u,y){for(var h=this.stars[y],b=1,f=h.length;b<f;b+=2)if(h[b]===u)return h[b-1];return-1},n.flip=function(u,y){var h=this.opposite(u,y),b=this.opposite(y,u);this.removeTriangle(u,y,h),this.removeTriangle(y,u,b),this.addTriangle(u,b,h),this.addTriangle(y,h,b)},n.edges=function(){for(var u=this.stars,y=[],h=0,b=u.length;h<b;++h)for(var f=u[h],o=0,d=f.length;o<d;o+=2)y.push([f[o],f[o+1]]);return y},n.cells=function(){for(var u=this.stars,y=[],h=0,b=u.length;h<b;++h)for(var f=u[h],o=0,d=f.length;o<d;o+=2){var A=f[o],M=f[o+1];h<Math.min(A,M)&&y.push([h,A,M])}return y};function c(u,y){for(var h=new Array(u),b=0;b<u;++b)h[b]=[];return new l(h,y)}},9887:function(v){v.exports=p;function p(t){for(var r=1,l=1;l<t.length;++l)for(var n=0;n<l;++n)if(t[l]<t[n])r=-r;else if(t[n]===t[l])return 0;return r}},9243:function(v,p,t){var r=t(3094),l=t(6606);function n(u,y){for(var h=0,b=u.length,f=0;f<b;++f)h+=u[f]*y[f];return h}function s(u){var y=u.length;if(y===0)return[];u[0].length;var h=r([u.length+1,u.length+1],1),b=r([u.length+1],1);h[y][y]=0;for(var f=0;f<y;++f){for(var o=0;o<=f;++o)h[o][f]=h[f][o]=2*n(u[f],u[o]);b[f]=n(u[f],u[f])}for(var d=l(h,b),A=0,M=d[y+1],f=0;f<M.length;++f)A+=M[f];for(var C=new Array(y),f=0;f<y;++f){for(var M=d[f],m=0,o=0;o<M.length;++o)m+=M[o];C[f]=m/A}return C}function c(u){if(u.length===0)return[];for(var y=u[0].length,h=r([y]),b=s(u),f=0;f<u.length;++f)for(var o=0;o<y;++o)h[o]+=u[f][o]*b[f];return h}c.barycenetric=s,v.exports=c},1778:function(v,p,t){v.exports=l;var r=t(9243);function l(n){for(var s=r(n),c=0,u=0;u<n.length;++u)for(var y=n[u],h=0;h<s.length;++h)c+=Math.pow(y[h]-s[h],2);return Math.sqrt(c/n.length)}},197:function(v,p,t){v.exports=k;var r=t(1731),l=t(2569),n=t(4434),s=t(5125),c=t(8846),u=t(7999),y=t(2826),h=t(8551),b=t(5528);function f(I){var U=u(I);return[h(U,-1/0),h(U,1/0)]}function o(I,U){for(var z=new Array(U.length),N=0;N<U.length;++N){var B=U[N],F=I[B[0]],H=I[B[1]];z[N]=[h(Math.min(F[0],H[0]),-1/0),h(Math.min(F[1],H[1]),-1/0),h(Math.max(F[0],H[0]),1/0),h(Math.max(F[1],H[1]),1/0)]}return z}function d(I){for(var U=new Array(I.length),z=0;z<I.length;++z){var N=I[z];U[z]=[h(N[0],-1/0),h(N[1],-1/0),h(N[0],1/0),h(N[1],1/0)]}return U}function A(I,U,z){var N=[];return l(z,function(B,F){var H=U[B],X=U[F];if(!(H[0]===X[0]||H[0]===X[1]||H[1]===X[0]||H[1]===X[1])){var q=I[H[0]],ne=I[H[1]],oe=I[X[0]],ve=I[X[1]];n(q,ne,oe,ve)&&N.push([B,F])}}),N}function M(I,U,z,N){var B=[];return l(z,N,function(F,H){var X=U[F];if(!(X[0]===H||X[1]===H)){var q=I[H],ne=I[X[0]],oe=I[X[1]];n(ne,oe,q,q)&&B.push([F,H])}}),B}function C(I,U,z,N,B){var F,H,X=I.map(function(Se){return[s(Se[0]),s(Se[1])]});for(F=0;F<z.length;++F){var q=z[F];H=q[0];var ne=q[1],oe=U[H],ve=U[ne],J=b(y(I[oe[0]]),y(I[oe[1]]),y(I[ve[0]]),y(I[ve[1]]));if(J){var Y=I.length;I.push([u(J[0]),u(J[1])]),X.push(J),N.push([H,Y],[ne,Y])}}for(N.sort(function(Se,Ee){if(Se[0]!==Ee[0])return Se[0]-Ee[0];var Ne=X[Se[1]],He=X[Ee[1]];return c(Ne[0],He[0])||c(Ne[1],He[1])}),F=N.length-1;F>=0;--F){var j=N[F];H=j[0];var K=U[H],te=K[0],se=K[1],Q=I[te],ee=I[se];if((Q[0]-ee[0]||Q[1]-ee[1])<0){var le=te;te=se,se=le}K[0]=te;var ie=K[1]=j[1],he;for(B&&(he=K[2]);F>0&&N[F-1][0]===H;){var j=N[--F],xe=j[1];B?U.push([ie,xe,he]):U.push([ie,xe]),ie=xe}B?U.push([ie,se,he]):U.push([ie,se])}return X}function m(I,U,z){for(var N=U.length,B=new r(N),F=[],H=0;H<U.length;++H){var X=U[H],q=f(X[0]),ne=f(X[1]);F.push([h(q[0],-1/0),h(ne[0],-1/0),h(q[1],1/0),h(ne[1],1/0)])}l(F,function(j,K){B.link(j,K)});for(var oe=!0,ve=new Array(N),H=0;H<N;++H){var J=B.find(H);J!==H&&(oe=!1,I[J]=[Math.min(I[H][0],I[J][0]),Math.min(I[H][1],I[J][1])])}if(oe)return null;for(var Y=0,H=0;H<N;++H){var J=B.find(H);J===H?(ve[H]=Y,I[Y++]=I[H]):ve[H]=-1}I.length=Y;for(var H=0;H<N;++H)ve[H]<0&&(ve[H]=ve[B.find(H)]);return ve}function S(I,U){return I[0]-U[0]||I[1]-U[1]}function x(I,U){var z=I[0]-U[0]||I[1]-U[1];return z||(I[2]<U[2]?-1:I[2]>U[2]?1:0)}function a(I,U,z){if(I.length!==0){if(U)for(var N=0;N<I.length;++N){var B=I[N],F=U[B[0]],H=U[B[1]];B[0]=Math.min(F,H),B[1]=Math.max(F,H)}else for(var N=0;N<I.length;++N){var B=I[N],F=B[0],H=B[1];B[0]=Math.min(F,H),B[1]=Math.max(F,H)}z?I.sort(x):I.sort(S);for(var X=1,N=1;N<I.length;++N){var q=I[N-1],ne=I[N];ne[0]===q[0]&&ne[1]===q[1]&&(!z||ne[2]===q[2])||(I[X++]=ne)}I.length=X}}function E(I,U,z){var N=m(I,[],d(I));return a(U,N,z),!!N}function w(I,U,z){var N=o(I,U),B=A(I,U,N),F=d(I),H=M(I,U,N,F),X=C(I,U,B,H,z),q=m(I,X);return a(U,q,z),q?!0:B.length>0||H.length>0}function k(I,U,z){var N;if(z){N=U;for(var B=new Array(U.length),F=0;F<U.length;++F){var H=U[F];B[F]=[H[0],H[1],z[F]]}U=B}for(var X=E(I,U,!!z);w(I,U,!!z);)X=!0;if(z&&X){N.length=0,z.length=0;for(var F=0;F<U.length;++F){var H=U[F];N.push([H[0],H[1]]),z.push(H[2])}}return X}},5528:function(v,p,t){v.exports=b;var r=t(3962),l=t(9189),n=t(4354),s=t(4951),c=t(6695),u=t(7584),y=t(4469);function h(f,o){return n(r(f[0],o[1]),r(f[1],o[0]))}function b(f,o,d,A){var M=c(o,f),C=c(A,d),m=h(M,C);if(s(m)===0)return null;var S=c(f,d),x=h(C,S),a=l(x,m),E=y(M,a),w=u(f,E);return w}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,p,t){var r=t(5692),l=t(3578);v.exports=n;function n(y){var h,b,f,o,d,A,M,C,a,m,S;if(y||(y={}),C=(y.nshades||72)-1,M=y.format||"hex",A=y.colormap,A||(A="jet"),typeof A=="string"){if(A=A.toLowerCase(),!r[A])throw Error(A+" not a supported colorscale");d=r[A]}else if(Array.isArray(A))d=A.slice();else throw Error("unsupported colormap option",A);if(d.length>C+1)throw new Error(A+" map requires nshades to be at least size "+d.length);Array.isArray(y.alpha)?y.alpha.length!==2?m=[1,1]:m=y.alpha.slice():typeof y.alpha=="number"?m=[y.alpha,y.alpha]:m=[1,1],h=d.map(function(k){return Math.round(k.index*C)}),m[0]=Math.min(Math.max(m[0],0),1),m[1]=Math.min(Math.max(m[1],0),1);var x=d.map(function(k,I){var U=d[I].index,z=d[I].rgb.slice();return z.length===4&&z[3]>=0&&z[3]<=1||(z[3]=m[0]+(m[1]-m[0])*U),z}),a=[];for(S=0;S<h.length-1;++S){o=h[S+1]-h[S],b=x[S],f=x[S+1];for(var E=0;E<o;E++){var w=E/o;a.push([Math.round(l(b[0],f[0],w)),Math.round(l(b[1],f[1],w)),Math.round(l(b[2],f[2],w)),l(b[3],f[3],w)])}}return a.push(d[d.length-1].rgb.concat(m[1])),M==="hex"?a=a.map(c):M==="rgbaString"?a=a.map(u):M==="float"&&(a=a.map(s)),a}function s(y){return[y[0]/255,y[1]/255,y[2]/255,y[3]]}function c(y){for(var h,b="#",f=0;f<3;++f)h=y[f],h=h.toString(16),b+=("00"+h).substr(h.length);return b}function u(y){return"rgba("+y.join(",")+")"}},9398:function(v,p,t){v.exports=y;var r=t(417),l=t(7538),n=t(87),s=t(2019),c=t(9662);function u(h,b,f){var o=n(h[0],-b[0]),d=n(h[1],-b[1]),A=n(f[0],-b[0]),M=n(f[1],-b[1]),C=c(s(o,A),s(d,M));return C[C.length-1]>=0}function y(h,b,f,o){var d=r(b,f,o);if(d===0){var A=l(r(h,b,f)),M=l(r(h,b,o));if(A===M){if(A===0){var C=u(h,b,f),m=u(h,b,o);return C===m?0:C?1:-1}return 0}else{if(M===0)return A>0||u(h,b,o)?-1:1;if(A===0)return M>0||u(h,b,f)?1:-1}return l(M-A)}var S=r(h,b,f);if(S>0)return d>0&&r(h,b,o)>0?1:-1;if(S<0)return d>0||r(h,b,o)>0?1:-1;var x=r(h,b,o);return x>0||u(h,b,f)?1:-1}},7538:function(v){v.exports=function(t){return t<0?-1:t>0?1:0}},9209:function(v){v.exports=r;var p=Math.min;function t(l,n){return l-n}function r(l,n){var s=l.length,c=l.length-n.length;if(c)return c;switch(s){case 0:return 0;case 1:return l[0]-n[0];case 2:return l[0]+l[1]-n[0]-n[1]||p(l[0],l[1])-p(n[0],n[1]);case 3:var u=l[0]+l[1],y=n[0]+n[1];if(c=u+l[2]-(y+n[2]),c)return c;var h=p(l[0],l[1]),b=p(n[0],n[1]);return p(h,l[2])-p(b,n[2])||p(h+l[2],u)-p(b+n[2],y);case 4:var f=l[0],o=l[1],d=l[2],A=l[3],M=n[0],C=n[1],m=n[2],S=n[3];return f+o+d+A-(M+C+m+S)||p(f,o,d,A)-p(M,C,m,S,M)||p(f+o,f+d,f+A,o+d,o+A,d+A)-p(M+C,M+m,M+S,C+m,C+S,m+S)||p(f+o+d,f+o+A,f+d+A,o+d+A)-p(M+C+m,M+C+S,M+m+S,C+m+S);default:for(var x=l.slice().sort(t),a=n.slice().sort(t),E=0;E<s;++E)if(c=x[E]-a[E],c)return c;return 0}}},1284:function(v,p,t){var r=t(9209),l=t(9887);v.exports=n;function n(s,c){return r(s,c)||l(s)-l(c)}},5537:function(v,p,t){var r=t(8950),l=t(8722),n=t(3332);v.exports=s;function s(c){var u=c.length;if(u===0)return[];if(u===1)return[[0]];var y=c[0].length;return y===0?[]:y===1?r(c):y===2?l(c):n(c,y)}},8950:function(v){v.exports=p;function p(t){for(var r=0,l=0,n=1;n<t.length;++n)t[n][0]<t[r][0]&&(r=n),t[n][0]>t[l][0]&&(l=n);return r<l?[[r],[l]]:r>l?[[l],[r]]:[[r]]}},8722:function(v,p,t){v.exports=l;var r=t(3266);function l(n){var s=r(n),c=s.length;if(c<=2)return[];for(var u=new Array(c),y=s[c-1],h=0;h<c;++h){var b=s[h];u[h]=[y,b],y=b}return u}},3332:function(v,p,t){v.exports=c;var r=t(2183),l=t(2153);function n(u,y){for(var h=u.length,b=new Array(h),f=0;f<y.length;++f)b[f]=u[y[f]];for(var o=y.length,f=0;f<h;++f)y.indexOf(f)<0&&(b[o++]=u[f]);return b}function s(u,y){for(var h=u.length,b=y.length,f=0;f<h;++f)for(var o=u[f],d=0;d<o.length;++d){var A=o[d];if(A<b)o[d]=y[A];else{A=A-b;for(var M=0;M<b;++M)A>=y[M]&&(A+=1);o[d]=A}}return u}function c(u,y){try{return r(u,!0)}catch{var h=l(u);if(h.length<=y)return[];var b=n(u,h),f=r(b,!0);return s(f,h)}}},9680:function(v){function p(r,l,n,s,c,u){var y=6*c*c-6*c,h=3*c*c-4*c+1,b=-6*c*c+6*c,f=3*c*c-2*c;if(r.length){u||(u=new Array(r.length));for(var o=r.length-1;o>=0;--o)u[o]=y*r[o]+h*l[o]+b*n[o]+f*s[o];return u}return y*r+h*l+b*n[o]+f*s}function t(r,l,n,s,c,u){var y=c-1,h=c*c,b=y*y,f=(1+2*c)*b,o=c*b,d=h*(3-2*c),A=h*y;if(r.length){u||(u=new Array(r.length));for(var M=r.length-1;M>=0;--M)u[M]=f*r[M]+o*l[M]+d*n[M]+A*s[M];return u}return f*r+o*l+d*n+A*s}v.exports=t,v.exports.derivative=p},4419:function(v,p,t){var r=t(2183),l=t(1215);v.exports=u;function n(y,h){this.point=y,this.index=h}function s(y,h){for(var b=y.point,f=h.point,o=b.length,d=0;d<o;++d){var A=f[d]-b[d];if(A)return A}return 0}function c(y,h,b){if(y===1)return b?[[-1,0]]:[];var f=h.map(function(C,m){return[C[0],m]});f.sort(function(C,m){return C[0]-m[0]});for(var o=new Array(y-1),d=1;d<y;++d){var A=f[d-1],M=f[d];o[d-1]=[A[1],M[1]]}return b&&o.push([-1,o[0][1]],[o[y-1][1],-1]),o}function u(y,h){var b=y.length;if(b===0)return[];var f=y[0].length;if(f<1)return[];if(f===1)return c(b,y,h);for(var o=new Array(b),d=1,A=0;A<b;++A){for(var M=y[A],C=new Array(f+1),m=0,S=0;S<f;++S){var x=M[S];C[S]=x,m+=x*x}C[f]=m,o[A]=new n(C,A),d=Math.max(m,d)}l(o,s),b=o.length;for(var a=new Array(b+f+1),E=new Array(b+f+1),w=(f+1)*(f+1)*d,k=new Array(f+1),A=0;A<=f;++A)k[A]=0;k[f]=w,a[0]=k.slice(),E[0]=-1;for(var A=0;A<=f;++A){var C=k.slice();C[A]=1,a[A+1]=C,E[A+1]=-1}for(var A=0;A<b;++A){var I=o[A];a[A+f+1]=I.point,E[A+f+1]=I.index}var U=r(a,!1);if(h?U=U.filter(function(z){for(var N=0,B=0;B<=f;++B){var F=E[z[B]];if(F<0&&++N>=2)return!1;z[B]=F}return!0}):U=U.filter(function(z){for(var N=0;N<=f;++N){var B=E[z[N]];if(B<0)return!1;z[N]=B}return!0}),f&1)for(var A=0;A<U.length;++A){var I=U[A],C=I[0];I[0]=I[1],I[1]=C}return U}},8362:function(v){var p=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),r=new Uint32Array(t.buffer);if(t[0]=1,p=!0,r[1]===1072693248){let d=function(C,m){return r[0]=C,r[1]=m,t[0]},A=function(C){return t[0]=C,r[0]},M=function(C){return t[0]=C,r[1]};var n=d,s=A,c=M;v.exports=function(m){return t[0]=m,[r[0],r[1]]},v.exports.pack=d,v.exports.lo=A,v.exports.hi=M}else if(r[0]===1072693248){let d=function(C,m){return r[1]=C,r[0]=m,t[0]},A=function(C){return t[0]=C,r[1]},M=function(C){return t[0]=C,r[0]};var u=d,y=A,h=M;v.exports=function(m){return t[0]=m,[r[1],r[0]]},v.exports.pack=d,v.exports.lo=A,v.exports.hi=M}else p=!1}if(!p){let d=function(C,m){return l.writeUInt32LE(C,0,!0),l.writeUInt32LE(m,4,!0),l.readDoubleLE(0,!0)},A=function(C){return l.writeDoubleLE(C,0,!0),l.readUInt32LE(0,!0)},M=function(C){return l.writeDoubleLE(C,0,!0),l.readUInt32LE(4,!0)};var b=d,f=A,o=M,l=new Buffer(8);v.exports=function(m){return l.writeDoubleLE(m,0,!0),[l.readUInt32LE(0,!0),l.readUInt32LE(4,!0)]},v.exports.pack=d,v.exports.lo=A,v.exports.hi=M}v.exports.sign=function(d){return v.exports.hi(d)>>>31},v.exports.exponent=function(d){var A=v.exports.hi(d);return(A<<1>>>21)-1023},v.exports.fraction=function(d){var A=v.exports.lo(d),M=v.exports.hi(d),C=M&(1<<20)-1;return M&2146435072&&(C+=1048576),[A,C]},v.exports.denormalized=function(d){var A=v.exports.hi(d);return!(A&2146435072)}},3094:function(v){function p(l,n,s){var c=l[s]|0;if(c<=0)return[];var u=new Array(c),y;if(s===l.length-1)for(y=0;y<c;++y)u[y]=n;else for(y=0;y<c;++y)u[y]=p(l,n,s+1);return u}function t(l,n){var s,c;for(s=new Array(l),c=0;c<l;++c)s[c]=n;return s}function r(l,n){switch(typeof n>"u"&&(n=0),typeof l){case"number":if(l>0)return t(l|0,n);break;case"object":if(typeof l.length=="number")return p(l,n,0);break}return[]}v.exports=r},8348:function(v,p,t){v.exports=l;var r=t(1215);function l(n,s){var c=n.length;if(typeof s!="number"){s=0;for(var u=0;u<c;++u){var y=n[u];s=Math.max(s,y[0],y[1])}s=(s|0)+1}s=s|0;for(var h=new Array(s),u=0;u<s;++u)h[u]=[];for(var u=0;u<c;++u){var y=n[u];h[y[0]].push(y[1]),h[y[1]].push(y[0])}for(var b=0;b<s;++b)r(h[b],function(f,o){return f-o});return h}},5795:function(v){v.exports=p;function p(t,r,l){var n=r||0,s=l||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[n*t[12]+t[8],n*t[13]+t[9],n*t[14]+t[10],n*t[15]+t[11]],[s*t[12]-t[8],s*t[13]-t[9],s*t[14]-t[10],s*t[15]-t[11]]]}},8444:function(v,p,t){v.exports=y;var r=t(9680),l=t(5070);function n(h,b,f){return Math.min(b,Math.max(h,f))}function s(h,b,f){this.dimension=h.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=h.slice().reverse(),this._velocity=b.slice().reverse(),this._time=[f],this._scratch=[h.slice(),h.slice(),h.slice(),h.slice(),h.slice()]}var c=s.prototype;c.flush=function(h){var b=l.gt(this._time,h)-1;b<=0||(this._time.splice(0,b),this._state.splice(0,b*this.dimension),this._velocity.splice(0,b*this.dimension))},c.curve=function(h){var b=this._time,f=b.length,o=l.le(b,h),d=this._scratch[0],A=this._state,M=this._velocity,C=this.dimension,m=this.bounds;if(o<0)for(var S=C-1,x=0;x<C;++x,--S)d[x]=A[S];else if(o>=f-1)for(var S=A.length-1,a=h-b[f-1],x=0;x<C;++x,--S)d[x]=A[S]+a*M[S];else{for(var S=C*(o+1)-1,E=b[o],w=b[o+1],k=w-E||1,I=this._scratch[1],U=this._scratch[2],z=this._scratch[3],N=this._scratch[4],B=!0,x=0;x<C;++x,--S)I[x]=A[S],z[x]=M[S]*k,U[x]=A[S+C],N[x]=M[S+C]*k,B=B&&I[x]===U[x]&&z[x]===N[x]&&z[x]===0;if(B)for(var x=0;x<C;++x)d[x]=I[x];else r(I,z,U,N,(h-E)/k,d)}for(var F=m[0],H=m[1],x=0;x<C;++x)d[x]=n(F[x],H[x],d[x]);return d},c.dcurve=function(h){var b=this._time,f=b.length,o=l.le(b,h),d=this._scratch[0],A=this._state,M=this._velocity,C=this.dimension;if(o>=f-1){var m=A.length-1;h-b[f-1];for(var S=0;S<C;++S,--m)d[S]=M[m]}else{for(var m=C*(o+1)-1,x=b[o],a=b[o+1],E=a-x||1,w=this._scratch[1],k=this._scratch[2],I=this._scratch[3],U=this._scratch[4],z=!0,S=0;S<C;++S,--m)w[S]=A[m],I[S]=M[m]*E,k[S]=A[m+C],U[S]=M[m+C]*E,z=z&&w[S]===k[S]&&I[S]===U[S]&&I[S]===0;if(z)for(var S=0;S<C;++S)d[S]=0;else{r.derivative(w,I,k,U,(h-x)/E,d);for(var S=0;S<C;++S)d[S]/=E}}return d},c.lastT=function(){var h=this._time;return h[h.length-1]},c.stable=function(){for(var h=this._velocity,b=h.length,f=this.dimension-1;f>=0;--f)if(h[--b])return!1;return!0},c.jump=function(h){var b=this.lastT(),f=this.dimension;if(!(h<b||arguments.length!==f+1)){var o=this._state,d=this._velocity,A=o.length-this.dimension,M=this.bounds,C=M[0],m=M[1];this._time.push(b,h);for(var S=0;S<2;++S)for(var x=0;x<f;++x)o.push(o[A++]),d.push(0);this._time.push(h);for(var x=f;x>0;--x)o.push(n(C[x-1],m[x-1],arguments[x])),d.push(0)}},c.push=function(h){var b=this.lastT(),f=this.dimension;if(!(h<b||arguments.length!==f+1)){var o=this._state,d=this._velocity,A=o.length-this.dimension,M=h-b,C=this.bounds,m=C[0],S=C[1],x=M>1e-6?1/M:0;this._time.push(h);for(var a=f;a>0;--a){var E=n(m[a-1],S[a-1],arguments[a]);o.push(E),d.push((E-o[A++])*x)}}},c.set=function(h){var b=this.dimension;if(!(h<this.lastT()||arguments.length!==b+1)){var f=this._state,o=this._velocity,d=this.bounds,A=d[0],M=d[1];this._time.push(h);for(var C=b;C>0;--C)f.push(n(A[C-1],M[C-1],arguments[C])),o.push(0)}},c.move=function(h){var b=this.lastT(),f=this.dimension;if(!(h<=b||arguments.length!==f+1)){var o=this._state,d=this._velocity,A=o.length-this.dimension,M=this.bounds,C=M[0],m=M[1],S=h-b,x=S>1e-6?1/S:0;this._time.push(h);for(var a=f;a>0;--a){var E=arguments[a];o.push(n(C[a-1],m[a-1],o[A++]+E)),d.push(E*x)}}},c.idle=function(h){var b=this.lastT();if(!(h<b)){var f=this.dimension,o=this._state,d=this._velocity,A=o.length-f,M=this.bounds,C=M[0],m=M[1],S=h-b;this._time.push(h);for(var x=f-1;x>=0;--x)o.push(n(C[x],m[x],o[A]+S*d[A])),d.push(0),A+=1}};function u(h){for(var b=new Array(h),f=0;f<h;++f)b[f]=0;return b}function y(h,b,f){switch(arguments.length){case 0:return new s([0],[0],0);case 1:if(typeof h=="number"){var o=u(h);return new s(o,o,0)}else return new s(h,u(h.length),0);case 2:if(typeof b=="number"){var o=u(h.length);return new s(h,o,+b)}else f=0;case 3:if(h.length!==b.length)throw new Error("state and velocity lengths must match");return new s(h,b,f)}}},7080:function(v){v.exports=C;var p=0,t=1;function r(m,S,x,a,E,w){this._color=m,this.key=S,this.value=x,this.left=a,this.right=E,this._count=w}function l(m){return new r(m._color,m.key,m.value,m.left,m.right,m._count)}function n(m,S){return new r(m,S.key,S.value,S.left,S.right,S._count)}function s(m){m._count=1+(m.left?m.left._count:0)+(m.right?m.right._count:0)}function c(m,S){this._compare=m,this.root=S}var u=c.prototype;Object.defineProperty(u,"keys",{get:function(){var m=[];return this.forEach(function(S,x){m.push(S)}),m}}),Object.defineProperty(u,"values",{get:function(){var m=[];return this.forEach(function(S,x){m.push(x)}),m}}),Object.defineProperty(u,"length",{get:function(){return this.root?this.root._count:0}}),u.insert=function(m,S){for(var x=this._compare,a=this.root,E=[],w=[];a;){var k=x(m,a.key);E.push(a),w.push(k),k<=0?a=a.left:a=a.right}E.push(new r(p,m,S,null,null,1));for(var I=E.length-2;I>=0;--I){var a=E[I];w[I]<=0?E[I]=new r(a._color,a.key,a.value,E[I+1],a.right,a._count+1):E[I]=new r(a._color,a.key,a.value,a.left,E[I+1],a._count+1)}for(var I=E.length-1;I>1;--I){var U=E[I-1],a=E[I];if(U._color===t||a._color===t)break;var z=E[I-2];if(z.left===U)if(U.left===a){var N=z.right;if(N&&N._color===p)U._color=t,z.right=n(t,N),z._color=p,I-=1;else{if(z._color=p,z.left=U.right,U._color=t,U.right=z,E[I-2]=U,E[I-1]=a,s(z),s(U),I>=3){var B=E[I-3];B.left===z?B.left=U:B.right=U}break}}else{var N=z.right;if(N&&N._color===p)U._color=t,z.right=n(t,N),z._color=p,I-=1;else{if(U.right=a.left,z._color=p,z.left=a.right,a._color=t,a.left=U,a.right=z,E[I-2]=a,E[I-1]=U,s(z),s(U),s(a),I>=3){var B=E[I-3];B.left===z?B.left=a:B.right=a}break}}else if(U.right===a){var N=z.left;if(N&&N._color===p)U._color=t,z.left=n(t,N),z._color=p,I-=1;else{if(z._color=p,z.right=U.left,U._color=t,U.left=z,E[I-2]=U,E[I-1]=a,s(z),s(U),I>=3){var B=E[I-3];B.right===z?B.right=U:B.left=U}break}}else{var N=z.left;if(N&&N._color===p)U._color=t,z.left=n(t,N),z._color=p,I-=1;else{if(U.left=a.right,z._color=p,z.right=a.left,a._color=t,a.right=U,a.left=z,E[I-2]=a,E[I-1]=U,s(z),s(U),s(a),I>=3){var B=E[I-3];B.right===z?B.right=a:B.left=a}break}}}return E[0]._color=t,new c(x,E[0])};function y(m,S){if(S.left){var x=y(m,S.left);if(x)return x}var x=m(S.key,S.value);if(x)return x;if(S.right)return y(m,S.right)}function h(m,S,x,a){var E=S(m,a.key);if(E<=0){if(a.left){var w=h(m,S,x,a.left);if(w)return w}var w=x(a.key,a.value);if(w)return w}if(a.right)return h(m,S,x,a.right)}function b(m,S,x,a,E){var w=x(m,E.key),k=x(S,E.key),I;if(w<=0&&(E.left&&(I=b(m,S,x,a,E.left),I)||k>0&&(I=a(E.key,E.value),I)))return I;if(k>0&&E.right)return b(m,S,x,a,E.right)}u.forEach=function(S,x,a){if(this.root)switch(arguments.length){case 1:return y(S,this.root);case 2:return h(x,this._compare,S,this.root);case 3:return this._compare(x,a)>=0?void 0:b(x,a,this._compare,S,this.root)}},Object.defineProperty(u,"begin",{get:function(){for(var m=[],S=this.root;S;)m.push(S),S=S.left;return new f(this,m)}}),Object.defineProperty(u,"end",{get:function(){for(var m=[],S=this.root;S;)m.push(S),S=S.right;return new f(this,m)}}),u.at=function(m){if(m<0)return new f(this,[]);for(var S=this.root,x=[];;){if(x.push(S),S.left){if(m<S.left._count){S=S.left;continue}m-=S.left._count}if(!m)return new f(this,x);if(m-=1,S.right){if(m>=S.right._count)break;S=S.right}else break}return new f(this,[])},u.ge=function(m){for(var S=this._compare,x=this.root,a=[],E=0;x;){var w=S(m,x.key);a.push(x),w<=0&&(E=a.length),w<=0?x=x.left:x=x.right}return a.length=E,new f(this,a)},u.gt=function(m){for(var S=this._compare,x=this.root,a=[],E=0;x;){var w=S(m,x.key);a.push(x),w<0&&(E=a.length),w<0?x=x.left:x=x.right}return a.length=E,new f(this,a)},u.lt=function(m){for(var S=this._compare,x=this.root,a=[],E=0;x;){var w=S(m,x.key);a.push(x),w>0&&(E=a.length),w<=0?x=x.left:x=x.right}return a.length=E,new f(this,a)},u.le=function(m){for(var S=this._compare,x=this.root,a=[],E=0;x;){var w=S(m,x.key);a.push(x),w>=0&&(E=a.length),w<0?x=x.left:x=x.right}return a.length=E,new f(this,a)},u.find=function(m){for(var S=this._compare,x=this.root,a=[];x;){var E=S(m,x.key);if(a.push(x),E===0)return new f(this,a);E<=0?x=x.left:x=x.right}return new f(this,[])},u.remove=function(m){var S=this.find(m);return S?S.remove():this},u.get=function(m){for(var S=this._compare,x=this.root;x;){var a=S(m,x.key);if(a===0)return x.value;a<=0?x=x.left:x=x.right}};function f(m,S){this.tree=m,this._stack=S}var o=f.prototype;Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new f(this.tree,this._stack.slice())};function d(m,S){m.key=S.key,m.value=S.value,m.left=S.left,m.right=S.right,m._color=S._color,m._count=S._count}function A(m){for(var S,x,a,E,w=m.length-1;w>=0;--w){if(S=m[w],w===0){S._color=t;return}if(x=m[w-1],x.left===S){if(a=x.right,a.right&&a.right._color===p){if(a=x.right=l(a),E=a.right=l(a.right),x.right=a.left,a.left=x,a.right=E,a._color=x._color,S._color=t,x._color=t,E._color=t,s(x),s(a),w>1){var k=m[w-2];k.left===x?k.left=a:k.right=a}m[w-1]=a;return}else if(a.left&&a.left._color===p){if(a=x.right=l(a),E=a.left=l(a.left),x.right=E.left,a.left=E.right,E.left=x,E.right=a,E._color=x._color,x._color=t,a._color=t,S._color=t,s(x),s(a),s(E),w>1){var k=m[w-2];k.left===x?k.left=E:k.right=E}m[w-1]=E;return}if(a._color===t)if(x._color===p){x._color=t,x.right=n(p,a);return}else{x.right=n(p,a);continue}else{if(a=l(a),x.right=a.left,a.left=x,a._color=x._color,x._color=p,s(x),s(a),w>1){var k=m[w-2];k.left===x?k.left=a:k.right=a}m[w-1]=a,m[w]=x,w+1<m.length?m[w+1]=S:m.push(S),w=w+2}}else{if(a=x.left,a.left&&a.left._color===p){if(a=x.left=l(a),E=a.left=l(a.left),x.left=a.right,a.right=x,a.left=E,a._color=x._color,S._color=t,x._color=t,E._color=t,s(x),s(a),w>1){var k=m[w-2];k.right===x?k.right=a:k.left=a}m[w-1]=a;return}else if(a.right&&a.right._color===p){if(a=x.left=l(a),E=a.right=l(a.right),x.left=E.right,a.right=E.left,E.right=x,E.left=a,E._color=x._color,x._color=t,a._color=t,S._color=t,s(x),s(a),s(E),w>1){var k=m[w-2];k.right===x?k.right=E:k.left=E}m[w-1]=E;return}if(a._color===t)if(x._color===p){x._color=t,x.left=n(p,a);return}else{x.left=n(p,a);continue}else{if(a=l(a),x.left=a.right,a.right=x,a._color=x._color,x._color=p,s(x),s(a),w>1){var k=m[w-2];k.right===x?k.right=a:k.left=a}m[w-1]=a,m[w]=x,w+1<m.length?m[w+1]=S:m.push(S),w=w+2}}}}o.remove=function(){var m=this._stack;if(m.length===0)return this.tree;var S=new Array(m.length),x=m[m.length-1];S[S.length-1]=new r(x._color,x.key,x.value,x.left,x.right,x._count);for(var a=m.length-2;a>=0;--a){var x=m[a];x.left===m[a+1]?S[a]=new r(x._color,x.key,x.value,S[a+1],x.right,x._count):S[a]=new r(x._color,x.key,x.value,x.left,S[a+1],x._count)}if(x=S[S.length-1],x.left&&x.right){var E=S.length;for(x=x.left;x.right;)S.push(x),x=x.right;var w=S[E-1];S.push(new r(x._color,w.key,w.value,x.left,x.right,x._count)),S[E-1].key=x.key,S[E-1].value=x.value;for(var a=S.length-2;a>=E;--a)x=S[a],S[a]=new r(x._color,x.key,x.value,x.left,S[a+1],x._count);S[E-1].left=S[E]}if(x=S[S.length-1],x._color===p){var k=S[S.length-2];k.left===x?k.left=null:k.right===x&&(k.right=null),S.pop();for(var a=0;a<S.length;++a)S[a]._count--;return new c(this.tree._compare,S[0])}else if(x.left||x.right){x.left?d(x,x.left):x.right&&d(x,x.right),x._color=t;for(var a=0;a<S.length-1;++a)S[a]._count--;return new c(this.tree._compare,S[0])}else{if(S.length===1)return new c(this.tree._compare,null);for(var a=0;a<S.length;++a)S[a]._count--;var I=S[S.length-2];A(S),I.left===x?I.left=null:I.right=null}return new c(this.tree._compare,S[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var m=0,S=this._stack;if(S.length===0){var x=this.tree.root;return x?x._count:0}else S[S.length-1].left&&(m=S[S.length-1].left._count);for(var a=S.length-2;a>=0;--a)S[a+1]===S[a].right&&(++m,S[a].left&&(m+=S[a].left._count));return m},enumerable:!0}),o.next=function(){var m=this._stack;if(m.length!==0){var S=m[m.length-1];if(S.right)for(S=S.right;S;)m.push(S),S=S.left;else for(m.pop();m.length>0&&m[m.length-1].right===S;)S=m[m.length-1],m.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].right)return!0;for(var S=m.length-1;S>0;--S)if(m[S-1].left===m[S])return!0;return!1}}),o.update=function(m){var S=this._stack;if(S.length===0)throw new Error("Can't update empty node!");var x=new Array(S.length),a=S[S.length-1];x[x.length-1]=new r(a._color,a.key,m,a.left,a.right,a._count);for(var E=S.length-2;E>=0;--E)a=S[E],a.left===S[E+1]?x[E]=new r(a._color,a.key,a.value,x[E+1],a.right,a._count):x[E]=new r(a._color,a.key,a.value,a.left,x[E+1],a._count);return new c(this.tree._compare,x[0])},o.prev=function(){var m=this._stack;if(m.length!==0){var S=m[m.length-1];if(S.left)for(S=S.left;S;)m.push(S),S=S.right;else for(m.pop();m.length>0&&m[m.length-1].left===S;)S=m[m.length-1],m.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var m=this._stack;if(m.length===0)return!1;if(m[m.length-1].left)return!0;for(var S=m.length-1;S>0;--S)if(m[S-1].right===m[S])return!0;return!1}});function M(m,S){return m<S?-1:m>S?1:0}function C(m){return new c(m||M,null)}},7453:function(v,p,t){v.exports=a;var r=t(9557),l=t(1681),n=t(1011),s=t(2864),c=t(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function y(E,w){return E[0]=w[0],E[1]=w[1],E[2]=w[2],E}function h(E){this.gl=E,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(E)}var b=h.prototype;b.update=function(E){E=E||{};function w(oe,ve,J){if(J in E){var Y=E[J],j=this[J],K;(oe?Array.isArray(Y)&&Array.isArray(Y[0]):Array.isArray(Y))?this[J]=K=[ve(Y[0]),ve(Y[1]),ve(Y[2])]:this[J]=K=[ve(Y),ve(Y),ve(Y)];for(var te=0;te<3;++te)if(K[te]!==j[te])return!0}return!1}var k=w.bind(this,!1,Number),I=w.bind(this,!1,Boolean),U=w.bind(this,!1,String),z=w.bind(this,!0,function(oe){if(Array.isArray(oe)){if(oe.length===3)return[+oe[0],+oe[1],+oe[2],1];if(oe.length===4)return[+oe[0],+oe[1],+oe[2],+oe[3]]}return[0,0,0,1]}),N,B=!1,F=!1;if("bounds"in E)for(var H=E.bounds,X=0;X<2;++X)for(var q=0;q<3;++q)H[X][q]!==this.bounds[X][q]&&(F=!0),this.bounds[X][q]=H[X][q];if("ticks"in E){N=E.ticks,B=!0,this.autoTicks=!1;for(var X=0;X<3;++X)this.tickSpacing[X]=0}else k("tickSpacing")&&(this.autoTicks=!0,F=!0);if(this._firstInit&&("ticks"in E||"tickSpacing"in E||(this.autoTicks=!0),F=!0,B=!0,this._firstInit=!1),F&&this.autoTicks&&(N=c.create(this.bounds,this.tickSpacing),B=!0),B){for(var X=0;X<3;++X)N[X].sort(function(ve,J){return ve.x-J.x});c.equal(N,this.ticks)?B=!1:this.ticks=N}I("tickEnable"),U("tickFont")&&(B=!0),k("tickSize"),k("tickAngle"),k("tickPad"),z("tickColor");var ne=U("labels");U("labelFont")&&(ne=!0),I("labelEnable"),k("labelSize"),k("labelPad"),z("labelColor"),I("lineEnable"),I("lineMirror"),k("lineWidth"),z("lineColor"),I("lineTickEnable"),I("lineTickMirror"),k("lineTickLength"),k("lineTickWidth"),z("lineTickColor"),I("gridEnable"),k("gridWidth"),z("gridColor"),I("zeroEnable"),z("zeroLineColor"),k("zeroLineWidth"),I("backgroundEnable"),z("backgroundColor"),this._text?this._text&&(ne||B)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&B&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=l(this.gl,this.bounds,this.ticks))};function f(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var o=[new f,new f,new f];function d(E,w,k,I,U){for(var z=E.primalOffset,N=E.primalMinor,B=E.mirrorOffset,F=E.mirrorMinor,H=I[w],X=0;X<3;++X)if(w!==X){var q=z,ne=B,oe=N,ve=F;H&1<<X&&(q=B,ne=z,oe=F,ve=N),q[X]=k[0][X],ne[X]=k[1][X],U[X]>0?(oe[X]=-1,ve[X]=0):(oe[X]=0,ve[X]=1)}}var A=[0,0,0],M={model:u,view:u,projection:u,_ortho:!1};b.isOpaque=function(){return!0},b.isTransparent=function(){return!1},b.drawTransparent=function(E){};var C=0,m=[0,0,0],S=[0,0,0],x=[0,0,0];b.draw=function(E){E=E||M;for(var j=this.gl,w=E.model||u,k=E.view||u,I=E.projection||u,U=this.bounds,z=E._ortho||!1,N=s(w,k,I,U,z),B=N.cubeEdges,F=N.axis,H=k[12],X=k[13],q=k[14],ne=k[15],oe=z?2:1,ve=oe*this.pixelRatio*(I[3]*H+I[7]*X+I[11]*q+I[15]*ne)/j.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=B[J],this.lastCubeProps.axis[J]=F[J];for(var Y=o,J=0;J<3;++J)d(o[J],J,this.bounds,B,F);for(var j=this.gl,K=A,J=0;J<3;++J)this.backgroundEnable[J]?K[J]=F[J]:K[J]=0;this._background.draw(w,k,I,U,K,this.backgroundColor),this._lines.bind(w,k,I,this);for(var J=0;J<3;++J){var te=[0,0,0];F[J]>0?te[J]=U[1][J]:te[J]=U[0][J];for(var se=0;se<2;++se){var Q=(J+1+se)%3,ee=(J+1+(se^1))%3;this.gridEnable[Q]&&this._lines.drawGrid(Q,ee,this.bounds,te,this.gridColor[Q],this.gridWidth[Q]*this.pixelRatio)}for(var se=0;se<2;++se){var Q=(J+1+se)%3,ee=(J+1+(se^1))%3;this.zeroEnable[ee]&&Math.min(U[0][ee],U[1][ee])<=0&&Math.max(U[0][ee],U[1][ee])>=0&&this._lines.drawZero(Q,ee,this.bounds,te,this.zeroLineColor[ee],this.zeroLineWidth[ee]*this.pixelRatio)}}for(var J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,Y[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,Y[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);for(var le=y(m,Y[J].primalMinor),ie=y(S,Y[J].mirrorMinor),he=this.lineTickLength,se=0;se<3;++se){var xe=ve/w[5*se];le[se]*=he[se]*xe,ie[se]*=he[se]*xe}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,Y[J].primalOffset,le,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,Y[J].mirrorOffset,ie,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}this._lines.unbind(),this._text.bind(w,k,I,this.pixelRatio);var Se,Ee=.5,Ne,He;function Ce(Ge){He=[0,0,0],He[Ge]=1}function be(Ge,nt,qe){var Ke=(Ge+1)%3,$e=(Ge+2)%3,vt=nt[Ke],yt=nt[$e],mt=qe[Ke],Et=qe[$e];if(vt>0&&Et>0){Ce(Ke);return}else if(vt>0&&Et<0){Ce(Ke);return}else if(vt<0&&Et>0){Ce(Ke);return}else if(vt<0&&Et<0){Ce(Ke);return}else if(yt>0&&mt>0){Ce($e);return}else if(yt>0&&mt<0){Ce($e);return}else if(yt<0&&mt>0){Ce($e);return}else if(yt<0&&mt<0){Ce($e);return}}for(var J=0;J<3;++J){for(var we=Y[J].primalMinor,ke=Y[J].mirrorMinor,Fe=y(x,Y[J].primalOffset),se=0;se<3;++se)this.lineTickEnable[J]&&(Fe[se]+=ve*we[se]*Math.max(this.lineTickLength[se],0)/w[5*se]);var Pe=[0,0,0];if(Pe[J]=1,this.tickEnable[J]){this.tickAngle[J]===-3600?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,Ne=1,Se=[this.tickAlign[J],Ee,Ne],Se[0]==="auto"?Se[0]=C:Se[0]=parseInt(""+Se[0]),He=[0,0,0],be(J,we,ke);for(var se=0;se<3;++se)Fe[se]+=ve*we[se]*this.tickPad[se]/w[5*se];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],Fe,this.tickColor[J],Pe,He,Se)}if(this.labelEnable[J]){Ne=0,He=[0,0,0],this.labels[J].length>4&&(Ce(J),Ne=1),Se=[this.labelAlign[J],Ee,Ne],Se[0]==="auto"?Se[0]=C:Se[0]=parseInt(""+Se[0]);for(var se=0;se<3;++se)Fe[se]+=ve*we[se]*this.labelPad[se]/w[5*se];Fe[J]+=.5*(U[0][J]+U[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],Fe,this.labelColor[J],[0,0,0],He,Se)}}this._text.unbind()},b.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function a(E,w){var k=new h(E);return k.update(w),k}},1011:function(v,p,t){v.exports=u;var r=t(5827),l=t(2944),n=t(1943).bg;function s(y,h,b,f){this.gl=y,this.buffer=h,this.vao=b,this.shader=f}var c=s.prototype;c.draw=function(y,h,b,f,o,d){for(var A=!1,M=0;M<3;++M)A=A||o[M];if(A){var C=this.gl;C.enable(C.POLYGON_OFFSET_FILL),C.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:y,view:h,projection:b,bounds:f,enable:o,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),C.disable(C.POLYGON_OFFSET_FILL)}},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function u(y){for(var h=[],b=[],f=0,o=0;o<3;++o)for(var d=(o+1)%3,A=(o+2)%3,M=[0,0,0],C=[0,0,0],m=-1;m<=1;m+=2){b.push(f,f+2,f+1,f+1,f+2,f+3),M[o]=m,C[o]=m;for(var S=-1;S<=1;S+=2){M[d]=S;for(var x=-1;x<=1;x+=2)M[A]=x,h.push(M[0],M[1],M[2],C[0],C[1],C[2]),f+=1}var a=d;d=A,A=a}var E=r(y,new Float32Array(h)),w=r(y,new Uint16Array(b),y.ELEMENT_ARRAY_BUFFER),k=l(y,[{buffer:E,type:y.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:y.FLOAT,size:3,offset:12,stride:24}],w),I=n(y);return I.attributes.position.location=0,I.attributes.normal.location=1,new s(y,E,k,I)}},2864:function(v,p,t){v.exports=m;var r=t(2288),l=t(104),n=t(4670),s=t(417),c=new Array(16),u=new Array(8),y=new Array(8),h=new Array(3),b=[0,0,0];(function(){for(var S=0;S<8;++S)u[S]=[1,1,1,1],y[S]=[1,1,1]})();function f(S,x,a){for(var E=0;E<4;++E){S[E]=a[12+E];for(var w=0;w<3;++w)S[E]+=x[w]*a[4*w+E]}}var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(S){for(var x=0;x<o.length;++x)if(S=n.positive(S,o[x]),S.length<3)return 0;for(var a=S[0],E=a[0]/a[3],w=a[1]/a[3],k=0,x=1;x+1<S.length;++x){var I=S[x],U=S[x+1],z=I[0]/I[3],N=I[1]/I[3],B=U[0]/U[3],F=U[1]/U[3],H=z-E,X=N-w,q=B-E,ne=F-w;k+=Math.abs(H*ne-X*q)}return k}var A=[1,1,1],M=[0,0,0],C={cubeEdges:A,axis:M};function m(S,x,a,E,w){l(c,x,S),l(c,a,c);for(var k=0,I=0;I<2;++I){h[2]=E[I][2];for(var U=0;U<2;++U){h[1]=E[U][1];for(var z=0;z<2;++z)h[0]=E[z][0],f(u[k],h,c),k+=1}}for(var N=-1,I=0;I<8;++I){for(var B=u[I][3],F=0;F<3;++F)y[I][F]=u[I][F]/B;w&&(y[I][2]*=-1),B<0&&(N<0||y[I][2]<y[N][2])&&(N=I)}if(N<0){N=0;for(var H=0;H<3;++H){for(var X=(H+2)%3,q=(H+1)%3,ne=-1,oe=-1,ve=0;ve<2;++ve){var J=ve<<H,Y=J+(ve<<X)+(1-ve<<q),j=J+(1-ve<<X)+(ve<<q);s(y[J],y[Y],y[j],b)<0||(ve?ne=1:oe=1)}if(ne<0||oe<0){oe>ne&&(N|=1<<H);continue}for(var ve=0;ve<2;++ve){var J=ve<<H,Y=J+(ve<<X)+(1-ve<<q),j=J+(1-ve<<X)+(ve<<q),K=d([u[J],u[Y],u[j],u[J+(1<<X)+(1<<q)]]);ve?ne=K:oe=K}if(oe>ne){N|=1<<H;continue}}}for(var te=7^N,se=-1,I=0;I<8;++I)I===N||I===te||(se<0||y[se][1]>y[I][1])&&(se=I);for(var Q=-1,I=0;I<3;++I){var ee=se^1<<I;if(!(ee===N||ee===te)){Q<0&&(Q=ee);var q=y[ee];q[0]<y[Q][0]&&(Q=ee)}}for(var le=-1,I=0;I<3;++I){var ee=se^1<<I;if(!(ee===N||ee===te||ee===Q)){le<0&&(le=ee);var q=y[ee];q[0]>y[le][0]&&(le=ee)}}var ie=A;ie[0]=ie[1]=ie[2]=0,ie[r.log2(Q^se)]=se&Q,ie[r.log2(se^le)]=se&le;var he=le^7;he===N||he===te?(he=Q^7,ie[r.log2(le^he)]=he&le):ie[r.log2(Q^he)]=he&Q;for(var xe=M,Se=N,H=0;H<3;++H)Se&1<<H?xe[H]=-1:xe[H]=1;return C}},1681:function(v,p,t){v.exports=A;var r=t(5827),l=t(2944),n=t(1943).j,s=[0,0,0],c=[0,0,0],u=[0,0,0],y=[0,0,0],h=[1,1];function b(M){return M[0]=M[1]=M[2]=0,M}function f(M,C){return M[0]=C[0],M[1]=C[1],M[2]=C[2],M}function o(M,C,m,S,x,a,E,w){this.gl=M,this.vertBuffer=C,this.vao=m,this.shader=S,this.tickCount=x,this.tickOffset=a,this.gridCount=E,this.gridOffset=w}var d=o.prototype;d.bind=function(M,C,m){this.shader.bind(),this.shader.uniforms.model=M,this.shader.uniforms.view=C,this.shader.uniforms.projection=m,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=h,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(M,C,m,S,x){var a=b(c);this.shader.uniforms.majorAxis=c,a[M]=C[1][M]-C[0][M],this.shader.uniforms.minorAxis=a;var E=f(y,m);E[M]+=C[0][M],this.shader.uniforms.offset=E,this.shader.uniforms.lineWidth=x,this.shader.uniforms.color=S;var w=b(u);w[(M+2)%3]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,6);var w=b(u);w[(M+1)%3]=1,this.shader.uniforms.screenAxis=w,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(M,C,m,S,x){if(this.tickCount[M]){var a=b(s);a[M]=1,this.shader.uniforms.majorAxis=a,this.shader.uniforms.offset=C,this.shader.uniforms.minorAxis=m,this.shader.uniforms.color=S,this.shader.uniforms.lineWidth=x;var E=b(u);E[M]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[M],this.tickOffset[M])}},d.drawGrid=function(M,C,m,S,x,a){if(this.gridCount[M]){var E=b(c);E[C]=m[1][C]-m[0][C],this.shader.uniforms.minorAxis=E;var w=f(y,S);w[C]+=m[0][C],this.shader.uniforms.offset=w;var k=b(s);k[M]=1,this.shader.uniforms.majorAxis=k;var I=b(u);I[M]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=x,this.vao.draw(this.gl.TRIANGLES,this.gridCount[M],this.gridOffset[M])}},d.drawZero=function(M,C,m,S,x,a){var E=b(c);this.shader.uniforms.majorAxis=E,E[M]=m[1][M]-m[0][M],this.shader.uniforms.minorAxis=E;var w=f(y,S);w[M]+=m[0][M],this.shader.uniforms.offset=w;var k=b(u);k[C]=1,this.shader.uniforms.screenAxis=k,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=x,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function A(M,C,m){var S=[],x=[0,0,0],a=[0,0,0],E=[0,0,0],w=[0,0,0];S.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var k=0;k<3;++k){for(var z=S.length/3|0,I=0;I<m[k].length;++I){var U=+m[k][I].x;S.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var B=S.length/3|0;x[k]=z,a[k]=B-z;for(var z=S.length/3|0,N=0;N<m[k].length;++N){var U=+m[k][N].x;S.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var B=S.length/3|0;E[k]=z,w[k]=B-z}var F=r(M,new Float32Array(S)),H=l(M,[{buffer:F,type:M.FLOAT,size:3,stride:0,offset:0}]),X=n(M);return X.attributes.position.location=0,new o(M,F,H,X,a,x,w,E)}},1943:function(v,p,t){var r=t(6832),l=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.j=function(b){return l(b,n,s,null,[{name:"position",type:"vec3"}])};var c=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),u=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);p.f=function(b){return l(b,c,u,null,[{name:"position",type:"vec3"}])};var y=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),h=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);p.bg=function(b){return l(b,y,h,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,p,t){v.exports=d;var r=t(5827),l=t(2944),n=t(875),s=t(1943).f,c=window||g.global||{},u=c.__TEXT_CACHE||{};c.__TEXT_CACHE={};var y=3;function h(A,M,C,m){this.gl=A,this.shader=M,this.buffer=C,this.vao=m,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var b=h.prototype,f=[0,0];b.bind=function(A,M,C,m){this.vao.bind(),this.shader.bind();var S=this.shader.uniforms;S.model=A,S.view=M,S.projection=C,S.pixelScale=m,f[0]=this.gl.drawingBufferWidth,f[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=f},b.unbind=function(){this.vao.unbind()},b.update=function(A,M,C,m,S){var x=[];function a(F,H,X,q,ne,oe){var ve=u[X];ve||(ve=u[X]={});var J=ve[H];J||(J=ve[H]=o(H,{triangles:!0,font:X,textAlign:"center",textBaseline:"middle",lineSpacing:ne,styletags:oe}));for(var Y=(q||12)/12,j=J.positions,K=J.cells,te=0,se=K.length;te<se;++te)for(var Q=K[te],ee=2;ee>=0;--ee){var le=j[Q[ee]];x.push(Y*le[0],-Y*le[1],F)}}for(var E=[0,0,0],w=[0,0,0],k=[0,0,0],I=[0,0,0],U=1.25,z={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},N=0;N<3;++N){k[N]=x.length/y|0,a(.5*(A[0][N]+A[1][N]),M[N],C[N],12,U,z),I[N]=(x.length/y|0)-k[N],E[N]=x.length/y|0;for(var B=0;B<m[N].length;++B)m[N][B].text&&a(m[N][B].x,m[N][B].text,m[N][B].font||S,m[N][B].fontSize||12,U,z);w[N]=(x.length/y|0)-E[N]}this.buffer.update(x),this.tickOffset=E,this.tickCount=w,this.labelOffset=k,this.labelCount=I},b.drawTicks=function(A,M,C,m,S,x,a,E){this.tickCount[A]&&(this.shader.uniforms.axis=x,this.shader.uniforms.color=S,this.shader.uniforms.angle=C,this.shader.uniforms.scale=M,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[A],this.tickOffset[A]))},b.drawLabel=function(A,M,C,m,S,x,a,E){this.labelCount[A]&&(this.shader.uniforms.axis=x,this.shader.uniforms.color=S,this.shader.uniforms.angle=C,this.shader.uniforms.scale=M,this.shader.uniforms.offset=m,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=E,this.vao.draw(this.gl.TRIANGLES,this.labelCount[A],this.labelOffset[A]))},b.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function o(A,M){try{return n(A,M)}catch(C){return console.warn('error vectorizing text:"'+A+'" error:',C),{cells:[],positions:[]}}}function d(A,M,C,m,S,x){var a=r(A),E=l(A,[{buffer:a,size:3}]),w=s(A);w.attributes.position.location=0;var k=new h(A,w,a,E);return k.update(M,C,m,S,x),k}},8468:function(v,p){p.create=r,p.equal=l;function t(n,s){var c=n+"",u=c.indexOf("."),y=0;u>=0&&(y=c.length-u-1);var h=Math.pow(10,y),b=Math.round(n*s*h),f=b+"";if(f.indexOf("e")>=0)return f;var o=b/h,d=b%h;b<0?(o=-Math.ceil(o)|0,d=-d|0):(o=Math.floor(o)|0,d=d|0);var A=""+o;if(b<0&&(A="-"+A),y){for(var M=""+d;M.length<y;)M="0"+M;return A+"."+M}else return A}function r(n,s){for(var c=[],u=0;u<3;++u){var y=[];.5*(n[0][u]+n[1][u]);for(var h=0;h*s[u]<=n[1][u];++h)y.push({x:h*s[u],text:t(s[u],h)});for(var h=-1;h*s[u]>=n[0][u];--h)y.push({x:h*s[u],text:t(s[u],h)});c.push(y)}return c}function l(n,s){for(var c=0;c<3;++c){if(n[c].length!==s[c].length)return!1;for(var u=0;u<n[c].length;++u){var y=n[c][u],h=s[c][u];if(y.x!==h.x||y.text!==h.text||y.font!==h.font||y.fontColor!==h.fontColor||y.fontSize!==h.fontSize||y.dx!==h.dx||y.dy!==h.dy)return!1}}return!0}},2771:function(v,p,t){v.exports=C;var r=t(5795),l=t(4670),n=t(2864),s=t(104),c=t(2142),u=t(6342),y=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),h=new Float32Array(16);function b(m,S,x){this.lo=m,this.hi=S,this.pixelsPerDataUnit=x}var f=[0,0,0,1],o=[0,0,0,1];function d(m,S,x,a,E){for(var w=0;w<3;++w){for(var k=f,I=o,U=0;U<3;++U)I[U]=k[U]=x[U];I[3]=k[3]=1,I[w]+=1,u(I,I,S),I[3]<0&&(m[w]=1/0),k[w]-=1,u(k,k,S),k[3]<0&&(m[w]=1/0);var z=(k[0]/k[3]-I[0]/I[3])*a,N=(k[1]/k[3]-I[1]/I[3])*E;m[w]=.25*Math.sqrt(z*z+N*N)}return m}var A=[new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0)],M=[0,0,0];function C(m,S,x,a,N){var w=S.model||y,k=S.view||y,I=S.projection||y,U=S._ortho||!1,z=m.bounds,N=N||n(w,k,I,z,U),B=N.axis;s(h,k,w),s(h,I,h);for(var F=A,H=0;H<3;++H)F[H].lo=1/0,F[H].hi=-1/0,F[H].pixelsPerDataUnit=1/0;var X=r(c(h,h));c(h,h);for(var q=0;q<3;++q){var ne=(q+1)%3,oe=(q+2)%3,ve=M;e:for(var H=0;H<2;++H){var J=[];if(B[q]<0!=!!H){ve[q]=z[H][q];for(var Y=0;Y<2;++Y){ve[ne]=z[Y^H][ne];for(var j=0;j<2;++j)ve[oe]=z[j^Y^H][oe],J.push(ve.slice())}for(var K=U?5:4,Y=K;Y===K;++Y){if(J.length===0)continue e;J=l.positive(J,X[Y])}for(var Y=0;Y<J.length;++Y)for(var oe=J[Y],te=d(M,h,oe,x,a),j=0;j<3;++j)F[j].lo=Math.min(F[j].lo,oe[j]),F[j].hi=Math.max(F[j].hi,oe[j]),j!==q&&(F[j].pixelsPerDataUnit=Math.min(F[j].pixelsPerDataUnit,Math.abs(te[j])))}}}return F}},5827:function(v,p,t){var r=t(5306),l=t(7498),n=t(5050),s=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function c(o,d,A,M,C){this.gl=o,this.type=d,this.handle=A,this.length=M,this.usage=C}var u=c.prototype;u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)};function y(o,d,A,M,C,m){var S=C.length*C.BYTES_PER_ELEMENT;if(m<0)return o.bufferData(d,C,M),S;if(S+m>A)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(d,m,C),A}function h(o,d){for(var A=r.malloc(o.length,d),M=o.length,C=0;C<M;++C)A[C]=o[C];return A}function b(o,d){for(var A=1,M=d.length-1;M>=0;--M){if(d[M]!==A)return!1;A*=o[M]}return!0}u.update=function(o,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof o=="object"&&typeof o.shape<"u"){var A=o.dtype;if(s.indexOf(A)<0&&(A="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var M=gl.getExtension("OES_element_index_uint");M&&A!=="uint16"?A="uint32":A="uint16"}if(A===o.dtype&&b(o.shape,o.stride))o.offset===0&&o.data.length===o.shape[0]?this.length=y(this.gl,this.type,this.length,this.usage,o.data,d):this.length=y(this.gl,this.type,this.length,this.usage,o.data.subarray(o.offset,o.shape[0]),d);else{var C=r.malloc(o.size,A),m=n(C,o.shape);l.assign(m,o),d<0?this.length=y(this.gl,this.type,this.length,this.usage,C,d):this.length=y(this.gl,this.type,this.length,this.usage,C.subarray(0,o.size),d),r.free(C)}}else if(Array.isArray(o)){var S;this.type===this.gl.ELEMENT_ARRAY_BUFFER?S=h(o,"uint16"):S=h(o,"float32"),d<0?this.length=y(this.gl,this.type,this.length,this.usage,S,d):this.length=y(this.gl,this.type,this.length,this.usage,S.subarray(0,o.length),d),r.free(S)}else if(typeof o=="object"&&typeof o.length=="number")this.length=y(this.gl,this.type,this.length,this.usage,o,d);else if(typeof o=="number"||o===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");o=o|0,o<=0&&(o=1),this.gl.bufferData(this.type,o|0,this.usage),this.length=o}else throw new Error("gl-buffer: Invalid data type")};function f(o,d,A,M){if(A=A||o.ARRAY_BUFFER,M=M||o.DYNAMIC_DRAW,A!==o.ARRAY_BUFFER&&A!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(M!==o.DYNAMIC_DRAW&&M!==o.STATIC_DRAW&&M!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var C=o.createBuffer(),m=new c(o,A,C,0,M);return m.update(d),m}v.exports=f},1140:function(v,p,t){var r=t(2858);v.exports=function(n,s){var c=n.positions,u=n.vectors,y={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return s&&(s[0]=[0,0,0],s[1]=[0,0,0]),y;for(var h=0,b=1/0,f=-1/0,o=1/0,d=-1/0,A=1/0,M=-1/0,C=null,m=null,S=[],x=1/0,a=!1,E=0;E<c.length;E++){var w=c[E];b=Math.min(w[0],b),f=Math.max(w[0],f),o=Math.min(w[1],o),d=Math.max(w[1],d),A=Math.min(w[2],A),M=Math.max(w[2],M);var k=u[E];if(r.length(k)>h&&(h=r.length(k)),E){var I=2*r.distance(C,w)/(r.length(m)+r.length(k));I?(x=Math.min(x,I),a=!1):a=!0}a||(C=w,m=k),S.push(k)}var U=[b,o,A],z=[f,d,M];s&&(s[0]=U,s[1]=z),h===0&&(h=1);var N=1/h;isFinite(x)||(x=1),y.vectorScale=x;var B=n.coneSize||.5;n.absoluteConeSize&&(B=n.absoluteConeSize*N),y.coneScale=B;for(var E=0,F=0;E<c.length;E++)for(var w=c[E],H=w[0],X=w[1],q=w[2],ne=S[E],oe=r.length(ne)*N,ve=0,J=8;ve<J;ve++){y.positions.push([H,X,q,F++]),y.positions.push([H,X,q,F++]),y.positions.push([H,X,q,F++]),y.positions.push([H,X,q,F++]),y.positions.push([H,X,q,F++]),y.positions.push([H,X,q,F++]),y.vectors.push(ne),y.vectors.push(ne),y.vectors.push(ne),y.vectors.push(ne),y.vectors.push(ne),y.vectors.push(ne),y.vertexIntensity.push(oe,oe,oe),y.vertexIntensity.push(oe,oe,oe);var Y=y.positions.length;y.cells.push([Y-6,Y-5,Y-4],[Y-3,Y-2,Y-1])}return y};var l=t(7234);v.exports.createMesh=t(5028),v.exports.createConeMesh=function(n,s){return v.exports.createMesh(n,s,{shaders:l,traceType:"cone"})}},5028:function(v,p,t){var r=t(5158),l=t(5827),n=t(2944),s=t(8931),c=t(104),u=t(7437),y=t(5050),h=t(9156),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(S,x,a,E,w,k,I,U,z,N,B){this.gl=S,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=x,this.dirty=!0,this.triShader=a,this.pickShader=E,this.trianglePositions=w,this.triangleVectors=k,this.triangleColors=U,this.triangleUVs=z,this.triangleIds=I,this.triangleVAO=N,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=B,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=b,this._view=b,this._projection=b,this._resolution=[1,1]}var o=f.prototype;o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(S){this.pickId=S};function d(S){for(var x=h({colormap:S,nshades:256,format:"rgba"}),a=new Uint8Array(256*4),E=0;E<256;++E){for(var w=x[E],k=0;k<3;++k)a[4*E+k]=w[k];a[4*E+3]=w[3]*255}return y(a,[256,256,4],[4,0,1])}function A(S){for(var x=S.length,a=new Array(x),E=0;E<x;++E)a[E]=S[E][2];return a}o.update=function(S){S=S||{};var x=this.gl;this.dirty=!0,"lightPosition"in S&&(this.lightPosition=S.lightPosition),"opacity"in S&&(this.opacity=S.opacity),"ambient"in S&&(this.ambientLight=S.ambient),"diffuse"in S&&(this.diffuseLight=S.diffuse),"specular"in S&&(this.specularLight=S.specular),"roughness"in S&&(this.roughness=S.roughness),"fresnel"in S&&(this.fresnel=S.fresnel),S.tubeScale!==void 0&&(this.tubeScale=S.tubeScale),S.vectorScale!==void 0&&(this.vectorScale=S.vectorScale),S.coneScale!==void 0&&(this.coneScale=S.coneScale),S.coneOffset!==void 0&&(this.coneOffset=S.coneOffset),S.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=x.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=x.LINEAR,this.texture.setPixels(d(S.colormap)),this.texture.generateMipmap());var a=S.cells,E=S.positions,w=S.vectors;if(!(!E||!a||!w)){var k=[],I=[],U=[],z=[],N=[];this.cells=a,this.positions=E,this.vectors=w;var B=S.meshColor||[1,1,1,1],F=S.vertexIntensity,H=1/0,X=-1/0;if(F)if(S.vertexIntensityBounds)H=+S.vertexIntensityBounds[0],X=+S.vertexIntensityBounds[1];else for(var q=0;q<F.length;++q){var ne=F[q];H=Math.min(H,ne),X=Math.max(X,ne)}else for(var q=0;q<E.length;++q){var ne=E[q][2];H=Math.min(H,ne),X=Math.max(X,ne)}F?this.intensity=F:this.intensity=A(E),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var q=0;q<E.length;++q)for(var oe=E[q],ve=0;ve<3;++ve)isNaN(oe[ve])||!isFinite(oe[ve])||(this.bounds[0][ve]=Math.min(this.bounds[0][ve],oe[ve]),this.bounds[1][ve]=Math.max(this.bounds[1][ve],oe[ve]));var J=0;e:for(var q=0;q<a.length;++q){var Y=a[q];switch(Y.length){case 3:for(var ve=0;ve<3;++ve)for(var j=Y[ve],oe=E[j],K=0;K<3;++K)if(isNaN(oe[K])||!isFinite(oe[K]))continue e;for(var ve=0;ve<3;++ve){var j=Y[2-ve],oe=E[j];k.push(oe[0],oe[1],oe[2],oe[3]);var te=w[j];I.push(te[0],te[1],te[2],te[3]||0);var se=B;se.length===3?U.push(se[0],se[1],se[2],1):U.push(se[0],se[1],se[2],se[3]);var Q;F?Q=[(F[j]-H)/(X-H),0]:Q=[(oe[2]-H)/(X-H),0],z.push(Q[0],Q[1]),N.push(q)}J+=1;break}}this.triangleCount=J,this.trianglePositions.update(k),this.triangleVectors.update(I),this.triangleColors.update(U),this.triangleUVs.update(z),this.triangleIds.update(new Uint32Array(N))}},o.drawTransparent=o.draw=function(S){S=S||{};for(var x=this.gl,a=S.model||b,E=S.view||b,w=S.projection||b,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)k[0][I]=Math.max(k[0][I],this.clipBounds[0][I]),k[1][I]=Math.min(k[1][I],this.clipBounds[1][I]);var U={model:a,view:E,projection:w,inverseModel:b.slice(),clipBounds:k,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};U.inverseModel=u(U.inverseModel,U.model),x.disable(x.CULL_FACE),this.texture.bind(0);var z=new Array(16);c(z,U.view,U.model),c(z,U.projection,z),u(z,z);for(var I=0;I<3;++I)U.eyePosition[I]=z[12+I]/z[15];for(var N=z[15],I=0;I<3;++I)N+=this.lightPosition[I]*z[4*I+3];for(var I=0;I<3;++I){for(var B=z[12+I],F=0;F<3;++F)B+=z[4*F+I]*this.lightPosition[F];U.lightPosition[I]=B/N}if(this.triangleCount>0){var H=this.triShader;H.bind(),H.uniforms=U,this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},o.drawPick=function(S){S=S||{};for(var x=this.gl,a=S.model||b,E=S.view||b,w=S.projection||b,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],I=0;I<3;++I)k[0][I]=Math.max(k[0][I],this.clipBounds[0][I]),k[1][I]=Math.min(k[1][I],this.clipBounds[1][I]);this._model=[].slice.call(a),this._view=[].slice.call(E),this._projection=[].slice.call(w),this._resolution=[x.drawingBufferWidth,x.drawingBufferHeight];var U={model:a,view:E,projection:w,clipBounds:k,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},z=this.pickShader;z.bind(),z.uniforms=U,this.triangleCount>0&&(this.triangleVAO.bind(),x.drawArrays(x.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},o.pick=function(S){if(!S||S.id!==this.pickId)return null;var x=S.value[0]+256*S.value[1]+65536*S.value[2],a=this.cells[x],E=this.positions[a[1]].slice(0,3),w={position:E,dataCoordinate:E,index:Math.floor(a[1]/48)};return this.traceType==="cone"?w.index=Math.floor(a[1]/48):this.traceType==="streamtube"&&(w.intensity=this.intensity[a[1]],w.velocity=this.vectors[a[1]].slice(0,3),w.divergence=this.vectors[a[1]][3],w.index=x),w},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function M(S,x){var a=r(S,x.meshShader.vertex,x.meshShader.fragment,null,x.meshShader.attributes);return a.attributes.position.location=0,a.attributes.color.location=2,a.attributes.uv.location=3,a.attributes.vector.location=4,a}function C(S,x){var a=r(S,x.pickShader.vertex,x.pickShader.fragment,null,x.pickShader.attributes);return a.attributes.position.location=0,a.attributes.id.location=1,a.attributes.vector.location=4,a}function m(S,x,a){var E=a.shaders;arguments.length===1&&(x=S,S=x.gl);var w=M(S,E),k=C(S,E),I=s(S,y(new Uint8Array([255,255,255,255]),[1,1,4]));I.generateMipmap(),I.minFilter=S.LINEAR_MIPMAP_LINEAR,I.magFilter=S.LINEAR;var U=l(S),z=l(S),N=l(S),B=l(S),F=l(S),H=n(S,[{buffer:U,type:S.FLOAT,size:4},{buffer:F,type:S.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:N,type:S.FLOAT,size:4},{buffer:B,type:S.FLOAT,size:2},{buffer:z,type:S.FLOAT,size:4}]),X=new f(S,I,w,k,U,z,F,N,B,H,a.traceType||"cone");return X.update(x),X}v.exports=m},7234:function(v,p,t){var r=t(6832),l=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:l,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},p.pickShader={vertex:s,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,p,t){var r=t(1950);v.exports=function(n){return r[n]}},3110:function(v,p,t){v.exports=f;var r=t(5827),l=t(2944),n=t(7667),s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(o,d,A,M){this.gl=o,this.shader=M,this.buffer=d,this.vao=A,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=c.prototype;u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(o){var d=this.gl,A=this.shader.uniforms;this.shader.bind();var M=A.view=o.view||s,C=A.projection=o.projection||s;A.model=o.model||s,A.clipBounds=this.clipBounds,A.opacity=this.opacity;var m=M[12],S=M[13],x=M[14],a=M[15],E=o._ortho||!1,w=E?2:1,k=w*this.pixelRatio*(C[3]*m+C[7]*S+C[11]*x+C[15]*a)/d.drawingBufferHeight;this.vao.bind();for(var I=0;I<3;++I)d.lineWidth(this.lineWidth[I]*this.pixelRatio),A.capSize=this.capSize[I]*k,this.lineCount[I]&&d.drawArrays(d.LINES,this.lineOffset[I],this.lineCount[I]);this.vao.unbind()};function y(o,d){for(var A=0;A<3;++A)o[0][A]=Math.min(o[0][A],d[A]),o[1][A]=Math.max(o[1][A],d[A])}var h=function(){for(var o=new Array(3),d=0;d<3;++d){for(var A=[],M=1;M<=2;++M)for(var C=-1;C<=1;C+=2){var m=(M+d)%3,S=[0,0,0];S[m]=C,A.push(S)}o[d]=A}return o}();function b(o,d,A,M){for(var C=h[M],m=0;m<C.length;++m){var S=C[m];o.push(d[0],d[1],d[2],A[0],A[1],A[2],A[3],S[0],S[1],S[2])}return C.length}u.update=function(o){o=o||{},"lineWidth"in o&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=o.color||[[0,0,0],[0,0,0],[0,0,0]],A=o.position,M=o.error;if(Array.isArray(d[0])||(d=[d,d,d]),A&&M){var C=[],m=A.length,S=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var x=0;x<3;++x){this.lineOffset[x]=S;e:for(var a=0;a<m;++a){for(var E=A[a],w=0;w<3;++w)if(isNaN(E[w])||!isFinite(E[w]))continue e;var k=M[a],I=d[x];if(Array.isArray(I[0])&&(I=d[a]),I.length===3?I=[I[0],I[1],I[2],1]:I.length===4&&(I=[I[0],I[1],I[2],I[3]],!this.hasAlpha&&I[3]<1&&(this.hasAlpha=!0)),!(isNaN(k[0][x])||isNaN(k[1][x]))){if(k[0][x]<0){var U=E.slice();U[x]+=k[0][x],C.push(E[0],E[1],E[2],I[0],I[1],I[2],I[3],0,0,0,U[0],U[1],U[2],I[0],I[1],I[2],I[3],0,0,0),y(this.bounds,U),S+=2+b(C,U,I,x)}if(k[1][x]>0){var U=E.slice();U[x]+=k[1][x],C.push(E[0],E[1],E[2],I[0],I[1],I[2],I[3],0,0,0,U[0],U[1],U[2],I[0],I[1],I[2],I[3],0,0,0),y(this.bounds,U),S+=2+b(C,U,I,x)}}}this.lineCount[x]=S-this.lineOffset[x]}this.buffer.update(C)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function f(o){var d=o.gl,A=r(d),M=l(d,[{buffer:A,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:A,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:A,type:d.FLOAT,size:3,offset:28,stride:40}]),C=n(d);C.attributes.position.location=0,C.attributes.color.location=1,C.attributes.offset.location=2;var m=new c(d,A,M,C);return m.update(o),m}},7667:function(v,p,t){var r=t(6832),l=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),s=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(c){return l(c,n,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,p,t){var r=t(8931);v.exports=S;var l=null,n,s,c,u;function y(x){var a=x.getParameter(x.FRAMEBUFFER_BINDING),E=x.getParameter(x.RENDERBUFFER_BINDING),w=x.getParameter(x.TEXTURE_BINDING_2D);return[a,E,w]}function h(x,a){x.bindFramebuffer(x.FRAMEBUFFER,a[0]),x.bindRenderbuffer(x.RENDERBUFFER,a[1]),x.bindTexture(x.TEXTURE_2D,a[2])}function b(x,a){var E=x.getParameter(a.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(E+1);for(var w=0;w<=E;++w){for(var k=new Array(E),I=0;I<w;++I)k[I]=x.COLOR_ATTACHMENT0+I;for(var I=w;I<E;++I)k[I]=x.NONE;l[w]=k}}function f(x){switch(x){case n:throw new Error("gl-fbo: Framebuffer unsupported");case s:throw new Error("gl-fbo: Framebuffer incomplete attachment");case c:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case u:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(x,a,E,w,k,I){if(!w)return null;var U=r(x,a,E,k,w);return U.magFilter=x.NEAREST,U.minFilter=x.NEAREST,U.mipSamples=1,U.bind(),x.framebufferTexture2D(x.FRAMEBUFFER,I,x.TEXTURE_2D,U.handle,0),U}function d(x,a,E,w,k){var I=x.createRenderbuffer();return x.bindRenderbuffer(x.RENDERBUFFER,I),x.renderbufferStorage(x.RENDERBUFFER,w,a,E),x.framebufferRenderbuffer(x.FRAMEBUFFER,k,x.RENDERBUFFER,I),I}function A(x){var a=y(x.gl),E=x.gl,w=x.handle=E.createFramebuffer(),k=x._shape[0],I=x._shape[1],U=x.color.length,z=x._ext,N=x._useStencil,B=x._useDepth,F=x._colorType;E.bindFramebuffer(E.FRAMEBUFFER,w);for(var H=0;H<U;++H)x.color[H]=o(E,k,I,F,E.RGBA,E.COLOR_ATTACHMENT0+H);U===0?(x._color_rb=d(E,k,I,E.RGBA4,E.COLOR_ATTACHMENT0),z&&z.drawBuffersWEBGL(l[0])):U>1&&z.drawBuffersWEBGL(l[U]);var X=E.getExtension("WEBGL_depth_texture");X?N?x.depth=o(E,k,I,X.UNSIGNED_INT_24_8_WEBGL,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):B&&(x.depth=o(E,k,I,E.UNSIGNED_SHORT,E.DEPTH_COMPONENT,E.DEPTH_ATTACHMENT)):B&&N?x._depth_rb=d(E,k,I,E.DEPTH_STENCIL,E.DEPTH_STENCIL_ATTACHMENT):B?x._depth_rb=d(E,k,I,E.DEPTH_COMPONENT16,E.DEPTH_ATTACHMENT):N&&(x._depth_rb=d(E,k,I,E.STENCIL_INDEX,E.STENCIL_ATTACHMENT));var q=E.checkFramebufferStatus(E.FRAMEBUFFER);if(q!==E.FRAMEBUFFER_COMPLETE){x._destroyed=!0,E.bindFramebuffer(E.FRAMEBUFFER,null),E.deleteFramebuffer(x.handle),x.handle=null,x.depth&&(x.depth.dispose(),x.depth=null),x._depth_rb&&(E.deleteRenderbuffer(x._depth_rb),x._depth_rb=null);for(var H=0;H<x.color.length;++H)x.color[H].dispose(),x.color[H]=null;x._color_rb&&(E.deleteRenderbuffer(x._color_rb),x._color_rb=null),h(E,a),f(q)}h(E,a)}function M(x,a,E,w,k,I,U,z){this.gl=x,this._shape=[a|0,E|0],this._destroyed=!1,this._ext=z,this.color=new Array(k);for(var N=0;N<k;++N)this.color[N]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=w,this._useDepth=I,this._useStencil=U;var B=this,F=[a|0,E|0];Object.defineProperties(F,{0:{get:function(){return B._shape[0]},set:function(H){return B.width=H}},1:{get:function(){return B._shape[1]},set:function(H){return B.height=H}}}),this._shapeVector=F,A(this)}var C=M.prototype;function m(x,a,E){if(x._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(x._shape[0]===a&&x._shape[1]===E)){var w=x.gl,k=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(a<0||a>k||E<0||E>k)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");x._shape[0]=a,x._shape[1]=E;for(var I=y(w),U=0;U<x.color.length;++U)x.color[U].shape=x._shape;x._color_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,x._color_rb),w.renderbufferStorage(w.RENDERBUFFER,w.RGBA4,x._shape[0],x._shape[1])),x.depth&&(x.depth.shape=x._shape),x._depth_rb&&(w.bindRenderbuffer(w.RENDERBUFFER,x._depth_rb),x._useDepth&&x._useStencil?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_STENCIL,x._shape[0],x._shape[1]):x._useDepth?w.renderbufferStorage(w.RENDERBUFFER,w.DEPTH_COMPONENT16,x._shape[0],x._shape[1]):x._useStencil&&w.renderbufferStorage(w.RENDERBUFFER,w.STENCIL_INDEX,x._shape[0],x._shape[1])),w.bindFramebuffer(w.FRAMEBUFFER,x.handle);var z=w.checkFramebufferStatus(w.FRAMEBUFFER);z!==w.FRAMEBUFFER_COMPLETE&&(x.dispose(),h(w,I),f(z)),h(w,I)}}Object.defineProperties(C,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(x){if(Array.isArray(x)||(x=[x|0,x|0]),x.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var a=x[0]|0,E=x[1]|0;return m(this,a,E),[a,E]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(x){return x=x|0,m(this,x,this._shape[1]),x},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(x){return x=x|0,m(this,this._shape[0],x),x},enumerable:!1}}),C.bind=function(){if(!this._destroyed){var x=this.gl;x.bindFramebuffer(x.FRAMEBUFFER,this.handle),x.viewport(0,0,this._shape[0],this._shape[1])}},C.dispose=function(){if(!this._destroyed){this._destroyed=!0;var x=this.gl;x.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(x.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var a=0;a<this.color.length;++a)this.color[a].dispose(),this.color[a]=null;this._color_rb&&(x.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function S(x,a,E,w){n||(n=x.FRAMEBUFFER_UNSUPPORTED,s=x.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,c=x.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,u=x.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var k=x.getExtension("WEBGL_draw_buffers");if(!l&&k&&b(x,k),Array.isArray(a)&&(w=E,E=a[1]|0,a=a[0]|0),typeof a!="number")throw new Error("gl-fbo: Missing shape parameter");var I=x.getParameter(x.MAX_RENDERBUFFER_SIZE);if(a<0||a>I||E<0||E>I)throw new Error("gl-fbo: Parameters are too large for FBO");w=w||{};var U=1;if("color"in w){if(U=Math.max(w.color|0,0),U<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(U>1)if(k){if(U>x.getParameter(k.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+U+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var z=x.UNSIGNED_BYTE,N=x.getExtension("OES_texture_float");if(w.float&&U>0){if(!N)throw new Error("gl-fbo: Context does not support floating point textures");z=x.FLOAT}else w.preferFloat&&U>0&&N&&(z=x.FLOAT);var B=!0;"depth"in w&&(B=!!w.depth);var F=!1;return"stencil"in w&&(F=!!w.stencil),new M(x,a,E,z,U,B,F,k)}},3530:function(v,p,t){var r=t(8974).sprintf,l=t(6603),n=t(9365),s=t(8008);v.exports=c;function c(u,y,h){var b=n(y)||"of unknown name (see npm glsl-shader-name)",f="unknown type";h!==void 0&&(f=h===l.FRAGMENT_SHADER?"fragment":"vertex");for(var o=r(`Error compiling %s shader %s:
`,f,b),d=r("%s%s",o,u),A=u.split(`
`),M={},C=0;C<A.length;C++){var m=A[C];if(!(m===""||m==="\0")){var S=parseInt(m.split(":")[2]);if(isNaN(S))throw new Error(r("Could not parse error: %s",m));M[S]=m}}for(var x=s(y).split(`
`),C=0;C<x.length;C++)if(!(!M[C+3]&&!M[C+2]&&!M[C+1])){var a=x[C];if(o+=a+`
`,M[C+1]){var E=M[C+1];E=E.substr(E.split(":",3).join(":").length+1).trim(),o+=r(`^^^ %s

`,E)}}return{long:o.trim(),short:d.trim()}}},6386:function(v,p,t){v.exports=f;var r=t(5070),l=t(9560),n=t(5306),s=t(5158),c=t(5827),u=t(1292);function y(o,d,A,M,C,m,S){this.plot=o,this.shader=d,this.pickShader=A,this.positionBuffer=M,this.weightBuffer=C,this.colorBuffer=m,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var h=y.prototype,b=[0,0,1,0,0,1,1,0,1,1,0,1];h.draw=function(){var o=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,A=this.shader,M=this.bounds,C=this.numVertices;if(!(C<=0)){var m=d.gl,S=d.dataBox,x=M[2]-M[0],a=M[3]-M[1],E=S[2]-S[0],w=S[3]-S[1];o[0]=2*x/E,o[4]=2*a/w,o[6]=2*(M[0]-S[0])/E-1,o[7]=2*(M[1]-S[1])/w-1,A.bind();var k=A.uniforms;k.viewTransform=o,k.shape=this.shape;var I=A.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(m.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(m.UNSIGNED_BYTE,!0),m.drawArrays(m.TRIANGLES,0,C)}}}(),h.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(A){var M=this.plot,C=this.pickShader,m=this.bounds,S=this.numVertices;if(!(S<=0)){var x=M.gl,a=M.dataBox,E=m[2]-m[0],w=m[3]-m[1],k=a[2]-a[0],I=a[3]-a[1];o[0]=2*E/k,o[4]=2*w/I,o[6]=2*(m[0]-a[0])/k-1,o[7]=2*(m[1]-a[1])/I-1;for(var U=0;U<4;++U)d[U]=A>>U*8&255;this.pickOffset=A,C.bind();var z=C.uniforms;z.viewTransform=o,z.pickOffset=d,z.shape=this.shape;var N=C.attributes;return this.positionBuffer.bind(),N.position.pointer(),this.weightBuffer.bind(),N.weight.pointer(x.UNSIGNED_BYTE,!1),this.idBuffer.bind(),N.pickId.pointer(x.UNSIGNED_BYTE,!1),x.drawArrays(x.TRIANGLES,0,S),A+this.shape[0]*this.shape[1]}}}(),h.pick=function(o,d,A){var M=this.pickOffset,C=this.shape[0]*this.shape[1];if(A<M||A>=M+C)return null;var m=A-M,S=this.xData,x=this.yData;return{object:this,pointId:m,dataCoord:[S[m%this.shape[0]],x[m/this.shape[0]|0]]}},h.update=function(o){o=o||{};var d=o.shape||[0,0],A=o.x||l(d[0]),M=o.y||l(d[1]),C=o.z||new Float32Array(d[0]*d[1]),m=o.zsmooth!==!1;this.xData=A,this.yData=M;var S=o.colorLevels||[0],x=o.colorValues||[0,0,0,1],a=S.length,E=this.bounds,w,k,I,U;m?(w=E[0]=A[0],k=E[1]=M[0],I=E[2]=A[A.length-1],U=E[3]=M[M.length-1]):(w=E[0]=A[0]+(A[1]-A[0])/2,k=E[1]=M[0]+(M[1]-M[0])/2,I=E[2]=A[A.length-1]+(A[A.length-1]-A[A.length-2])/2,U=E[3]=M[M.length-1]+(M[M.length-1]-M[M.length-2])/2);var z=1/(I-w),N=1/(U-k),B=d[0],F=d[1];this.shape=[B,F];var H=(m?(B-1)*(F-1):B*F)*(b.length>>>1);this.numVertices=H;for(var X=n.mallocUint8(H*4),q=n.mallocFloat32(H*2),ne=n.mallocUint8(H*2),oe=n.mallocUint32(H),ve=0,J=m?B-1:B,Y=m?F-1:F,j=0;j<Y;++j){var K,te;m?(K=N*(M[j]-k),te=N*(M[j+1]-k)):(K=j<F-1?N*(M[j]-(M[j+1]-M[j])/2-k):N*(M[j]-(M[j]-M[j-1])/2-k),te=j<F-1?N*(M[j]+(M[j+1]-M[j])/2-k):N*(M[j]+(M[j]-M[j-1])/2-k));for(var se=0;se<J;++se){var Q,ee;m?(Q=z*(A[se]-w),ee=z*(A[se+1]-w)):(Q=se<B-1?z*(A[se]-(A[se+1]-A[se])/2-w):z*(A[se]-(A[se]-A[se-1])/2-w),ee=se<B-1?z*(A[se]+(A[se+1]-A[se])/2-w):z*(A[se]+(A[se]-A[se-1])/2-w));for(var le=0;le<b.length;le+=2){var ie=b[le],he=b[le+1],xe=m?(j+he)*B+(se+ie):j*B+se,Se=C[xe],Ee=r.le(S,Se),Ne,He,Ce,be;if(Ee<0)Ne=x[0],He=x[1],Ce=x[2],be=x[3];else if(Ee===a-1)Ne=x[4*a-4],He=x[4*a-3],Ce=x[4*a-2],be=x[4*a-1];else{var we=(Se-S[Ee])/(S[Ee+1]-S[Ee]),ke=1-we,Fe=4*Ee,Pe=4*(Ee+1);Ne=ke*x[Fe]+we*x[Pe],He=ke*x[Fe+1]+we*x[Pe+1],Ce=ke*x[Fe+2]+we*x[Pe+2],be=ke*x[Fe+3]+we*x[Pe+3]}X[4*ve]=255*Ne,X[4*ve+1]=255*He,X[4*ve+2]=255*Ce,X[4*ve+3]=255*be,q[2*ve]=Q*.5+ee*.5,q[2*ve+1]=K*.5+te*.5,ne[2*ve]=ie,ne[2*ve+1]=he,oe[ve]=j*B+se,ve+=1}}}this.positionBuffer.update(q),this.weightBuffer.update(ne),this.colorBuffer.update(X),this.idBuffer.update(oe),n.free(q),n.free(X),n.free(ne),n.free(oe)},h.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function f(o,d){var A=o.gl,M=s(A,u.vertex,u.fragment),C=s(A,u.pickVertex,u.pickFragment),m=c(A),S=c(A),x=c(A),a=c(A),E=new y(o,M,C,m,S,x,a);return E.update(d),o.addObject(E),E}},1292:function(v,p,t){var r=t(6832);v.exports={fragment:r([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(v,p,t){var r=t(6832),l=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];p.createShader=function(y){return l(y,n,s,null,u)},p.createPickShader=function(y){return l(y,n,c,null,u)}},6086:function(v,p,t){v.exports=x;var r=t(5827),l=t(2944),n=t(8931),s=new Uint8Array(4),c=new Float32Array(s.buffer);function u(a,E,w,k){return s[0]=k,s[1]=w,s[2]=E,s[3]=a,c[0]}var y=t(5070),h=t(5050),b=t(248),f=b.createShader,o=b.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function A(a,E){for(var w=0,k=0;k<3;++k){var I=a[k]-E[k];w+=I*I}return Math.sqrt(w)}function M(a){for(var E=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],w=0;w<3;++w)E[0][w]=Math.max(a[0][w],E[0][w]),E[1][w]=Math.min(a[1][w],E[1][w]);return E}function C(a,E,w,k){this.arcLength=a,this.position=E,this.index=w,this.dataCoordinate=k}function m(a,E,w,k,I,U){this.gl=a,this.shader=E,this.pickShader=w,this.buffer=k,this.vao=I,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=U,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var S=m.prototype;S.isTransparent=function(){return this.hasAlpha},S.isOpaque=function(){return!this.hasAlpha},S.pickSlots=1,S.setPickBase=function(a){this.pickId=a},S.drawTransparent=S.draw=function(a){if(this.vertexCount){var E=this.gl,w=this.shader,k=this.vao;w.bind(),w.uniforms={model:a.model||d,view:a.view||d,projection:a.projection||d,clipBounds:M(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(E.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},S.drawPick=function(a){if(this.vertexCount){var E=this.gl,w=this.pickShader,k=this.vao;w.bind(),w.uniforms={model:a.model||d,view:a.view||d,projection:a.projection||d,pickId:this.pickId,clipBounds:M(this.clipBounds),screenShape:[E.drawingBufferWidth,E.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(E.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},S.update=function(a){var E,w;this.dirty=!0;var k=!!a.connectGaps;"dashScale"in a&&(this.dashScale=a.dashScale),this.hasAlpha=!1,"opacity"in a&&(this.opacity=+a.opacity,this.opacity<1&&(this.hasAlpha=!0));var I=[],U=[],z=[],N=0,B=0,F=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],H=a.position||a.positions;if(H){var X=a.color||a.colors||[0,0,0,1],q=a.lineWidth||1,ne=!1;e:for(E=1;E<H.length;++E){var oe=H[E-1],ve=H[E];for(U.push(N),z.push(oe.slice()),w=0;w<3;++w){if(isNaN(oe[w])||isNaN(ve[w])||!isFinite(oe[w])||!isFinite(ve[w])){if(!k&&I.length>0){for(var J=0;J<24;++J)I.push(I[I.length-12]);B+=2,ne=!0}continue e}F[0][w]=Math.min(F[0][w],oe[w],ve[w]),F[1][w]=Math.max(F[1][w],oe[w],ve[w])}var Y,j;Array.isArray(X[0])?(Y=X.length>E-1?X[E-1]:X.length>0?X[X.length-1]:[0,0,0,1],j=X.length>E?X[E]:X.length>0?X[X.length-1]:[0,0,0,1]):Y=j=X,Y.length===3&&(Y=[Y[0],Y[1],Y[2],1]),j.length===3&&(j=[j[0],j[1],j[2],1]),!this.hasAlpha&&Y[3]<1&&(this.hasAlpha=!0);var K;Array.isArray(q)?K=q.length>E-1?q[E-1]:q.length>0?q[q.length-1]:[0,0,0,1]:K=q;var te=N;if(N+=A(oe,ve),ne){for(w=0;w<2;++w)I.push(oe[0],oe[1],oe[2],ve[0],ve[1],ve[2],te,K,Y[0],Y[1],Y[2],Y[3]);B+=2,ne=!1}I.push(oe[0],oe[1],oe[2],ve[0],ve[1],ve[2],te,K,Y[0],Y[1],Y[2],Y[3],oe[0],oe[1],oe[2],ve[0],ve[1],ve[2],te,-K,Y[0],Y[1],Y[2],Y[3],ve[0],ve[1],ve[2],oe[0],oe[1],oe[2],N,-K,j[0],j[1],j[2],j[3],ve[0],ve[1],ve[2],oe[0],oe[1],oe[2],N,K,j[0],j[1],j[2],j[3]),B+=4}}if(this.buffer.update(I),U.push(N),z.push(H[H.length-1].slice()),this.bounds=F,this.vertexCount=B,this.points=z,this.arcLength=U,"dashes"in a){var se=a.dashes,Q=se.slice();for(Q.unshift(0),E=1;E<Q.length;++E)Q[E]=Q[E-1]+Q[E];var ee=h(new Array(256*4),[256,1,4]);for(E=0;E<256;++E){for(w=0;w<4;++w)ee.set(E,0,w,0);y.le(Q,Q[Q.length-1]*E/255)&1?ee.set(E,0,0,0):ee.set(E,0,0,255)}this.texture.setPixels(ee)}},S.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},S.pick=function(a){if(!a||a.id!==this.pickId)return null;var E=u(a.value[0],a.value[1],a.value[2],0),w=y.le(this.arcLength,E);if(w<0)return null;if(w===this.arcLength.length-1)return new C(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),w);for(var k=this.points[w],I=this.points[Math.min(w+1,this.points.length-1)],U=(E-this.arcLength[w])/(this.arcLength[w+1]-this.arcLength[w]),z=1-U,N=[0,0,0],B=0;B<3;++B)N[B]=z*k[B]+U*I[B];var F=Math.min(U<.5?w:w+1,this.points.length-1);return new C(E,N,F,this.points[F])};function x(a){var E=a.gl||a.scene&&a.scene.gl,w=f(E);w.attributes.position.location=0,w.attributes.nextPosition.location=1,w.attributes.arcLength.location=2,w.attributes.lineWidth.location=3,w.attributes.color.location=4;var k=o(E);k.attributes.position.location=0,k.attributes.nextPosition.location=1,k.attributes.arcLength.location=2,k.attributes.lineWidth.location=3,k.attributes.color.location=4;for(var I=r(E),U=l(E,[{buffer:I,size:3,offset:0,stride:48},{buffer:I,size:3,offset:12,stride:48},{buffer:I,size:1,offset:24,stride:48},{buffer:I,size:1,offset:28,stride:48},{buffer:I,size:4,offset:32,stride:48}]),z=h(new Array(256*4),[256,1,4]),N=0;N<1024;++N)z.data[N]=255;var B=n(E,z);B.wrap=E.REPEAT;var F=new m(E,w,k,I,U,B);return F.update(a),F}},7332:function(v){v.exports=p;function p(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},9823:function(v){v.exports=p;function p(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7787:function(v){v.exports=p;function p(t){var r=t[0],l=t[1],n=t[2],s=t[3],c=t[4],u=t[5],y=t[6],h=t[7],b=t[8],f=t[9],o=t[10],d=t[11],A=t[12],M=t[13],C=t[14],m=t[15],S=r*u-l*c,x=r*y-n*c,a=r*h-s*c,E=l*y-n*u,w=l*h-s*u,k=n*h-s*y,I=b*M-f*A,U=b*C-o*A,z=b*m-d*A,N=f*C-o*M,B=f*m-d*M,F=o*m-d*C;return S*F-x*B+a*N+E*z-w*U+k*I}},5950:function(v){v.exports=p;function p(t,r){var l=r[0],n=r[1],s=r[2],c=r[3],u=l+l,y=n+n,h=s+s,b=l*u,f=n*u,o=n*y,d=s*u,A=s*y,M=s*h,C=c*u,m=c*y,S=c*h;return t[0]=1-o-M,t[1]=f+S,t[2]=d-m,t[3]=0,t[4]=f-S,t[5]=1-b-M,t[6]=A+C,t[7]=0,t[8]=d+m,t[9]=A-C,t[10]=1-b-o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7280:function(v){v.exports=p;function p(t,r,l){var n=r[0],s=r[1],c=r[2],u=r[3],y=n+n,h=s+s,b=c+c,f=n*y,o=n*h,d=n*b,A=s*h,M=s*b,C=c*b,m=u*y,S=u*h,x=u*b;return t[0]=1-(A+C),t[1]=o+x,t[2]=d-S,t[3]=0,t[4]=o-x,t[5]=1-(f+C),t[6]=M+m,t[7]=0,t[8]=d+S,t[9]=M-m,t[10]=1-(f+A),t[11]=0,t[12]=l[0],t[13]=l[1],t[14]=l[2],t[15]=1,t}},9947:function(v){v.exports=p;function p(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7437:function(v){v.exports=p;function p(t,r){var l=r[0],n=r[1],s=r[2],c=r[3],u=r[4],y=r[5],h=r[6],b=r[7],f=r[8],o=r[9],d=r[10],A=r[11],M=r[12],C=r[13],m=r[14],S=r[15],x=l*y-n*u,a=l*h-s*u,E=l*b-c*u,w=n*h-s*y,k=n*b-c*y,I=s*b-c*h,U=f*C-o*M,z=f*m-d*M,N=f*S-A*M,B=o*m-d*C,F=o*S-A*C,H=d*S-A*m,X=x*H-a*F+E*B+w*N-k*z+I*U;return X?(X=1/X,t[0]=(y*H-h*F+b*B)*X,t[1]=(s*F-n*H-c*B)*X,t[2]=(C*I-m*k+S*w)*X,t[3]=(d*k-o*I-A*w)*X,t[4]=(h*N-u*H-b*z)*X,t[5]=(l*H-s*N+c*z)*X,t[6]=(m*E-M*I-S*a)*X,t[7]=(f*I-d*E+A*a)*X,t[8]=(u*F-y*N+b*U)*X,t[9]=(n*N-l*F-c*U)*X,t[10]=(M*k-C*E+S*x)*X,t[11]=(o*E-f*k-A*x)*X,t[12]=(y*z-u*B-h*U)*X,t[13]=(l*B-n*z+s*U)*X,t[14]=(C*a-M*w-m*x)*X,t[15]=(f*w-o*a+d*x)*X,t):null}},3012:function(v,p,t){var r=t(9947);v.exports=l;function l(n,s,c,u){var y,h,b,f,o,d,A,M,C,m,S=s[0],x=s[1],a=s[2],E=u[0],w=u[1],k=u[2],I=c[0],U=c[1],z=c[2];return Math.abs(S-I)<1e-6&&Math.abs(x-U)<1e-6&&Math.abs(a-z)<1e-6?r(n):(A=S-I,M=x-U,C=a-z,m=1/Math.sqrt(A*A+M*M+C*C),A*=m,M*=m,C*=m,y=w*C-k*M,h=k*A-E*C,b=E*M-w*A,m=Math.sqrt(y*y+h*h+b*b),m?(m=1/m,y*=m,h*=m,b*=m):(y=0,h=0,b=0),f=M*b-C*h,o=C*y-A*b,d=A*h-M*y,m=Math.sqrt(f*f+o*o+d*d),m?(m=1/m,f*=m,o*=m,d*=m):(f=0,o=0,d=0),n[0]=y,n[1]=f,n[2]=A,n[3]=0,n[4]=h,n[5]=o,n[6]=M,n[7]=0,n[8]=b,n[9]=d,n[10]=C,n[11]=0,n[12]=-(y*S+h*x+b*a),n[13]=-(f*S+o*x+d*a),n[14]=-(A*S+M*x+C*a),n[15]=1,n)}},104:function(v){v.exports=p;function p(t,r,l){var n=r[0],s=r[1],c=r[2],u=r[3],y=r[4],h=r[5],b=r[6],f=r[7],o=r[8],d=r[9],A=r[10],M=r[11],C=r[12],m=r[13],S=r[14],x=r[15],a=l[0],E=l[1],w=l[2],k=l[3];return t[0]=a*n+E*y+w*o+k*C,t[1]=a*s+E*h+w*d+k*m,t[2]=a*c+E*b+w*A+k*S,t[3]=a*u+E*f+w*M+k*x,a=l[4],E=l[5],w=l[6],k=l[7],t[4]=a*n+E*y+w*o+k*C,t[5]=a*s+E*h+w*d+k*m,t[6]=a*c+E*b+w*A+k*S,t[7]=a*u+E*f+w*M+k*x,a=l[8],E=l[9],w=l[10],k=l[11],t[8]=a*n+E*y+w*o+k*C,t[9]=a*s+E*h+w*d+k*m,t[10]=a*c+E*b+w*A+k*S,t[11]=a*u+E*f+w*M+k*x,a=l[12],E=l[13],w=l[14],k=l[15],t[12]=a*n+E*y+w*o+k*C,t[13]=a*s+E*h+w*d+k*m,t[14]=a*c+E*b+w*A+k*S,t[15]=a*u+E*f+w*M+k*x,t}},5268:function(v){v.exports=p;function p(t,r,l,n,s,c,u){var y=1/(r-l),h=1/(n-s),b=1/(c-u);return t[0]=-2*y,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*b,t[11]=0,t[12]=(r+l)*y,t[13]=(s+n)*h,t[14]=(u+c)*b,t[15]=1,t}},1120:function(v){v.exports=p;function p(t,r,l,n,s){var c=1/Math.tan(r/2),u=1/(n-s);return t[0]=c/l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(s+n)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*s*n*u,t[15]=0,t}},4422:function(v){v.exports=p;function p(t,r,l,n){var s=n[0],c=n[1],u=n[2],y=Math.sqrt(s*s+c*c+u*u),h,b,f,o,d,A,M,C,m,S,x,a,E,w,k,I,U,z,N,B,F,H,X,q;return Math.abs(y)<1e-6?null:(y=1/y,s*=y,c*=y,u*=y,h=Math.sin(l),b=Math.cos(l),f=1-b,o=r[0],d=r[1],A=r[2],M=r[3],C=r[4],m=r[5],S=r[6],x=r[7],a=r[8],E=r[9],w=r[10],k=r[11],I=s*s*f+b,U=c*s*f+u*h,z=u*s*f-c*h,N=s*c*f-u*h,B=c*c*f+b,F=u*c*f+s*h,H=s*u*f+c*h,X=c*u*f-s*h,q=u*u*f+b,t[0]=o*I+C*U+a*z,t[1]=d*I+m*U+E*z,t[2]=A*I+S*U+w*z,t[3]=M*I+x*U+k*z,t[4]=o*N+C*B+a*F,t[5]=d*N+m*B+E*F,t[6]=A*N+S*B+w*F,t[7]=M*N+x*B+k*F,t[8]=o*H+C*X+a*q,t[9]=d*H+m*X+E*q,t[10]=A*H+S*X+w*q,t[11]=M*H+x*X+k*q,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}},6109:function(v){v.exports=p;function p(t,r,l){var n=Math.sin(l),s=Math.cos(l),c=r[4],u=r[5],y=r[6],h=r[7],b=r[8],f=r[9],o=r[10],d=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=c*s+b*n,t[5]=u*s+f*n,t[6]=y*s+o*n,t[7]=h*s+d*n,t[8]=b*s-c*n,t[9]=f*s-u*n,t[10]=o*s-y*n,t[11]=d*s-h*n,t}},7115:function(v){v.exports=p;function p(t,r,l){var n=Math.sin(l),s=Math.cos(l),c=r[0],u=r[1],y=r[2],h=r[3],b=r[8],f=r[9],o=r[10],d=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=c*s-b*n,t[1]=u*s-f*n,t[2]=y*s-o*n,t[3]=h*s-d*n,t[8]=c*n+b*s,t[9]=u*n+f*s,t[10]=y*n+o*s,t[11]=h*n+d*s,t}},5240:function(v){v.exports=p;function p(t,r,l){var n=Math.sin(l),s=Math.cos(l),c=r[0],u=r[1],y=r[2],h=r[3],b=r[4],f=r[5],o=r[6],d=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=c*s+b*n,t[1]=u*s+f*n,t[2]=y*s+o*n,t[3]=h*s+d*n,t[4]=b*s-c*n,t[5]=f*s-u*n,t[6]=o*s-y*n,t[7]=d*s-h*n,t}},3668:function(v){v.exports=p;function p(t,r,l){var n=l[0],s=l[1],c=l[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=r[7]*s,t[8]=r[8]*c,t[9]=r[9]*c,t[10]=r[10]*c,t[11]=r[11]*c,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},998:function(v){v.exports=p;function p(t,r,l){var n=l[0],s=l[1],c=l[2],u,y,h,b,f,o,d,A,M,C,m,S;return r===t?(t[12]=r[0]*n+r[4]*s+r[8]*c+r[12],t[13]=r[1]*n+r[5]*s+r[9]*c+r[13],t[14]=r[2]*n+r[6]*s+r[10]*c+r[14],t[15]=r[3]*n+r[7]*s+r[11]*c+r[15]):(u=r[0],y=r[1],h=r[2],b=r[3],f=r[4],o=r[5],d=r[6],A=r[7],M=r[8],C=r[9],m=r[10],S=r[11],t[0]=u,t[1]=y,t[2]=h,t[3]=b,t[4]=f,t[5]=o,t[6]=d,t[7]=A,t[8]=M,t[9]=C,t[10]=m,t[11]=S,t[12]=u*n+f*s+M*c+r[12],t[13]=y*n+o*s+C*c+r[13],t[14]=h*n+d*s+m*c+r[14],t[15]=b*n+A*s+S*c+r[15]),t}},2142:function(v){v.exports=p;function p(t,r){if(t===r){var l=r[1],n=r[2],s=r[3],c=r[6],u=r[7],y=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=l,t[6]=r[9],t[7]=r[13],t[8]=n,t[9]=c,t[11]=r[14],t[12]=s,t[13]=u,t[14]=y}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}},4340:function(v,p,t){var r=t(957),l=t(7309);v.exports=y;function n(h,b){for(var f=[0,0,0,0],o=0;o<4;++o)for(var d=0;d<4;++d)f[d]+=h[4*o+d]*b[o];return f}function s(h,b,f,o,d){for(var A=n(o,n(f,n(b,[h[0],h[1],h[2],1]))),M=0;M<3;++M)A[M]/=A[3];return[.5*d[0]*(1+A[0]),.5*d[1]*(1-A[1])]}function c(h,b){if(h.length===2){for(var f=0,o=0,d=0;d<2;++d)f+=Math.pow(b[d]-h[0][d],2),o+=Math.pow(b[d]-h[1][d],2);return f=Math.sqrt(f),o=Math.sqrt(o),f+o<1e-6?[1,0]:[o/(f+o),f/(o+f)]}else if(h.length===3){var A=[0,0];return l(h[0],h[1],h[2],b,A),r(h,A)}return[]}function u(h,b){for(var f=[0,0,0],o=0;o<h.length;++o)for(var d=h[o],A=b[o],M=0;M<3;++M)f[M]+=A*d[M];return f}function y(h,b,f,o,d,A){if(h.length===1)return[0,h[0].slice()];for(var M=new Array(h.length),C=0;C<h.length;++C)M[C]=s(h[C],f,o,d,A);for(var m=0,S=1/0,C=0;C<M.length;++C){for(var x=0,a=0;a<2;++a)x+=Math.pow(M[C][a]-b[a],2);x<S&&(S=x,m=C)}for(var E=c(M,b),w=0,C=0;C<3;++C){if(E[C]<-.001||E[C]>1.0001)return null;w+=E[C]}return Math.abs(w-1)>.001?null:[m,u(h,E),E]}},2056:function(v,p,t){var r=t(6832),l=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),y=r([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),h=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),b=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),o=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),d=r([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);p.meshShader={vertex:l,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.wireShader={vertex:s,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},p.pointShader={vertex:u,fragment:y,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},p.pickShader={vertex:h,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},p.pointPickShader={vertex:f,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},p.contourShader={vertex:o,fragment:d,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,p,t){var r=1e-6,l=1e-6,n=t(5158),s=t(5827),c=t(2944),u=t(8931),y=t(115),h=t(104),b=t(7437),f=t(5050),o=t(9156),d=t(7212),A=t(5306),M=t(2056),C=t(4340),m=M.meshShader,S=M.wireShader,x=M.pointShader,a=M.pickShader,E=M.pointPickShader,w=M.contourShader,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function I(J,Y,j,K,te,se,Q,ee,le,ie,he,xe,Se,Ee,Ne,He,Ce,be,we,ke,Fe,Pe,Ge,nt,qe,Ke,$e){this.gl=J,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Y,this.dirty=!0,this.triShader=j,this.lineShader=K,this.pointShader=te,this.pickShader=se,this.pointPickShader=Q,this.contourShader=ee,this.trianglePositions=le,this.triangleColors=he,this.triangleNormals=Se,this.triangleUVs=xe,this.triangleIds=ie,this.triangleVAO=Ee,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Ne,this.edgeColors=Ce,this.edgeUVs=be,this.edgeIds=He,this.edgeVAO=we,this.edgeCount=0,this.pointPositions=ke,this.pointColors=Pe,this.pointUVs=Ge,this.pointSizes=nt,this.pointIds=Fe,this.pointVAO=qe,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Ke,this.contourVAO=$e,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=k,this._view=k,this._projection=k,this._resolution=[1,1]}var U=I.prototype;U.isOpaque=function(){return!this.hasAlpha},U.isTransparent=function(){return this.hasAlpha},U.pickSlots=1,U.setPickBase=function(J){this.pickId=J};function z(J,Y){if(!Y||!Y.length)return 1;for(var j=0;j<Y.length;++j){if(Y.length<2)return 1;if(Y[j][0]===J)return Y[j][1];if(Y[j][0]>J&&j>0){var K=(Y[j][0]-J)/(Y[j][0]-Y[j-1][0]);return Y[j][1]*(1-K)+K*Y[j-1][1]}}return 1}function N(J,Y){for(var j=o({colormap:J,nshades:256,format:"rgba"}),K=new Uint8Array(256*4),te=0;te<256;++te){for(var se=j[te],Q=0;Q<3;++Q)K[4*te+Q]=se[Q];Y?K[4*te+3]=255*z(te/255,Y):K[4*te+3]=255*se[3]}return f(K,[256,256,4],[4,0,1])}function B(J){for(var Y=J.length,j=new Array(Y),K=0;K<Y;++K)j[K]=J[K][2];return j}U.highlight=function(J){if(!J||!this.contourEnable){this.contourCount=0;return}for(var Y=d(this.cells,this.intensity,J.intensity),j=Y.cells,K=Y.vertexIds,te=Y.vertexWeights,se=j.length,Q=A.mallocFloat32(2*3*se),ee=0,le=0;le<se;++le)for(var ie=j[le],he=0;he<2;++he){var xe=ie[0];ie.length===2&&(xe=ie[he]);for(var Se=K[xe][0],Ee=K[xe][1],Ne=te[xe],He=1-Ne,Ce=this.positions[Se],be=this.positions[Ee],we=0;we<3;++we)Q[ee++]=Ne*Ce[we]+He*be[we]}this.contourCount=ee/3|0,this.contourPositions.update(Q.subarray(0,ee)),A.free(Q)},U.update=function(J){J=J||{};var Y=this.gl;this.dirty=!0,"contourEnable"in J&&(this.contourEnable=J.contourEnable),"contourColor"in J&&(this.contourColor=J.contourColor),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"lightPosition"in J&&(this.lightPosition=J.lightPosition),this.hasAlpha=!1,"opacity"in J&&(this.opacity=J.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in J&&(this.opacityscale=J.opacityscale,this.hasAlpha=!0),"ambient"in J&&(this.ambientLight=J.ambient),"diffuse"in J&&(this.diffuseLight=J.diffuse),"specular"in J&&(this.specularLight=J.specular),"roughness"in J&&(this.roughness=J.roughness),"fresnel"in J&&(this.fresnel=J.fresnel),J.texture?(this.texture.dispose(),this.texture=u(Y,J.texture)):J.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Y.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Y.LINEAR,this.texture.setPixels(N(J.colormap,this.opacityscale)),this.texture.generateMipmap());var j=J.cells,K=J.positions;if(!(!K||!j)){var te=[],se=[],Q=[],ee=[],le=[],ie=[],he=[],xe=[],Se=[],Ee=[],Ne=[],He=[],Ce=[],be=[];this.cells=j,this.positions=K;var we=J.vertexNormals,ke=J.cellNormals,Fe=J.vertexNormalsEpsilon===void 0?r:J.vertexNormalsEpsilon,Pe=J.faceNormalsEpsilon===void 0?l:J.faceNormalsEpsilon;J.useFacetNormals&&!ke&&(ke=y.faceNormals(j,K,Pe)),!ke&&!we&&(we=y.vertexNormals(j,K,Fe));var Ge=J.vertexColors,nt=J.cellColors,qe=J.meshColor||[1,1,1,1],Ke=J.vertexUVs,$e=J.vertexIntensity,vt=J.cellUVs,yt=J.cellIntensity,mt=1/0,Et=-1/0;if(!Ke&&!vt)if($e)if(J.vertexIntensityBounds)mt=+J.vertexIntensityBounds[0],Et=+J.vertexIntensityBounds[1];else for(var Xe=0;Xe<$e.length;++Xe){var Ue=$e[Xe];mt=Math.min(mt,Ue),Et=Math.max(Et,Ue)}else if(yt)if(J.cellIntensityBounds)mt=+J.cellIntensityBounds[0],Et=+J.cellIntensityBounds[1];else for(var Xe=0;Xe<yt.length;++Xe){var Ue=yt[Xe];mt=Math.min(mt,Ue),Et=Math.max(Et,Ue)}else for(var Xe=0;Xe<K.length;++Xe){var Ue=K[Xe][2];mt=Math.min(mt,Ue),Et=Math.max(Et,Ue)}$e?this.intensity=$e:yt?this.intensity=yt:this.intensity=B(K),this.pickVertex=!(yt||nt);var Be=J.pointSizes,rt=J.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Xe=0;Xe<K.length;++Xe)for(var it=K[Xe],Ye=0;Ye<3;++Ye)isNaN(it[Ye])||!isFinite(it[Ye])||(this.bounds[0][Ye]=Math.min(this.bounds[0][Ye],it[Ye]),this.bounds[1][Ye]=Math.max(this.bounds[1][Ye],it[Ye]));var De=0,Te=0,fe=0;e:for(var Xe=0;Xe<j.length;++Xe){var me=j[Xe];switch(me.length){case 1:for(var Re=me[0],it=K[Re],Ye=0;Ye<3;++Ye)if(isNaN(it[Ye])||!isFinite(it[Ye]))continue e;Ee.push(it[0],it[1],it[2]);var Oe;Ge?Oe=Ge[Re]:nt?Oe=nt[Xe]:Oe=qe,this.opacityscale&&$e?se.push(Oe[0],Oe[1],Oe[2],this.opacity*z(($e[Re]-mt)/(Et-mt),this.opacityscale)):Oe.length===3?Ne.push(Oe[0],Oe[1],Oe[2],this.opacity):(Ne.push(Oe[0],Oe[1],Oe[2],Oe[3]*this.opacity),Oe[3]<1&&(this.hasAlpha=!0));var st;Ke?st=Ke[Re]:$e?st=[($e[Re]-mt)/(Et-mt),0]:vt?st=vt[Xe]:yt?st=[(yt[Xe]-mt)/(Et-mt),0]:st=[(it[2]-mt)/(Et-mt),0],He.push(st[0],st[1]),Be?Ce.push(Be[Re]):Ce.push(rt),be.push(Xe),fe+=1;break;case 2:for(var Ye=0;Ye<2;++Ye)for(var Re=me[Ye],it=K[Re],ut=0;ut<3;++ut)if(isNaN(it[ut])||!isFinite(it[ut]))continue e;for(var Ye=0;Ye<2;++Ye){var Re=me[Ye],it=K[Re];ie.push(it[0],it[1],it[2]);var Oe;Ge?Oe=Ge[Re]:nt?Oe=nt[Xe]:Oe=qe,this.opacityscale&&$e?se.push(Oe[0],Oe[1],Oe[2],this.opacity*z(($e[Re]-mt)/(Et-mt),this.opacityscale)):Oe.length===3?he.push(Oe[0],Oe[1],Oe[2],this.opacity):(he.push(Oe[0],Oe[1],Oe[2],Oe[3]*this.opacity),Oe[3]<1&&(this.hasAlpha=!0));var st;Ke?st=Ke[Re]:$e?st=[($e[Re]-mt)/(Et-mt),0]:vt?st=vt[Xe]:yt?st=[(yt[Xe]-mt)/(Et-mt),0]:st=[(it[2]-mt)/(Et-mt),0],xe.push(st[0],st[1]),Se.push(Xe)}Te+=1;break;case 3:for(var Ye=0;Ye<3;++Ye)for(var Re=me[Ye],it=K[Re],ut=0;ut<3;++ut)if(isNaN(it[ut])||!isFinite(it[ut]))continue e;for(var Ye=0;Ye<3;++Ye){var Re=me[2-Ye],it=K[Re];te.push(it[0],it[1],it[2]);var Oe;Ge?Oe=Ge[Re]:nt?Oe=nt[Xe]:Oe=qe,Oe?this.opacityscale&&$e?se.push(Oe[0],Oe[1],Oe[2],this.opacity*z(($e[Re]-mt)/(Et-mt),this.opacityscale)):Oe.length===3?se.push(Oe[0],Oe[1],Oe[2],this.opacity):(se.push(Oe[0],Oe[1],Oe[2],Oe[3]*this.opacity),Oe[3]<1&&(this.hasAlpha=!0)):se.push(.5,.5,.5,1);var st;Ke?st=Ke[Re]:$e?st=[($e[Re]-mt)/(Et-mt),0]:vt?st=vt[Xe]:yt?st=[(yt[Xe]-mt)/(Et-mt),0]:st=[(it[2]-mt)/(Et-mt),0],ee.push(st[0],st[1]);var Tt;we?Tt=we[Re]:Tt=ke[Xe],Q.push(Tt[0],Tt[1],Tt[2]),le.push(Xe)}De+=1;break}}this.pointCount=fe,this.edgeCount=Te,this.triangleCount=De,this.pointPositions.update(Ee),this.pointColors.update(Ne),this.pointUVs.update(He),this.pointSizes.update(Ce),this.pointIds.update(new Uint32Array(be)),this.edgePositions.update(ie),this.edgeColors.update(he),this.edgeUVs.update(xe),this.edgeIds.update(new Uint32Array(Se)),this.trianglePositions.update(te),this.triangleColors.update(se),this.triangleUVs.update(ee),this.triangleNormals.update(Q),this.triangleIds.update(new Uint32Array(le))}},U.drawTransparent=U.draw=function(J){J=J||{};for(var Y=this.gl,j=J.model||k,K=J.view||k,te=J.projection||k,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)se[0][Q]=Math.max(se[0][Q],this.clipBounds[0][Q]),se[1][Q]=Math.min(se[1][Q],this.clipBounds[1][Q]);var ee={model:j,view:K,projection:te,inverseModel:k.slice(),clipBounds:se,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};ee.inverseModel=b(ee.inverseModel,ee.model),Y.disable(Y.CULL_FACE),this.texture.bind(0);var le=new Array(16);h(le,ee.view,ee.model),h(le,ee.projection,le),b(le,le);for(var Q=0;Q<3;++Q)ee.eyePosition[Q]=le[12+Q]/le[15];for(var ie=le[15],Q=0;Q<3;++Q)ie+=this.lightPosition[Q]*le[4*Q+3];for(var Q=0;Q<3;++Q){for(var he=le[12+Q],xe=0;xe<3;++xe)he+=le[4*xe+Q]*this.lightPosition[xe];ee.lightPosition[Q]=he/ie}if(this.triangleCount>0){var Se=this.triShader;Se.bind(),Se.uniforms=ee,this.triangleVAO.bind(),Y.drawArrays(Y.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Se=this.lineShader;Se.bind(),Se.uniforms=ee,this.edgeVAO.bind(),Y.lineWidth(this.lineWidth*this.pixelRatio),Y.drawArrays(Y.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Se=this.pointShader;Se.bind(),Se.uniforms=ee,this.pointVAO.bind(),Y.drawArrays(Y.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Se=this.contourShader;Se.bind(),Se.uniforms=ee,this.contourVAO.bind(),Y.drawArrays(Y.LINES,0,this.contourCount),this.contourVAO.unbind()}},U.drawPick=function(J){J=J||{};for(var Y=this.gl,j=J.model||k,K=J.view||k,te=J.projection||k,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)se[0][Q]=Math.max(se[0][Q],this.clipBounds[0][Q]),se[1][Q]=Math.min(se[1][Q],this.clipBounds[1][Q]);this._model=[].slice.call(j),this._view=[].slice.call(K),this._projection=[].slice.call(te),this._resolution=[Y.drawingBufferWidth,Y.drawingBufferHeight];var ee={model:j,view:K,projection:te,clipBounds:se,pickId:this.pickId/255},le=this.pickShader;if(le.bind(),le.uniforms=ee,this.triangleCount>0&&(this.triangleVAO.bind(),Y.drawArrays(Y.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Y.lineWidth(this.lineWidth*this.pixelRatio),Y.drawArrays(Y.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var le=this.pointPickShader;le.bind(),le.uniforms=ee,this.pointVAO.bind(),Y.drawArrays(Y.POINTS,0,this.pointCount),this.pointVAO.unbind()}},U.pick=function(J){if(!J||J.id!==this.pickId)return null;for(var Y=J.value[0]+256*J.value[1]+65536*J.value[2],j=this.cells[Y],K=this.positions,te=new Array(j.length),se=0;se<j.length;++se)te[se]=K[j[se]];var Q=J.coord[0],ee=J.coord[1];if(!this.pickVertex){var le=this.positions[j[0]],ie=this.positions[j[1]],he=this.positions[j[2]],xe=[(le[0]+ie[0]+he[0])/3,(le[1]+ie[1]+he[1])/3,(le[2]+ie[2]+he[2])/3];return{_cellCenter:!0,position:[Q,ee],index:Y,cell:j,cellId:Y,intensity:this.intensity[Y],dataCoordinate:xe}}var Se=C(te,[Q*this.pixelRatio,this._resolution[1]-ee*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Se)return null;for(var Ee=Se[2],Ne=0,se=0;se<j.length;++se)Ne+=Ee[se]*this.intensity[j[se]];return{position:Se[1],index:j[Se[0]],cell:j,cellId:Y,intensity:Ne,dataCoordinate:this.positions[j[Se[0]]]}},U.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function F(J){var Y=n(J,m.vertex,m.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y.attributes.normal.location=4,Y}function H(J){var Y=n(J,S.vertex,S.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y}function X(J){var Y=n(J,x.vertex,x.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y.attributes.pointSize.location=4,Y}function q(J){var Y=n(J,a.vertex,a.fragment);return Y.attributes.position.location=0,Y.attributes.id.location=1,Y}function ne(J){var Y=n(J,E.vertex,E.fragment);return Y.attributes.position.location=0,Y.attributes.id.location=1,Y.attributes.pointSize.location=4,Y}function oe(J){var Y=n(J,w.vertex,w.fragment);return Y.attributes.position.location=0,Y}function ve(J,Y){arguments.length===1&&(Y=J,J=Y.gl);var j=J.getExtension("OES_standard_derivatives")||J.getExtension("MOZ_OES_standard_derivatives")||J.getExtension("WEBKIT_OES_standard_derivatives");if(!j)throw new Error("derivatives not supported");var K=F(J),te=H(J),se=X(J),Q=q(J),ee=ne(J),le=oe(J),ie=u(J,f(new Uint8Array([255,255,255,255]),[1,1,4]));ie.generateMipmap(),ie.minFilter=J.LINEAR_MIPMAP_LINEAR,ie.magFilter=J.LINEAR;var he=s(J),xe=s(J),Se=s(J),Ee=s(J),Ne=s(J),He=c(J,[{buffer:he,type:J.FLOAT,size:3},{buffer:Ne,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:J.FLOAT,size:4},{buffer:Se,type:J.FLOAT,size:2},{buffer:Ee,type:J.FLOAT,size:3}]),Ce=s(J),be=s(J),we=s(J),ke=s(J),Fe=c(J,[{buffer:Ce,type:J.FLOAT,size:3},{buffer:ke,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:be,type:J.FLOAT,size:4},{buffer:we,type:J.FLOAT,size:2}]),Pe=s(J),Ge=s(J),nt=s(J),qe=s(J),Ke=s(J),$e=c(J,[{buffer:Pe,type:J.FLOAT,size:3},{buffer:Ke,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ge,type:J.FLOAT,size:4},{buffer:nt,type:J.FLOAT,size:2},{buffer:qe,type:J.FLOAT,size:1}]),vt=s(J),yt=c(J,[{buffer:vt,type:J.FLOAT,size:3}]),mt=new I(J,ie,K,te,se,Q,ee,le,he,Ne,xe,Se,Ee,He,Ce,ke,be,we,Fe,Pe,Ke,Ge,nt,qe,$e,vt,yt);return mt.update(Y),mt}v.exports=ve},4554:function(v,p,t){v.exports=u;var r=t(5827),l=t(5158),n=t(2709);function s(y,h,b){this.plot=y,this.vbo=h,this.shader=b}var c=s.prototype;c.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},c.drawBox=function(){var y=[0,0],h=[0,0];return function(b,f,o,d,A){var M=this.plot,C=this.shader,m=M.gl;y[0]=b,y[1]=f,h[0]=o,h[1]=d,C.uniforms.lo=y,C.uniforms.hi=h,C.uniforms.color=A,m.drawArrays(m.TRIANGLE_STRIP,0,4)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(y){var h=y.gl,b=r(h,[0,0,0,1,1,0,1,1]),f=l(h,n.boxVert,n.lineFrag);return new s(y,b,f)}},3016:function(v,p,t){v.exports=h;var r=t(5827),l=t(5158),n=t(5070),s=t(2709);function c(b,f,o,d){this.plot=b,this.vbo=f,this.shader=o,this.tickShader=d,this.ticks=[[],[]]}function u(b,f){return b-f}var y=c.prototype;y.draw=function(){var b=[0,0],f=[0,0],o=[0,0];return function(){for(var d=this.plot,A=this.vbo,M=this.shader,C=this.ticks,m=d.gl,S=d._tickBounds,x=d.dataBox,a=d.viewBox,E=d.gridLineWidth,w=d.gridLineColor,k=d.gridLineEnable,I=d.pixelRatio,U=0;U<2;++U){var z=S[U],N=S[U+2],B=N-z,F=.5*(x[U+2]+x[U]),H=x[U+2]-x[U];f[U]=2*B/H,b[U]=2*(z-F)/H}M.bind(),A.bind(),M.attributes.dataCoord.pointer(),M.uniforms.dataShift=b,M.uniforms.dataScale=f;for(var X=0,U=0;U<2;++U){o[0]=o[1]=0,o[U]=1,M.uniforms.dataAxis=o,M.uniforms.lineWidth=E[U]/(a[U+2]-a[U])*I,M.uniforms.color=w[U];var q=C[U].length*6;k[U]&&q&&m.drawArrays(m.TRIANGLES,X,q),X+=q}}}(),y.drawTickMarks=function(){var b=[0,0],f=[0,0],o=[1,0],d=[0,1],A=[0,0],M=[0,0];return function(){for(var C=this.plot,m=this.vbo,S=this.tickShader,x=this.ticks,a=C.gl,E=C._tickBounds,w=C.dataBox,k=C.viewBox,I=C.pixelRatio,U=C.screenBox,z=U[2]-U[0],N=U[3]-U[1],B=k[2]-k[0],F=k[3]-k[1],H=0;H<2;++H){var X=E[H],q=E[H+2],ne=q-X,oe=.5*(w[H+2]+w[H]),ve=w[H+2]-w[H];f[H]=2*ne/ve,b[H]=2*(X-oe)/ve}f[0]*=B/z,b[0]*=B/z,f[1]*=F/N,b[1]*=F/N,S.bind(),m.bind(),S.attributes.dataCoord.pointer();var J=S.uniforms;J.dataShift=b,J.dataScale=f;var Y=C.tickMarkLength,j=C.tickMarkWidth,K=C.tickMarkColor,te=0,se=x[0].length*6,Q=Math.min(n.ge(x[0],(w[0]-E[0])/(E[2]-E[0]),u),x[0].length),ee=Math.min(n.gt(x[0],(w[2]-E[0])/(E[2]-E[0]),u),x[0].length),le=te+6*Q,ie=6*Math.max(0,ee-Q),he=Math.min(n.ge(x[1],(w[1]-E[1])/(E[3]-E[1]),u),x[1].length),xe=Math.min(n.gt(x[1],(w[3]-E[1])/(E[3]-E[1]),u),x[1].length),Se=se+6*he,Ee=6*Math.max(0,xe-he);A[0]=2*(k[0]-Y[1])/z-1,A[1]=(k[3]+k[1])/N-1,M[0]=Y[1]*I/z,M[1]=j[1]*I/N,Ee&&(J.color=K[1],J.tickScale=M,J.dataAxis=d,J.screenOffset=A,a.drawArrays(a.TRIANGLES,Se,Ee)),A[0]=(k[2]+k[0])/z-1,A[1]=2*(k[1]-Y[0])/N-1,M[0]=j[0]*I/z,M[1]=Y[0]*I/N,ie&&(J.color=K[0],J.tickScale=M,J.dataAxis=o,J.screenOffset=A,a.drawArrays(a.TRIANGLES,le,ie)),A[0]=2*(k[2]+Y[3])/z-1,A[1]=(k[3]+k[1])/N-1,M[0]=Y[3]*I/z,M[1]=j[3]*I/N,Ee&&(J.color=K[3],J.tickScale=M,J.dataAxis=d,J.screenOffset=A,a.drawArrays(a.TRIANGLES,Se,Ee)),A[0]=(k[2]+k[0])/z-1,A[1]=2*(k[3]+Y[2])/N-1,M[0]=j[2]*I/z,M[1]=Y[2]*I/N,ie&&(J.color=K[2],J.tickScale=M,J.dataAxis=o,J.screenOffset=A,a.drawArrays(a.TRIANGLES,le,ie))}}(),y.update=function(){var b=[1,1,-1,-1,1,-1],f=[1,-1,1,1,-1,-1];return function(o){var d=o.ticks,A=o.bounds,M=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var C=0,m=[[],[]],S=0;S<2;++S)for(var x=m[S],a=d[S],E=A[S],w=A[S+2],k=0;k<a.length;++k){var I=(a[k].x-E)/(w-E);x.push(I);for(var U=0;U<6;++U)M[C++]=I,M[C++]=b[U],M[C++]=f[U]}this.ticks=m,this.vbo.update(M)}}(),y.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function h(b){var f=b.gl,o=r(f),d=l(f,s.gridVert,s.gridFrag),A=l(f,s.tickVert,s.gridFrag),M=new c(b,o,d,A);return M}},1154:function(v,p,t){v.exports=u;var r=t(5827),l=t(5158),n=t(2709);function s(y,h,b){this.plot=y,this.vbo=h,this.shader=b}var c=s.prototype;c.bind=function(){var y=this.shader;this.vbo.bind(),this.shader.bind(),y.attributes.coord.pointer(),y.uniforms.screenBox=this.plot.screenBox},c.drawLine=function(){var y=[0,0],h=[0,0];return function(b,f,o,d,A,M){var C=this.plot,m=this.shader,S=C.gl;y[0]=b,y[1]=f,h[0]=o,h[1]=d,m.uniforms.start=y,m.uniforms.end=h,m.uniforms.width=A*C.pixelRatio,m.uniforms.color=M,S.drawArrays(S.TRIANGLE_STRIP,0,4)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(y){var h=y.gl,b=r(h,[-1,-1,-1,1,1,-1,1,1]),f=l(h,n.lineVert,n.lineFrag),o=new s(y,b,f);return o}},2709:function(v,p,t){var r=t(6832),l=r([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:l,textVert:r([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:l,gridVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:l,boxVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(v,p,t){v.exports=h;var r=t(5827),l=t(5158),n=t(6946),s=t(5070),c=t(2709);function u(b,f,o){this.plot=b,this.vbo=f,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var y=u.prototype;y.drawTicks=function(){var b=[0,0],f=[0,0],o=[0,0];return function(d){var A=this.plot,M=this.shader,C=this.tickX[d],m=this.tickOffset[d],S=A.gl,x=A.viewBox,a=A.dataBox,E=A.screenBox,w=A.pixelRatio,k=A.tickEnable,I=A.tickPad,U=A.tickColor,z=A.tickAngle,N=A.labelEnable,B=A.labelPad,F=A.labelColor,H=A.labelAngle,X=this.labelOffset[d],q=this.labelCount[d],ne=s.lt(C,a[d]),oe=s.le(C,a[d+2]);b[0]=b[1]=0,b[d]=1,f[d]=(x[2+d]+x[d])/(E[2+d]-E[d])-1;var ve=2/E[2+(d^1)]-E[d^1];f[d^1]=ve*x[d^1]-1,k[d]&&(f[d^1]-=ve*w*I[d],ne<oe&&m[oe]>m[ne]&&(M.uniforms.dataAxis=b,M.uniforms.screenOffset=f,M.uniforms.color=U[d],M.uniforms.angle=z[d],S.drawArrays(S.TRIANGLES,m[ne],m[oe]-m[ne]))),N[d]&&q&&(f[d^1]-=ve*w*B[d],M.uniforms.dataAxis=o,M.uniforms.screenOffset=f,M.uniforms.color=F[d],M.uniforms.angle=H[d],S.drawArrays(S.TRIANGLES,X,q)),f[d^1]=ve*x[2+(d^1)]-1,k[d+2]&&(f[d^1]+=ve*w*I[d+2],ne<oe&&m[oe]>m[ne]&&(M.uniforms.dataAxis=b,M.uniforms.screenOffset=f,M.uniforms.color=U[d+2],M.uniforms.angle=z[d+2],S.drawArrays(S.TRIANGLES,m[ne],m[oe]-m[ne]))),N[d+2]&&q&&(f[d^1]+=ve*w*B[d+2],M.uniforms.dataAxis=o,M.uniforms.screenOffset=f,M.uniforms.color=F[d+2],M.uniforms.angle=H[d+2],S.drawArrays(S.TRIANGLES,X,q))}}(),y.drawTitle=function(){var b=[0,0],f=[0,0];return function(){var o=this.plot,d=this.shader,A=o.gl,M=o.screenBox,C=o.titleCenter,m=o.titleAngle,S=o.titleColor,x=o.pixelRatio;if(this.titleCount){for(var a=0;a<2;++a)f[a]=2*(C[a]*x-M[a])/(M[2+a]-M[a])-1;d.bind(),d.uniforms.dataAxis=b,d.uniforms.screenOffset=f,d.uniforms.angle=m,d.uniforms.color=S,A.drawArrays(A.TRIANGLES,this.titleOffset,this.titleCount)}}}(),y.bind=function(){var b=[0,0],f=[0,0],o=[0,0];return function(){var d=this.plot,A=this.shader,M=d._tickBounds,C=d.dataBox,m=d.screenBox,S=d.viewBox;A.bind();for(var x=0;x<2;++x){var a=M[x],E=M[x+2],w=E-a,k=.5*(C[x+2]+C[x]),I=C[x+2]-C[x],U=S[x],z=S[x+2],N=z-U,B=m[x],F=m[x+2],H=F-B;f[x]=2*w/I*N/H,b[x]=2*(a-k)/I*N/H}o[1]=2*d.pixelRatio/(m[3]-m[1]),o[0]=o[1]*(m[3]-m[1])/(m[2]-m[0]),A.uniforms.dataScale=f,A.uniforms.dataShift=b,A.uniforms.textScale=o,this.vbo.bind(),A.attributes.textCoordinate.pointer()}}(),y.update=function(b){var f=[],o=b.ticks,d=b.bounds,A,M,C,m,S;for(S=0;S<2;++S){var x=[Math.floor(f.length/3)],a=[-1/0],E=o[S];for(A=0;A<E.length;++A){var w=E[A],k=w.x,I=w.text,U=w.font||"sans-serif";m=w.fontSize||12;for(var z=1/(d[S+2]-d[S]),N=d[S],B=I.split(`
`),F=0;F<B.length;F++)for(C=n(U,B[F]).data,M=0;M<C.length;M+=2)f.push(C[M]*m,-C[M+1]*m-F*m*1.2,(k-N)*z);x.push(Math.floor(f.length/3)),a.push(k)}this.tickOffset[S]=x,this.tickX[S]=a}for(S=0;S<2;++S){for(this.labelOffset[S]=Math.floor(f.length/3),C=n(b.labelFont[S],b.labels[S],{textAlign:"center"}).data,m=b.labelSize[S],A=0;A<C.length;A+=2)f.push(C[A]*m,-C[A+1]*m,0);this.labelCount[S]=Math.floor(f.length/3)-this.labelOffset[S]}for(this.titleOffset=Math.floor(f.length/3),C=n(b.titleFont,b.title).data,m=b.titleSize,A=0;A<C.length;A+=2)f.push(C[A]*m,-C[A+1]*m,0);this.titleCount=Math.floor(f.length/3)-this.titleOffset,this.vbo.update(f)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function h(b){var f=b.gl,o=r(f),d=l(f,c.textVert,c.textFrag),A=new u(b,o,d);return A}},2117:function(v,p,t){v.exports=f;var r=t(2611),l=t(3016),n=t(5613),s=t(1154),c=t(4554);function u(o,d){this.gl=o,this.pickBuffer=d,this.screenBox=[0,0,o.drawingBufferWidth,o.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var y=u.prototype;y.setDirty=function(){this.dirty=this.pickDirty=!0},y.setOverlayDirty=function(){this.dirty=!0},y.nextDepthValue=function(){return this._depthCounter++/65536},y.draw=function(){return function(){var o=this.gl,d=this.screenBox,A=this.viewBox,M=this.dataBox,C=this.pixelRatio,m=this.grid,S=this.line,x=this.text,a=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,o.bindFramebuffer(o.FRAMEBUFFER,null),o.enable(o.SCISSOR_TEST),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS),o.depthMask(!1),o.enable(o.BLEND),o.blendEquation(o.FUNC_ADD,o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.borderColor){o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var E=this.borderColor;o.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)}o.scissor(A[0],A[1],A[2]-A[0],A[3]-A[1]),o.viewport(A[0],A[1],A[2]-A[0],A[3]-A[1]);var w=this.backgroundColor;o.clearColor(w[0]*w[3],w[1]*w[3],w[2]*w[3],w[3]),o.clear(o.COLOR_BUFFER_BIT),m.draw();var k=this.zeroLineEnable,I=this.zeroLineColor,U=this.zeroLineWidth;if(k[0]||k[1]){S.bind();for(var z=0;z<2;++z)if(!(!k[z]||!(M[z]<=0&&M[z+2]>=0))){var N=d[z]-M[z]*(d[z+2]-d[z])/(M[z+2]-M[z]);z===0?S.drawLine(N,d[1],N,d[3],U[z],I[z]):S.drawLine(d[0],N,d[2],N,U[z],I[z])}}for(var z=0;z<a.length;++z)a[z].draw();o.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),S.bind();var B=this.borderLineEnable,F=this.borderLineWidth,H=this.borderLineColor;B[1]&&S.drawLine(A[0],A[1]-.5*F[1]*C,A[0],A[3]+.5*F[3]*C,F[1],H[1]),B[0]&&S.drawLine(A[0]-.5*F[0]*C,A[1],A[2]+.5*F[2]*C,A[1],F[0],H[0]),B[3]&&S.drawLine(A[2],A[1]-.5*F[1]*C,A[2],A[3]+.5*F[3]*C,F[3],H[3]),B[2]&&S.drawLine(A[0]-.5*F[0]*C,A[3],A[2]+.5*F[2]*C,A[3],F[2],H[2]),x.bind();for(var z=0;z<2;++z)x.drawTicks(z);this.titleEnable&&x.drawTitle();for(var X=this.overlays,z=0;z<X.length;++z)X[z].draw();o.disable(o.SCISSOR_TEST),o.disable(o.BLEND),o.depthMask(!0)}}}(),y.drawPick=function(){return function(){if(!this.static){var o=this.pickBuffer;this.gl,this._pickTimeout=null,o.begin();for(var d=1,A=this.objects,M=0;M<A.length;++M)d=A[M].drawPick(d);o.end()}}}(),y.pick=function(){return function(o,d){if(!this.static){var A=this.pixelRatio,M=this.pickPixelRatio,C=this.viewBox,m=Math.round((o-C[0]/A)*M)|0,S=Math.round((d-C[1]/A)*M)|0,x=this.pickBuffer.query(m,S,this.pickRadius);if(!x)return null;for(var a=x.id+(x.value[0]<<8)+(x.value[1]<<16)+(x.value[2]<<24),E=this.objects,w=0;w<E.length;++w){var k=E[w].pick(m,S,a);if(k)return k}return null}}}();function h(o){for(var d=o.slice(),A=0;A<d.length;++A)d[A]=d[A].slice();return d}function b(o,d){return o.x-d.x}y.setScreenBox=function(o){var d=this.screenBox,A=this.pixelRatio;d[0]=Math.round(o[0]*A)|0,d[1]=Math.round(o[1]*A)|0,d[2]=Math.round(o[2]*A)|0,d[3]=Math.round(o[3]*A)|0,this.setDirty()},y.setDataBox=function(o){var d=this.dataBox,A=d[0]!==o[0]||d[1]!==o[1]||d[2]!==o[2]||d[3]!==o[3];A&&(d[0]=o[0],d[1]=o[1],d[2]=o[2],d[3]=o[3],this.setDirty())},y.setViewBox=function(o){var d=this.pixelRatio,A=this.viewBox;A[0]=Math.round(o[0]*d)|0,A[1]=Math.round(o[1]*d)|0,A[2]=Math.round(o[2]*d)|0,A[3]=Math.round(o[3]*d)|0;var M=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((o[2]-o[0])*M)|0,Math.round((o[3]-o[1])*M)|0],this.setDirty()},y.update=function(o){o=o||{};var d=this.gl;this.pixelRatio=o.pixelRatio||1;var A=this.pixelRatio;this.pickPixelRatio=Math.max(A,1),this.setScreenBox(o.screenBox||[0,0,d.drawingBufferWidth/A,d.drawingBufferHeight/A]),this.screenBox,this.setViewBox(o.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/A,.125*(this.screenBox[3]-this.screenBox[1])/A,.875*(this.screenBox[2]-this.screenBox[0])/A,.875*(this.screenBox[3]-this.screenBox[1])/A]);var M=this.viewBox,C=(M[2]-M[0])/(M[3]-M[1]);this.setDataBox(o.dataBox||[-10,-10/C,10,10/C]),this.borderColor=o.borderColor!==!1?(o.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(o.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(o.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(o.gridLineWidth||[1,1]).slice(),this.gridLineColor=h(o.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(o.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(o.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=h(o.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(o.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(o.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=h(o.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(o.titleCenter||[.5*(M[0]+M[2])/A,(M[3]+120)/A]).slice(),this.titleEnable=!("titleEnable"in o)||!!o.titleEnable,this.titleAngle=o.titleAngle||0,this.titleColor=(o.titleColor||[0,0,0,1]).slice(),this.labelPad=(o.labelPad||[15,15,15,15]).slice(),this.labelAngle=(o.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(o.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=h(o.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(o.tickPad||[15,15,15,15]).slice(),this.tickAngle=(o.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(o.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=h(o.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(o.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(o.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=h(o.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var m=o.ticks||[[],[]],S=this._tickBounds;S[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(var x=0;x<2;++x){var a=m[x].slice(0);a.length!==0&&(a.sort(b),S[x]=Math.min(S[x],a[0].x),S[x+2]=Math.max(S[x+2],a[a.length-1].x))}this.grid.update({bounds:S,ticks:m}),this.text.update({bounds:S,ticks:m,labels:o.labels||["x","y"],labelSize:o.labelSize||[12,12],labelFont:o.labelFont||["sans-serif","sans-serif"],title:o.title||"",titleSize:o.titleSize||18,titleFont:o.titleFont||"sans-serif"}),this.static=!!o.static,this.setDirty()},y.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var o=this.objects.length-1;o>=0;--o)this.objects[o].dispose();this.objects.length=0;for(var o=this.overlays.length-1;o>=0;--o)this.overlays[o].dispose();this.overlays.length=0,this.gl=null},y.addObject=function(o){this.objects.indexOf(o)<0&&(this.objects.push(o),this.setDirty())},y.removeObject=function(o){for(var d=this.objects,A=0;A<d.length;++A)if(d[A]===o){d.splice(A,1),this.setDirty();break}},y.addOverlay=function(o){this.overlays.indexOf(o)<0&&(this.overlays.push(o),this.setOverlayDirty())},y.removeOverlay=function(o){for(var d=this.overlays,A=0;A<d.length;++A)if(d[A]===o){d.splice(A,1),this.setOverlayDirty();break}};function f(o){var d=o.gl,A=r(d,[d.drawingBufferWidth,d.drawingBufferHeight]),M=new u(d,A);return M.grid=l(M),M.text=n(M),M.line=s(M),M.box=c(M),M.update(o),M}},4296:function(v,p,t){v.exports=y;var r=t(8161),l=t(1152),n=t(6145),s=t(6475),c=t(2565),u=t(5233);function y(h,b){h=h||document.body,b=b||{};var f=[.01,1/0];"distanceLimits"in b&&(f[0]=b.distanceLimits[0],f[1]=b.distanceLimits[1]),"zoomMin"in b&&(f[0]=b.zoomMin),"zoomMax"in b&&(f[1]=b.zoomMax);var o=l({center:b.center||[0,0,0],up:b.up||[0,1,0],eye:b.eye||[0,0,10],mode:b.mode||"orbit",distanceLimits:f}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A=0,M=h.clientWidth,C=h.clientHeight,m={keyBindingMode:"rotate",enableWheel:!0,view:o,element:h,delay:b.delay||16,rotateSpeed:b.rotateSpeed||1,zoomSpeed:b.zoomSpeed||1,translateSpeed:b.translateSpeed||1,flipX:!!b.flipX,flipY:!!b.flipY,modes:o.modes,_ortho:b._ortho||b.projection&&b.projection.type==="orthographic"||!1,tick:function(){var S=r(),x=this.delay,a=S-2*x;o.idle(S-x),o.recalcMatrix(a),o.flush(S-(100+x*2));for(var E=!0,w=o.computedMatrix,k=0;k<16;++k)E=E&&d[k]===w[k],d[k]=w[k];var I=h.clientWidth===M&&h.clientHeight===C;return M=h.clientWidth,C=h.clientHeight,E?!I:(A=Math.exp(o.computedRadius[0]),!0)},lookAt:function(S,x,a){o.lookAt(o.lastT(),S,x,a)},rotate:function(S,x,a){o.rotate(o.lastT(),S,x,a)},pan:function(S,x,a){o.pan(o.lastT(),S,x,a)},translate:function(S,x,a){o.translate(o.lastT(),S,x,a)}};return Object.defineProperties(m,{matrix:{get:function(){return o.computedMatrix},set:function(S){return o.setMatrix(o.lastT(),S),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(S){var x=o.computedUp.slice(),a=o.computedEye.slice(),E=o.computedCenter.slice();if(o.setMode(S),S==="turntable"){var w=r();o._active.lookAt(w,a,E,x),o._active.lookAt(w+500,a,E,[0,0,1]),o._active.flush(w)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(S){return o.lookAt(o.lastT(),null,S),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(S){return o.lookAt(o.lastT(),S),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(S){return o.lookAt(o.lastT(),null,null,S),o.computedUp},enumerable:!0},distance:{get:function(){return A},set:function(S){return o.setDistance(o.lastT(),S),S},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(f)},set:function(S){return o.setDistanceLimits(S),S},enumerable:!0}}),h.addEventListener("contextmenu",function(S){return S.preventDefault(),!1}),m._lastX=-1,m._lastY=-1,m._lastMods={shift:!1,control:!1,alt:!1,meta:!1},m.enableMouseListeners=function(){m.mouseListener=n(h,S),h.addEventListener("touchstart",function(x){var a=c(x.changedTouches[0],h);S(0,a[0],a[1],m._lastMods),S(1,a[0],a[1],m._lastMods)},u?{passive:!0}:!1),h.addEventListener("touchmove",function(x){var a=c(x.changedTouches[0],h);S(1,a[0],a[1],m._lastMods),x.preventDefault()},u?{passive:!1}:!1),h.addEventListener("touchend",function(x){S(0,m._lastX,m._lastY,m._lastMods)},u?{passive:!0}:!1);function S(x,a,E,w){var k=m.keyBindingMode;if(k!==!1){var I=k==="rotate",U=k==="pan",z=k==="zoom",N=!!w.control,B=!!w.alt,F=!!w.shift,H=!!(x&1),X=!!(x&2),q=!!(x&4),ne=1/h.clientHeight,oe=ne*(a-m._lastX),ve=ne*(E-m._lastY),J=m.flipX?1:-1,Y=m.flipY?1:-1,j=Math.PI*m.rotateSpeed,K=r();if(m._lastX!==-1&&m._lastY!==-1&&((I&&H&&!N&&!B&&!F||H&&!N&&!B&&F)&&o.rotate(K,J*j*oe,-Y*j*ve,0),(U&&H&&!N&&!B&&!F||X||H&&N&&!B&&!F)&&o.pan(K,-m.translateSpeed*oe*A,m.translateSpeed*ve*A,0),z&&H&&!N&&!B&&!F||q||H&&!N&&B&&!F)){var te=-m.zoomSpeed*ve/window.innerHeight*(K-o.lastT())*100;o.pan(K,0,0,A*(Math.exp(te)-1))}return m._lastX=a,m._lastY=E,m._lastMods=w,!0}}m.wheelListener=s(h,function(x,a){if(m.keyBindingMode!==!1&&m.enableWheel){var E=m.flipX?1:-1,w=m.flipY?1:-1,k=r();if(Math.abs(x)>Math.abs(a))o.rotate(k,0,0,-x*E*Math.PI*m.rotateSpeed/window.innerWidth);else if(!m._ortho){var I=-m.zoomSpeed*w*a/window.innerHeight*(k-o.lastT())/20;o.pan(k,0,0,A*(Math.exp(I)-1))}}},!0)},m.enableMouseListeners(),m}},8245:function(v,p,t){var r=t(6832),l=t(5158),n=r([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),s=r([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(c){return l(c,n,s,null,[{name:"position",type:"vec2"}])}},1059:function(v,p,t){var r=t(4296),l=t(7453),n=t(2771),s=t(6496),c=t(2611),u=t(4234),y=t(8126),h=t(6145),b=t(1120),f=t(5268),o=t(8245),d=t(2321)({tablet:!0,featureDetect:!0});v.exports={createScene:S,createCamera:r};function A(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function M(a,E){var w=null;try{w=a.getContext("webgl",E),w||(w=a.getContext("experimental-webgl",E))}catch{return null}return w}function C(a){var E=Math.round(Math.log(Math.abs(a))/Math.log(10));if(E<0){var w=Math.round(Math.pow(10,-E));return Math.ceil(a*w)/w}else if(E>0){var w=Math.round(Math.pow(10,E));return Math.ceil(a/w)*w}return Math.ceil(a)}function m(a){return typeof a=="boolean"?a:!0}function S(a){a=a||{},a.camera=a.camera||{};var E=a.canvas;if(!E)if(E=document.createElement("canvas"),a.container){var w=a.container;w.appendChild(E)}else document.body.appendChild(E);var k=a.gl;if(k||(a.glOptions&&(d=!!a.glOptions.preserveDrawingBuffer),k=M(E,a.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!k)throw new Error("webgl not supported");var I=a.bounds||[[-10,-10,-10],[10,10,10]],U=new A,z=u(k,k.drawingBufferWidth,k.drawingBufferHeight,{preferFloat:!d}),N=o(k),B=a.cameraObject&&a.cameraObject._ortho===!0||a.camera.projection&&a.camera.projection.type==="orthographic"||!1,F={eye:a.camera.eye||[2,0,0],center:a.camera.center||[0,0,0],up:a.camera.up||[0,1,0],zoomMin:a.camera.zoomMax||.1,zoomMax:a.camera.zoomMin||100,mode:a.camera.mode||"turntable",_ortho:B},H=a.axes||{},X=l(k,H);X.enable=!H.disable;var q=a.spikes||{},ne=s(k,q),oe=[],ve=[],J=[],Y=[],j=!0,Q=!0,K=new Array(16),te=new Array(16),se={view:null,projection:K,model:te,_ortho:!1},Q=!0,ee=[k.drawingBufferWidth,k.drawingBufferHeight],le=a.cameraObject||r(E,F),ie={gl:k,contextLost:!1,pixelRatio:a.pixelRatio||1,canvas:E,selection:U,camera:le,axes:X,axesPixels:null,spikes:ne,bounds:I,objects:oe,shape:ee,aspect:a.aspectRatio||[1,1,1],pickRadius:a.pickRadius||10,zNear:a.zNear||.01,zFar:a.zFar||1e3,fovy:a.fovy||Math.PI/4,clearColor:a.clearColor||[0,0,0,0],autoResize:m(a.autoResize),autoBounds:m(a.autoBounds),autoScale:!!a.autoScale,autoCenter:m(a.autoCenter),clipToBounds:m(a.clipToBounds),snapToData:!!a.snapToData,onselect:a.onselect||null,onrender:a.onrender||null,onclick:a.onclick||null,cameraParams:se,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(ke){this.aspect[0]=ke.x,this.aspect[1]=ke.y,this.aspect[2]=ke.z,Q=!0},setBounds:function(ke,Fe){this.bounds[0][ke]=Fe.min,this.bounds[1][ke]=Fe.max},setClearColor:function(ke){this.clearColor=ke},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},he=[k.drawingBufferWidth/ie.pixelRatio|0,k.drawingBufferHeight/ie.pixelRatio|0];function xe(){if(!ie._stopped&&ie.autoResize){var ke=E.parentNode,Fe=1,Pe=1;ke&&ke!==document.body?(Fe=ke.clientWidth,Pe=ke.clientHeight):(Fe=window.innerWidth,Pe=window.innerHeight);var Ge=Math.ceil(Fe*ie.pixelRatio)|0,nt=Math.ceil(Pe*ie.pixelRatio)|0;if(Ge!==E.width||nt!==E.height){E.width=Ge,E.height=nt;var qe=E.style;qe.position=qe.position||"absolute",qe.left="0px",qe.top="0px",qe.width=Fe+"px",qe.height=Pe+"px",j=!0}}}ie.autoResize&&xe(),window.addEventListener("resize",xe);function Se(){for(var ke=oe.length,Fe=Y.length,Pe=0;Pe<Fe;++Pe)J[Pe]=0;e:for(var Pe=0;Pe<ke;++Pe){var Ge=oe[Pe],nt=Ge.pickSlots;if(!nt){ve[Pe]=-1;continue}for(var qe=0;qe<Fe;++qe)if(J[qe]+nt<255){ve[Pe]=qe,Ge.setPickBase(J[qe]+1),J[qe]+=nt;continue e}var Ke=c(k,ee);ve[Pe]=Fe,Y.push(Ke),J.push(nt),Ge.setPickBase(1),Fe+=1}for(;Fe>0&&J[Fe-1]===0;)J.pop(),Y.pop().dispose()}ie.update=function(ke){ie._stopped||(j=!0,Q=!0)},ie.add=function(ke){ie._stopped||(ke.axes=X,oe.push(ke),ve.push(-1),j=!0,Q=!0,Se())},ie.remove=function(ke){if(!ie._stopped){var Fe=oe.indexOf(ke);Fe<0||(oe.splice(Fe,1),ve.pop(),j=!0,Q=!0,Se())}},ie.dispose=function(){if(!ie._stopped&&(ie._stopped=!0,window.removeEventListener("resize",xe),E.removeEventListener("webglcontextlost",Ee),ie.mouseListener.enabled=!1,!ie.contextLost)){X.dispose(),ne.dispose();for(var ke=0;ke<oe.length;++ke)oe[ke].dispose();z.dispose();for(var ke=0;ke<Y.length;++ke)Y[ke].dispose();N.dispose(),k=null,X=null,ne=null,oe=[]}},ie._mouseRotating=!1,ie._prevButtons=0,ie.enableMouseListeners=function(){ie.mouseListener=h(E,function(ke,Fe,Pe){if(!ie._stopped){var Ge=Y.length,nt=oe.length,qe=U.object;U.distance=1/0,U.mouse[0]=Fe,U.mouse[1]=Pe,U.object=null,U.screen=null,U.dataCoordinate=U.dataPosition=null;var Ke=!1;if(ke&&ie._prevButtons)ie._mouseRotating=!0;else{ie._mouseRotating&&(Q=!0),ie._mouseRotating=!1;for(var $e=0;$e<Ge;++$e){var vt=Y[$e].query(Fe,he[1]-Pe-1,ie.pickRadius);if(vt){if(vt.distance>U.distance)continue;for(var yt=0;yt<nt;++yt){var mt=oe[yt];if(ve[yt]===$e){var Et=mt.pick(vt);Et&&(U.buttons=ke,U.screen=vt.coord,U.distance=vt.distance,U.object=mt,U.index=Et.distance,U.dataPosition=Et.position,U.dataCoordinate=Et.dataCoordinate,U.data=Et,Ke=!0)}}}}}qe&&qe!==U.object&&(qe.highlight&&qe.highlight(null),j=!0),U.object&&(U.object.highlight&&U.object.highlight(U.data),j=!0),Ke=Ke||U.object!==qe,Ke&&ie.onselect&&ie.onselect(U),ke&1&&!(ie._prevButtons&1)&&ie.onclick&&ie.onclick(U),ie._prevButtons=ke}})};function Ee(){if(ie.contextLost)return!0;k.isContextLost()&&(ie.contextLost=!0,ie.mouseListener.enabled=!1,ie.selection.object=null,ie.oncontextloss&&ie.oncontextloss())}E.addEventListener("webglcontextlost",Ee);function Ne(){if(!Ee()){k.colorMask(!0,!0,!0,!0),k.depthMask(!0),k.disable(k.BLEND),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL);for(var ke=oe.length,Fe=Y.length,Pe=0;Pe<Fe;++Pe){var Ge=Y[Pe];Ge.shape=he,Ge.begin();for(var nt=0;nt<ke;++nt)if(ve[nt]===Pe){var qe=oe[nt];qe.drawPick&&(qe.pixelRatio=1,qe.drawPick(se))}Ge.end()}}}var He=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ce=[He[0].slice(),He[1].slice()];function be(){if(!Ee()){xe();var ke=ie.camera.tick();se.view=ie.camera.matrix,j=j||ke,Q=Q||ke,X.pixelRatio=ie.pixelRatio,ne.pixelRatio=ie.pixelRatio;var Fe=oe.length,Pe=He[0],Ge=He[1];Pe[0]=Pe[1]=Pe[2]=1/0,Ge[0]=Ge[1]=Ge[2]=-1/0;for(var nt=0;nt<Fe;++nt){var qe=oe[nt];qe.pixelRatio=ie.pixelRatio,qe.axes=ie.axes,j=j||!!qe.dirty,Q=Q||!!qe.dirty;var Ke=qe.bounds;if(Ke)for(var $e=Ke[0],vt=Ke[1],yt=0;yt<3;++yt)Pe[yt]=Math.min(Pe[yt],$e[yt]),Ge[yt]=Math.max(Ge[yt],vt[yt])}var mt=ie.bounds;if(ie.autoBounds)for(var yt=0;yt<3;++yt){if(Ge[yt]<Pe[yt])Pe[yt]=-1,Ge[yt]=1;else{Pe[yt]===Ge[yt]&&(Pe[yt]-=1,Ge[yt]+=1);var Et=.05*(Ge[yt]-Pe[yt]);Pe[yt]=Pe[yt]-Et,Ge[yt]=Ge[yt]+Et}mt[0][yt]=Pe[yt],mt[1][yt]=Ge[yt]}for(var Xe=!1,yt=0;yt<3;++yt)Xe=Xe||Ce[0][yt]!==mt[0][yt]||Ce[1][yt]!==mt[1][yt],Ce[0][yt]=mt[0][yt],Ce[1][yt]=mt[1][yt];if(Q=Q||Xe,j=j||Xe,!!j){if(Xe){for(var Ue=[0,0,0],nt=0;nt<3;++nt)Ue[nt]=C((mt[1][nt]-mt[0][nt])/10);X.autoTicks?X.update({bounds:mt,tickSpacing:Ue}):X.update({bounds:mt})}var Be=k.drawingBufferWidth,rt=k.drawingBufferHeight;ee[0]=Be,ee[1]=rt,he[0]=Math.max(Be/ie.pixelRatio,1)|0,he[1]=Math.max(rt/ie.pixelRatio,1)|0,x(ie,B);for(var nt=0;nt<Fe;++nt){var qe=oe[nt];qe.axesBounds=mt,ie.clipToBounds&&(qe.clipBounds=mt)}U.object&&(ie.snapToData?ne.position=U.dataCoordinate:ne.position=U.dataPosition,ne.bounds=mt),Q&&(Q=!1,Ne()),ie.axesPixels=n(ie.axes,se,Be,rt),ie.onrender&&ie.onrender(),k.bindFramebuffer(k.FRAMEBUFFER,null),k.viewport(0,0,Be,rt),ie.clearRGBA(),k.depthMask(!0),k.colorMask(!0,!0,!0,!0),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.disable(k.BLEND),k.disable(k.CULL_FACE);var it=!1;X.enable&&(it=it||X.isTransparent(),X.draw(se)),ne.axes=X,U.object&&ne.draw(se),k.disable(k.CULL_FACE);for(var nt=0;nt<Fe;++nt){var qe=oe[nt];qe.axes=X,qe.pixelRatio=ie.pixelRatio,qe.isOpaque&&qe.isOpaque()&&qe.draw(se),qe.isTransparent&&qe.isTransparent()&&(it=!0)}if(it){z.shape=ee,z.bind(),k.clear(k.DEPTH_BUFFER_BIT),k.colorMask(!1,!1,!1,!1),k.depthMask(!0),k.depthFunc(k.LESS),X.enable&&X.isTransparent()&&X.drawTransparent(se);for(var nt=0;nt<Fe;++nt){var qe=oe[nt];qe.isOpaque&&qe.isOpaque()&&qe.draw(se)}k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.colorMask(!0,!0,!0,!0),k.depthMask(!1),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),X.isTransparent()&&X.drawTransparent(se);for(var nt=0;nt<Fe;++nt){var qe=oe[nt];qe.isTransparent&&qe.isTransparent()&&qe.drawTransparent(se)}k.bindFramebuffer(k.FRAMEBUFFER,null),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.disable(k.DEPTH_TEST),N.bind(),z.color[0].bind(0),N.uniforms.accumBuffer=0,y(k),k.disable(k.BLEND)}j=!1;for(var nt=0;nt<Fe;++nt)oe[nt].dirty=!1}}}function we(){ie._stopped||ie.contextLost||(be(),requestAnimationFrame(we))}return ie.enableMouseListeners(),we(),ie.redraw=function(){ie._stopped||(j=!0,be())},ie}function x(a,E){var w=a.bounds,k=a.cameraParams,I=k.projection,U=k.model,z=a.gl.drawingBufferWidth,N=a.gl.drawingBufferHeight,B=a.zNear,F=a.zFar,H=a.fovy,X=z/N;E?(f(I,-X,X,-1,1,B,F),k._ortho=!0):(b(I,H,X,B,F),k._ortho=!1);for(var q=0;q<16;++q)U[q]=0;U[15]=1;for(var ne=0,q=0;q<3;++q)ne=Math.max(ne,w[1][q]-w[0][q]);for(var q=0;q<3;++q)a.autoScale?U[5*q]=a.aspect[q]/(w[1][q]-w[0][q]):U[5*q]=1/ne,a.autoCenter&&(U[12+q]=-U[5*q]*.5*(w[0][q]+w[1][q]))}},8023:function(v,p,t){var r=t(6832);p.pointVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),p.pointFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),p.pickVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),p.pickFragment=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(v,p,t){var r=t(5158),l=t(5827),n=t(5306),s=t(8023);v.exports=h;function c(b,f,o,d,A){this.plot=b,this.offsetBuffer=f,this.pickBuffer=o,this.shader=d,this.pickShader=A,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var u=c.prototype;u.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},u.update=function(b){var f;b=b||{};function o(x,a){return x in b?b[x]:a}this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var d=b.positions.length>>>1,A=b.positions instanceof Float32Array,M=b.idToIndex instanceof Int32Array&&b.idToIndex.length>=d,C=b.positions,m=A?C:n.mallocFloat32(C.length),S=M?b.idToIndex:n.mallocInt32(d);if(A||m.set(C),!M)for(m.set(C),f=0;f<d;f++)S[f]=f;this.points=C,this.offsetBuffer.update(m),this.pickBuffer.update(S),A||n.free(m),M||n.free(S),this.pointCount=d,this.pickOffset=0};function y(b,f){var o=0,d=b.length>>>1,A;for(A=0;A<d;A++){var M=b[A*2],C=b[A*2+1];M>=f[0]&&M<=f[2]&&C>=f[1]&&C<=f[3]&&o++}return o}u.unifiedDraw=function(){var b=[1,0,0,0,1,0,0,0,1],f=[0,0,0,0];return function(o){var d=o!==void 0,A=d?this.pickShader:this.shader,M=this.plot.gl,C=this.plot.dataBox;if(this.pointCount===0)return o;var m=C[2]-C[0],S=C[3]-C[1],x=y(this.points,C),a=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(x,.33333)));b[0]=2/m,b[4]=2/S,b[6]=-2*C[0]/m-1,b[7]=-2*C[1]/S-1,this.offsetBuffer.bind(),A.bind(),A.attributes.position.pointer(),A.uniforms.matrix=b,A.uniforms.color=this.color,A.uniforms.borderColor=this.borderColor,A.uniforms.pointCloud=a<5,A.uniforms.pointSize=a,A.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(f[0]=o&255,f[1]=o>>8&255,f[2]=o>>16&255,f[3]=o>>24&255,this.pickBuffer.bind(),A.attributes.pickId.pointer(M.UNSIGNED_BYTE),A.uniforms.pickOffset=f,this.pickOffset=o);var E=M.getParameter(M.BLEND),w=M.getParameter(M.DITHER);return E&&!this.blend&&M.disable(M.BLEND),w&&M.disable(M.DITHER),M.drawArrays(M.POINTS,0,this.pointCount),E&&!this.blend&&M.enable(M.BLEND),w&&M.enable(M.DITHER),o+this.pointCount}}(),u.draw=u.unifiedDraw,u.drawPick=u.unifiedDraw,u.pick=function(b,f,o){var d=this.pickOffset,A=this.pointCount;if(o<d||o>=d+A)return null;var M=o-d,C=this.points;return{object:this,pointId:M,dataCoord:[C[2*M],C[2*M+1]]}};function h(b,f){var o=b.gl,d=l(o),A=l(o),M=r(o,s.pointVertex,s.pointFragment),C=r(o,s.pickVertex,s.pickFragment),m=new c(b,d,A,M,C);return m.update(f),b.addObject(m),m}},6093:function(v){v.exports=p;function p(t,r,l,n){var s=r[0],c=r[1],u=r[2],y=r[3],h=l[0],b=l[1],f=l[2],o=l[3],d,A,M,C,m;return A=s*h+c*b+u*f+y*o,A<0&&(A=-A,h=-h,b=-b,f=-f,o=-o),1-A>1e-6?(d=Math.acos(A),M=Math.sin(d),C=Math.sin((1-n)*d)/M,m=Math.sin(n*d)/M):(C=1-n,m=n),t[0]=C*s+m*h,t[1]=C*c+m*b,t[2]=C*u+m*f,t[3]=C*y+m*o,t}},8240:function(v){v.exports=function(p){return!p&&p!==0?"":p.toString()}},4123:function(v,p,t){var r=t(875);v.exports=n;var l={};function n(s,c,u){var y=l[c];if(y||(y=l[c]={}),s in y)return y[s];var h={textAlign:"center",textBaseline:"middle",lineHeight:1,font:c,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};h.triangles=!0;var b=r(s,h);h.triangles=!1;var f=r(s,h),o,d;if(u&&u!==1){for(o=0;o<b.positions.length;++o)for(d=0;d<b.positions[o].length;++d)b.positions[o][d]/=u;for(o=0;o<f.positions.length;++o)for(d=0;d<f.positions[o].length;++d)f.positions[o][d]/=u}var A=[[1/0,1/0],[-1/0,-1/0]],M=f.positions.length;for(o=0;o<M;++o){var C=f.positions[o];for(d=0;d<2;++d)A[0][d]=Math.min(A[0][d],C[d]),A[1][d]=Math.max(A[1][d],C[d])}return y[s]=[b,f,A]}},9282:function(v,p,t){var r=t(5158),l=t(6832),n=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),s=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),c=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),y=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),h=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],b={vertex:n,fragment:u,attributes:h},f={vertex:s,fragment:u,attributes:h},o={vertex:c,fragment:u,attributes:h},d={vertex:n,fragment:y,attributes:h},A={vertex:s,fragment:y,attributes:h},M={vertex:c,fragment:y,attributes:h};function C(m,S){var x=r(m,S),a=x.attributes;return a.position.location=0,a.color.location=1,a.glyph.location=2,a.id.location=3,x}p.createPerspective=function(m){return C(m,b)},p.createOrtho=function(m){return C(m,f)},p.createProject=function(m){return C(m,o)},p.createPickPerspective=function(m){return C(m,d)},p.createPickOrtho=function(m){return C(m,A)},p.createPickProject=function(m){return C(m,M)}},2182:function(v,p,t){var r=t(3596),l=t(5827),n=t(2944),s=t(5306),c=t(104),u=t(9282),y=t(4123),h=t(8240),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=ve;function f(J,Y){var j=J[0],K=J[1],te=J[2],se=J[3];return J[0]=Y[0]*j+Y[4]*K+Y[8]*te+Y[12]*se,J[1]=Y[1]*j+Y[5]*K+Y[9]*te+Y[13]*se,J[2]=Y[2]*j+Y[6]*K+Y[10]*te+Y[14]*se,J[3]=Y[3]*j+Y[7]*K+Y[11]*te+Y[15]*se,J}function o(J,Y,j,K){return f(K,K),f(K,K),f(K,K)}function d(J,Y){this.index=J,this.dataCoordinate=this.position=Y}function A(J){return J===!0||J>1?1:J}function M(J,Y,j,K,te,se,Q,ee,le,ie,he,xe){this.gl=J,this.pixelRatio=1,this.shader=Y,this.orthoShader=j,this.projectShader=K,this.pointBuffer=te,this.colorBuffer=se,this.glyphBuffer=Q,this.idBuffer=ee,this.vao=le,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ie,this.pickOrthoShader=he,this.pickProjectShader=xe,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var C=M.prototype;C.pickSlots=1,C.setPickBase=function(J){this.pickId=J},C.isTransparent=function(){if(this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&this.projectHasAlpha)return!0;return!1},C.isOpaque=function(){if(!this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&!this.projectHasAlpha)return!0;return!1};var m=[0,0],S=[0,0,0],x=[0,0,0],a=[0,0,0,1],E=[0,0,0,1],w=b.slice(),k=[0,0,0],I=[[0,0,0],[0,0,0]];function U(J){return J[0]=J[1]=J[2]=0,J}function z(J,Y){return J[0]=Y[0],J[1]=Y[1],J[2]=Y[2],J[3]=1,J}function N(J,Y,j,K){return J[0]=Y[0],J[1]=Y[1],J[2]=Y[2],J[j]=K,J}function B(J){for(var Y=I,j=0;j<2;++j)for(var K=0;K<3;++K)Y[j][K]=Math.max(Math.min(J[j][K],1e8),-1e8);return Y}function F(J,Y,j,K){var te=Y.axesProject,se=Y.gl,Q=J.uniforms,ee=j.model||b,le=j.view||b,ie=j.projection||b,he=Y.axesBounds,xe=B(Y.clipBounds),Se;Y.axes&&Y.axes.lastCubeProps?Se=Y.axes.lastCubeProps.axis:Se=[1,1,1],m[0]=2/se.drawingBufferWidth,m[1]=2/se.drawingBufferHeight,J.bind(),Q.view=le,Q.projection=ie,Q.screenSize=m,Q.highlightId=Y.highlightId,Q.highlightScale=Y.highlightScale,Q.clipBounds=xe,Q.pickGroup=Y.pickId/255,Q.pixelRatio=K;for(var Ee=0;Ee<3;++Ee)if(te[Ee]){Q.scale=Y.projectScale[Ee],Q.opacity=Y.projectOpacity[Ee];for(var Ne=w,He=0;He<16;++He)Ne[He]=0;for(var He=0;He<4;++He)Ne[5*He]=1;Ne[5*Ee]=0,Se[Ee]<0?Ne[12+Ee]=he[0][Ee]:Ne[12+Ee]=he[1][Ee],c(Ne,ee,Ne),Q.model=Ne;var Ce=(Ee+1)%3,be=(Ee+2)%3,we=U(S),ke=U(x);we[Ce]=1,ke[be]=1;var Fe=o(ie,le,ee,z(a,we)),Pe=o(ie,le,ee,z(E,ke));if(Math.abs(Fe[1])>Math.abs(Pe[1])){var Ge=Fe;Fe=Pe,Pe=Ge,Ge=we,we=ke,ke=Ge;var nt=Ce;Ce=be,be=nt}Fe[0]<0&&(we[Ce]=-1),Pe[1]>0&&(ke[be]=-1);for(var qe=0,Ke=0,He=0;He<4;++He)qe+=Math.pow(ee[4*Ce+He],2),Ke+=Math.pow(ee[4*be+He],2);we[Ce]/=Math.sqrt(qe),ke[be]/=Math.sqrt(Ke),Q.axes[0]=we,Q.axes[1]=ke,Q.fragClipBounds[0]=N(k,xe[0],Ee,-1e8),Q.fragClipBounds[1]=N(k,xe[1],Ee,1e8),Y.vao.bind(),Y.vao.draw(se.TRIANGLES,Y.vertexCount),Y.lineWidth>0&&(se.lineWidth(Y.lineWidth*K),Y.vao.draw(se.LINES,Y.lineVertexCount,Y.vertexCount)),Y.vao.unbind()}}var H=[-1e8,-1e8,-1e8],X=[1e8,1e8,1e8],q=[H,X];function ne(J,Y,j,K,te,se,Q){var ee=j.gl;if((se===j.projectHasAlpha||Q)&&F(Y,j,K,te),se===j.hasAlpha||Q){J.bind();var le=J.uniforms;le.model=K.model||b,le.view=K.view||b,le.projection=K.projection||b,m[0]=2/ee.drawingBufferWidth,m[1]=2/ee.drawingBufferHeight,le.screenSize=m,le.highlightId=j.highlightId,le.highlightScale=j.highlightScale,le.fragClipBounds=q,le.clipBounds=j.axes.bounds,le.opacity=j.opacity,le.pickGroup=j.pickId/255,le.pixelRatio=te,j.vao.bind(),j.vao.draw(ee.TRIANGLES,j.vertexCount),j.lineWidth>0&&(ee.lineWidth(j.lineWidth*te),j.vao.draw(ee.LINES,j.lineVertexCount,j.vertexCount)),j.vao.unbind()}}C.draw=function(J){var Y=this.useOrtho?this.orthoShader:this.shader;ne(Y,this.projectShader,this,J,this.pixelRatio,!1,!1)},C.drawTransparent=function(J){var Y=this.useOrtho?this.orthoShader:this.shader;ne(Y,this.projectShader,this,J,this.pixelRatio,!0,!1)},C.drawPick=function(J){var Y=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;ne(Y,this.pickProjectShader,this,J,1,!0,!0)},C.pick=function(J){if(!J||J.id!==this.pickId)return null;var Y=J.value[2]+(J.value[1]<<8)+(J.value[0]<<16);if(Y>=this.pointCount||Y<0)return null;var j=this.points[Y],K=this._selectResult;K.index=Y;for(var te=0;te<3;++te)K.position[te]=K.dataCoordinate[te]=j[te];return K},C.highlight=function(J){if(!J)this.highlightId=[1,1,1,1];else{var Y=J.index,j=Y&255,K=Y>>8&255,te=Y>>16&255;this.highlightId=[j/255,K/255,te/255,0]}};function oe(J,Y,j,K){var te;Array.isArray(J)?Y<J.length?te=J[Y]:te=void 0:te=J,te=h(te);var se=!0;r(te)&&(te="",se=!1);var Q=y(te,j,K);return{mesh:Q[0],lines:Q[1],bounds:Q[2],visible:se}}C.update=function(J){if(J=J||{},"perspective"in J&&(this.useOrtho=!J.perspective),"orthographic"in J&&(this.useOrtho=!!J.orthographic),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"project"in J)if(Array.isArray(J.project))this.axesProject=J.project;else{var Y=!!J.project;this.axesProject=[Y,Y,Y]}if("projectScale"in J)if(Array.isArray(J.projectScale))this.projectScale=J.projectScale.slice();else{var j=+J.projectScale;this.projectScale=[j,j,j]}if(this.projectHasAlpha=!1,"projectOpacity"in J){if(Array.isArray(J.projectOpacity))this.projectOpacity=J.projectOpacity.slice();else{var j=+J.projectOpacity;this.projectOpacity=[j,j,j]}for(var K=0;K<3;++K)this.projectOpacity[K]=A(this.projectOpacity[K]),this.projectOpacity[K]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in J&&(this.opacity=A(J.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var te=J.position,se=J.font||"normal",Q=J.alignment||[0,0],ee,le;if(Q.length===2)ee=Q[0],le=Q[1];else{ee=[],le=[];for(var K=0;K<Q.length;++K)ee[K]=Q[K][0],le[K]=Q[K][1]}var ie=[1/0,1/0,1/0],he=[-1/0,-1/0,-1/0],xe=J.glyph,Se=J.color,Ee=J.size,Ne=J.angle,He=J.lineColor,Ce=-1,be=0,we=0,ke=0;if(te.length){ke=te.length;e:for(var K=0;K<ke;++K){for(var Fe=te[K],Pe=0;Pe<3;++Pe)if(isNaN(Fe[Pe])||!isFinite(Fe[Pe]))continue e;var Ge=oe(xe,K,se,this.pixelRatio),nt=Ge.mesh,qe=Ge.lines,Ke=Ge.bounds;be+=nt.cells.length*3,we+=qe.edges.length*2}}var $e=be+we,vt=s.mallocFloat(3*$e),yt=s.mallocFloat(4*$e),mt=s.mallocFloat(2*$e),Et=s.mallocUint32($e);if($e>0){var Xe=0,Ue=be,Be=[0,0,0,1],rt=[0,0,0,1],it=Array.isArray(Se)&&Array.isArray(Se[0]),Ye=Array.isArray(He)&&Array.isArray(He[0]);e:for(var K=0;K<ke;++K){Ce+=1;for(var Fe=te[K],Pe=0;Pe<3;++Pe){if(isNaN(Fe[Pe])||!isFinite(Fe[Pe]))continue e;he[Pe]=Math.max(he[Pe],Fe[Pe]),ie[Pe]=Math.min(ie[Pe],Fe[Pe])}var Ge=oe(xe,K,se,this.pixelRatio),nt=Ge.mesh,qe=Ge.lines,Ke=Ge.bounds,De=Ge.visible;if(!De)Be=[1,1,1,0];else if(Array.isArray(Se)){var Te;if(it?K<Se.length?Te=Se[K]:Te=[0,0,0,0]:Te=Se,Te.length===3){for(var Pe=0;Pe<3;++Pe)Be[Pe]=Te[Pe];Be[3]=1}else if(Te.length===4){for(var Pe=0;Pe<4;++Pe)Be[Pe]=Te[Pe];!this.hasAlpha&&Te[3]<1&&(this.hasAlpha=!0)}}else Be[0]=Be[1]=Be[2]=0,Be[3]=1;if(!De)rt=[1,1,1,0];else if(Array.isArray(He)){var Te;if(Ye?K<He.length?Te=He[K]:Te=[0,0,0,0]:Te=He,Te.length===3){for(var Pe=0;Pe<3;++Pe)rt[Pe]=Te[Pe];rt[Pe]=1}else if(Te.length===4){for(var Pe=0;Pe<4;++Pe)rt[Pe]=Te[Pe];!this.hasAlpha&&Te[3]<1&&(this.hasAlpha=!0)}}else rt[0]=rt[1]=rt[2]=0,rt[3]=1;var fe=.5;De?Array.isArray(Ee)?K<Ee.length?fe=+Ee[K]:fe=12:Ee?fe=+Ee:this.useOrtho&&(fe=12):fe=0;var me=0;Array.isArray(Ne)?K<Ne.length?me=+Ne[K]:me=0:Ne&&(me=+Ne);for(var Re=Math.cos(me),Oe=Math.sin(me),Fe=te[K],Pe=0;Pe<3;++Pe)he[Pe]=Math.max(he[Pe],Fe[Pe]),ie[Pe]=Math.min(ie[Pe],Fe[Pe]);var st=ee,ut=le,st=0;Array.isArray(ee)?K<ee.length?st=ee[K]:st=0:ee&&(st=ee);var ut=0;Array.isArray(le)?K<le.length?ut=le[K]:ut=0:le&&(ut=le),st*=st>0?1-Ke[0][0]:st<0?1+Ke[1][0]:1,ut*=ut>0?1-Ke[0][1]:ut<0?1+Ke[1][1]:1;for(var Tt=[st,ut],Qt=nt.cells||[],or=nt.positions||[],Pe=0;Pe<Qt.length;++Pe)for(var It=Qt[Pe],Gt=0;Gt<3;++Gt){for(var jt=0;jt<3;++jt)vt[3*Xe+jt]=Fe[jt];for(var jt=0;jt<4;++jt)yt[4*Xe+jt]=Be[jt];Et[Xe]=Ce;var Pt=or[It[Gt]];mt[2*Xe]=fe*(Re*Pt[0]-Oe*Pt[1]+Tt[0]),mt[2*Xe+1]=fe*(Oe*Pt[0]+Re*Pt[1]+Tt[1]),Xe+=1}for(var Qt=qe.edges,or=qe.positions,Pe=0;Pe<Qt.length;++Pe)for(var It=Qt[Pe],Gt=0;Gt<2;++Gt){for(var jt=0;jt<3;++jt)vt[3*Ue+jt]=Fe[jt];for(var jt=0;jt<4;++jt)yt[4*Ue+jt]=rt[jt];Et[Ue]=Ce;var Pt=or[It[Gt]];mt[2*Ue]=fe*(Re*Pt[0]-Oe*Pt[1]+Tt[0]),mt[2*Ue+1]=fe*(Oe*Pt[0]+Re*Pt[1]+Tt[1]),Ue+=1}}}this.bounds=[ie,he],this.points=te,this.pointCount=te.length,this.vertexCount=be,this.lineVertexCount=we,this.pointBuffer.update(vt),this.colorBuffer.update(yt),this.glyphBuffer.update(mt),this.idBuffer.update(Et),s.free(vt),s.free(yt),s.free(mt),s.free(Et)},C.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ve(J){var Y=J.gl,j=u.createPerspective(Y),K=u.createOrtho(Y),te=u.createProject(Y),se=u.createPickPerspective(Y),Q=u.createPickOrtho(Y),ee=u.createPickProject(Y),le=l(Y),ie=l(Y),he=l(Y),xe=l(Y),Se=n(Y,[{buffer:le,size:3,type:Y.FLOAT},{buffer:ie,size:4,type:Y.FLOAT},{buffer:he,size:2,type:Y.FLOAT},{buffer:xe,size:4,type:Y.UNSIGNED_BYTE,normalized:!0}]),Ee=new M(Y,j,K,te,le,ie,he,xe,Se,se,Q,ee);return Ee.update(J),Ee}},1884:function(v,p,t){var r=t(6832);p.boxVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),p.boxFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(v,p,t){var r=t(5158),l=t(5827),n=t(1884);v.exports=u;function s(y,h,b){this.plot=y,this.boxBuffer=h,this.boxShader=b,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var c=s.prototype;c.draw=function(){if(this.enabled){var y=this.plot,h=this.selectBox,b=this.borderWidth;this.innerFill;var f=this.innerColor;this.outerFill;var o=this.outerColor,d=this.borderColor,A=y.box,M=y.screenBox,C=y.dataBox,m=y.viewBox,S=y.pixelRatio,x=(h[0]-C[0])*(m[2]-m[0])/(C[2]-C[0])+m[0],a=(h[1]-C[1])*(m[3]-m[1])/(C[3]-C[1])+m[1],E=(h[2]-C[0])*(m[2]-m[0])/(C[2]-C[0])+m[0],w=(h[3]-C[1])*(m[3]-m[1])/(C[3]-C[1])+m[1];if(x=Math.max(x,m[0]),a=Math.max(a,m[1]),E=Math.min(E,m[2]),w=Math.min(w,m[3]),!(E<x||w<a)){A.bind();var k=M[2]-M[0],I=M[3]-M[1];if(this.outerFill&&(A.drawBox(0,0,k,a,o),A.drawBox(0,a,x,w,o),A.drawBox(0,w,k,I,o),A.drawBox(E,a,k,w,o)),this.innerFill&&A.drawBox(x,a,E,w,f),b>0){var U=b*S;A.drawBox(x-U,a-U,E+U,a+U,d),A.drawBox(x-U,w-U,E+U,w+U,d),A.drawBox(x-U,a-U,x+U,w+U,d),A.drawBox(E-U,a-U,E+U,w+U,d)}}}},c.update=function(y){y=y||{},this.innerFill=!!y.innerFill,this.outerFill=!!y.outerFill,this.innerColor=(y.innerColor||[0,0,0,.5]).slice(),this.outerColor=(y.outerColor||[0,0,0,.5]).slice(),this.borderColor=(y.borderColor||[0,0,0,1]).slice(),this.borderWidth=y.borderWidth||0,this.selectBox=(y.selectBox||this.selectBox).slice()},c.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function u(y,h){var b=y.gl,f=l(b,[0,0,0,1,1,0,1,1]),o=r(b,n.boxVertex,n.boxFragment),d=new s(y,f,o);return d.update(h),y.addOverlay(d),d}},2611:function(v,p,t){v.exports=b;var r=t(4234),l=t(5306),n=t(5050),s=t(2288).nextPow2,c=function(f,o,d){for(var A=1e8,M=-1,C=-1,m=f.shape[0],S=f.shape[1],x=0;x<m;x++)for(var a=0;a<S;a++){var E=f.get(x,a,0),w=f.get(x,a,1),k=f.get(x,a,2),I=f.get(x,a,3);if(E<255||w<255||k<255||I<255){var U=o-x,z=d-a,N=U*U+z*z;N<A&&(A=N,M=x,C=a)}}return[M,C,A]};function u(f,o,d,A,M){this.coord=[f,o],this.id=d,this.value=A,this.distance=M}function y(f,o,d){this.gl=f,this.fbo=o,this.buffer=d,this._readTimeout=null;var A=this;this._readCallback=function(){A.gl&&(o.bind(),f.readPixels(0,0,o.shape[0],o.shape[1],f.RGBA,f.UNSIGNED_BYTE,A.buffer),A._readTimeout=null)}}var h=y.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(f){if(this.gl){this.fbo.shape=f;var o=this.fbo.shape[0],d=this.fbo.shape[1];if(d*o*4>this.buffer.length){l.free(this.buffer);for(var A=this.buffer=l.mallocUint8(s(d*o*4)),M=0;M<d*o*4;++M)A[M]=255}return f}}}),h.begin=function(){var f=this.gl;this.shape,f&&(this.fbo.bind(),f.clearColor(1,1,1,1),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT))},h.end=function(){var f=this.gl;f&&(f.bindFramebuffer(f.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(f,o,d){if(!this.gl)return null;var A=this.fbo.shape.slice();f=f|0,o=o|0,typeof d!="number"&&(d=1);var M=Math.min(Math.max(f-d,0),A[0])|0,C=Math.min(Math.max(f+d,0),A[0])|0,m=Math.min(Math.max(o-d,0),A[1])|0,S=Math.min(Math.max(o+d,0),A[1])|0;if(C<=M||S<=m)return null;var x=[C-M,S-m],a=n(this.buffer,[x[0],x[1],4],[4,A[0]*4,1],4*(M+A[0]*m)),E=c(a.hi(x[0],x[1],1),d,d),w=E[0],k=E[1];if(w<0||Math.pow(this.radius,2)<E[2])return null;var I=a.get(w,k,0),U=a.get(w,k,1),z=a.get(w,k,2),N=a.get(w,k,3);return new u(w+M|0,k+m|0,I,[U,z,N],Math.sqrt(E[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),l.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function b(f,o){var d=o[0],A=o[1],M={},C=r(f,d,A,M),m=l.mallocUint8(d*A*4);return new y(f,C,m)}},5158:function(v,p,t){var r=t(9016),l=t(4280),n=t(3984),s=t(1628),c=t(2631),u=t(9068);function y(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var h=y.prototype;h.bind=function(){this.program||this._relink();var o,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),A=this.gl.lastAttribCount;if(d>A)for(o=A;o<d;o++)this.gl.enableVertexAttribArray(o);else if(A>d)for(o=d;o<A;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},h.dispose=function(){for(var o=this.gl.lastAttribCount,d=0;d<o;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function b(o,d){return o.name<d.name?-1:1}h.update=function(o,d,A,M){if(!d||arguments.length===1){var C=o;o=C.vertex,d=C.fragment,A=C.uniforms,M=C.attributes}var m=this,S=m.gl,x=m._vref;m._vref=s.shader(S,S.VERTEX_SHADER,o),x&&x.dispose(),m.vertShader=m._vref.shader;var a=this._fref;if(m._fref=s.shader(S,S.FRAGMENT_SHADER,d),a&&a.dispose(),m.fragShader=m._fref.shader,!A||!M){var E=S.createProgram();if(S.attachShader(E,m.fragShader),S.attachShader(E,m.vertShader),S.linkProgram(E),!S.getProgramParameter(E,S.LINK_STATUS)){var w=S.getProgramInfoLog(E);throw new u(w,"Error linking program:"+w)}A=A||c.uniforms(S,E),M=M||c.attributes(S,E),S.deleteProgram(E)}M=M.slice(),M.sort(b);var k=[],I=[],U=[],z;for(z=0;z<M.length;++z){var N=M[z];if(N.type.indexOf("mat")>=0){for(var B=N.type.charAt(N.type.length-1)|0,F=new Array(B),H=0;H<B;++H)F[H]=U.length,I.push(N.name+"["+H+"]"),typeof N.location=="number"?U.push(N.location+H):Array.isArray(N.location)&&N.location.length===B&&typeof N.location[H]=="number"?U.push(N.location[H]|0):U.push(-1);k.push({name:N.name,type:N.type,locations:F})}else k.push({name:N.name,type:N.type,locations:[U.length]}),I.push(N.name),typeof N.location=="number"?U.push(N.location|0):U.push(-1)}var X=0;for(z=0;z<U.length;++z)if(U[z]<0){for(;U.indexOf(X)>=0;)X+=1;U[z]=X}var q=new Array(A.length);function ne(){m.program=s.program(S,m._vref,m._fref,I,U);for(var oe=0;oe<A.length;++oe)q[oe]=S.getUniformLocation(m.program,A[oe].name)}ne(),m._relink=ne,m.types={uniforms:n(A),attributes:n(M)},m.attributes=l(S,m,k,U),Object.defineProperty(m,"uniforms",r(S,m,A,q))};function f(o,d,A,M,C){var m=new y(o);return m.update(d,A,M,C),m}v.exports=f},9068:function(v){function p(t,r,l){this.shortMessage=r||"",this.longMessage=l||"",this.rawError=t||"",this.message="gl-shader: "+(r||t||"")+(l?`
`+l:""),this.stack=new Error().stack}p.prototype=new Error,p.prototype.name="GLError",p.prototype.constructor=p,v.exports=p},4280:function(v,p,t){v.exports=y;var r=t(9068);function l(h,b,f,o,d,A){this._gl=h,this._wrapper=b,this._index=f,this._locations=o,this._dimension=d,this._constFunc=A}var n=l.prototype;n.pointer=function(b,f,o,d){var A=this,M=A._gl,C=A._locations[A._index];M.vertexAttribPointer(C,A._dimension,b||M.FLOAT,!!f,o||0,d||0),M.enableVertexAttribArray(C)},n.set=function(h,b,f,o){return this._constFunc(this._locations[this._index],h,b,f,o)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(h){return h!==this._locations[this._index]&&(this._locations[this._index]=h|0,this._wrapper.program=null),h|0}});var s=[function(h,b,f){return f.length===void 0?h.vertexAttrib1f(b,f):h.vertexAttrib1fv(b,f)},function(h,b,f,o){return f.length===void 0?h.vertexAttrib2f(b,f,o):h.vertexAttrib2fv(b,f)},function(h,b,f,o,d){return f.length===void 0?h.vertexAttrib3f(b,f,o,d):h.vertexAttrib3fv(b,f)},function(h,b,f,o,d,A){return f.length===void 0?h.vertexAttrib4f(b,f,o,d,A):h.vertexAttrib4fv(b,f)}];function c(h,b,f,o,d,A,M){var C=s[d],m=new l(h,b,f,o,d,C);Object.defineProperty(A,M,{set:function(S){return h.disableVertexAttribArray(o[f]),C(h,o[f],S),S},get:function(){return m},enumerable:!0})}function u(h,b,f,o,d,A,M){for(var C=new Array(d),m=new Array(d),S=0;S<d;++S)c(h,b,f[S],o,d,C,S),m[S]=C[S];Object.defineProperty(C,"location",{set:function(E){if(Array.isArray(E))for(var w=0;w<d;++w)m[w].location=E[w];else for(var w=0;w<d;++w)m[w].location=E+w;return E},get:function(){for(var E=new Array(d),w=0;w<d;++w)E[w]=o[f[w]];return E},enumerable:!0}),C.pointer=function(E,w,k,I){E=E||h.FLOAT,w=!!w,k=k||d*d,I=I||0;for(var U=0;U<d;++U){var z=o[f[U]];h.vertexAttribPointer(z,d,E,w,k,I+U*d),h.enableVertexAttribArray(z)}};var x=new Array(d),a=h["vertexAttrib"+d+"fv"];Object.defineProperty(A,M,{set:function(E){for(var w=0;w<d;++w){var k=o[f[w]];if(h.disableVertexAttribArray(k),Array.isArray(E[0]))a.call(h,k,E[w]);else{for(var I=0;I<d;++I)x[I]=E[d*w+I];a.call(h,k,x)}}return E},get:function(){return C},enumerable:!0})}function y(h,b,f,o){for(var d={},A=0,M=f.length;A<M;++A){var C=f[A],m=C.name,S=C.type,x=C.locations;switch(S){case"bool":case"int":case"float":c(h,b,x[0],o,1,d,m);break;default:if(S.indexOf("vec")>=0){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new r("","Invalid data type for attribute "+m+": "+S);c(h,b,x[0],o,a,d,m)}else if(S.indexOf("mat")>=0){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new r("","Invalid data type for attribute "+m+": "+S);u(h,b,x,o,a,d,m)}else throw new r("","Unknown data type for attribute "+m+": "+S);break}}return d}},9016:function(v,p,t){var r=t(3984),l=t(9068);v.exports=c;function n(u){return function(){return u}}function s(u,y){for(var h=new Array(u),b=0;b<u;++b)h[b]=y;return h}function c(u,y,h,b){function f(S){return function(x,a,E){return x.getUniform(a.program,E[S])}}function o(S){return function(a){for(var E=d("",S),w=0;w<E.length;++w){var k=E[w],I=k[0],U=k[1];if(b[U]){var z=a;if(typeof I=="string"&&(I.indexOf(".")===0||I.indexOf("[")===0)){var N=I;if(I.indexOf(".")===0&&(N=I.slice(1)),N.indexOf("]")===N.length-1){var B=N.indexOf("["),F=N.slice(0,B),H=N.slice(B+1,N.length-1);z=F?a[F][H]:a[H]}else z=a[N]}var X=h[U].type,q;switch(X){case"bool":case"int":case"sampler2D":case"samplerCube":u.uniform1i(b[U],z);break;case"float":u.uniform1f(b[U],z);break;default:var ne=X.indexOf("vec");if(0<=ne&&ne<=1&&X.length===4+ne){if(q=X.charCodeAt(X.length-1)-48,q<2||q>4)throw new l("","Invalid data type");switch(X.charAt(0)){case"b":case"i":u["uniform"+q+"iv"](b[U],z);break;case"v":u["uniform"+q+"fv"](b[U],z);break;default:throw new l("","Unrecognized data type for vector "+name+": "+X)}}else if(X.indexOf("mat")===0&&X.length===4){if(q=X.charCodeAt(X.length-1)-48,q<2||q>4)throw new l("","Invalid uniform dimension type for matrix "+name+": "+X);u["uniformMatrix"+q+"fv"](b[U],!1,z);break}else throw new l("","Unknown uniform data type for "+name+": "+X)}}}}}function d(S,x){if(typeof x!="object")return[[S,x]];var a=[];for(var E in x){var w=x[E],k=S;parseInt(E)+""===E?k+="["+E+"]":k+="."+E,typeof w=="object"?a.push.apply(a,d(k,w)):a.push([k,w])}return a}function A(S){switch(S){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var x=S.indexOf("vec");if(0<=x&&x<=1&&S.length===4+x){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new l("","Invalid data type");return S.charAt(0)==="b"?s(a,!1):s(a,0)}else if(S.indexOf("mat")===0&&S.length===4){var a=S.charCodeAt(S.length-1)-48;if(a<2||a>4)throw new l("","Invalid uniform dimension type for matrix "+name+": "+S);return s(a*a,0)}else throw new l("","Unknown uniform data type for "+name+": "+S)}}function M(S,x,a){if(typeof a=="object"){var E=C(a);Object.defineProperty(S,x,{get:n(E),set:o(a),enumerable:!0,configurable:!1})}else b[a]?Object.defineProperty(S,x,{get:f(a),set:o(a),enumerable:!0,configurable:!1}):S[x]=A(h[a].type)}function C(S){var x;if(Array.isArray(S)){x=new Array(S.length);for(var a=0;a<S.length;++a)M(x,a,S[a])}else{x={};for(var E in S)M(x,E,S[E])}return x}var m=r(h,!0);return{get:n(C(m)),set:o(m),enumerable:!0,configurable:!0}}},3984:function(v){v.exports=p;function p(t,r){for(var l={},n=0;n<t.length;++n)for(var s=t[n].name,c=s.split("."),u=l,y=0;y<c.length;++y){var h=c[y].split("[");if(h.length>1){h[0]in u||(u[h[0]]=[]),u=u[h[0]];for(var b=1;b<h.length;++b){var f=parseInt(h[b]);b<h.length-1||y<c.length-1?(f in u||(b<h.length-1?u[f]=[]:u[f]={}),u=u[f]):r?u[f]=n:u[f]=t[n].type}}else y<c.length-1?(h[0]in u||(u[h[0]]={}),u=u[h[0]]):r?u[h[0]]=n:u[h[0]]=t[n].type}return l}},2631:function(v,p){p.uniforms=n,p.attributes=s;var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},r=null;function l(c,u){if(!r){var y=Object.keys(t);r={};for(var h=0;h<y.length;++h){var b=y[h];r[c[b]]=t[b]}}return r[u]}function n(c,u){for(var y=c.getProgramParameter(u,c.ACTIVE_UNIFORMS),h=[],b=0;b<y;++b){var f=c.getActiveUniform(u,b);if(f){var o=l(c,f.type);if(f.size>1)for(var d=0;d<f.size;++d)h.push({name:f.name.replace("[0]","["+d+"]"),type:o});else h.push({name:f.name,type:o})}}return h}function s(c,u){for(var y=c.getProgramParameter(u,c.ACTIVE_ATTRIBUTES),h=[],b=0;b<y;++b){var f=c.getActiveAttrib(u,b);f&&h.push({name:f.name,type:l(c,f.type)})}return h}},1628:function(v,p,t){p.shader=d,p.program=A;var r=t(9068),l=t(3530),n=typeof WeakMap>"u"?t(4037):WeakMap,s=new n,c=0;function u(M,C,m,S,x,a,E){this.id=M,this.src=C,this.type=m,this.shader=S,this.count=a,this.programs=[],this.cache=E}u.prototype.dispose=function(){if(--this.count===0){for(var M=this.cache,C=M.gl,m=this.programs,S=0,x=m.length;S<x;++S){var a=M.programs[m[S]];a&&(delete M.programs[S],C.deleteProgram(a))}C.deleteShader(this.shader),delete M.shaders[this.type===C.FRAGMENT_SHADER|0][this.src]}};function y(M){this.gl=M,this.shaders=[{},{}],this.programs={}}var h=y.prototype;function b(M,C,m){var S=M.createShader(C);if(M.shaderSource(S,m),M.compileShader(S),!M.getShaderParameter(S,M.COMPILE_STATUS)){var x=M.getShaderInfoLog(S);try{var a=l(x,m,C)}catch(E){throw console.warn("Failed to format compiler error: "+E),new r(x,`Error compiling shader:
`+x)}throw new r(x,a.short,a.long)}return S}h.getShaderReference=function(M,C){var m=this.gl,S=this.shaders[M===m.FRAGMENT_SHADER|0],x=S[C];if(!x||!m.isShader(x.shader)){var a=b(m,M,C);x=S[C]=new u(c++,C,M,a,[],1,this)}else x.count+=1;return x};function f(M,C,m,S,x){var a=M.createProgram();M.attachShader(a,C),M.attachShader(a,m);for(var E=0;E<S.length;++E)M.bindAttribLocation(a,x[E],S[E]);if(M.linkProgram(a),!M.getProgramParameter(a,M.LINK_STATUS)){var w=M.getProgramInfoLog(a);throw new r(w,"Error linking program: "+w)}return a}h.getProgram=function(M,C,m,S){var x=[M.id,C.id,m.join(":"),S.join(":")].join("@"),a=this.programs[x];return(!a||!this.gl.isProgram(a))&&(this.programs[x]=a=f(this.gl,M.shader,C.shader,m,S),M.programs.push(x),C.programs.push(x)),a};function o(M){var C=s.get(M);return C||(C=new y(M),s.set(M,C)),C}function d(M,C,m){return o(M).getShaderReference(C,m)}function A(M,C,m,S,x){return o(M).getProgram(C,m,S,x)}},3050:function(v){v.exports=r;function p(l){this.plot=l,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var t=p.prototype;t.update=function(l){l=l||{},this.enable=(l.enable||[!0,!0,!1,!1]).slice(),this.width=(l.width||[1,1,1,1]).slice(),this.color=(l.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(l.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var l=this.enable,n=this.width,s=this.color,c=this.center,u=this.plot,y=u.line,h=u.dataBox,b=u.viewBox;if(y.bind(),h[0]<=c[0]&&c[0]<=h[2]&&h[1]<=c[1]&&c[1]<=h[3]){var f=b[0]+(c[0]-h[0])/(h[2]-h[0])*(b[2]-b[0]),o=b[1]+(c[1]-h[1])/(h[3]-h[1])*(b[3]-b[1]);l[0]&&y.drawLine(f,o,b[0],o,n[0],s[0]),l[1]&&y.drawLine(f,o,f,b[1],n[1],s[1]),l[2]&&y.drawLine(f,o,b[2],o,n[2],s[2]),l[3]&&y.drawLine(f,o,f,b[3],n[3],s[3])}},t.dispose=function(){this.plot.removeOverlay(this)};function r(l,n){var s=new p(l);return s.update(n),l.addOverlay(s),s}},3540:function(v,p,t){var r=t(6832),l=t(5158),n=r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),s=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(c){return l(c,n,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,p,t){var r=t(5827),l=t(2944),n=t(3540);v.exports=f;var s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(o,d,A,M){this.gl=o,this.buffer=d,this.vao=A,this.shader=M,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=c.prototype,y=[0,0,0],h=[0,0,0],b=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(o){},u.draw=function(o){var d=this.gl,A=this.vao,M=this.shader;A.bind(),M.bind();var C=o.model||s,m=o.view||s,S=o.projection||s,x;this.axes&&(x=this.axes.lastCubeProps.axis);for(var a=y,E=h,w=0;w<3;++w)x&&x[w]<0?(a[w]=this.bounds[0][w],E[w]=this.bounds[1][w]):(a[w]=this.bounds[1][w],E[w]=this.bounds[0][w]);b[0]=d.drawingBufferWidth,b[1]=d.drawingBufferHeight,M.uniforms.model=C,M.uniforms.view=m,M.uniforms.projection=S,M.uniforms.coordinates=[this.position,a,E],M.uniforms.colors=this.colors,M.uniforms.screenShape=b;for(var w=0;w<3;++w)M.uniforms.lineWidth=this.lineWidth[w]*this.pixelRatio,this.enabled[w]&&(A.draw(d.TRIANGLES,6,6*w),this.drawSides[w]&&A.draw(d.TRIANGLES,12,18+12*w));A.unbind()},u.update=function(o){o&&("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function f(o,d){var A=[];function M(a,E,w,k,I,U){var z=[a,E,w,0,0,0,1];z[k+3]=1,z[k]=I,A.push.apply(A,z),z[6]=-1,A.push.apply(A,z),z[k]=U,A.push.apply(A,z),A.push.apply(A,z),z[6]=1,A.push.apply(A,z),z[k]=I,A.push.apply(A,z)}M(0,0,0,0,0,1),M(0,0,0,1,0,1),M(0,0,0,2,0,1),M(1,0,0,1,-1,1),M(1,0,0,2,-1,1),M(0,1,0,0,-1,1),M(0,1,0,2,-1,1),M(0,0,1,0,-1,1),M(0,0,1,1,-1,1);var C=r(o,A),m=l(o,[{type:o.FLOAT,buffer:C,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:C,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:C,size:1,offset:24,stride:28}]),S=n(o);S.attributes.position.location=0,S.attributes.color.location=1,S.attributes.weight.location=2;var x=new c(o,C,m,S);return x.update(d),x}},9578:function(v,p,t){var r=t(6832),l=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);p.meshShader={vertex:l,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},p.pickShader={vertex:s,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,p,t){var r=t(2858),l=t(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],s=function(A,M,C,m){for(var S=A.points,x=A.velocities,a=A.divergences,E=[],w=[],k=[],I=[],U=[],z=[],N=0,B=0,F=l.create(),H=l.create(),X=8,q=0;q<S.length;q++){var ne=S[q],oe=x[q],ve=a[q];M===0&&(ve=C*.05),B=r.length(oe)/m,F=l.create(),r.copy(F,oe),F[3]=ve;for(var J=0;J<X;J++)U[J]=[ne[0],ne[1],ne[2],J];if(I.length>0)for(var J=0;J<X;J++){var Y=(J+1)%X;E.push(I[J],U[J],U[Y],U[Y],I[Y],I[J]),k.push(H,F,F,F,H,H),z.push(N,B,B,B,N,N);var j=E.length;w.push([j-6,j-5,j-4],[j-3,j-2,j-1])}var K=I;I=U,U=K;var te=H;H=F,F=te;var se=N;N=B,B=se}return{positions:E,cells:w,vectors:k,vertexIntensity:z}},c=function(A,M,C,m){for(var S=0,x=0;x<A.length;x++)for(var a=A[x].velocities,E=0;E<a.length;E++)S=Math.max(S,r.length(a[E]));for(var w=A.map(function(q){return s(q,C,m,S)}),k=[],I=[],U=[],z=[],x=0;x<w.length;x++){var N=w[x],B=k.length;k=k.concat(N.positions),U=U.concat(N.vectors),z=z.concat(N.vertexIntensity);for(var E=0;E<N.cells.length;E++){var F=N.cells[E],H=[];I.push(H);for(var X=0;X<F.length;X++)H.push(F[X]+B)}}return{positions:k,cells:I,vectors:U,vertexIntensity:z,colormap:M}},u=function(A,M){var C=A.length,m;for(m=0;m<C;m++){var S=A[m];if(S===M)return m;if(S>M)return m-1}return m},y=function(A,M,C){return A<M?M:A>C?C:A},h=function(A,M,C){var m=M.vectors,S=M.meshgrid,x=A[0],a=A[1],E=A[2],w=S[0].length,k=S[1].length,I=S[2].length,U=u(S[0],x),z=u(S[1],a),N=u(S[2],E),B=U+1,F=z+1,H=N+1;if(U=y(U,0,w-1),B=y(B,0,w-1),z=y(z,0,k-1),F=y(F,0,k-1),N=y(N,0,I-1),H=y(H,0,I-1),U<0||z<0||N<0||B>w-1||F>k-1||H>I-1)return r.create();var X=S[0][U],q=S[0][B],ne=S[1][z],oe=S[1][F],ve=S[2][N],J=S[2][H],Y=(x-X)/(q-X),j=(a-ne)/(oe-ne),K=(E-ve)/(J-ve);isFinite(Y)||(Y=.5),isFinite(j)||(j=.5),isFinite(K)||(K=.5);var te,se,Q,ee,le,ie;switch(C.reversedX&&(U=w-1-U,B=w-1-B),C.reversedY&&(z=k-1-z,F=k-1-F),C.reversedZ&&(N=I-1-N,H=I-1-H),C.filled){case 5:le=N,ie=H,Q=z*I,ee=F*I,te=U*I*k,se=B*I*k;break;case 4:le=N,ie=H,te=U*I,se=B*I,Q=z*I*w,ee=F*I*w;break;case 3:Q=z,ee=F,le=N*k,ie=H*k,te=U*k*I,se=B*k*I;break;case 2:Q=z,ee=F,te=U*k,se=B*k,le=N*k*w,ie=H*k*w;break;case 1:te=U,se=B,le=N*w,ie=H*w,Q=z*w*I,ee=F*w*I;break;default:te=U,se=B,Q=z*w,ee=F*w,le=N*w*k,ie=H*w*k;break}var he=m[te+Q+le],xe=m[te+Q+ie],Se=m[te+ee+le],Ee=m[te+ee+ie],Ne=m[se+Q+le],He=m[se+Q+ie],Ce=m[se+ee+le],be=m[se+ee+ie],we=r.create(),ke=r.create(),Fe=r.create(),Pe=r.create();r.lerp(we,he,Ne,Y),r.lerp(ke,xe,He,Y),r.lerp(Fe,Se,Ce,Y),r.lerp(Pe,Ee,be,Y);var Ge=r.create(),nt=r.create();r.lerp(Ge,we,Fe,j),r.lerp(nt,ke,Pe,j);var qe=r.create();return r.lerp(qe,Ge,nt,K),qe},b=function(A){var M=1/0;A.sort(function(x,a){return x-a});for(var C=A.length,m=1;m<C;m++){var S=Math.abs(A[m]-A[m-1]);S<M&&(M=S)}return M},f=function(A){for(var M=[],C=[],m=[],S={},x={},a={},E=A.length,w=0;w<E;w++){var k=A[w],I=k[0],U=k[1],z=k[2];S[I]||(M.push(I),S[I]=!0),x[U]||(C.push(U),x[U]=!0),a[z]||(m.push(z),a[z]=!0)}var N=b(M),B=b(C),F=b(m),H=Math.min(N,B,F);return isFinite(H)?H:1};v.exports=function(A,M){var C=A.startingPositions,m=A.maxLength||1e3,S=A.tubeSize||1,x=A.absoluteTubeSize,a=A.gridFill||"+x+y+z",E={};a.indexOf("-x")!==-1&&(E.reversedX=!0),a.indexOf("-y")!==-1&&(E.reversedY=!0),a.indexOf("-z")!==-1&&(E.reversedZ=!0),E.filled=n.indexOf(a.replace(/-/g,"").replace(/\+/g,""));var w=A.getVelocity||function(He){return h(He,A,E)},k=A.getDivergence||function(He,Ce){var be=r.create(),we=1e-4;r.add(be,He,[we,0,0]);var ke=w(be);r.subtract(ke,ke,Ce),r.scale(ke,ke,1/we),r.add(be,He,[0,we,0]);var Fe=w(be);r.subtract(Fe,Fe,Ce),r.scale(Fe,Fe,1/we),r.add(be,He,[0,0,we]);var Pe=w(be);return r.subtract(Pe,Pe,Ce),r.scale(Pe,Pe,1/we),r.add(be,ke,Fe),r.add(be,be,Pe),be},I=[],U=M[0][0],z=M[0][1],N=M[0][2],B=M[1][0],F=M[1][1],H=M[1][2],X=function(He){var Ce=He[0],be=He[1],we=He[2];return!(Ce<U||Ce>B||be<z||be>F||we<N||we>H)},q=r.distance(M[0],M[1]),ne=10*q/m,oe=ne*ne,ve=1,J=0,Y=C.length;Y>1&&(ve=f(C));for(var j=0;j<Y;j++){var K=r.create();r.copy(K,C[j]);var te=[K],se=[],Q=w(K),ee=K;se.push(Q);var le=[],ie=k(K,Q),he=r.length(ie);isFinite(he)&&he>J&&(J=he),le.push(he),I.push({points:te,velocities:se,divergences:le});for(var xe=0;xe<m*100&&te.length<m&&X(K);){xe++;var Se=r.clone(Q),Ee=r.squaredLength(Se);if(Ee===0)break;if(Ee>oe&&r.scale(Se,Se,ne/Math.sqrt(Ee)),r.add(Se,Se,K),Q=w(Se),r.squaredDistance(ee,Se)-oe>-1e-4*oe){te.push(Se),ee=Se,se.push(Q);var ie=k(Se,Q),he=r.length(ie);isFinite(he)&&he>J&&(J=he),le.push(he)}K=Se}}var Ne=c(I,A.colormap,J,ve);return x?Ne.tubeScale=x:(J===0&&(J=1),Ne.tubeScale=S*.5*ve/J),Ne};var o=t(9578),d=t(1140).createMesh;v.exports.createTubeMesh=function(A,M){return d(A,M,{shaders:o,traceType:"streamtube"})}},9054:function(v,p,t){var r=t(5158),l=t(6832),n=l([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),s=l([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),c=l([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);p.createShader=function(y){var h=r(y,n,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createPickShader=function(y){var h=r(y,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h.attributes.normal.location=2,h},p.createContourShader=function(y){var h=r(y,c,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h},p.createPickContourShader=function(y){var h=r(y,c,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return h.attributes.uv.location=0,h.attributes.f.location=1,h}},3754:function(v,p,t){v.exports=se;var r=t(2288),l=t(5827),n=t(2944),s=t(8931),c=t(5306),u=t(9156),y=t(7498),h=t(7382),b=t(5050),f=t(4162),o=t(104),d=t(7437),A=t(5070),M=t(9144),C=t(9054),m=C.createShader,S=C.createContourShader,x=C.createPickShader,a=C.createPickContourShader,E=4*(4+3+3),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],k=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],I=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var Q=0;Q<3;++Q){var ee=I[Q],le=(Q+1)%3,ie=(Q+2)%3;ee[le+0]=1,ee[ie+3]=1,ee[Q+6]=1}})();function U(Q,ee,le,ie,he){this.position=Q,this.index=ee,this.uv=le,this.level=ie,this.dataCoordinate=he}var z=256;function N(Q,ee,le,ie,he,xe,Se,Ee,Ne,He,Ce,be,we,ke,Fe){this.gl=Q,this.shape=ee,this.bounds=le,this.objectOffset=Fe,this.intensityBounds=[],this._shader=ie,this._pickShader=he,this._coordinateBuffer=xe,this._vao=Se,this._colorMap=Ee,this._contourShader=Ne,this._contourPickShader=He,this._contourBuffer=Ce,this._contourVAO=be,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new U([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=we,this._dynamicVAO=ke,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[b(c.mallocFloat(1024),[0,0]),b(c.mallocFloat(1024),[0,0]),b(c.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var B=N.prototype;B.genColormap=function(Q,ee){var le=!1,ie=h([u({colormap:Q,nshades:z,format:"rgba"}).map(function(he,xe){var Se=ee?F(xe/255,ee):he[3];return Se<1&&(le=!0),[he[0],he[1],he[2],255*Se]})]);return y.divseq(ie,255),this.hasAlphaScale=le,ie},B.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},B.isOpaque=function(){return!this.isTransparent()},B.pickSlots=1,B.setPickBase=function(Q){this.pickId=Q};function F(Q,ee){if(!ee||!ee.length)return 1;for(var le=0;le<ee.length;++le){if(ee.length<2)return 1;if(ee[le][0]===Q)return ee[le][1];if(ee[le][0]>Q&&le>0){var ie=(ee[le][0]-Q)/(ee[le][0]-ee[le-1][0]);return ee[le][1]*(1-ie)+ie*ee[le-1][1]}}return 1}var H=[0,0,0],X={showSurface:!1,showContour:!1,projections:[w.slice(),w.slice(),w.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function q(Q,ee){var le,ie,he,xe=ee.axes&&ee.axes.lastCubeProps.axis||H,Se=ee.showSurface,Ee=ee.showContour;for(le=0;le<3;++le)for(Se=Se||ee.surfaceProject[le],ie=0;ie<3;++ie)Ee=Ee||ee.contourProject[le][ie];for(le=0;le<3;++le){var Ne=X.projections[le];for(ie=0;ie<16;++ie)Ne[ie]=0;for(ie=0;ie<4;++ie)Ne[5*ie]=1;Ne[5*le]=0,Ne[12+le]=ee.axesBounds[+(xe[le]>0)][le],o(Ne,Q.model,Ne);var He=X.clipBounds[le];for(he=0;he<2;++he)for(ie=0;ie<3;++ie)He[he][ie]=Q.clipBounds[he][ie];He[0][le]=-1e8,He[1][le]=1e8}return X.showSurface=Se,X.showContour=Ee,X}var ne={model:w,view:w,projection:w,inverseModel:w.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},oe=w.slice(),ve=[1,0,0,0,1,0,0,0,1];function J(Q,ee){Q=Q||{};var le=this.gl;le.disable(le.CULL_FACE),this._colorMap.bind(0);var ie=ne;ie.model=Q.model||w,ie.view=Q.view||w,ie.projection=Q.projection||w,ie.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ie.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ie.objectOffset=this.objectOffset,ie.contourColor=this.contourColor[0],ie.inverseModel=d(ie.inverseModel,ie.model);for(var he=0;he<2;++he)for(var xe=ie.clipBounds[he],Se=0;Se<3;++Se)xe[Se]=Math.min(Math.max(this.clipBounds[he][Se],-1e8),1e8);ie.kambient=this.ambientLight,ie.kdiffuse=this.diffuseLight,ie.kspecular=this.specularLight,ie.roughness=this.roughness,ie.fresnel=this.fresnel,ie.opacity=this.opacity,ie.height=0,ie.permutation=ve,ie.vertexColor=this.vertexColor;var Ee=oe;for(o(Ee,ie.view,ie.model),o(Ee,ie.projection,Ee),d(Ee,Ee),he=0;he<3;++he)ie.eyePosition[he]=Ee[12+he]/Ee[15];var Ne=Ee[15];for(he=0;he<3;++he)Ne+=this.lightPosition[he]*Ee[4*he+3];for(he=0;he<3;++he){var He=Ee[12+he];for(Se=0;Se<3;++Se)He+=Ee[4*Se+he]*this.lightPosition[Se];ie.lightPosition[he]=He/Ne}var Ce=q(ie,this);if(Ce.showSurface){for(this._shader.bind(),this._shader.uniforms=ie,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(le.TRIANGLES,this._vertexCount),he=0;he<3;++he)!this.surfaceProject[he]||!this.vertexCount||(this._shader.uniforms.model=Ce.projections[he],this._shader.uniforms.clipBounds=Ce.clipBounds[he],this._vao.draw(le.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ce.showContour){var be=this._contourShader;ie.kambient=1,ie.kdiffuse=0,ie.kspecular=0,ie.opacity=1,be.bind(),be.uniforms=ie;var we=this._contourVAO;for(we.bind(),he=0;he<3;++he)for(be.uniforms.permutation=I[he],le.lineWidth(this.contourWidth[he]*this.pixelRatio),Se=0;Se<this.contourLevels[he].length;++Se)Se===this.highlightLevel[he]?(be.uniforms.contourColor=this.highlightColor[he],be.uniforms.contourTint=this.highlightTint[he]):(Se===0||Se-1===this.highlightLevel[he])&&(be.uniforms.contourColor=this.contourColor[he],be.uniforms.contourTint=this.contourTint[he]),this._contourCounts[he][Se]&&(be.uniforms.height=this.contourLevels[he][Se],we.draw(le.LINES,this._contourCounts[he][Se],this._contourOffsets[he][Se]));for(he=0;he<3;++he)for(be.uniforms.model=Ce.projections[he],be.uniforms.clipBounds=Ce.clipBounds[he],Se=0;Se<3;++Se)if(this.contourProject[he][Se]){be.uniforms.permutation=I[Se],le.lineWidth(this.contourWidth[Se]*this.pixelRatio);for(var ke=0;ke<this.contourLevels[Se].length;++ke)ke===this.highlightLevel[Se]?(be.uniforms.contourColor=this.highlightColor[Se],be.uniforms.contourTint=this.highlightTint[Se]):(ke===0||ke-1===this.highlightLevel[Se])&&(be.uniforms.contourColor=this.contourColor[Se],be.uniforms.contourTint=this.contourTint[Se]),this._contourCounts[Se][ke]&&(be.uniforms.height=this.contourLevels[Se][ke],we.draw(le.LINES,this._contourCounts[Se][ke],this._contourOffsets[Se][ke]))}for(we.unbind(),we=this._dynamicVAO,we.bind(),he=0;he<3;++he)if(this._dynamicCounts[he]!==0)for(be.uniforms.model=ie.model,be.uniforms.clipBounds=ie.clipBounds,be.uniforms.permutation=I[he],le.lineWidth(this.dynamicWidth[he]*this.pixelRatio),be.uniforms.contourColor=this.dynamicColor[he],be.uniforms.contourTint=this.dynamicTint[he],be.uniforms.height=this.dynamicLevel[he],we.draw(le.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]),Se=0;Se<3;++Se)this.contourProject[Se][he]&&(be.uniforms.model=Ce.projections[Se],be.uniforms.clipBounds=Ce.clipBounds[Se],we.draw(le.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]));we.unbind()}}B.draw=function(Q){return J.call(this,Q,!1)},B.drawTransparent=function(Q){return J.call(this,Q,!0)};var Y={model:w,view:w,projection:w,inverseModel:w,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};B.drawPick=function(Q){Q=Q||{};var ee=this.gl;ee.disable(ee.CULL_FACE);var le=Y;le.model=Q.model||w,le.view=Q.view||w,le.projection=Q.projection||w,le.shape=this._field[2].shape,le.pickId=this.pickId/255,le.lowerBound=this.bounds[0],le.upperBound=this.bounds[1],le.objectOffset=this.objectOffset,le.permutation=ve;for(var ie=0;ie<2;++ie)for(var he=le.clipBounds[ie],xe=0;xe<3;++xe)he[xe]=Math.min(Math.max(this.clipBounds[ie][xe],-1e8),1e8);var Se=q(le,this);if(Se.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=le,this._vao.bind(),this._vao.draw(ee.TRIANGLES,this._vertexCount),ie=0;ie<3;++ie)this.surfaceProject[ie]&&(this._pickShader.uniforms.model=Se.projections[ie],this._pickShader.uniforms.clipBounds=Se.clipBounds[ie],this._vao.draw(ee.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Se.showContour){var Ee=this._contourPickShader;Ee.bind(),Ee.uniforms=le;var Ne=this._contourVAO;for(Ne.bind(),xe=0;xe<3;++xe)for(ee.lineWidth(this.contourWidth[xe]*this.pixelRatio),Ee.uniforms.permutation=I[xe],ie=0;ie<this.contourLevels[xe].length;++ie)this._contourCounts[xe][ie]&&(Ee.uniforms.height=this.contourLevels[xe][ie],Ne.draw(ee.LINES,this._contourCounts[xe][ie],this._contourOffsets[xe][ie]));for(ie=0;ie<3;++ie)for(Ee.uniforms.model=Se.projections[ie],Ee.uniforms.clipBounds=Se.clipBounds[ie],xe=0;xe<3;++xe)if(this.contourProject[ie][xe]){Ee.uniforms.permutation=I[xe],ee.lineWidth(this.contourWidth[xe]*this.pixelRatio);for(var He=0;He<this.contourLevels[xe].length;++He)this._contourCounts[xe][He]&&(Ee.uniforms.height=this.contourLevels[xe][He],Ne.draw(ee.LINES,this._contourCounts[xe][He],this._contourOffsets[xe][He]))}Ne.unbind()}},B.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var ee=this._field[2].shape,le=this._pickResult,ie=ee[0]*(Q.value[0]+(Q.value[2]>>4)/16)/255,he=Math.floor(ie),xe=ie-he,Se=ee[1]*(Q.value[1]+(Q.value[2]&15)/16)/255,Ee=Math.floor(Se),Ne=Se-Ee;he+=1,Ee+=1;var He=le.position;He[0]=He[1]=He[2]=0;for(var Ce=0;Ce<2;++Ce)for(var be=Ce?xe:1-xe,we=0;we<2;++we)for(var ke=we?Ne:1-Ne,Fe=he+Ce,Pe=Ee+we,Ge=be*ke,nt=0;nt<3;++nt)He[nt]+=this._field[nt].get(Fe,Pe)*Ge;for(var qe=this._pickResult.level,Ke=0;Ke<3;++Ke)if(qe[Ke]=A.le(this.contourLevels[Ke],He[Ke]),qe[Ke]<0)this.contourLevels[Ke].length>0&&(qe[Ke]=0);else if(qe[Ke]<this.contourLevels[Ke].length-1){var $e=this.contourLevels[Ke][qe[Ke]],vt=this.contourLevels[Ke][qe[Ke]+1];Math.abs($e-He[Ke])>Math.abs(vt-He[Ke])&&(qe[Ke]+=1)}for(le.index[0]=xe<.5?he:he+1,le.index[1]=Ne<.5?Ee:Ee+1,le.uv[0]=ie/ee[0],le.uv[1]=Se/ee[1],nt=0;nt<3;++nt)le.dataCoordinate[nt]=this._field[nt].get(le.index[0],le.index[1]);return le},B.padField=function(Q,ee){var le=ee.shape.slice(),ie=Q.shape.slice();y.assign(Q.lo(1,1).hi(le[0],le[1]),ee),y.assign(Q.lo(1).hi(le[0],1),ee.hi(le[0],1)),y.assign(Q.lo(1,ie[1]-1).hi(le[0],1),ee.lo(0,le[1]-1).hi(le[0],1)),y.assign(Q.lo(0,1).hi(1,le[1]),ee.hi(1)),y.assign(Q.lo(ie[0]-1,1).hi(1,le[1]),ee.lo(le[0]-1)),Q.set(0,0,ee.get(0,0)),Q.set(0,ie[1]-1,ee.get(0,le[1]-1)),Q.set(ie[0]-1,0,ee.get(le[0]-1,0)),Q.set(ie[0]-1,ie[1]-1,ee.get(le[0]-1,le[1]-1))};function j(Q,ee){return Array.isArray(Q)?[ee(Q[0]),ee(Q[1]),ee(Q[2])]:[ee(Q),ee(Q),ee(Q)]}function K(Q){return Array.isArray(Q)?Q.length===3?[Q[0],Q[1],Q[2],1]:[Q[0],Q[1],Q[2],Q[3]]:[0,0,0,1]}function te(Q){if(Array.isArray(Q)){if(Array.isArray(Q))return[K(Q[0]),K(Q[1]),K(Q[2])];var ee=K(Q);return[ee.slice(),ee.slice(),ee.slice()]}}B.update=function(Q){Q=Q||{},this.objectOffset=Q.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in Q&&(this.contourWidth=j(Q.contourWidth,Number)),"showContour"in Q&&(this.showContour=j(Q.showContour,Boolean)),"showSurface"in Q&&(this.showSurface=!!Q.showSurface),"contourTint"in Q&&(this.contourTint=j(Q.contourTint,Boolean)),"contourColor"in Q&&(this.contourColor=te(Q.contourColor)),"contourProject"in Q&&(this.contourProject=j(Q.contourProject,function(zt){return j(zt,Boolean)})),"surfaceProject"in Q&&(this.surfaceProject=Q.surfaceProject),"dynamicColor"in Q&&(this.dynamicColor=te(Q.dynamicColor)),"dynamicTint"in Q&&(this.dynamicTint=j(Q.dynamicTint,Number)),"dynamicWidth"in Q&&(this.dynamicWidth=j(Q.dynamicWidth,Number)),"opacity"in Q&&(this.opacity=Q.opacity),"opacityscale"in Q&&(this.opacityscale=Q.opacityscale),"colorBounds"in Q&&(this.colorBounds=Q.colorBounds),"vertexColor"in Q&&(this.vertexColor=Q.vertexColor?1:0),"colormap"in Q&&this._colorMap.setPixels(this.genColormap(Q.colormap,this.opacityscale));var ee=Q.field||Q.coords&&Q.coords[2]||null,le=!1;if(ee||(this._field[2].shape[0]||this._field[2].shape[2]?ee=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):ee=this._field[2].hi(0,0)),"field"in Q||"coords"in Q){var ie=(ee.shape[0]+2)*(ee.shape[1]+2);ie>this._field[2].data.length&&(c.freeFloat(this._field[2].data),this._field[2].data=c.mallocFloat(r.nextPow2(ie))),this._field[2]=b(this._field[2].data,[ee.shape[0]+2,ee.shape[1]+2]),this.padField(this._field[2],ee),this.shape=ee.shape.slice();for(var he=this.shape,xe=0;xe<2;++xe)this._field[2].size>this._field[xe].data.length&&(c.freeFloat(this._field[xe].data),this._field[xe].data=c.mallocFloat(this._field[2].size)),this._field[xe]=b(this._field[xe].data,[he[0]+2,he[1]+2]);if(Q.coords){var Se=Q.coords;if(!Array.isArray(Se)||Se.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(xe=0;xe<2;++xe){var Ee=Se[xe];for(we=0;we<2;++we)if(Ee.shape[we]!==he[we])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[xe],Ee)}}else if(Q.ticks){var Ne=Q.ticks;if(!Array.isArray(Ne)||Ne.length!==2)throw new Error("gl-surface: invalid ticks");for(xe=0;xe<2;++xe){var He=Ne[xe];if((Array.isArray(He)||He.length)&&(He=b(He)),He.shape[0]!==he[xe])throw new Error("gl-surface: invalid tick length");var Ce=b(He.data,he);Ce.stride[xe]=He.stride[0],Ce.stride[xe^1]=0,this.padField(this._field[xe],Ce)}}else{for(xe=0;xe<2;++xe){var be=[0,0];be[xe]=1,this._field[xe]=b(this._field[xe].data,[he[0]+2,he[1]+2],be,0)}this._field[0].set(0,0,0);for(var we=0;we<he[0];++we)this._field[0].set(we+1,0,we);for(this._field[0].set(he[0]+1,0,he[0]-1),this._field[1].set(0,0,0),we=0;we<he[1];++we)this._field[1].set(0,we+1,we);this._field[1].set(0,he[1]+1,he[1]-1)}var ke=this._field,Fe=b(c.mallocFloat(ke[2].size*3*2),[3,he[0]+2,he[1]+2,2]);for(xe=0;xe<3;++xe)M(Fe.pick(xe),ke[xe],"mirror");var Pe=b(c.mallocFloat(ke[2].size*3),[he[0]+2,he[1]+2,3]);for(xe=0;xe<he[0]+2;++xe)for(we=0;we<he[1]+2;++we){var Ge=Fe.get(0,xe,we,0),nt=Fe.get(0,xe,we,1),qe=Fe.get(1,xe,we,0),Ke=Fe.get(1,xe,we,1),$e=Fe.get(2,xe,we,0),vt=Fe.get(2,xe,we,1),yt=qe*vt-Ke*$e,mt=$e*nt-vt*Ge,Et=Ge*Ke-nt*qe,Xe=Math.sqrt(yt*yt+mt*mt+Et*Et);Xe<1e-8?(Xe=Math.max(Math.abs(yt),Math.abs(mt),Math.abs(Et)),Xe<1e-8?(Et=1,mt=yt=0,Xe=1):Xe=1/Xe):Xe=1/Math.sqrt(Xe),Pe.set(xe,we,0,yt*Xe),Pe.set(xe,we,1,mt*Xe),Pe.set(xe,we,2,Et*Xe)}c.free(Fe.data);var Ue=[1/0,1/0,1/0],Be=[-1/0,-1/0,-1/0],rt=1/0,it=-1/0,Ye=(he[0]-1)*(he[1]-1)*6,De=c.mallocFloat(r.nextPow2(10*Ye)),Te=0,fe=0;for(xe=0;xe<he[0]-1;++xe)e:for(we=0;we<he[1]-1;++we){for(var me=0;me<2;++me)for(var Re=0;Re<2;++Re)for(var Oe=0;Oe<3;++Oe){var st=this._field[Oe].get(1+xe+me,1+we+Re);if(isNaN(st)||!isFinite(st))continue e}for(Oe=0;Oe<6;++Oe){var ut=xe+k[Oe][0],Tt=we+k[Oe][1],It=this._field[0].get(ut+1,Tt+1),Gt=this._field[1].get(ut+1,Tt+1);st=this._field[2].get(ut+1,Tt+1),yt=Pe.get(ut+1,Tt+1,0),mt=Pe.get(ut+1,Tt+1,1),Et=Pe.get(ut+1,Tt+1,2),Q.intensity&&(jt=Q.intensity.get(ut,Tt));var jt=Q.intensity?Q.intensity.get(ut,Tt):st+this.objectOffset[2];De[Te++]=ut,De[Te++]=Tt,De[Te++]=It,De[Te++]=Gt,De[Te++]=st,De[Te++]=0,De[Te++]=jt,De[Te++]=yt,De[Te++]=mt,De[Te++]=Et,Ue[0]=Math.min(Ue[0],It+this.objectOffset[0]),Ue[1]=Math.min(Ue[1],Gt+this.objectOffset[1]),Ue[2]=Math.min(Ue[2],st+this.objectOffset[2]),rt=Math.min(rt,jt),Be[0]=Math.max(Be[0],It+this.objectOffset[0]),Be[1]=Math.max(Be[1],Gt+this.objectOffset[1]),Be[2]=Math.max(Be[2],st+this.objectOffset[2]),it=Math.max(it,jt),fe+=1}}for(Q.intensityBounds&&(rt=+Q.intensityBounds[0],it=+Q.intensityBounds[1]),xe=6;xe<Te;xe+=10)De[xe]=(De[xe]-rt)/(it-rt);this._vertexCount=fe,this._coordinateBuffer.update(De.subarray(0,Te)),c.freeFloat(De),c.free(Pe.data),this.bounds=[Ue,Be],this.intensity=Q.intensity||this._field[2],(this.intensityBounds[0]!==rt||this.intensityBounds[1]!==it)&&(le=!0),this.intensityBounds=[rt,it]}if("levels"in Q){var Pt=Q.levels;for(Array.isArray(Pt[0])?Pt=Pt.slice():Pt=[[],[],Pt],xe=0;xe<3;++xe)Pt[xe]=Pt[xe].slice(),Pt[xe].sort(function(zt,Xt){return zt-Xt});for(xe=0;xe<3;++xe)for(we=0;we<Pt[xe].length;++we)Pt[xe][we]-=this.objectOffset[xe];e:for(xe=0;xe<3;++xe){if(Pt[xe].length!==this.contourLevels[xe].length){le=!0;break}for(we=0;we<Pt[xe].length;++we)if(Pt[xe][we]!==this.contourLevels[xe][we]){le=!0;break e}}this.contourLevels=Pt}if(le){ke=this._field,he=this.shape;for(var Qt=[],or=0;or<3;++or){var zr=this.contourLevels[or],bt=[],Jt=[],Zt=[0,0,0];for(xe=0;xe<zr.length;++xe){var Ar=f(this._field[or],zr[xe]);bt.push(Qt.length/5|0),fe=0;e:for(we=0;we<Ar.cells.length;++we){var dr=Ar.cells[we];for(Oe=0;Oe<2;++Oe){var ht=Ar.positions[dr[Oe]],ct=ht[0],wt=Math.floor(ct)|0,St=ct-wt,Rt=ht[1],Ct=Math.floor(Rt)|0,Ot=Rt-Ct,Wt=!1;t:for(var er=0;er<3;++er){Zt[er]=0;var $t=(or+er+1)%3;for(me=0;me<2;++me){var sr=me?St:1-St;for(ut=Math.min(Math.max(wt+me,0),he[0])|0,Re=0;Re<2;++Re){var Cr=Re?Ot:1-Ot;if(Tt=Math.min(Math.max(Ct+Re,0),he[1])|0,er<2?st=this._field[$t].get(ut,Tt):st=(this.intensity.get(ut,Tt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(st)||isNaN(st)){Wt=!0;break t}var je=sr*Cr;Zt[er]+=je*st}}}if(!Wt)Qt.push(Zt[0],Zt[1],ht[0],ht[1],Zt[2]),fe+=1;else{if(Oe>0){for(var We=0;We<5;++We)Qt.pop();fe-=1}continue e}}}Jt.push(fe)}this._contourOffsets[or]=bt,this._contourCounts[or]=Jt}var kt=c.mallocFloat(Qt.length);for(xe=0;xe<Qt.length;++xe)kt[xe]=Qt[xe];this._contourBuffer.update(kt),c.freeFloat(kt)}},B.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var Q=0;Q<3;++Q)c.freeFloat(this._field[Q].data)},B.highlight=function(Q){var ee;if(!Q){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(ee=0;ee<3;++ee)this.enableHighlight[ee]?this.highlightLevel[ee]=Q.level[ee]:this.highlightLevel[ee]=-1;var le;for(this.snapToData?le=Q.dataCoordinate:le=Q.position,ee=0;ee<3;++ee)le[ee]-=this.objectOffset[ee];if(!((!this.enableDynamic[0]||le[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||le[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||le[2]===this.dynamicLevel[2]))){for(var ie=0,he=this.shape,xe=c.mallocFloat(12*he[0]*he[1]),Se=0;Se<3;++Se){if(!this.enableDynamic[Se]){this.dynamicLevel[Se]=NaN,this._dynamicCounts[Se]=0;continue}this.dynamicLevel[Se]=le[Se];var Ee=(Se+1)%3,Ne=(Se+2)%3,He=this._field[Se],Ce=this._field[Ee],be=this._field[Ne],we=f(He,le[Se]),ke=we.cells,Fe=we.positions;for(this._dynamicOffsets[Se]=ie,ee=0;ee<ke.length;++ee)for(var Pe=ke[ee],Ge=0;Ge<2;++Ge){var nt=Fe[Pe[Ge]],qe=+nt[0],Ke=qe|0,$e=Math.min(Ke+1,he[0])|0,vt=qe-Ke,yt=1-vt,mt=+nt[1],Et=mt|0,Xe=Math.min(Et+1,he[1])|0,Ue=mt-Et,Be=1-Ue,rt=yt*Be,it=yt*Ue,Ye=vt*Be,De=vt*Ue,Te=rt*Ce.get(Ke,Et)+it*Ce.get(Ke,Xe)+Ye*Ce.get($e,Et)+De*Ce.get($e,Xe),fe=rt*be.get(Ke,Et)+it*be.get(Ke,Xe)+Ye*be.get($e,Et)+De*be.get($e,Xe);if(isNaN(Te)||isNaN(fe)){Ge&&(ie-=1);break}xe[2*ie+0]=Te,xe[2*ie+1]=fe,ie+=1}this._dynamicCounts[Se]=ie-this._dynamicOffsets[Se]}this._dynamicBuffer.update(xe.subarray(0,2*ie)),c.freeFloat(xe)}};function se(Q){var ee=Q.gl,le=m(ee),ie=x(ee),he=S(ee),xe=a(ee),Se=l(ee),Ee=n(ee,[{buffer:Se,size:4,stride:E,offset:0},{buffer:Se,size:3,stride:E,offset:16},{buffer:Se,size:3,stride:E,offset:28}]),Ne=l(ee),He=n(ee,[{buffer:Ne,size:4,stride:20,offset:0},{buffer:Ne,size:1,stride:20,offset:16}]),Ce=l(ee),be=n(ee,[{buffer:Ce,size:2,type:ee.FLOAT}]),we=s(ee,1,z,ee.RGBA,ee.UNSIGNED_BYTE);we.minFilter=ee.LINEAR,we.magFilter=ee.LINEAR;var ke=new N(ee,[0,0],[[0,0,0],[0,0,0]],le,ie,Se,Ee,we,he,xe,Ne,He,Ce,be,[0,0,0]),Fe={levels:[[],[],[]]};for(var Pe in Q)Fe[Pe]=Q[Pe];return Fe.colormap=Fe.colormap||"jet",ke.update(Fe),ke}},8931:function(v,p,t){var r=t(5050),l=t(7498),n=t(5306);v.exports=a;var s=null,c=null,u=null;function y(E){s=[E.LINEAR,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_NEAREST],c=[E.NEAREST,E.LINEAR,E.NEAREST_MIPMAP_NEAREST,E.NEAREST_MIPMAP_LINEAR,E.LINEAR_MIPMAP_NEAREST,E.LINEAR_MIPMAP_LINEAR],u=[E.REPEAT,E.CLAMP_TO_EDGE,E.MIRRORED_REPEAT]}function h(E){return typeof HTMLCanvasElement<"u"&&E instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&E instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&E instanceof HTMLVideoElement||typeof ImageData<"u"&&E instanceof ImageData}var b=function(E,w){l.muls(E,w,255)};function f(E,w,k){var I=E.gl,U=I.getParameter(I.MAX_TEXTURE_SIZE);if(w<0||w>U||k<0||k>U)throw new Error("gl-texture2d: Invalid texture size");return E._shape=[w,k],E.bind(),I.texImage2D(I.TEXTURE_2D,0,E.format,w,k,0,E.format,E.type,null),E._mipLevels=[0],E}function o(E,w,k,I,U,z){this.gl=E,this.handle=w,this.format=U,this.type=z,this._shape=[k,I],this._mipLevels=[0],this._magFilter=E.NEAREST,this._minFilter=E.NEAREST,this._wrapS=E.CLAMP_TO_EDGE,this._wrapT=E.CLAMP_TO_EDGE,this._anisoSamples=1;var N=this,B=[this._wrapS,this._wrapT];Object.defineProperties(B,[{get:function(){return N._wrapS},set:function(H){return N.wrapS=H}},{get:function(){return N._wrapT},set:function(H){return N.wrapT=H}}]),this._wrapVector=B;var F=[this._shape[0],this._shape[1]];Object.defineProperties(F,[{get:function(){return N._shape[0]},set:function(H){return N.width=H}},{get:function(){return N._shape[1]},set:function(H){return N.height=H}}]),this._shapeVector=F}var d=o.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(E){this.bind();var w=this.gl;if(this.type===w.FLOAT&&s.indexOf(E)>=0&&(w.getExtension("OES_texture_float_linear")||(E=w.NEAREST)),c.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,E),this._minFilter=E}},magFilter:{get:function(){return this._magFilter},set:function(E){this.bind();var w=this.gl;if(this.type===w.FLOAT&&s.indexOf(E)>=0&&(w.getExtension("OES_texture_float_linear")||(E=w.NEAREST)),c.indexOf(E)<0)throw new Error("gl-texture2d: Unknown filter mode "+E);return w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,E),this._magFilter=E}},mipSamples:{get:function(){return this._anisoSamples},set:function(E){var w=this._anisoSamples;if(this._anisoSamples=Math.max(E,1)|0,w!==this._anisoSamples){var k=this.gl.getExtension("EXT_texture_filter_anisotropic");k&&this.gl.texParameterf(this.gl.TEXTURE_2D,k.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(E){if(this.bind(),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,E),this._wrapS=E}},wrapT:{get:function(){return this._wrapT},set:function(E){if(this.bind(),u.indexOf(E)<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,E),this._wrapT=E}},wrap:{get:function(){return this._wrapVector},set:function(E){if(Array.isArray(E)||(E=[E,E]),E.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var w=0;w<2;++w)if(u.indexOf(E[w])<0)throw new Error("gl-texture2d: Unknown wrap mode "+E);this._wrapS=E[0],this._wrapT=E[1];var k=this.gl;return this.bind(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,this._wrapS),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,this._wrapT),E}},shape:{get:function(){return this._shapeVector},set:function(E){if(!Array.isArray(E))E=[E|0,E|0];else if(E.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return f(this,E[0]|0,E[1]|0),[E[0]|0,E[1]|0]}},width:{get:function(){return this._shape[0]},set:function(E){return E=E|0,f(this,E,this._shape[1]),E}},height:{get:function(){return this._shape[1]},set:function(E){return E=E|0,f(this,this._shape[0],E),E}}}),d.bind=function(E){var w=this.gl;return E!==void 0&&w.activeTexture(w.TEXTURE0+(E|0)),w.bindTexture(w.TEXTURE_2D,this.handle),E!==void 0?E|0:w.getParameter(w.ACTIVE_TEXTURE)-w.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var E=Math.min(this._shape[0],this._shape[1]),w=0;E>0;++w,E>>>=1)this._mipLevels.indexOf(w)<0&&this._mipLevels.push(w)},d.setPixels=function(E,w,k,I){var U=this.gl;this.bind(),Array.isArray(w)?(I=k,k=w[1]|0,w=w[0]|0):(w=w||0,k=k||0),I=I||0;var z=h(E)?E:E.raw;if(z){var N=this._mipLevels.indexOf(I)<0;N?(U.texImage2D(U.TEXTURE_2D,0,this.format,this.format,this.type,z),this._mipLevels.push(I)):U.texSubImage2D(U.TEXTURE_2D,I,w,k,this.format,this.type,z)}else if(E.shape&&E.stride&&E.data){if(E.shape.length<2||w+E.shape[1]>this._shape[1]>>>I||k+E.shape[0]>this._shape[0]>>>I||w<0||k<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");M(U,w,k,I,this.format,this.type,this._mipLevels,E)}else throw new Error("gl-texture2d: Unsupported data type")};function A(E,w){return E.length===3?w[2]===1&&w[1]===E[0]*E[2]&&w[0]===E[2]:w[0]===1&&w[1]===E[0]}function M(E,w,k,I,U,z,N,B){var F=B.dtype,H=B.shape.slice();if(H.length<2||H.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var X=0,q=0,ne=A(H,B.stride.slice());if(F==="float32"?X=E.FLOAT:F==="float64"?(X=E.FLOAT,ne=!1,F="float32"):F==="uint8"?X=E.UNSIGNED_BYTE:(X=E.UNSIGNED_BYTE,ne=!1,F="uint8"),H.length===2)q=E.LUMINANCE,H=[H[0],H[1],1],B=r(B.data,H,[B.stride[0],B.stride[1],1],B.offset);else if(H.length===3){if(H[2]===1)q=E.ALPHA;else if(H[2]===2)q=E.LUMINANCE_ALPHA;else if(H[2]===3)q=E.RGB;else if(H[2]===4)q=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");H[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((q===E.LUMINANCE||q===E.ALPHA)&&(U===E.LUMINANCE||U===E.ALPHA)&&(q=U),q!==U)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var oe=B.size,ve=N.indexOf(I)<0;if(ve&&N.push(I),X===z&&ne)B.offset===0&&B.data.length===oe?ve?E.texImage2D(E.TEXTURE_2D,I,U,H[0],H[1],0,U,z,B.data):E.texSubImage2D(E.TEXTURE_2D,I,w,k,H[0],H[1],U,z,B.data):ve?E.texImage2D(E.TEXTURE_2D,I,U,H[0],H[1],0,U,z,B.data.subarray(B.offset,B.offset+oe)):E.texSubImage2D(E.TEXTURE_2D,I,w,k,H[0],H[1],U,z,B.data.subarray(B.offset,B.offset+oe));else{var J;z===E.FLOAT?J=n.mallocFloat32(oe):J=n.mallocUint8(oe);var Y=r(J,H,[H[2],H[2]*H[0],1]);X===E.FLOAT&&z===E.UNSIGNED_BYTE?b(Y,B):l.assign(Y,B),ve?E.texImage2D(E.TEXTURE_2D,I,U,H[0],H[1],0,U,z,J.subarray(0,oe)):E.texSubImage2D(E.TEXTURE_2D,I,w,k,H[0],H[1],U,z,J.subarray(0,oe)),z===E.FLOAT?n.freeFloat32(J):n.freeUint8(J)}}function C(E){var w=E.createTexture();return E.bindTexture(E.TEXTURE_2D,w),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),w}function m(E,w,k,I,U){var z=E.getParameter(E.MAX_TEXTURE_SIZE);if(w<0||w>z||k<0||k>z)throw new Error("gl-texture2d: Invalid texture shape");if(U===E.FLOAT&&!E.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var N=C(E);return E.texImage2D(E.TEXTURE_2D,0,I,w,k,0,I,U,null),new o(E,N,w,k,I,U)}function S(E,w,k,I,U,z){var N=C(E);return E.texImage2D(E.TEXTURE_2D,0,U,U,z,w),new o(E,N,k,I,U,z)}function x(E,w){var k=w.dtype,I=w.shape.slice(),U=E.getParameter(E.MAX_TEXTURE_SIZE);if(I[0]<0||I[0]>U||I[1]<0||I[1]>U)throw new Error("gl-texture2d: Invalid texture size");var z=A(I,w.stride.slice()),N=0;k==="float32"?N=E.FLOAT:k==="float64"?(N=E.FLOAT,z=!1,k="float32"):k==="uint8"?N=E.UNSIGNED_BYTE:(N=E.UNSIGNED_BYTE,z=!1,k="uint8");var B=0;if(I.length===2)B=E.LUMINANCE,I=[I[0],I[1],1],w=r(w.data,I,[w.stride[0],w.stride[1],1],w.offset);else if(I.length===3)if(I[2]===1)B=E.ALPHA;else if(I[2]===2)B=E.LUMINANCE_ALPHA;else if(I[2]===3)B=E.RGB;else if(I[2]===4)B=E.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");N===E.FLOAT&&!E.getExtension("OES_texture_float")&&(N=E.UNSIGNED_BYTE,z=!1);var F,H,X=w.size;if(z)w.offset===0&&w.data.length===X?F=w.data:F=w.data.subarray(w.offset,w.offset+X);else{var q=[I[2],I[2]*I[0],1];H=n.malloc(X,k);var ne=r(H,I,q,0);(k==="float32"||k==="float64")&&N===E.UNSIGNED_BYTE?b(ne,w):l.assign(ne,w),F=H.subarray(0,X)}var oe=C(E);return E.texImage2D(E.TEXTURE_2D,0,B,I[0],I[1],0,B,N,F),z||n.free(H),new o(E,oe,I[0],I[1],B,N)}function a(E){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(s||y(E),typeof arguments[1]=="number")return m(E,arguments[1],arguments[2],arguments[3]||E.RGBA,arguments[4]||E.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(E,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var w=arguments[1],k=h(w)?w:w.raw;if(k)return S(E,k,w.width|0,w.height|0,arguments[2]||E.RGBA,arguments[3]||E.UNSIGNED_BYTE);if(w.shape&&w.data&&w.stride)return x(E,w)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(v){function p(t,r,l){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=t.getParameter(t.MAX_VERTEX_ATTRIBS)|0;if(l){if(l.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var s=0;s<l.length;++s){var c=l[s];if(c.buffer){var u=c.buffer,y=c.size||4,h=c.type||t.FLOAT,b=!!c.normalized,f=c.stride||0,o=c.offset||0;u.bind(),t.enableVertexAttribArray(s),t.vertexAttribPointer(s,y,h,b,f,o)}else{if(typeof c=="number")t.vertexAttrib1f(s,c);else if(c.length===1)t.vertexAttrib1f(s,c[0]);else if(c.length===2)t.vertexAttrib2f(s,c[0],c[1]);else if(c.length===3)t.vertexAttrib3f(s,c[0],c[1],c[2]);else if(c.length===4)t.vertexAttrib4f(s,c[0],c[1],c[2],c[3]);else throw new Error("gl-vao: Invalid vertex attribute");t.disableVertexAttribArray(s)}}for(;s<n;++s)t.disableVertexAttribArray(s)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var s=0;s<n;++s)t.disableVertexAttribArray(s)}}v.exports=p},7220:function(v,p,t){var r=t(3056);function l(s){this.gl=s,this._elements=null,this._attributes=null,this._elementsType=s.UNSIGNED_SHORT}l.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},l.prototype.update=function(s,c,u){this._elements=c,this._attributes=s,this._elementsType=u||this.gl.UNSIGNED_SHORT},l.prototype.dispose=function(){},l.prototype.unbind=function(){},l.prototype.draw=function(s,c,u){u=u||0;var y=this.gl;this._elements?y.drawElements(s,c,this._elementsType,u):y.drawArrays(s,u,c)};function n(s){return new l(s)}v.exports=n},3778:function(v,p,t){var r=t(3056);function l(c,u,y,h,b,f){this.location=c,this.dimension=u,this.a=y,this.b=h,this.c=b,this.d=f}l.prototype.bind=function(c){switch(this.dimension){case 1:c.vertexAttrib1f(this.location,this.a);break;case 2:c.vertexAttrib2f(this.location,this.a,this.b);break;case 3:c.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:c.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(c,u,y){this.gl=c,this._ext=u,this.handle=y,this._attribs=[],this._useElements=!1,this._elementsType=c.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var c=0;c<this._attribs.length;++c)this._attribs[c].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(c,u,y){if(this.bind(),r(this.gl,u,c),this.unbind(),this._attribs.length=0,c)for(var h=0;h<c.length;++h){var b=c[h];typeof b=="number"?this._attribs.push(new l(h,1,b)):Array.isArray(b)&&this._attribs.push(new l(h,b.length,b[0],b[1],b[2],b[3]))}this._useElements=!!u,this._elementsType=y||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(c,u,y){y=y||0;var h=this.gl;this._useElements?h.drawElements(c,u,this._elementsType,y):h.drawArrays(c,y,u)};function s(c,u){return new n(c,u,u.createVertexArrayOES())}v.exports=s},2944:function(v,p,t){var r=t(3778),l=t(7220);function n(c){this.bindVertexArrayOES=c.bindVertexArray.bind(c),this.createVertexArrayOES=c.createVertexArray.bind(c),this.deleteVertexArrayOES=c.deleteVertexArray.bind(c)}function s(c,u,y,h){var b=c.createVertexArray?new n(c):c.getExtension("OES_vertex_array_object"),f;return b?f=r(c,b):f=l(c),f.update(u,y,h),f}v.exports=s},2598:function(v){v.exports=p;function p(t,r,l){return t[0]=r[0]+l[0],t[1]=r[1]+l[1],t[2]=r[2]+l[2],t}},5879:function(v,p,t){v.exports=s;var r=t(5415),l=t(899),n=t(9305);function s(c,u){var y=r(c[0],c[1],c[2]),h=r(u[0],u[1],u[2]);l(y,y),l(h,h);var b=n(y,h);return b>1?0:Math.acos(b)}},8827:function(v){v.exports=p;function p(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}},7622:function(v){v.exports=p;function p(t){var r=new Float32Array(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8782:function(v){v.exports=p;function p(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8501:function(v){v.exports=p;function p(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},903:function(v){v.exports=p;function p(t,r,l){var n=r[0],s=r[1],c=r[2],u=l[0],y=l[1],h=l[2];return t[0]=s*h-c*y,t[1]=c*u-n*h,t[2]=n*y-s*u,t}},5981:function(v,p,t){v.exports=t(8288)},8288:function(v){v.exports=p;function p(t,r){var l=r[0]-t[0],n=r[1]-t[1],s=r[2]-t[2];return Math.sqrt(l*l+n*n+s*s)}},8629:function(v,p,t){v.exports=t(7979)},7979:function(v){v.exports=p;function p(t,r,l){return t[0]=r[0]/l[0],t[1]=r[1]/l[1],t[2]=r[2]/l[2],t}},9305:function(v){v.exports=p;function p(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}},154:function(v){v.exports=1e-6},4932:function(v,p,t){v.exports=l;var r=t(154);function l(n,s){var c=n[0],u=n[1],y=n[2],h=s[0],b=s[1],f=s[2];return Math.abs(c-h)<=r*Math.max(1,Math.abs(c),Math.abs(h))&&Math.abs(u-b)<=r*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(y-f)<=r*Math.max(1,Math.abs(y),Math.abs(f))}},5777:function(v){v.exports=p;function p(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}},3306:function(v){v.exports=p;function p(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}},7447:function(v,p,t){v.exports=l;var r=t(8501)();function l(n,s,c,u,y,h){var b,f;for(s||(s=3),c||(c=0),u?f=Math.min(u*s+c,n.length):f=n.length,b=c;b<f;b+=s)r[0]=n[b],r[1]=n[b+1],r[2]=n[b+2],y(r,r,h),n[b]=r[0],n[b+1]=r[1],n[b+2]=r[2];return n}},5415:function(v){v.exports=p;function p(t,r,l){var n=new Float32Array(3);return n[0]=t,n[1]=r,n[2]=l,n}},2858:function(v,p,t){v.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(v){v.exports=p;function p(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}},1468:function(v,p,t){v.exports=t(4693)},4693:function(v){v.exports=p;function p(t){var r=t[0],l=t[1],n=t[2];return Math.sqrt(r*r+l*l+n*n)}},1868:function(v){v.exports=p;function p(t,r,l,n){var s=r[0],c=r[1],u=r[2];return t[0]=s+n*(l[0]-s),t[1]=c+n*(l[1]-c),t[2]=u+n*(l[2]-u),t}},1716:function(v){v.exports=p;function p(t,r,l){return t[0]=Math.max(r[0],l[0]),t[1]=Math.max(r[1],l[1]),t[2]=Math.max(r[2],l[2]),t}},3605:function(v){v.exports=p;function p(t,r,l){return t[0]=Math.min(r[0],l[0]),t[1]=Math.min(r[1],l[1]),t[2]=Math.min(r[2],l[2]),t}},5733:function(v,p,t){v.exports=t(105)},105:function(v){v.exports=p;function p(t,r,l){return t[0]=r[0]*l[0],t[1]=r[1]*l[1],t[2]=r[2]*l[2],t}},435:function(v){v.exports=p;function p(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}},899:function(v){v.exports=p;function p(t,r){var l=r[0],n=r[1],s=r[2],c=l*l+n*n+s*s;return c>0&&(c=1/Math.sqrt(c),t[0]=r[0]*c,t[1]=r[1]*c,t[2]=r[2]*c),t}},6660:function(v){v.exports=p;function p(t,r){r=r||1;var l=Math.random()*2*Math.PI,n=Math.random()*2-1,s=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(l)*s,t[1]=Math.sin(l)*s,t[2]=n*r,t}},392:function(v){v.exports=p;function p(t,r,l,n){var s=l[1],c=l[2],u=r[1]-s,y=r[2]-c,h=Math.sin(n),b=Math.cos(n);return t[0]=r[0],t[1]=s+u*b-y*h,t[2]=c+u*h+y*b,t}},3222:function(v){v.exports=p;function p(t,r,l,n){var s=l[0],c=l[2],u=r[0]-s,y=r[2]-c,h=Math.sin(n),b=Math.cos(n);return t[0]=s+y*h+u*b,t[1]=r[1],t[2]=c+y*b-u*h,t}},3388:function(v){v.exports=p;function p(t,r,l,n){var s=l[0],c=l[1],u=r[0]-s,y=r[1]-c,h=Math.sin(n),b=Math.cos(n);return t[0]=s+u*b-y*h,t[1]=c+u*h+y*b,t[2]=r[2],t}},1624:function(v){v.exports=p;function p(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}},5685:function(v){v.exports=p;function p(t,r,l){return t[0]=r[0]*l,t[1]=r[1]*l,t[2]=r[2]*l,t}},6722:function(v){v.exports=p;function p(t,r,l,n){return t[0]=r[0]+l[0]*n,t[1]=r[1]+l[1]*n,t[2]=r[2]+l[2]*n,t}},831:function(v){v.exports=p;function p(t,r,l,n){return t[0]=r,t[1]=l,t[2]=n,t}},5294:function(v,p,t){v.exports=t(6403)},3303:function(v,p,t){v.exports=t(4337)},6403:function(v){v.exports=p;function p(t,r){var l=r[0]-t[0],n=r[1]-t[1],s=r[2]-t[2];return l*l+n*n+s*s}},4337:function(v){v.exports=p;function p(t){var r=t[0],l=t[1],n=t[2];return r*r+l*l+n*n}},8921:function(v,p,t){v.exports=t(911)},911:function(v){v.exports=p;function p(t,r,l){return t[0]=r[0]-l[0],t[1]=r[1]-l[1],t[2]=r[2]-l[2],t}},9908:function(v){v.exports=p;function p(t,r,l){var n=r[0],s=r[1],c=r[2];return t[0]=n*l[0]+s*l[3]+c*l[6],t[1]=n*l[1]+s*l[4]+c*l[7],t[2]=n*l[2]+s*l[5]+c*l[8],t}},3255:function(v){v.exports=p;function p(t,r,l){var n=r[0],s=r[1],c=r[2],u=l[3]*n+l[7]*s+l[11]*c+l[15];return u=u||1,t[0]=(l[0]*n+l[4]*s+l[8]*c+l[12])/u,t[1]=(l[1]*n+l[5]*s+l[9]*c+l[13])/u,t[2]=(l[2]*n+l[6]*s+l[10]*c+l[14])/u,t}},6568:function(v){v.exports=p;function p(t,r,l){var n=r[0],s=r[1],c=r[2],u=l[0],y=l[1],h=l[2],b=l[3],f=b*n+y*c-h*s,o=b*s+h*n-u*c,d=b*c+u*s-y*n,A=-u*n-y*s-h*c;return t[0]=f*b+A*-u+o*-h-d*-y,t[1]=o*b+A*-y+d*-u-f*-h,t[2]=d*b+A*-h+f*-y-o*-u,t}},3433:function(v){v.exports=p;function p(t,r,l){return t[0]=r[0]+l[0],t[1]=r[1]+l[1],t[2]=r[2]+l[2],t[3]=r[3]+l[3],t}},1413:function(v){v.exports=p;function p(t){var r=new Float32Array(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},3470:function(v){v.exports=p;function p(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},5313:function(v){v.exports=p;function p(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},5446:function(v){v.exports=p;function p(t,r){var l=r[0]-t[0],n=r[1]-t[1],s=r[2]-t[2],c=r[3]-t[3];return Math.sqrt(l*l+n*n+s*s+c*c)}},205:function(v){v.exports=p;function p(t,r,l){return t[0]=r[0]/l[0],t[1]=r[1]/l[1],t[2]=r[2]/l[2],t[3]=r[3]/l[3],t}},4242:function(v){v.exports=p;function p(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}},5680:function(v){v.exports=p;function p(t,r,l,n){var s=new Float32Array(4);return s[0]=t,s[1]=r,s[2]=l,s[3]=n,s}},4020:function(v,p,t){v.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(v){v.exports=p;function p(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}},8177:function(v){v.exports=p;function p(t){var r=t[0],l=t[1],n=t[2],s=t[3];return Math.sqrt(r*r+l*l+n*n+s*s)}},8746:function(v){v.exports=p;function p(t,r,l,n){var s=r[0],c=r[1],u=r[2],y=r[3];return t[0]=s+n*(l[0]-s),t[1]=c+n*(l[1]-c),t[2]=u+n*(l[2]-u),t[3]=y+n*(l[3]-y),t}},3030:function(v){v.exports=p;function p(t,r,l){return t[0]=Math.max(r[0],l[0]),t[1]=Math.max(r[1],l[1]),t[2]=Math.max(r[2],l[2]),t[3]=Math.max(r[3],l[3]),t}},2170:function(v){v.exports=p;function p(t,r,l){return t[0]=Math.min(r[0],l[0]),t[1]=Math.min(r[1],l[1]),t[2]=Math.min(r[2],l[2]),t[3]=Math.min(r[3],l[3]),t}},746:function(v){v.exports=p;function p(t,r,l){return t[0]=r[0]*l[0],t[1]=r[1]*l[1],t[2]=r[2]*l[2],t[3]=r[3]*l[3],t}},6459:function(v){v.exports=p;function p(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}},381:function(v){v.exports=p;function p(t,r){var l=r[0],n=r[1],s=r[2],c=r[3],u=l*l+n*n+s*s+c*c;return u>0&&(u=1/Math.sqrt(u),t[0]=l*u,t[1]=n*u,t[2]=s*u,t[3]=c*u),t}},3770:function(v,p,t){var r=t(381),l=t(5510);v.exports=n;function n(s,c){return c=c||1,s[0]=Math.random(),s[1]=Math.random(),s[2]=Math.random(),s[3]=Math.random(),r(s,s),l(s,s,c),s}},5510:function(v){v.exports=p;function p(t,r,l){return t[0]=r[0]*l,t[1]=r[1]*l,t[2]=r[2]*l,t[3]=r[3]*l,t}},4224:function(v){v.exports=p;function p(t,r,l,n){return t[0]=r[0]+l[0]*n,t[1]=r[1]+l[1]*n,t[2]=r[2]+l[2]*n,t[3]=r[3]+l[3]*n,t}},6453:function(v){v.exports=p;function p(t,r,l,n,s){return t[0]=r,t[1]=l,t[2]=n,t[3]=s,t}},1542:function(v){v.exports=p;function p(t,r){var l=r[0]-t[0],n=r[1]-t[1],s=r[2]-t[2],c=r[3]-t[3];return l*l+n*n+s*s+c*c}},9037:function(v){v.exports=p;function p(t){var r=t[0],l=t[1],n=t[2],s=t[3];return r*r+l*l+n*n+s*s}},2705:function(v){v.exports=p;function p(t,r,l){return t[0]=r[0]-l[0],t[1]=r[1]-l[1],t[2]=r[2]-l[2],t[3]=r[3]-l[3],t}},6342:function(v){v.exports=p;function p(t,r,l){var n=r[0],s=r[1],c=r[2],u=r[3];return t[0]=l[0]*n+l[4]*s+l[8]*c+l[12]*u,t[1]=l[1]*n+l[5]*s+l[9]*c+l[13]*u,t[2]=l[2]*n+l[6]*s+l[10]*c+l[14]*u,t[3]=l[3]*n+l[7]*s+l[11]*c+l[15]*u,t}},5022:function(v){v.exports=p;function p(t,r,l){var n=r[0],s=r[1],c=r[2],u=l[0],y=l[1],h=l[2],b=l[3],f=b*n+y*c-h*s,o=b*s+h*n-u*c,d=b*c+u*s-y*n,A=-u*n-y*s-h*c;return t[0]=f*b+A*-u+o*-h-d*-y,t[1]=o*b+A*-y+d*-u-f*-h,t[2]=d*b+A*-h+f*-y-o*-u,t[3]=r[3],t}},9365:function(v,p,t){var r=t(8096),l=t(7896);v.exports=n;function n(s){for(var c=Array.isArray(s)?s:r(s),u=0;u<c.length;u++){var y=c[u];if(y.type==="preprocessor"){var h=y.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(h&&h[2]){var b=h[1],f=h[2];return(b?l(f):f).trim()}}}}},3193:function(v,p,t){v.exports=w;var r=t(399),l=t(9746),n=t(9525),s=t(9458),c=t(3585),u=999,y=9999,h=0,b=1,f=2,o=3,d=4,A=5,M=6,C=7,m=8,S=9,x=10,a=11,E=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function w(k){var I=0,U=0,z=u,N,B,F=[],H=[],X=1,q=0,ne=0,oe=!1,ve=!1,J="",Y;k=k||{};var j=n,K=r;k.version==="300 es"&&(j=c,K=s);for(var te={},se={},I=0;I<j.length;I++)te[j[I]]=!0;for(var I=0;I<K.length;I++)se[K[I]]=!0;return function(Fe){return H=[],Fe!==null?ee(Fe):le()};function Q(Fe){Fe.length&&H.push({type:E[z],data:Fe,position:ne,line:X,column:q})}function ee(Fe){I=0,Fe.toString&&(Fe=Fe.toString()),J+=Fe.replace(/\r\n/g,`
`),Y=J.length;for(var Pe;N=J[I],I<Y;){switch(Pe=I,z){case h:I=Ee();break;case b:I=Se();break;case f:I=xe();break;case o:I=Ne();break;case d:I=be();break;case a:I=Ce();break;case A:I=we();break;case y:I=ke();break;case S:I=he();break;case u:I=ie();break}if(Pe!==I)switch(J[Pe]){case`
`:q=0,++X;break;default:++q;break}}return U+=I,J=J.slice(I),H}function le(Fe){return F.length&&Q(F.join("")),z=x,Q("(eof)"),H}function ie(){return F=F.length?[]:F,B==="/"&&N==="*"?(ne=U+I-1,z=h,B=N,I+1):B==="/"&&N==="/"?(ne=U+I-1,z=b,B=N,I+1):N==="#"?(z=f,ne=U+I,I):/\s/.test(N)?(z=S,ne=U+I,I):(oe=/\d/.test(N),ve=/[^\w_]/.test(N),ne=U+I,z=oe?d:ve?o:y,I)}function he(){return/[^\s]/g.test(N)?(Q(F.join("")),z=u,I):(F.push(N),B=N,I+1)}function xe(){return(N==="\r"||N===`
`)&&B!=="\\"?(Q(F.join("")),z=u,I):(F.push(N),B=N,I+1)}function Se(){return xe()}function Ee(){return N==="/"&&B==="*"?(F.push(N),Q(F.join("")),z=u,I+1):(F.push(N),B=N,I+1)}function Ne(){if(B==="."&&/\d/.test(N))return z=A,I;if(B==="/"&&N==="*")return z=h,I;if(B==="/"&&N==="/")return z=b,I;if(N==="."&&F.length){for(;He(F););return z=A,I}if(N===";"||N===")"||N==="("){if(F.length)for(;He(F););return Q(N),z=u,I+1}var Fe=F.length===2&&N!=="=";if(/[\w_\d\s]/.test(N)||Fe){for(;He(F););return z=u,I}return F.push(N),B=N,I+1}function He(Fe){var Pe=0,Ge,nt;do{if(Ge=l.indexOf(Fe.slice(0,Fe.length+Pe).join("")),nt=l[Ge],Ge===-1){if(Pe--+Fe.length>0)continue;nt=Fe.slice(0,1).join("")}return Q(nt),ne+=nt.length,F=F.slice(nt.length),F.length}while(1)}function Ce(){return/[^a-fA-F0-9]/.test(N)?(Q(F.join("")),z=u,I):(F.push(N),B=N,I+1)}function be(){return N==="."||/[eE]/.test(N)?(F.push(N),z=A,B=N,I+1):N==="x"&&F.length===1&&F[0]==="0"?(z=a,F.push(N),B=N,I+1):/[^\d]/.test(N)?(Q(F.join("")),z=u,I):(F.push(N),B=N,I+1)}function we(){return N==="f"&&(F.push(N),B=N,I+=1),/[eE]/.test(N)||(N==="-"||N==="+")&&/[eE]/.test(B)?(F.push(N),B=N,I+1):/[^\d]/.test(N)?(Q(F.join("")),z=u,I):(F.push(N),B=N,I+1)}function ke(){if(/[^\d\w_]/.test(N)){var Fe=F.join("");return se[Fe]?z=m:te[Fe]?z=C:z=M,Q(F.join("")),z=u,I}return F.push(N),B=N,I+1}}},3585:function(v,p,t){var r=t(9525);r=r.slice().filter(function(l){return!/^(gl\_|texture)/.test(l)}),v.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,p,t){var r=t(399);v.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,p,t){var r=t(3193);v.exports=l;function l(n,s){var c=r(s),u=[];return u=u.concat(c(n)),u=u.concat(c(null)),u}},6832:function(v){v.exports=function(p){typeof p=="string"&&(p=[p]);for(var t=[].slice.call(arguments,1),r=[],l=0;l<p.length-1;l++)r.push(p[l],t[l]||"");return r.push(p[l]),r.join("")}},5233:function(v,p,t){var r=t(4846);function l(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,s),window.removeEventListener("test",null,s)}catch{n=!1}return n}v.exports=r&&l()},2183:function(v,p,t){v.exports=o;var r=t(417),l=t(8211).H;function n(d,A,M){this.vertices=d,this.adjacent=A,this.boundary=M,this.lastVisited=-1}n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var A=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=A};function s(d,A,M){this.vertices=d,this.cell=A,this.index=M}function c(d,A){return l(d.vertices,A.vertices)}function u(d){return function(){var A=this.tuple;return d.apply(this,A)}}function y(d){var A=r[d+1];return A||(A=r),u(A)}var h=[];function b(d,A,M){this.dimension=d,this.vertices=A,this.simplices=M,this.interior=M.filter(function(S){return!S.boundary}),this.tuple=new Array(d+1);for(var C=0;C<=d;++C)this.tuple[C]=this.vertices[C];var m=h[d];m||(m=h[d]=y(d)),this.orient=m}var f=b.prototype;f.handleBoundaryDegeneracy=function(d,A){var M=this.dimension,C=this.vertices.length-1,m=this.tuple,S=this.vertices,x=[d];for(d.lastVisited=-C;x.length>0;){d=x.pop();for(var a=d.adjacent,E=0;E<=M;++E){var w=a[E];if(!(!w.boundary||w.lastVisited<=-C)){for(var k=w.vertices,I=0;I<=M;++I){var U=k[I];U<0?m[I]=A:m[I]=S[U]}var z=this.orient();if(z>0)return w;w.lastVisited=-C,z===0&&x.push(w)}}}return null},f.walk=function(d,A){var M=this.vertices.length-1,C=this.dimension,m=this.vertices,S=this.tuple,x=A?this.interior.length*Math.random()|0:this.interior.length-1,a=this.interior[x];e:for(;!a.boundary;){for(var E=a.vertices,w=a.adjacent,k=0;k<=C;++k)S[k]=m[E[k]];a.lastVisited=M;for(var k=0;k<=C;++k){var I=w[k];if(!(I.lastVisited>=M)){var U=S[k];S[k]=d;var z=this.orient();if(S[k]=U,z<0){a=I;continue e}else I.boundary?I.lastVisited=-M:I.lastVisited=M}}return}return a},f.addPeaks=function(d,A){var M=this.vertices.length-1,C=this.dimension,m=this.vertices,S=this.tuple,x=this.interior,a=this.simplices,E=[A];A.lastVisited=M,A.vertices[A.vertices.indexOf(-1)]=M,A.boundary=!1,x.push(A);for(var w=[];E.length>0;){var A=E.pop(),k=A.vertices,I=A.adjacent,U=k.indexOf(M);if(!(U<0)){for(var z=0;z<=C;++z)if(z!==U){var N=I[z];if(!(!N.boundary||N.lastVisited>=M)){var B=N.vertices;if(N.lastVisited!==-M){for(var F=0,H=0;H<=C;++H)B[H]<0?(F=H,S[H]=d):S[H]=m[B[H]];var X=this.orient();if(X>0){B[F]=M,N.boundary=!1,x.push(N),E.push(N),N.lastVisited=M;continue}else N.lastVisited=-M}var q=N.adjacent,ne=k.slice(),oe=I.slice(),ve=new n(ne,oe,!0);a.push(ve);var J=q.indexOf(A);if(!(J<0)){q[J]=ve,oe[U]=N,ne[z]=-1,oe[z]=A,I[z]=ve,ve.flip();for(var H=0;H<=C;++H){var Y=ne[H];if(!(Y<0||Y===M)){for(var j=new Array(C-1),K=0,te=0;te<=C;++te){var se=ne[te];se<0||te===H||(j[K++]=se)}w.push(new s(j,ve,H))}}}}}}}w.sort(c);for(var z=0;z+1<w.length;z+=2){var Q=w[z],ee=w[z+1],le=Q.index,ie=ee.index;le<0||ie<0||(Q.cell.adjacent[Q.index]=ee.cell,ee.cell.adjacent[ee.index]=Q.cell)}},f.insert=function(d,A){var M=this.vertices;M.push(d);var C=this.walk(d,A);if(C){for(var m=this.dimension,S=this.tuple,x=0;x<=m;++x){var a=C.vertices[x];a<0?S[x]=d:S[x]=M[a]}var E=this.orient(S);E<0||E===0&&(C=this.handleBoundaryDegeneracy(C,d),!C)||this.addPeaks(d,C)}},f.boundary=function(){for(var d=this.dimension,A=[],M=this.simplices,C=M.length,m=0;m<C;++m){var S=M[m];if(S.boundary){for(var x=new Array(d),a=S.vertices,E=0,w=0,k=0;k<=d;++k)a[k]>=0?x[E++]=a[k]:w=k&1;if(w===(d&1)){var I=x[0];x[0]=x[1],x[1]=I}A.push(x)}}return A};function o(d,A){var M=d.length;if(M===0)throw new Error("Must have at least d+1 points");var C=d[0].length;if(M<=C)throw new Error("Must input at least d+1 points");var m=d.slice(0,C+1),S=r.apply(void 0,m);if(S===0)throw new Error("Input not in general position");for(var x=new Array(C+1),a=0;a<=C;++a)x[a]=a;S<0&&(x[0]=1,x[1]=0);for(var E=new n(x,new Array(C+1),!1),w=E.adjacent,k=new Array(C+2),a=0;a<=C;++a){for(var I=x.slice(),U=0;U<=C;++U)U===a&&(I[U]=-1);var z=I[0];I[0]=I[1],I[1]=z;var N=new n(I,new Array(C+1),!0);w[a]=N,k[a]=N}k[C+1]=E;for(var a=0;a<=C;++a)for(var I=w[a].vertices,B=w[a].adjacent,U=0;U<=C;++U){var F=I[U];if(F<0){B[U]=E;continue}for(var H=0;H<=C;++H)w[H].vertices.indexOf(F)<0&&(B[U]=w[H])}for(var X=new b(C,m,k),q=!!A,a=C+1;a<M;++a)X.insert(d[a],q);return X.boundary()}},9014:function(v,p,t){var r=t(5070),l=0,n=1,s=2;v.exports=E;function c(w,k,I,U,z){this.mid=w,this.left=k,this.right=I,this.leftPoints=U,this.rightPoints=z,this.count=(k?k.count:0)+(I?I.count:0)+U.length}var u=c.prototype;function y(w,k){w.mid=k.mid,w.left=k.left,w.right=k.right,w.leftPoints=k.leftPoints,w.rightPoints=k.rightPoints,w.count=k.count}function h(w,k){var I=S(k);w.mid=I.mid,w.left=I.left,w.right=I.right,w.leftPoints=I.leftPoints,w.rightPoints=I.rightPoints,w.count=I.count}function b(w,k){var I=w.intervals([]);I.push(k),h(w,I)}function f(w,k){var I=w.intervals([]),U=I.indexOf(k);return U<0?l:(I.splice(U,1),h(w,I),n)}u.intervals=function(w){return w.push.apply(w,this.leftPoints),this.left&&this.left.intervals(w),this.right&&this.right.intervals(w),w},u.insert=function(w){var k=this.count-this.leftPoints.length;if(this.count+=1,w[1]<this.mid)this.left?4*(this.left.count+1)>3*(k+1)?b(this,w):this.left.insert(w):this.left=S([w]);else if(w[0]>this.mid)this.right?4*(this.right.count+1)>3*(k+1)?b(this,w):this.right.insert(w):this.right=S([w]);else{var I=r.ge(this.leftPoints,w,C),U=r.ge(this.rightPoints,w,m);this.leftPoints.splice(I,0,w),this.rightPoints.splice(U,0,w)}},u.remove=function(w){var k=this.count-this.leftPoints;if(w[1]<this.mid){if(!this.left)return l;var I=this.right?this.right.count:0;if(4*I>3*(k-1))return f(this,w);var U=this.left.remove(w);return U===s?(this.left=null,this.count-=1,n):(U===n&&(this.count-=1),U)}else if(w[0]>this.mid){if(!this.right)return l;var z=this.left?this.left.count:0;if(4*z>3*(k-1))return f(this,w);var U=this.right.remove(w);return U===s?(this.right=null,this.count-=1,n):(U===n&&(this.count-=1),U)}else{if(this.count===1)return this.leftPoints[0]===w?s:l;if(this.leftPoints.length===1&&this.leftPoints[0]===w){if(this.left&&this.right){for(var N=this,B=this.left;B.right;)N=B,B=B.right;if(N===this)B.right=this.right;else{var F=this.left,U=this.right;N.count-=B.count,N.right=B.left,B.left=F,B.right=U}y(this,B),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?y(this,this.left):y(this,this.right);return n}for(var F=r.ge(this.leftPoints,w,C);F<this.leftPoints.length&&this.leftPoints[F][0]===w[0];++F)if(this.leftPoints[F]===w){this.count-=1,this.leftPoints.splice(F,1);for(var U=r.ge(this.rightPoints,w,m);U<this.rightPoints.length&&this.rightPoints[U][1]===w[1];++U)if(this.rightPoints[U]===w)return this.rightPoints.splice(U,1),n}return l}};function o(w,k,I){for(var U=0;U<w.length&&w[U][0]<=k;++U){var z=I(w[U]);if(z)return z}}function d(w,k,I){for(var U=w.length-1;U>=0&&w[U][1]>=k;--U){var z=I(w[U]);if(z)return z}}function A(w,k){for(var I=0;I<w.length;++I){var U=k(w[I]);if(U)return U}}u.queryPoint=function(w,k){if(w<this.mid){if(this.left){var I=this.left.queryPoint(w,k);if(I)return I}return o(this.leftPoints,w,k)}else if(w>this.mid){if(this.right){var I=this.right.queryPoint(w,k);if(I)return I}return d(this.rightPoints,w,k)}else return A(this.leftPoints,k)},u.queryInterval=function(w,k,I){if(w<this.mid&&this.left){var U=this.left.queryInterval(w,k,I);if(U)return U}if(k>this.mid&&this.right){var U=this.right.queryInterval(w,k,I);if(U)return U}return k<this.mid?o(this.leftPoints,k,I):w>this.mid?d(this.rightPoints,w,I):A(this.leftPoints,I)};function M(w,k){return w-k}function C(w,k){var I=w[0]-k[0];return I||w[1]-k[1]}function m(w,k){var I=w[1]-k[1];return I||w[0]-k[0]}function S(w){if(w.length===0)return null;for(var k=[],I=0;I<w.length;++I)k.push(w[I][0],w[I][1]);k.sort(M);for(var U=k[k.length>>1],z=[],N=[],B=[],I=0;I<w.length;++I){var F=w[I];F[1]<U?z.push(F):U<F[0]?N.push(F):B.push(F)}var H=B,X=B.slice();return H.sort(C),X.sort(m),new c(U,S(z),S(N),H,X)}function x(w){this.root=w}var a=x.prototype;a.insert=function(w){this.root?this.root.insert(w):this.root=new c(w[0],null,null,[w],[w])},a.remove=function(w){if(this.root){var k=this.root.remove(w);return k===s&&(this.root=null),k!==l}return!1},a.queryPoint=function(w,k){if(this.root)return this.root.queryPoint(w,k)},a.queryInterval=function(w,k,I){if(w<=k&&this.root)return this.root.queryInterval(w,k,I)},Object.defineProperty(a,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(a,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function E(w){return!w||w.length===0?new x(null):new x(S(w))}},9560:function(v){function p(t){for(var r=new Array(t),l=0;l<t;++l)r[l]=l;return r}v.exports=p},4846:function(v){v.exports=!0},4780:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(r){return r!=null&&(p(r)||t(r)||!!r._isBuffer)};function p(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function t(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&p(r.slice(0,0))}},3596:function(v){v.exports=function(p){for(var t=p.length,r,l=0;l<t;l++)if(r=p.charCodeAt(l),(r<9||r>13)&&r!==32&&r!==133&&r!==160&&r!==5760&&r!==6158&&(r<8192||r>8205)&&r!==8232&&r!==8233&&r!==8239&&r!==8287&&r!==8288&&r!==12288&&r!==65279)return!1;return!0}},3578:function(v){function p(t,r,l){return t*(1-l)+r*l}v.exports=p},7191:function(v,p,t){var r=t(4690),l=t(9823),n=t(7332),s=t(7787),c=t(7437),u=t(2142),y={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},h=l(),b=l(),f=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];v.exports=function(S,x,a,E,w,k){if(x||(x=[0,0,0]),a||(a=[0,0,0]),E||(E=[0,0,0]),w||(w=[0,0,0,1]),k||(k=[0,0,0,1]),!r(h,S)||(n(b,h),b[3]=0,b[7]=0,b[11]=0,b[15]=1,Math.abs(s(b)<1e-8)))return!1;var I=h[3],U=h[7],z=h[11],N=h[12],B=h[13],F=h[14],H=h[15];if(I!==0||U!==0||z!==0){f[0]=I,f[1]=U,f[2]=z,f[3]=H;var X=c(b,b);if(!X)return!1;u(b,b),A(w,f,b)}else w[0]=w[1]=w[2]=0,w[3]=1;if(x[0]=N,x[1]=B,x[2]=F,M(o,h),a[0]=y.length(o[0]),y.normalize(o[0],o[0]),E[0]=y.dot(o[0],o[1]),C(o[1],o[1],o[0],1,-E[0]),a[1]=y.length(o[1]),y.normalize(o[1],o[1]),E[0]/=a[1],E[1]=y.dot(o[0],o[2]),C(o[2],o[2],o[0],1,-E[1]),E[2]=y.dot(o[1],o[2]),C(o[2],o[2],o[1],1,-E[2]),a[2]=y.length(o[2]),y.normalize(o[2],o[2]),E[1]/=a[2],E[2]/=a[2],y.cross(d,o[1],o[2]),y.dot(o[0],d)<0)for(var q=0;q<3;q++)a[q]*=-1,o[q][0]*=-1,o[q][1]*=-1,o[q][2]*=-1;return k[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),k[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),k[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),k[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(k[0]=-k[0]),o[0][2]>o[2][0]&&(k[1]=-k[1]),o[1][0]>o[0][1]&&(k[2]=-k[2]),!0};function A(m,S,x){var a=S[0],E=S[1],w=S[2],k=S[3];return m[0]=x[0]*a+x[4]*E+x[8]*w+x[12]*k,m[1]=x[1]*a+x[5]*E+x[9]*w+x[13]*k,m[2]=x[2]*a+x[6]*E+x[10]*w+x[14]*k,m[3]=x[3]*a+x[7]*E+x[11]*w+x[15]*k,m}function M(m,S){m[0][0]=S[0],m[0][1]=S[1],m[0][2]=S[2],m[1][0]=S[4],m[1][1]=S[5],m[1][2]=S[6],m[2][0]=S[8],m[2][1]=S[9],m[2][2]=S[10]}function C(m,S,x,a,E){m[0]=S[0]*a+x[0]*E,m[1]=S[1]*a+x[1]*E,m[2]=S[2]*a+x[2]*E}},4690:function(v){v.exports=function(t,r){var l=r[15];if(l===0)return!1;for(var n=1/l,s=0;s<16;s++)t[s]=r[s]*n;return!0}},7649:function(v,p,t){var r=t(1868),l=t(1102),n=t(7191),s=t(7787),c=t(1116),u=f(),y=f(),h=f();v.exports=b;function b(A,M,C,m){if(s(M)===0||s(C)===0)return!1;var S=n(M,u.translate,u.scale,u.skew,u.perspective,u.quaternion),x=n(C,y.translate,y.scale,y.skew,y.perspective,y.quaternion);return!S||!x?!1:(r(h.translate,u.translate,y.translate,m),r(h.skew,u.skew,y.skew,m),r(h.scale,u.scale,y.scale,m),r(h.perspective,u.perspective,y.perspective,m),c(h.quaternion,u.quaternion,y.quaternion,m),l(A,h.translate,h.scale,h.skew,h.perspective,h.quaternion),!0)}function f(){return{translate:o(),scale:o(1),skew:o(),perspective:d(),quaternion:d()}}function o(A){return[A||0,A||0,A||0]}function d(){return[0,0,0,1]}},1102:function(v,p,t){var r={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)};r.create();var l=r.create();v.exports=function(s,c,u,y,h,b){return r.identity(s),r.fromRotationTranslation(s,b,c),s[3]=h[0],s[7]=h[1],s[11]=h[2],s[15]=h[3],r.identity(l),y[2]!==0&&(l[9]=y[2],r.multiply(s,s,l)),y[1]!==0&&(l[9]=0,l[8]=y[1],r.multiply(s,s,l)),y[0]!==0&&(l[8]=0,l[4]=y[0],r.multiply(s,s,l)),r.scale(s,s,u),s}},9298:function(v,p,t){var r=t(5070),l=t(7649),n=t(7437),s=t(6109),c=t(7115),u=t(5240),y=t(3012),h=t(998);t(3668);var b=t(899),f=[0,0,0];v.exports=M;function o(C){this._components=C.slice(),this._time=[0],this.prevMatrix=C.slice(),this.nextMatrix=C.slice(),this.computedMatrix=C.slice(),this.computedInverse=C.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=o.prototype;d.recalcMatrix=function(C){var m=this._time,S=r.le(m,C),x=this.computedMatrix;if(!(S<0)){var a=this._components;if(S===m.length-1)for(var E=16*S,w=0;w<16;++w)x[w]=a[E++];else{for(var k=m[S+1]-m[S],E=16*S,I=this.prevMatrix,U=!0,w=0;w<16;++w)I[w]=a[E++];for(var z=this.nextMatrix,w=0;w<16;++w)z[w]=a[E++],U=U&&I[w]===z[w];if(k<1e-6||U)for(var w=0;w<16;++w)x[w]=I[w];else l(x,I,z,(C-m[S])/k)}var N=this.computedUp;N[0]=x[1],N[1]=x[5],N[2]=x[9],b(N,N);var B=this.computedInverse;n(B,x);var F=this.computedEye,H=B[15];F[0]=B[12]/H,F[1]=B[13]/H,F[2]=B[14]/H;for(var X=this.computedCenter,q=Math.exp(this.computedRadius[0]),w=0;w<3;++w)X[w]=F[w]-x[2+4*w]*q}},d.idle=function(C){if(!(C<this.lastT())){for(var m=this._components,S=m.length-16,x=0;x<16;++x)m.push(m[S++]);this._time.push(C)}},d.flush=function(C){var m=r.gt(this._time,C)-2;m<0||(this._time.splice(0,m),this._components.splice(0,16*m))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(C,m,S,x){this.recalcMatrix(C),m=m||this.computedEye,S=S||f,x=x||this.computedUp,this.setMatrix(C,y(this.computedMatrix,m,S,x));for(var a=0,E=0;E<3;++E)a+=Math.pow(S[E]-m[E],2);a=Math.log(Math.sqrt(a)),this.computedRadius[0]=a},d.rotate=function(C,m,S,x){this.recalcMatrix(C);var a=this.computedInverse;m&&c(a,a,m),S&&s(a,a,S),x&&u(a,a,x),this.setMatrix(C,n(this.computedMatrix,a))};var A=[0,0,0];d.pan=function(C,m,S,x){A[0]=-(m||0),A[1]=-(S||0),A[2]=-(x||0),this.recalcMatrix(C);var a=this.computedInverse;h(a,a,A),this.setMatrix(C,n(a,a))},d.translate=function(C,m,S,x){A[0]=m||0,A[1]=S||0,A[2]=x||0,this.recalcMatrix(C);var a=this.computedMatrix;h(a,a,A),this.setMatrix(C,a)},d.setMatrix=function(C,m){if(!(C<this.lastT())){this._time.push(C);for(var S=0;S<16;++S)this._components.push(m[S])}},d.setDistance=function(C,m){this.computedRadius[0]=m},d.setDistanceLimits=function(C,m){var S=this._limits;S[0]=C,S[1]=m},d.getDistanceLimits=function(C){var m=this._limits;return C?(C[0]=m[0],C[1]=m[1],C):m};function M(C){C=C||{};var m=C.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new o(m)}},3266:function(v,p,t){v.exports=l;var r=t(417)[3];function l(n){var s=n.length;if(s<3){for(var d=new Array(s),c=0;c<s;++c)d[c]=c;return s===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:d}for(var u=new Array(s),c=0;c<s;++c)u[c]=c;u.sort(function(m,S){var x=n[m][0]-n[S][0];return x||n[m][1]-n[S][1]});for(var y=[u[0],u[1]],h=[u[0],u[1]],c=2;c<s;++c){for(var b=u[c],f=n[b],o=y.length;o>1&&r(n[y[o-2]],n[y[o-1]],f)<=0;)o-=1,y.pop();for(y.push(b),o=h.length;o>1&&r(n[h[o-2]],n[h[o-1]],f)>=0;)o-=1,h.pop();h.push(b)}for(var d=new Array(h.length+y.length-2),A=0,c=0,M=y.length;c<M;++c)d[A++]=y[c];for(var C=h.length-2;C>0;--C)d[A++]=h[C];return d}},6145:function(v,p,t){v.exports=l;var r=t(4110);function l(n,s){s||(s=n,n=window);var c=0,u=0,y=0,h={shift:!1,alt:!1,control:!1,meta:!1},b=!1;function f(w){var k=!1;return"altKey"in w&&(k=k||w.altKey!==h.alt,h.alt=!!w.altKey),"shiftKey"in w&&(k=k||w.shiftKey!==h.shift,h.shift=!!w.shiftKey),"ctrlKey"in w&&(k=k||w.ctrlKey!==h.control,h.control=!!w.ctrlKey),"metaKey"in w&&(k=k||w.metaKey!==h.meta,h.meta=!!w.metaKey),k}function o(w,k){var I=r.x(k),U=r.y(k);"buttons"in k&&(w=k.buttons|0),(w!==c||I!==u||U!==y||f(k))&&(c=w|0,u=I||0,y=U||0,s&&s(c,u,y,h))}function d(w){o(0,w)}function A(){(c||u||y||h.shift||h.alt||h.meta||h.control)&&(u=y=0,c=0,h.shift=h.alt=h.control=h.meta=!1,s&&s(0,0,0,h))}function M(w){f(w)&&s&&s(c,u,y,h)}function C(w){r.buttons(w)===0?o(0,w):o(c,w)}function m(w){o(c|r.buttons(w),w)}function S(w){o(c&~r.buttons(w),w)}function x(){b||(b=!0,n.addEventListener("mousemove",C),n.addEventListener("mousedown",m),n.addEventListener("mouseup",S),n.addEventListener("mouseleave",d),n.addEventListener("mouseenter",d),n.addEventListener("mouseout",d),n.addEventListener("mouseover",d),n.addEventListener("blur",A),n.addEventListener("keyup",M),n.addEventListener("keydown",M),n.addEventListener("keypress",M),n!==window&&(window.addEventListener("blur",A),window.addEventListener("keyup",M),window.addEventListener("keydown",M),window.addEventListener("keypress",M)))}function a(){b&&(b=!1,n.removeEventListener("mousemove",C),n.removeEventListener("mousedown",m),n.removeEventListener("mouseup",S),n.removeEventListener("mouseleave",d),n.removeEventListener("mouseenter",d),n.removeEventListener("mouseout",d),n.removeEventListener("mouseover",d),n.removeEventListener("blur",A),n.removeEventListener("keyup",M),n.removeEventListener("keydown",M),n.removeEventListener("keypress",M),n!==window&&(window.removeEventListener("blur",A),window.removeEventListener("keyup",M),window.removeEventListener("keydown",M),window.removeEventListener("keypress",M)))}x();var E={element:n};return Object.defineProperties(E,{enabled:{get:function(){return b},set:function(w){w?x():a()},enumerable:!0},buttons:{get:function(){return c},enumerable:!0},x:{get:function(){return u},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return h},enumerable:!0}}),E}},2565:function(v){var p={left:0,top:0};v.exports=t;function t(l,n,s){n=n||l.currentTarget||l.srcElement,Array.isArray(s)||(s=[0,0]);var c=l.clientX||0,u=l.clientY||0,y=r(n);return s[0]=c-y.left,s[1]=u-y.top,s}function r(l){return l===window||l===document||l===document.body?p:l.getBoundingClientRect()}},4110:function(v,p){function t(s){if(typeof s=="object"){if("buttons"in s)return s.buttons;if("which"in s){var c=s.which;if(c===2)return 4;if(c===3)return 2;if(c>0)return 1<<c-1}else if("button"in s){var c=s.button;if(c===1)return 4;if(c===2)return 2;if(c>=0)return 1<<c}}return 0}p.buttons=t;function r(s){return s.target||s.srcElement||window}p.element=r;function l(s){if(typeof s=="object"){if("offsetX"in s)return s.offsetX;var c=r(s),u=c.getBoundingClientRect();return s.clientX-u.left}return 0}p.x=l;function n(s){if(typeof s=="object"){if("offsetY"in s)return s.offsetY;var c=r(s),u=c.getBoundingClientRect();return s.clientY-u.top}return 0}p.y=n},6475:function(v,p,t){var r=t(14);v.exports=l;function l(n,s,c){typeof n=="function"&&(c=!!s,s=n,n=window);var u=r("ex",n),y=function(h){c&&h.preventDefault();var b=h.deltaX||0,f=h.deltaY||0,o=h.deltaZ||0,d=h.deltaMode,A=1;switch(d){case 1:A=u;break;case 2:A=window.innerHeight;break}if(b*=A,f*=A,o*=A,b||f||o)return s(b,f,o,h)};return n.addEventListener("wheel",y),y}},9284:function(v,p,t){var r=t(5306);v.exports=s;var l={"false,0,1":function(u,y,h,b,f){return function(d,A,M,C){var m=d.shape[0]|0,S=d.shape[1]|0,x=d.data,a=d.offset|0,E=d.stride[0]|0,w=d.stride[1]|0,k=a,I,U=-E|0,z=0,N=-w|0,B=0,F=-E-w|0,H=0,X=E|0,q=w-E*m|0,ne=0,oe=0,ve=0,J=2*m|0,Y=b(J),j=b(J),K=0,te=0,se=-1,Q=-1,ee=0,le=-m|0,ie=m|0,he=0,xe=-m-1|0,Se=m-1|0,Ee=0,Ne=0,He=0;for(ne=0;ne<m;++ne)Y[K++]=h(x[k],A,M,C),k+=X;if(k+=q,S>0){if(oe=1,Y[K++]=h(x[k],A,M,C),k+=X,m>0)for(ne=1,I=x[k],te=Y[K]=h(I,A,M,C),ee=Y[K+se],he=Y[K+le],Ee=Y[K+xe],(te!==ee||te!==he||te!==Ee)&&(z=x[k+U],B=x[k+N],H=x[k+F],u(ne,oe,I,z,B,H,te,ee,he,Ee,A,M,C),Ne=j[K]=ve++),K+=1,k+=X,ne=2;ne<m;++ne)I=x[k],te=Y[K]=h(I,A,M,C),ee=Y[K+se],he=Y[K+le],Ee=Y[K+xe],(te!==ee||te!==he||te!==Ee)&&(z=x[k+U],B=x[k+N],H=x[k+F],u(ne,oe,I,z,B,H,te,ee,he,Ee,A,M,C),Ne=j[K]=ve++,Ee!==ee&&y(j[K+se],Ne,H,z,Ee,ee,A,M,C)),K+=1,k+=X;for(k+=q,K=0,He=se,se=Q,Q=He,He=le,le=ie,ie=He,He=xe,xe=Se,Se=He,oe=2;oe<S;++oe){if(Y[K++]=h(x[k],A,M,C),k+=X,m>0)for(ne=1,I=x[k],te=Y[K]=h(I,A,M,C),ee=Y[K+se],he=Y[K+le],Ee=Y[K+xe],(te!==ee||te!==he||te!==Ee)&&(z=x[k+U],B=x[k+N],H=x[k+F],u(ne,oe,I,z,B,H,te,ee,he,Ee,A,M,C),Ne=j[K]=ve++,Ee!==he&&y(j[K+le],Ne,B,H,he,Ee,A,M,C)),K+=1,k+=X,ne=2;ne<m;++ne)I=x[k],te=Y[K]=h(I,A,M,C),ee=Y[K+se],he=Y[K+le],Ee=Y[K+xe],(te!==ee||te!==he||te!==Ee)&&(z=x[k+U],B=x[k+N],H=x[k+F],u(ne,oe,I,z,B,H,te,ee,he,Ee,A,M,C),Ne=j[K]=ve++,Ee!==he&&y(j[K+le],Ne,B,H,he,Ee,A,M,C),Ee!==ee&&y(j[K+se],Ne,H,z,Ee,ee,A,M,C)),K+=1,k+=X;oe&1&&(K=0),He=se,se=Q,Q=He,He=le,le=ie,ie=He,He=xe,xe=Se,Se=He,k+=q}}f(j),f(Y)}},"false,1,0":function(u,y,h,b,f){return function(d,A,M,C){var m=d.shape[0]|0,S=d.shape[1]|0,x=d.data,a=d.offset|0,E=d.stride[0]|0,w=d.stride[1]|0,k=a,I,U=-E|0,z=0,N=-w|0,B=0,F=-E-w|0,H=0,X=w|0,q=E-w*S|0,ne=0,oe=0,ve=0,J=2*S|0,Y=b(J),j=b(J),K=0,te=0,se=-1,Q=-1,ee=0,le=-S|0,ie=S|0,he=0,xe=-S-1|0,Se=S-1|0,Ee=0,Ne=0,He=0;for(oe=0;oe<S;++oe)Y[K++]=h(x[k],A,M,C),k+=X;if(k+=q,m>0){if(ne=1,Y[K++]=h(x[k],A,M,C),k+=X,S>0)for(oe=1,I=x[k],te=Y[K]=h(I,A,M,C),he=Y[K+le],ee=Y[K+se],Ee=Y[K+xe],(te!==he||te!==ee||te!==Ee)&&(z=x[k+U],B=x[k+N],H=x[k+F],u(ne,oe,I,z,B,H,te,he,ee,Ee,A,M,C),Ne=j[K]=ve++),K+=1,k+=X,oe=2;oe<S;++oe)I=x[k],te=Y[K]=h(I,A,M,C),he=Y[K+le],ee=Y[K+se],Ee=Y[K+xe],(te!==he||te!==ee||te!==Ee)&&(z=x[k+U],B=x[k+N],H=x[k+F],u(ne,oe,I,z,B,H,te,he,ee,Ee,A,M,C),Ne=j[K]=ve++,Ee!==ee&&y(j[K+se],Ne,B,H,ee,Ee,A,M,C)),K+=1,k+=X;for(k+=q,K=0,He=le,le=ie,ie=He,He=se,se=Q,Q=He,He=xe,xe=Se,Se=He,ne=2;ne<m;++ne){if(Y[K++]=h(x[k],A,M,C),k+=X,S>0)for(oe=1,I=x[k],te=Y[K]=h(I,A,M,C),he=Y[K+le],ee=Y[K+se],Ee=Y[K+xe],(te!==he||te!==ee||te!==Ee)&&(z=x[k+U],B=x[k+N],H=x[k+F],u(ne,oe,I,z,B,H,te,he,ee,Ee,A,M,C),Ne=j[K]=ve++,Ee!==he&&y(j[K+le],Ne,H,z,Ee,he,A,M,C)),K+=1,k+=X,oe=2;oe<S;++oe)I=x[k],te=Y[K]=h(I,A,M,C),he=Y[K+le],ee=Y[K+se],Ee=Y[K+xe],(te!==he||te!==ee||te!==Ee)&&(z=x[k+U],B=x[k+N],H=x[k+F],u(ne,oe,I,z,B,H,te,he,ee,Ee,A,M,C),Ne=j[K]=ve++,Ee!==ee&&y(j[K+se],Ne,B,H,ee,Ee,A,M,C),Ee!==he&&y(j[K+le],Ne,H,z,Ee,he,A,M,C)),K+=1,k+=X;ne&1&&(K=0),He=le,le=ie,ie=He,He=se,se=Q,Q=He,He=xe,xe=Se,Se=He,k+=q}}f(j),f(Y)}}};function n(c,u,y,h,b,f){var o=[f,b].join(","),d=l[o];return d(c,u,y,r.mallocUint32,r.freeUint32)}function s(c){function u(A){throw new Error("ndarray-extract-contour: "+A)}typeof c!="object"&&u("Must specify arguments");var y=c.order;Array.isArray(y)||u("Must specify order");var h=c.arrayArguments||1;h<1&&u("Must have at least one array argument");var b=c.scalarArguments||0;b<0&&u("Scalar arg count must be > 0"),typeof c.vertex!="function"&&u("Must specify vertex creation function"),typeof c.cell!="function"&&u("Must specify cell creation function"),typeof c.phase!="function"&&u("Must specify phase function");for(var f=c.getters||[],o=new Array(h),d=0;d<h;++d)f.indexOf(d)>=0?o[d]=!0:o[d]=!1;return n(c.vertex,c.cell,c.phase,b,y,o)}},9144:function(v,p,t){var r=t(3094),l={zero:function(M,C,m,S){var x=M[0],a=m[0];S|=0;var E=0,w=a;for(E=0;E<x;++E)C[S]=0,S+=w},fdTemplate1:function(M,C,m,S,x,a,E){var w=M[0],k=m[0],I=a[0],U=-1*k,z=k;S|=0,E|=0;var N=0,B=k,F=I;for(N=0;N<w;++N)x[E]=.5*(C[S+U]-C[S+z]),S+=B,E+=F},fdTemplate2:function(M,C,m,S,x,a,E,w,k,I){var U=M[0],z=M[1],N=m[0],B=m[1],F=a[0],H=a[1],X=k[0],q=k[1],ne=-1*N,oe=N,ve=-1*B,J=B;S|=0,E|=0,I|=0;var Y=0,j=0,K=B,te=N-z*B,se=H,Q=F-z*H,ee=q,le=X-z*q;for(j=0;j<U;++j){for(Y=0;Y<z;++Y)x[E]=.5*(C[S+ne]-C[S+oe]),w[I]=.5*(C[S+ve]-C[S+J]),S+=K,E+=se,I+=ee;S+=te,E+=Q,I+=le}}},n={cdiff:function(M){var C={};return function(S,x,a){var E=S.dtype,w=S.order,k=x.dtype,I=x.order,U=a.dtype,z=a.order,N=[E,w.join(),k,I.join(),U,z.join()].join(),B=C[N];return B||(C[N]=B=M([E,w,k,I,U,z])),B(S.shape.slice(0),S.data,S.stride,S.offset|0,x.data,x.stride,x.offset|0,a.data,a.stride,a.offset|0)}},zero:function(M){var C={};return function(S){var x=S.dtype,a=S.order,E=[x,a.join()].join(),w=C[E];return w||(C[E]=w=M([x,a])),w(S.shape.slice(0),S.data,S.stride,S.offset|0)}},fdTemplate1:function(M){var C={};return function(S,x){var a=S.dtype,E=S.order,w=x.dtype,k=x.order,I=[a,E.join(),w,k.join()].join(),U=C[I];return U||(C[I]=U=M([a,E,w,k])),U(S.shape.slice(0),S.data,S.stride,S.offset|0,x.data,x.stride,x.offset|0)}},fdTemplate2:function(M){var C={};return function(S,x,a){var E=S.dtype,w=S.order,k=x.dtype,I=x.order,U=a.dtype,z=a.order,N=[E,w.join(),k,I.join(),U,z.join()].join(),B=C[N];return B||(C[N]=B=M([E,w,k,I,U,z])),B(S.shape.slice(0),S.data,S.stride,S.offset|0,x.data,x.stride,x.offset|0,a.data,a.stride,a.offset|0)}}};function s(M){var C=n[M.funcName];return C(c.bind(void 0,M))}function c(M){return l[M.funcName]}function u(M){return s({funcName:M.funcName})}var y={},h={},b=u({funcName:"cdiff"}),f=u({funcName:"zero"});function o(M){return M in y?y[M]:y[M]=u({funcName:"fdTemplate"+M})}function d(M,C,m,S){return function(x,a){var E=a.shape.slice();return E[0]>2&&E[1]>2&&S(a.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),x.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),x.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(m(a.pick(0,-1).lo(1).hi(E[1]-2),x.pick(0,-1,1).lo(1).hi(E[1]-2)),C(x.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(m(a.pick(E[0]-1,-1).lo(1).hi(E[1]-2),x.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),C(x.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(m(a.pick(-1,0).lo(1).hi(E[0]-2),x.pick(-1,0,0).lo(1).hi(E[0]-2)),C(x.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(m(a.pick(-1,E[1]-1).lo(1).hi(E[0]-2),x.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),C(x.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),x.set(0,0,0,0),x.set(0,0,1,0),x.set(E[0]-1,0,0,0),x.set(E[0]-1,0,1,0),x.set(0,E[1]-1,0,0),x.set(0,E[1]-1,1,0),x.set(E[0]-1,E[1]-1,0,0),x.set(E[0]-1,E[1]-1,1,0),x}}function A(M){var C=M.join(),E=h[C];if(E)return E;for(var m=M.length,S=[b,f],x=1;x<=m;++x)S.push(o(x));var a=d,E=a.apply(void 0,S);return h[C]=E,E}v.exports=function(C,m,S){if(Array.isArray(S)||(typeof S=="string"?S=r(m.dimension,S):S=r(m.dimension,"clamp")),m.size===0)return C;if(m.dimension===0)return C.set(0),C;var x=A(S);return x(C,m)}},3581:function(v){function p(s,c){var u=Math.floor(c),y=c-u,h=0<=u&&u<s.shape[0],b=0<=u+1&&u+1<s.shape[0],f=h?+s.get(u):0,o=b?+s.get(u+1):0;return(1-y)*f+y*o}function t(s,c,u){var y=Math.floor(c),h=c-y,b=0<=y&&y<s.shape[0],f=0<=y+1&&y+1<s.shape[0],o=Math.floor(u),d=u-o,A=0<=o&&o<s.shape[1],M=0<=o+1&&o+1<s.shape[1],C=b&&A?s.get(y,o):0,m=b&&M?s.get(y,o+1):0,S=f&&A?s.get(y+1,o):0,x=f&&M?s.get(y+1,o+1):0;return(1-d)*((1-h)*C+h*S)+d*((1-h)*m+h*x)}function r(s,c,u,y){var h=Math.floor(c),b=c-h,f=0<=h&&h<s.shape[0],o=0<=h+1&&h+1<s.shape[0],d=Math.floor(u),A=u-d,M=0<=d&&d<s.shape[1],C=0<=d+1&&d+1<s.shape[1],m=Math.floor(y),S=y-m,x=0<=m&&m<s.shape[2],a=0<=m+1&&m+1<s.shape[2],E=f&&M&&x?s.get(h,d,m):0,w=f&&C&&x?s.get(h,d+1,m):0,k=o&&M&&x?s.get(h+1,d,m):0,I=o&&C&&x?s.get(h+1,d+1,m):0,U=f&&M&&a?s.get(h,d,m+1):0,z=f&&C&&a?s.get(h,d+1,m+1):0,N=o&&M&&a?s.get(h+1,d,m+1):0,B=o&&C&&a?s.get(h+1,d+1,m+1):0;return(1-S)*((1-A)*((1-b)*E+b*k)+A*((1-b)*w+b*I))+S*((1-A)*((1-b)*U+b*N)+A*((1-b)*z+b*B))}function l(s){var c=s.shape.length|0,u=new Array(c),y=new Array(c),h=new Array(c),b=new Array(c),f,o;for(f=0;f<c;++f)o=+arguments[f+1],u[f]=Math.floor(o),y[f]=o-u[f],h[f]=0<=u[f]&&u[f]<s.shape[f],b[f]=0<=u[f]+1&&u[f]+1<s.shape[f];var d=0,A,M,C;e:for(f=0;f<1<<c;++f){for(M=1,C=s.offset,A=0;A<c;++A)if(f&1<<A){if(!b[A])continue e;M*=y[A],C+=s.stride[A]*(u[A]+1)}else{if(!h[A])continue e;M*=1-y[A],C+=s.stride[A]*u[A]}d+=M*s.data[C]}return d}function n(s,c,u,y){switch(s.shape.length){case 0:return 0;case 1:return p(s,c);case 2:return t(s,c,u);case 3:return r(s,c,u,y);default:return l.apply(void 0,arguments)}}v.exports=n,v.exports.d1=p,v.exports.d2=t,v.exports.d3=r},7498:function(v,p){var t={"float64,2,1,0":function(){return function(h,b,f,o,d){var A=h[0],M=h[1],C=h[2],m=f[0],S=f[1],x=f[2];o|=0;var a=0,E=0,w=0,k=x,I=S-C*x,U=m-M*S;for(w=0;w<A;++w){for(E=0;E<M;++E){for(a=0;a<C;++a)b[o]/=d,o+=k;o+=I}o+=U}}},"uint8,2,0,1,float64,2,1,0":function(){return function(h,b,f,o,d,A,M,C){var m=h[0],S=h[1],x=h[2],a=f[0],E=f[1],w=f[2],k=A[0],I=A[1],U=A[2];o|=0,M|=0;for(var z=o,N=M,B=h[0]|0;B>0;){B<64?(m=B,B=0):(m=64,B-=64);for(var F=h[1]|0;F>0;){F<64?(S=F,F=0):(S=64,F-=64),o=z+B*a+F*E,M=N+B*k+F*I;var H=0,X=0,q=0,ne=w,oe=a-x*w,ve=E-m*a,J=U,Y=k-x*U,j=I-m*k;for(q=0;q<S;++q){for(X=0;X<m;++X){for(H=0;H<x;++H)b[o]=d[M]*C,o+=ne,M+=J;o+=oe,M+=Y}o+=ve,M+=j}}}}},"float32,1,0,float32,1,0":function(){return function(h,b,f,o,d,A,M){var C=h[0],m=h[1],S=f[0],x=f[1],a=A[0],E=A[1];o|=0,M|=0;var w=0,k=0,I=x,U=S-m*x,z=E,N=a-m*E;for(k=0;k<C;++k){for(w=0;w<m;++w)b[o]=d[M],o+=I,M+=z;o+=U,M+=N}}},"float32,1,0,float32,0,1":function(){return function(h,b,f,o,d,A,M){var C=h[0],m=h[1],S=f[0],x=f[1],a=A[0],E=A[1];o|=0,M|=0;for(var w=o,k=M,I=h[1]|0;I>0;){I<64?(m=I,I=0):(m=64,I-=64);for(var U=h[0]|0;U>0;){U<64?(C=U,U=0):(C=64,U-=64),o=w+I*x+U*S,M=k+I*E+U*a;var z=0,N=0,B=x,F=S-m*x,H=E,X=a-m*E;for(N=0;N<C;++N){for(z=0;z<m;++z)b[o]=d[M],o+=B,M+=H;o+=F,M+=X}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(h,b,f,o,d,A,M){var C=h[0],m=h[1],S=h[2],x=f[0],a=f[1],E=f[2],w=A[0],k=A[1],I=A[2];o|=0,M|=0;for(var U=o,z=M,N=h[2]|0;N>0;){N<64?(S=N,N=0):(S=64,N-=64);for(var B=h[0]|0;B>0;){B<64?(C=B,B=0):(C=64,B-=64);for(var F=h[1]|0;F>0;){F<64?(m=F,F=0):(m=64,F-=64),o=U+N*E+B*x+F*a,M=z+N*I+B*w+F*k;var H=0,X=0,q=0,ne=E,oe=x-S*E,ve=a-C*x,J=I,Y=w-S*I,j=k-C*w;for(q=0;q<m;++q){for(X=0;X<C;++X){for(H=0;H<S;++H)b[o]=d[M],o+=ne,M+=J;o+=oe,M+=Y}o+=ve,M+=j}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(h,b,f,o,d,A,M){var C=h[0],m=h[1],S=h[2],x=f[0],a=f[1],E=f[2],w=A[0],k=A[1],I=A[2];o|=0,M|=0;var U=0,z=0,N=0,B=E,F=x-S*E,H=a-C*x,X=I,q=w-S*I,ne=k-C*w;for(N=0;N<m;++N){for(z=0;z<C;++z){for(U=0;U<S;++U)b[o]=d[M],o+=B,M+=X;o+=F,M+=q}o+=H,M+=ne}}}};function r(y,h){var b=h.join(","),f=t[b];return f()}var l=r,n={mul:function(y){var h={};return function(f,o,d){var A=f.dtype,M=f.order,C=o.dtype,m=o.order,S=d.dtype,x=d.order,a=[A,M.join(),C,m.join(),S,x.join()].join(),E=h[a];return E||(h[a]=E=y([A,M,C,m,S,x])),E(f.shape.slice(0),f.data,f.stride,f.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},muls:function(y){var h={};return function(f,o,d){var A=f.dtype,M=f.order,C=o.dtype,m=o.order,S=[A,M.join(),C,m.join()].join(),x=h[S];return x||(h[S]=x=y([A,M,C,m])),x(f.shape.slice(0),f.data,f.stride,f.offset|0,o.data,o.stride,o.offset|0,d)}},mulseq:function(y){var h={};return function(f,o){var d=f.dtype,A=f.order,M=[d,A.join()].join(),C=h[M];return C||(h[M]=C=y([d,A])),C(f.shape.slice(0),f.data,f.stride,f.offset|0,o)}},div:function(y){var h={};return function(f,o,d){var A=f.dtype,M=f.order,C=o.dtype,m=o.order,S=d.dtype,x=d.order,a=[A,M.join(),C,m.join(),S,x.join()].join(),E=h[a];return E||(h[a]=E=y([A,M,C,m,S,x])),E(f.shape.slice(0),f.data,f.stride,f.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},divs:function(y){var h={};return function(f,o,d){var A=f.dtype,M=f.order,C=o.dtype,m=o.order,S=[A,M.join(),C,m.join()].join(),x=h[S];return x||(h[S]=x=y([A,M,C,m])),x(f.shape.slice(0),f.data,f.stride,f.offset|0,o.data,o.stride,o.offset|0,d)}},divseq:function(y){var h={};return function(f,o){var d=f.dtype,A=f.order,M=[d,A.join()].join(),C=h[M];return C||(h[M]=C=y([d,A])),C(f.shape.slice(0),f.data,f.stride,f.offset|0,o)}},assign:function(y){var h={};return function(f,o){var d=f.dtype,A=f.order,M=o.dtype,C=o.order,m=[d,A.join(),M,C.join()].join(),S=h[m];return S||(h[m]=S=y([d,A,M,C])),S(f.shape.slice(0),f.data,f.stride,f.offset|0,o.data,o.stride,o.offset|0)}}};function s(y){var h=n[y.funcName];return h(l.bind(void 0,y))}function c(y){return s({funcName:y.funcName})}var u={mul:"*",div:"/"};(function(){for(var y in u)p[y]=c({funcName:y}),p[y+"s"]=c({funcName:y+"s"}),p[y+"seq"]=c({funcName:y+"seq"})})(),p.assign=c({funcName:"assign"})},7382:function(v,p,t){var r=t(5050),l=t(9262);v.exports=function(s,c){for(var u=[],y=s,h=1;Array.isArray(y);)u.push(y.length),h*=y.length,y=y[0];return u.length===0?r():(c||(c=r(new Float64Array(h),u)),l(c,s),c)}},9262:function(v){function p(){return function(c,u,y,h,b){var f=c[0],o=c[1],d=c[2],A=y[0],M=y[1],C=y[2],m=[0,0,0];h|=0;var S=0,x=0,a=0,E=C,w=M-d*C,k=A-o*M;for(a=0;a<f;++a){for(x=0;x<o;++x){for(S=0;S<d;++S){{var I=b,U;for(U=0;U<m.length-1;++U)I=I[m[U]];u[h]=I[m[m.length-1]]}h+=E,++m[2]}h+=w,m[2]-=d,++m[1]}h+=k,m[1]-=o,++m[0]}}}function t(){return p()}var r=t;function l(c){var u={};return function(h,b){var f=h.dtype,o=h.order,d=[f,o.join()].join(),A=u[d];return A||(u[d]=A=c([f,o])),A(h.shape.slice(0),h.data,h.stride,h.offset|0,b)}}function n(c){return l(r.bind(void 0,c))}function s(c){return n({funcName:c.funcName})}v.exports=s({funcName:"convert"})},8139:function(v,p,t){var r=t(5306);function l(b){switch(b){case"uint32":return[r.mallocUint32,r.freeUint32];default:return null}}var n={"uint32,1,0":function(b,f){return function(d,A,M,C,m,S,x,a,E,w,k){var I,U,z,N=d*m+C,B,F=b(a),H,X,q,ne;for(I=d+1;I<=A;++I){for(U=I,N+=m,z=N,H=0,X=N,B=0;B<a;++B)F[H++]=M[X],X+=E;e:for(;U-- >d;){H=0,X=z-m;t:for(B=0;B<a;++B){if(q=M[X],ne=F[H],q<ne)break e;if(q>ne)break t;X+=w,H+=k}for(H=z,X=z-m,B=0;B<a;++B)M[H]=M[X],H+=E,X+=E;z-=m}for(H=z,X=0,B=0;B<a;++B)M[H]=F[X++],H+=E}f(F)}}};function s(b,f){var o=l(f),d=[f,b].join(","),A=n[d];return o?A(o[0],o[1]):A()}var c={"uint32,1,0":function(b,f,o){return function d(A,M,C,m,S,x,a,E,w,k,I){var U=(M-A+1)/6|0,z=A+U,N=M-U,B=A+M>>1,F=B-U,H=B+U,X=z,q=F,ne=B,oe=H,ve=N,J=A+1,Y=M-1,j=!0,K,te,se,Q,ee,le,ie,he,xe,Se=0,Ee=0,Ne=0,He,Ce,be,we,ke,Fe,Pe,Ge,nt,qe,Ke,$e,vt,yt,mt,Et,Xe=E,Ue=f(Xe),Be=f(Xe);Ce=S*X,be=S*q,Et=m;e:for(He=0;He<E;++He){if(ie=Ce+Et,he=be+Et,Ne=C[ie]-C[he],Ne>0){te=X,X=q,q=te;break e}if(Ne<0)break e;Et+=k}Ce=S*oe,be=S*ve,Et=m;e:for(He=0;He<E;++He){if(ie=Ce+Et,he=be+Et,Ne=C[ie]-C[he],Ne>0){te=oe,oe=ve,ve=te;break e}if(Ne<0)break e;Et+=k}Ce=S*X,be=S*ne,Et=m;e:for(He=0;He<E;++He){if(ie=Ce+Et,he=be+Et,Ne=C[ie]-C[he],Ne>0){te=X,X=ne,ne=te;break e}if(Ne<0)break e;Et+=k}Ce=S*q,be=S*ne,Et=m;e:for(He=0;He<E;++He){if(ie=Ce+Et,he=be+Et,Ne=C[ie]-C[he],Ne>0){te=q,q=ne,ne=te;break e}if(Ne<0)break e;Et+=k}Ce=S*X,be=S*oe,Et=m;e:for(He=0;He<E;++He){if(ie=Ce+Et,he=be+Et,Ne=C[ie]-C[he],Ne>0){te=X,X=oe,oe=te;break e}if(Ne<0)break e;Et+=k}Ce=S*ne,be=S*oe,Et=m;e:for(He=0;He<E;++He){if(ie=Ce+Et,he=be+Et,Ne=C[ie]-C[he],Ne>0){te=ne,ne=oe,oe=te;break e}if(Ne<0)break e;Et+=k}Ce=S*q,be=S*ve,Et=m;e:for(He=0;He<E;++He){if(ie=Ce+Et,he=be+Et,Ne=C[ie]-C[he],Ne>0){te=q,q=ve,ve=te;break e}if(Ne<0)break e;Et+=k}Ce=S*q,be=S*ne,Et=m;e:for(He=0;He<E;++He){if(ie=Ce+Et,he=be+Et,Ne=C[ie]-C[he],Ne>0){te=q,q=ne,ne=te;break e}if(Ne<0)break e;Et+=k}Ce=S*oe,be=S*ve,Et=m;e:for(He=0;He<E;++He){if(ie=Ce+Et,he=be+Et,Ne=C[ie]-C[he],Ne>0){te=oe,oe=ve,ve=te;break e}if(Ne<0)break e;Et+=k}for(Ce=S*X,be=S*q,we=S*ne,ke=S*oe,Fe=S*ve,Pe=S*z,Ge=S*B,nt=S*N,mt=0,Et=m,He=0;He<E;++He)ie=Ce+Et,he=be+Et,xe=we+Et,qe=ke+Et,Ke=Fe+Et,$e=Pe+Et,vt=Ge+Et,yt=nt+Et,Ue[mt]=C[he],Be[mt]=C[qe],j=j&&Ue[mt]===Be[mt],se=C[ie],Q=C[xe],ee=C[Ke],C[$e]=se,C[vt]=Q,C[yt]=ee,++mt,Et+=w;for(Ce=S*F,be=S*A,Et=m,He=0;He<E;++He)ie=Ce+Et,he=be+Et,C[ie]=C[he],Et+=w;for(Ce=S*H,be=S*M,Et=m,He=0;He<E;++He)ie=Ce+Et,he=be+Et,C[ie]=C[he],Et+=w;if(j)for(le=J;le<=Y;++le){ie=m+le*S,mt=0;e:for(He=0;He<E;++He){if(Ne=C[ie]-Ue[mt],Ne!==0)break e;mt+=I,ie+=k}if(Ne!==0)if(Ne<0){if(le!==J)for(Ce=S*le,be=S*J,Et=m,He=0;He<E;++He)ie=Ce+Et,he=be+Et,K=C[ie],C[ie]=C[he],C[he]=K,Et+=w;++J}else for(;;){ie=m+Y*S,mt=0;e:for(He=0;He<E;++He){if(Ne=C[ie]-Ue[mt],Ne!==0)break e;mt+=I,ie+=k}if(Ne>0)Y--;else if(Ne<0){for(Ce=S*le,be=S*J,we=S*Y,Et=m,He=0;He<E;++He)ie=Ce+Et,he=be+Et,xe=we+Et,K=C[ie],C[ie]=C[he],C[he]=C[xe],C[xe]=K,Et+=w;++J,--Y;break}else{for(Ce=S*le,be=S*Y,Et=m,He=0;He<E;++He)ie=Ce+Et,he=be+Et,K=C[ie],C[ie]=C[he],C[he]=K,Et+=w;--Y;break}}}else for(le=J;le<=Y;++le){ie=m+le*S,mt=0;e:for(He=0;He<E;++He){if(Se=C[ie]-Ue[mt],Se!==0)break e;mt+=I,ie+=k}if(Se<0){if(le!==J)for(Ce=S*le,be=S*J,Et=m,He=0;He<E;++He)ie=Ce+Et,he=be+Et,K=C[ie],C[ie]=C[he],C[he]=K,Et+=w;++J}else{ie=m+le*S,mt=0;e:for(He=0;He<E;++He){if(Ee=C[ie]-Be[mt],Ee!==0)break e;mt+=I,ie+=k}if(Ee>0)for(;;){ie=m+Y*S,mt=0;e:for(He=0;He<E;++He){if(Ne=C[ie]-Be[mt],Ne!==0)break e;mt+=I,ie+=k}if(Ne>0){if(--Y<le)break;continue}else{ie=m+Y*S,mt=0;e:for(He=0;He<E;++He){if(Ne=C[ie]-Ue[mt],Ne!==0)break e;mt+=I,ie+=k}if(Ne<0){for(Ce=S*le,be=S*J,we=S*Y,Et=m,He=0;He<E;++He)ie=Ce+Et,he=be+Et,xe=we+Et,K=C[ie],C[ie]=C[he],C[he]=C[xe],C[xe]=K,Et+=w;++J,--Y}else{for(Ce=S*le,be=S*Y,Et=m,He=0;He<E;++He)ie=Ce+Et,he=be+Et,K=C[ie],C[ie]=C[he],C[he]=K,Et+=w;--Y}break}}}}for(Ce=S*A,be=S*(J-1),mt=0,Et=m,He=0;He<E;++He)ie=Ce+Et,he=be+Et,C[ie]=C[he],C[he]=Ue[mt],++mt,Et+=w;for(Ce=S*M,be=S*(Y+1),mt=0,Et=m,He=0;He<E;++He)ie=Ce+Et,he=be+Et,C[ie]=C[he],C[he]=Be[mt],++mt,Et+=w;if(J-2-A<=32?b(A,J-2,C,m,S,x,a,E,w,k,I):d(A,J-2,C,m,S,x,a,E,w,k,I),M-(Y+2)<=32?b(Y+2,M,C,m,S,x,a,E,w,k,I):d(Y+2,M,C,m,S,x,a,E,w,k,I),j){o(Ue),o(Be);return}if(J<z&&Y>N){e:for(;;){for(ie=m+J*S,mt=0,Et=m,He=0;He<E;++He){if(C[ie]!==Ue[mt])break e;++mt,ie+=w}++J}e:for(;;){for(ie=m+Y*S,mt=0,Et=m,He=0;He<E;++He){if(C[ie]!==Be[mt])break e;++mt,ie+=w}--Y}for(le=J;le<=Y;++le){ie=m+le*S,mt=0;e:for(He=0;He<E;++He){if(Se=C[ie]-Ue[mt],Se!==0)break e;mt+=I,ie+=k}if(Se===0){if(le!==J)for(Ce=S*le,be=S*J,Et=m,He=0;He<E;++He)ie=Ce+Et,he=be+Et,K=C[ie],C[ie]=C[he],C[he]=K,Et+=w;++J}else{ie=m+le*S,mt=0;e:for(He=0;He<E;++He){if(Ee=C[ie]-Be[mt],Ee!==0)break e;mt+=I,ie+=k}if(Ee===0)for(;;){ie=m+Y*S,mt=0;e:for(He=0;He<E;++He){if(Ne=C[ie]-Be[mt],Ne!==0)break e;mt+=I,ie+=k}if(Ne===0){if(--Y<le)break;continue}else{ie=m+Y*S,mt=0;e:for(He=0;He<E;++He){if(Ne=C[ie]-Ue[mt],Ne!==0)break e;mt+=I,ie+=k}if(Ne<0){for(Ce=S*le,be=S*J,we=S*Y,Et=m,He=0;He<E;++He)ie=Ce+Et,he=be+Et,xe=we+Et,K=C[ie],C[ie]=C[he],C[he]=C[xe],C[xe]=K,Et+=w;++J,--Y}else{for(Ce=S*le,be=S*Y,Et=m,He=0;He<E;++He)ie=Ce+Et,he=be+Et,K=C[ie],C[ie]=C[he],C[he]=K,Et+=w;--Y}break}}}}}o(Ue),o(Be),Y-J<=32?b(J,Y,C,m,S,x,a,E,w,k,I):d(J,Y,C,m,S,x,a,E,w,k,I)}}};function u(b,f,o){var d=l(f),A=[f,b].join(","),M=c[A];return b.length>1&&d?M(o,d[0],d[1]):M(o)}var y={"uint32,1,0":function(b,f){return function(o){var d=o.data,A=o.offset|0,M=o.shape,C=o.stride,m=C[0]|0,S=M[0]|0,x=C[1]|0,a=M[1]|0,E=x,w=x,k=1;S<=32?b(0,S-1,d,A,m,x,S,a,E,w,k):f(0,S-1,d,A,m,x,S,a,E,w,k)}}};function h(b,f){var o=[f,b].join(","),d=y[o],A=s(b,f),M=u(b,f,A);return d(A,M)}v.exports=h},8729:function(v,p,t){var r=t(8139),l={};function n(s){var c=s.order,u=s.dtype,y=[c,u],h=y.join(":"),b=l[h];return b||(l[h]=b=r(c,u)),b(s),s}v.exports=n},5050:function(v,p,t){var r=t(4780),l=typeof Float64Array<"u";function n(f,o){return f[0]-o[0]}function s(){var f=this.stride,o=new Array(f.length),d;for(d=0;d<o.length;++d)o[d]=[Math.abs(f[d]),d];o.sort(n);var A=new Array(o.length);for(d=0;d<A.length;++d)A[d]=o[d][1];return A}var c={T:function(f){function o(A){this.data=A}var d=o.prototype;return d.dtype=f,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new o(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(M){return new o(M)}},0:function(f,o){function d(M,C){this.data=M,this.offset=C}var A=d.prototype;return A.dtype=f,A.index=function(){return this.offset},A.dimension=0,A.size=1,A.shape=A.stride=A.order=[],A.lo=A.hi=A.transpose=A.step=function(){return new d(this.data,this.offset)},A.pick=function(){return o(this.data)},A.valueOf=A.get=function(){return f==="generic"?this.data.get(this.offset):this.data[this.offset]},A.set=function(C){return f==="generic"?this.data.set(this.offset,C):this.data[this.offset]=C},function(C,m,S,x){return new d(C,x)}},1:function(f,o,d){function A(C,m,S,x){this.data=C,this.shape=[m],this.stride=[S],this.offset=x|0}var M=A.prototype;return M.dtype=f,M.dimension=1,Object.defineProperty(M,"size",{get:function(){return this.shape[0]}}),M.order=[0],M.set=function(m,S){return f==="generic"?this.data.set(this.offset+this.stride[0]*m,S):this.data[this.offset+this.stride[0]*m]=S},M.get=function(m){return f==="generic"?this.data.get(this.offset+this.stride[0]*m):this.data[this.offset+this.stride[0]*m]},M.index=function(m){return this.offset+this.stride[0]*m},M.hi=function(m){return new A(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,this.stride[0],this.offset)},M.lo=function(m){var S=this.offset,x=0,a=this.shape[0],E=this.stride[0];return typeof m=="number"&&m>=0&&(x=m|0,S+=E*x,a-=x),new A(this.data,a,E,S)},M.step=function(m){var S=this.shape[0],x=this.stride[0],a=this.offset,E=0,w=Math.ceil;return typeof m=="number"&&(E=m|0,E<0?(a+=x*(S-1),S=w(-S/E)):S=w(S/E),x*=E),new A(this.data,S,x,a)},M.transpose=function(m){m=m===void 0?0:m|0;var S=this.shape,x=this.stride;return new A(this.data,S[m],x[m],this.offset)},M.pick=function(m){var S=[],x=[],a=this.offset;typeof m=="number"&&m>=0?a=a+this.stride[0]*m|0:(S.push(this.shape[0]),x.push(this.stride[0]));var E=o[S.length+1];return E(this.data,S,x,a)},function(m,S,x,a){return new A(m,S[0],x[0],a)}},2:function(f,o,d){function A(C,m,S,x,a,E){this.data=C,this.shape=[m,S],this.stride=[x,a],this.offset=E|0}var M=A.prototype;return M.dtype=f,M.dimension=2,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(M,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),M.set=function(m,S,x){return f==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*S,x):this.data[this.offset+this.stride[0]*m+this.stride[1]*S]=x},M.get=function(m,S){return f==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*S):this.data[this.offset+this.stride[0]*m+this.stride[1]*S]},M.index=function(m,S){return this.offset+this.stride[0]*m+this.stride[1]*S},M.hi=function(m,S){return new A(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof S!="number"||S<0?this.shape[1]:S|0,this.stride[0],this.stride[1],this.offset)},M.lo=function(m,S){var x=this.offset,a=0,E=this.shape[0],w=this.shape[1],k=this.stride[0],I=this.stride[1];return typeof m=="number"&&m>=0&&(a=m|0,x+=k*a,E-=a),typeof S=="number"&&S>=0&&(a=S|0,x+=I*a,w-=a),new A(this.data,E,w,k,I,x)},M.step=function(m,S){var x=this.shape[0],a=this.shape[1],E=this.stride[0],w=this.stride[1],k=this.offset,I=0,U=Math.ceil;return typeof m=="number"&&(I=m|0,I<0?(k+=E*(x-1),x=U(-x/I)):x=U(x/I),E*=I),typeof S=="number"&&(I=S|0,I<0?(k+=w*(a-1),a=U(-a/I)):a=U(a/I),w*=I),new A(this.data,x,a,E,w,k)},M.transpose=function(m,S){m=m===void 0?0:m|0,S=S===void 0?1:S|0;var x=this.shape,a=this.stride;return new A(this.data,x[m],x[S],a[m],a[S],this.offset)},M.pick=function(m,S){var x=[],a=[],E=this.offset;typeof m=="number"&&m>=0?E=E+this.stride[0]*m|0:(x.push(this.shape[0]),a.push(this.stride[0])),typeof S=="number"&&S>=0?E=E+this.stride[1]*S|0:(x.push(this.shape[1]),a.push(this.stride[1]));var w=o[x.length+1];return w(this.data,x,a,E)},function(m,S,x,a){return new A(m,S[0],S[1],x[0],x[1],a)}},3:function(f,o,d){function A(C,m,S,x,a,E,w,k){this.data=C,this.shape=[m,S,x],this.stride=[a,E,w],this.offset=k|0}var M=A.prototype;return M.dtype=f,M.dimension=3,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(M,"order",{get:function(){var m=Math.abs(this.stride[0]),S=Math.abs(this.stride[1]),x=Math.abs(this.stride[2]);return m>S?S>x?[2,1,0]:m>x?[1,2,0]:[1,0,2]:m>x?[2,0,1]:x>S?[0,1,2]:[0,2,1]}}),M.set=function(m,S,x,a){return f==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*x,a):this.data[this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*x]=a},M.get=function(m,S,x){return f==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*x):this.data[this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*x]},M.index=function(m,S,x){return this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*x},M.hi=function(m,S,x){return new A(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof x!="number"||x<0?this.shape[2]:x|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},M.lo=function(m,S,x){var a=this.offset,E=0,w=this.shape[0],k=this.shape[1],I=this.shape[2],U=this.stride[0],z=this.stride[1],N=this.stride[2];return typeof m=="number"&&m>=0&&(E=m|0,a+=U*E,w-=E),typeof S=="number"&&S>=0&&(E=S|0,a+=z*E,k-=E),typeof x=="number"&&x>=0&&(E=x|0,a+=N*E,I-=E),new A(this.data,w,k,I,U,z,N,a)},M.step=function(m,S,x){var a=this.shape[0],E=this.shape[1],w=this.shape[2],k=this.stride[0],I=this.stride[1],U=this.stride[2],z=this.offset,N=0,B=Math.ceil;return typeof m=="number"&&(N=m|0,N<0?(z+=k*(a-1),a=B(-a/N)):a=B(a/N),k*=N),typeof S=="number"&&(N=S|0,N<0?(z+=I*(E-1),E=B(-E/N)):E=B(E/N),I*=N),typeof x=="number"&&(N=x|0,N<0?(z+=U*(w-1),w=B(-w/N)):w=B(w/N),U*=N),new A(this.data,a,E,w,k,I,U,z)},M.transpose=function(m,S,x){m=m===void 0?0:m|0,S=S===void 0?1:S|0,x=x===void 0?2:x|0;var a=this.shape,E=this.stride;return new A(this.data,a[m],a[S],a[x],E[m],E[S],E[x],this.offset)},M.pick=function(m,S,x){var a=[],E=[],w=this.offset;typeof m=="number"&&m>=0?w=w+this.stride[0]*m|0:(a.push(this.shape[0]),E.push(this.stride[0])),typeof S=="number"&&S>=0?w=w+this.stride[1]*S|0:(a.push(this.shape[1]),E.push(this.stride[1])),typeof x=="number"&&x>=0?w=w+this.stride[2]*x|0:(a.push(this.shape[2]),E.push(this.stride[2]));var k=o[a.length+1];return k(this.data,a,E,w)},function(m,S,x,a){return new A(m,S[0],S[1],S[2],x[0],x[1],x[2],a)}},4:function(f,o,d){function A(C,m,S,x,a,E,w,k,I,U){this.data=C,this.shape=[m,S,x,a],this.stride=[E,w,k,I],this.offset=U|0}var M=A.prototype;return M.dtype=f,M.dimension=4,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(M,"order",{get:d}),M.set=function(m,S,x,a,E){return f==="generic"?this.data.set(this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*x+this.stride[3]*a,E):this.data[this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*x+this.stride[3]*a]=E},M.get=function(m,S,x,a){return f==="generic"?this.data.get(this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*x+this.stride[3]*a):this.data[this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*x+this.stride[3]*a]},M.index=function(m,S,x,a){return this.offset+this.stride[0]*m+this.stride[1]*S+this.stride[2]*x+this.stride[3]*a},M.hi=function(m,S,x,a){return new A(this.data,typeof m!="number"||m<0?this.shape[0]:m|0,typeof S!="number"||S<0?this.shape[1]:S|0,typeof x!="number"||x<0?this.shape[2]:x|0,typeof a!="number"||a<0?this.shape[3]:a|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},M.lo=function(m,S,x,a){var E=this.offset,w=0,k=this.shape[0],I=this.shape[1],U=this.shape[2],z=this.shape[3],N=this.stride[0],B=this.stride[1],F=this.stride[2],H=this.stride[3];return typeof m=="number"&&m>=0&&(w=m|0,E+=N*w,k-=w),typeof S=="number"&&S>=0&&(w=S|0,E+=B*w,I-=w),typeof x=="number"&&x>=0&&(w=x|0,E+=F*w,U-=w),typeof a=="number"&&a>=0&&(w=a|0,E+=H*w,z-=w),new A(this.data,k,I,U,z,N,B,F,H,E)},M.step=function(m,S,x,a){var E=this.shape[0],w=this.shape[1],k=this.shape[2],I=this.shape[3],U=this.stride[0],z=this.stride[1],N=this.stride[2],B=this.stride[3],F=this.offset,H=0,X=Math.ceil;return typeof m=="number"&&(H=m|0,H<0?(F+=U*(E-1),E=X(-E/H)):E=X(E/H),U*=H),typeof S=="number"&&(H=S|0,H<0?(F+=z*(w-1),w=X(-w/H)):w=X(w/H),z*=H),typeof x=="number"&&(H=x|0,H<0?(F+=N*(k-1),k=X(-k/H)):k=X(k/H),N*=H),typeof a=="number"&&(H=a|0,H<0?(F+=B*(I-1),I=X(-I/H)):I=X(I/H),B*=H),new A(this.data,E,w,k,I,U,z,N,B,F)},M.transpose=function(m,S,x,a){m=m===void 0?0:m|0,S=S===void 0?1:S|0,x=x===void 0?2:x|0,a=a===void 0?3:a|0;var E=this.shape,w=this.stride;return new A(this.data,E[m],E[S],E[x],E[a],w[m],w[S],w[x],w[a],this.offset)},M.pick=function(m,S,x,a){var E=[],w=[],k=this.offset;typeof m=="number"&&m>=0?k=k+this.stride[0]*m|0:(E.push(this.shape[0]),w.push(this.stride[0])),typeof S=="number"&&S>=0?k=k+this.stride[1]*S|0:(E.push(this.shape[1]),w.push(this.stride[1])),typeof x=="number"&&x>=0?k=k+this.stride[2]*x|0:(E.push(this.shape[2]),w.push(this.stride[2])),typeof a=="number"&&a>=0?k=k+this.stride[3]*a|0:(E.push(this.shape[3]),w.push(this.stride[3]));var I=o[E.length+1];return I(this.data,E,w,k)},function(m,S,x,a){return new A(m,S[0],S[1],S[2],S[3],x[0],x[1],x[2],x[3],a)}},5:function(o,d,A){function M(m,S,x,a,E,w,k,I,U,z,N,B){this.data=m,this.shape=[S,x,a,E,w],this.stride=[k,I,U,z,N],this.offset=B|0}var C=M.prototype;return C.dtype=o,C.dimension=5,Object.defineProperty(C,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(C,"order",{get:A}),C.set=function(S,x,a,E,w,k){return o==="generic"?this.data.set(this.offset+this.stride[0]*S+this.stride[1]*x+this.stride[2]*a+this.stride[3]*E+this.stride[4]*w,k):this.data[this.offset+this.stride[0]*S+this.stride[1]*x+this.stride[2]*a+this.stride[3]*E+this.stride[4]*w]=k},C.get=function(S,x,a,E,w){return o==="generic"?this.data.get(this.offset+this.stride[0]*S+this.stride[1]*x+this.stride[2]*a+this.stride[3]*E+this.stride[4]*w):this.data[this.offset+this.stride[0]*S+this.stride[1]*x+this.stride[2]*a+this.stride[3]*E+this.stride[4]*w]},C.index=function(S,x,a,E,w){return this.offset+this.stride[0]*S+this.stride[1]*x+this.stride[2]*a+this.stride[3]*E+this.stride[4]*w},C.hi=function(S,x,a,E,w){return new M(this.data,typeof S!="number"||S<0?this.shape[0]:S|0,typeof x!="number"||x<0?this.shape[1]:x|0,typeof a!="number"||a<0?this.shape[2]:a|0,typeof E!="number"||E<0?this.shape[3]:E|0,typeof w!="number"||w<0?this.shape[4]:w|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},C.lo=function(S,x,a,E,w){var k=this.offset,I=0,U=this.shape[0],z=this.shape[1],N=this.shape[2],B=this.shape[3],F=this.shape[4],H=this.stride[0],X=this.stride[1],q=this.stride[2],ne=this.stride[3],oe=this.stride[4];return typeof S=="number"&&S>=0&&(I=S|0,k+=H*I,U-=I),typeof x=="number"&&x>=0&&(I=x|0,k+=X*I,z-=I),typeof a=="number"&&a>=0&&(I=a|0,k+=q*I,N-=I),typeof E=="number"&&E>=0&&(I=E|0,k+=ne*I,B-=I),typeof w=="number"&&w>=0&&(I=w|0,k+=oe*I,F-=I),new M(this.data,U,z,N,B,F,H,X,q,ne,oe,k)},C.step=function(S,x,a,E,w){var k=this.shape[0],I=this.shape[1],U=this.shape[2],z=this.shape[3],N=this.shape[4],B=this.stride[0],F=this.stride[1],H=this.stride[2],X=this.stride[3],q=this.stride[4],ne=this.offset,oe=0,ve=Math.ceil;return typeof S=="number"&&(oe=S|0,oe<0?(ne+=B*(k-1),k=ve(-k/oe)):k=ve(k/oe),B*=oe),typeof x=="number"&&(oe=x|0,oe<0?(ne+=F*(I-1),I=ve(-I/oe)):I=ve(I/oe),F*=oe),typeof a=="number"&&(oe=a|0,oe<0?(ne+=H*(U-1),U=ve(-U/oe)):U=ve(U/oe),H*=oe),typeof E=="number"&&(oe=E|0,oe<0?(ne+=X*(z-1),z=ve(-z/oe)):z=ve(z/oe),X*=oe),typeof w=="number"&&(oe=w|0,oe<0?(ne+=q*(N-1),N=ve(-N/oe)):N=ve(N/oe),q*=oe),new M(this.data,k,I,U,z,N,B,F,H,X,q,ne)},C.transpose=function(S,x,a,E,w){S=S===void 0?0:S|0,x=x===void 0?1:x|0,a=a===void 0?2:a|0,E=E===void 0?3:E|0,w=w===void 0?4:w|0;var k=this.shape,I=this.stride;return new M(this.data,k[S],k[x],k[a],k[E],k[w],I[S],I[x],I[a],I[E],I[w],this.offset)},C.pick=function(S,x,a,E,w){var k=[],I=[],U=this.offset;typeof S=="number"&&S>=0?U=U+this.stride[0]*S|0:(k.push(this.shape[0]),I.push(this.stride[0])),typeof x=="number"&&x>=0?U=U+this.stride[1]*x|0:(k.push(this.shape[1]),I.push(this.stride[1])),typeof a=="number"&&a>=0?U=U+this.stride[2]*a|0:(k.push(this.shape[2]),I.push(this.stride[2])),typeof E=="number"&&E>=0?U=U+this.stride[3]*E|0:(k.push(this.shape[3]),I.push(this.stride[3])),typeof w=="number"&&w>=0?U=U+this.stride[4]*w|0:(k.push(this.shape[4]),I.push(this.stride[4]));var z=d[k.length+1];return z(this.data,k,I,U)},function(S,x,a,E){return new M(S,x[0],x[1],x[2],x[3],x[4],a[0],a[1],a[2],a[3],a[4],E)}}};function u(f,o){var d=o===-1?"T":String(o),A=c[d];return o===-1?A(f):o===0?A(f,h[f][0]):A(f,h[f],s)}function y(f){if(r(f))return"buffer";if(l)switch(Object.prototype.toString.call(f)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(f)?"array":"generic"}var h={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function b(f,o,d,A){if(f===void 0){var a=h.array[0];return a([])}else typeof f=="number"&&(f=[f]);o===void 0&&(o=[f.length]);var M=o.length;if(d===void 0){d=new Array(M);for(var C=M-1,m=1;C>=0;--C)d[C]=m,m*=o[C]}if(A===void 0){A=0;for(var C=0;C<M;++C)d[C]<0&&(A-=(o[C]-1)*d[C])}for(var S=y(f),x=h[S];x.length<=M+1;)x.push(u(S,x.length-1));var a=x[M+1];return a(f,o,d,A)}v.exports=b},8551:function(v,p,t){var r=t(8362),l=Math.pow(2,-1074),n=-1>>>0;v.exports=s;function s(c,u){if(isNaN(c)||isNaN(u))return NaN;if(c===u)return c;if(c===0)return u<0?-l:l;var y=r.hi(c),h=r.lo(c);return u>c==c>0?h===n?(y+=1,h=0):h+=1:h===0?(h=n,y-=1):h-=1,r.pack(h,y)}},115:function(v,p){var t=1e-6,r=1e-6;p.vertexNormals=function(l,n,s){for(var c=n.length,u=new Array(c),y=s===void 0?t:s,h=0;h<c;++h)u[h]=[0,0,0];for(var h=0;h<l.length;++h)for(var b=l[h],f=0,o=b[b.length-1],d=b[0],A=0;A<b.length;++A){f=o,o=d,d=b[(A+1)%b.length];for(var M=n[f],C=n[o],m=n[d],S=new Array(3),x=0,a=new Array(3),E=0,w=0;w<3;++w)S[w]=M[w]-C[w],x+=S[w]*S[w],a[w]=m[w]-C[w],E+=a[w]*a[w];if(x*E>y)for(var k=u[o],I=1/Math.sqrt(x*E),w=0;w<3;++w){var U=(w+1)%3,z=(w+2)%3;k[w]+=I*(a[U]*S[z]-a[z]*S[U])}}for(var h=0;h<c;++h){for(var k=u[h],N=0,w=0;w<3;++w)N+=k[w]*k[w];if(N>y)for(var I=1/Math.sqrt(N),w=0;w<3;++w)k[w]*=I;else for(var w=0;w<3;++w)k[w]=0}return u},p.faceNormals=function(l,n,s){for(var c=l.length,u=new Array(c),y=s===void 0?r:s,h=0;h<c;++h){for(var b=l[h],f=new Array(3),o=0;o<3;++o)f[o]=n[b[o]];for(var d=new Array(3),A=new Array(3),o=0;o<3;++o)d[o]=f[1][o]-f[0][o],A[o]=f[2][o]-f[0][o];for(var M=new Array(3),C=0,o=0;o<3;++o){var m=(o+1)%3,S=(o+2)%3;M[o]=d[m]*A[S]-d[S]*A[m],C+=M[o]*M[o]}C>y?C=1/Math.sqrt(C):C=0;for(var o=0;o<3;++o)M[o]*=C;u[h]=M}return u}},567:function(v){v.exports=p;function p(t,r,l,n,s,c,u,y,h,b){var f=r+c+b;if(o>0){var o=Math.sqrt(f+1);t[0]=.5*(u-h)/o,t[1]=.5*(y-n)/o,t[2]=.5*(l-c)/o,t[3]=.5*o}else{var d=Math.max(r,c,b),o=Math.sqrt(2*d-f+1);r>=d?(t[0]=.5*o,t[1]=.5*(s+l)/o,t[2]=.5*(y+n)/o,t[3]=.5*(u-h)/o):c>=d?(t[0]=.5*(l+s)/o,t[1]=.5*o,t[2]=.5*(h+u)/o,t[3]=.5*(y-n)/o):(t[0]=.5*(n+y)/o,t[1]=.5*(u+h)/o,t[2]=.5*o,t[3]=.5*(l-s)/o)}return t}},7774:function(v,p,t){v.exports=o;var r=t(8444),l=t(3012),n=t(5950),s=t(7437),c=t(567);function u(d,A,M){return Math.sqrt(Math.pow(d,2)+Math.pow(A,2)+Math.pow(M,2))}function y(d,A,M,C){return Math.sqrt(Math.pow(d,2)+Math.pow(A,2)+Math.pow(M,2)+Math.pow(C,2))}function h(d,A){var M=A[0],C=A[1],m=A[2],S=A[3],x=y(M,C,m,S);x>1e-6?(d[0]=M/x,d[1]=C/x,d[2]=m/x,d[3]=S/x):(d[0]=d[1]=d[2]=0,d[3]=1)}function b(d,A,M){this.radius=r([M]),this.center=r(A),this.rotation=r(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var f=b.prototype;f.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},f.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var A=this.computedRotation;h(A,A);var M=this.computedMatrix;n(M,A);var C=this.computedCenter,m=this.computedEye,S=this.computedUp,x=Math.exp(this.computedRadius[0]);m[0]=C[0]+x*M[2],m[1]=C[1]+x*M[6],m[2]=C[2]+x*M[10],S[0]=M[1],S[1]=M[5],S[2]=M[9];for(var a=0;a<3;++a){for(var E=0,w=0;w<3;++w)E+=M[a+4*w]*m[w];M[12+a]=-E}},f.getMatrix=function(d,A){this.recalcMatrix(d);var M=this.computedMatrix;if(A){for(var C=0;C<16;++C)A[C]=M[C];return A}return M},f.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},f.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},f.pan=function(d,A,M,C){A=A||0,M=M||0,C=C||0,this.recalcMatrix(d);var m=this.computedMatrix,S=m[1],x=m[5],a=m[9],E=u(S,x,a);S/=E,x/=E,a/=E;var w=m[0],k=m[4],I=m[8],U=w*S+k*x+I*a;w-=S*U,k-=x*U,I-=a*U;var z=u(w,k,I);w/=z,k/=z,I/=z,m[2],m[6],m[10];var N=w*A+S*M,B=k*A+x*M,F=I*A+a*M;this.center.move(d,N,B,F);var H=Math.exp(this.computedRadius[0]);H=Math.max(1e-4,H+C),this.radius.set(d,Math.log(H))},f.rotate=function(d,A,M,C){this.recalcMatrix(d),A=A||0,M=M||0;var m=this.computedMatrix,S=m[0],x=m[4],a=m[8],E=m[1],w=m[5],k=m[9],I=m[2],U=m[6],z=m[10],N=A*S+M*E,B=A*x+M*w,F=A*a+M*k,H=-(U*F-z*B),X=-(z*N-I*F),q=-(I*B-U*N),ne=Math.sqrt(Math.max(0,1-Math.pow(H,2)-Math.pow(X,2)-Math.pow(q,2))),oe=y(H,X,q,ne);oe>1e-6?(H/=oe,X/=oe,q/=oe,ne/=oe):(H=X=q=0,ne=1);var ve=this.computedRotation,J=ve[0],Y=ve[1],j=ve[2],K=ve[3],te=J*ne+K*H+Y*q-j*X,se=Y*ne+K*X+j*H-J*q,Q=j*ne+K*q+J*X-Y*H,ee=K*ne-J*H-Y*X-j*q;if(C){H=I,X=U,q=z;var le=Math.sin(C)/u(H,X,q);H*=le,X*=le,q*=le,ne=Math.cos(A),te=te*ne+ee*H+se*q-Q*X,se=se*ne+ee*X+Q*H-te*q,Q=Q*ne+ee*q+te*X-se*H,ee=ee*ne-te*H-se*X-Q*q}var ie=y(te,se,Q,ee);ie>1e-6?(te/=ie,se/=ie,Q/=ie,ee/=ie):(te=se=Q=0,ee=1),this.rotation.set(d,te,se,Q,ee)},f.lookAt=function(d,A,M,C){this.recalcMatrix(d),M=M||this.computedCenter,A=A||this.computedEye,C=C||this.computedUp;var m=this.computedMatrix;l(m,A,M,C);var S=this.computedRotation;c(S,m[0],m[1],m[2],m[4],m[5],m[6],m[8],m[9],m[10]),h(S,S),this.rotation.set(d,S[0],S[1],S[2],S[3]);for(var x=0,a=0;a<3;++a)x+=Math.pow(M[a]-A[a],2);this.radius.set(d,.5*Math.log(Math.max(x,1e-6))),this.center.set(d,M[0],M[1],M[2])},f.translate=function(d,A,M,C){this.center.move(d,A||0,M||0,C||0)},f.setMatrix=function(d,A){var M=this.computedRotation;c(M,A[0],A[1],A[2],A[4],A[5],A[6],A[8],A[9],A[10]),h(M,M),this.rotation.set(d,M[0],M[1],M[2],M[3]);var C=this.computedMatrix;s(C,A);var m=C[15];if(Math.abs(m)>1e-6){var S=C[12]/m,x=C[13]/m,a=C[14]/m;this.recalcMatrix(d);var E=Math.exp(this.computedRadius[0]);this.center.set(d,S-C[2]*E,x-C[6]*E,a-C[10]*E),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},f.setDistance=function(d,A){A>0&&this.radius.set(d,Math.log(A))},f.setDistanceLimits=function(d,A){d>0?d=Math.log(d):d=-1/0,A>0?A=Math.log(A):A=1/0,A=Math.max(A,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=A},f.getDistanceLimits=function(d){var A=this.radius.bounds;return d?(d[0]=Math.exp(A[0][0]),d[1]=Math.exp(A[1][0]),d):[Math.exp(A[0][0]),Math.exp(A[1][0])]},f.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},f.fromJSON=function(d){var A=this.lastT(),M=d.center;M&&this.center.set(A,M[0],M[1],M[2]);var C=d.rotation;C&&this.rotation.set(A,C[0],C[1],C[2],C[3]);var m=d.distance;m&&m>0&&this.radius.set(A,Math.log(m)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function o(d){d=d||{};var A=d.center||[0,0,0],M=d.rotation||[0,0,0,1],C=d.radius||1;A=[].slice.call(A,0,3),M=[].slice.call(M,0,4),h(M,M);var m=new b(M,A,Math.log(C));return m.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&m.lookAt(0,d.eye,d.center,d.up),m}},4930:function(v,p,t){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var r=t(6184);v.exports=function(n,s,c){return c=typeof c<"u"?c+"":" ",r(c,s)+n}},4405:function(v){v.exports=function(t,r){r||(r=[0,""]),t=String(t);var l=parseFloat(t,10);return r[0]=l,r[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},4166:function(v,p,t){v.exports=l;var r=t(9398);function l(n,s){for(var c=s.length|0,u=n.length,y=[new Array(c),new Array(c)],h=0;h<c;++h)y[0][h]=[],y[1][h]=[];for(var h=0;h<u;++h){var b=n[h];y[0][b[0]].push(b),y[1][b[1]].push(b)}for(var f=[],h=0;h<c;++h)y[0][h].length+y[1][h].length===0&&f.push([h]);function o(x,a){var E=y[a][x[a]];E.splice(E.indexOf(x),1)}function d(x,a,E){for(var w,k,I,U=0;U<2;++U)if(y[U][a].length>0){w=y[U][a][0],I=U;break}k=w[I^1];for(var z=0;z<2;++z)for(var N=y[z][a],B=0;B<N.length;++B){var F=N[B],H=F[z^1],X=r(s[x],s[a],s[k],s[H]);X>0&&(w=F,k=H,I=z)}return E||w&&o(w,I),k}function A(x,a){var E=y[a][x][0],w=[x];o(E,a);for(var k=E[a^1];;){for(;k!==x;)w.push(k),k=d(w[w.length-2],k,!1);if(y[0][x].length+y[1][x].length===0)break;var I=w[w.length-1],U=x,z=w[1],N=d(I,U,!0);if(r(s[I],s[U],s[z],s[N])<0)break;w.push(x),k=d(I,U)}return w}function M(x,a){return a[1]===a[a.length-1]}for(var h=0;h<c;++h)for(var C=0;C<2;++C){for(var m=[];y[C][h].length>0;){y[0][h].length;var S=A(h,C);M(m,S)?m.push.apply(m,S):(m.length>0&&f.push(m),m=S)}m.length>0&&f.push(m)}return f}},3959:function(v,p,t){v.exports=l;var r=t(8348);function l(n,s){for(var c=r(n,s.length),u=new Array(s.length),y=new Array(s.length),h=[],b=0;b<s.length;++b){var f=c[b].length;y[b]=f,u[b]=!0,f<=1&&h.push(b)}for(;h.length>0;){var o=h.pop();u[o]=!1;for(var d=c[o],b=0;b<d.length;++b){var A=d[b];--y[A]===0&&h.push(A)}}for(var M=new Array(s.length),C=[],b=0;b<s.length;++b)if(u[b]){var o=C.length;M[b]=o,C.push(s[b])}else M[b]=-1;for(var m=[],b=0;b<n.length;++b){var S=n[b];u[S[0]]&&u[S[1]]&&m.push([M[S[0]],M[S[1]]])}return[m,C]}},8040:function(v,p,t){v.exports=f;var r=t(8348),l=t(4166),n=t(211),s=t(9660),c=t(9662),u=t(1215),y=t(3959);function h(o,d){for(var A=new Array(o),M=0;M<o;++M)A[M]=d;return A}function b(o){for(var d=new Array(o),A=0;A<o;++A)d[A]=[];return d}function f(o,d){var ee=y(o,d);o=ee[0],d=ee[1];var A=d.length;o.length;for(var M=r(o,d.length),C=0;C<A;++C)if(M[C].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var m=l(o,d);function S(Ne){for(var He=Ne.length,Ce=[0],be=0;be<He;++be){var we=d[Ne[be]],ke=d[Ne[(be+1)%He]],Fe=s(-we[0],we[1]),Pe=s(-we[0],ke[1]),Ge=s(ke[0],we[1]),nt=s(ke[0],ke[1]);Ce=c(Ce,c(c(Fe,Pe),c(Ge,nt)))}return Ce[Ce.length-1]>0}m=m.filter(S);for(var x=m.length,a=new Array(x),E=new Array(x),C=0;C<x;++C){a[C]=C;var w=new Array(x),k=m[C].map(function(He){return d[He]}),I=n([k]),U=0;e:for(var z=0;z<x;++z)if(w[z]=0,C!==z){for(var N=m[z],B=N.length,F=0;F<B;++F){var H=I(d[N[F]]);if(H!==0){H<0&&(w[z]=1,U+=1);continue e}}w[z]=1,U+=1}E[C]=[U,C,w]}E.sort(function(Ne,He){return He[0]-Ne[0]});for(var C=0;C<x;++C)for(var w=E[C],X=w[1],q=w[2],z=0;z<x;++z)q[z]&&(a[z]=X);for(var ne=b(x),C=0;C<x;++C)ne[C].push(a[C]),ne[a[C]].push(C);for(var oe={},ve=h(A,!1),C=0;C<x;++C)for(var N=m[C],B=N.length,z=0;z<B;++z){var J=N[z],Y=N[(z+1)%B],j=Math.min(J,Y)+":"+Math.max(J,Y);if(j in oe){var K=oe[j];ne[K].push(C),ne[C].push(K),ve[J]=ve[Y]=!0}else oe[j]=C}function te(Ne){for(var He=Ne.length,Ce=0;Ce<He;++Ce)if(!ve[Ne[Ce]])return!1;return!0}for(var se=[],Q=h(x,-1),C=0;C<x;++C)a[C]===C&&!te(m[C])?(se.push(C),Q[C]=0):Q[C]=-1;for(var ee=[];se.length>0;){var le=se.pop(),ie=ne[le];u(ie,function(Ne,He){return Ne-He});var he=ie.length,xe=Q[le],Se;if(xe===0){var N=m[le];Se=[N]}for(var C=0;C<he;++C){var Ee=ie[C];if(!(Q[Ee]>=0)&&(Q[Ee]=xe^1,se.push(Ee),xe===0)){var N=m[Ee];te(N)||(N.reverse(),Se.push(N))}}xe===0&&ee.push(Se)}return ee}},211:function(v,p,t){v.exports=d;var r=t(417)[3],l=t(4385),n=t(9014),s=t(5070);function c(){return!0}function u(A){return function(M,C){var m=A[M];return m?!!m.queryPoint(C,c):!1}}function y(A){for(var M={},C=0;C<A.length;++C){var m=A[C],S=m[0][0],x=m[0][1],a=m[1][1],E=[Math.min(x,a),Math.max(x,a)];S in M?M[S].push(E):M[S]=[E]}for(var w={},k=Object.keys(M),C=0;C<k.length;++C){var I=M[k[C]];w[k[C]]=n(I)}return u(w)}function h(A,M){return function(C){var m=s.le(M,C[0]);if(m<0)return 1;var S=A[m];if(!S)if(m>0&&M[m]===C[0])S=A[m-1];else return 1;for(var x=1;S;){var a=S.key,E=r(C,a[0],a[1]);if(a[0][0]<a[1][0])if(E<0)S=S.left;else if(E>0)x=-1,S=S.right;else return 0;else if(E>0)S=S.left;else if(E<0)x=1,S=S.right;else return 0}return x}}function b(A){return 1}function f(A){return function(C){return A(C[0],C[1])?0:1}}function o(A,M){return function(m){return A(m[0],m[1])?0:M(m)}}function d(A){for(var M=A.length,C=[],m=[],S=0;S<M;++S)for(var x=A[S],a=x.length,E=a-1,w=0;w<a;E=w++){var k=x[E],I=x[w];k[0]===I[0]?m.push([k,I]):C.push([k,I])}if(C.length===0)return m.length===0?b:f(y(m));var U=l(C),z=h(U.slabs,U.coordinates);return m.length===0?z:o(y(m),z)}},7309:function(v){var p=new Float64Array(4),t=new Float64Array(4),r=new Float64Array(4);function l(n,s,c,u,y){p.length<u.length&&(p=new Float64Array(u.length),t=new Float64Array(u.length),r=new Float64Array(u.length));for(var h=0;h<u.length;++h)p[h]=n[h]-u[h],t[h]=s[h]-n[h],r[h]=c[h]-n[h];for(var b=0,f=0,o=0,d=0,A=0,M=0,h=0;h<u.length;++h){var C=t[h],m=r[h],S=p[h];b+=C*C,f+=C*m,o+=m*m,d+=S*C,A+=S*m,M+=S*S}var x=Math.abs(b*o-f*f),a=f*A-o*d,E=f*d-b*A,w;if(a+E<=x)if(a<0)E<0&&d<0?(E=0,-d>=b?(a=1,w=b+2*d+M):(a=-d/b,w=d*a+M)):(a=0,A>=0?(E=0,w=M):-A>=o?(E=1,w=o+2*A+M):(E=-A/o,w=A*E+M));else if(E<0)E=0,d>=0?(a=0,w=M):-d>=b?(a=1,w=b+2*d+M):(a=-d/b,w=d*a+M);else{var k=1/x;a*=k,E*=k,w=a*(b*a+f*E+2*d)+E*(f*a+o*E+2*A)+M}else{var I,U,z,N;a<0?(I=f+d,U=o+A,U>I?(z=U-I,N=b-2*f+o,z>=N?(a=1,E=0,w=b+2*d+M):(a=z/N,E=1-a,w=a*(b*a+f*E+2*d)+E*(f*a+o*E+2*A)+M)):(a=0,U<=0?(E=1,w=o+2*A+M):A>=0?(E=0,w=M):(E=-A/o,w=A*E+M))):E<0?(I=f+A,U=b+d,U>I?(z=U-I,N=b-2*f+o,z>=N?(E=1,a=0,w=o+2*A+M):(E=z/N,a=1-E,w=a*(b*a+f*E+2*d)+E*(f*a+o*E+2*A)+M)):(E=0,U<=0?(a=1,w=b+2*d+M):d>=0?(a=0,w=M):(a=-d/b,w=d*a+M))):(z=o+A-f-d,z<=0?(a=0,E=1,w=o+2*A+M):(N=b-2*f+o,z>=N?(a=1,E=0,w=b+2*d+M):(a=z/N,E=1-a,w=a*(b*a+f*E+2*d)+E*(f*a+o*E+2*A)+M)))}for(var B=1-a-E,h=0;h<u.length;++h)y[h]=B*n[h]+a*s[h]+E*c[h];return w<0?0:w}v.exports=l},1116:function(v,p,t){v.exports=t(6093)},7584:function(v,p,t){var r=t(1539);v.exports=l;function l(n,s){for(var c=n.length,u=new Array(c),y=0;y<c;++y)u[y]=r(n[y],s[y]);return u}},2826:function(v,p,t){v.exports=l;var r=t(5125);function l(n){for(var s=new Array(n.length),c=0;c<n.length;++c)s[c]=r(n[c]);return s}},4469:function(v,p,t){var r=t(5125),l=t(3962);v.exports=n;function n(s,c){for(var u=r(c),y=s.length,h=new Array(y),b=0;b<y;++b)h[b]=l(s[b],u);return h}},6695:function(v,p,t){var r=t(4354);v.exports=l;function l(n,s){for(var c=n.length,u=new Array(c),y=0;y<c;++y)u[y]=r(n[y],s[y]);return u}},7037:function(v,p,t){var r=t(9209),l=t(1284),n=t(9887);v.exports=s;function s(c){c.sort(l);for(var u=c.length,y=0,h=0;h<u;++h){var b=c[h],f=n(b);if(f!==0){if(y>0){var o=c[y-1];if(r(b,o)===0&&n(o)!==f){y-=1;continue}}c[y++]=b}}return c.length=y,c}},6184:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var p="",t;v.exports=r;function r(l,n){if(typeof l!="string")throw new TypeError("expected a string");if(n===1)return l;if(n===2)return l+l;var s=l.length*n;if(t!==l||typeof t>"u")t=l,p="";else if(p.length>=s)return p.substr(0,s);for(;s>p.length&&n>1;)n&1&&(p+=l),n>>=1,l+=l;return p+=l,p=p.substr(0,s),p}},8161:function(v,p,t){v.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){v.exports=p;function p(t){for(var r=t.length,l=t[t.length-1],n=r,s=r-2;s>=0;--s){var c=l,u=t[s];l=c+u;var y=l-c,h=u-y;h&&(t[--n]=l,l=h)}for(var b=0,s=n;s<r;++s){var c=t[s],u=l;l=c+u;var y=l-c,h=u-y;h&&(t[b++]=h)}return t[b++]=l,t.length=b,t}},8167:function(v,p,t){var r=t(9660),l=t(9662),n=t(8289),s=t(402),c=6;function u(M,C,m,S){return function(a){return S(M(m(a[0][0],a[1][1]),m(-a[0][1],a[1][0])))}}function y(M,C,m,S){return function(a){return S(M(C(M(m(a[1][1],a[2][2]),m(-a[1][2],a[2][1])),a[0][0]),M(C(M(m(a[1][0],a[2][2]),m(-a[1][2],a[2][0])),-a[0][1]),C(M(m(a[1][0],a[2][1]),m(-a[1][1],a[2][0])),a[0][2]))))}}function h(M,C,m,S){return function(a){return S(M(M(C(M(C(M(m(a[2][2],a[3][3]),m(-a[2][3],a[3][2])),a[1][1]),M(C(M(m(a[2][1],a[3][3]),m(-a[2][3],a[3][1])),-a[1][2]),C(M(m(a[2][1],a[3][2]),m(-a[2][2],a[3][1])),a[1][3]))),a[0][0]),C(M(C(M(m(a[2][2],a[3][3]),m(-a[2][3],a[3][2])),a[1][0]),M(C(M(m(a[2][0],a[3][3]),m(-a[2][3],a[3][0])),-a[1][2]),C(M(m(a[2][0],a[3][2]),m(-a[2][2],a[3][0])),a[1][3]))),-a[0][1])),M(C(M(C(M(m(a[2][1],a[3][3]),m(-a[2][3],a[3][1])),a[1][0]),M(C(M(m(a[2][0],a[3][3]),m(-a[2][3],a[3][0])),-a[1][1]),C(M(m(a[2][0],a[3][1]),m(-a[2][1],a[3][0])),a[1][3]))),a[0][2]),C(M(C(M(m(a[2][1],a[3][2]),m(-a[2][2],a[3][1])),a[1][0]),M(C(M(m(a[2][0],a[3][2]),m(-a[2][2],a[3][0])),-a[1][1]),C(M(m(a[2][0],a[3][1]),m(-a[2][1],a[3][0])),a[1][2]))),-a[0][3]))))}}function b(M,C,m,S){return function(a){return S(M(M(C(M(M(C(M(C(M(m(a[3][3],a[4][4]),m(-a[3][4],a[4][3])),a[2][2]),M(C(M(m(a[3][2],a[4][4]),m(-a[3][4],a[4][2])),-a[2][3]),C(M(m(a[3][2],a[4][3]),m(-a[3][3],a[4][2])),a[2][4]))),a[1][1]),C(M(C(M(m(a[3][3],a[4][4]),m(-a[3][4],a[4][3])),a[2][1]),M(C(M(m(a[3][1],a[4][4]),m(-a[3][4],a[4][1])),-a[2][3]),C(M(m(a[3][1],a[4][3]),m(-a[3][3],a[4][1])),a[2][4]))),-a[1][2])),M(C(M(C(M(m(a[3][2],a[4][4]),m(-a[3][4],a[4][2])),a[2][1]),M(C(M(m(a[3][1],a[4][4]),m(-a[3][4],a[4][1])),-a[2][2]),C(M(m(a[3][1],a[4][2]),m(-a[3][2],a[4][1])),a[2][4]))),a[1][3]),C(M(C(M(m(a[3][2],a[4][3]),m(-a[3][3],a[4][2])),a[2][1]),M(C(M(m(a[3][1],a[4][3]),m(-a[3][3],a[4][1])),-a[2][2]),C(M(m(a[3][1],a[4][2]),m(-a[3][2],a[4][1])),a[2][3]))),-a[1][4]))),a[0][0]),C(M(M(C(M(C(M(m(a[3][3],a[4][4]),m(-a[3][4],a[4][3])),a[2][2]),M(C(M(m(a[3][2],a[4][4]),m(-a[3][4],a[4][2])),-a[2][3]),C(M(m(a[3][2],a[4][3]),m(-a[3][3],a[4][2])),a[2][4]))),a[1][0]),C(M(C(M(m(a[3][3],a[4][4]),m(-a[3][4],a[4][3])),a[2][0]),M(C(M(m(a[3][0],a[4][4]),m(-a[3][4],a[4][0])),-a[2][3]),C(M(m(a[3][0],a[4][3]),m(-a[3][3],a[4][0])),a[2][4]))),-a[1][2])),M(C(M(C(M(m(a[3][2],a[4][4]),m(-a[3][4],a[4][2])),a[2][0]),M(C(M(m(a[3][0],a[4][4]),m(-a[3][4],a[4][0])),-a[2][2]),C(M(m(a[3][0],a[4][2]),m(-a[3][2],a[4][0])),a[2][4]))),a[1][3]),C(M(C(M(m(a[3][2],a[4][3]),m(-a[3][3],a[4][2])),a[2][0]),M(C(M(m(a[3][0],a[4][3]),m(-a[3][3],a[4][0])),-a[2][2]),C(M(m(a[3][0],a[4][2]),m(-a[3][2],a[4][0])),a[2][3]))),-a[1][4]))),-a[0][1])),M(C(M(M(C(M(C(M(m(a[3][3],a[4][4]),m(-a[3][4],a[4][3])),a[2][1]),M(C(M(m(a[3][1],a[4][4]),m(-a[3][4],a[4][1])),-a[2][3]),C(M(m(a[3][1],a[4][3]),m(-a[3][3],a[4][1])),a[2][4]))),a[1][0]),C(M(C(M(m(a[3][3],a[4][4]),m(-a[3][4],a[4][3])),a[2][0]),M(C(M(m(a[3][0],a[4][4]),m(-a[3][4],a[4][0])),-a[2][3]),C(M(m(a[3][0],a[4][3]),m(-a[3][3],a[4][0])),a[2][4]))),-a[1][1])),M(C(M(C(M(m(a[3][1],a[4][4]),m(-a[3][4],a[4][1])),a[2][0]),M(C(M(m(a[3][0],a[4][4]),m(-a[3][4],a[4][0])),-a[2][1]),C(M(m(a[3][0],a[4][1]),m(-a[3][1],a[4][0])),a[2][4]))),a[1][3]),C(M(C(M(m(a[3][1],a[4][3]),m(-a[3][3],a[4][1])),a[2][0]),M(C(M(m(a[3][0],a[4][3]),m(-a[3][3],a[4][0])),-a[2][1]),C(M(m(a[3][0],a[4][1]),m(-a[3][1],a[4][0])),a[2][3]))),-a[1][4]))),a[0][2]),M(C(M(M(C(M(C(M(m(a[3][2],a[4][4]),m(-a[3][4],a[4][2])),a[2][1]),M(C(M(m(a[3][1],a[4][4]),m(-a[3][4],a[4][1])),-a[2][2]),C(M(m(a[3][1],a[4][2]),m(-a[3][2],a[4][1])),a[2][4]))),a[1][0]),C(M(C(M(m(a[3][2],a[4][4]),m(-a[3][4],a[4][2])),a[2][0]),M(C(M(m(a[3][0],a[4][4]),m(-a[3][4],a[4][0])),-a[2][2]),C(M(m(a[3][0],a[4][2]),m(-a[3][2],a[4][0])),a[2][4]))),-a[1][1])),M(C(M(C(M(m(a[3][1],a[4][4]),m(-a[3][4],a[4][1])),a[2][0]),M(C(M(m(a[3][0],a[4][4]),m(-a[3][4],a[4][0])),-a[2][1]),C(M(m(a[3][0],a[4][1]),m(-a[3][1],a[4][0])),a[2][4]))),a[1][2]),C(M(C(M(m(a[3][1],a[4][2]),m(-a[3][2],a[4][1])),a[2][0]),M(C(M(m(a[3][0],a[4][2]),m(-a[3][2],a[4][0])),-a[2][1]),C(M(m(a[3][0],a[4][1]),m(-a[3][1],a[4][0])),a[2][2]))),-a[1][4]))),-a[0][3]),C(M(M(C(M(C(M(m(a[3][2],a[4][3]),m(-a[3][3],a[4][2])),a[2][1]),M(C(M(m(a[3][1],a[4][3]),m(-a[3][3],a[4][1])),-a[2][2]),C(M(m(a[3][1],a[4][2]),m(-a[3][2],a[4][1])),a[2][3]))),a[1][0]),C(M(C(M(m(a[3][2],a[4][3]),m(-a[3][3],a[4][2])),a[2][0]),M(C(M(m(a[3][0],a[4][3]),m(-a[3][3],a[4][0])),-a[2][2]),C(M(m(a[3][0],a[4][2]),m(-a[3][2],a[4][0])),a[2][3]))),-a[1][1])),M(C(M(C(M(m(a[3][1],a[4][3]),m(-a[3][3],a[4][1])),a[2][0]),M(C(M(m(a[3][0],a[4][3]),m(-a[3][3],a[4][0])),-a[2][1]),C(M(m(a[3][0],a[4][1]),m(-a[3][1],a[4][0])),a[2][3]))),a[1][2]),C(M(C(M(m(a[3][1],a[4][2]),m(-a[3][2],a[4][1])),a[2][0]),M(C(M(m(a[3][0],a[4][2]),m(-a[3][2],a[4][0])),-a[2][1]),C(M(m(a[3][0],a[4][1]),m(-a[3][1],a[4][0])),a[2][2]))),-a[1][3]))),a[0][4])))))}}function f(M){var C=M===2?u:M===3?y:M===4?h:M===5?b:void 0;return C(l,n,r,s)}var o=[function(){return[0]},function(C){return[C[0][0]]}];function d(M,C,m,S,x,a,E,w){return function(I){switch(I.length){case 0:return M(I);case 1:return C(I);case 2:return m(I);case 3:return S(I);case 4:return x(I);case 5:return a(I)}var U=E[I.length];return U||(U=E[I.length]=w(I.length)),U(I)}}function A(){for(;o.length<c;)o.push(f(o.length));v.exports=d.apply(void 0,o.concat([o,f]));for(var M=0;M<o.length;++M)v.exports[M]=o[M]}A()},9130:function(v,p,t){var r=t(9660),l=t(9662);v.exports=n;function n(s,c){for(var u=r(s[0],c[0]),y=1;y<s.length;++y)u=l(u,r(s[y],c[y]));return u}},2227:function(v,p,t){var r=t(9660),l=t(9662),n=t(4078),s=t(8289),c=6;function u(x){var a=x===3?f:x===4?o:x===5?d:A;return a(l,n,r,s)}function y(){return 0}function h(){return 0}function b(){return 0}function f(x,a,E,w){function k(I,U,z){var N=E(I[0],I[0]),B=w(N,U[0]),F=w(N,z[0]),H=E(U[0],U[0]),X=w(H,I[0]),q=w(H,z[0]),ne=E(z[0],z[0]),oe=w(ne,I[0]),ve=w(ne,U[0]),J=x(a(ve,q),a(X,B)),Y=a(oe,F),j=a(J,Y);return j[j.length-1]}return k}function o(x,a,E,w){function k(I,U,z,N){var B=x(E(I[0],I[0]),E(I[1],I[1])),F=w(B,U[0]),H=w(B,z[0]),X=w(B,N[0]),q=x(E(U[0],U[0]),E(U[1],U[1])),ne=w(q,I[0]),oe=w(q,z[0]),ve=w(q,N[0]),J=x(E(z[0],z[0]),E(z[1],z[1])),Y=w(J,I[0]),j=w(J,U[0]),K=w(J,N[0]),te=x(E(N[0],N[0]),E(N[1],N[1])),se=w(te,I[0]),Q=w(te,U[0]),ee=w(te,z[0]),le=x(x(w(a(ee,K),U[1]),x(w(a(Q,ve),-z[1]),w(a(j,oe),N[1]))),x(w(a(Q,ve),I[1]),x(w(a(se,X),-U[1]),w(a(ne,F),N[1])))),ie=x(x(w(a(ee,K),I[1]),x(w(a(se,X),-z[1]),w(a(Y,H),N[1]))),x(w(a(j,oe),I[1]),x(w(a(Y,H),-U[1]),w(a(ne,F),z[1])))),he=a(le,ie);return he[he.length-1]}return k}function d(x,a,E,w){function k(I,U,z,N,B){var F=x(E(I[0],I[0]),x(E(I[1],I[1]),E(I[2],I[2]))),H=w(F,U[0]),X=w(F,z[0]),q=w(F,N[0]),ne=w(F,B[0]),oe=x(E(U[0],U[0]),x(E(U[1],U[1]),E(U[2],U[2]))),ve=w(oe,I[0]),J=w(oe,z[0]),Y=w(oe,N[0]),j=w(oe,B[0]),K=x(E(z[0],z[0]),x(E(z[1],z[1]),E(z[2],z[2]))),te=w(K,I[0]),se=w(K,U[0]),Q=w(K,N[0]),ee=w(K,B[0]),le=x(E(N[0],N[0]),x(E(N[1],N[1]),E(N[2],N[2]))),ie=w(le,I[0]),he=w(le,U[0]),xe=w(le,z[0]),Se=w(le,B[0]),Ee=x(E(B[0],B[0]),x(E(B[1],B[1]),E(B[2],B[2]))),Ne=w(Ee,I[0]),He=w(Ee,U[0]),Ce=w(Ee,z[0]),be=w(Ee,N[0]),we=x(x(x(w(x(w(a(be,Se),z[1]),x(w(a(Ce,ee),-N[1]),w(a(xe,Q),B[1]))),U[2]),x(w(x(w(a(be,Se),U[1]),x(w(a(He,j),-N[1]),w(a(he,Y),B[1]))),-z[2]),w(x(w(a(Ce,ee),U[1]),x(w(a(He,j),-z[1]),w(a(se,J),B[1]))),N[2]))),x(w(x(w(a(xe,Q),U[1]),x(w(a(he,Y),-z[1]),w(a(se,J),N[1]))),-B[2]),x(w(x(w(a(be,Se),U[1]),x(w(a(He,j),-N[1]),w(a(he,Y),B[1]))),I[2]),w(x(w(a(be,Se),I[1]),x(w(a(Ne,ne),-N[1]),w(a(ie,q),B[1]))),-U[2])))),x(x(w(x(w(a(He,j),I[1]),x(w(a(Ne,ne),-U[1]),w(a(ve,H),B[1]))),N[2]),x(w(x(w(a(he,Y),I[1]),x(w(a(ie,q),-U[1]),w(a(ve,H),N[1]))),-B[2]),w(x(w(a(xe,Q),U[1]),x(w(a(he,Y),-z[1]),w(a(se,J),N[1]))),I[2]))),x(w(x(w(a(xe,Q),I[1]),x(w(a(ie,q),-z[1]),w(a(te,X),N[1]))),-U[2]),x(w(x(w(a(he,Y),I[1]),x(w(a(ie,q),-U[1]),w(a(ve,H),N[1]))),z[2]),w(x(w(a(se,J),I[1]),x(w(a(te,X),-U[1]),w(a(ve,H),z[1]))),-N[2]))))),ke=x(x(x(w(x(w(a(be,Se),z[1]),x(w(a(Ce,ee),-N[1]),w(a(xe,Q),B[1]))),I[2]),w(x(w(a(be,Se),I[1]),x(w(a(Ne,ne),-N[1]),w(a(ie,q),B[1]))),-z[2])),x(w(x(w(a(Ce,ee),I[1]),x(w(a(Ne,ne),-z[1]),w(a(te,X),B[1]))),N[2]),w(x(w(a(xe,Q),I[1]),x(w(a(ie,q),-z[1]),w(a(te,X),N[1]))),-B[2]))),x(x(w(x(w(a(Ce,ee),U[1]),x(w(a(He,j),-z[1]),w(a(se,J),B[1]))),I[2]),w(x(w(a(Ce,ee),I[1]),x(w(a(Ne,ne),-z[1]),w(a(te,X),B[1]))),-U[2])),x(w(x(w(a(He,j),I[1]),x(w(a(Ne,ne),-U[1]),w(a(ve,H),B[1]))),z[2]),w(x(w(a(se,J),I[1]),x(w(a(te,X),-U[1]),w(a(ve,H),z[1]))),-B[2])))),Fe=a(we,ke);return Fe[Fe.length-1]}return k}function A(x,a,E,w){function k(I,U,z,N,B,F){var H=x(x(E(I[0],I[0]),E(I[1],I[1])),x(E(I[2],I[2]),E(I[3],I[3]))),X=w(H,U[0]),q=w(H,z[0]),ne=w(H,N[0]),oe=w(H,B[0]),ve=w(H,F[0]),J=x(x(E(U[0],U[0]),E(U[1],U[1])),x(E(U[2],U[2]),E(U[3],U[3]))),Y=w(J,I[0]),j=w(J,z[0]),K=w(J,N[0]),te=w(J,B[0]),se=w(J,F[0]),Q=x(x(E(z[0],z[0]),E(z[1],z[1])),x(E(z[2],z[2]),E(z[3],z[3]))),ee=w(Q,I[0]),le=w(Q,U[0]),ie=w(Q,N[0]),he=w(Q,B[0]),xe=w(Q,F[0]),Se=x(x(E(N[0],N[0]),E(N[1],N[1])),x(E(N[2],N[2]),E(N[3],N[3]))),Ee=w(Se,I[0]),Ne=w(Se,U[0]),He=w(Se,z[0]),Ce=w(Se,B[0]),be=w(Se,F[0]),we=x(x(E(B[0],B[0]),E(B[1],B[1])),x(E(B[2],B[2]),E(B[3],B[3]))),ke=w(we,I[0]),Fe=w(we,U[0]),Pe=w(we,z[0]),Ge=w(we,N[0]),nt=w(we,F[0]),qe=x(x(E(F[0],F[0]),E(F[1],F[1])),x(E(F[2],F[2]),E(F[3],F[3]))),Ke=w(qe,I[0]),$e=w(qe,U[0]),vt=w(qe,z[0]),yt=w(qe,N[0]),mt=w(qe,B[0]),Et=x(x(x(w(x(x(w(x(w(a(mt,nt),N[1]),x(w(a(yt,be),-B[1]),w(a(Ge,Ce),F[1]))),z[2]),w(x(w(a(mt,nt),z[1]),x(w(a(vt,xe),-B[1]),w(a(Pe,he),F[1]))),-N[2])),x(w(x(w(a(yt,be),z[1]),x(w(a(vt,xe),-N[1]),w(a(He,ie),F[1]))),B[2]),w(x(w(a(Ge,Ce),z[1]),x(w(a(Pe,he),-N[1]),w(a(He,ie),B[1]))),-F[2]))),U[3]),x(w(x(x(w(x(w(a(mt,nt),N[1]),x(w(a(yt,be),-B[1]),w(a(Ge,Ce),F[1]))),U[2]),w(x(w(a(mt,nt),U[1]),x(w(a($e,se),-B[1]),w(a(Fe,te),F[1]))),-N[2])),x(w(x(w(a(yt,be),U[1]),x(w(a($e,se),-N[1]),w(a(Ne,K),F[1]))),B[2]),w(x(w(a(Ge,Ce),U[1]),x(w(a(Fe,te),-N[1]),w(a(Ne,K),B[1]))),-F[2]))),-z[3]),w(x(x(w(x(w(a(mt,nt),z[1]),x(w(a(vt,xe),-B[1]),w(a(Pe,he),F[1]))),U[2]),w(x(w(a(mt,nt),U[1]),x(w(a($e,se),-B[1]),w(a(Fe,te),F[1]))),-z[2])),x(w(x(w(a(vt,xe),U[1]),x(w(a($e,se),-z[1]),w(a(le,j),F[1]))),B[2]),w(x(w(a(Pe,he),U[1]),x(w(a(Fe,te),-z[1]),w(a(le,j),B[1]))),-F[2]))),N[3]))),x(x(w(x(x(w(x(w(a(yt,be),z[1]),x(w(a(vt,xe),-N[1]),w(a(He,ie),F[1]))),U[2]),w(x(w(a(yt,be),U[1]),x(w(a($e,se),-N[1]),w(a(Ne,K),F[1]))),-z[2])),x(w(x(w(a(vt,xe),U[1]),x(w(a($e,se),-z[1]),w(a(le,j),F[1]))),N[2]),w(x(w(a(He,ie),U[1]),x(w(a(Ne,K),-z[1]),w(a(le,j),N[1]))),-F[2]))),-B[3]),w(x(x(w(x(w(a(Ge,Ce),z[1]),x(w(a(Pe,he),-N[1]),w(a(He,ie),B[1]))),U[2]),w(x(w(a(Ge,Ce),U[1]),x(w(a(Fe,te),-N[1]),w(a(Ne,K),B[1]))),-z[2])),x(w(x(w(a(Pe,he),U[1]),x(w(a(Fe,te),-z[1]),w(a(le,j),B[1]))),N[2]),w(x(w(a(He,ie),U[1]),x(w(a(Ne,K),-z[1]),w(a(le,j),N[1]))),-B[2]))),F[3])),x(w(x(x(w(x(w(a(mt,nt),N[1]),x(w(a(yt,be),-B[1]),w(a(Ge,Ce),F[1]))),U[2]),w(x(w(a(mt,nt),U[1]),x(w(a($e,se),-B[1]),w(a(Fe,te),F[1]))),-N[2])),x(w(x(w(a(yt,be),U[1]),x(w(a($e,se),-N[1]),w(a(Ne,K),F[1]))),B[2]),w(x(w(a(Ge,Ce),U[1]),x(w(a(Fe,te),-N[1]),w(a(Ne,K),B[1]))),-F[2]))),I[3]),w(x(x(w(x(w(a(mt,nt),N[1]),x(w(a(yt,be),-B[1]),w(a(Ge,Ce),F[1]))),I[2]),w(x(w(a(mt,nt),I[1]),x(w(a(Ke,ve),-B[1]),w(a(ke,oe),F[1]))),-N[2])),x(w(x(w(a(yt,be),I[1]),x(w(a(Ke,ve),-N[1]),w(a(Ee,ne),F[1]))),B[2]),w(x(w(a(Ge,Ce),I[1]),x(w(a(ke,oe),-N[1]),w(a(Ee,ne),B[1]))),-F[2]))),-U[3])))),x(x(x(w(x(x(w(x(w(a(mt,nt),U[1]),x(w(a($e,se),-B[1]),w(a(Fe,te),F[1]))),I[2]),w(x(w(a(mt,nt),I[1]),x(w(a(Ke,ve),-B[1]),w(a(ke,oe),F[1]))),-U[2])),x(w(x(w(a($e,se),I[1]),x(w(a(Ke,ve),-U[1]),w(a(Y,X),F[1]))),B[2]),w(x(w(a(Fe,te),I[1]),x(w(a(ke,oe),-U[1]),w(a(Y,X),B[1]))),-F[2]))),N[3]),w(x(x(w(x(w(a(yt,be),U[1]),x(w(a($e,se),-N[1]),w(a(Ne,K),F[1]))),I[2]),w(x(w(a(yt,be),I[1]),x(w(a(Ke,ve),-N[1]),w(a(Ee,ne),F[1]))),-U[2])),x(w(x(w(a($e,se),I[1]),x(w(a(Ke,ve),-U[1]),w(a(Y,X),F[1]))),N[2]),w(x(w(a(Ne,K),I[1]),x(w(a(Ee,ne),-U[1]),w(a(Y,X),N[1]))),-F[2]))),-B[3])),x(w(x(x(w(x(w(a(Ge,Ce),U[1]),x(w(a(Fe,te),-N[1]),w(a(Ne,K),B[1]))),I[2]),w(x(w(a(Ge,Ce),I[1]),x(w(a(ke,oe),-N[1]),w(a(Ee,ne),B[1]))),-U[2])),x(w(x(w(a(Fe,te),I[1]),x(w(a(ke,oe),-U[1]),w(a(Y,X),B[1]))),N[2]),w(x(w(a(Ne,K),I[1]),x(w(a(Ee,ne),-U[1]),w(a(Y,X),N[1]))),-B[2]))),F[3]),w(x(x(w(x(w(a(yt,be),z[1]),x(w(a(vt,xe),-N[1]),w(a(He,ie),F[1]))),U[2]),w(x(w(a(yt,be),U[1]),x(w(a($e,se),-N[1]),w(a(Ne,K),F[1]))),-z[2])),x(w(x(w(a(vt,xe),U[1]),x(w(a($e,se),-z[1]),w(a(le,j),F[1]))),N[2]),w(x(w(a(He,ie),U[1]),x(w(a(Ne,K),-z[1]),w(a(le,j),N[1]))),-F[2]))),I[3]))),x(x(w(x(x(w(x(w(a(yt,be),z[1]),x(w(a(vt,xe),-N[1]),w(a(He,ie),F[1]))),I[2]),w(x(w(a(yt,be),I[1]),x(w(a(Ke,ve),-N[1]),w(a(Ee,ne),F[1]))),-z[2])),x(w(x(w(a(vt,xe),I[1]),x(w(a(Ke,ve),-z[1]),w(a(ee,q),F[1]))),N[2]),w(x(w(a(He,ie),I[1]),x(w(a(Ee,ne),-z[1]),w(a(ee,q),N[1]))),-F[2]))),-U[3]),w(x(x(w(x(w(a(yt,be),U[1]),x(w(a($e,se),-N[1]),w(a(Ne,K),F[1]))),I[2]),w(x(w(a(yt,be),I[1]),x(w(a(Ke,ve),-N[1]),w(a(Ee,ne),F[1]))),-U[2])),x(w(x(w(a($e,se),I[1]),x(w(a(Ke,ve),-U[1]),w(a(Y,X),F[1]))),N[2]),w(x(w(a(Ne,K),I[1]),x(w(a(Ee,ne),-U[1]),w(a(Y,X),N[1]))),-F[2]))),z[3])),x(w(x(x(w(x(w(a(vt,xe),U[1]),x(w(a($e,se),-z[1]),w(a(le,j),F[1]))),I[2]),w(x(w(a(vt,xe),I[1]),x(w(a(Ke,ve),-z[1]),w(a(ee,q),F[1]))),-U[2])),x(w(x(w(a($e,se),I[1]),x(w(a(Ke,ve),-U[1]),w(a(Y,X),F[1]))),z[2]),w(x(w(a(le,j),I[1]),x(w(a(ee,q),-U[1]),w(a(Y,X),z[1]))),-F[2]))),-N[3]),w(x(x(w(x(w(a(He,ie),U[1]),x(w(a(Ne,K),-z[1]),w(a(le,j),N[1]))),I[2]),w(x(w(a(He,ie),I[1]),x(w(a(Ee,ne),-z[1]),w(a(ee,q),N[1]))),-U[2])),x(w(x(w(a(Ne,K),I[1]),x(w(a(Ee,ne),-U[1]),w(a(Y,X),N[1]))),z[2]),w(x(w(a(le,j),I[1]),x(w(a(ee,q),-U[1]),w(a(Y,X),z[1]))),-N[2]))),F[3]))))),Xe=x(x(x(w(x(x(w(x(w(a(mt,nt),N[1]),x(w(a(yt,be),-B[1]),w(a(Ge,Ce),F[1]))),z[2]),w(x(w(a(mt,nt),z[1]),x(w(a(vt,xe),-B[1]),w(a(Pe,he),F[1]))),-N[2])),x(w(x(w(a(yt,be),z[1]),x(w(a(vt,xe),-N[1]),w(a(He,ie),F[1]))),B[2]),w(x(w(a(Ge,Ce),z[1]),x(w(a(Pe,he),-N[1]),w(a(He,ie),B[1]))),-F[2]))),I[3]),x(w(x(x(w(x(w(a(mt,nt),N[1]),x(w(a(yt,be),-B[1]),w(a(Ge,Ce),F[1]))),I[2]),w(x(w(a(mt,nt),I[1]),x(w(a(Ke,ve),-B[1]),w(a(ke,oe),F[1]))),-N[2])),x(w(x(w(a(yt,be),I[1]),x(w(a(Ke,ve),-N[1]),w(a(Ee,ne),F[1]))),B[2]),w(x(w(a(Ge,Ce),I[1]),x(w(a(ke,oe),-N[1]),w(a(Ee,ne),B[1]))),-F[2]))),-z[3]),w(x(x(w(x(w(a(mt,nt),z[1]),x(w(a(vt,xe),-B[1]),w(a(Pe,he),F[1]))),I[2]),w(x(w(a(mt,nt),I[1]),x(w(a(Ke,ve),-B[1]),w(a(ke,oe),F[1]))),-z[2])),x(w(x(w(a(vt,xe),I[1]),x(w(a(Ke,ve),-z[1]),w(a(ee,q),F[1]))),B[2]),w(x(w(a(Pe,he),I[1]),x(w(a(ke,oe),-z[1]),w(a(ee,q),B[1]))),-F[2]))),N[3]))),x(x(w(x(x(w(x(w(a(yt,be),z[1]),x(w(a(vt,xe),-N[1]),w(a(He,ie),F[1]))),I[2]),w(x(w(a(yt,be),I[1]),x(w(a(Ke,ve),-N[1]),w(a(Ee,ne),F[1]))),-z[2])),x(w(x(w(a(vt,xe),I[1]),x(w(a(Ke,ve),-z[1]),w(a(ee,q),F[1]))),N[2]),w(x(w(a(He,ie),I[1]),x(w(a(Ee,ne),-z[1]),w(a(ee,q),N[1]))),-F[2]))),-B[3]),w(x(x(w(x(w(a(Ge,Ce),z[1]),x(w(a(Pe,he),-N[1]),w(a(He,ie),B[1]))),I[2]),w(x(w(a(Ge,Ce),I[1]),x(w(a(ke,oe),-N[1]),w(a(Ee,ne),B[1]))),-z[2])),x(w(x(w(a(Pe,he),I[1]),x(w(a(ke,oe),-z[1]),w(a(ee,q),B[1]))),N[2]),w(x(w(a(He,ie),I[1]),x(w(a(Ee,ne),-z[1]),w(a(ee,q),N[1]))),-B[2]))),F[3])),x(w(x(x(w(x(w(a(mt,nt),z[1]),x(w(a(vt,xe),-B[1]),w(a(Pe,he),F[1]))),U[2]),w(x(w(a(mt,nt),U[1]),x(w(a($e,se),-B[1]),w(a(Fe,te),F[1]))),-z[2])),x(w(x(w(a(vt,xe),U[1]),x(w(a($e,se),-z[1]),w(a(le,j),F[1]))),B[2]),w(x(w(a(Pe,he),U[1]),x(w(a(Fe,te),-z[1]),w(a(le,j),B[1]))),-F[2]))),I[3]),w(x(x(w(x(w(a(mt,nt),z[1]),x(w(a(vt,xe),-B[1]),w(a(Pe,he),F[1]))),I[2]),w(x(w(a(mt,nt),I[1]),x(w(a(Ke,ve),-B[1]),w(a(ke,oe),F[1]))),-z[2])),x(w(x(w(a(vt,xe),I[1]),x(w(a(Ke,ve),-z[1]),w(a(ee,q),F[1]))),B[2]),w(x(w(a(Pe,he),I[1]),x(w(a(ke,oe),-z[1]),w(a(ee,q),B[1]))),-F[2]))),-U[3])))),x(x(x(w(x(x(w(x(w(a(mt,nt),U[1]),x(w(a($e,se),-B[1]),w(a(Fe,te),F[1]))),I[2]),w(x(w(a(mt,nt),I[1]),x(w(a(Ke,ve),-B[1]),w(a(ke,oe),F[1]))),-U[2])),x(w(x(w(a($e,se),I[1]),x(w(a(Ke,ve),-U[1]),w(a(Y,X),F[1]))),B[2]),w(x(w(a(Fe,te),I[1]),x(w(a(ke,oe),-U[1]),w(a(Y,X),B[1]))),-F[2]))),z[3]),w(x(x(w(x(w(a(vt,xe),U[1]),x(w(a($e,se),-z[1]),w(a(le,j),F[1]))),I[2]),w(x(w(a(vt,xe),I[1]),x(w(a(Ke,ve),-z[1]),w(a(ee,q),F[1]))),-U[2])),x(w(x(w(a($e,se),I[1]),x(w(a(Ke,ve),-U[1]),w(a(Y,X),F[1]))),z[2]),w(x(w(a(le,j),I[1]),x(w(a(ee,q),-U[1]),w(a(Y,X),z[1]))),-F[2]))),-B[3])),x(w(x(x(w(x(w(a(Pe,he),U[1]),x(w(a(Fe,te),-z[1]),w(a(le,j),B[1]))),I[2]),w(x(w(a(Pe,he),I[1]),x(w(a(ke,oe),-z[1]),w(a(ee,q),B[1]))),-U[2])),x(w(x(w(a(Fe,te),I[1]),x(w(a(ke,oe),-U[1]),w(a(Y,X),B[1]))),z[2]),w(x(w(a(le,j),I[1]),x(w(a(ee,q),-U[1]),w(a(Y,X),z[1]))),-B[2]))),F[3]),w(x(x(w(x(w(a(Ge,Ce),z[1]),x(w(a(Pe,he),-N[1]),w(a(He,ie),B[1]))),U[2]),w(x(w(a(Ge,Ce),U[1]),x(w(a(Fe,te),-N[1]),w(a(Ne,K),B[1]))),-z[2])),x(w(x(w(a(Pe,he),U[1]),x(w(a(Fe,te),-z[1]),w(a(le,j),B[1]))),N[2]),w(x(w(a(He,ie),U[1]),x(w(a(Ne,K),-z[1]),w(a(le,j),N[1]))),-B[2]))),I[3]))),x(x(w(x(x(w(x(w(a(Ge,Ce),z[1]),x(w(a(Pe,he),-N[1]),w(a(He,ie),B[1]))),I[2]),w(x(w(a(Ge,Ce),I[1]),x(w(a(ke,oe),-N[1]),w(a(Ee,ne),B[1]))),-z[2])),x(w(x(w(a(Pe,he),I[1]),x(w(a(ke,oe),-z[1]),w(a(ee,q),B[1]))),N[2]),w(x(w(a(He,ie),I[1]),x(w(a(Ee,ne),-z[1]),w(a(ee,q),N[1]))),-B[2]))),-U[3]),w(x(x(w(x(w(a(Ge,Ce),U[1]),x(w(a(Fe,te),-N[1]),w(a(Ne,K),B[1]))),I[2]),w(x(w(a(Ge,Ce),I[1]),x(w(a(ke,oe),-N[1]),w(a(Ee,ne),B[1]))),-U[2])),x(w(x(w(a(Fe,te),I[1]),x(w(a(ke,oe),-U[1]),w(a(Y,X),B[1]))),N[2]),w(x(w(a(Ne,K),I[1]),x(w(a(Ee,ne),-U[1]),w(a(Y,X),N[1]))),-B[2]))),z[3])),x(w(x(x(w(x(w(a(Pe,he),U[1]),x(w(a(Fe,te),-z[1]),w(a(le,j),B[1]))),I[2]),w(x(w(a(Pe,he),I[1]),x(w(a(ke,oe),-z[1]),w(a(ee,q),B[1]))),-U[2])),x(w(x(w(a(Fe,te),I[1]),x(w(a(ke,oe),-U[1]),w(a(Y,X),B[1]))),z[2]),w(x(w(a(le,j),I[1]),x(w(a(ee,q),-U[1]),w(a(Y,X),z[1]))),-B[2]))),-N[3]),w(x(x(w(x(w(a(He,ie),U[1]),x(w(a(Ne,K),-z[1]),w(a(le,j),N[1]))),I[2]),w(x(w(a(He,ie),I[1]),x(w(a(Ee,ne),-z[1]),w(a(ee,q),N[1]))),-U[2])),x(w(x(w(a(Ne,K),I[1]),x(w(a(Ee,ne),-U[1]),w(a(Y,X),N[1]))),z[2]),w(x(w(a(le,j),I[1]),x(w(a(ee,q),-U[1]),w(a(Y,X),z[1]))),-N[2]))),B[3]))))),Ue=a(Et,Xe);return Ue[Ue.length-1]}return k}var M=[y,h,b];function C(x){var a=M[x.length];return a||(a=M[x.length]=u(x.length)),a.apply(void 0,x)}function m(x,a,E,w,k,I,U,z){function N(B,F,H,X,q,ne){switch(arguments.length){case 0:case 1:return 0;case 2:return w(B,F);case 3:return k(B,F,H);case 4:return I(B,F,H,X);case 5:return U(B,F,H,X,q);case 6:return z(B,F,H,X,q,ne)}for(var oe=new Array(arguments.length),ve=0;ve<arguments.length;++ve)oe[ve]=arguments[ve];return x(oe)}return N}function S(){for(;M.length<=c;)M.push(u(M.length));v.exports=m.apply(void 0,[C].concat(M));for(var x=0;x<=c;++x)v.exports[x]=M[x]}S()},6606:function(v,p,t){var r=t(8167),l=6;function n(M){var C=M===2?u:M===3?y:M===4?h:M===5?b:f;return M<6?C(r[M]):C(r)}function s(){return[[0]]}function c(M,C){return[[C[0]],[M[0][0]]]}function u(M){return function(m,S){return[M([[+S[0],+m[0][1]],[+S[1],+m[1][1]]]),M([[+m[0][0],+S[0]],[+m[1][0],+S[1]]]),M(m)]}}function y(M){return function(m,S){return[M([[+S[0],+m[0][1],+m[0][2]],[+S[1],+m[1][1],+m[1][2]],[+S[2],+m[2][1],+m[2][2]]]),M([[+m[0][0],+S[0],+m[0][2]],[+m[1][0],+S[1],+m[1][2]],[+m[2][0],+S[2],+m[2][2]]]),M([[+m[0][0],+m[0][1],+S[0]],[+m[1][0],+m[1][1],+S[1]],[+m[2][0],+m[2][1],+S[2]]]),M(m)]}}function h(M){return function(m,S){return[M([[+S[0],+m[0][1],+m[0][2],+m[0][3]],[+S[1],+m[1][1],+m[1][2],+m[1][3]],[+S[2],+m[2][1],+m[2][2],+m[2][3]],[+S[3],+m[3][1],+m[3][2],+m[3][3]]]),M([[+m[0][0],+S[0],+m[0][2],+m[0][3]],[+m[1][0],+S[1],+m[1][2],+m[1][3]],[+m[2][0],+S[2],+m[2][2],+m[2][3]],[+m[3][0],+S[3],+m[3][2],+m[3][3]]]),M([[+m[0][0],+m[0][1],+S[0],+m[0][3]],[+m[1][0],+m[1][1],+S[1],+m[1][3]],[+m[2][0],+m[2][1],+S[2],+m[2][3]],[+m[3][0],+m[3][1],+S[3],+m[3][3]]]),M([[+m[0][0],+m[0][1],+m[0][2],+S[0]],[+m[1][0],+m[1][1],+m[1][2],+S[1]],[+m[2][0],+m[2][1],+m[2][2],+S[2]],[+m[3][0],+m[3][1],+m[3][2],+S[3]]]),M(m)]}}function b(M){return function(m,S){return[M([[+S[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4]],[+S[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4]],[+S[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4]],[+S[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4]],[+S[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4]]]),M([[+m[0][0],+S[0],+m[0][2],+m[0][3],+m[0][4]],[+m[1][0],+S[1],+m[1][2],+m[1][3],+m[1][4]],[+m[2][0],+S[2],+m[2][2],+m[2][3],+m[2][4]],[+m[3][0],+S[3],+m[3][2],+m[3][3],+m[3][4]],[+m[4][0],+S[4],+m[4][2],+m[4][3],+m[4][4]]]),M([[+m[0][0],+m[0][1],+S[0],+m[0][3],+m[0][4]],[+m[1][0],+m[1][1],+S[1],+m[1][3],+m[1][4]],[+m[2][0],+m[2][1],+S[2],+m[2][3],+m[2][4]],[+m[3][0],+m[3][1],+S[3],+m[3][3],+m[3][4]],[+m[4][0],+m[4][1],+S[4],+m[4][3],+m[4][4]]]),M([[+m[0][0],+m[0][1],+m[0][2],+S[0],+m[0][4]],[+m[1][0],+m[1][1],+m[1][2],+S[1],+m[1][4]],[+m[2][0],+m[2][1],+m[2][2],+S[2],+m[2][4]],[+m[3][0],+m[3][1],+m[3][2],+S[3],+m[3][4]],[+m[4][0],+m[4][1],+m[4][2],+S[4],+m[4][4]]]),M([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+S[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+S[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+S[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+S[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+S[4]]]),M(m)]}}function f(M){return function(m,S){return[M([[+S[0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+S[1],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+S[2],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+S[3],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+S[4],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+S[5],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),M([[+m[0][0],+S[0],+m[0][2],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+S[1],+m[1][2],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+S[2],+m[2][2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+S[3],+m[3][2],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+S[4],+m[4][2],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+S[5],+m[5][2],+m[5][3],+m[5][4],+m[5][5]]]),M([[+m[0][0],+m[0][1],+S[0],+m[0][3],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+S[1],+m[1][3],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+S[2],+m[2][3],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+S[3],+m[3][3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+S[4],+m[4][3],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+S[5],+m[5][3],+m[5][4],+m[5][5]]]),M([[+m[0][0],+m[0][1],+m[0][2],+S[0],+m[0][4],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+S[1],+m[1][4],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+S[2],+m[2][4],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+S[3],+m[3][4],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+S[4],+m[4][4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+S[5],+m[5][4],+m[5][5]]]),M([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+S[0],+m[0][5]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+S[1],+m[1][5]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+S[2],+m[2][5]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+S[3],+m[3][5]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+S[4],+m[4][5]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+S[5],+m[5][5]]]),M([[+m[0][0],+m[0][1],+m[0][2],+m[0][3],+m[0][4],+S[0]],[+m[1][0],+m[1][1],+m[1][2],+m[1][3],+m[1][4],+S[1]],[+m[2][0],+m[2][1],+m[2][2],+m[2][3],+m[2][4],+S[2]],[+m[3][0],+m[3][1],+m[3][2],+m[3][3],+m[3][4],+S[3]],[+m[4][0],+m[4][1],+m[4][2],+m[4][3],+m[4][4],+S[4]],[+m[5][0],+m[5][1],+m[5][2],+m[5][3],+m[5][4],+S[5]]]),M(m)]}}var o=[s,c];function d(M,C,m,S,x,a,E,w){return function(I,U){switch(I.length){case 0:return M(I,U);case 1:return C(I,U);case 2:return m(I,U);case 3:return S(I,U);case 4:return x(I,U);case 5:return a(I,U)}var z=E[I.length];return z||(z=E[I.length]=w(I.length)),z(I,U)}}function A(){for(;o.length<l;)o.push(n(o.length));v.exports=d.apply(void 0,o.concat([o,n]));for(var M=0;M<l;++M)v.exports[M]=o[M]}A()},417:function(v,p,t){var r=t(9660),l=t(9662),n=t(8289),s=t(4078),c=5,u=11102230246251565e-32,y=(3+16*u)*u,h=(7+56*u)*u;function b(a,E,w,k){return function(U,z,N){var B=a(a(E(z[1],N[0]),E(-N[1],z[0])),a(E(U[1],z[0]),E(-z[1],U[0]))),F=a(E(U[1],N[0]),E(-N[1],U[0])),H=k(B,F);return H[H.length-1]}}function f(a,E,w,k){return function(U,z,N,B){var F=a(a(w(a(E(N[1],B[0]),E(-B[1],N[0])),z[2]),a(w(a(E(z[1],B[0]),E(-B[1],z[0])),-N[2]),w(a(E(z[1],N[0]),E(-N[1],z[0])),B[2]))),a(w(a(E(z[1],B[0]),E(-B[1],z[0])),U[2]),a(w(a(E(U[1],B[0]),E(-B[1],U[0])),-z[2]),w(a(E(U[1],z[0]),E(-z[1],U[0])),B[2])))),H=a(a(w(a(E(N[1],B[0]),E(-B[1],N[0])),U[2]),a(w(a(E(U[1],B[0]),E(-B[1],U[0])),-N[2]),w(a(E(U[1],N[0]),E(-N[1],U[0])),B[2]))),a(w(a(E(z[1],N[0]),E(-N[1],z[0])),U[2]),a(w(a(E(U[1],N[0]),E(-N[1],U[0])),-z[2]),w(a(E(U[1],z[0]),E(-z[1],U[0])),N[2])))),X=k(F,H);return X[X.length-1]}}function o(a,E,w,k){return function(U,z,N,B,F){var H=a(a(a(w(a(w(a(E(B[1],F[0]),E(-F[1],B[0])),N[2]),a(w(a(E(N[1],F[0]),E(-F[1],N[0])),-B[2]),w(a(E(N[1],B[0]),E(-B[1],N[0])),F[2]))),z[3]),a(w(a(w(a(E(B[1],F[0]),E(-F[1],B[0])),z[2]),a(w(a(E(z[1],F[0]),E(-F[1],z[0])),-B[2]),w(a(E(z[1],B[0]),E(-B[1],z[0])),F[2]))),-N[3]),w(a(w(a(E(N[1],F[0]),E(-F[1],N[0])),z[2]),a(w(a(E(z[1],F[0]),E(-F[1],z[0])),-N[2]),w(a(E(z[1],N[0]),E(-N[1],z[0])),F[2]))),B[3]))),a(w(a(w(a(E(N[1],B[0]),E(-B[1],N[0])),z[2]),a(w(a(E(z[1],B[0]),E(-B[1],z[0])),-N[2]),w(a(E(z[1],N[0]),E(-N[1],z[0])),B[2]))),-F[3]),a(w(a(w(a(E(B[1],F[0]),E(-F[1],B[0])),z[2]),a(w(a(E(z[1],F[0]),E(-F[1],z[0])),-B[2]),w(a(E(z[1],B[0]),E(-B[1],z[0])),F[2]))),U[3]),w(a(w(a(E(B[1],F[0]),E(-F[1],B[0])),U[2]),a(w(a(E(U[1],F[0]),E(-F[1],U[0])),-B[2]),w(a(E(U[1],B[0]),E(-B[1],U[0])),F[2]))),-z[3])))),a(a(w(a(w(a(E(z[1],F[0]),E(-F[1],z[0])),U[2]),a(w(a(E(U[1],F[0]),E(-F[1],U[0])),-z[2]),w(a(E(U[1],z[0]),E(-z[1],U[0])),F[2]))),B[3]),a(w(a(w(a(E(z[1],B[0]),E(-B[1],z[0])),U[2]),a(w(a(E(U[1],B[0]),E(-B[1],U[0])),-z[2]),w(a(E(U[1],z[0]),E(-z[1],U[0])),B[2]))),-F[3]),w(a(w(a(E(N[1],B[0]),E(-B[1],N[0])),z[2]),a(w(a(E(z[1],B[0]),E(-B[1],z[0])),-N[2]),w(a(E(z[1],N[0]),E(-N[1],z[0])),B[2]))),U[3]))),a(w(a(w(a(E(N[1],B[0]),E(-B[1],N[0])),U[2]),a(w(a(E(U[1],B[0]),E(-B[1],U[0])),-N[2]),w(a(E(U[1],N[0]),E(-N[1],U[0])),B[2]))),-z[3]),a(w(a(w(a(E(z[1],B[0]),E(-B[1],z[0])),U[2]),a(w(a(E(U[1],B[0]),E(-B[1],U[0])),-z[2]),w(a(E(U[1],z[0]),E(-z[1],U[0])),B[2]))),N[3]),w(a(w(a(E(z[1],N[0]),E(-N[1],z[0])),U[2]),a(w(a(E(U[1],N[0]),E(-N[1],U[0])),-z[2]),w(a(E(U[1],z[0]),E(-z[1],U[0])),N[2]))),-B[3]))))),X=a(a(a(w(a(w(a(E(B[1],F[0]),E(-F[1],B[0])),N[2]),a(w(a(E(N[1],F[0]),E(-F[1],N[0])),-B[2]),w(a(E(N[1],B[0]),E(-B[1],N[0])),F[2]))),U[3]),w(a(w(a(E(B[1],F[0]),E(-F[1],B[0])),U[2]),a(w(a(E(U[1],F[0]),E(-F[1],U[0])),-B[2]),w(a(E(U[1],B[0]),E(-B[1],U[0])),F[2]))),-N[3])),a(w(a(w(a(E(N[1],F[0]),E(-F[1],N[0])),U[2]),a(w(a(E(U[1],F[0]),E(-F[1],U[0])),-N[2]),w(a(E(U[1],N[0]),E(-N[1],U[0])),F[2]))),B[3]),w(a(w(a(E(N[1],B[0]),E(-B[1],N[0])),U[2]),a(w(a(E(U[1],B[0]),E(-B[1],U[0])),-N[2]),w(a(E(U[1],N[0]),E(-N[1],U[0])),B[2]))),-F[3]))),a(a(w(a(w(a(E(N[1],F[0]),E(-F[1],N[0])),z[2]),a(w(a(E(z[1],F[0]),E(-F[1],z[0])),-N[2]),w(a(E(z[1],N[0]),E(-N[1],z[0])),F[2]))),U[3]),w(a(w(a(E(N[1],F[0]),E(-F[1],N[0])),U[2]),a(w(a(E(U[1],F[0]),E(-F[1],U[0])),-N[2]),w(a(E(U[1],N[0]),E(-N[1],U[0])),F[2]))),-z[3])),a(w(a(w(a(E(z[1],F[0]),E(-F[1],z[0])),U[2]),a(w(a(E(U[1],F[0]),E(-F[1],U[0])),-z[2]),w(a(E(U[1],z[0]),E(-z[1],U[0])),F[2]))),N[3]),w(a(w(a(E(z[1],N[0]),E(-N[1],z[0])),U[2]),a(w(a(E(U[1],N[0]),E(-N[1],U[0])),-z[2]),w(a(E(U[1],z[0]),E(-z[1],U[0])),N[2]))),-F[3])))),q=k(H,X);return q[q.length-1]}}function d(a){var E=a===3?b:a===4?f:o;return E(l,r,n,s)}var A=d(3),M=d(4),C=[function(){return 0},function(){return 0},function(E,w){return w[0]-E[0]},function(E,w,k){var I=(E[1]-k[1])*(w[0]-k[0]),U=(E[0]-k[0])*(w[1]-k[1]),z=I-U,N;if(I>0){if(U<=0)return z;N=I+U}else if(I<0){if(U>=0)return z;N=-(I+U)}else return z;var B=y*N;return z>=B||z<=-B?z:A(E,w,k)},function(E,w,k,I){var U=E[0]-I[0],z=w[0]-I[0],N=k[0]-I[0],B=E[1]-I[1],F=w[1]-I[1],H=k[1]-I[1],X=E[2]-I[2],q=w[2]-I[2],ne=k[2]-I[2],oe=z*H,ve=N*F,J=N*B,Y=U*H,j=U*F,K=z*B,te=X*(oe-ve)+q*(J-Y)+ne*(j-K),se=(Math.abs(oe)+Math.abs(ve))*Math.abs(X)+(Math.abs(J)+Math.abs(Y))*Math.abs(q)+(Math.abs(j)+Math.abs(K))*Math.abs(ne),Q=h*se;return te>Q||-te>Q?te:M(E,w,k,I)}];function m(a){var E=C[a.length];return E||(E=C[a.length]=d(a.length)),E.apply(void 0,a)}function S(a,E,w,k,I,U,z){return function(B,F,H,X,q){switch(arguments.length){case 0:case 1:return 0;case 2:return k(B,F);case 3:return I(B,F,H);case 4:return U(B,F,H,X);case 5:return z(B,F,H,X,q)}for(var ne=new Array(arguments.length),oe=0;oe<arguments.length;++oe)ne[oe]=arguments[oe];return a(ne)}}function x(){for(;C.length<=c;)C.push(d(C.length));v.exports=S.apply(void 0,[m].concat(C));for(var a=0;a<=c;++a)v.exports[a]=C[a]}x()},2019:function(v,p,t){var r=t(9662),l=t(8289);v.exports=n;function n(s,c){if(s.length===1)return l(c,s[0]);if(c.length===1)return l(s,c[0]);if(s.length===0||c.length===0)return[0];var u=[0];if(s.length<c.length)for(var y=0;y<s.length;++y)u=r(u,l(c,s[y]));else for(var y=0;y<c.length;++y)u=r(u,l(s,c[y]));return u}},8289:function(v,p,t){var r=t(9660),l=t(87);v.exports=n;function n(s,c){var u=s.length;if(u===1){var y=r(s[0],c);return y[0]?y:[y[1]]}var h=new Array(2*u),b=[.1,.1],f=[.1,.1],o=0;r(s[0],c,b),b[0]&&(h[o++]=b[0]);for(var d=1;d<u;++d){r(s[d],c,f);var A=b[1];l(A,f[0],b),b[0]&&(h[o++]=b[0]);var M=f[1],C=b[1],m=M+C,S=m-M,x=C-S;b[1]=m,x&&(h[o++]=x)}return b[1]&&(h[o++]=b[1]),o===0&&(h[o++]=0),h.length=o,h}},4434:function(v,p,t){v.exports=n;var r=t(417)[3];function l(s,c,u,y){for(var h=0;h<2;++h){var b=s[h],f=c[h],o=Math.min(b,f),d=Math.max(b,f),A=u[h],M=y[h],C=Math.min(A,M),m=Math.max(A,M);if(m<o||d<C)return!1}return!0}function n(s,c,u,y){var h=r(s,u,y),b=r(c,u,y);if(h>0&&b>0||h<0&&b<0)return!1;var f=r(u,s,c),o=r(y,s,c);return f>0&&o>0||f<0&&o<0?!1:h===0&&b===0&&f===0&&o===0?l(s,c,u,y):!0}},4078:function(v){v.exports=t;function p(r,l){var n=r+l,s=n-r,c=n-s,u=l-s,y=r-c,h=y+u;return h?[h,n]:[n]}function t(r,l){var n=r.length|0,s=l.length|0;if(n===1&&s===1)return p(r[0],-l[0]);var c=n+s,u=new Array(c),y=0,h=0,b=0,f=Math.abs,o=r[h],d=f(o),A=-l[b],M=f(A),C,m;d<M?(m=o,h+=1,h<n&&(o=r[h],d=f(o))):(m=A,b+=1,b<s&&(A=-l[b],M=f(A))),h<n&&d<M||b>=s?(C=o,h+=1,h<n&&(o=r[h],d=f(o))):(C=A,b+=1,b<s&&(A=-l[b],M=f(A)));for(var S=C+m,x=S-C,a=m-x,E=a,w=S,k,I,U,z,N;h<n&&b<s;)d<M?(C=o,h+=1,h<n&&(o=r[h],d=f(o))):(C=A,b+=1,b<s&&(A=-l[b],M=f(A))),m=E,S=C+m,x=S-C,a=m-x,a&&(u[y++]=a),k=w+S,I=k-w,U=k-I,z=S-I,N=w-U,E=N+z,w=k;for(;h<n;)C=o,m=E,S=C+m,x=S-C,a=m-x,a&&(u[y++]=a),k=w+S,I=k-w,U=k-I,z=S-I,N=w-U,E=N+z,w=k,h+=1,h<n&&(o=r[h]);for(;b<s;)C=A,m=E,S=C+m,x=S-C,a=m-x,a&&(u[y++]=a),k=w+S,I=k-w,U=k-I,z=S-I,N=w-U,E=N+z,w=k,b+=1,b<s&&(A=-l[b]);return E&&(u[y++]=E),w&&(u[y++]=w),y||(u[y++]=0),u.length=y,u}},9662:function(v){v.exports=t;function p(r,l){var n=r+l,s=n-r,c=n-s,u=l-s,y=r-c,h=y+u;return h?[h,n]:[n]}function t(r,l){var n=r.length|0,s=l.length|0;if(n===1&&s===1)return p(r[0],l[0]);var c=n+s,u=new Array(c),y=0,h=0,b=0,f=Math.abs,o=r[h],d=f(o),A=l[b],M=f(A),C,m;d<M?(m=o,h+=1,h<n&&(o=r[h],d=f(o))):(m=A,b+=1,b<s&&(A=l[b],M=f(A))),h<n&&d<M||b>=s?(C=o,h+=1,h<n&&(o=r[h],d=f(o))):(C=A,b+=1,b<s&&(A=l[b],M=f(A)));for(var S=C+m,x=S-C,a=m-x,E=a,w=S,k,I,U,z,N;h<n&&b<s;)d<M?(C=o,h+=1,h<n&&(o=r[h],d=f(o))):(C=A,b+=1,b<s&&(A=l[b],M=f(A))),m=E,S=C+m,x=S-C,a=m-x,a&&(u[y++]=a),k=w+S,I=k-w,U=k-I,z=S-I,N=w-U,E=N+z,w=k;for(;h<n;)C=o,m=E,S=C+m,x=S-C,a=m-x,a&&(u[y++]=a),k=w+S,I=k-w,U=k-I,z=S-I,N=w-U,E=N+z,w=k,h+=1,h<n&&(o=r[h]);for(;b<s;)C=A,m=E,S=C+m,x=S-C,a=m-x,a&&(u[y++]=a),k=w+S,I=k-w,U=k-I,z=S-I,N=w-U,E=N+z,w=k,b+=1,b<s&&(A=l[b]);return E&&(u[y++]=E),w&&(u[y++]=w),y||(u[y++]=0),u.length=y,u}},8691:function(v,p,t){v.exports=n;var r=t(2692),l=t(7037);function n(s){return l(r(s))}},7212:function(v,p,t){v.exports=o;var r=t(5050),l=t(5306),n=t(8729),s=t(1168);function c(d){for(var A=d.length,M=0,C=0;C<A;++C)M=Math.max(M,d[C].length)|0;return M-1}function u(d,A){for(var M=d.length,C=l.mallocUint8(M),m=0;m<M;++m)C[m]=d[m]<A|0;return C}function y(d,A){for(var M=d.length,C=A*(A+1)/2*M|0,m=l.mallocUint32(C*2),S=0,x=0;x<M;++x)for(var a=d[x],A=a.length,E=0;E<A;++E)for(var w=0;w<E;++w){var k=a[w],I=a[E];m[S++]=Math.min(k,I)|0,m[S++]=Math.max(k,I)|0}var U=S/2|0;n(r(m,[U,2]));for(var z=2,x=2;x<S;x+=2)m[x-2]===m[x]&&m[x-1]===m[x+1]||(m[z++]=m[x],m[z++]=m[x+1]);return r(m,[z/2|0,2])}function h(d,A,M,C){for(var m=d.data,S=d.shape[0],x=l.mallocDouble(S),a=0,E=0;E<S;++E){var w=m[2*E],k=m[2*E+1];if(M[w]!==M[k]){var I=A[w],U=A[k];m[2*a]=w,m[2*a+1]=k,x[a++]=(U-C)/(U-I)}}return d.shape[0]=a,r(x,[a])}function b(d,A){var M=l.mallocInt32(A*2),C=d.shape[0],m=d.data;M[0]=0;for(var S=0,x=0;x<C;++x){var a=m[2*x];if(a!==S){for(M[2*S+1]=x;++S<a;)M[2*S]=x,M[2*S+1]=x;M[2*S]=x}}for(M[2*S+1]=C;++S<A;)M[2*S]=M[2*S+1]=C;return M}function f(d){for(var A=d.shape[0]|0,M=d.data,C=new Array(A),m=0;m<A;++m)C[m]=[M[2*m],M[2*m+1]];return C}function o(d,A,M,C){M=M||0,typeof C>"u"&&(C=c(d));var m=d.length;if(m===0||C<1)return{cells:[],vertexIds:[],vertexWeights:[]};var S=u(A,+M),x=y(d,C),a=h(x,A,S,+M),E=b(x,A.length|0),w=s(C)(d,x.data,E,S),k=f(x),I=[].slice.call(a.data,0,a.shape[0]);return l.free(S),l.free(x.data),l.free(a.data),l.free(E),{cells:w,vertexIds:k,vertexWeights:I}}},1168:function(v){v.exports=t;var p=[function(){function l(n,s,c,u){for(var y=n.length,h=[],b=0;b<y;++b){var f=n[b];f.length}return h}return l},function(){function l(s,c,u,y){for(var h=Math.min(u,y)|0,b=Math.max(u,y)|0,f=s[2*h],o=s[2*h+1];f<o;){var d=f+o>>1,A=c[2*d+1];if(A===b)return d;b<A?o=d:f=d+1}return f}function n(s,c,u,y){for(var h=s.length,b=[],f=0;f<h;++f){var o=s[f],d=o.length;if(d===2){var A=(y[o[0]]<<0)+(y[o[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:b.push([l(u,c,o[0],o[1])]);break;case 2:b.push([l(u,c,o[1],o[0])]);break}}}return b}return n},function(){function l(s,c,u,y){for(var h=Math.min(u,y)|0,b=Math.max(u,y)|0,f=s[2*h],o=s[2*h+1];f<o;){var d=f+o>>1,A=c[2*d+1];if(A===b)return d;b<A?o=d:f=d+1}return f}function n(s,c,u,y){for(var h=s.length,b=[],f=0;f<h;++f){var o=s[f],d=o.length;if(d===3){var A=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2);if(A===0||A===7)continue;switch(A){case 0:break;case 1:b.push([l(u,c,o[0],o[2]),l(u,c,o[0],o[1])]);break;case 2:b.push([l(u,c,o[1],o[0]),l(u,c,o[1],o[2])]);break;case 3:b.push([l(u,c,o[0],o[2]),l(u,c,o[1],o[2])]);break;case 4:b.push([l(u,c,o[2],o[1]),l(u,c,o[2],o[0])]);break;case 5:b.push([l(u,c,o[2],o[1]),l(u,c,o[0],o[1])]);break;case 6:b.push([l(u,c,o[1],o[0]),l(u,c,o[2],o[0])]);break}}else if(d===2){var A=(y[o[0]]<<0)+(y[o[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:b.push([l(u,c,o[0],o[1])]);break;case 2:b.push([l(u,c,o[1],o[0])]);break}}}return b}return n},function(){function l(s,c,u,y){for(var h=Math.min(u,y)|0,b=Math.max(u,y)|0,f=s[2*h],o=s[2*h+1];f<o;){var d=f+o>>1,A=c[2*d+1];if(A===b)return d;b<A?o=d:f=d+1}return f}function n(s,c,u,y){for(var h=s.length,b=[],f=0;f<h;++f){var o=s[f],d=o.length;if(d===4){var A=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2)+(y[o[3]]<<3);if(A===0||A===15)continue;switch(A){case 0:break;case 1:b.push([l(u,c,o[0],o[1]),l(u,c,o[0],o[2]),l(u,c,o[0],o[3])]);break;case 2:b.push([l(u,c,o[1],o[2]),l(u,c,o[1],o[0]),l(u,c,o[1],o[3])]);break;case 3:b.push([l(u,c,o[1],o[2]),l(u,c,o[0],o[2]),l(u,c,o[0],o[3])],[l(u,c,o[1],o[3]),l(u,c,o[1],o[2]),l(u,c,o[0],o[3])]);break;case 4:b.push([l(u,c,o[2],o[0]),l(u,c,o[2],o[1]),l(u,c,o[2],o[3])]);break;case 5:b.push([l(u,c,o[0],o[1]),l(u,c,o[2],o[1]),l(u,c,o[0],o[3])],[l(u,c,o[2],o[1]),l(u,c,o[2],o[3]),l(u,c,o[0],o[3])]);break;case 6:b.push([l(u,c,o[2],o[0]),l(u,c,o[1],o[0]),l(u,c,o[1],o[3])],[l(u,c,o[2],o[3]),l(u,c,o[2],o[0]),l(u,c,o[1],o[3])]);break;case 7:b.push([l(u,c,o[0],o[3]),l(u,c,o[1],o[3]),l(u,c,o[2],o[3])]);break;case 8:b.push([l(u,c,o[3],o[1]),l(u,c,o[3],o[0]),l(u,c,o[3],o[2])]);break;case 9:b.push([l(u,c,o[3],o[1]),l(u,c,o[0],o[1]),l(u,c,o[0],o[2])],[l(u,c,o[3],o[2]),l(u,c,o[3],o[1]),l(u,c,o[0],o[2])]);break;case 10:b.push([l(u,c,o[1],o[0]),l(u,c,o[3],o[0]),l(u,c,o[1],o[2])],[l(u,c,o[3],o[0]),l(u,c,o[3],o[2]),l(u,c,o[1],o[2])]);break;case 11:b.push([l(u,c,o[1],o[2]),l(u,c,o[0],o[2]),l(u,c,o[3],o[2])]);break;case 12:b.push([l(u,c,o[3],o[0]),l(u,c,o[2],o[0]),l(u,c,o[2],o[1])],[l(u,c,o[3],o[1]),l(u,c,o[3],o[0]),l(u,c,o[2],o[1])]);break;case 13:b.push([l(u,c,o[0],o[1]),l(u,c,o[2],o[1]),l(u,c,o[3],o[1])]);break;case 14:b.push([l(u,c,o[2],o[0]),l(u,c,o[1],o[0]),l(u,c,o[3],o[0])]);break}}else if(d===3){var A=(y[o[0]]<<0)+(y[o[1]]<<1)+(y[o[2]]<<2);if(A===0||A===7)continue;switch(A){case 0:break;case 1:b.push([l(u,c,o[0],o[2]),l(u,c,o[0],o[1])]);break;case 2:b.push([l(u,c,o[1],o[0]),l(u,c,o[1],o[2])]);break;case 3:b.push([l(u,c,o[0],o[2]),l(u,c,o[1],o[2])]);break;case 4:b.push([l(u,c,o[2],o[1]),l(u,c,o[2],o[0])]);break;case 5:b.push([l(u,c,o[2],o[1]),l(u,c,o[0],o[1])]);break;case 6:b.push([l(u,c,o[1],o[0]),l(u,c,o[2],o[0])]);break}}else if(d===2){var A=(y[o[0]]<<0)+(y[o[1]]<<1);if(A===0||A===3)continue;switch(A){case 0:break;case 1:b.push([l(u,c,o[0],o[1])]);break;case 2:b.push([l(u,c,o[1],o[0])]);break}}}return b}return n}];function t(r){return p[r]()}},8211:function(v,p,t){t(2288),t(1731);function r(l,n){var s=l.length,c=l.length-n.length,u=Math.min;if(c)return c;switch(s){case 0:return 0;case 1:return l[0]-n[0];case 2:var o=l[0]+l[1]-n[0]-n[1];return o||u(l[0],l[1])-u(n[0],n[1]);case 3:var y=l[0]+l[1],h=n[0]+n[1];if(o=y+l[2]-(h+n[2]),o)return o;var b=u(l[0],l[1]),f=u(n[0],n[1]),o=u(b,l[2])-u(f,n[2]);return o||u(b+l[2],y)-u(f+n[2],h);default:var d=l.slice(0);d.sort();var A=n.slice(0);A.sort();for(var M=0;M<s;++M)if(c=d[M]-A[M],c)return c;return 0}}p.H=r},9392:function(v,p){"use restrict";var t=32;p.INT_BITS=t,p.INT_MAX=2147483647,p.INT_MIN=-1<<t-1,p.sign=function(n){return(n>0)-(n<0)},p.abs=function(n){var s=n>>t-1;return(n^s)-s},p.min=function(n,s){return s^(n^s)&-(n<s)},p.max=function(n,s){return n^(n^s)&-(n<s)},p.isPow2=function(n){return!(n&n-1)&&!!n},p.log2=function(n){var s,c;return s=(n>65535)<<4,n>>>=s,c=(n>255)<<3,n>>>=c,s|=c,c=(n>15)<<2,n>>>=c,s|=c,c=(n>3)<<1,n>>>=c,s|=c,s|n>>1},p.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},p.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function r(n){var s=32;return n&=-n,n&&s--,n&65535&&(s-=16),n&16711935&&(s-=8),n&252645135&&(s-=4),n&858993459&&(s-=2),n&1431655765&&(s-=1),s}p.countTrailingZeros=r,p.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},p.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},p.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var l=new Array(256);(function(n){for(var s=0;s<256;++s){var c=s,u=s,y=7;for(c>>>=1;c;c>>>=1)u<<=1,u|=c&1,--y;n[s]=u<<y&255}})(l),p.reverse=function(n){return l[n&255]<<24|l[n>>>8&255]<<16|l[n>>>16&255]<<8|l[n>>>24&255]},p.interleave2=function(n,s){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,n|s<<1},p.deinterleave2=function(n,s){return n=n>>>s&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},p.interleave3=function(n,s,c){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,n|=s<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,n|c<<2},p.deinterleave3=function(n,s){return n=n>>>s&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},p.nextCombination=function(n){var s=n|n-1;return s+1|(~s&-~s)-1>>>r(n)+1}},6656:function(v,p,t){"use restrict";var r=t(9392),l=t(9521);function n(a){for(var E=0,w=Math.max,k=0,I=a.length;k<I;++k)E=w(E,a[k].length);return E-1}p.dimension=n;function s(a){for(var E=-1,w=Math.max,k=0,I=a.length;k<I;++k)for(var U=a[k],z=0,N=U.length;z<N;++z)E=w(E,U[z]);return E+1}p.countVertices=s;function c(a){for(var E=new Array(a.length),w=0,k=a.length;w<k;++w)E[w]=a[w].slice(0);return E}p.cloneCells=c;function u(a,E){var w=a.length,k=a.length-E.length,I=Math.min;if(k)return k;switch(w){case 0:return 0;case 1:return a[0]-E[0];case 2:var F=a[0]+a[1]-E[0]-E[1];return F||I(a[0],a[1])-I(E[0],E[1]);case 3:var U=a[0]+a[1],z=E[0]+E[1];if(F=U+a[2]-(z+E[2]),F)return F;var N=I(a[0],a[1]),B=I(E[0],E[1]),F=I(N,a[2])-I(B,E[2]);return F||I(N+a[2],U)-I(B+E[2],z);default:var H=a.slice(0);H.sort();var X=E.slice(0);X.sort();for(var q=0;q<w;++q)if(k=H[q]-X[q],k)return k;return 0}}p.compareCells=u;function y(a,E){return u(a[0],E[0])}function h(a,E){if(E){for(var w=a.length,k=new Array(w),I=0;I<w;++I)k[I]=[a[I],E[I]];k.sort(y);for(var I=0;I<w;++I)a[I]=k[I][0],E[I]=k[I][1];return a}else return a.sort(u),a}p.normalize=h;function b(a){if(a.length===0)return[];for(var E=1,w=a.length,k=1;k<w;++k){var I=a[k];if(u(I,a[k-1])){if(k===E){E++;continue}a[E++]=I}}return a.length=E,a}p.unique=b;function f(a,E){for(var w=0,k=a.length-1,I=-1;w<=k;){var U=w+k>>1,z=u(a[U],E);z<=0?(z===0&&(I=U),w=U+1):z>0&&(k=U-1)}return I}p.findCell=f;function o(a,E){for(var w=new Array(a.length),k=0,I=w.length;k<I;++k)w[k]=[];for(var U=[],k=0,z=E.length;k<z;++k)for(var N=E[k],B=N.length,F=1,H=1<<B;F<H;++F){U.length=r.popCount(F);for(var X=0,q=0;q<B;++q)F&1<<q&&(U[X++]=N[q]);var ne=f(a,U);if(!(ne<0))for(;w[ne++].push(k),!(ne>=a.length||u(a[ne],U)!==0););}return w}p.incidence=o;function d(a,E){if(!E)return o(b(M(a,0)),a);for(var w=new Array(E),k=0;k<E;++k)w[k]=[];for(var k=0,I=a.length;k<I;++k)for(var U=a[k],z=0,N=U.length;z<N;++z)w[U[z]].push(k);return w}p.dual=d;function A(a){for(var E=[],w=0,k=a.length;w<k;++w)for(var I=a[w],U=I.length|0,z=1,N=1<<U;z<N;++z){for(var B=[],F=0;F<U;++F)z>>>F&1&&B.push(I[F]);E.push(B)}return h(E)}p.explode=A;function M(a,E){if(E<0)return[];for(var w=[],k=(1<<E+1)-1,I=0;I<a.length;++I)for(var U=a[I],z=k;z<1<<U.length;z=r.nextCombination(z)){for(var N=new Array(E+1),B=0,F=0;F<U.length;++F)z&1<<F&&(N[B++]=U[F]);w.push(N)}return h(w)}p.skeleton=M;function C(a){for(var E=[],w=0,k=a.length;w<k;++w)for(var I=a[w],U=0,z=I.length;U<z;++U){for(var N=new Array(I.length-1),B=0,F=0;B<z;++B)B!==U&&(N[F++]=I[B]);E.push(N)}return h(E)}p.boundary=C;function m(a,E){for(var w=new l(E),k=0;k<a.length;++k)for(var I=a[k],U=0;U<I.length;++U)for(var z=U+1;z<I.length;++z)w.link(I[U],I[z]);for(var N=[],B=w.ranks,k=0;k<B.length;++k)B[k]=-1;for(var k=0;k<a.length;++k){var F=w.find(a[k][0]);B[F]<0?(B[F]=N.length,N.push([a[k].slice(0)])):N[B[F]].push(a[k].slice(0))}return N}function S(a){for(var E=b(h(M(a,0))),w=new l(E.length),k=0;k<a.length;++k)for(var I=a[k],U=0;U<I.length;++U)for(var z=f(E,[I[U]]),N=U+1;N<I.length;++N)w.link(z,f(E,[I[N]]));for(var B=[],F=w.ranks,k=0;k<F.length;++k)F[k]=-1;for(var k=0;k<a.length;++k){var H=w.find(f(E,[a[k][0]]));F[H]<0?(F[H]=B.length,B.push([a[k].slice(0)])):B[F[H]].push(a[k].slice(0))}return B}function x(a,E){return E?m(a,E):S(a)}p.connectedComponents=x},9521:function(v){"use restrict";v.exports=p;function p(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;r<t;++r)this.roots[r]=r,this.ranks[r]=0}p.prototype.length=function(){return this.roots.length},p.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},p.prototype.find=function(t){for(var r=this.roots;r[t]!==t;){var l=r[t];r[t]=r[l],t=l}return t},p.prototype.link=function(t,r){var l=this.find(t),n=this.find(r);if(l!==n){var s=this.ranks,c=this.roots,u=s[l],y=s[n];u<y?c[l]=n:y<u?c[n]=l:(c[n]=l,++s[l])}}},8243:function(v,p,t){v.exports=s;var r=t(417),l=t(6656);function n(c,u,y){var h=Math.abs(r(c,u,y)),b=Math.sqrt(Math.pow(u[0]-y[0],2)+Math.pow(u[1]-y[1],2));return h/b}function s(c,u,y){for(var h=u.length,b=c.length,f=new Array(h),o=new Array(h),d=new Array(h),A=new Array(h),M=0;M<h;++M)f[M]=o[M]=-1,d[M]=1/0,A[M]=!1;for(var M=0;M<b;++M){var C=c[M];if(C.length!==2)throw new Error("Input must be a graph");var m=C[1],S=C[0];o[S]!==-1?o[S]=-2:o[S]=m,f[m]!==-1?f[m]=-2:f[m]=S}function x(J){if(A[J])return 1/0;var Y=f[J],j=o[J];return Y<0||j<0?1/0:n(u[J],u[Y],u[j])}function a(J,Y){var j=B[J],K=B[Y];B[J]=K,B[Y]=j,F[j]=Y,F[K]=J}function E(J){return d[B[J]]}function w(J){return J&1?J-1>>1:(J>>1)-1}function k(J){for(var Y=E(J);;){var j=Y,K=2*J+1,te=2*(J+1),se=J;if(K<X){var Q=E(K);Q<j&&(se=K,j=Q)}if(te<X){var ee=E(te);ee<j&&(se=te)}if(se===J)return J;a(J,se),J=se}}function I(J){for(var Y=E(J);J>0;){var j=w(J);if(j>=0){var K=E(j);if(Y<K){a(J,j),J=j;continue}}return J}}function U(){if(X>0){var J=B[0];return a(0,X-1),X-=1,k(0),J}return-1}function z(J,Y){var j=B[J];return d[j]===Y?J:(d[j]=-1/0,I(J),U(),d[j]=Y,X+=1,I(X-1))}function N(J){if(!A[J]){A[J]=!0;var Y=f[J],j=o[J];f[j]>=0&&(f[j]=Y),o[Y]>=0&&(o[Y]=j),F[Y]>=0&&z(F[Y],x(Y)),F[j]>=0&&z(F[j],x(j))}}for(var B=[],F=new Array(h),M=0;M<h;++M){var H=d[M]=x(M);H<1/0?(F[M]=B.length,B.push(M)):F[M]=-1}for(var X=B.length,M=X>>1;M>=0;--M)k(M);for(;;){var q=U();if(q<0||d[q]>y)break;N(q)}for(var ne=[],M=0;M<h;++M)A[M]||(F[M]=ne.length,ne.push(u[M].slice()));ne.length;function oe(J,Y){if(J[Y]<0)return Y;var j=Y,K=Y;do{var te=J[K];if(!A[K]||te<0||te===K||(K=te,te=J[K],!A[K]||te<0||te===K))break;K=te,j=J[j]}while(j!==K);for(var se=Y;se!==K;se=J[se])J[se]=K;return K}var ve=[];return c.forEach(function(J){var Y=oe(f,J[0]),j=oe(o,J[1]);if(Y>=0&&j>=0&&Y!==j){var K=F[Y],te=F[j];K!==te&&ve.push([K,te])}}),l.unique(l.normalize(ve)),{positions:ne,edges:ve}}},6638:function(v,p,t){v.exports=n;var r=t(417);function l(s,c){var u,y;if(c[0][0]<c[1][0])u=c[0],y=c[1];else if(c[0][0]>c[1][0])u=c[1],y=c[0];else{var h=Math.min(s[0][1],s[1][1]),b=Math.max(s[0][1],s[1][1]),f=Math.min(c[0][1],c[1][1]),o=Math.max(c[0][1],c[1][1]);return b<f?b-f:h>o?h-o:b-o}var d,A;s[0][1]<s[1][1]?(d=s[0],A=s[1]):(d=s[1],A=s[0]);var M=r(y,u,d);return M||(M=r(y,u,A),M)?M:A-y}function n(s,c){var u,y;if(c[0][0]<c[1][0])u=c[0],y=c[1];else if(c[0][0]>c[1][0])u=c[1],y=c[0];else return l(c,s);var h,b;if(s[0][0]<s[1][0])h=s[0],b=s[1];else if(s[0][0]>s[1][0])h=s[1],b=s[0];else return-l(s,c);var f=r(u,y,b),o=r(u,y,h);if(f<0){if(o<=0)return f}else if(f>0){if(o>=0)return f}else if(o)return o;if(f=r(b,h,y),o=r(b,h,u),f<0){if(o<=0)return f}else if(f>0){if(o>=0)return f}else if(o)return o;return y[0]-b[0]}},4385:function(v,p,t){v.exports=o;var r=t(5070),l=t(7080),n=t(417),s=t(6638);function c(d,A,M){this.slabs=d,this.coordinates=A,this.horizontal=M}var u=c.prototype;function y(d,A){return d.y-A}function h(d,A){for(var M=null;d;){var C=d.key,m,S;C[0][0]<C[1][0]?(m=C[0],S=C[1]):(m=C[1],S=C[0]);var x=n(m,S,A);if(x<0)d=d.left;else if(x>0)if(A[0]!==C[1][0])M=d,d=d.right;else{var a=h(d.right,A);if(a)return a;d=d.left}else{if(A[0]!==C[1][0])return d;var a=h(d.right,A);if(a)return a;d=d.left}}return M}u.castUp=function(d){var A=r.le(this.coordinates,d[0]);if(A<0)return-1;this.slabs[A];var M=h(this.slabs[A],d),C=-1;if(M&&(C=M.value),this.coordinates[A]===d[0]){var m=null;if(M&&(m=M.key),A>0){var S=h(this.slabs[A-1],d);S&&(m?s(S.key,m)>0&&(m=S.key,C=S.value):(C=S.value,m=S.key))}var x=this.horizontal[A];if(x.length>0){var a=r.ge(x,d[1],y);if(a<x.length){var E=x[a];if(d[1]===E.y){if(E.closed)return E.index;for(;a<x.length-1&&x[a+1].y===d[1];)if(a=a+1,E=x[a],E.closed)return E.index;if(E.y===d[1]&&!E.start){if(a=a+1,a>=x.length)return C;E=x[a]}}if(E.start)if(m){var w=n(m[0],m[1],[d[0],E.y]);m[0][0]>m[1][0]&&(w=-w),w>0&&(C=E.index)}else C=E.index;else E.y!==d[1]&&(C=E.index)}}}return C};function b(d,A,M,C){this.y=d,this.index=A,this.start=M,this.closed=C}function f(d,A,M,C){this.x=d,this.segment=A,this.create=M,this.index=C}function o(d){for(var A=d.length,M=2*A,C=new Array(M),m=0;m<A;++m){var S=d[m],x=S[0][0]<S[1][0];C[2*m]=new f(S[0][0],S,x,m),C[2*m+1]=new f(S[1][0],S,!x,m)}C.sort(function(N,B){var F=N.x-B.x;return F||(F=N.create-B.create,F)?F:Math.min(N.segment[0][1],N.segment[1][1])-Math.min(B.segment[0][1],B.segment[1][1])});for(var a=l(s),E=[],w=[],k=[],m=0;m<M;){for(var I=C[m].x,U=[];m<M;){var z=C[m];if(z.x!==I)break;m+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(U.push(new b(z.segment[0][1],z.index,!0,!0)),U.push(new b(z.segment[1][1],z.index,!1,!1))):(U.push(new b(z.segment[1][1],z.index,!0,!1)),U.push(new b(z.segment[0][1],z.index,!1,!0)))):z.create?a=a.insert(z.segment,z.index):a=a.remove(z.segment)}E.push(a.root),w.push(I),k.push(U)}return new c(E,w,k)}},4670:function(v,p,t){var r=t(9130),l=t(9662);v.exports=c,v.exports.positive=u,v.exports.negative=y;function n(h,b){var f=l(r(h,b),[b[b.length-1]]);return f[f.length-1]}function s(h,b,f,o){var d=o-b,A=-b/d;A<0?A=0:A>1&&(A=1);for(var M=1-A,C=h.length,m=new Array(C),S=0;S<C;++S)m[S]=A*h[S]+M*f[S];return m}function c(h,b){for(var f=[],o=[],d=n(h[h.length-1],b),A=h[h.length-1],M=h[0],C=0;C<h.length;++C,A=M){M=h[C];var m=n(M,b);if(d<0&&m>0||d>0&&m<0){var S=s(A,m,M,d);f.push(S),o.push(S.slice())}m<0?o.push(M.slice()):m>0?f.push(M.slice()):(f.push(M.slice()),o.push(M.slice())),d=m}return{positive:f,negative:o}}function u(h,b){for(var f=[],o=n(h[h.length-1],b),d=h[h.length-1],A=h[0],M=0;M<h.length;++M,d=A){A=h[M];var C=n(A,b);(o<0&&C>0||o>0&&C<0)&&f.push(s(d,C,A,o)),C>=0&&f.push(A.slice()),o=C}return f}function y(h,b){for(var f=[],o=n(h[h.length-1],b),d=h[h.length-1],A=h[0],M=0;M<h.length;++M,d=A){A=h[M];var C=n(A,b);(o<0&&C>0||o>0&&C<0)&&f.push(s(d,C,A,o)),C<=0&&f.push(A.slice()),o=C}return f}},8974:function(v,p,t){var r;(function(){var l={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(h){return c(y(h),arguments)}function s(h,b){return n.apply(null,[h].concat(b||[]))}function c(h,b){var f=1,o=h.length,d,A="",M,C,m,S,x,a,E,w;for(M=0;M<o;M++)if(typeof h[M]=="string")A+=h[M];else if(typeof h[M]=="object"){if(m=h[M],m.keys)for(d=b[f],C=0;C<m.keys.length;C++){if(d==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',m.keys[C],m.keys[C-1]));d=d[m.keys[C]]}else m.param_no?d=b[m.param_no]:d=b[f++];if(l.not_type.test(m.type)&&l.not_primitive.test(m.type)&&d instanceof Function&&(d=d()),l.numeric_arg.test(m.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(n("[sprintf] expecting number but found %T",d));switch(l.number.test(m.type)&&(E=d>=0),m.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,m.width?parseInt(m.width):0);break;case"e":d=m.precision?parseFloat(d).toExponential(m.precision):parseFloat(d).toExponential();break;case"f":d=m.precision?parseFloat(d).toFixed(m.precision):parseFloat(d);break;case"g":d=m.precision?String(Number(d.toPrecision(m.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=m.precision?d.substring(0,m.precision):d;break;case"t":d=String(!!d),d=m.precision?d.substring(0,m.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=m.precision?d.substring(0,m.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=m.precision?d.substring(0,m.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}l.json.test(m.type)?A+=d:(l.number.test(m.type)&&(!E||m.sign)?(w=E?"+":"-",d=d.toString().replace(l.sign,"")):w="",x=m.pad_char?m.pad_char==="0"?"0":m.pad_char.charAt(1):" ",a=m.width-(w+d).length,S=m.width&&a>0?x.repeat(a):"",A+=m.align?w+d+S:x==="0"?w+S+d:S+w+d)}return A}var u=Object.create(null);function y(h){if(u[h])return u[h];for(var b=h,f,o=[],d=0;b;){if((f=l.text.exec(b))!==null)o.push(f[0]);else if((f=l.modulo.exec(b))!==null)o.push("%");else if((f=l.placeholder.exec(b))!==null){if(f[2]){d|=1;var A=[],M=f[2],C=[];if((C=l.key.exec(M))!==null)for(A.push(C[1]);(M=M.substring(C[0].length))!=="";)if((C=l.key_access.exec(M))!==null)A.push(C[1]);else if((C=l.index_access.exec(M))!==null)A.push(C[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");f[2]=A}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:f[0],param_no:f[1],keys:f[2],sign:f[3],pad_char:f[4],align:f[5],width:f[6],precision:f[7],type:f[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");b=b.substring(f[0].length)}return u[h]=o}p.sprintf=n,p.vsprintf=s,typeof window<"u"&&(window.sprintf=n,window.vsprintf=s,r=function(){return{sprintf:n,vsprintf:s}}.call(p,t,p,v),r!==void 0&&(v.exports=r))})()},4162:function(v,p,t){v.exports=y;var r=t(9284),l=t(9584),n={"2d":function(h,b,f){var o=h({order:b,scalarArguments:3,getters:f==="generic"?[0]:void 0,phase:function(A,M,C,m){return A>m|0},vertex:function(A,M,C,m,S,x,a,E,w,k,I,U,z){var N=(a<<0)+(E<<1)+(w<<2)+(k<<3)|0;if(!(N===0||N===15))switch(N){case 0:I.push([A-.5,M-.5]);break;case 1:I.push([A-.25-.25*(m+C-2*z)/(C-m),M-.25-.25*(S+C-2*z)/(C-S)]);break;case 2:I.push([A-.75-.25*(-m-C+2*z)/(m-C),M-.25-.25*(x+m-2*z)/(m-x)]);break;case 3:I.push([A-.5,M-.5-.5*(S+C+x+m-4*z)/(C-S+m-x)]);break;case 4:I.push([A-.25-.25*(x+S-2*z)/(S-x),M-.75-.25*(-S-C+2*z)/(S-C)]);break;case 5:I.push([A-.5-.5*(m+C+x+S-4*z)/(C-m+S-x),M-.5]);break;case 6:I.push([A-.5-.25*(-m-C+x+S)/(m-C+S-x),M-.5-.25*(-S-C+x+m)/(S-C+m-x)]);break;case 7:I.push([A-.75-.25*(x+S-2*z)/(S-x),M-.75-.25*(x+m-2*z)/(m-x)]);break;case 8:I.push([A-.75-.25*(-x-S+2*z)/(x-S),M-.75-.25*(-x-m+2*z)/(x-m)]);break;case 9:I.push([A-.5-.25*(m+C+-x-S)/(C-m+x-S),M-.5-.25*(S+C+-x-m)/(C-S+x-m)]);break;case 10:I.push([A-.5-.5*(-m-C+-x-S+4*z)/(m-C+x-S),M-.5]);break;case 11:I.push([A-.25-.25*(-x-S+2*z)/(x-S),M-.75-.25*(S+C-2*z)/(C-S)]);break;case 12:I.push([A-.5,M-.5-.5*(-S-C+-x-m+4*z)/(S-C+x-m)]);break;case 13:I.push([A-.75-.25*(m+C-2*z)/(C-m),M-.25-.25*(-x-m+2*z)/(x-m)]);break;case 14:I.push([A-.25-.25*(-m-C+2*z)/(m-C),M-.25-.25*(-S-C+2*z)/(S-C)]);break;case 15:I.push([A-.5,M-.5]);break}},cell:function(A,M,C,m,S,x,a,E,w){S?E.push([A,M]):E.push([M,A])}});return function(d,A){var M=[],C=[];return o(d,M,C,A),{positions:M,cells:C}}}};function s(h,b){var f=h.length+"d",o=n[f];if(o)return o(r,h,b)}function c(h,b){for(var f=l(h,b),o=f.length,d=new Array(o),A=new Array(o),M=0;M<o;++M)d[M]=[f[M]],A[M]=[M];return{positions:d,cells:A}}var u={};function y(h,d){if(h.dimension<=0)return{positions:[],cells:[]};if(h.dimension===1)return c(h,d);var f=h.order.join()+"-"+h.dtype,o=u[f],d=+d||0;return o||(o=u[f]=s(h.order,h.dtype)),o(h,d)}},6946:function(v,p,t){v.exports=c;var r=t(875),l=window||g.global||{},n=l.__TEXT_CACHE||{};l.__TEXT_CACHE={};function s(u){for(var y=u.cells,h=u.positions,b=new Float32Array(y.length*6),f=0,o=0,d=0;d<y.length;++d)for(var A=y[d],M=0;M<3;++M){var C=h[A[M]];b[f++]=C[0],b[f++]=C[1]+1.4,o=Math.max(C[0],o)}return{data:b,shape:o}}function c(u,y,b){var b=b||{},f=n[u];f||(f=n[u]={" ":{data:new Float32Array(0),shape:.2}});var o=f[y];if(!o)if(y.length<=1||!/\d/.test(y))o=f[y]=s(r(y,{triangles:!0,font:u,textAlign:b.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=y.split(/(\d|\s)/),A=new Array(d.length),M=0,C=0,m=0;m<d.length;++m)A[m]=c(u,d[m]),M+=A[m].data.length,C+=A[m].shape,m>0&&(C+=.02);for(var S=new Float32Array(M),x=0,a=-.5*C,m=0;m<A.length;++m){for(var E=A[m].data,w=0;w<E.length;w+=2)S[x++]=E[w]+a,S[x++]=E[w+1];a+=A[m].shape+.02}o=f[y]={data:S,shape:C}}return o}},14:function(v,p,t){var r=t(4405);v.exports=c;var l=96;function n(u,y){var h=r(getComputedStyle(u).getPropertyValue(y));return h[0]*c(h[1],u)}function s(u,y){var h=document.createElement("div");h.style["font-size"]="128"+u,y.appendChild(h);var b=n(h,"font-size")/128;return y.removeChild(h),b}function c(u,y){switch(y=y||document.body,u=(u||"px").trim().toLowerCase(),(y===window||y===document)&&(y=document.body),u){case"%":return y.clientHeight/100;case"ch":case"ex":return s(u,y);case"em":return n(y,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return l;case"cm":return l/2.54;case"mm":return l/25.4;case"pt":return l/72;case"pc":return l/6}return 1}},3440:function(v,p,t){v.exports=A;var r=t(8444),l=t(7437),n=t(4422),s=t(903),c=t(899),u=t(9305);function y(M,C,m){return Math.sqrt(Math.pow(M,2)+Math.pow(C,2)+Math.pow(m,2))}function h(M){return Math.min(1,Math.max(-1,M))}function b(M){var C=Math.abs(M[0]),m=Math.abs(M[1]),S=Math.abs(M[2]),x=[0,0,0];C>Math.max(m,S)?x[2]=1:m>Math.max(C,S)?x[0]=1:x[1]=1;for(var a=0,E=0,w=0;w<3;++w)a+=M[w]*M[w],E+=x[w]*M[w];for(var w=0;w<3;++w)x[w]-=E/a*M[w];return c(x,x),x}function f(M,C,m,S,x,a,E,w){this.center=r(m),this.up=r(S),this.right=r(x),this.radius=r([a]),this.angle=r([E,w]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(M,C),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var k=0;k<16;++k)this.computedMatrix[k]=.5;this.recalcMatrix(0)}var o=f.prototype;o.setDistanceLimits=function(M,C){M>0?M=Math.log(M):M=-1/0,C>0?C=Math.log(C):C=1/0,C=Math.max(C,M),this.radius.bounds[0][0]=M,this.radius.bounds[1][0]=C},o.getDistanceLimits=function(M){var C=this.radius.bounds[0];return M?(M[0]=Math.exp(C[0][0]),M[1]=Math.exp(C[1][0]),M):[Math.exp(C[0][0]),Math.exp(C[1][0])]},o.recalcMatrix=function(M){this.center.curve(M),this.up.curve(M),this.right.curve(M),this.radius.curve(M),this.angle.curve(M);for(var C=this.computedUp,m=this.computedRight,S=0,x=0,a=0;a<3;++a)x+=C[a]*m[a],S+=C[a]*C[a];for(var E=Math.sqrt(S),w=0,a=0;a<3;++a)m[a]-=C[a]*x/S,w+=m[a]*m[a],C[a]/=E;for(var k=Math.sqrt(w),a=0;a<3;++a)m[a]/=k;var I=this.computedToward;s(I,C,m),c(I,I);for(var U=Math.exp(this.computedRadius[0]),z=this.computedAngle[0],N=this.computedAngle[1],B=Math.cos(z),F=Math.sin(z),H=Math.cos(N),X=Math.sin(N),q=this.computedCenter,ne=B*H,oe=F*H,ve=X,J=-B*X,Y=-F*X,j=H,K=this.computedEye,te=this.computedMatrix,a=0;a<3;++a){var se=ne*m[a]+oe*I[a]+ve*C[a];te[4*a+1]=J*m[a]+Y*I[a]+j*C[a],te[4*a+2]=se,te[4*a+3]=0}var Q=te[1],ee=te[5],le=te[9],ie=te[2],he=te[6],xe=te[10],Se=ee*xe-le*he,Ee=le*ie-Q*xe,Ne=Q*he-ee*ie,He=y(Se,Ee,Ne);Se/=He,Ee/=He,Ne/=He,te[0]=Se,te[4]=Ee,te[8]=Ne;for(var a=0;a<3;++a)K[a]=q[a]+te[2+4*a]*U;for(var a=0;a<3;++a){for(var w=0,Ce=0;Ce<3;++Ce)w+=te[a+4*Ce]*K[Ce];te[12+a]=-w}te[15]=1},o.getMatrix=function(M,C){this.recalcMatrix(M);var m=this.computedMatrix;if(C){for(var S=0;S<16;++S)C[S]=m[S];return C}return m};var d=[0,0,0];o.rotate=function(M,C,m,S){if(this.angle.move(M,C,m),S){this.recalcMatrix(M);var x=this.computedMatrix;d[0]=x[2],d[1]=x[6],d[2]=x[10];for(var a=this.computedUp,E=this.computedRight,w=this.computedToward,k=0;k<3;++k)x[4*k]=a[k],x[4*k+1]=E[k],x[4*k+2]=w[k];n(x,x,S,d);for(var k=0;k<3;++k)a[k]=x[4*k],E[k]=x[4*k+1];this.up.set(M,a[0],a[1],a[2]),this.right.set(M,E[0],E[1],E[2])}},o.pan=function(M,C,m,S){C=C||0,m=m||0,S=S||0,this.recalcMatrix(M);var x=this.computedMatrix;Math.exp(this.computedRadius[0]);var a=x[1],E=x[5],w=x[9],k=y(a,E,w);a/=k,E/=k,w/=k;var I=x[0],U=x[4],z=x[8],N=I*a+U*E+z*w;I-=a*N,U-=E*N,z-=w*N;var B=y(I,U,z);I/=B,U/=B,z/=B;var F=I*C+a*m,H=U*C+E*m,X=z*C+w*m;this.center.move(M,F,H,X);var q=Math.exp(this.computedRadius[0]);q=Math.max(1e-4,q+S),this.radius.set(M,Math.log(q))},o.translate=function(M,C,m,S){this.center.move(M,C||0,m||0,S||0)},o.setMatrix=function(M,C,m,S){var x=1;typeof m=="number"&&(x=m|0),(x<0||x>3)&&(x=1);var a=(x+2)%3;C||(this.recalcMatrix(M),C=this.computedMatrix);var E=C[x],w=C[x+4],k=C[x+8];if(S){var U=Math.abs(E),z=Math.abs(w),N=Math.abs(k),B=Math.max(U,z,N);U===B?(E=E<0?-1:1,w=k=0):N===B?(k=k<0?-1:1,E=w=0):(w=w<0?-1:1,E=k=0)}else{var I=y(E,w,k);E/=I,w/=I,k/=I}var F=C[a],H=C[a+4],X=C[a+8],q=F*E+H*w+X*k;F-=E*q,H-=w*q,X-=k*q;var ne=y(F,H,X);F/=ne,H/=ne,X/=ne;var oe=w*X-k*H,ve=k*F-E*X,J=E*H-w*F,Y=y(oe,ve,J);oe/=Y,ve/=Y,J/=Y,this.center.jump(M,Fe,Pe,Ge),this.radius.idle(M),this.up.jump(M,E,w,k),this.right.jump(M,F,H,X);var j,K;if(x===2){var te=C[1],se=C[5],Q=C[9],ee=te*F+se*H+Q*X,le=te*oe+se*ve+Q*J;Se<0?j=-Math.PI/2:j=Math.PI/2,K=Math.atan2(le,ee)}else{var ie=C[2],he=C[6],xe=C[10],Se=ie*E+he*w+xe*k,Ee=ie*F+he*H+xe*X,Ne=ie*oe+he*ve+xe*J;j=Math.asin(h(Se)),K=Math.atan2(Ne,Ee)}this.angle.jump(M,K,j),this.recalcMatrix(M);var He=C[2],Ce=C[6],be=C[10],we=this.computedMatrix;l(we,C);var ke=we[15],Fe=we[12]/ke,Pe=we[13]/ke,Ge=we[14]/ke,nt=Math.exp(this.computedRadius[0]);this.center.jump(M,Fe-He*nt,Pe-Ce*nt,Ge-be*nt)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(M){this.center.idle(M),this.up.idle(M),this.right.idle(M),this.radius.idle(M),this.angle.idle(M)},o.flush=function(M){this.center.flush(M),this.up.flush(M),this.right.flush(M),this.radius.flush(M),this.angle.flush(M)},o.setDistance=function(M,C){C>0&&this.radius.set(M,Math.log(C))},o.lookAt=function(M,C,m,S){this.recalcMatrix(M),C=C||this.computedEye,m=m||this.computedCenter,S=S||this.computedUp;var x=S[0],a=S[1],E=S[2],w=y(x,a,E);if(!(w<1e-6)){x/=w,a/=w,E/=w;var k=C[0]-m[0],I=C[1]-m[1],U=C[2]-m[2],z=y(k,I,U);if(!(z<1e-6)){k/=z,I/=z,U/=z;var N=this.computedRight,B=N[0],F=N[1],H=N[2],X=x*B+a*F+E*H;B-=X*x,F-=X*a,H-=X*E;var q=y(B,F,H);if(!(q<.01&&(B=a*U-E*I,F=E*k-x*U,H=x*I-a*k,q=y(B,F,H),q<1e-6))){B/=q,F/=q,H/=q,this.up.set(M,x,a,E),this.right.set(M,B,F,H),this.center.set(M,m[0],m[1],m[2]),this.radius.set(M,Math.log(z));var ne=a*H-E*F,oe=E*B-x*H,ve=x*F-a*B,J=y(ne,oe,ve);ne/=J,oe/=J,ve/=J;var Y=x*k+a*I+E*U,j=B*k+F*I+H*U,K=ne*k+oe*I+ve*U,te=Math.asin(h(Y)),se=Math.atan2(K,j),Q=this.angle._state,ee=Q[Q.length-1],le=Q[Q.length-2];ee=ee%(2*Math.PI);var ie=Math.abs(ee+2*Math.PI-se),he=Math.abs(ee-se),xe=Math.abs(ee-2*Math.PI-se);ie<he&&(ee+=2*Math.PI),xe<he&&(ee-=2*Math.PI),this.angle.jump(this.angle.lastT(),ee,le),this.angle.set(M,se,te)}}}};function A(M){M=M||{};var C=M.center||[0,0,0],m=M.up||[0,1,0],S=M.right||b(m),x=M.radius||1,a=M.theta||0,E=M.phi||0;if(C=[].slice.call(C,0,3),m=[].slice.call(m,0,3),c(m,m),S=[].slice.call(S,0,3),c(S,S),"eye"in M){var w=M.eye,k=[w[0]-C[0],w[1]-C[1],w[2]-C[2]];s(S,k,m),y(S[0],S[1],S[2])<1e-6?S=b(m):c(S,S),x=y(k[0],k[1],k[2]);var I=u(m,k)/x,U=u(S,k)/x;E=Math.acos(I),a=Math.acos(U)}return x=Math.log(x),new f(M.zoomMin,M.zoomMax,C,m,S,x,a,E)}},9660:function(v){v.exports=t;var p=+(Math.pow(2,27)+1);function t(r,l,n){var s=r*l,c=p*r,u=c-r,y=c-u,h=r-y,b=p*l,f=b-l,o=b-f,d=l-o,A=s-y*o,M=A-h*o,C=M-y*d,m=h*d-C;return n?(n[0]=m,n[1]=s,n):[m,s]}},87:function(v){v.exports=p;function p(t,r,l){var n=t+r,s=n-t,c=n-s,u=r-s,y=t-c;return l?(l[0]=y+u,l[1]=n,l):[y+u,n]}},5306:function(v,p,t){var r=t(2288),l=t(3094),n=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:l([32,0]),UINT16:l([32,0]),UINT32:l([32,0]),BIGUINT64:l([32,0]),INT8:l([32,0]),INT16:l([32,0]),INT32:l([32,0]),BIGINT64:l([32,0]),FLOAT:l([32,0]),DOUBLE:l([32,0]),DATA:l([32,0]),UINT8C:l([32,0]),BUFFER:l([32,0])});var s=typeof Uint8ClampedArray<"u",c=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",y=t.g.__TYPEDARRAY_POOL;y.UINT8C||(y.UINT8C=l([32,0])),y.BIGUINT64||(y.BIGUINT64=l([32,0])),y.BIGINT64||(y.BIGINT64=l([32,0])),y.BUFFER||(y.BUFFER=l([32,0]));var h=y.DATA,b=y.BUFFER;p.free=function(B){if(n.isBuffer(B))b[r.log2(B.length)].push(B);else{if(Object.prototype.toString.call(B)!=="[object ArrayBuffer]"&&(B=B.buffer),!B)return;var F=B.length||B.byteLength,H=r.log2(F)|0;h[H].push(B)}};function f(N){if(N){var B=N.length||N.byteLength,F=r.log2(B);h[F].push(N)}}function o(N){f(N.buffer)}p.freeUint8=p.freeUint16=p.freeUint32=p.freeBigUint64=p.freeInt8=p.freeInt16=p.freeInt32=p.freeBigInt64=p.freeFloat32=p.freeFloat=p.freeFloat64=p.freeDouble=p.freeUint8Clamped=p.freeDataView=o,p.freeArrayBuffer=f,p.freeBuffer=function(B){b[r.log2(B.length)].push(B)},p.malloc=function(B,F){if(F===void 0||F==="arraybuffer")return d(B);switch(F){case"uint8":return A(B);case"uint16":return M(B);case"uint32":return C(B);case"int8":return m(B);case"int16":return S(B);case"int32":return x(B);case"float":case"float32":return a(B);case"double":case"float64":return E(B);case"uint8_clamped":return w(B);case"bigint64":return I(B);case"biguint64":return k(B);case"buffer":return z(B);case"data":case"dataview":return U(B);default:return null}return null};function d(B){var B=r.nextPow2(B),F=r.log2(B),H=h[F];return H.length>0?H.pop():new ArrayBuffer(B)}p.mallocArrayBuffer=d;function A(N){return new Uint8Array(d(N),0,N)}p.mallocUint8=A;function M(N){return new Uint16Array(d(2*N),0,N)}p.mallocUint16=M;function C(N){return new Uint32Array(d(4*N),0,N)}p.mallocUint32=C;function m(N){return new Int8Array(d(N),0,N)}p.mallocInt8=m;function S(N){return new Int16Array(d(2*N),0,N)}p.mallocInt16=S;function x(N){return new Int32Array(d(4*N),0,N)}p.mallocInt32=x;function a(N){return new Float32Array(d(4*N),0,N)}p.mallocFloat32=p.mallocFloat=a;function E(N){return new Float64Array(d(8*N),0,N)}p.mallocFloat64=p.mallocDouble=E;function w(N){return s?new Uint8ClampedArray(d(N),0,N):A(N)}p.mallocUint8Clamped=w;function k(N){return c?new BigUint64Array(d(8*N),0,N):null}p.mallocBigUint64=k;function I(N){return u?new BigInt64Array(d(8*N),0,N):null}p.mallocBigInt64=I;function U(N){return new DataView(d(N),0,N)}p.mallocDataView=U;function z(N){N=r.nextPow2(N);var B=r.log2(N),F=b[B];return F.length>0?F.pop():new n(N)}p.mallocBuffer=z,p.clearCache=function(){for(var B=0;B<32;++B)y.UINT8[B].length=0,y.UINT16[B].length=0,y.UINT32[B].length=0,y.INT8[B].length=0,y.INT16[B].length=0,y.INT32[B].length=0,y.FLOAT[B].length=0,y.DOUBLE[B].length=0,y.BIGUINT64[B].length=0,y.BIGINT64[B].length=0,y.UINT8C[B].length=0,h[B].length=0,b[B].length=0}},1731:function(v){"use restrict";v.exports=p;function p(r){this.roots=new Array(r),this.ranks=new Array(r);for(var l=0;l<r;++l)this.roots[l]=l,this.ranks[l]=0}var t=p.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},t.find=function(r){for(var l=r,n=this.roots;n[r]!==r;)r=n[r];for(;n[l]!==r;){var s=n[l];n[l]=r,l=s}return r},t.link=function(r,l){var n=this.find(r),s=this.find(l);if(n!==s){var c=this.ranks,u=this.roots,y=c[n],h=c[s];y<h?u[n]=s:h<y?u[s]=n:(u[s]=n,++c[n])}}},1215:function(v){function p(l,n){for(var s=1,c=l.length,u=l[0],y=l[0],h=1;h<c;++h)if(y=u,u=l[h],n(u,y)){if(h===s){s++;continue}l[s++]=u}return l.length=s,l}function t(l){for(var n=1,s=l.length,c=l[0],u=l[0],y=1;y<s;++y,u=c)if(u=c,c=l[y],c!==u){if(y===n){n++;continue}l[n++]=c}return l.length=n,l}function r(l,n,s){return l.length===0?l:n?(s||l.sort(n),p(l,n)):(s||l.sort(),t(l))}v.exports=r},875:function(v,p,t){v.exports=s;var r=t(712),l=null,n=null;typeof document<"u"&&(l=document.createElement("canvas"),l.width=8192,l.height=1024,n=l.getContext("2d"));function s(c,u){return(typeof u!="object"||u===null)&&(u={}),r(c,u.canvas||l,u.context||n,u)}},712:function(v,p,t){v.exports=I,v.exports.processPixels=k;var r=t(4162),l=t(5050),n=t(8243),s=t(197),c=t(7761),u=t(8040),y="b",h="b|",b="i",f="i|",o="sup",d="+",A="+1",M="sub",C="-",m="-1";function S(U,z,N,B){for(var F="<"+U+">",H="</"+U+">",X=F.length,q=H.length,ne=z[0]===d||z[0]===C,oe=0,ve=-q;oe>-1&&(oe=N.indexOf(F,oe),!(oe===-1||(ve=N.indexOf(H,oe+X),ve===-1)||ve<=oe));){for(var J=oe;J<ve+q;++J)if(J<oe+X||J>=ve)B[J]=null,N=N.substr(0,J)+" "+N.substr(J+1);else if(B[J]!==null){var Y=B[J].indexOf(z[0]);Y===-1?B[J]+=z:ne&&(B[J]=B[J].substr(0,Y+1)+(1+parseInt(B[J][Y+1]))+B[J].substr(Y+2))}var j=oe+X,K=N.substr(j,ve-j),te=K.indexOf(F);te!==-1?oe=te:oe=ve+q}return B}function x(U,z,N){for(var B=z.textAlign||"start",F=z.textBaseline||"alphabetic",H=[1<<30,1<<30],X=[0,0],q=U.length,ne=0;ne<q;++ne)for(var oe=U[ne],ve=0;ve<2;++ve)H[ve]=Math.min(H[ve],oe[ve])|0,X[ve]=Math.max(X[ve],oe[ve])|0;var J=0;switch(B){case"center":J=-.5*(H[0]+X[0]);break;case"right":case"end":J=-X[0];break;case"left":case"start":J=-H[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+B+"'")}var Y=0;switch(F){case"hanging":case"top":Y=-H[1];break;case"middle":Y=-.5*(H[1]+X[1]);break;case"alphabetic":case"ideographic":Y=-3*N;break;case"bottom":Y=-X[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+F+"'")}var j=1/N;return"lineHeight"in z?j*=+z.lineHeight:"width"in z?j=z.width/(X[0]-H[0]):"height"in z&&(j=z.height/(X[1]-H[1])),U.map(function(K){return[j*(K[0]+J),j*(K[1]+Y)]})}function a(U,z,N,B,F,H){N=N.replace(/\n/g,""),H.breaklines===!0?N=N.replace(/\<br\>/g,`
`):N=N.replace(/\<br\>/g," ");var X="",q=[];for(ee=0;ee<N.length;++ee)q[ee]=X;H.bolds===!0&&(q=S(y,h,N,q)),H.italics===!0&&(q=S(b,f,N,q)),H.superscripts===!0&&(q=S(o,A,N,q)),H.subscripts===!0&&(q=S(M,m,N,q));var ne=[],oe="";for(ee=0;ee<N.length;++ee)q[ee]!==null&&(oe+=N[ee],ne.push(q[ee]));var ve=oe.split(`
`),J=ve.length,Y=Math.round(F*B),j=B,K=B*2,te=0,se=J*Y+K;U.height<se&&(U.height=se),z.fillStyle="#000",z.fillRect(0,0,U.width,U.height),z.fillStyle="#fff";var Q,ee,le,ie,he,xe=0,Se="";function Ee(){if(Se!==""){var Ge=z.measureText(Se).width;z.fillText(Se,j+le,K+ie),le+=Ge}}function Ne(){return""+Math.round(he)+"px "}function He(Ge,nt){var qe=""+z.font;if(H.subscripts===!0){var Ke=Ge.indexOf(C),$e=nt.indexOf(C),vt=Ke>-1?parseInt(Ge[1+Ke]):0,yt=$e>-1?parseInt(nt[1+$e]):0;vt!==yt&&(qe=qe.replace(Ne(),"?px "),he*=Math.pow(.75,yt-vt),qe=qe.replace("?px ",Ne())),ie+=.25*Y*(yt-vt)}if(H.superscripts===!0){var mt=Ge.indexOf(d),Et=nt.indexOf(d),Xe=mt>-1?parseInt(Ge[1+mt]):0,Ue=Et>-1?parseInt(nt[1+Et]):0;Xe!==Ue&&(qe=qe.replace(Ne(),"?px "),he*=Math.pow(.75,Ue-Xe),qe=qe.replace("?px ",Ne())),ie-=.25*Y*(Ue-Xe)}if(H.bolds===!0){var Be=Ge.indexOf(h)>-1,rt=nt.indexOf(h)>-1;!Be&&rt&&(it?qe=qe.replace("italic ","italic bold "):qe="bold "+qe),Be&&!rt&&(qe=qe.replace("bold ",""))}if(H.italics===!0){var it=Ge.indexOf(f)>-1,Ye=nt.indexOf(f)>-1;!it&&Ye&&(qe="italic "+qe),it&&!Ye&&(qe=qe.replace("italic ",""))}z.font=qe}for(Q=0;Q<J;++Q){var Ce=ve[Q]+`
`;for(le=0,ie=Q*Y,he=B,Se="",ee=0;ee<Ce.length;++ee){var be=ee+xe<ne.length?ne[ee+xe]:ne[ne.length-1];X===be?Se+=Ce[ee]:(Ee(),Se=Ce[ee],be!==void 0&&(He(X,be),X=be))}Ee(),xe+=Ce.length;var we=Math.round(le+2*j)|0;te<we&&(te=we)}var ke=te,Fe=K+Y*J,Pe=l(z.getImageData(0,0,ke,Fe).data,[Fe,ke,4]);return Pe.pick(-1,-1,0).transpose(1,0)}function E(U,z){var N=r(U,128);return z?n(N.cells,N.positions,.25):{edges:N.cells,positions:N.positions}}function w(U,z,N,B){var F=E(U,B),H=x(F.positions,z,N),X=F.edges,q=z.orientation==="ccw";if(s(H,X),z.polygons||z.polygon||z.polyline){for(var ne=u(X,H),oe=new Array(ne.length),ve=0;ve<ne.length;++ve){for(var J=ne[ve],Y=new Array(J.length),j=0;j<J.length;++j){for(var K=J[j],te=new Array(K.length),se=0;se<K.length;++se)te[se]=H[K[se]].slice();q&&te.reverse(),Y[j]=te}oe[ve]=Y}return oe}else return z.triangles||z.triangulate||z.triangle?{cells:c(H,X,{delaunay:!1,exterior:!1,interior:!0}),positions:H}:{edges:X,positions:H}}function k(U,z,N){try{return w(U,z,N,!0)}catch{}try{return w(U,z,N,!1)}catch{}return z.polygons||z.polyline||z.polygon?[]:z.triangles||z.triangulate||z.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function I(U,z,N,B){var F=64,H=1.25,X={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};B&&(B.size&&B.size>0&&(F=B.size),B.lineSpacing&&B.lineSpacing>0&&(H=B.lineSpacing),B.styletags&&B.styletags.breaklines&&(X.breaklines=!!B.styletags.breaklines),B.styletags&&B.styletags.bolds&&(X.bolds=!!B.styletags.bolds),B.styletags&&B.styletags.italics&&(X.italics=!!B.styletags.italics),B.styletags&&B.styletags.subscripts&&(X.subscripts=!!B.styletags.subscripts),B.styletags&&B.styletags.superscripts&&(X.superscripts=!!B.styletags.superscripts)),N.font=[B.fontStyle,B.fontVariant,B.fontWeight,F+"px",B.font].filter(function(ne){return ne}).join(" "),N.textAlign="start",N.textBaseline="alphabetic",N.direction="ltr";var q=a(z,N,U,F,H,X);return k(q,B,F)}},5346:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function t(E){E.permitHostObjects___&&E.permitHostObjects___(t)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=t);var r=!1;if(typeof WeakMap=="function"){var l=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new l,s=Object.freeze({});if(n.set(s,1),n.get(s)!==1)r=!0;else{v.exports=WeakMap;return}}}var c=Object.getOwnPropertyNames,u=Object.defineProperty,y=Object.isExtensible,h="weakmap:",b=h+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var f=new ArrayBuffer(25),o=new Uint8Array(f);crypto.getRandomValues(o),b=h+"rand:"+Array.prototype.map.call(o,function(E){return(E%36).toString(36)}).join("")+"___"}function d(E){return!(E.substr(0,h.length)==h&&E.substr(E.length-3)==="___")}if(u(Object,"getOwnPropertyNames",{value:function(w){return c(w).filter(d)}}),"getPropertyNames"in Object){var A=Object.getPropertyNames;u(Object,"getPropertyNames",{value:function(w){return A(w).filter(d)}})}function M(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var w=E[b];if(w&&w.key===E)return w;if(y(E)){w={key:E};try{return u(E,b,{value:w,writable:!1,enumerable:!1,configurable:!1}),w}catch{return}}}(function(){var E=Object.freeze;u(Object,"freeze",{value:function(U){return M(U),E(U)}});var w=Object.seal;u(Object,"seal",{value:function(U){return M(U),w(U)}});var k=Object.preventExtensions;u(Object,"preventExtensions",{value:function(U){return M(U),k(U)}})})();function C(E){return E.prototype=null,Object.freeze(E)}var m=!1;function S(){!m&&typeof console<"u"&&(m=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var x=0,a=function(){this instanceof a||S();var E=[],w=[],k=x++;function I(B,F){var H,X=M(B);return X?k in X?X[k]:F:(H=E.indexOf(B),H>=0?w[H]:F)}function U(B){var F=M(B);return F?k in F:E.indexOf(B)>=0}function z(B,F){var H,X=M(B);return X?X[k]=F:(H=E.indexOf(B),H>=0?w[H]=F:(H=E.length,w[H]=F,E[H]=B)),this}function N(B){var F=M(B),H,X;return F?k in F&&delete F[k]:(H=E.indexOf(B),H<0?!1:(X=E.length-1,E[H]=void 0,w[H]=w[X],E[H]=E[X],E.length=X,w.length=X,!0))}return Object.create(a.prototype,{get___:{value:C(I)},has___:{value:C(U)},set___:{value:C(z)},delete___:{value:C(N)}})};a.prototype=Object.create(Object.prototype,{get:{value:function(w,k){return this.get___(w,k)},writable:!0,configurable:!0},has:{value:function(w){return this.has___(w)},writable:!0,configurable:!0},set:{value:function(w,k){return this.set___(w,k)},writable:!0,configurable:!0},delete:{value:function(w){return this.delete___(w)},writable:!0,configurable:!0}}),typeof l=="function"?function(){r&&typeof Proxy<"u"&&(Proxy=void 0);function E(){this instanceof a||S();var w=new l,k=void 0,I=!1;function U(F,H){return k?w.has(F)?w.get(F):k.get___(F,H):w.get(F,H)}function z(F){return w.has(F)||(k?k.has___(F):!1)}var N;r?N=function(F,H){return w.set(F,H),w.has(F)||(k||(k=new a),k.set(F,H)),this}:N=function(F,H){if(I)try{w.set(F,H)}catch{k||(k=new a),k.set___(F,H)}else w.set(F,H);return this};function B(F){var H=!!w.delete(F);return k&&k.delete___(F)||H}return Object.create(a.prototype,{get___:{value:C(U)},has___:{value:C(z)},set___:{value:C(N)},delete___:{value:C(B)},permitHostObjects___:{value:C(function(F){if(F===t)I=!0;else throw new Error("bogus call to permitHostObjects___")})}})}E.prototype=a.prototype,v.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=a)})()},9222:function(v,p,t){var r=t(7178);v.exports=l;function l(){var n={};return function(s){if((typeof s!="object"||s===null)&&typeof s!="function")throw new Error("Weakmap-shim: Key must be object");var c=s.valueOf(n);return c&&c.identity===n?c:r(s,n)}}},7178:function(v){v.exports=p;function p(t,r){var l={identity:r},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(s){return s!==r?n.apply(this,arguments):l},writable:!0}),l}},4037:function(v,p,t){var r=t(9222);v.exports=l;function l(){var n=r();return{get:function(s,c){var u=n(s);return u.hasOwnProperty("value")?u.value:c},set:function(s,c){return n(s).value=c,this},has:function(s){return"value"in n(s)},delete:function(s){return delete n(s).value}}}},6183:function(v){function p(){return function(c,u,y,h,b,f){var o=c[0],d=y[0],A=[0],M=d;h|=0;var C=0,m=d;for(C=0;C<o;++C){{var S=u[h]-f,x=u[h+M]-f;S>=0!=x>=0&&b.push(A[0]+.5+.5*(S+x)/(S-x))}h+=m,++A[0]}}}function t(){return p()}var r=t;function l(c){var u={};return function(h,b,f){var o=h.dtype,d=h.order,A=[o,d.join()].join(),M=u[A];return M||(u[A]=M=c([o,d])),M(h.shape.slice(0),h.data,h.stride,h.offset|0,b,f)}}function n(c){return l(r.bind(void 0,c))}function s(c){return n({funcName:c.funcName})}v.exports=s({funcName:"zeroCrossings"})},9584:function(v,p,t){v.exports=l;var r=t(6183);function l(n,s){var c=[];return s=+s||0,r(n.hi(n.shape[0]-1),c,s),c}},6601:function(){}},i={};function L(v){var p=i[v];if(p!==void 0)return p.exports;var t=i[v]={id:v,loaded:!1,exports:{}};return R[v].call(t.exports,t,t.exports,L),t.loaded=!0,t.exports}(function(){L.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){L.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var T=L(7386);return T}()})},12856:function(G,V,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function g(Xe,Ue){if(!(Xe instanceof Ue))throw new TypeError("Cannot call a class as a function")}function R(Xe,Ue){for(var Be=0;Be<Ue.length;Be++){var rt=Ue[Be];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(Xe,rt.key,rt)}}function i(Xe,Ue,Be){return Ue&&R(Xe.prototype,Ue),Be&&R(Xe,Be),Object.defineProperty(Xe,"prototype",{writable:!1}),Xe}function L(Xe,Ue){if(typeof Ue!="function"&&Ue!==null)throw new TypeError("Super expression must either be null or a function");Xe.prototype=Object.create(Ue&&Ue.prototype,{constructor:{value:Xe,writable:!0,configurable:!0}}),Object.defineProperty(Xe,"prototype",{writable:!1}),Ue&&T(Xe,Ue)}function T(Xe,Ue){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(rt,it){return rt.__proto__=it,rt},T(Xe,Ue)}function v(Xe){var Ue=r();return function(){var rt=l(Xe),it;if(Ue){var Ye=l(this).constructor;it=Reflect.construct(rt,arguments,Ye)}else it=rt.apply(this,arguments);return p(this,it)}}function p(Xe,Ue){if(Ue&&(n(Ue)==="object"||typeof Ue=="function"))return Ue;if(Ue!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(Xe)}function t(Xe){if(Xe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Xe}function r(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l(Xe){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Be){return Be.__proto__||Object.getPrototypeOf(Be)},l(Xe)}function n(Xe){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ue){return typeof Ue}:function(Ue){return Ue&&typeof Symbol=="function"&&Ue.constructor===Symbol&&Ue!==Symbol.prototype?"symbol":typeof Ue},n(Xe)}var s=e(95341),c=e(95280),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=f,V.SlowBuffer=w,V.INSPECT_MAX_BYTES=50;var y=2147483647;V.kMaxLength=y,f.TYPED_ARRAY_SUPPORT=h(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var Xe=new Uint8Array(1),Ue={foo:function(){return 42}};return Object.setPrototypeOf(Ue,Uint8Array.prototype),Object.setPrototypeOf(Xe,Ue),Xe.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function b(Xe){if(Xe>y)throw new RangeError('The value "'+Xe+'" is invalid for option "size"');var Ue=new Uint8Array(Xe);return Object.setPrototypeOf(Ue,f.prototype),Ue}function f(Xe,Ue,Be){if(typeof Xe=="number"){if(typeof Ue=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return M(Xe)}return o(Xe,Ue,Be)}f.poolSize=8192;function o(Xe,Ue,Be){if(typeof Xe=="string")return C(Xe,Ue);if(ArrayBuffer.isView(Xe))return S(Xe);if(Xe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+n(Xe));if($e(Xe,ArrayBuffer)||Xe&&$e(Xe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($e(Xe,SharedArrayBuffer)||Xe&&$e(Xe.buffer,SharedArrayBuffer)))return x(Xe,Ue,Be);if(typeof Xe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var rt=Xe.valueOf&&Xe.valueOf();if(rt!=null&&rt!==Xe)return f.from(rt,Ue,Be);var it=a(Xe);if(it)return it;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Xe[Symbol.toPrimitive]=="function")return f.from(Xe[Symbol.toPrimitive]("string"),Ue,Be);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+n(Xe))}f.from=function(Xe,Ue,Be){return o(Xe,Ue,Be)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function d(Xe){if(typeof Xe!="number")throw new TypeError('"size" argument must be of type number');if(Xe<0)throw new RangeError('The value "'+Xe+'" is invalid for option "size"')}function A(Xe,Ue,Be){return d(Xe),Xe<=0?b(Xe):Ue!==void 0?typeof Be=="string"?b(Xe).fill(Ue,Be):b(Xe).fill(Ue):b(Xe)}f.alloc=function(Xe,Ue,Be){return A(Xe,Ue,Be)};function M(Xe){return d(Xe),b(Xe<0?0:E(Xe)|0)}f.allocUnsafe=function(Xe){return M(Xe)},f.allocUnsafeSlow=function(Xe){return M(Xe)};function C(Xe,Ue){if((typeof Ue!="string"||Ue==="")&&(Ue="utf8"),!f.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);var Be=k(Xe,Ue)|0,rt=b(Be),it=rt.write(Xe,Ue);return it!==Be&&(rt=rt.slice(0,it)),rt}function m(Xe){for(var Ue=Xe.length<0?0:E(Xe.length)|0,Be=b(Ue),rt=0;rt<Ue;rt+=1)Be[rt]=Xe[rt]&255;return Be}function S(Xe){if($e(Xe,Uint8Array)){var Ue=new Uint8Array(Xe);return x(Ue.buffer,Ue.byteOffset,Ue.byteLength)}return m(Xe)}function x(Xe,Ue,Be){if(Ue<0||Xe.byteLength<Ue)throw new RangeError('"offset" is outside of buffer bounds');if(Xe.byteLength<Ue+(Be||0))throw new RangeError('"length" is outside of buffer bounds');var rt;return Ue===void 0&&Be===void 0?rt=new Uint8Array(Xe):Be===void 0?rt=new Uint8Array(Xe,Ue):rt=new Uint8Array(Xe,Ue,Be),Object.setPrototypeOf(rt,f.prototype),rt}function a(Xe){if(f.isBuffer(Xe)){var Ue=E(Xe.length)|0,Be=b(Ue);return Be.length===0||Xe.copy(Be,0,0,Ue),Be}if(Xe.length!==void 0)return typeof Xe.length!="number"||vt(Xe.length)?b(0):m(Xe);if(Xe.type==="Buffer"&&Array.isArray(Xe.data))return m(Xe.data)}function E(Xe){if(Xe>=y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return Xe|0}function w(Xe){return+Xe!=Xe&&(Xe=0),f.alloc(+Xe)}f.isBuffer=function(Ue){return Ue!=null&&Ue._isBuffer===!0&&Ue!==f.prototype},f.compare=function(Ue,Be){if($e(Ue,Uint8Array)&&(Ue=f.from(Ue,Ue.offset,Ue.byteLength)),$e(Be,Uint8Array)&&(Be=f.from(Be,Be.offset,Be.byteLength)),!f.isBuffer(Ue)||!f.isBuffer(Be))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Ue===Be)return 0;for(var rt=Ue.length,it=Be.length,Ye=0,De=Math.min(rt,it);Ye<De;++Ye)if(Ue[Ye]!==Be[Ye]){rt=Ue[Ye],it=Be[Ye];break}return rt<it?-1:it<rt?1:0},f.isEncoding=function(Ue){switch(String(Ue).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(Ue,Be){if(!Array.isArray(Ue))throw new TypeError('"list" argument must be an Array of Buffers');if(Ue.length===0)return f.alloc(0);var rt;if(Be===void 0)for(Be=0,rt=0;rt<Ue.length;++rt)Be+=Ue[rt].length;var it=f.allocUnsafe(Be),Ye=0;for(rt=0;rt<Ue.length;++rt){var De=Ue[rt];if($e(De,Uint8Array))Ye+De.length>it.length?(f.isBuffer(De)||(De=f.from(De)),De.copy(it,Ye)):Uint8Array.prototype.set.call(it,De,Ye);else if(f.isBuffer(De))De.copy(it,Ye);else throw new TypeError('"list" argument must be an Array of Buffers');Ye+=De.length}return it};function k(Xe,Ue){if(f.isBuffer(Xe))return Xe.length;if(ArrayBuffer.isView(Xe)||$e(Xe,ArrayBuffer))return Xe.byteLength;if(typeof Xe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+n(Xe));var Be=Xe.length,rt=arguments.length>2&&arguments[2]===!0;if(!rt&&Be===0)return 0;for(var it=!1;;)switch(Ue){case"ascii":case"latin1":case"binary":return Be;case"utf8":case"utf-8":return Pe(Xe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Be*2;case"hex":return Be>>>1;case"base64":return qe(Xe).length;default:if(it)return rt?-1:Pe(Xe).length;Ue=(""+Ue).toLowerCase(),it=!0}}f.byteLength=k;function I(Xe,Ue,Be){var rt=!1;if((Ue===void 0||Ue<0)&&(Ue=0),Ue>this.length||((Be===void 0||Be>this.length)&&(Be=this.length),Be<=0)||(Be>>>=0,Ue>>>=0,Be<=Ue))return"";for(Xe||(Xe="utf8");;)switch(Xe){case"hex":return K(this,Ue,Be);case"utf8":case"utf-8":return oe(this,Ue,Be);case"ascii":return Y(this,Ue,Be);case"latin1":case"binary":return j(this,Ue,Be);case"base64":return ne(this,Ue,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,Ue,Be);default:if(rt)throw new TypeError("Unknown encoding: "+Xe);Xe=(Xe+"").toLowerCase(),rt=!0}}f.prototype._isBuffer=!0;function U(Xe,Ue,Be){var rt=Xe[Ue];Xe[Ue]=Xe[Be],Xe[Be]=rt}f.prototype.swap16=function(){var Ue=this.length;if(Ue%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Be=0;Be<Ue;Be+=2)U(this,Be,Be+1);return this},f.prototype.swap32=function(){var Ue=this.length;if(Ue%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Be=0;Be<Ue;Be+=4)U(this,Be,Be+3),U(this,Be+1,Be+2);return this},f.prototype.swap64=function(){var Ue=this.length;if(Ue%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Be=0;Be<Ue;Be+=8)U(this,Be,Be+7),U(this,Be+1,Be+6),U(this,Be+2,Be+5),U(this,Be+3,Be+4);return this},f.prototype.toString=function(){var Ue=this.length;return Ue===0?"":arguments.length===0?oe(this,0,Ue):I.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(Ue){if(!f.isBuffer(Ue))throw new TypeError("Argument must be a Buffer");return this===Ue?!0:f.compare(this,Ue)===0},f.prototype.inspect=function(){var Ue="",Be=V.INSPECT_MAX_BYTES;return Ue=this.toString("hex",0,Be).replace(/(.{2})/g,"$1 ").trim(),this.length>Be&&(Ue+=" ... "),"<Buffer "+Ue+">"},u&&(f.prototype[u]=f.prototype.inspect),f.prototype.compare=function(Ue,Be,rt,it,Ye){if($e(Ue,Uint8Array)&&(Ue=f.from(Ue,Ue.offset,Ue.byteLength)),!f.isBuffer(Ue))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+n(Ue));if(Be===void 0&&(Be=0),rt===void 0&&(rt=Ue?Ue.length:0),it===void 0&&(it=0),Ye===void 0&&(Ye=this.length),Be<0||rt>Ue.length||it<0||Ye>this.length)throw new RangeError("out of range index");if(it>=Ye&&Be>=rt)return 0;if(it>=Ye)return-1;if(Be>=rt)return 1;if(Be>>>=0,rt>>>=0,it>>>=0,Ye>>>=0,this===Ue)return 0;for(var De=Ye-it,Te=rt-Be,fe=Math.min(De,Te),me=this.slice(it,Ye),Re=Ue.slice(Be,rt),Oe=0;Oe<fe;++Oe)if(me[Oe]!==Re[Oe]){De=me[Oe],Te=Re[Oe];break}return De<Te?-1:Te<De?1:0};function z(Xe,Ue,Be,rt,it){if(Xe.length===0)return-1;if(typeof Be=="string"?(rt=Be,Be=0):Be>2147483647?Be=2147483647:Be<-2147483648&&(Be=-2147483648),Be=+Be,vt(Be)&&(Be=it?0:Xe.length-1),Be<0&&(Be=Xe.length+Be),Be>=Xe.length){if(it)return-1;Be=Xe.length-1}else if(Be<0)if(it)Be=0;else return-1;if(typeof Ue=="string"&&(Ue=f.from(Ue,rt)),f.isBuffer(Ue))return Ue.length===0?-1:N(Xe,Ue,Be,rt,it);if(typeof Ue=="number")return Ue=Ue&255,typeof Uint8Array.prototype.indexOf=="function"?it?Uint8Array.prototype.indexOf.call(Xe,Ue,Be):Uint8Array.prototype.lastIndexOf.call(Xe,Ue,Be):N(Xe,[Ue],Be,rt,it);throw new TypeError("val must be string, number or Buffer")}function N(Xe,Ue,Be,rt,it){var Ye=1,De=Xe.length,Te=Ue.length;if(rt!==void 0&&(rt=String(rt).toLowerCase(),rt==="ucs2"||rt==="ucs-2"||rt==="utf16le"||rt==="utf-16le")){if(Xe.length<2||Ue.length<2)return-1;Ye=2,De/=2,Te/=2,Be/=2}function fe(ut,Tt){return Ye===1?ut[Tt]:ut.readUInt16BE(Tt*Ye)}var me;if(it){var Re=-1;for(me=Be;me<De;me++)if(fe(Xe,me)===fe(Ue,Re===-1?0:me-Re)){if(Re===-1&&(Re=me),me-Re+1===Te)return Re*Ye}else Re!==-1&&(me-=me-Re),Re=-1}else for(Be+Te>De&&(Be=De-Te),me=Be;me>=0;me--){for(var Oe=!0,st=0;st<Te;st++)if(fe(Xe,me+st)!==fe(Ue,st)){Oe=!1;break}if(Oe)return me}return-1}f.prototype.includes=function(Ue,Be,rt){return this.indexOf(Ue,Be,rt)!==-1},f.prototype.indexOf=function(Ue,Be,rt){return z(this,Ue,Be,rt,!0)},f.prototype.lastIndexOf=function(Ue,Be,rt){return z(this,Ue,Be,rt,!1)};function B(Xe,Ue,Be,rt){Be=Number(Be)||0;var it=Xe.length-Be;rt?(rt=Number(rt),rt>it&&(rt=it)):rt=it;var Ye=Ue.length;rt>Ye/2&&(rt=Ye/2);var De;for(De=0;De<rt;++De){var Te=parseInt(Ue.substr(De*2,2),16);if(vt(Te))return De;Xe[Be+De]=Te}return De}function F(Xe,Ue,Be,rt){return Ke(Pe(Ue,Xe.length-Be),Xe,Be,rt)}function H(Xe,Ue,Be,rt){return Ke(Ge(Ue),Xe,Be,rt)}function X(Xe,Ue,Be,rt){return Ke(qe(Ue),Xe,Be,rt)}function q(Xe,Ue,Be,rt){return Ke(nt(Ue,Xe.length-Be),Xe,Be,rt)}f.prototype.write=function(Ue,Be,rt,it){if(Be===void 0)it="utf8",rt=this.length,Be=0;else if(rt===void 0&&typeof Be=="string")it=Be,rt=this.length,Be=0;else if(isFinite(Be))Be=Be>>>0,isFinite(rt)?(rt=rt>>>0,it===void 0&&(it="utf8")):(it=rt,rt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ye=this.length-Be;if((rt===void 0||rt>Ye)&&(rt=Ye),Ue.length>0&&(rt<0||Be<0)||Be>this.length)throw new RangeError("Attempt to write outside buffer bounds");it||(it="utf8");for(var De=!1;;)switch(it){case"hex":return B(this,Ue,Be,rt);case"utf8":case"utf-8":return F(this,Ue,Be,rt);case"ascii":case"latin1":case"binary":return H(this,Ue,Be,rt);case"base64":return X(this,Ue,Be,rt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,Ue,Be,rt);default:if(De)throw new TypeError("Unknown encoding: "+it);it=(""+it).toLowerCase(),De=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(Xe,Ue,Be){return Ue===0&&Be===Xe.length?s.fromByteArray(Xe):s.fromByteArray(Xe.slice(Ue,Be))}function oe(Xe,Ue,Be){Be=Math.min(Xe.length,Be);for(var rt=[],it=Ue;it<Be;){var Ye=Xe[it],De=null,Te=Ye>239?4:Ye>223?3:Ye>191?2:1;if(it+Te<=Be){var fe=void 0,me=void 0,Re=void 0,Oe=void 0;switch(Te){case 1:Ye<128&&(De=Ye);break;case 2:fe=Xe[it+1],(fe&192)===128&&(Oe=(Ye&31)<<6|fe&63,Oe>127&&(De=Oe));break;case 3:fe=Xe[it+1],me=Xe[it+2],(fe&192)===128&&(me&192)===128&&(Oe=(Ye&15)<<12|(fe&63)<<6|me&63,Oe>2047&&(Oe<55296||Oe>57343)&&(De=Oe));break;case 4:fe=Xe[it+1],me=Xe[it+2],Re=Xe[it+3],(fe&192)===128&&(me&192)===128&&(Re&192)===128&&(Oe=(Ye&15)<<18|(fe&63)<<12|(me&63)<<6|Re&63,Oe>65535&&Oe<1114112&&(De=Oe))}}De===null?(De=65533,Te=1):De>65535&&(De-=65536,rt.push(De>>>10&1023|55296),De=56320|De&1023),rt.push(De),it+=Te}return J(rt)}var ve=4096;function J(Xe){var Ue=Xe.length;if(Ue<=ve)return String.fromCharCode.apply(String,Xe);for(var Be="",rt=0;rt<Ue;)Be+=String.fromCharCode.apply(String,Xe.slice(rt,rt+=ve));return Be}function Y(Xe,Ue,Be){var rt="";Be=Math.min(Xe.length,Be);for(var it=Ue;it<Be;++it)rt+=String.fromCharCode(Xe[it]&127);return rt}function j(Xe,Ue,Be){var rt="";Be=Math.min(Xe.length,Be);for(var it=Ue;it<Be;++it)rt+=String.fromCharCode(Xe[it]);return rt}function K(Xe,Ue,Be){var rt=Xe.length;(!Ue||Ue<0)&&(Ue=0),(!Be||Be<0||Be>rt)&&(Be=rt);for(var it="",Ye=Ue;Ye<Be;++Ye)it+=yt[Xe[Ye]];return it}function te(Xe,Ue,Be){for(var rt=Xe.slice(Ue,Be),it="",Ye=0;Ye<rt.length-1;Ye+=2)it+=String.fromCharCode(rt[Ye]+rt[Ye+1]*256);return it}f.prototype.slice=function(Ue,Be){var rt=this.length;Ue=~~Ue,Be=Be===void 0?rt:~~Be,Ue<0?(Ue+=rt,Ue<0&&(Ue=0)):Ue>rt&&(Ue=rt),Be<0?(Be+=rt,Be<0&&(Be=0)):Be>rt&&(Be=rt),Be<Ue&&(Be=Ue);var it=this.subarray(Ue,Be);return Object.setPrototypeOf(it,f.prototype),it};function se(Xe,Ue,Be){if(Xe%1!==0||Xe<0)throw new RangeError("offset is not uint");if(Xe+Ue>Be)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(Ue,Be,rt){Ue=Ue>>>0,Be=Be>>>0,rt||se(Ue,Be,this.length);for(var it=this[Ue],Ye=1,De=0;++De<Be&&(Ye*=256);)it+=this[Ue+De]*Ye;return it},f.prototype.readUintBE=f.prototype.readUIntBE=function(Ue,Be,rt){Ue=Ue>>>0,Be=Be>>>0,rt||se(Ue,Be,this.length);for(var it=this[Ue+--Be],Ye=1;Be>0&&(Ye*=256);)it+=this[Ue+--Be]*Ye;return it},f.prototype.readUint8=f.prototype.readUInt8=function(Ue,Be){return Ue=Ue>>>0,Be||se(Ue,1,this.length),this[Ue]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(Ue,Be){return Ue=Ue>>>0,Be||se(Ue,2,this.length),this[Ue]|this[Ue+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(Ue,Be){return Ue=Ue>>>0,Be||se(Ue,2,this.length),this[Ue]<<8|this[Ue+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(Ue,Be){return Ue=Ue>>>0,Be||se(Ue,4,this.length),(this[Ue]|this[Ue+1]<<8|this[Ue+2]<<16)+this[Ue+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(Ue,Be){return Ue=Ue>>>0,Be||se(Ue,4,this.length),this[Ue]*16777216+(this[Ue+1]<<16|this[Ue+2]<<8|this[Ue+3])},f.prototype.readBigUInt64LE=mt(function(Ue){Ue=Ue>>>0,be(Ue,"offset");var Be=this[Ue],rt=this[Ue+7];(Be===void 0||rt===void 0)&&we(Ue,this.length-8);var it=Be+this[++Ue]*Math.pow(2,8)+this[++Ue]*Math.pow(2,16)+this[++Ue]*Math.pow(2,24),Ye=this[++Ue]+this[++Ue]*Math.pow(2,8)+this[++Ue]*Math.pow(2,16)+rt*Math.pow(2,24);return BigInt(it)+(BigInt(Ye)<<BigInt(32))}),f.prototype.readBigUInt64BE=mt(function(Ue){Ue=Ue>>>0,be(Ue,"offset");var Be=this[Ue],rt=this[Ue+7];(Be===void 0||rt===void 0)&&we(Ue,this.length-8);var it=Be*Math.pow(2,24)+this[++Ue]*Math.pow(2,16)+this[++Ue]*Math.pow(2,8)+this[++Ue],Ye=this[++Ue]*Math.pow(2,24)+this[++Ue]*Math.pow(2,16)+this[++Ue]*Math.pow(2,8)+rt;return(BigInt(it)<<BigInt(32))+BigInt(Ye)}),f.prototype.readIntLE=function(Ue,Be,rt){Ue=Ue>>>0,Be=Be>>>0,rt||se(Ue,Be,this.length);for(var it=this[Ue],Ye=1,De=0;++De<Be&&(Ye*=256);)it+=this[Ue+De]*Ye;return Ye*=128,it>=Ye&&(it-=Math.pow(2,8*Be)),it},f.prototype.readIntBE=function(Ue,Be,rt){Ue=Ue>>>0,Be=Be>>>0,rt||se(Ue,Be,this.length);for(var it=Be,Ye=1,De=this[Ue+--it];it>0&&(Ye*=256);)De+=this[Ue+--it]*Ye;return Ye*=128,De>=Ye&&(De-=Math.pow(2,8*Be)),De},f.prototype.readInt8=function(Ue,Be){return Ue=Ue>>>0,Be||se(Ue,1,this.length),this[Ue]&128?(255-this[Ue]+1)*-1:this[Ue]},f.prototype.readInt16LE=function(Ue,Be){Ue=Ue>>>0,Be||se(Ue,2,this.length);var rt=this[Ue]|this[Ue+1]<<8;return rt&32768?rt|4294901760:rt},f.prototype.readInt16BE=function(Ue,Be){Ue=Ue>>>0,Be||se(Ue,2,this.length);var rt=this[Ue+1]|this[Ue]<<8;return rt&32768?rt|4294901760:rt},f.prototype.readInt32LE=function(Ue,Be){return Ue=Ue>>>0,Be||se(Ue,4,this.length),this[Ue]|this[Ue+1]<<8|this[Ue+2]<<16|this[Ue+3]<<24},f.prototype.readInt32BE=function(Ue,Be){return Ue=Ue>>>0,Be||se(Ue,4,this.length),this[Ue]<<24|this[Ue+1]<<16|this[Ue+2]<<8|this[Ue+3]},f.prototype.readBigInt64LE=mt(function(Ue){Ue=Ue>>>0,be(Ue,"offset");var Be=this[Ue],rt=this[Ue+7];(Be===void 0||rt===void 0)&&we(Ue,this.length-8);var it=this[Ue+4]+this[Ue+5]*Math.pow(2,8)+this[Ue+6]*Math.pow(2,16)+(rt<<24);return(BigInt(it)<<BigInt(32))+BigInt(Be+this[++Ue]*Math.pow(2,8)+this[++Ue]*Math.pow(2,16)+this[++Ue]*Math.pow(2,24))}),f.prototype.readBigInt64BE=mt(function(Ue){Ue=Ue>>>0,be(Ue,"offset");var Be=this[Ue],rt=this[Ue+7];(Be===void 0||rt===void 0)&&we(Ue,this.length-8);var it=(Be<<24)+this[++Ue]*Math.pow(2,16)+this[++Ue]*Math.pow(2,8)+this[++Ue];return(BigInt(it)<<BigInt(32))+BigInt(this[++Ue]*Math.pow(2,24)+this[++Ue]*Math.pow(2,16)+this[++Ue]*Math.pow(2,8)+rt)}),f.prototype.readFloatLE=function(Ue,Be){return Ue=Ue>>>0,Be||se(Ue,4,this.length),c.read(this,Ue,!0,23,4)},f.prototype.readFloatBE=function(Ue,Be){return Ue=Ue>>>0,Be||se(Ue,4,this.length),c.read(this,Ue,!1,23,4)},f.prototype.readDoubleLE=function(Ue,Be){return Ue=Ue>>>0,Be||se(Ue,8,this.length),c.read(this,Ue,!0,52,8)},f.prototype.readDoubleBE=function(Ue,Be){return Ue=Ue>>>0,Be||se(Ue,8,this.length),c.read(this,Ue,!1,52,8)};function Q(Xe,Ue,Be,rt,it,Ye){if(!f.isBuffer(Xe))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ue>it||Ue<Ye)throw new RangeError('"value" argument is out of bounds');if(Be+rt>Xe.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(Ue,Be,rt,it){if(Ue=+Ue,Be=Be>>>0,rt=rt>>>0,!it){var Ye=Math.pow(2,8*rt)-1;Q(this,Ue,Be,rt,Ye,0)}var De=1,Te=0;for(this[Be]=Ue&255;++Te<rt&&(De*=256);)this[Be+Te]=Ue/De&255;return Be+rt},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(Ue,Be,rt,it){if(Ue=+Ue,Be=Be>>>0,rt=rt>>>0,!it){var Ye=Math.pow(2,8*rt)-1;Q(this,Ue,Be,rt,Ye,0)}var De=rt-1,Te=1;for(this[Be+De]=Ue&255;--De>=0&&(Te*=256);)this[Be+De]=Ue/Te&255;return Be+rt},f.prototype.writeUint8=f.prototype.writeUInt8=function(Ue,Be,rt){return Ue=+Ue,Be=Be>>>0,rt||Q(this,Ue,Be,1,255,0),this[Be]=Ue&255,Be+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(Ue,Be,rt){return Ue=+Ue,Be=Be>>>0,rt||Q(this,Ue,Be,2,65535,0),this[Be]=Ue&255,this[Be+1]=Ue>>>8,Be+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(Ue,Be,rt){return Ue=+Ue,Be=Be>>>0,rt||Q(this,Ue,Be,2,65535,0),this[Be]=Ue>>>8,this[Be+1]=Ue&255,Be+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(Ue,Be,rt){return Ue=+Ue,Be=Be>>>0,rt||Q(this,Ue,Be,4,4294967295,0),this[Be+3]=Ue>>>24,this[Be+2]=Ue>>>16,this[Be+1]=Ue>>>8,this[Be]=Ue&255,Be+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(Ue,Be,rt){return Ue=+Ue,Be=Be>>>0,rt||Q(this,Ue,Be,4,4294967295,0),this[Be]=Ue>>>24,this[Be+1]=Ue>>>16,this[Be+2]=Ue>>>8,this[Be+3]=Ue&255,Be+4};function ee(Xe,Ue,Be,rt,it){Ce(Ue,rt,it,Xe,Be,7);var Ye=Number(Ue&BigInt(4294967295));Xe[Be++]=Ye,Ye=Ye>>8,Xe[Be++]=Ye,Ye=Ye>>8,Xe[Be++]=Ye,Ye=Ye>>8,Xe[Be++]=Ye;var De=Number(Ue>>BigInt(32)&BigInt(4294967295));return Xe[Be++]=De,De=De>>8,Xe[Be++]=De,De=De>>8,Xe[Be++]=De,De=De>>8,Xe[Be++]=De,Be}function le(Xe,Ue,Be,rt,it){Ce(Ue,rt,it,Xe,Be,7);var Ye=Number(Ue&BigInt(4294967295));Xe[Be+7]=Ye,Ye=Ye>>8,Xe[Be+6]=Ye,Ye=Ye>>8,Xe[Be+5]=Ye,Ye=Ye>>8,Xe[Be+4]=Ye;var De=Number(Ue>>BigInt(32)&BigInt(4294967295));return Xe[Be+3]=De,De=De>>8,Xe[Be+2]=De,De=De>>8,Xe[Be+1]=De,De=De>>8,Xe[Be]=De,Be+8}f.prototype.writeBigUInt64LE=mt(function(Ue){var Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ee(this,Ue,Be,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=mt(function(Ue){var Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return le(this,Ue,Be,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(Ue,Be,rt,it){if(Ue=+Ue,Be=Be>>>0,!it){var Ye=Math.pow(2,8*rt-1);Q(this,Ue,Be,rt,Ye-1,-Ye)}var De=0,Te=1,fe=0;for(this[Be]=Ue&255;++De<rt&&(Te*=256);)Ue<0&&fe===0&&this[Be+De-1]!==0&&(fe=1),this[Be+De]=(Ue/Te>>0)-fe&255;return Be+rt},f.prototype.writeIntBE=function(Ue,Be,rt,it){if(Ue=+Ue,Be=Be>>>0,!it){var Ye=Math.pow(2,8*rt-1);Q(this,Ue,Be,rt,Ye-1,-Ye)}var De=rt-1,Te=1,fe=0;for(this[Be+De]=Ue&255;--De>=0&&(Te*=256);)Ue<0&&fe===0&&this[Be+De+1]!==0&&(fe=1),this[Be+De]=(Ue/Te>>0)-fe&255;return Be+rt},f.prototype.writeInt8=function(Ue,Be,rt){return Ue=+Ue,Be=Be>>>0,rt||Q(this,Ue,Be,1,127,-128),Ue<0&&(Ue=255+Ue+1),this[Be]=Ue&255,Be+1},f.prototype.writeInt16LE=function(Ue,Be,rt){return Ue=+Ue,Be=Be>>>0,rt||Q(this,Ue,Be,2,32767,-32768),this[Be]=Ue&255,this[Be+1]=Ue>>>8,Be+2},f.prototype.writeInt16BE=function(Ue,Be,rt){return Ue=+Ue,Be=Be>>>0,rt||Q(this,Ue,Be,2,32767,-32768),this[Be]=Ue>>>8,this[Be+1]=Ue&255,Be+2},f.prototype.writeInt32LE=function(Ue,Be,rt){return Ue=+Ue,Be=Be>>>0,rt||Q(this,Ue,Be,4,2147483647,-2147483648),this[Be]=Ue&255,this[Be+1]=Ue>>>8,this[Be+2]=Ue>>>16,this[Be+3]=Ue>>>24,Be+4},f.prototype.writeInt32BE=function(Ue,Be,rt){return Ue=+Ue,Be=Be>>>0,rt||Q(this,Ue,Be,4,2147483647,-2147483648),Ue<0&&(Ue=4294967295+Ue+1),this[Be]=Ue>>>24,this[Be+1]=Ue>>>16,this[Be+2]=Ue>>>8,this[Be+3]=Ue&255,Be+4},f.prototype.writeBigInt64LE=mt(function(Ue){var Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ee(this,Ue,Be,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=mt(function(Ue){var Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return le(this,Ue,Be,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ie(Xe,Ue,Be,rt,it,Ye){if(Be+rt>Xe.length)throw new RangeError("Index out of range");if(Be<0)throw new RangeError("Index out of range")}function he(Xe,Ue,Be,rt,it){return Ue=+Ue,Be=Be>>>0,it||ie(Xe,Ue,Be,4),c.write(Xe,Ue,Be,rt,23,4),Be+4}f.prototype.writeFloatLE=function(Ue,Be,rt){return he(this,Ue,Be,!0,rt)},f.prototype.writeFloatBE=function(Ue,Be,rt){return he(this,Ue,Be,!1,rt)};function xe(Xe,Ue,Be,rt,it){return Ue=+Ue,Be=Be>>>0,it||ie(Xe,Ue,Be,8),c.write(Xe,Ue,Be,rt,52,8),Be+8}f.prototype.writeDoubleLE=function(Ue,Be,rt){return xe(this,Ue,Be,!0,rt)},f.prototype.writeDoubleBE=function(Ue,Be,rt){return xe(this,Ue,Be,!1,rt)},f.prototype.copy=function(Ue,Be,rt,it){if(!f.isBuffer(Ue))throw new TypeError("argument should be a Buffer");if(rt||(rt=0),!it&&it!==0&&(it=this.length),Be>=Ue.length&&(Be=Ue.length),Be||(Be=0),it>0&&it<rt&&(it=rt),it===rt||Ue.length===0||this.length===0)return 0;if(Be<0)throw new RangeError("targetStart out of bounds");if(rt<0||rt>=this.length)throw new RangeError("Index out of range");if(it<0)throw new RangeError("sourceEnd out of bounds");it>this.length&&(it=this.length),Ue.length-Be<it-rt&&(it=Ue.length-Be+rt);var Ye=it-rt;return this===Ue&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Be,rt,it):Uint8Array.prototype.set.call(Ue,this.subarray(rt,it),Be),Ye},f.prototype.fill=function(Ue,Be,rt,it){if(typeof Ue=="string"){if(typeof Be=="string"?(it=Be,Be=0,rt=this.length):typeof rt=="string"&&(it=rt,rt=this.length),it!==void 0&&typeof it!="string")throw new TypeError("encoding must be a string");if(typeof it=="string"&&!f.isEncoding(it))throw new TypeError("Unknown encoding: "+it);if(Ue.length===1){var Ye=Ue.charCodeAt(0);(it==="utf8"&&Ye<128||it==="latin1")&&(Ue=Ye)}}else typeof Ue=="number"?Ue=Ue&255:typeof Ue=="boolean"&&(Ue=Number(Ue));if(Be<0||this.length<Be||this.length<rt)throw new RangeError("Out of range index");if(rt<=Be)return this;Be=Be>>>0,rt=rt===void 0?this.length:rt>>>0,Ue||(Ue=0);var De;if(typeof Ue=="number")for(De=Be;De<rt;++De)this[De]=Ue;else{var Te=f.isBuffer(Ue)?Ue:f.from(Ue,it),fe=Te.length;if(fe===0)throw new TypeError('The value "'+Ue+'" is invalid for argument "value"');for(De=0;De<rt-Be;++De)this[De+Be]=Te[De%fe]}return this};var Se={};function Ee(Xe,Ue,Be){Se[Xe]=function(rt){L(Ye,rt);var it=v(Ye);function Ye(){var De;return g(this,Ye),De=it.call(this),Object.defineProperty(t(De),"message",{value:Ue.apply(t(De),arguments),writable:!0,configurable:!0}),De.name="".concat(De.name," [").concat(Xe,"]"),De.stack,delete De.name,De}return i(Ye,[{key:"code",get:function(){return Xe},set:function(Te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Te,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Xe,"]: ").concat(this.message)}}]),Ye}(Be)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(Xe){return Xe?"".concat(Xe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(Xe,Ue){return'The "'.concat(Xe,'" argument must be of type number. Received type ').concat(n(Ue))},TypeError),Ee("ERR_OUT_OF_RANGE",function(Xe,Ue,Be){var rt='The value of "'.concat(Xe,'" is out of range.'),it=Be;return Number.isInteger(Be)&&Math.abs(Be)>Math.pow(2,32)?it=Ne(String(Be)):typeof Be=="bigint"&&(it=String(Be),(Be>Math.pow(BigInt(2),BigInt(32))||Be<-Math.pow(BigInt(2),BigInt(32)))&&(it=Ne(it)),it+="n"),rt+=" It must be ".concat(Ue,". Received ").concat(it),rt},RangeError);function Ne(Xe){for(var Ue="",Be=Xe.length,rt=Xe[0]==="-"?1:0;Be>=rt+4;Be-=3)Ue="_".concat(Xe.slice(Be-3,Be)).concat(Ue);return"".concat(Xe.slice(0,Be)).concat(Ue)}function He(Xe,Ue,Be){be(Ue,"offset"),(Xe[Ue]===void 0||Xe[Ue+Be]===void 0)&&we(Ue,Xe.length-(Be+1))}function Ce(Xe,Ue,Be,rt,it,Ye){if(Xe>Be||Xe<Ue){var De=typeof Ue=="bigint"?"n":"",Te;throw Ye>3?Ue===0||Ue===BigInt(0)?Te=">= 0".concat(De," and < 2").concat(De," ** ").concat((Ye+1)*8).concat(De):Te=">= -(2".concat(De," ** ").concat((Ye+1)*8-1).concat(De,") and < 2 ** ")+"".concat((Ye+1)*8-1).concat(De):Te=">= ".concat(Ue).concat(De," and <= ").concat(Be).concat(De),new Se.ERR_OUT_OF_RANGE("value",Te,Xe)}He(rt,it,Ye)}function be(Xe,Ue){if(typeof Xe!="number")throw new Se.ERR_INVALID_ARG_TYPE(Ue,"number",Xe)}function we(Xe,Ue,Be){throw Math.floor(Xe)!==Xe?(be(Xe,Be),new Se.ERR_OUT_OF_RANGE(Be||"offset","an integer",Xe)):Ue<0?new Se.ERR_BUFFER_OUT_OF_BOUNDS:new Se.ERR_OUT_OF_RANGE(Be||"offset",">= ".concat(Be?1:0," and <= ").concat(Ue),Xe)}var ke=/[^+/0-9A-Za-z-_]/g;function Fe(Xe){if(Xe=Xe.split("=")[0],Xe=Xe.trim().replace(ke,""),Xe.length<2)return"";for(;Xe.length%4!==0;)Xe=Xe+"=";return Xe}function Pe(Xe,Ue){Ue=Ue||1/0;for(var Be,rt=Xe.length,it=null,Ye=[],De=0;De<rt;++De){if(Be=Xe.charCodeAt(De),Be>55295&&Be<57344){if(!it){if(Be>56319){(Ue-=3)>-1&&Ye.push(239,191,189);continue}else if(De+1===rt){(Ue-=3)>-1&&Ye.push(239,191,189);continue}it=Be;continue}if(Be<56320){(Ue-=3)>-1&&Ye.push(239,191,189),it=Be;continue}Be=(it-55296<<10|Be-56320)+65536}else it&&(Ue-=3)>-1&&Ye.push(239,191,189);if(it=null,Be<128){if((Ue-=1)<0)break;Ye.push(Be)}else if(Be<2048){if((Ue-=2)<0)break;Ye.push(Be>>6|192,Be&63|128)}else if(Be<65536){if((Ue-=3)<0)break;Ye.push(Be>>12|224,Be>>6&63|128,Be&63|128)}else if(Be<1114112){if((Ue-=4)<0)break;Ye.push(Be>>18|240,Be>>12&63|128,Be>>6&63|128,Be&63|128)}else throw new Error("Invalid code point")}return Ye}function Ge(Xe){for(var Ue=[],Be=0;Be<Xe.length;++Be)Ue.push(Xe.charCodeAt(Be)&255);return Ue}function nt(Xe,Ue){for(var Be,rt,it,Ye=[],De=0;De<Xe.length&&!((Ue-=2)<0);++De)Be=Xe.charCodeAt(De),rt=Be>>8,it=Be%256,Ye.push(it),Ye.push(rt);return Ye}function qe(Xe){return s.toByteArray(Fe(Xe))}function Ke(Xe,Ue,Be,rt){var it;for(it=0;it<rt&&!(it+Be>=Ue.length||it>=Xe.length);++it)Ue[it+Be]=Xe[it];return it}function $e(Xe,Ue){return Xe instanceof Ue||Xe!=null&&Xe.constructor!=null&&Xe.constructor.name!=null&&Xe.constructor.name===Ue.name}function vt(Xe){return Xe!==Xe}var yt=function(){for(var Xe="0123456789abcdef",Ue=new Array(256),Be=0;Be<16;++Be)for(var rt=Be*16,it=0;it<16;++it)Ue[rt+it]=Xe[Be]+Xe[it];return Ue}();function mt(Xe){return typeof BigInt>"u"?Et:Xe}function Et(){throw new Error("BigInt not supported")}},35791:function(G){G.exports=R,G.exports.isMobile=R,G.exports.default=R;var V=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,g=/android|ipad|playbook|silk/i;function R(i){i||(i={});var L=i.ua;if(!L&&typeof navigator<"u"&&(L=navigator.userAgent),L&&L.headers&&typeof L.headers["user-agent"]=="string"&&(L=L.headers["user-agent"]),typeof L!="string")return!1;var T=V.test(L)&&!e.test(L)||!!i.tablet&&g.test(L);return!T&&i.tablet&&i.featureDetect&&navigator&&navigator.maxTouchPoints>1&&L.indexOf("Macintosh")!==-1&&L.indexOf("Safari")!==-1&&(T=!0),T}},86781:function(G,V,e){e.r(V),e.d(V,{sankeyCenter:function(){return l},sankeyCircular:function(){return E},sankeyJustify:function(){return r},sankeyLeft:function(){return p},sankeyRight:function(){return t}});var g=e(33064),R=e(15140),i=e(45879),L=e(2502),T=e.n(L);function v(Ee){return Ee.target.depth}function p(Ee){return Ee.depth}function t(Ee,Ne){return Ne-1-Ee.height}function r(Ee,Ne){return Ee.sourceLinks.length?Ee.depth:Ne-1}function l(Ee){return Ee.targetLinks.length?Ee.depth:Ee.sourceLinks.length?(0,g.VV)(Ee.sourceLinks,v)-1:0}function n(Ee){return function(){return Ee}}var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ee){return typeof Ee}:function(Ee){return Ee&&typeof Symbol=="function"&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee};function c(Ee,Ne){return y(Ee.source,Ne.source)||Ee.index-Ne.index}function u(Ee,Ne){return y(Ee.target,Ne.target)||Ee.index-Ne.index}function y(Ee,Ne){return Ee.partOfCycle===Ne.partOfCycle?Ee.y0-Ne.y0:Ee.circularLinkType==="top"||Ne.circularLinkType==="bottom"?-1:1}function h(Ee){return Ee.value}function b(Ee){return(Ee.y0+Ee.y1)/2}function f(Ee){return b(Ee.source)}function o(Ee){return b(Ee.target)}function d(Ee){return Ee.index}function A(Ee){return Ee.nodes}function M(Ee){return Ee.links}function C(Ee,Ne){var He=Ee.get(Ne);if(!He)throw new Error("missing: "+Ne);return He}function m(Ee,Ne){return Ne(Ee)}var S=25,x=10,a=.3;function E(){var Ee=0,Ne=0,He=1,Ce=1,be=24,we,ke=d,Fe=r,Pe=A,Ge=M,nt=32,qe=2,Ke,$e=null;function vt(){var it={nodes:Pe.apply(null,arguments),links:Ge.apply(null,arguments)};yt(it),w(it,ke,$e),mt(it),Ue(it),k(it,ke),Be(it,nt,ke),rt(it);for(var Ye=4,De=0;De<Ye;De++)ee(it,Ce,ke),le(it,Ce,ke),te(it,Ne,Ce,ke),ee(it,Ce,ke),le(it,Ce,ke);return Se(it,Ne,Ce),F(it,qe,Ce,ke),it}vt.nodeId=function(it){return arguments.length?(ke=typeof it=="function"?it:n(it),vt):ke},vt.nodeAlign=function(it){return arguments.length?(Fe=typeof it=="function"?it:n(it),vt):Fe},vt.nodeWidth=function(it){return arguments.length?(be=+it,vt):be},vt.nodePadding=function(it){return arguments.length?(we=+it,vt):we},vt.nodes=function(it){return arguments.length?(Pe=typeof it=="function"?it:n(it),vt):Pe},vt.links=function(it){return arguments.length?(Ge=typeof it=="function"?it:n(it),vt):Ge},vt.size=function(it){return arguments.length?(Ee=Ne=0,He=+it[0],Ce=+it[1],vt):[He-Ee,Ce-Ne]},vt.extent=function(it){return arguments.length?(Ee=+it[0][0],He=+it[1][0],Ne=+it[0][1],Ce=+it[1][1],vt):[[Ee,Ne],[He,Ce]]},vt.iterations=function(it){return arguments.length?(nt=+it,vt):nt},vt.circularLinkGap=function(it){return arguments.length?(qe=+it,vt):qe},vt.nodePaddingRatio=function(it){return arguments.length?(Ke=+it,vt):Ke},vt.sortNodes=function(it){return arguments.length?($e=it,vt):$e},vt.update=function(it){return k(it,ke),rt(it),it.links.forEach(function(Ye){Ye.circular&&(Ye.circularLinkType=Ye.y0+Ye.y1<Ce?"top":"bottom",Ye.source.circularLinkType=Ye.circularLinkType,Ye.target.circularLinkType=Ye.circularLinkType)}),ee(it,Ce,ke,!1),le(it,Ce,ke),F(it,qe,Ce,ke),it};function yt(it){it.nodes.forEach(function(De,Te){De.index=Te,De.sourceLinks=[],De.targetLinks=[]});var Ye=(0,R.UI)(it.nodes,ke);return it.links.forEach(function(De,Te){De.index=Te;var fe=De.source,me=De.target;(typeof fe>"u"?"undefined":s(fe))!=="object"&&(fe=De.source=C(Ye,fe)),(typeof me>"u"?"undefined":s(me))!=="object"&&(me=De.target=C(Ye,me)),fe.sourceLinks.push(De),me.targetLinks.push(De)}),it}function mt(it){it.nodes.forEach(function(Ye){Ye.partOfCycle=!1,Ye.value=Math.max((0,g.Sm)(Ye.sourceLinks,h),(0,g.Sm)(Ye.targetLinks,h)),Ye.sourceLinks.forEach(function(De){De.circular&&(Ye.partOfCycle=!0,Ye.circularLinkType=De.circularLinkType)}),Ye.targetLinks.forEach(function(De){De.circular&&(Ye.partOfCycle=!0,Ye.circularLinkType=De.circularLinkType)})})}function Et(it){var Ye=0,De=0,Te=0,fe=0,me=(0,g.Fp)(it.nodes,function(Re){return Re.column});return it.links.forEach(function(Re){Re.circular&&(Re.circularLinkType=="top"?Ye=Ye+Re.width:De=De+Re.width,Re.target.column==0&&(fe=fe+Re.width),Re.source.column==me&&(Te=Te+Re.width))}),Ye=Ye>0?Ye+S+x:Ye,De=De>0?De+S+x:De,Te=Te>0?Te+S+x:Te,fe=fe>0?fe+S+x:fe,{top:Ye,bottom:De,left:fe,right:Te}}function Xe(it,Ye){var De=(0,g.Fp)(it.nodes,function(ut){return ut.column}),Te=He-Ee,fe=Ce-Ne,me=Te+Ye.right+Ye.left,Re=fe+Ye.top+Ye.bottom,Oe=Te/me,st=fe/Re;return Ee=Ee*Oe+Ye.left,He=Ye.right==0?He:He*Oe,Ne=Ne*st+Ye.top,Ce=Ce*st,it.nodes.forEach(function(ut){ut.x0=Ee+ut.column*((He-Ee-be)/De),ut.x1=ut.x0+be}),st}function Ue(it){var Ye,De,Te;for(Ye=it.nodes,De=[],Te=0;Ye.length;++Te,Ye=De,De=[])Ye.forEach(function(fe){fe.depth=Te,fe.sourceLinks.forEach(function(me){De.indexOf(me.target)<0&&!me.circular&&De.push(me.target)})});for(Ye=it.nodes,De=[],Te=0;Ye.length;++Te,Ye=De,De=[])Ye.forEach(function(fe){fe.height=Te,fe.targetLinks.forEach(function(me){De.indexOf(me.source)<0&&!me.circular&&De.push(me.source)})});it.nodes.forEach(function(fe){fe.column=Math.floor(Fe.call(null,fe,Te))})}function Be(it,Ye,De){var Te=(0,R.b1)().key(function(ut){return ut.column}).sortKeys(g.j2).entries(it.nodes).map(function(ut){return ut.values});Re(De),st();for(var fe=1,me=Ye;me>0;--me)Oe(fe*=.99,De),st();function Re(ut){if(Ke){var Tt=1/0;Te.forEach(function(Pt){var Qt=Ce*Ke/(Pt.length+1);Tt=Qt<Tt?Qt:Tt}),we=Tt}var It=(0,g.VV)(Te,function(Pt){return(Ce-Ne-(Pt.length-1)*we)/(0,g.Sm)(Pt,h)});It=It*a,it.links.forEach(function(Pt){Pt.width=Pt.value*It});var Gt=Et(it),jt=Xe(it,Gt);It=It*jt,it.links.forEach(function(Pt){Pt.width=Pt.value*It}),Te.forEach(function(Pt){var Qt=Pt.length;Pt.forEach(function(or,zr){or.depth==Te.length-1&&Qt==1||or.depth==0&&Qt==1?(or.y0=Ce/2-or.value*It,or.y1=or.y0+or.value*It):or.partOfCycle?z(or,ut)==0?(or.y0=Ce/2+zr,or.y1=or.y0+or.value*It):or.circularLinkType=="top"?(or.y0=Ne+zr,or.y1=or.y0+or.value*It):(or.y0=Ce-or.value*It-zr,or.y1=or.y0+or.value*It):Gt.top==0||Gt.bottom==0?(or.y0=(Ce-Ne)/Qt*zr,or.y1=or.y0+or.value*It):(or.y0=(Ce-Ne)/2-Qt/2+zr,or.y1=or.y0+or.value*It)})})}function Oe(ut,Tt){var It=Te.length;Te.forEach(function(Gt){var jt=Gt.length,Pt=Gt[0].depth;Gt.forEach(function(Qt){var or;if((Qt.sourceLinks.length||Qt.targetLinks.length)&&!(Qt.partOfCycle&&z(Qt,Tt)>0))if(Pt==0&&jt==1)or=Qt.y1-Qt.y0,Qt.y0=Ce/2-or/2,Qt.y1=Ce/2+or/2;else if(Pt==It-1&&jt==1)or=Qt.y1-Qt.y0,Qt.y0=Ce/2-or/2,Qt.y1=Ce/2+or/2;else{var zr=0,bt=(0,g.J6)(Qt.sourceLinks,o),Jt=(0,g.J6)(Qt.targetLinks,f);bt&&Jt?zr=(bt+Jt)/2:zr=bt||Jt;var Zt=(zr-b(Qt))*ut;Qt.y0+=Zt,Qt.y1+=Zt}})})}function st(){Te.forEach(function(ut){var Tt,It,Gt=Ne,jt=ut.length,Pt;for(ut.sort(y),Pt=0;Pt<jt;++Pt)Tt=ut[Pt],It=Gt-Tt.y0,It>0&&(Tt.y0+=It,Tt.y1+=It),Gt=Tt.y1+we;if(It=Gt-we-Ce,It>0)for(Gt=Tt.y0-=It,Tt.y1-=It,Pt=jt-2;Pt>=0;--Pt)Tt=ut[Pt],It=Tt.y1+we-Gt,It>0&&(Tt.y0-=It,Tt.y1-=It),Gt=Tt.y0})}}function rt(it){it.nodes.forEach(function(Ye){Ye.sourceLinks.sort(u),Ye.targetLinks.sort(c)}),it.nodes.forEach(function(Ye){var De=Ye.y0,Te=De,fe=Ye.y1,me=fe;Ye.sourceLinks.forEach(function(Re){Re.circular?(Re.y0=fe-Re.width/2,fe=fe-Re.width):(Re.y0=De+Re.width/2,De+=Re.width)}),Ye.targetLinks.forEach(function(Re){Re.circular?(Re.y1=me-Re.width/2,me=me-Re.width):(Re.y1=Te+Re.width/2,Te+=Re.width)})})}return vt}function w(Ee,Ne,He){var Ce=0;if(He===null){for(var be=[],we=0;we<Ee.links.length;we++){var ke=Ee.links[we],Fe=ke.source.index,Pe=ke.target.index;be[Fe]||(be[Fe]=[]),be[Pe]||(be[Pe]=[]),be[Fe].indexOf(Pe)===-1&&be[Fe].push(Pe)}var Ge=T()(be);Ge.sort(function($e,vt){return $e.length-vt.length});var nt={};for(we=0;we<Ge.length;we++){var qe=Ge[we],Ke=qe.slice(-2);nt[Ke[0]]||(nt[Ke[0]]={}),nt[Ke[0]][Ke[1]]=!0}Ee.links.forEach(function($e){var vt=$e.target.index,yt=$e.source.index;vt===yt||nt[yt]&&nt[yt][vt]?($e.circular=!0,$e.circularLinkID=Ce,Ce=Ce+1):$e.circular=!1})}else Ee.links.forEach(function($e){$e.source[He]<$e.target[He]?$e.circular=!1:($e.circular=!0,$e.circularLinkID=Ce,Ce=Ce+1)})}function k(Ee,Ne){var He=0,Ce=0;Ee.links.forEach(function(be){be.circular&&(be.source.circularLinkType||be.target.circularLinkType?be.circularLinkType=be.source.circularLinkType?be.source.circularLinkType:be.target.circularLinkType:be.circularLinkType=He<Ce?"top":"bottom",be.circularLinkType=="top"?He=He+1:Ce=Ce+1,Ee.nodes.forEach(function(we){(m(we,Ne)==m(be.source,Ne)||m(we,Ne)==m(be.target,Ne))&&(we.circularLinkType=be.circularLinkType)}))}),Ee.links.forEach(function(be){be.circular&&(be.source.circularLinkType==be.target.circularLinkType&&(be.circularLinkType=be.source.circularLinkType),xe(be,Ne)&&(be.circularLinkType=be.source.circularLinkType))})}function I(Ee){var Ne=Math.abs(Ee.y1-Ee.y0),He=Math.abs(Ee.target.x0-Ee.source.x1);return Math.atan(He/Ne)}function U(Ee,Ne){return Ee.source.column<Ne.target.column?!1:!(Ee.target.column>Ne.source.column)}function z(Ee,Ne){var He=0;Ee.sourceLinks.forEach(function(be){He=be.circular&&!xe(be,Ne)?He+1:He});var Ce=0;return Ee.targetLinks.forEach(function(be){Ce=be.circular&&!xe(be,Ne)?Ce+1:Ce}),He+Ce}function N(Ee){var Ne=Ee.source.sourceLinks,He=0;Ne.forEach(function(we){He=we.circular?He+1:He});var Ce=Ee.target.targetLinks,be=0;return Ce.forEach(function(we){be=we.circular?be+1:be}),!(He>1||be>1)}function B(Ee,Ne,He){return Ee.sort(X),Ee.forEach(function(Ce,be){var we=0;if(xe(Ce,He)&&N(Ce))Ce.circularPathData.verticalBuffer=we+Ce.width/2;else{var ke=0;for(ke;ke<be;ke++)if(U(Ee[be],Ee[ke])){var Fe=Ee[ke].circularPathData.verticalBuffer+Ee[ke].width/2+Ne;we=Fe>we?Fe:we}Ce.circularPathData.verticalBuffer=we+Ce.width/2}}),Ee}function F(Ee,Ne,He,Ce){var be=5,we=(0,g.VV)(Ee.links,function(Pe){return Pe.source.y0});Ee.links.forEach(function(Pe){Pe.circular&&(Pe.circularPathData={})});var ke=Ee.links.filter(function(Pe){return Pe.circularLinkType=="top"});B(ke,Ne,Ce);var Fe=Ee.links.filter(function(Pe){return Pe.circularLinkType=="bottom"});B(Fe,Ne,Ce),Ee.links.forEach(function(Pe){if(Pe.circular){if(Pe.circularPathData.arcRadius=Pe.width+x,Pe.circularPathData.leftNodeBuffer=be,Pe.circularPathData.rightNodeBuffer=be,Pe.circularPathData.sourceWidth=Pe.source.x1-Pe.source.x0,Pe.circularPathData.sourceX=Pe.source.x0+Pe.circularPathData.sourceWidth,Pe.circularPathData.targetX=Pe.target.x0,Pe.circularPathData.sourceY=Pe.y0,Pe.circularPathData.targetY=Pe.y1,xe(Pe,Ce)&&N(Pe))Pe.circularPathData.leftSmallArcRadius=x+Pe.width/2,Pe.circularPathData.leftLargeArcRadius=x+Pe.width/2,Pe.circularPathData.rightSmallArcRadius=x+Pe.width/2,Pe.circularPathData.rightLargeArcRadius=x+Pe.width/2,Pe.circularLinkType=="bottom"?(Pe.circularPathData.verticalFullExtent=Pe.source.y1+S+Pe.circularPathData.verticalBuffer,Pe.circularPathData.verticalLeftInnerExtent=Pe.circularPathData.verticalFullExtent-Pe.circularPathData.leftLargeArcRadius,Pe.circularPathData.verticalRightInnerExtent=Pe.circularPathData.verticalFullExtent-Pe.circularPathData.rightLargeArcRadius):(Pe.circularPathData.verticalFullExtent=Pe.source.y0-S-Pe.circularPathData.verticalBuffer,Pe.circularPathData.verticalLeftInnerExtent=Pe.circularPathData.verticalFullExtent+Pe.circularPathData.leftLargeArcRadius,Pe.circularPathData.verticalRightInnerExtent=Pe.circularPathData.verticalFullExtent+Pe.circularPathData.rightLargeArcRadius);else{var Ge=Pe.source.column,nt=Pe.circularLinkType,qe=Ee.links.filter(function(vt){return vt.source.column==Ge&&vt.circularLinkType==nt});Pe.circularLinkType=="bottom"?qe.sort(ne):qe.sort(q);var Ke=0;qe.forEach(function(vt,yt){vt.circularLinkID==Pe.circularLinkID&&(Pe.circularPathData.leftSmallArcRadius=x+Pe.width/2+Ke,Pe.circularPathData.leftLargeArcRadius=x+Pe.width/2+yt*Ne+Ke),Ke=Ke+vt.width}),Ge=Pe.target.column,qe=Ee.links.filter(function(vt){return vt.target.column==Ge&&vt.circularLinkType==nt}),Pe.circularLinkType=="bottom"?qe.sort(ve):qe.sort(oe),Ke=0,qe.forEach(function(vt,yt){vt.circularLinkID==Pe.circularLinkID&&(Pe.circularPathData.rightSmallArcRadius=x+Pe.width/2+Ke,Pe.circularPathData.rightLargeArcRadius=x+Pe.width/2+yt*Ne+Ke),Ke=Ke+vt.width}),Pe.circularLinkType=="bottom"?(Pe.circularPathData.verticalFullExtent=Math.max(He,Pe.source.y1,Pe.target.y1)+S+Pe.circularPathData.verticalBuffer,Pe.circularPathData.verticalLeftInnerExtent=Pe.circularPathData.verticalFullExtent-Pe.circularPathData.leftLargeArcRadius,Pe.circularPathData.verticalRightInnerExtent=Pe.circularPathData.verticalFullExtent-Pe.circularPathData.rightLargeArcRadius):(Pe.circularPathData.verticalFullExtent=we-S-Pe.circularPathData.verticalBuffer,Pe.circularPathData.verticalLeftInnerExtent=Pe.circularPathData.verticalFullExtent+Pe.circularPathData.leftLargeArcRadius,Pe.circularPathData.verticalRightInnerExtent=Pe.circularPathData.verticalFullExtent+Pe.circularPathData.rightLargeArcRadius)}Pe.circularPathData.leftInnerExtent=Pe.circularPathData.sourceX+Pe.circularPathData.leftNodeBuffer,Pe.circularPathData.rightInnerExtent=Pe.circularPathData.targetX-Pe.circularPathData.rightNodeBuffer,Pe.circularPathData.leftFullExtent=Pe.circularPathData.sourceX+Pe.circularPathData.leftLargeArcRadius+Pe.circularPathData.leftNodeBuffer,Pe.circularPathData.rightFullExtent=Pe.circularPathData.targetX-Pe.circularPathData.rightLargeArcRadius-Pe.circularPathData.rightNodeBuffer}if(Pe.circular)Pe.path=H(Pe);else{var $e=(0,i.h5)().source(function(vt){var yt=vt.source.x0+(vt.source.x1-vt.source.x0),mt=vt.y0;return[yt,mt]}).target(function(vt){var yt=vt.target.x0,mt=vt.y1;return[yt,mt]});Pe.path=$e(Pe)}})}function H(Ee){var Ne="";return Ee.circularLinkType=="top"?Ne="M"+Ee.circularPathData.sourceX+" "+Ee.circularPathData.sourceY+" L"+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.sourceY+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ee.circularPathData.leftFullExtent+" "+(Ee.circularPathData.sourceY-Ee.circularPathData.leftSmallArcRadius)+" L"+Ee.circularPathData.leftFullExtent+" "+Ee.circularPathData.verticalLeftInnerExtent+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" L"+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ee.circularPathData.rightFullExtent+" "+Ee.circularPathData.verticalRightInnerExtent+" L"+Ee.circularPathData.rightFullExtent+" "+(Ee.circularPathData.targetY-Ee.circularPathData.rightSmallArcRadius)+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.targetY+" L"+Ee.circularPathData.targetX+" "+Ee.circularPathData.targetY:Ne="M"+Ee.circularPathData.sourceX+" "+Ee.circularPathData.sourceY+" L"+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.sourceY+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ee.circularPathData.leftFullExtent+" "+(Ee.circularPathData.sourceY+Ee.circularPathData.leftSmallArcRadius)+" L"+Ee.circularPathData.leftFullExtent+" "+Ee.circularPathData.verticalLeftInnerExtent+" A"+Ee.circularPathData.leftLargeArcRadius+" "+Ee.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ee.circularPathData.leftInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" L"+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.verticalFullExtent+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ee.circularPathData.rightFullExtent+" "+Ee.circularPathData.verticalRightInnerExtent+" L"+Ee.circularPathData.rightFullExtent+" "+(Ee.circularPathData.targetY+Ee.circularPathData.rightSmallArcRadius)+" A"+Ee.circularPathData.rightLargeArcRadius+" "+Ee.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ee.circularPathData.rightInnerExtent+" "+Ee.circularPathData.targetY+" L"+Ee.circularPathData.targetX+" "+Ee.circularPathData.targetY,Ne}function X(Ee,Ne){return J(Ee)==J(Ne)?Ee.circularLinkType=="bottom"?ne(Ee,Ne):q(Ee,Ne):J(Ne)-J(Ee)}function q(Ee,Ne){return Ee.y0-Ne.y0}function ne(Ee,Ne){return Ne.y0-Ee.y0}function oe(Ee,Ne){return Ee.y1-Ne.y1}function ve(Ee,Ne){return Ne.y1-Ee.y1}function J(Ee){return Ee.target.column-Ee.source.column}function Y(Ee){return Ee.target.x0-Ee.source.x1}function j(Ee,Ne){var He=I(Ee),Ce=Y(Ne)/Math.tan(He),be=he(Ee)=="up"?Ee.y1+Ce:Ee.y1-Ce;return be}function K(Ee,Ne){var He=I(Ee),Ce=Y(Ne)/Math.tan(He),be=he(Ee)=="up"?Ee.y1-Ce:Ee.y1+Ce;return be}function te(Ee,Ne,He,Ce){Ee.links.forEach(function(be){if(!be.circular&&be.target.column-be.source.column>1){var we=be.source.column+1,ke=be.target.column-1,Fe=1,Pe=ke-we+1;for(Fe=1;we<=ke;we++,Fe++)Ee.nodes.forEach(function(Ge){if(Ge.column==we){var nt=Fe/(Pe+1),qe=Math.pow(1-nt,3),Ke=3*nt*Math.pow(1-nt,2),$e=3*Math.pow(nt,2)*(1-nt),vt=Math.pow(nt,3),yt=qe*be.y0+Ke*be.y0+$e*be.y1+vt*be.y1,mt=yt-be.width/2,Et=yt+be.width/2,Xe;mt>Ge.y0&&mt<Ge.y1?(Xe=Ge.y1-mt+10,Xe=Ge.circularLinkType=="bottom"?Xe:-Xe,Ge=Q(Ge,Xe,Ne,He),Ee.nodes.forEach(function(Ue){m(Ue,Ce)==m(Ge,Ce)||Ue.column!=Ge.column||se(Ge,Ue)&&Q(Ue,Xe,Ne,He)})):Et>Ge.y0&&Et<Ge.y1?(Xe=Et-Ge.y0+10,Ge=Q(Ge,Xe,Ne,He),Ee.nodes.forEach(function(Ue){m(Ue,Ce)==m(Ge,Ce)||Ue.column!=Ge.column||Ue.y0<Ge.y1&&Ue.y1>Ge.y1&&Q(Ue,Xe,Ne,He)})):mt<Ge.y0&&Et>Ge.y1&&(Xe=Et-Ge.y0+10,Ge=Q(Ge,Xe,Ne,He),Ee.nodes.forEach(function(Ue){m(Ue,Ce)==m(Ge,Ce)||Ue.column!=Ge.column||Ue.y0<Ge.y1&&Ue.y1>Ge.y1&&Q(Ue,Xe,Ne,He)}))}})}})}function se(Ee,Ne){return Ee.y0>Ne.y0&&Ee.y0<Ne.y1||Ee.y1>Ne.y0&&Ee.y1<Ne.y1?!0:Ee.y0<Ne.y0&&Ee.y1>Ne.y1}function Q(Ee,Ne,He,Ce){return Ee.y0+Ne>=He&&Ee.y1+Ne<=Ce&&(Ee.y0=Ee.y0+Ne,Ee.y1=Ee.y1+Ne,Ee.targetLinks.forEach(function(be){be.y1=be.y1+Ne}),Ee.sourceLinks.forEach(function(be){be.y0=be.y0+Ne})),Ee}function ee(Ee,Ne,He,Ce){Ee.nodes.forEach(function(be){Ce&&be.y+(be.y1-be.y0)>Ne&&(be.y=be.y-(be.y+(be.y1-be.y0)-Ne));var we=Ee.links.filter(function(Pe){return m(Pe.source,He)==m(be,He)}),ke=we.length;ke>1&&we.sort(function(Pe,Ge){if(!Pe.circular&&!Ge.circular){if(Pe.target.column==Ge.target.column)return Pe.y1-Ge.y1;if(ie(Pe,Ge)){if(Pe.target.column>Ge.target.column){var nt=K(Ge,Pe);return Pe.y1-nt}if(Ge.target.column>Pe.target.column){var qe=K(Pe,Ge);return qe-Ge.y1}}else return Pe.y1-Ge.y1}if(Pe.circular&&!Ge.circular)return Pe.circularLinkType=="top"?-1:1;if(Ge.circular&&!Pe.circular)return Ge.circularLinkType=="top"?1:-1;if(Pe.circular&&Ge.circular)return Pe.circularLinkType===Ge.circularLinkType&&Pe.circularLinkType=="top"?Pe.target.column===Ge.target.column?Pe.target.y1-Ge.target.y1:Ge.target.column-Pe.target.column:Pe.circularLinkType===Ge.circularLinkType&&Pe.circularLinkType=="bottom"?Pe.target.column===Ge.target.column?Ge.target.y1-Pe.target.y1:Pe.target.column-Ge.target.column:Pe.circularLinkType=="top"?-1:1});var Fe=be.y0;we.forEach(function(Pe){Pe.y0=Fe+Pe.width/2,Fe=Fe+Pe.width}),we.forEach(function(Pe,Ge){if(Pe.circularLinkType=="bottom"){var nt=Ge+1,qe=0;for(nt;nt<ke;nt++)qe=qe+we[nt].width;Pe.y0=be.y1-qe-Pe.width/2}})})}function le(Ee,Ne,He){Ee.nodes.forEach(function(Ce){var be=Ee.links.filter(function(Fe){return m(Fe.target,He)==m(Ce,He)}),we=be.length;we>1&&be.sort(function(Fe,Pe){if(!Fe.circular&&!Pe.circular){if(Fe.source.column==Pe.source.column)return Fe.y0-Pe.y0;if(ie(Fe,Pe)){if(Pe.source.column<Fe.source.column){var Ge=j(Pe,Fe);return Fe.y0-Ge}if(Fe.source.column<Pe.source.column){var nt=j(Fe,Pe);return nt-Pe.y0}}else return Fe.y0-Pe.y0}if(Fe.circular&&!Pe.circular)return Fe.circularLinkType=="top"?-1:1;if(Pe.circular&&!Fe.circular)return Pe.circularLinkType=="top"?1:-1;if(Fe.circular&&Pe.circular)return Fe.circularLinkType===Pe.circularLinkType&&Fe.circularLinkType=="top"?Fe.source.column===Pe.source.column?Fe.source.y1-Pe.source.y1:Fe.source.column-Pe.source.column:Fe.circularLinkType===Pe.circularLinkType&&Fe.circularLinkType=="bottom"?Fe.source.column===Pe.source.column?Fe.source.y1-Pe.source.y1:Pe.source.column-Fe.source.column:Fe.circularLinkType=="top"?-1:1});var ke=Ce.y0;be.forEach(function(Fe){Fe.y1=ke+Fe.width/2,ke=ke+Fe.width}),be.forEach(function(Fe,Pe){if(Fe.circularLinkType=="bottom"){var Ge=Pe+1,nt=0;for(Ge;Ge<we;Ge++)nt=nt+be[Ge].width;Fe.y1=Ce.y1-nt-Fe.width/2}})})}function ie(Ee,Ne){return he(Ee)==he(Ne)}function he(Ee){return Ee.y0-Ee.y1>0?"up":"down"}function xe(Ee,Ne){return m(Ee.source,Ne)==m(Ee.target,Ne)}function Se(Ee,Ne,He){var Ce=Ee.nodes,be=Ee.links,we=!1,ke=!1;if(be.forEach(function(Ke){Ke.circularLinkType=="top"?we=!0:Ke.circularLinkType=="bottom"&&(ke=!0)}),we==!1||ke==!1){var Fe=(0,g.VV)(Ce,function(Ke){return Ke.y0}),Pe=(0,g.Fp)(Ce,function(Ke){return Ke.y1}),Ge=Pe-Fe,nt=He-Ne,qe=nt/Ge;Ce.forEach(function(Ke){var $e=(Ke.y1-Ke.y0)*qe;Ke.y0=(Ke.y0-Fe)*qe,Ke.y1=Ke.y0+$e}),be.forEach(function(Ke){Ke.y0=(Ke.y0-Fe)*qe,Ke.y1=(Ke.y1-Fe)*qe,Ke.width=Ke.width*qe})}}},30838:function(G,V,e){e.r(V),e.d(V,{sankey:function(){return d},sankeyCenter:function(){return p},sankeyJustify:function(){return v},sankeyLeft:function(){return L},sankeyLinkHorizontal:function(){return m},sankeyRight:function(){return T}});var g=e(33064),R=e(15140);function i(S){return S.target.depth}function L(S){return S.depth}function T(S,x){return x-1-S.height}function v(S,x){return S.sourceLinks.length?S.depth:x-1}function p(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,g.VV)(S.sourceLinks,i)-1:0}function t(S){return function(){return S}}function r(S,x){return n(S.source,x.source)||S.index-x.index}function l(S,x){return n(S.target,x.target)||S.index-x.index}function n(S,x){return S.y0-x.y0}function s(S){return S.value}function c(S){return(S.y0+S.y1)/2}function u(S){return c(S.source)*S.value}function y(S){return c(S.target)*S.value}function h(S){return S.index}function b(S){return S.nodes}function f(S){return S.links}function o(S,x){var a=S.get(x);if(!a)throw new Error("missing: "+x);return a}function d(){var S=0,x=0,a=1,E=1,w=24,k=8,I=h,U=v,z=b,N=f,B=32,F=2/3;function H(){var J={nodes:z.apply(null,arguments),links:N.apply(null,arguments)};return X(J),q(J),ne(J),oe(J),ve(J),J}H.update=function(J){return ve(J),J},H.nodeId=function(J){return arguments.length?(I=typeof J=="function"?J:t(J),H):I},H.nodeAlign=function(J){return arguments.length?(U=typeof J=="function"?J:t(J),H):U},H.nodeWidth=function(J){return arguments.length?(w=+J,H):w},H.nodePadding=function(J){return arguments.length?(k=+J,H):k},H.nodes=function(J){return arguments.length?(z=typeof J=="function"?J:t(J),H):z},H.links=function(J){return arguments.length?(N=typeof J=="function"?J:t(J),H):N},H.size=function(J){return arguments.length?(S=x=0,a=+J[0],E=+J[1],H):[a-S,E-x]},H.extent=function(J){return arguments.length?(S=+J[0][0],a=+J[1][0],x=+J[0][1],E=+J[1][1],H):[[S,x],[a,E]]},H.iterations=function(J){return arguments.length?(B=+J,H):B};function X(J){J.nodes.forEach(function(j,K){j.index=K,j.sourceLinks=[],j.targetLinks=[]});var Y=(0,R.UI)(J.nodes,I);J.links.forEach(function(j,K){j.index=K;var te=j.source,se=j.target;typeof te!="object"&&(te=j.source=o(Y,te)),typeof se!="object"&&(se=j.target=o(Y,se)),te.sourceLinks.push(j),se.targetLinks.push(j)})}function q(J){J.nodes.forEach(function(Y){Y.value=Math.max((0,g.Sm)(Y.sourceLinks,s),(0,g.Sm)(Y.targetLinks,s))})}function ne(J){var Y,j,K;for(Y=J.nodes,j=[],K=0;Y.length;++K,Y=j,j=[])Y.forEach(function(se){se.depth=K,se.sourceLinks.forEach(function(Q){j.indexOf(Q.target)<0&&j.push(Q.target)})});for(Y=J.nodes,j=[],K=0;Y.length;++K,Y=j,j=[])Y.forEach(function(se){se.height=K,se.targetLinks.forEach(function(Q){j.indexOf(Q.source)<0&&j.push(Q.source)})});var te=(a-S-w)/(K-1);J.nodes.forEach(function(se){se.x1=(se.x0=S+Math.max(0,Math.min(K-1,Math.floor(U.call(null,se,K))))*te)+w})}function oe(J){var Y=(0,R.b1)().key(function(le){return le.x0}).sortKeys(g.j2).entries(J.nodes).map(function(le){return le.values});te(),ee();for(var j=1,K=B;K>0;--K)Q(j*=.99),ee(),se(j),ee();function te(){var le=(0,g.Fp)(Y,function(xe){return xe.length}),ie=F*(E-x)/(le-1);k>ie&&(k=ie);var he=(0,g.VV)(Y,function(xe){return(E-x-(xe.length-1)*k)/(0,g.Sm)(xe,s)});Y.forEach(function(xe){xe.forEach(function(Se,Ee){Se.y1=(Se.y0=Ee)+Se.value*he})}),J.links.forEach(function(xe){xe.width=xe.value*he})}function se(le){Y.forEach(function(ie){ie.forEach(function(he){if(he.targetLinks.length){var xe=((0,g.Sm)(he.targetLinks,u)/(0,g.Sm)(he.targetLinks,s)-c(he))*le;he.y0+=xe,he.y1+=xe}})})}function Q(le){Y.slice().reverse().forEach(function(ie){ie.forEach(function(he){if(he.sourceLinks.length){var xe=((0,g.Sm)(he.sourceLinks,y)/(0,g.Sm)(he.sourceLinks,s)-c(he))*le;he.y0+=xe,he.y1+=xe}})})}function ee(){Y.forEach(function(le){var ie,he,xe=x,Se=le.length,Ee;for(le.sort(n),Ee=0;Ee<Se;++Ee)ie=le[Ee],he=xe-ie.y0,he>0&&(ie.y0+=he,ie.y1+=he),xe=ie.y1+k;if(he=xe-k-E,he>0)for(xe=ie.y0-=he,ie.y1-=he,Ee=Se-2;Ee>=0;--Ee)ie=le[Ee],he=ie.y1+k-xe,he>0&&(ie.y0-=he,ie.y1-=he),xe=ie.y0})}}function ve(J){J.nodes.forEach(function(Y){Y.sourceLinks.sort(l),Y.targetLinks.sort(r)}),J.nodes.forEach(function(Y){var j=Y.y0,K=j;Y.sourceLinks.forEach(function(te){te.y0=j+te.width/2,j+=te.width}),Y.targetLinks.forEach(function(te){te.y1=K+te.width/2,K+=te.width})})}return H}var A=e(45879);function M(S){return[S.source.x1,S.y0]}function C(S){return[S.target.x0,S.y1]}function m(){return(0,A.h5)().source(M).target(C)}},39898:function(G,V,e){var g,R;(function(){var i={version:"3.8.0"},L=[].slice,T=function(ue){return L.call(ue)},v=self.document;function p(ue){return ue&&(ue.ownerDocument||ue.document||ue).documentElement}function t(ue){return ue&&(ue.ownerDocument&&ue.ownerDocument.defaultView||ue.document&&ue||ue.defaultView)}if(v)try{T(v.documentElement.childNodes)[0].nodeType}catch{T=function(Le){for(var Ve=Le.length,et=new Array(Ve);Ve--;)et[Ve]=Le[Ve];return et}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var r=this.Element.prototype,l=r.setAttribute,n=r.setAttributeNS,s=this.CSSStyleDeclaration.prototype,c=s.setProperty;r.setAttribute=function(Le,Ve){l.call(this,Le,Ve+"")},r.setAttributeNS=function(Le,Ve,et){n.call(this,Le,Ve,et+"")},s.setProperty=function(Le,Ve,et){c.call(this,Le,Ve+"",et)}}i.ascending=u;function u(ue,Le){return ue<Le?-1:ue>Le?1:ue>=Le?0:NaN}i.descending=function(ue,Le){return Le<ue?-1:Le>ue?1:Le>=ue?0:NaN},i.min=function(ue,Le){var Ve=-1,et=ue.length,at,lt;if(arguments.length===1){for(;++Ve<et;)if((lt=ue[Ve])!=null&&lt>=lt){at=lt;break}for(;++Ve<et;)(lt=ue[Ve])!=null&&at>lt&&(at=lt)}else{for(;++Ve<et;)if((lt=Le.call(ue,ue[Ve],Ve))!=null&&lt>=lt){at=lt;break}for(;++Ve<et;)(lt=Le.call(ue,ue[Ve],Ve))!=null&&at>lt&&(at=lt)}return at},i.max=function(ue,Le){var Ve=-1,et=ue.length,at,lt;if(arguments.length===1){for(;++Ve<et;)if((lt=ue[Ve])!=null&&lt>=lt){at=lt;break}for(;++Ve<et;)(lt=ue[Ve])!=null&&lt>at&&(at=lt)}else{for(;++Ve<et;)if((lt=Le.call(ue,ue[Ve],Ve))!=null&&lt>=lt){at=lt;break}for(;++Ve<et;)(lt=Le.call(ue,ue[Ve],Ve))!=null&&lt>at&&(at=lt)}return at},i.extent=function(ue,Le){var Ve=-1,et=ue.length,at,lt,Dt;if(arguments.length===1){for(;++Ve<et;)if((lt=ue[Ve])!=null&&lt>=lt){at=Dt=lt;break}for(;++Ve<et;)(lt=ue[Ve])!=null&&(at>lt&&(at=lt),Dt<lt&&(Dt=lt))}else{for(;++Ve<et;)if((lt=Le.call(ue,ue[Ve],Ve))!=null&&lt>=lt){at=Dt=lt;break}for(;++Ve<et;)(lt=Le.call(ue,ue[Ve],Ve))!=null&&(at>lt&&(at=lt),Dt<lt&&(Dt=lt))}return[at,Dt]};function y(ue){return ue===null?NaN:+ue}function h(ue){return!isNaN(ue)}i.sum=function(ue,Le){var Ve=0,et=ue.length,at,lt=-1;if(arguments.length===1)for(;++lt<et;)h(at=+ue[lt])&&(Ve+=at);else for(;++lt<et;)h(at=+Le.call(ue,ue[lt],lt))&&(Ve+=at);return Ve},i.mean=function(ue,Le){var Ve=0,et=ue.length,at,lt=-1,Dt=et;if(arguments.length===1)for(;++lt<et;)h(at=y(ue[lt]))?Ve+=at:--Dt;else for(;++lt<et;)h(at=y(Le.call(ue,ue[lt],lt)))?Ve+=at:--Dt;if(Dt)return Ve/Dt},i.quantile=function(ue,Le){var Ve=(ue.length-1)*Le+1,et=Math.floor(Ve),at=+ue[et-1],lt=Ve-et;return lt?at+lt*(ue[et]-at):at},i.median=function(ue,Le){var Ve=[],et=ue.length,at,lt=-1;if(arguments.length===1)for(;++lt<et;)h(at=y(ue[lt]))&&Ve.push(at);else for(;++lt<et;)h(at=y(Le.call(ue,ue[lt],lt)))&&Ve.push(at);if(Ve.length)return i.quantile(Ve.sort(u),.5)},i.variance=function(ue,Le){var Ve=ue.length,et=0,at,lt,Dt=0,pt=-1,Vt=0;if(arguments.length===1)for(;++pt<Ve;)h(at=y(ue[pt]))&&(lt=at-et,et+=lt/++Vt,Dt+=lt*(at-et));else for(;++pt<Ve;)h(at=y(Le.call(ue,ue[pt],pt)))&&(lt=at-et,et+=lt/++Vt,Dt+=lt*(at-et));if(Vt>1)return Dt/(Vt-1)},i.deviation=function(){var ue=i.variance.apply(this,arguments);return ue&&Math.sqrt(ue)};function b(ue){return{left:function(Le,Ve,et,at){for(arguments.length<3&&(et=0),arguments.length<4&&(at=Le.length);et<at;){var lt=et+at>>>1;ue(Le[lt],Ve)<0?et=lt+1:at=lt}return et},right:function(Le,Ve,et,at){for(arguments.length<3&&(et=0),arguments.length<4&&(at=Le.length);et<at;){var lt=et+at>>>1;ue(Le[lt],Ve)>0?at=lt:et=lt+1}return et}}}var f=b(u);i.bisectLeft=f.left,i.bisect=i.bisectRight=f.right,i.bisector=function(ue){return b(ue.length===1?function(Le,Ve){return u(ue(Le),Ve)}:ue)},i.shuffle=function(ue,Le,Ve){(et=arguments.length)<3&&(Ve=ue.length,et<2&&(Le=0));for(var et=Ve-Le,at,lt;et;)lt=Math.random()*et--|0,at=ue[et+Le],ue[et+Le]=ue[lt+Le],ue[lt+Le]=at;return ue},i.permute=function(ue,Le){for(var Ve=Le.length,et=new Array(Ve);Ve--;)et[Ve]=ue[Le[Ve]];return et},i.pairs=function(ue){for(var Le=0,Ve=ue.length-1,et=ue[0],at=new Array(Ve<0?0:Ve);Le<Ve;)at[Le]=[et,et=ue[++Le]];return at},i.transpose=function(ue){if(!(lt=ue.length))return[];for(var Le=-1,Ve=i.min(ue,o),et=new Array(Ve);++Le<Ve;)for(var at=-1,lt,Dt=et[Le]=new Array(lt);++at<lt;)Dt[at]=ue[at][Le];return et};function o(ue){return ue.length}i.zip=function(){return i.transpose(arguments)},i.keys=function(ue){var Le=[];for(var Ve in ue)Le.push(Ve);return Le},i.values=function(ue){var Le=[];for(var Ve in ue)Le.push(ue[Ve]);return Le},i.entries=function(ue){var Le=[];for(var Ve in ue)Le.push({key:Ve,value:ue[Ve]});return Le},i.merge=function(ue){for(var Le=ue.length,Ve,et=-1,at=0,lt,Dt;++et<Le;)at+=ue[et].length;for(lt=new Array(at);--Le>=0;)for(Dt=ue[Le],Ve=Dt.length;--Ve>=0;)lt[--at]=Dt[Ve];return lt};var d=Math.abs;i.range=function(ue,Le,Ve){if(arguments.length<3&&(Ve=1,arguments.length<2&&(Le=ue,ue=0)),(Le-ue)/Ve===1/0)throw new Error("infinite range");var et=[],at=A(d(Ve)),lt=-1,Dt;if(ue*=at,Le*=at,Ve*=at,Ve<0)for(;(Dt=ue+Ve*++lt)>Le;)et.push(Dt/at);else for(;(Dt=ue+Ve*++lt)<Le;)et.push(Dt/at);return et};function A(ue){for(var Le=1;ue*Le%1;)Le*=10;return Le}function M(ue,Le){for(var Ve in Le)Object.defineProperty(ue.prototype,Ve,{value:Le[Ve],enumerable:!1})}i.map=function(ue,Le){var Ve=new C;if(ue instanceof C)ue.forEach(function(pt,Vt){Ve.set(pt,Vt)});else if(Array.isArray(ue)){var et=-1,at=ue.length,lt;if(arguments.length===1)for(;++et<at;)Ve.set(et,ue[et]);else for(;++et<at;)Ve.set(Le.call(ue,lt=ue[et],et),lt)}else for(var Dt in ue)Ve.set(Dt,ue[Dt]);return Ve};function C(){this._=Object.create(null)}var m="__proto__",S="\0";M(C,{has:E,get:function(ue){return this._[x(ue)]},set:function(ue,Le){return this._[x(ue)]=Le},remove:w,keys:k,values:function(){var ue=[];for(var Le in this._)ue.push(this._[Le]);return ue},entries:function(){var ue=[];for(var Le in this._)ue.push({key:a(Le),value:this._[Le]});return ue},size:I,empty:U,forEach:function(ue){for(var Le in this._)ue.call(this,a(Le),this._[Le])}});function x(ue){return(ue+="")===m||ue[0]===S?S+ue:ue}function a(ue){return(ue+="")[0]===S?ue.slice(1):ue}function E(ue){return x(ue)in this._}function w(ue){return(ue=x(ue))in this._&&delete this._[ue]}function k(){var ue=[];for(var Le in this._)ue.push(a(Le));return ue}function I(){var ue=0;for(var Le in this._)++ue;return ue}function U(){for(var ue in this._)return!1;return!0}i.nest=function(){var ue={},Le=[],Ve=[],et,at;function lt(pt,Vt,rr){if(rr>=Le.length)return at?at.call(ue,Vt):et?Vt.sort(et):Vt;for(var ar=-1,Dr=Vt.length,_r=Le[rr++],qr,on,Fr,Wr=new C,Qr;++ar<Dr;)(Qr=Wr.get(qr=_r(on=Vt[ar])))?Qr.push(on):Wr.set(qr,[on]);return pt?(on=pt(),Fr=function(sn,pn){on.set(sn,lt(pt,pn,rr))}):(on={},Fr=function(sn,pn){on[sn]=lt(pt,pn,rr)}),Wr.forEach(Fr),on}function Dt(pt,Vt){if(Vt>=Le.length)return pt;var rr=[],ar=Ve[Vt++];return pt.forEach(function(Dr,_r){rr.push({key:Dr,values:Dt(_r,Vt)})}),ar?rr.sort(function(Dr,_r){return ar(Dr.key,_r.key)}):rr}return ue.map=function(pt,Vt){return lt(Vt,pt,0)},ue.entries=function(pt){return Dt(lt(i.map,pt,0),0)},ue.key=function(pt){return Le.push(pt),ue},ue.sortKeys=function(pt){return Ve[Le.length-1]=pt,ue},ue.sortValues=function(pt){return et=pt,ue},ue.rollup=function(pt){return at=pt,ue},ue},i.set=function(ue){var Le=new z;if(ue)for(var Ve=0,et=ue.length;Ve<et;++Ve)Le.add(ue[Ve]);return Le};function z(){this._=Object.create(null)}M(z,{has:E,add:function(ue){return this._[x(ue+="")]=!0,ue},remove:w,values:k,size:I,empty:U,forEach:function(ue){for(var Le in this._)ue.call(this,a(Le))}}),i.behavior={};function N(ue){return ue}i.rebind=function(ue,Le){for(var Ve=1,et=arguments.length,at;++Ve<et;)ue[at=arguments[Ve]]=B(ue,Le,Le[at]);return ue};function B(ue,Le,Ve){return function(){var et=Ve.apply(Le,arguments);return et===Le?ue:et}}function F(ue,Le){if(Le in ue)return Le;Le=Le.charAt(0).toUpperCase()+Le.slice(1);for(var Ve=0,et=H.length;Ve<et;++Ve){var at=H[Ve]+Le;if(at in ue)return at}}var H=["webkit","ms","moz","Moz","o","O"];function X(){}i.dispatch=function(){for(var ue=new q,Le=-1,Ve=arguments.length;++Le<Ve;)ue[arguments[Le]]=ne(ue);return ue};function q(){}q.prototype.on=function(ue,Le){var Ve=ue.indexOf("."),et="";if(Ve>=0&&(et=ue.slice(Ve+1),ue=ue.slice(0,Ve)),ue)return arguments.length<2?this[ue].on(et):this[ue].on(et,Le);if(arguments.length===2){if(Le==null)for(ue in this)this.hasOwnProperty(ue)&&this[ue].on(et,null);return this}};function ne(ue){var Le=[],Ve=new C;function et(){for(var at=Le,lt=-1,Dt=at.length,pt;++lt<Dt;)(pt=at[lt].on)&&pt.apply(this,arguments);return ue}return et.on=function(at,lt){var Dt=Ve.get(at),pt;return arguments.length<2?Dt&&Dt.on:(Dt&&(Dt.on=null,Le=Le.slice(0,pt=Le.indexOf(Dt)).concat(Le.slice(pt+1)),Ve.remove(at)),lt&&Le.push(Ve.set(at,{on:lt})),ue)},et}i.event=null;function oe(){i.event.preventDefault()}function ve(){for(var ue=i.event,Le;Le=ue.sourceEvent;)ue=Le;return ue}function J(ue){for(var Le=new q,Ve=0,et=arguments.length;++Ve<et;)Le[arguments[Ve]]=ne(Le);return Le.of=function(at,lt){return function(Dt){try{var pt=Dt.sourceEvent=i.event;Dt.target=ue,i.event=Dt,Le[Dt.type].apply(at,lt)}finally{i.event=pt}}},Le}i.requote=function(ue){return ue.replace(Y,"\\$&")};var Y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,j={}.__proto__?function(ue,Le){ue.__proto__=Le}:function(ue,Le){for(var Ve in Le)ue[Ve]=Le[Ve]};function K(ue){return j(ue,ee),ue}var te=function(ue,Le){return Le.querySelector(ue)},se=function(ue,Le){return Le.querySelectorAll(ue)},Q=function(ue,Le){var Ve=ue.matches||ue[F(ue,"matchesSelector")];return Q=function(et,at){return Ve.call(et,at)},Q(ue,Le)};typeof Sizzle=="function"&&(te=function(ue,Le){return Sizzle(ue,Le)[0]||null},se=Sizzle,Q=Sizzle.matchesSelector),i.selection=function(){return i.select(v.documentElement)};var ee=i.selection.prototype=[];ee.select=function(ue){var Le=[],Ve,et,at,lt;ue=le(ue);for(var Dt=-1,pt=this.length;++Dt<pt;){Le.push(Ve=[]),Ve.parentNode=(at=this[Dt]).parentNode;for(var Vt=-1,rr=at.length;++Vt<rr;)(lt=at[Vt])?(Ve.push(et=ue.call(lt,lt.__data__,Vt,Dt)),et&&"__data__"in lt&&(et.__data__=lt.__data__)):Ve.push(null)}return K(Le)};function le(ue){return typeof ue=="function"?ue:function(){return te(ue,this)}}ee.selectAll=function(ue){var Le=[],Ve,et;ue=ie(ue);for(var at=-1,lt=this.length;++at<lt;)for(var Dt=this[at],pt=-1,Vt=Dt.length;++pt<Vt;)(et=Dt[pt])&&(Le.push(Ve=T(ue.call(et,et.__data__,pt,at))),Ve.parentNode=et);return K(Le)};function ie(ue){return typeof ue=="function"?ue:function(){return se(ue,this)}}var he="http://www.w3.org/1999/xhtml",xe={svg:"http://www.w3.org/2000/svg",xhtml:he,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:xe,qualify:function(ue){var Le=ue.indexOf(":"),Ve=ue;return Le>=0&&(Ve=ue.slice(0,Le))!=="xmlns"&&(ue=ue.slice(Le+1)),xe.hasOwnProperty(Ve)?{space:xe[Ve],local:ue}:ue}},ee.attr=function(ue,Le){if(arguments.length<2){if(typeof ue=="string"){var Ve=this.node();return ue=i.ns.qualify(ue),ue.local?Ve.getAttributeNS(ue.space,ue.local):Ve.getAttribute(ue)}for(Le in ue)this.each(Se(Le,ue[Le]));return this}return this.each(Se(ue,Le))};function Se(ue,Le){ue=i.ns.qualify(ue);function Ve(){this.removeAttribute(ue)}function et(){this.removeAttributeNS(ue.space,ue.local)}function at(){this.setAttribute(ue,Le)}function lt(){this.setAttributeNS(ue.space,ue.local,Le)}function Dt(){var Vt=Le.apply(this,arguments);Vt==null?this.removeAttribute(ue):this.setAttribute(ue,Vt)}function pt(){var Vt=Le.apply(this,arguments);Vt==null?this.removeAttributeNS(ue.space,ue.local):this.setAttributeNS(ue.space,ue.local,Vt)}return Le==null?ue.local?et:Ve:typeof Le=="function"?ue.local?pt:Dt:ue.local?lt:at}function Ee(ue){return ue.trim().replace(/\s+/g," ")}ee.classed=function(ue,Le){if(arguments.length<2){if(typeof ue=="string"){var Ve=this.node(),et=(ue=He(ue)).length,at=-1;if(Le=Ve.classList){for(;++at<et;)if(!Le.contains(ue[at]))return!1}else for(Le=Ve.getAttribute("class");++at<et;)if(!Ne(ue[at]).test(Le))return!1;return!0}for(Le in ue)this.each(Ce(Le,ue[Le]));return this}return this.each(Ce(ue,Le))};function Ne(ue){return new RegExp("(?:^|\\s+)"+i.requote(ue)+"(?:\\s+|$)","g")}function He(ue){return(ue+"").trim().split(/^|\s+/)}function Ce(ue,Le){ue=He(ue).map(be);var Ve=ue.length;function et(){for(var lt=-1;++lt<Ve;)ue[lt](this,Le)}function at(){for(var lt=-1,Dt=Le.apply(this,arguments);++lt<Ve;)ue[lt](this,Dt)}return typeof Le=="function"?at:et}function be(ue){var Le=Ne(ue);return function(Ve,et){if(at=Ve.classList)return et?at.add(ue):at.remove(ue);var at=Ve.getAttribute("class")||"";et?(Le.lastIndex=0,Le.test(at)||Ve.setAttribute("class",Ee(at+" "+ue))):Ve.setAttribute("class",Ee(at.replace(Le," ")))}}ee.style=function(ue,Le,Ve){var et=arguments.length;if(et<3){if(typeof ue!="string"){et<2&&(Le="");for(Ve in ue)this.each(we(Ve,ue[Ve],Le));return this}if(et<2){var at=this.node();return t(at).getComputedStyle(at,null).getPropertyValue(ue)}Ve=""}return this.each(we(ue,Le,Ve))};function we(ue,Le,Ve){function et(){this.style.removeProperty(ue)}function at(){this.style.setProperty(ue,Le,Ve)}function lt(){var Dt=Le.apply(this,arguments);Dt==null?this.style.removeProperty(ue):this.style.setProperty(ue,Dt,Ve)}return Le==null?et:typeof Le=="function"?lt:at}ee.property=function(ue,Le){if(arguments.length<2){if(typeof ue=="string")return this.node()[ue];for(Le in ue)this.each(ke(Le,ue[Le]));return this}return this.each(ke(ue,Le))};function ke(ue,Le){function Ve(){delete this[ue]}function et(){this[ue]=Le}function at(){var lt=Le.apply(this,arguments);lt==null?delete this[ue]:this[ue]=lt}return Le==null?Ve:typeof Le=="function"?at:et}ee.text=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var Le=ue.apply(this,arguments);this.textContent=Le??""}:ue==null?function(){this.textContent=""}:function(){this.textContent=ue}):this.node().textContent},ee.html=function(ue){return arguments.length?this.each(typeof ue=="function"?function(){var Le=ue.apply(this,arguments);this.innerHTML=Le??""}:ue==null?function(){this.innerHTML=""}:function(){this.innerHTML=ue}):this.node().innerHTML},ee.append=function(ue){return ue=Fe(ue),this.select(function(){return this.appendChild(ue.apply(this,arguments))})};function Fe(ue){function Le(){var et=this.ownerDocument,at=this.namespaceURI;return at===he&&et.documentElement.namespaceURI===he?et.createElement(ue):et.createElementNS(at,ue)}function Ve(){return this.ownerDocument.createElementNS(ue.space,ue.local)}return typeof ue=="function"?ue:(ue=i.ns.qualify(ue)).local?Ve:Le}ee.insert=function(ue,Le){return ue=Fe(ue),Le=le(Le),this.select(function(){return this.insertBefore(ue.apply(this,arguments),Le.apply(this,arguments)||null)})},ee.remove=function(){return this.each(Pe)};function Pe(){var ue=this.parentNode;ue&&ue.removeChild(this)}ee.data=function(ue,Le){var Ve=-1,et=this.length,at,lt;if(!arguments.length){for(ue=new Array(et=(at=this[0]).length);++Ve<et;)(lt=at[Ve])&&(ue[Ve]=lt.__data__);return ue}function Dt(ar,Dr){var _r,qr=ar.length,on=Dr.length,Fr=Math.min(qr,on),Wr=new Array(on),Qr=new Array(on),sn=new Array(qr),pn,$r;if(Le){var Yn=new C,Jn=new Array(qr),ia;for(_r=-1;++_r<qr;)(pn=ar[_r])&&(Yn.has(ia=Le.call(pn,pn.__data__,_r))?sn[_r]=pn:Yn.set(ia,pn),Jn[_r]=ia);for(_r=-1;++_r<on;)(pn=Yn.get(ia=Le.call(Dr,$r=Dr[_r],_r)))?pn!==!0&&(Wr[_r]=pn,pn.__data__=$r):Qr[_r]=Ge($r),Yn.set(ia,!0);for(_r=-1;++_r<qr;)_r in Jn&&Yn.get(Jn[_r])!==!0&&(sn[_r]=ar[_r])}else{for(_r=-1;++_r<Fr;)pn=ar[_r],$r=Dr[_r],pn?(pn.__data__=$r,Wr[_r]=pn):Qr[_r]=Ge($r);for(;_r<on;++_r)Qr[_r]=Ge(Dr[_r]);for(;_r<qr;++_r)sn[_r]=ar[_r]}Qr.update=Wr,Qr.parentNode=Wr.parentNode=sn.parentNode=ar.parentNode,pt.push(Qr),Vt.push(Wr),rr.push(sn)}var pt=$e([]),Vt=K([]),rr=K([]);if(typeof ue=="function")for(;++Ve<et;)Dt(at=this[Ve],ue.call(at,at.parentNode.__data__,Ve));else for(;++Ve<et;)Dt(at=this[Ve],ue);return Vt.enter=function(){return pt},Vt.exit=function(){return rr},Vt};function Ge(ue){return{__data__:ue}}ee.datum=function(ue){return arguments.length?this.property("__data__",ue):this.property("__data__")},ee.filter=function(ue){var Le=[],Ve,et,at;typeof ue!="function"&&(ue=nt(ue));for(var lt=0,Dt=this.length;lt<Dt;lt++){Le.push(Ve=[]),Ve.parentNode=(et=this[lt]).parentNode;for(var pt=0,Vt=et.length;pt<Vt;pt++)(at=et[pt])&&ue.call(at,at.__data__,pt,lt)&&Ve.push(at)}return K(Le)};function nt(ue){return function(){return Q(this,ue)}}ee.order=function(){for(var ue=-1,Le=this.length;++ue<Le;)for(var Ve=this[ue],et=Ve.length-1,at=Ve[et],lt;--et>=0;)(lt=Ve[et])&&(at&&at!==lt.nextSibling&&at.parentNode.insertBefore(lt,at),at=lt);return this},ee.sort=function(ue){ue=qe.apply(this,arguments);for(var Le=-1,Ve=this.length;++Le<Ve;)this[Le].sort(ue);return this.order()};function qe(ue){return arguments.length||(ue=u),function(Le,Ve){return Le&&Ve?ue(Le.__data__,Ve.__data__):!Le-!Ve}}ee.each=function(ue){return Ke(this,function(Le,Ve,et){ue.call(Le,Le.__data__,Ve,et)})};function Ke(ue,Le){for(var Ve=0,et=ue.length;Ve<et;Ve++)for(var at=ue[Ve],lt=0,Dt=at.length,pt;lt<Dt;lt++)(pt=at[lt])&&Le(pt,lt,Ve);return ue}ee.call=function(ue){var Le=T(arguments);return ue.apply(Le[0]=this,Le),this},ee.empty=function(){return!this.node()},ee.node=function(){for(var ue=0,Le=this.length;ue<Le;ue++)for(var Ve=this[ue],et=0,at=Ve.length;et<at;et++){var lt=Ve[et];if(lt)return lt}return null},ee.size=function(){var ue=0;return Ke(this,function(){++ue}),ue};function $e(ue){return j(ue,vt),ue}var vt=[];i.selection.enter=$e,i.selection.enter.prototype=vt,vt.append=ee.append,vt.empty=ee.empty,vt.node=ee.node,vt.call=ee.call,vt.size=ee.size,vt.select=function(ue){for(var Le=[],Ve,et,at,lt,Dt,pt=-1,Vt=this.length;++pt<Vt;){at=(lt=this[pt]).update,Le.push(Ve=[]),Ve.parentNode=lt.parentNode;for(var rr=-1,ar=lt.length;++rr<ar;)(Dt=lt[rr])?(Ve.push(at[rr]=et=ue.call(lt.parentNode,Dt.__data__,rr,pt)),et.__data__=Dt.__data__):Ve.push(null)}return K(Le)},vt.insert=function(ue,Le){return arguments.length<2&&(Le=yt(this)),ee.insert.call(this,ue,Le)};function yt(ue){var Le,Ve;return function(et,at,lt){var Dt=ue[lt].update,pt=Dt.length,Vt;for(lt!=Ve&&(Ve=lt,Le=0),at>=Le&&(Le=at+1);!(Vt=Dt[Le])&&++Le<pt;);return Vt}}i.select=function(ue){var Le;return typeof ue=="string"?(Le=[te(ue,v)],Le.parentNode=v.documentElement):(Le=[ue],Le.parentNode=p(ue)),K([Le])},i.selectAll=function(ue){var Le;return typeof ue=="string"?(Le=T(se(ue,v)),Le.parentNode=v.documentElement):(Le=T(ue),Le.parentNode=null),K([Le])},ee.on=function(ue,Le,Ve){var et=arguments.length;if(et<3){if(typeof ue!="string"){et<2&&(Le=!1);for(Ve in ue)this.each(mt(Ve,ue[Ve],Le));return this}if(et<2)return(et=this.node()["__on"+ue])&&et._;Ve=!1}return this.each(mt(ue,Le,Ve))};function mt(ue,Le,Ve){var et="__on"+ue,at=ue.indexOf("."),lt=Xe;at>0&&(ue=ue.slice(0,at));var Dt=Et.get(ue);Dt&&(ue=Dt,lt=Ue);function pt(){var ar=this[et];ar&&(this.removeEventListener(ue,ar,ar.$),delete this[et])}function Vt(){var ar=lt(Le,T(arguments));pt.call(this),this.addEventListener(ue,this[et]=ar,ar.$=Ve),ar._=Le}function rr(){var ar=new RegExp("^__on([^.]+)"+i.requote(ue)+"$"),Dr;for(var _r in this)if(Dr=_r.match(ar)){var qr=this[_r];this.removeEventListener(Dr[1],qr,qr.$),delete this[_r]}}return at?Le?Vt:pt:Le?X:rr}var Et=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&Et.forEach(function(ue){"on"+ue in v&&Et.remove(ue)});function Xe(ue,Le){return function(Ve){var et=i.event;i.event=Ve,Le[0]=this.__data__;try{ue.apply(this,Le)}finally{i.event=et}}}function Ue(ue,Le){var Ve=Xe(ue,Le);return function(et){var at=this,lt=et.relatedTarget;(!lt||lt!==at&&!(lt.compareDocumentPosition(at)&8))&&Ve.call(at,et)}}var Be,rt=0;function it(ue){var Le=".dragsuppress-"+ ++rt,Ve="click"+Le,et=i.select(t(ue)).on("touchmove"+Le,oe).on("dragstart"+Le,oe).on("selectstart"+Le,oe);if(Be==null&&(Be="onselectstart"in ue?!1:F(ue.style,"userSelect")),Be){var at=p(ue).style,lt=at[Be];at[Be]="none"}return function(Dt){if(et.on(Le,null),Be&&(at[Be]=lt),Dt){var pt=function(){et.on(Ve,null)};et.on(Ve,function(){oe(),pt()},!0),setTimeout(pt,0)}}}i.mouse=function(ue){return De(ue,ve())};var Ye=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function De(ue,Le){Le.changedTouches&&(Le=Le.changedTouches[0]);var Ve=ue.ownerSVGElement||ue;if(Ve.createSVGPoint){var et=Ve.createSVGPoint();if(Ye<0){var at=t(ue);if(at.scrollX||at.scrollY){Ve=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var lt=Ve[0][0].getScreenCTM();Ye=!(lt.f||lt.e),Ve.remove()}}return Ye?(et.x=Le.pageX,et.y=Le.pageY):(et.x=Le.clientX,et.y=Le.clientY),et=et.matrixTransform(ue.getScreenCTM().inverse()),[et.x,et.y]}var Dt=ue.getBoundingClientRect();return[Le.clientX-Dt.left-ue.clientLeft,Le.clientY-Dt.top-ue.clientTop]}i.touch=function(ue,Le,Ve){if(arguments.length<3&&(Ve=Le,Le=ve().changedTouches),Le){for(var et=0,at=Le.length,lt;et<at;++et)if((lt=Le[et]).identifier===Ve)return De(ue,lt)}},i.behavior.drag=function(){var ue=J(at,"drag","dragstart","dragend"),Le=null,Ve=lt(X,i.mouse,t,"mousemove","mouseup"),et=lt(Te,i.touch,N,"touchmove","touchend");function at(){this.on("mousedown.drag",Ve).on("touchstart.drag",et)}function lt(Dt,pt,Vt,rr,ar){return function(){var Dr=this,_r=i.event.target.correspondingElement||i.event.target,qr=Dr.parentNode,on=ue.of(Dr,arguments),Fr=0,Wr=Dt(),Qr=".drag"+(Wr==null?"":"-"+Wr),sn,pn=i.select(Vt(_r)).on(rr+Qr,Jn).on(ar+Qr,ia),$r=it(_r),Yn=pt(qr,Wr);Le?(sn=Le.apply(Dr,arguments),sn=[sn.x-Yn[0],sn.y-Yn[1]]):sn=[0,0],on({type:"dragstart"});function Jn(){var ga=pt(qr,Wr),Ra,Pa;ga&&(Ra=ga[0]-Yn[0],Pa=ga[1]-Yn[1],Fr|=Ra|Pa,Yn=ga,on({type:"drag",x:ga[0]+sn[0],y:ga[1]+sn[1],dx:Ra,dy:Pa}))}function ia(){pt(qr,Wr)&&(pn.on(rr+Qr,null).on(ar+Qr,null),$r(Fr),on({type:"dragend"}))}}}return at.origin=function(Dt){return arguments.length?(Le=Dt,at):Le},i.rebind(at,ue,"on")};function Te(){return i.event.changedTouches[0].identifier}i.touches=function(ue,Le){return arguments.length<2&&(Le=ve().touches),Le?T(Le).map(function(Ve){var et=De(ue,Ve);return et.identifier=Ve.identifier,et}):[]};var fe=1e-6,me=fe*fe,Re=Math.PI,Oe=2*Re,st=Oe-fe,ut=Re/2,Tt=Re/180,It=180/Re;function Gt(ue,Le,Ve){return(Le[0]-ue[0])*(Ve[1]-ue[1])-(Le[1]-ue[1])*(Ve[0]-ue[0])}function jt(ue){return ue>1?ut:ue<-1?-ut:Math.asin(ue)}function Pt(ue){return((ue=Math.exp(ue))-1/ue)/2}function Qt(ue){return((ue=Math.exp(ue))+1/ue)/2}function or(ue){return((ue=Math.exp(2*ue))-1)/(ue+1)}var zr=Math.SQRT2,bt=2,Jt=4;i.interpolateZoom=function(ue,Le){var Ve=ue[0],et=ue[1],at=ue[2],lt=Le[0],Dt=Le[1],pt=Le[2],Vt=lt-Ve,rr=Dt-et,ar=Vt*Vt+rr*rr,Dr,_r;if(ar<me)_r=Math.log(pt/at)/zr,Dr=function(sn){return[Ve+sn*Vt,et+sn*rr,at*Math.exp(zr*sn*_r)]};else{var qr=Math.sqrt(ar),on=(pt*pt-at*at+Jt*ar)/(2*at*bt*qr),Fr=(pt*pt-at*at-Jt*ar)/(2*pt*bt*qr),Wr=Math.log(Math.sqrt(on*on+1)-on),Qr=Math.log(Math.sqrt(Fr*Fr+1)-Fr);_r=(Qr-Wr)/zr,Dr=function(sn){var pn=sn*_r,$r=Qt(Wr),Yn=at/(bt*qr)*($r*or(zr*pn+Wr)-Pt(Wr));return[Ve+Yn*Vt,et+Yn*rr,at*$r/Qt(zr*pn+Wr)]}}return Dr.duration=_r*1e3,Dr},i.behavior.zoom=function(){var ue={x:0,y:0,k:1},Le,Ve,et,at=[960,500],lt=Zt,Dt=250,pt=0,Vt="mousedown.zoom",rr="mousemove.zoom",ar="mouseup.zoom",Dr,_r="touchstart.zoom",qr,on=J(pn,"zoomstart","zoom","zoomend"),Fr,Wr,Qr,sn;dr||(dr="onwheel"in v?(Ar=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(Ar=function(){return i.event.wheelDelta},"mousewheel"):(Ar=function(){return-i.event.detail},"MozMousePixelScroll"));function pn(Xn){Xn.on(Vt,Ja).on(dr+".zoom",Ci).on("dblclick.zoom",Oi).on(_r,Ti)}pn.event=function(Xn){Xn.each(function(){var Qa=on.of(this,arguments),Xa=ue;kr?i.select(this).transition().each("start.zoom",function(){ue=this.__chart__||{x:0,y:0,k:1},Pa(Qa)}).tween("zoom:zoom",function(){var pi=at[0],ro=at[1],Mo=Ve?Ve[0]:pi/2,ko=Ve?Ve[1]:ro/2,Ki=i.interpolateZoom([(Mo-ue.x)/ue.k,(ko-ue.y)/ue.k,pi/ue.k],[(Mo-Xa.x)/Xa.k,(ko-Xa.y)/Xa.k,pi/Xa.k]);return function(Bi){var Ca=Ki(Bi),za=pi/Ca[2];this.__chart__=ue={x:Mo-Ca[0]*za,y:ko-Ca[1]*za,k:za},ei(Qa)}}).each("interrupt.zoom",function(){Na(Qa)}).each("end.zoom",function(){Na(Qa)}):(this.__chart__=ue,Pa(Qa),ei(Qa),Na(Qa))})},pn.translate=function(Xn){return arguments.length?(ue={x:+Xn[0],y:+Xn[1],k:ue.k},Ra(),pn):[ue.x,ue.y]},pn.scale=function(Xn){return arguments.length?(ue={x:ue.x,y:ue.y,k:null},Jn(+Xn),Ra(),pn):ue.k},pn.scaleExtent=function(Xn){return arguments.length?(lt=Xn==null?Zt:[+Xn[0],+Xn[1]],pn):lt},pn.center=function(Xn){return arguments.length?(et=Xn&&[+Xn[0],+Xn[1]],pn):et},pn.size=function(Xn){return arguments.length?(at=Xn&&[+Xn[0],+Xn[1]],pn):at},pn.duration=function(Xn){return arguments.length?(Dt=+Xn,pn):Dt},pn.x=function(Xn){return arguments.length?(Wr=Xn,Fr=Xn.copy(),ue={x:0,y:0,k:1},pn):Wr},pn.y=function(Xn){return arguments.length?(sn=Xn,Qr=Xn.copy(),ue={x:0,y:0,k:1},pn):sn};function $r(Xn){return[(Xn[0]-ue.x)/ue.k,(Xn[1]-ue.y)/ue.k]}function Yn(Xn){return[Xn[0]*ue.k+ue.x,Xn[1]*ue.k+ue.y]}function Jn(Xn){ue.k=Math.max(lt[0],Math.min(lt[1],Xn))}function ia(Xn,Qa){Qa=Yn(Qa),ue.x+=Xn[0]-Qa[0],ue.y+=Xn[1]-Qa[1]}function ga(Xn,Qa,Xa,pi){Xn.__chart__={x:ue.x,y:ue.y,k:ue.k},Jn(Math.pow(2,pi)),ia(Ve=Qa,Xa),Xn=i.select(Xn),Dt>0&&(Xn=Xn.transition().duration(Dt)),Xn.call(pn.event)}function Ra(){Wr&&Wr.domain(Fr.range().map(function(Xn){return(Xn-ue.x)/ue.k}).map(Fr.invert)),sn&&sn.domain(Qr.range().map(function(Xn){return(Xn-ue.y)/ue.k}).map(Qr.invert))}function Pa(Xn){pt++||Xn({type:"zoomstart"})}function ei(Xn){Ra(),Xn({type:"zoom",scale:ue.k,translate:[ue.x,ue.y]})}function Na(Xn){--pt||(Xn({type:"zoomend"}),Ve=null)}function Ja(){var Xn=this,Qa=on.of(Xn,arguments),Xa=0,pi=i.select(t(Xn)).on(rr,ko).on(ar,Ki),ro=$r(i.mouse(Xn)),Mo=it(Xn);Nt.call(Xn),Pa(Qa);function ko(){Xa=1,ia(i.mouse(Xn),ro),ei(Qa)}function Ki(){pi.on(rr,null).on(ar,null),Mo(Xa),Na(Qa)}}function Ti(){var Xn=this,Qa=on.of(Xn,arguments),Xa={},pi=0,ro,Mo=".zoom-"+i.event.changedTouches[0].identifier,ko="touchmove"+Mo,Ki="touchend"+Mo,Bi=[],Ca=i.select(Xn),za=it(Xn);Ro(),Pa(Qa),Ca.on(Vt,null).on(_r,Ro);function Ji(){var ys=i.touches(Xn);return ro=ue.k,ys.forEach(function(io){io.identifier in Xa&&(Xa[io.identifier]=$r(io))}),ys}function Ro(){var ys=i.event.target;i.select(ys).on(ko,Fs).on(Ki,Yo),Bi.push(ys);for(var io=i.event.changedTouches,js=0,ji=io.length;js<ji;++js)Xa[io[js].identifier]=null;var Ml=Ji(),Ys=Date.now();if(Ml.length===1){if(Ys-qr<500){var yi=Ml[0];ga(Xn,yi,Xa[yi.identifier],Math.floor(Math.log(ue.k)/Math.LN2)+1),oe()}qr=Ys}else if(Ml.length>1){var yi=Ml[0],Qi=Ml[1],ih=yi[0]-Qi[0],Cc=yi[1]-Qi[1];pi=ih*ih+Cc*Cc}}function Fs(){var ys=i.touches(Xn),io,js,ji,Ml;Nt.call(Xn);for(var Ys=0,yi=ys.length;Ys<yi;++Ys,Ml=null)if(ji=ys[Ys],Ml=Xa[ji.identifier]){if(js)break;io=ji,js=Ml}if(Ml){var Qi=(Qi=ji[0]-io[0])*Qi+(Qi=ji[1]-io[1])*Qi,ih=pi&&Math.sqrt(Qi/pi);io=[(io[0]+ji[0])/2,(io[1]+ji[1])/2],js=[(js[0]+Ml[0])/2,(js[1]+Ml[1])/2],Jn(ih*ro)}qr=null,ia(io,js),ei(Qa)}function Yo(){if(i.event.touches.length){for(var ys=i.event.changedTouches,io=0,js=ys.length;io<js;++io)delete Xa[ys[io].identifier];for(var ji in Xa)return void Ji()}i.selectAll(Bi).on(Mo,null),Ca.on(Vt,Ja).on(_r,Ti),za(),Na(Qa)}}function Ci(){var Xn=on.of(this,arguments);Dr?clearTimeout(Dr):(Nt.call(this),Le=$r(Ve=et||i.mouse(this)),Pa(Xn)),Dr=setTimeout(function(){Dr=null,Na(Xn)},50),oe(),Jn(Math.pow(2,Ar()*.002)*ue.k),ia(Ve,Le),ei(Xn)}function Oi(){var Xn=i.mouse(this),Qa=Math.log(ue.k)/Math.LN2;ga(this,Xn,$r(Xn),i.event.shiftKey?Math.ceil(Qa)-1:Math.floor(Qa)+1)}return i.rebind(pn,on,"on")};var Zt=[0,1/0],Ar,dr;i.color=ht;function ht(){}ht.prototype.toString=function(){return this.rgb()+""},i.hsl=ct;function ct(ue,Le,Ve){return this instanceof ct?(this.h=+ue,this.s=+Le,void(this.l=+Ve)):arguments.length<2?ue instanceof ct?new ct(ue.h,ue.s,ue.l):mr(""+ue,gr,ct):new ct(ue,Le,Ve)}var wt=ct.prototype=new ht;wt.brighter=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new ct(this.h,this.s,this.l/ue)},wt.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new ct(this.h,this.s,ue*this.l)},wt.rgb=function(){return St(this.h,this.s,this.l)};function St(ue,Le,Ve){var et,at;ue=isNaN(ue)?0:(ue%=360)<0?ue+360:ue,Le=isNaN(Le)||Le<0?0:Le>1?1:Le,Ve=Ve<0?0:Ve>1?1:Ve,at=Ve<=.5?Ve*(1+Le):Ve+Le-Ve*Le,et=2*Ve-at;function lt(pt){return pt>360?pt-=360:pt<0&&(pt+=360),pt<60?et+(at-et)*pt/60:pt<180?at:pt<240?et+(at-et)*(240-pt)/60:et}function Dt(pt){return Math.round(lt(pt)*255)}return new cr(Dt(ue+120),Dt(ue),Dt(ue-120))}i.hcl=Rt;function Rt(ue,Le,Ve){return this instanceof Rt?(this.h=+ue,this.c=+Le,void(this.l=+Ve)):arguments.length<2?ue instanceof Rt?new Rt(ue.h,ue.c,ue.l):ue instanceof Wt?kt(ue.l,ue.a,ue.b):kt((ue=Zr((ue=i.rgb(ue)).r,ue.g,ue.b)).l,ue.a,ue.b):new Rt(ue,Le,Ve)}var Ct=Rt.prototype=new ht;Ct.brighter=function(ue){return new Rt(this.h,this.c,Math.min(100,this.l+er*(arguments.length?ue:1)))},Ct.darker=function(ue){return new Rt(this.h,this.c,Math.max(0,this.l-er*(arguments.length?ue:1)))},Ct.rgb=function(){return Ot(this.h,this.c,this.l).rgb()};function Ot(ue,Le,Ve){return isNaN(ue)&&(ue=0),isNaN(Le)&&(Le=0),new Wt(Ve,Math.cos(ue*=Tt)*Le,Math.sin(ue)*Le)}i.lab=Wt;function Wt(ue,Le,Ve){return this instanceof Wt?(this.l=+ue,this.a=+Le,void(this.b=+Ve)):arguments.length<2?ue instanceof Wt?new Wt(ue.l,ue.a,ue.b):ue instanceof Rt?Ot(ue.h,ue.c,ue.l):Zr((ue=cr(ue)).r,ue.g,ue.b):new Wt(ue,Le,Ve)}var er=18,$t=.95047,sr=1,Cr=1.08883,je=Wt.prototype=new ht;je.brighter=function(ue){return new Wt(Math.min(100,this.l+er*(arguments.length?ue:1)),this.a,this.b)},je.darker=function(ue){return new Wt(Math.max(0,this.l-er*(arguments.length?ue:1)),this.a,this.b)},je.rgb=function(){return We(this.l,this.a,this.b)};function We(ue,Le,Ve){var et=(ue+16)/116,at=et+Le/500,lt=et-Ve/200;return at=zt(at)*$t,et=zt(et)*sr,lt=zt(lt)*Cr,new cr(lr(3.2404542*at-1.5371385*et-.4985314*lt),lr(-.969266*at+1.8760108*et+.041556*lt),lr(.0556434*at-.2040259*et+1.0572252*lt))}function kt(ue,Le,Ve){return ue>0?new Rt(Math.atan2(Ve,Le)*It,Math.sqrt(Le*Le+Ve*Ve),ue):new Rt(NaN,NaN,ue)}function zt(ue){return ue>.206893034?ue*ue*ue:(ue-.13793103448275862)/7.787037}function Xt(ue){return ue>.008856?Math.pow(ue,.3333333333333333):7.787037*ue+.13793103448275862}function lr(ue){return Math.round(255*(ue<=.00304?12.92*ue:1.055*Math.pow(ue,.4166666666666667)-.055))}i.rgb=cr;function cr(ue,Le,Ve){return this instanceof cr?(this.r=~~ue,this.g=~~Le,void(this.b=~~Ve)):arguments.length<2?ue instanceof cr?new cr(ue.r,ue.g,ue.b):mr(""+ue,cr,St):new cr(ue,Le,Ve)}function nr(ue){return new cr(ue>>16,ue>>8&255,ue&255)}function Bt(ue){return nr(ue)+""}var vr=cr.prototype=new ht;vr.brighter=function(ue){ue=Math.pow(.7,arguments.length?ue:1);var Le=this.r,Ve=this.g,et=this.b,at=30;return!Le&&!Ve&&!et?new cr(at,at,at):(Le&&Le<at&&(Le=at),Ve&&Ve<at&&(Ve=at),et&&et<at&&(et=at),new cr(Math.min(255,Le/ue),Math.min(255,Ve/ue),Math.min(255,et/ue)))},vr.darker=function(ue){return ue=Math.pow(.7,arguments.length?ue:1),new cr(ue*this.r,ue*this.g,ue*this.b)},vr.hsl=function(){return gr(this.r,this.g,this.b)},vr.toString=function(){return"#"+yr(this.r)+yr(this.g)+yr(this.b)};function yr(ue){return ue<16?"0"+Math.max(0,ue).toString(16):Math.min(255,ue).toString(16)}function mr(ue,Le,Ve){var et=0,at=0,lt=0,Dt,pt,Vt;if(Dt=/([a-z]+)\((.*)\)/.exec(ue=ue.toLowerCase()),Dt)switch(pt=Dt[2].split(","),Dt[1]){case"hsl":return Ve(parseFloat(pt[0]),parseFloat(pt[1])/100,parseFloat(pt[2])/100);case"rgb":return Le(Br(pt[0]),Br(pt[1]),Br(pt[2]))}return(Vt=Tn.get(ue))?Le(Vt.r,Vt.g,Vt.b):(ue!=null&&ue.charAt(0)==="#"&&!isNaN(Vt=parseInt(ue.slice(1),16))&&(ue.length===4?(et=(Vt&3840)>>4,et=et>>4|et,at=Vt&240,at=at>>4|at,lt=Vt&15,lt=lt<<4|lt):ue.length===7&&(et=(Vt&16711680)>>16,at=(Vt&65280)>>8,lt=Vt&255)),Le(et,at,lt))}function gr(ue,Le,Ve){var et=Math.min(ue/=255,Le/=255,Ve/=255),at=Math.max(ue,Le,Ve),lt=at-et,Dt,pt,Vt=(at+et)/2;return lt?(pt=Vt<.5?lt/(at+et):lt/(2-at-et),ue==at?Dt=(Le-Ve)/lt+(Le<Ve?6:0):Le==at?Dt=(Ve-ue)/lt+2:Dt=(ue-Le)/lt+4,Dt*=60):(Dt=NaN,pt=Vt>0&&Vt<1?0:Dt),new ct(Dt,pt,Vt)}function Zr(ue,Le,Ve){ue=Ur(ue),Le=Ur(Le),Ve=Ur(Ve);var et=Xt((.4124564*ue+.3575761*Le+.1804375*Ve)/$t),at=Xt((.2126729*ue+.7151522*Le+.072175*Ve)/sr),lt=Xt((.0193339*ue+.119192*Le+.9503041*Ve)/Cr);return Wt(116*at-16,500*(et-at),200*(at-lt))}function Ur(ue){return(ue/=255)<=.04045?ue/12.92:Math.pow((ue+.055)/1.055,2.4)}function Br(ue){var Le=parseFloat(ue);return ue.charAt(ue.length-1)==="%"?Math.round(Le*2.55):Le}var Tn=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Tn.forEach(function(ue,Le){Tn.set(ue,nr(Le))});function Kr(ue){return typeof ue=="function"?ue:function(){return ue}}i.functor=Kr,i.xhr=Bn(N);function Bn(ue){return function(Le,Ve,et){return arguments.length===2&&typeof Ve=="function"&&(et=Ve,Ve=null),On(Le,Ve,ue,et)}}function On(ue,Le,Ve,et){var at={},lt=i.dispatch("beforesend","progress","load","error"),Dt={},pt=new XMLHttpRequest,Vt=null;self.XDomainRequest&&!("withCredentials"in pt)&&/^(http(s)?:)?\/\//.test(ue)&&(pt=new XDomainRequest),"onload"in pt?pt.onload=pt.onerror=rr:pt.onreadystatechange=function(){pt.readyState>3&&rr()};function rr(){var ar=pt.status,Dr;if(!ar&&Mr(pt)||ar>=200&&ar<300||ar===304){try{Dr=Ve.call(at,pt)}catch(_r){lt.error.call(at,_r);return}lt.load.call(at,Dr)}else lt.error.call(at,pt)}return pt.onprogress=function(ar){var Dr=i.event;i.event=ar;try{lt.progress.call(at,pt)}finally{i.event=Dr}},at.header=function(ar,Dr){return ar=(ar+"").toLowerCase(),arguments.length<2?Dt[ar]:(Dr==null?delete Dt[ar]:Dt[ar]=Dr+"",at)},at.mimeType=function(ar){return arguments.length?(Le=ar==null?null:ar+"",at):Le},at.responseType=function(ar){return arguments.length?(Vt=ar,at):Vt},at.response=function(ar){return Ve=ar,at},["get","post"].forEach(function(ar){at[ar]=function(){return at.send.apply(at,[ar].concat(T(arguments)))}}),at.send=function(ar,Dr,_r){if(arguments.length===2&&typeof Dr=="function"&&(_r=Dr,Dr=null),pt.open(ar,ue,!0),Le!=null&&!("accept"in Dt)&&(Dt.accept=Le+",*/*"),pt.setRequestHeader)for(var qr in Dt)pt.setRequestHeader(qr,Dt[qr]);return Le!=null&&pt.overrideMimeType&&pt.overrideMimeType(Le),Vt!=null&&(pt.responseType=Vt),_r!=null&&at.on("error",_r).on("load",function(on){_r(null,on)}),lt.beforesend.call(at,pt),pt.send(Dr??null),at},at.abort=function(){return pt.abort(),at},i.rebind(at,lt,"on"),et==null?at:at.get(Tr(et))}function Tr(ue){return ue.length===1?function(Le,Ve){ue(Le==null?Ve:null)}:ue}function Mr(ue){var Le=ue.responseType;return Le&&Le!=="text"?ue.response:ue.responseText}i.dsv=function(ue,Le){var Ve=new RegExp('["'+ue+`
]`),et=ue.charCodeAt(0);function at(rr,ar,Dr){arguments.length<3&&(Dr=ar,ar=null);var _r=On(rr,Le,ar==null?lt:Dt(ar),Dr);return _r.row=function(qr){return arguments.length?_r.response((ar=qr)==null?lt:Dt(qr)):ar},_r}function lt(rr){return at.parse(rr.responseText)}function Dt(rr){return function(ar){return at.parse(ar.responseText,rr)}}at.parse=function(rr,ar){var Dr;return at.parseRows(rr,function(_r,qr){if(Dr)return Dr(_r,qr-1);var on=function(Fr){for(var Wr={},Qr=_r.length,sn=0;sn<Qr;++sn)Wr[_r[sn]]=Fr[sn];return Wr};Dr=ar?function(Fr,Wr){return ar(on(Fr),Wr)}:on})},at.parseRows=function(rr,ar){var Dr={},_r={},qr=[],on=rr.length,Fr=0,Wr=0,Qr,sn;function pn(){if(Fr>=on)return _r;if(sn)return sn=!1,Dr;var Yn=Fr;if(rr.charCodeAt(Yn)===34){for(var Jn=Yn;Jn++<on;)if(rr.charCodeAt(Jn)===34){if(rr.charCodeAt(Jn+1)!==34)break;++Jn}Fr=Jn+2;var ia=rr.charCodeAt(Jn+1);return ia===13?(sn=!0,rr.charCodeAt(Jn+2)===10&&++Fr):ia===10&&(sn=!0),rr.slice(Yn+1,Jn).replace(/""/g,'"')}for(;Fr<on;){var ia=rr.charCodeAt(Fr++),ga=1;if(ia===10)sn=!0;else if(ia===13)sn=!0,rr.charCodeAt(Fr)===10&&(++Fr,++ga);else if(ia!==et)continue;return rr.slice(Yn,Fr-ga)}return rr.slice(Yn)}for(;(Qr=pn())!==_r;){for(var $r=[];Qr!==Dr&&Qr!==_r;)$r.push(Qr),Qr=pn();ar&&($r=ar($r,Wr++))==null||qr.push($r)}return qr},at.format=function(rr){if(Array.isArray(rr[0]))return at.formatRows(rr);var ar=new z,Dr=[];return rr.forEach(function(_r){for(var qr in _r)ar.has(qr)||Dr.push(ar.add(qr))}),[Dr.map(Vt).join(ue)].concat(rr.map(function(_r){return Dr.map(function(qr){return Vt(_r[qr])}).join(ue)})).join(`
`)},at.formatRows=function(rr){return rr.map(pt).join(`
`)};function pt(rr){return rr.map(Vt).join(ue)}function Vt(rr){return Ve.test(rr)?'"'+rr.replace(/\"/g,'""')+'"':rr}return at},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("	","text/tab-separated-values");var Hr,Vr,nn,bn,dn=this[F(this,"requestAnimationFrame")]||function(ue){setTimeout(ue,17)};i.timer=function(){Pn.apply(this,arguments)};function Pn(ue,Le,Ve){var et=arguments.length;et<2&&(Le=0),et<3&&(Ve=Date.now());var at=Ve+Le,lt={c:ue,t:at,n:null};return Vr?Vr.n=lt:Hr=lt,Vr=lt,nn||(bn=clearTimeout(bn),nn=1,dn(zn)),lt}function zn(){var ue=ta(),Le=oa()-ue;Le>24?(isFinite(Le)&&(clearTimeout(bn),bn=setTimeout(zn,Le)),nn=0):(nn=1,dn(zn))}i.timer.flush=function(){ta(),oa()};function ta(){for(var ue=Date.now(),Le=Hr;Le;)ue>=Le.t&&Le.c(ue-Le.t)&&(Le.c=null),Le=Le.n;return ue}function oa(){for(var ue,Le=Hr,Ve=1/0;Le;)Le.c?(Le.t<Ve&&(Ve=Le.t),Le=(ue=Le).n):Le=ue?ue.n=Le.n:Hr=Le.n;return Vr=ue,Ve}i.round=function(ue,Le){return Le?Math.round(ue*(Le=Math.pow(10,Le)))/Le:Math.round(ue)},i.geom={};function ya(ue){return ue[0]}function ca(ue){return ue[1]}i.geom.hull=function(ue){var Le=ya,Ve=ca;if(arguments.length)return et(ue);function et(at){if(at.length<3)return[];var lt=Kr(Le),Dt=Kr(Ve),pt,Vt=at.length,rr=[],ar=[];for(pt=0;pt<Vt;pt++)rr.push([+lt.call(this,at[pt],pt),+Dt.call(this,at[pt],pt),pt]);for(rr.sort(Pr),pt=0;pt<Vt;pt++)ar.push([rr[pt][0],-rr[pt][1]]);var Dr=la(rr),_r=la(ar),qr=_r[0]===Dr[0],on=_r[_r.length-1]===Dr[Dr.length-1],Fr=[];for(pt=Dr.length-1;pt>=0;--pt)Fr.push(at[rr[Dr[pt]][2]]);for(pt=+qr;pt<_r.length-on;++pt)Fr.push(at[rr[_r[pt]][2]]);return Fr}return et.x=function(at){return arguments.length?(Le=at,et):Le},et.y=function(at){return arguments.length?(Ve=at,et):Ve},et};function la(ue){for(var Le=ue.length,Ve=[0,1],et=2,at=2;at<Le;at++){for(;et>1&&Gt(ue[Ve[et-2]],ue[Ve[et-1]],ue[at])<=0;)--et;Ve[et++]=at}return Ve.slice(0,et)}function Pr(ue,Le){return ue[0]-Le[0]||ue[1]-Le[1]}i.geom.polygon=function(ue){return j(ue,hn),ue};var hn=i.geom.polygon.prototype=[];hn.area=function(){for(var ue=-1,Le=this.length,Ve,et=this[Le-1],at=0;++ue<Le;)Ve=et,et=this[ue],at+=Ve[1]*et[0]-Ve[0]*et[1];return at*.5},hn.centroid=function(ue){var Le=-1,Ve=this.length,et=0,at=0,lt,Dt=this[Ve-1],pt;for(arguments.length||(ue=-1/(6*this.area()));++Le<Ve;)lt=Dt,Dt=this[Le],pt=lt[0]*Dt[1]-Dt[0]*lt[1],et+=(lt[0]+Dt[0])*pt,at+=(lt[1]+Dt[1])*pt;return[et*ue,at*ue]},hn.clip=function(ue){for(var Le,Ve=Zn(ue),et=-1,at=this.length-Zn(this),lt,Dt,pt=this[at-1],Vt,rr,ar;++et<at;){for(Le=ue.slice(),ue.length=0,Vt=this[et],rr=Le[(Dt=Le.length-Ve)-1],lt=-1;++lt<Dt;)ar=Le[lt],un(ar,pt,Vt)?(un(rr,pt,Vt)||ue.push(wn(rr,ar,pt,Vt)),ue.push(ar)):un(rr,pt,Vt)&&ue.push(wn(rr,ar,pt,Vt)),rr=ar;Ve&&ue.push(ue[0]),pt=Vt}return ue};function un(ue,Le,Ve){return(Ve[0]-Le[0])*(ue[1]-Le[1])<(Ve[1]-Le[1])*(ue[0]-Le[0])}function wn(ue,Le,Ve,et){var at=ue[0],lt=Ve[0],Dt=Le[0]-at,pt=et[0]-lt,Vt=ue[1],rr=Ve[1],ar=Le[1]-Vt,Dr=et[1]-rr,_r=(pt*(Vt-rr)-Dr*(at-lt))/(Dr*Dt-pt*ar);return[at+_r*Dt,Vt+_r*ar]}function Zn(ue){var Le=ue[0],Ve=ue[ue.length-1];return!(Le[0]-Ve[0]||Le[1]-Ve[1])}var In,Dn,jn,va=[],Ia,hi,Kt=[];function Sr(){Go(this),this.edge=this.site=this.circle=null}function fn(ue){var Le=va.pop()||new Sr;return Le.site=ue,Le}function gn(ue){Qn(ue),jn.remove(ue),va.push(ue),Go(ue)}function yn(ue){var Le=ue.circle,Ve=Le.x,et=Le.cy,at={x:Ve,y:et},lt=ue.P,Dt=ue.N,pt=[ue];gn(ue);for(var Vt=lt;Vt.circle&&d(Ve-Vt.circle.x)<fe&&d(et-Vt.circle.cy)<fe;)lt=Vt.P,pt.unshift(Vt),gn(Vt),Vt=lt;pt.unshift(Vt),Qn(Vt);for(var rr=Dt;rr.circle&&d(Ve-rr.circle.x)<fe&&d(et-rr.circle.cy)<fe;)Dt=rr.N,pt.push(rr),gn(rr),rr=Dt;pt.push(rr),Qn(rr);var ar=pt.length,Dr;for(Dr=1;Dr<ar;++Dr)rr=pt[Dr],Vt=pt[Dr-1],ba(rr.edge,Vt.site,rr.site,at);Vt=pt[0],rr=pt[ar-1],rr.edge=da(Vt.site,rr.site,null,at),Hn(Vt),Hn(rr)}function Fn(ue){for(var Le=ue.x,Ve=ue.y,et,at,lt,Dt,pt=jn._;pt;)if(lt=Ln(pt,Ve)-Le,lt>fe)pt=pt.L;else if(Dt=Le-ln(pt,Ve),Dt>fe){if(!pt.R){et=pt;break}pt=pt.R}else{lt>-fe?(et=pt.P,at=pt):Dt>-fe?(et=pt,at=pt.N):et=at=pt;break}var Vt=fn(ue);if(jn.insert(et,Vt),!(!et&&!at)){if(et===at){Qn(et),at=fn(et.site),jn.insert(Vt,at),Vt.edge=at.edge=da(et.site,Vt.site),Hn(et),Hn(at);return}if(!at){Vt.edge=da(et.site,Vt.site);return}Qn(et),Qn(at);var rr=et.site,ar=rr.x,Dr=rr.y,_r=ue.x-ar,qr=ue.y-Dr,on=at.site,Fr=on.x-ar,Wr=on.y-Dr,Qr=2*(_r*Wr-qr*Fr),sn=_r*_r+qr*qr,pn=Fr*Fr+Wr*Wr,$r={x:(Wr*sn-qr*pn)/Qr+ar,y:(_r*pn-Fr*sn)/Qr+Dr};ba(at.edge,rr,on,$r),Vt.edge=da(rr,ue,null,$r),at.edge=da(ue,on,null,$r),Hn(et),Hn(at)}}function Ln(ue,Le){var Ve=ue.site,et=Ve.x,at=Ve.y,lt=at-Le;if(!lt)return et;var Dt=ue.P;if(!Dt)return-1/0;Ve=Dt.site;var pt=Ve.x,Vt=Ve.y,rr=Vt-Le;if(!rr)return pt;var ar=pt-et,Dr=1/lt-1/rr,_r=ar/rr;return Dr?(-_r+Math.sqrt(_r*_r-2*Dr*(ar*ar/(-2*rr)-Vt+rr/2+at-lt/2)))/Dr+et:(et+pt)/2}function ln(ue,Le){var Ve=ue.N;if(Ve)return Ln(Ve,Le);var et=ue.site;return et.y===Le?et.x:1/0}function Ir(ue){this.site=ue,this.edges=[]}Ir.prototype.prepare=function(){for(var ue=this.edges,Le=ue.length,Ve;Le--;)Ve=ue[Le].edge,(!Ve.b||!Ve.a)&&ue.splice(Le,1);return ue.sort(Nr),ue.length};function Rr(ue){for(var Le=ue[0][0],Ve=ue[1][0],et=ue[0][1],at=ue[1][1],lt,Dt,pt,Vt,rr=Dn,ar=rr.length,Dr,_r,qr,on,Fr,Wr;ar--;)if(Dr=rr[ar],!(!Dr||!Dr.prepare()))for(qr=Dr.edges,on=qr.length,_r=0;_r<on;)Wr=qr[_r].end(),pt=Wr.x,Vt=Wr.y,Fr=qr[++_r%on].start(),lt=Fr.x,Dt=Fr.y,(d(pt-lt)>fe||d(Vt-Dt)>fe)&&(qr.splice(_r,0,new So(pa(Dr.site,Wr,d(pt-Le)<fe&&at-Vt>fe?{x:Le,y:d(lt-Le)<fe?Dt:at}:d(Vt-at)<fe&&Ve-pt>fe?{x:d(Dt-at)<fe?lt:Ve,y:at}:d(pt-Ve)<fe&&Vt-et>fe?{x:Ve,y:d(lt-Ve)<fe?Dt:et}:d(Vt-et)<fe&&pt-Le>fe?{x:d(Dt-et)<fe?lt:Le,y:et}:null),Dr.site,null)),++on)}function Nr(ue,Le){return Le.angle-ue.angle}function xn(){Go(this),this.x=this.y=this.arc=this.site=this.cy=null}function Hn(ue){var Le=ue.P,Ve=ue.N;if(!(!Le||!Ve)){var et=Le.site,at=ue.site,lt=Ve.site;if(et!==lt){var Dt=at.x,pt=at.y,Vt=et.x-Dt,rr=et.y-pt,ar=lt.x-Dt,Wr=lt.y-pt,Dr=2*(Vt*Wr-rr*ar);if(!(Dr>=-me)){var _r=Vt*Vt+rr*rr,qr=ar*ar+Wr*Wr,on=(Wr*_r-rr*qr)/Dr,Fr=(Vt*qr-ar*_r)/Dr,Wr=Fr+pt,Qr=Kt.pop()||new xn;Qr.arc=ue,Qr.site=at,Qr.x=on+Dt,Qr.y=Wr+Math.sqrt(on*on+Fr*Fr),Qr.cy=Wr,ue.circle=Qr;for(var sn=null,pn=hi._;pn;)if(Qr.y<pn.y||Qr.y===pn.y&&Qr.x<=pn.x)if(pn.L)pn=pn.L;else{sn=pn.P;break}else if(pn.R)pn=pn.R;else{sn=pn;break}hi.insert(sn,Qr),sn||(Ia=Qr)}}}}function Qn(ue){var Le=ue.circle;Le&&(Le.P||(Ia=Le.N),hi.remove(Le),Kt.push(Le),Go(Le),ue.circle=null)}function An(ue,Le,Ve,et){return function(at){var lt=at.a,Dt=at.b,pt=lt.x,Vt=lt.y,rr=Dt.x,ar=Dt.y,Dr=0,_r=1,qr=rr-pt,on=ar-Vt,Fr;if(Fr=ue-pt,!(!qr&&Fr>0)){if(Fr/=qr,qr<0){if(Fr<Dr)return;Fr<_r&&(_r=Fr)}else if(qr>0){if(Fr>_r)return;Fr>Dr&&(Dr=Fr)}if(Fr=Ve-pt,!(!qr&&Fr<0)){if(Fr/=qr,qr<0){if(Fr>_r)return;Fr>Dr&&(Dr=Fr)}else if(qr>0){if(Fr<Dr)return;Fr<_r&&(_r=Fr)}if(Fr=Le-Vt,!(!on&&Fr>0)){if(Fr/=on,on<0){if(Fr<Dr)return;Fr<_r&&(_r=Fr)}else if(on>0){if(Fr>_r)return;Fr>Dr&&(Dr=Fr)}if(Fr=et-Vt,!(!on&&Fr<0)){if(Fr/=on,on<0){if(Fr>_r)return;Fr>Dr&&(Dr=Fr)}else if(on>0){if(Fr<Dr)return;Fr<_r&&(_r=Fr)}return Dr>0&&(at.a={x:pt+Dr*qr,y:Vt+Dr*on}),_r<1&&(at.b={x:pt+_r*qr,y:Vt+_r*on}),at}}}}}}function Wn(ue){for(var Le=In,Ve=An(ue[0][0],ue[0][1],ue[1][0],ue[1][1]),et=Le.length,at;et--;)at=Le[et],(!ua(at,ue)||!Ve(at)||d(at.a.x-at.b.x)<fe&&d(at.a.y-at.b.y)<fe)&&(at.a=at.b=null,Le.splice(et,1))}function ua(ue,Le){var Ve=ue.b;if(Ve)return!0;var et=ue.a,at=Le[0][0],lt=Le[1][0],Dt=Le[0][1],pt=Le[1][1],Vt=ue.l,rr=ue.r,ar=Vt.x,Dr=Vt.y,_r=rr.x,qr=rr.y,on=(ar+_r)/2,Fr=(Dr+qr)/2,Wr,Qr;if(qr===Dr){if(on<at||on>=lt)return;if(ar>_r){if(!et)et={x:on,y:Dt};else if(et.y>=pt)return;Ve={x:on,y:pt}}else{if(!et)et={x:on,y:pt};else if(et.y<Dt)return;Ve={x:on,y:Dt}}}else if(Wr=(ar-_r)/(qr-Dr),Qr=Fr-Wr*on,Wr<-1||Wr>1)if(ar>_r){if(!et)et={x:(Dt-Qr)/Wr,y:Dt};else if(et.y>=pt)return;Ve={x:(pt-Qr)/Wr,y:pt}}else{if(!et)et={x:(pt-Qr)/Wr,y:pt};else if(et.y<Dt)return;Ve={x:(Dt-Qr)/Wr,y:Dt}}else if(Dr<qr){if(!et)et={x:at,y:Wr*at+Qr};else if(et.x>=lt)return;Ve={x:lt,y:Wr*lt+Qr}}else{if(!et)et={x:lt,y:Wr*lt+Qr};else if(et.x<at)return;Ve={x:at,y:Wr*at+Qr}}return ue.a=et,ue.b=Ve,!0}function ma(ue,Le){this.l=ue,this.r=Le,this.a=this.b=null}function da(ue,Le,Ve,et){var at=new ma(ue,Le);return In.push(at),Ve&&ba(at,ue,Le,Ve),et&&ba(at,Le,ue,et),Dn[ue.i].edges.push(new So(at,ue,Le)),Dn[Le.i].edges.push(new So(at,Le,ue)),at}function pa(ue,Le,Ve){var et=new ma(ue,null);return et.a=Le,et.b=Ve,In.push(et),et}function ba(ue,Le,Ve,et){!ue.a&&!ue.b?(ue.a=et,ue.l=Le,ue.r=Ve):ue.l===Ve?ue.b=et:ue.a=et}function So(ue,Le,Ve){var et=ue.a,at=ue.b;this.edge=ue,this.site=Le,this.angle=Ve?Math.atan2(Ve.y-Le.y,Ve.x-Le.x):ue.l===Le?Math.atan2(at.x-et.x,et.y-at.y):Math.atan2(et.x-at.x,at.y-et.y)}So.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function _o(){this._=null}function Go(ue){ue.U=ue.C=ue.L=ue.R=ue.P=ue.N=null}_o.prototype={insert:function(ue,Le){var Ve,et,at;if(ue){if(Le.P=ue,Le.N=ue.N,ue.N&&(ue.N.P=Le),ue.N=Le,ue.R){for(ue=ue.R;ue.L;)ue=ue.L;ue.L=Le}else ue.R=Le;Ve=ue}else this._?(ue=Uu(this._),Le.P=null,Le.N=ue,ue.P=ue.L=Le,Ve=ue):(Le.P=Le.N=null,this._=Le,Ve=null);for(Le.L=Le.R=null,Le.U=Ve,Le.C=!0,ue=Le;Ve&&Ve.C;)et=Ve.U,Ve===et.L?(at=et.R,at&&at.C?(Ve.C=at.C=!1,et.C=!0,ue=et):(ue===Ve.R&&(Ko(this,Ve),ue=Ve,Ve=ue.U),Ve.C=!1,et.C=!0,Wo(this,et))):(at=et.L,at&&at.C?(Ve.C=at.C=!1,et.C=!0,ue=et):(ue===Ve.L&&(Wo(this,Ve),ue=Ve,Ve=ue.U),Ve.C=!1,et.C=!0,Ko(this,et))),Ve=ue.U;this._.C=!1},remove:function(ue){ue.N&&(ue.N.P=ue.P),ue.P&&(ue.P.N=ue.N),ue.N=ue.P=null;var Le=ue.U,Ve,et=ue.L,at=ue.R,lt,Dt;if(et?at?lt=Uu(at):lt=et:lt=at,Le?Le.L===ue?Le.L=lt:Le.R=lt:this._=lt,et&&at?(Dt=lt.C,lt.C=ue.C,lt.L=et,et.U=lt,lt!==at?(Le=lt.U,lt.U=ue.U,ue=lt.R,Le.L=ue,lt.R=at,at.U=lt):(lt.U=Le,Le=lt,ue=lt.R)):(Dt=ue.C,ue=lt),ue&&(ue.U=Le),!Dt){if(ue&&ue.C){ue.C=!1;return}do{if(ue===this._)break;if(ue===Le.L){if(Ve=Le.R,Ve.C&&(Ve.C=!1,Le.C=!0,Ko(this,Le),Ve=Le.R),Ve.L&&Ve.L.C||Ve.R&&Ve.R.C){(!Ve.R||!Ve.R.C)&&(Ve.L.C=!1,Ve.C=!0,Wo(this,Ve),Ve=Le.R),Ve.C=Le.C,Le.C=Ve.R.C=!1,Ko(this,Le),ue=this._;break}}else if(Ve=Le.L,Ve.C&&(Ve.C=!1,Le.C=!0,Wo(this,Le),Ve=Le.L),Ve.L&&Ve.L.C||Ve.R&&Ve.R.C){(!Ve.L||!Ve.L.C)&&(Ve.R.C=!1,Ve.C=!0,Ko(this,Ve),Ve=Le.L),Ve.C=Le.C,Le.C=Ve.L.C=!1,Wo(this,Le),ue=this._;break}Ve.C=!0,ue=Le,Le=Le.U}while(!ue.C);ue&&(ue.C=!1)}}};function Ko(ue,Le){var Ve=Le,et=Le.R,at=Ve.U;at?at.L===Ve?at.L=et:at.R=et:ue._=et,et.U=at,Ve.U=et,Ve.R=et.L,Ve.R&&(Ve.R.U=Ve),et.L=Ve}function Wo(ue,Le){var Ve=Le,et=Le.L,at=Ve.U;at?at.L===Ve?at.L=et:at.R=et:ue._=et,et.U=at,Ve.U=et,Ve.L=et.R,Ve.L&&(Ve.L.U=Ve),et.R=Ve}function Uu(ue){for(;ue.L;)ue=ue.L;return ue}function xi(ue,Le){var Ve=ue.sort(Fl).pop(),et,at,lt;for(In=[],Dn=new Array(ue.length),jn=new _o,hi=new _o;;)if(lt=Ia,Ve&&(!lt||Ve.y<lt.y||Ve.y===lt.y&&Ve.x<lt.x))(Ve.x!==et||Ve.y!==at)&&(Dn[Ve.i]=new Ir(Ve),Fn(Ve),et=Ve.x,at=Ve.y),Ve=ue.pop();else if(lt)yn(lt.arc);else break;Le&&(Wn(Le),Rr(Le));var Dt={cells:Dn,edges:In};return jn=hi=In=Dn=null,Dt}function Fl(ue,Le){return Le.y-ue.y||Le.x-ue.x}i.geom.voronoi=function(ue){var Le=ya,Ve=ca,et=Le,at=Ve,lt=Jl;if(ue)return Dt(ue);function Dt(Vt){var rr=new Array(Vt.length),ar=lt[0][0],Dr=lt[0][1],_r=lt[1][0],qr=lt[1][1];return xi(pt(Vt),lt).cells.forEach(function(on,Fr){var Wr=on.edges,Qr=on.site,sn=rr[Fr]=Wr.length?Wr.map(function(pn){var $r=pn.start();return[$r.x,$r.y]}):Qr.x>=ar&&Qr.x<=_r&&Qr.y>=Dr&&Qr.y<=qr?[[ar,qr],[_r,qr],[_r,Dr],[ar,Dr]]:[];sn.point=Vt[Fr]}),rr}function pt(Vt){return Vt.map(function(rr,ar){return{x:Math.round(et(rr,ar)/fe)*fe,y:Math.round(at(rr,ar)/fe)*fe,i:ar}})}return Dt.links=function(Vt){return xi(pt(Vt)).edges.filter(function(rr){return rr.l&&rr.r}).map(function(rr){return{source:Vt[rr.l.i],target:Vt[rr.r.i]}})},Dt.triangles=function(Vt){var rr=[];return xi(pt(Vt)).cells.forEach(function(ar,Dr){for(var _r=ar.site,qr=ar.edges.sort(Nr),on=-1,Fr=qr.length,Wr,Qr=qr[Fr-1].edge,sn=Qr.l===_r?Qr.r:Qr.l;++on<Fr;)Wr=sn,Qr=qr[on].edge,sn=Qr.l===_r?Qr.r:Qr.l,Dr<Wr.i&&Dr<sn.i&&Do(_r,Wr,sn)<0&&rr.push([Vt[Dr],Vt[Wr.i],Vt[sn.i]])}),rr},Dt.x=function(Vt){return arguments.length?(et=Kr(Le=Vt),Dt):Le},Dt.y=function(Vt){return arguments.length?(at=Kr(Ve=Vt),Dt):Ve},Dt.clipExtent=function(Vt){return arguments.length?(lt=Vt??Jl,Dt):lt===Jl?null:lt},Dt.size=function(Vt){return arguments.length?Dt.clipExtent(Vt&&[[0,0],Vt]):lt===Jl?null:lt&&lt[1]},Dt};var Jl=[[-1e6,-1e6],[1e6,1e6]];function Do(ue,Le,Ve){return(ue.x-Ve.x)*(Le.y-ue.y)-(ue.x-Le.x)*(Ve.y-ue.y)}i.geom.delaunay=function(ue){return i.geom.voronoi().triangles(ue)},i.geom.quadtree=function(ue,Le,Ve,et,at){var lt=ya,Dt=ca,pt;if(pt=arguments.length)return lt=bo,Dt=uf,pt===3&&(at=Ve,et=Le,Ve=Le=0),Vt(ue);function Vt(rr){var ar,Dr=Kr(lt),_r=Kr(Dt),qr,on,Fr,Wr,Qr,sn,pn,$r;if(Le!=null)Qr=Le,sn=Ve,pn=et,$r=at;else if(pn=$r=-(Qr=sn=1/0),qr=[],on=[],Wr=rr.length,pt)for(Fr=0;Fr<Wr;++Fr)ar=rr[Fr],ar.x<Qr&&(Qr=ar.x),ar.y<sn&&(sn=ar.y),ar.x>pn&&(pn=ar.x),ar.y>$r&&($r=ar.y),qr.push(ar.x),on.push(ar.y);else for(Fr=0;Fr<Wr;++Fr){var Yn=+Dr(ar=rr[Fr],Fr),Jn=+_r(ar,Fr);Yn<Qr&&(Qr=Yn),Jn<sn&&(sn=Jn),Yn>pn&&(pn=Yn),Jn>$r&&($r=Jn),qr.push(Yn),on.push(Jn)}var ia=pn-Qr,ga=$r-sn;ia>ga?$r=sn+ia:pn=Qr+ga;function Ra(Na,Ja,Ti,Ci,Oi,Xn,Qa,Xa){if(!(isNaN(Ti)||isNaN(Ci)))if(Na.leaf){var pi=Na.x,ro=Na.y;if(pi!=null)if(d(pi-Ti)+d(ro-Ci)<.01)Pa(Na,Ja,Ti,Ci,Oi,Xn,Qa,Xa);else{var Mo=Na.point;Na.x=Na.y=Na.point=null,Pa(Na,Mo,pi,ro,Oi,Xn,Qa,Xa),Pa(Na,Ja,Ti,Ci,Oi,Xn,Qa,Xa)}else Na.x=Ti,Na.y=Ci,Na.point=Ja}else Pa(Na,Ja,Ti,Ci,Oi,Xn,Qa,Xa)}function Pa(Na,Ja,Ti,Ci,Oi,Xn,Qa,Xa){var pi=(Oi+Qa)*.5,ro=(Xn+Xa)*.5,Mo=Ti>=pi,ko=Ci>=ro,Ki=ko<<1|Mo;Na.leaf=!1,Na=Na.nodes[Ki]||(Na.nodes[Ki]=Ql()),Mo?Oi=pi:Qa=pi,ko?Xn=ro:Xa=ro,Ra(Na,Ja,Ti,Ci,Oi,Xn,Qa,Xa)}var ei=Ql();if(ei.add=function(Na){Ra(ei,Na,+Dr(Na,++Fr),+_r(Na,Fr),Qr,sn,pn,$r)},ei.visit=function(Na){Xi(Na,ei,Qr,sn,pn,$r)},ei.find=function(Na){return $l(ei,Na[0],Na[1],Qr,sn,pn,$r)},Fr=-1,Le==null){for(;++Fr<Wr;)Ra(ei,rr[Fr],qr[Fr],on[Fr],Qr,sn,pn,$r);--Fr}else rr.forEach(ei.add);return qr=on=rr=ar=null,ei}return Vt.x=function(rr){return arguments.length?(lt=rr,Vt):lt},Vt.y=function(rr){return arguments.length?(Dt=rr,Vt):Dt},Vt.extent=function(rr){return arguments.length?(rr==null?Le=Ve=et=at=null:(Le=+rr[0][0],Ve=+rr[0][1],et=+rr[1][0],at=+rr[1][1]),Vt):Le==null?null:[[Le,Ve],[et,at]]},Vt.size=function(rr){return arguments.length?(rr==null?Le=Ve=et=at=null:(Le=Ve=0,et=+rr[0],at=+rr[1]),Vt):Le==null?null:[et-Le,at-Ve]},Vt};function bo(ue){return ue.x}function uf(ue){return ue.y}function Ql(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Xi(ue,Le,Ve,et,at,lt){if(!ue(Le,Ve,et,at,lt)){var Dt=(Ve+at)*.5,pt=(et+lt)*.5,Vt=Le.nodes;Vt[0]&&Xi(ue,Vt[0],Ve,et,Dt,pt),Vt[1]&&Xi(ue,Vt[1],Dt,et,at,pt),Vt[2]&&Xi(ue,Vt[2],Ve,pt,Dt,lt),Vt[3]&&Xi(ue,Vt[3],Dt,pt,at,lt)}}function $l(ue,Le,Ve,et,at,lt,Dt){var pt=1/0,Vt;return function rr(ar,Dr,_r,qr,on){if(!(Dr>lt||_r>Dt||qr<et||on<at)){if(Fr=ar.point){var Fr,Wr=Le-ar.x,Qr=Ve-ar.y,sn=Wr*Wr+Qr*Qr;if(sn<pt){var pn=Math.sqrt(pt=sn);et=Le-pn,at=Ve-pn,lt=Le+pn,Dt=Ve+pn,Vt=Fr}}for(var $r=ar.nodes,Yn=(Dr+qr)*.5,Jn=(_r+on)*.5,ia=Le>=Yn,ga=Ve>=Jn,Ra=ga<<1|ia,Pa=Ra+4;Ra<Pa;++Ra)if(ar=$r[Ra&3])switch(Ra&3){case 0:rr(ar,Dr,_r,Yn,Jn);break;case 1:rr(ar,Yn,_r,qr,Jn);break;case 2:rr(ar,Dr,Jn,Yn,on);break;case 3:rr(ar,Yn,Jn,qr,on);break}}}(ue,et,at,lt,Dt),Vt}i.interpolateRgb=ss;function ss(ue,Le){ue=i.rgb(ue),Le=i.rgb(Le);var Ve=ue.r,et=ue.g,at=ue.b,lt=Le.r-Ve,Dt=Le.g-et,pt=Le.b-at;return function(Vt){return"#"+yr(Math.round(Ve+lt*Vt))+yr(Math.round(et+Dt*Vt))+yr(Math.round(at+pt*Vt))}}i.interpolateObject=wo;function wo(ue,Le){var Ve={},et={},at;for(at in ue)at in Le?Ve[at]=qs(ue[at],Le[at]):et[at]=ue[at];for(at in Le)at in ue||(et[at]=Le[at]);return function(lt){for(at in Ve)et[at]=Ve[at](lt);return et}}i.interpolateNumber=ps;function ps(ue,Le){return ue=+ue,Le=+Le,function(Ve){return ue*(1-Ve)+Le*Ve}}i.interpolateString=jo;function jo(ue,Le){var Ve=To.lastIndex=_s.lastIndex=0,et,at,lt,Dt=-1,pt=[],Vt=[];for(ue=ue+"",Le=Le+"";(et=To.exec(ue))&&(at=_s.exec(Le));)(lt=at.index)>Ve&&(lt=Le.slice(Ve,lt),pt[Dt]?pt[Dt]+=lt:pt[++Dt]=lt),(et=et[0])===(at=at[0])?pt[Dt]?pt[Dt]+=at:pt[++Dt]=at:(pt[++Dt]=null,Vt.push({i:Dt,x:ps(et,at)})),Ve=_s.lastIndex;return Ve<Le.length&&(lt=Le.slice(Ve),pt[Dt]?pt[Dt]+=lt:pt[++Dt]=lt),pt.length<2?Vt[0]?(Le=Vt[0].x,function(rr){return Le(rr)+""}):function(){return Le}:(Le=Vt.length,function(rr){for(var ar=0,Dr;ar<Le;++ar)pt[(Dr=Vt[ar]).i]=Dr.x(rr);return pt.join("")})}var To=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_s=new RegExp(To.source,"g");i.interpolate=qs;function qs(ue,Le){for(var Ve=i.interpolators.length,et;--Ve>=0&&!(et=i.interpolators[Ve](ue,Le)););return et}i.interpolators=[function(ue,Le){var Ve=typeof Le;return(Ve==="string"?Tn.has(Le.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Le)?ss:jo:Le instanceof ht?ss:Array.isArray(Le)?Oo:Ve==="object"&&isNaN(Le)?wo:ps)(ue,Le)}],i.interpolateArray=Oo;function Oo(ue,Le){var Ve=[],et=[],at=ue.length,lt=Le.length,Dt=Math.min(ue.length,Le.length),pt;for(pt=0;pt<Dt;++pt)Ve.push(qs(ue[pt],Le[pt]));for(;pt<at;++pt)et[pt]=ue[pt];for(;pt<lt;++pt)et[pt]=Le[pt];return function(Vt){for(pt=0;pt<Dt;++pt)et[pt]=Ve[pt](Vt);return et}}var Hf=function(){return N},Hs=i.map({linear:Hf,poly:eu,quad:function(){return gu},cubic:function(){return ql},sin:function(){return Hu},exp:function(){return Gf},circle:function(){return yc},elastic:cf,back:mc,bounce:function(){return zl}}),No=i.map({in:N,out:el,"in-out":Vs,"out-in":function(ue){return Vs(el(ue))}});i.ease=function(ue){var Le=ue.indexOf("-"),Ve=Le>=0?ue.slice(0,Le):ue,et=Le>=0?ue.slice(Le+1):"in";return Ve=Hs.get(Ve)||Hf,et=No.get(et)||N,ff(et(Ve.apply(null,L.call(arguments,1))))};function ff(ue){return function(Le){return Le<=0?0:Le>=1?1:ue(Le)}}function el(ue){return function(Le){return 1-ue(1-Le)}}function Vs(ue){return function(Le){return .5*(Le<.5?ue(2*Le):2-ue(2-2*Le))}}function gu(ue){return ue*ue}function ql(ue){return ue*ue*ue}function Vf(ue){if(ue<=0)return 0;if(ue>=1)return 1;var Le=ue*ue,Ve=Le*ue;return 4*(ue<.5?Ve:3*(ue-Le)+Ve-.75)}function eu(ue){return function(Le){return Math.pow(Le,ue)}}function Hu(ue){return 1-Math.cos(ue*ut)}function Gf(ue){return Math.pow(2,10*(ue-1))}function yc(ue){return 1-Math.sqrt(1-ue*ue)}function cf(ue,Le){var Ve;return arguments.length<2&&(Le=.45),arguments.length?Ve=Le/Oe*Math.asin(1/ue):(ue=1,Ve=Le/4),function(et){return 1+ue*Math.pow(2,-10*et)*Math.sin((et-Ve)*Oe/Le)}}function mc(ue){return ue||(ue=1.70158),function(Le){return Le*Le*((ue+1)*Le-ue)}}function zl(ue){return ue<.36363636363636365?7.5625*ue*ue:ue<.7272727272727273?7.5625*(ue-=.5454545454545454)*ue+.75:ue<.9090909090909091?7.5625*(ue-=.8181818181818182)*ue+.9375:7.5625*(ue-=.9545454545454546)*ue+.984375}i.interpolateHcl=Wf;function Wf(ue,Le){ue=i.hcl(ue),Le=i.hcl(Le);var Ve=ue.h,et=ue.c,at=ue.l,lt=Le.h-Ve,Dt=Le.c-et,pt=Le.l-at;return isNaN(Dt)&&(Dt=0,et=isNaN(et)?Le.c:et),isNaN(lt)?(lt=0,Ve=isNaN(Ve)?Le.h:Ve):lt>180?lt-=360:lt<-180&&(lt+=360),function(Vt){return Ot(Ve+lt*Vt,et+Dt*Vt,at+pt*Vt)+""}}i.interpolateHsl=xc;function xc(ue,Le){ue=i.hsl(ue),Le=i.hsl(Le);var Ve=ue.h,et=ue.s,at=ue.l,lt=Le.h-Ve,Dt=Le.s-et,pt=Le.l-at;return isNaN(Dt)&&(Dt=0,et=isNaN(et)?Le.s:et),isNaN(lt)?(lt=0,Ve=isNaN(Ve)?Le.h:Ve):lt>180?lt-=360:lt<-180&&(lt+=360),function(Vt){return St(Ve+lt*Vt,et+Dt*Vt,at+pt*Vt)+""}}i.interpolateLab=Vu;function Vu(ue,Le){ue=i.lab(ue),Le=i.lab(Le);var Ve=ue.l,et=ue.a,at=ue.b,lt=Le.l-Ve,Dt=Le.a-et,pt=Le.b-at;return function(Vt){return We(Ve+lt*Vt,et+Dt*Vt,at+pt*Vt)+""}}i.interpolateRound=Gu;function Gu(ue,Le){return Le-=ue,function(Ve){return Math.round(ue+Le*Ve)}}i.transform=function(ue){var Le=v.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(Ve){if(Ve!=null){Le.setAttribute("transform",Ve);var et=Le.transform.baseVal.consolidate()}return new Ds(et?et.matrix:yu)})(ue)};function Ds(ue){var Le=[ue.a,ue.b],Ve=[ue.c,ue.d],et=tu(Le),at=yl(Le,Ve),lt=tu(Wu(Ve,Le,-at))||0;Le[0]*Ve[1]<Ve[0]*Le[1]&&(Le[0]*=-1,Le[1]*=-1,et*=-1,at*=-1),this.rotate=(et?Math.atan2(Le[1],Le[0]):Math.atan2(-Ve[0],Ve[1]))*It,this.translate=[ue.e,ue.f],this.scale=[et,lt],this.skew=lt?Math.atan2(at,lt)*It:0}Ds.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function yl(ue,Le){return ue[0]*Le[0]+ue[1]*Le[1]}function tu(ue){var Le=Math.sqrt(yl(ue,ue));return Le&&(ue[0]/=Le,ue[1]/=Le),Le}function Wu(ue,Le,Ve){return ue[0]+=Ve*Le[0],ue[1]+=Ve*Le[1],ue}var yu={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=ml;function tl(ue){return ue.length?ue.pop()+",":""}function hf(ue,Le,Ve,et){if(ue[0]!==Le[0]||ue[1]!==Le[1]){var at=Ve.push("translate(",null,",",null,")");et.push({i:at-4,x:ps(ue[0],Le[0])},{i:at-2,x:ps(ue[1],Le[1])})}else(Le[0]||Le[1])&&Ve.push("translate("+Le+")")}function vf(ue,Le,Ve,et){ue!==Le?(ue-Le>180?Le+=360:Le-ue>180&&(ue+=360),et.push({i:Ve.push(tl(Ve)+"rotate(",null,")")-2,x:ps(ue,Le)})):Le&&Ve.push(tl(Ve)+"rotate("+Le+")")}function jf(ue,Le,Ve,et){ue!==Le?et.push({i:Ve.push(tl(Ve)+"skewX(",null,")")-2,x:ps(ue,Le)}):Le&&Ve.push(tl(Ve)+"skewX("+Le+")")}function Jo(ue,Le,Ve,et){if(ue[0]!==Le[0]||ue[1]!==Le[1]){var at=Ve.push(tl(Ve)+"scale(",null,",",null,")");et.push({i:at-4,x:ps(ue[0],Le[0])},{i:at-2,x:ps(ue[1],Le[1])})}else(Le[0]!==1||Le[1]!==1)&&Ve.push(tl(Ve)+"scale("+Le+")")}function ml(ue,Le){var Ve=[],et=[];return ue=i.transform(ue),Le=i.transform(Le),hf(ue.translate,Le.translate,Ve,et),vf(ue.rotate,Le.rotate,Ve,et),jf(ue.skew,Le.skew,Ve,et),Jo(ue.scale,Le.scale,Ve,et),ue=Le=null,function(at){for(var lt=-1,Dt=et.length,pt;++lt<Dt;)Ve[(pt=et[lt]).i]=pt.x(at);return Ve.join("")}}function Ol(ue,Le){return Le=(Le-=ue=+ue)||1/Le,function(Ve){return(Ve-ue)/Le}}function Nl(ue,Le){return Le=(Le-=ue=+ue)||1/Le,function(Ve){return Math.max(0,Math.min(1,(Ve-ue)/Le))}}i.layout={},i.layout.bundle=function(){return function(ue){for(var Le=[],Ve=-1,et=ue.length;++Ve<et;)Le.push(Ts(ue[Ve]));return Le}};function Ts(ue){for(var Le=ue.source,Ve=ue.target,et=ju(Le,Ve),at=[Le];Le!==et;)Le=Le.parent,at.push(Le);for(var lt=at.length;Ve!==et;)at.splice(lt,0,Ve),Ve=Ve.parent;return at}function Qo(ue){for(var Le=[],Ve=ue.parent;Ve!=null;)Le.push(ue),ue=Ve,Ve=Ve.parent;return Le.push(ue),Le}function ju(ue,Le){if(ue===Le)return ue;for(var Ve=Qo(ue),et=Qo(Le),at=Ve.pop(),lt=et.pop(),Dt=null;at===lt;)Dt=at,at=Ve.pop(),lt=et.pop();return Dt}i.layout.chord=function(){var ue={},Le,Ve,et,at,lt=0,Dt,pt,Vt;function rr(){var Dr={},_r=[],qr=i.range(at),on=[],Fr,Wr,Qr,sn,pn;for(Le=[],Ve=[],Fr=0,sn=-1;++sn<at;){for(Wr=0,pn=-1;++pn<at;)Wr+=et[sn][pn];_r.push(Wr),on.push(i.range(at)),Fr+=Wr}for(Dt&&qr.sort(function(ei,Na){return Dt(_r[ei],_r[Na])}),pt&&on.forEach(function(ei,Na){ei.sort(function(Ja,Ti){return pt(et[Na][Ja],et[Na][Ti])})}),Fr=(Oe-lt*at)/Fr,Wr=0,sn=-1;++sn<at;){for(Qr=Wr,pn=-1;++pn<at;){var $r=qr[sn],Yn=on[$r][pn],Jn=et[$r][Yn],ia=Wr,ga=Wr+=Jn*Fr;Dr[$r+"-"+Yn]={index:$r,subindex:Yn,startAngle:ia,endAngle:ga,value:Jn}}Ve[$r]={index:$r,startAngle:Qr,endAngle:Wr,value:_r[$r]},Wr+=lt}for(sn=-1;++sn<at;)for(pn=sn-1;++pn<at;){var Ra=Dr[sn+"-"+pn],Pa=Dr[pn+"-"+sn];(Ra.value||Pa.value)&&Le.push(Ra.value<Pa.value?{source:Pa,target:Ra}:{source:Ra,target:Pa})}Vt&&ar()}function ar(){Le.sort(function(Dr,_r){return Vt((Dr.source.value+Dr.target.value)/2,(_r.source.value+_r.target.value)/2)})}return ue.matrix=function(Dr){return arguments.length?(at=(et=Dr)&&et.length,Le=Ve=null,ue):et},ue.padding=function(Dr){return arguments.length?(lt=Dr,Le=Ve=null,ue):lt},ue.sortGroups=function(Dr){return arguments.length?(Dt=Dr,Le=Ve=null,ue):Dt},ue.sortSubgroups=function(Dr){return arguments.length?(pt=Dr,Le=null,ue):pt},ue.sortChords=function(Dr){return arguments.length?(Vt=Dr,Le&&ar(),ue):Vt},ue.chords=function(){return Le||rr(),Le},ue.groups=function(){return Ve||rr(),Ve},ue},i.layout.force=function(){var ue={},Le=i.dispatch("start","tick","end"),Ve,et=[1,1],at,lt,Dt=.9,pt=ir,Vt=tt,rr=-30,ar=Ut,Dr=.1,_r=.64,qr=[],on=[],Fr,Wr,Qr;function sn($r){return function(Yn,Jn,ia,ga){if(Yn.point!==$r){var Ra=Yn.cx-$r.x,Pa=Yn.cy-$r.y,ei=ga-Jn,Na=Ra*Ra+Pa*Pa;if(ei*ei/_r<Na){if(Na<ar){var Ja=Yn.charge/Na;$r.px-=Ra*Ja,$r.py-=Pa*Ja}return!0}if(Yn.point&&Na&&Na<ar){var Ja=Yn.pointCharge/Na;$r.px-=Ra*Ja,$r.py-=Pa*Ja}}return!Yn.charge}}ue.tick=function(){if((lt*=.99)<.005)return Ve=null,Le.end({type:"end",alpha:lt=0}),!0;var $r=qr.length,Yn=on.length,Jn,ia,ga,Ra,Pa,ei,Na,Ja,Ti;for(ia=0;ia<Yn;++ia)ga=on[ia],Ra=ga.source,Pa=ga.target,Ja=Pa.x-Ra.x,Ti=Pa.y-Ra.y,(ei=Ja*Ja+Ti*Ti)&&(ei=lt*Wr[ia]*((ei=Math.sqrt(ei))-Fr[ia])/ei,Ja*=ei,Ti*=ei,Pa.x-=Ja*(Na=Ra.weight+Pa.weight?Ra.weight/(Ra.weight+Pa.weight):.5),Pa.y-=Ti*Na,Ra.x+=Ja*(Na=1-Na),Ra.y+=Ti*Na);if((Na=lt*Dr)&&(Ja=et[0]/2,Ti=et[1]/2,ia=-1,Na))for(;++ia<$r;)ga=qr[ia],ga.x+=(Ja-ga.x)*Na,ga.y+=(Ti-ga.y)*Na;if(rr)for(xl(Jn=i.geom.quadtree(qr),lt,Qr),ia=-1;++ia<$r;)(ga=qr[ia]).fixed||Jn.visit(sn(ga));for(ia=-1;++ia<$r;)ga=qr[ia],ga.fixed?(ga.x=ga.px,ga.y=ga.py):(ga.x-=(ga.px-(ga.px=ga.x))*Dt,ga.y-=(ga.py-(ga.py=ga.y))*Dt);Le.tick({type:"tick",alpha:lt})},ue.nodes=function($r){return arguments.length?(qr=$r,ue):qr},ue.links=function($r){return arguments.length?(on=$r,ue):on},ue.size=function($r){return arguments.length?(et=$r,ue):et},ue.linkDistance=function($r){return arguments.length?(pt=typeof $r=="function"?$r:+$r,ue):pt},ue.distance=ue.linkDistance,ue.linkStrength=function($r){return arguments.length?(Vt=typeof $r=="function"?$r:+$r,ue):Vt},ue.friction=function($r){return arguments.length?(Dt=+$r,ue):Dt},ue.charge=function($r){return arguments.length?(rr=typeof $r=="function"?$r:+$r,ue):rr},ue.chargeDistance=function($r){return arguments.length?(ar=$r*$r,ue):Math.sqrt(ar)},ue.gravity=function($r){return arguments.length?(Dr=+$r,ue):Dr},ue.theta=function($r){return arguments.length?(_r=$r*$r,ue):Math.sqrt(_r)},ue.alpha=function($r){return arguments.length?($r=+$r,lt?$r>0?lt=$r:(Ve.c=null,Ve.t=NaN,Ve=null,Le.end({type:"end",alpha:lt=0})):$r>0&&(Le.start({type:"start",alpha:lt=$r}),Ve=Pn(ue.tick)),ue):lt},ue.start=function(){var $r,Yn=qr.length,Jn=on.length,ia=et[0],ga=et[1],Ra,Pa;for($r=0;$r<Yn;++$r)(Pa=qr[$r]).index=$r,Pa.weight=0;for($r=0;$r<Jn;++$r)Pa=on[$r],typeof Pa.source=="number"&&(Pa.source=qr[Pa.source]),typeof Pa.target=="number"&&(Pa.target=qr[Pa.target]),++Pa.source.weight,++Pa.target.weight;for($r=0;$r<Yn;++$r)Pa=qr[$r],isNaN(Pa.x)&&(Pa.x=ei("x",ia)),isNaN(Pa.y)&&(Pa.y=ei("y",ga)),isNaN(Pa.px)&&(Pa.px=Pa.x),isNaN(Pa.py)&&(Pa.py=Pa.y);if(Fr=[],typeof pt=="function")for($r=0;$r<Jn;++$r)Fr[$r]=+pt.call(this,on[$r],$r);else for($r=0;$r<Jn;++$r)Fr[$r]=pt;if(Wr=[],typeof Vt=="function")for($r=0;$r<Jn;++$r)Wr[$r]=+Vt.call(this,on[$r],$r);else for($r=0;$r<Jn;++$r)Wr[$r]=Vt;if(Qr=[],typeof rr=="function")for($r=0;$r<Yn;++$r)Qr[$r]=+rr.call(this,qr[$r],$r);else for($r=0;$r<Yn;++$r)Qr[$r]=rr;function ei(Na,Ja){if(!Ra){for(Ra=new Array(Yn),Oi=0;Oi<Yn;++Oi)Ra[Oi]=[];for(Oi=0;Oi<Jn;++Oi){var Ti=on[Oi];Ra[Ti.source.index].push(Ti.target),Ra[Ti.target.index].push(Ti.source)}}for(var Ci=Ra[$r],Oi=-1,Xn=Ci.length,Qa;++Oi<Xn;)if(!isNaN(Qa=Ci[Oi][Na]))return Qa;return Math.random()*Ja}return ue.resume()},ue.resume=function(){return ue.alpha(.1)},ue.stop=function(){return ue.alpha(0)},ue.drag=function(){if(at||(at=i.behavior.drag().origin(N).on("dragstart.force",rl).on("drag.force",pn).on("dragend.force",ks)),!arguments.length)return at;this.on("mouseover.force",co).on("mouseout.force",df).call(at)};function pn($r){$r.px=i.event.x,$r.py=i.event.y,ue.resume()}return i.rebind(ue,Le,"on")};function rl(ue){ue.fixed|=2}function ks(ue){ue.fixed&=-7}function co(ue){ue.fixed|=4,ue.px=ue.x,ue.py=ue.y}function df(ue){ue.fixed&=-5}function xl(ue,Le,Ve){var et=0,at=0;if(ue.charge=0,!ue.leaf)for(var lt=ue.nodes,Dt=lt.length,pt=-1,Vt;++pt<Dt;)Vt=lt[pt],Vt!=null&&(xl(Vt,Le,Ve),ue.charge+=Vt.charge,et+=Vt.charge*Vt.cx,at+=Vt.charge*Vt.cy);if(ue.point){ue.leaf||(ue.point.x+=Math.random()-.5,ue.point.y+=Math.random()-.5);var rr=Le*Ve[ue.point.index];ue.charge+=ue.pointCharge=rr,et+=rr*ue.point.x,at+=rr*ue.point.y}ue.cx=et/ue.charge,ue.cy=at/ue.charge}var ir=20,tt=1,Ut=1/0;i.layout.hierarchy=function(){var ue=Sa,Le=Vn,Ve=aa;function et(at){var lt=[at],Dt=[],pt;for(at.depth=0;(pt=lt.pop())!=null;)if(Dt.push(pt),(rr=Le.call(et,pt,pt.depth))&&(Vt=rr.length)){for(var Vt,rr,ar;--Vt>=0;)lt.push(ar=rr[Vt]),ar.parent=pt,ar.depth=pt.depth+1;Ve&&(pt.value=0),pt.children=rr}else Ve&&(pt.value=+Ve.call(et,pt,pt.depth)||0),delete pt.children;return mn(at,function(Dr){var _r,qr;ue&&(_r=Dr.children)&&_r.sort(ue),Ve&&(qr=Dr.parent)&&(qr.value+=Dr.value)}),Dt}return et.sort=function(at){return arguments.length?(ue=at,et):ue},et.children=function(at){return arguments.length?(Le=at,et):Le},et.value=function(at){return arguments.length?(Ve=at,et):Ve},et.revalue=function(at){return Ve&&(Mn(at,function(lt){lt.children&&(lt.value=0)}),mn(at,function(lt){var Dt;lt.children||(lt.value=+Ve.call(et,lt,lt.depth)||0),(Dt=lt.parent)&&(Dt.value+=lt.value)})),at},et};function Lr(ue,Le){return i.rebind(ue,Le,"sort","children","value"),ue.nodes=ue,ue.links=Va,ue}function Mn(ue,Le){for(var Ve=[ue];(ue=Ve.pop())!=null;)if(Le(ue),(at=ue.children)&&(et=at.length))for(var et,at;--et>=0;)Ve.push(at[et])}function mn(ue,Le){for(var Ve=[ue],et=[];(ue=Ve.pop())!=null;)if(et.push(ue),(Dt=ue.children)&&(lt=Dt.length))for(var at=-1,lt,Dt;++at<lt;)Ve.push(Dt[at]);for(;(ue=et.pop())!=null;)Le(ue)}function Vn(ue){return ue.children}function aa(ue){return ue.value}function Sa(ue,Le){return Le.value-ue.value}function Va(ue){return i.merge(ue.map(function(Le){return(Le.children||[]).map(function(Ve){return{source:Le,target:Ve}})}))}i.layout.partition=function(){var ue=i.layout.hierarchy(),Le=[1,1];function Ve(lt,Dt,pt,Vt){var rr=lt.children;if(lt.x=Dt,lt.y=lt.depth*Vt,lt.dx=pt,lt.dy=Vt,rr&&(Dr=rr.length)){var ar=-1,Dr,_r,qr;for(pt=lt.value?pt/lt.value:0;++ar<Dr;)Ve(_r=rr[ar],Dt,qr=_r.value*pt,Vt),Dt+=qr}}function et(lt){var Dt=lt.children,pt=0;if(Dt&&(rr=Dt.length))for(var Vt=-1,rr;++Vt<rr;)pt=Math.max(pt,et(Dt[Vt]));return 1+pt}function at(lt,Dt){var pt=ue.call(this,lt,Dt);return Ve(pt[0],0,Le[0],Le[1]/et(pt[0])),pt}return at.size=function(lt){return arguments.length?(Le=lt,at):Le},Lr(at,ue)},i.layout.pie=function(){var ue=Number,Le=Ha,Ve=0,et=Oe,at=0;function lt(Dt){var pt=Dt.length,Vt=Dt.map(function(sn,pn){return+ue.call(lt,sn,pn)}),rr=+(typeof Ve=="function"?Ve.apply(this,arguments):Ve),ar=(typeof et=="function"?et.apply(this,arguments):et)-rr,Dr=Math.min(Math.abs(ar)/pt,+(typeof at=="function"?at.apply(this,arguments):at)),_r=Dr*(ar<0?-1:1),qr=i.sum(Vt),on=qr?(ar-pt*_r)/qr:0,Fr=i.range(pt),Wr=[],Qr;return Le!=null&&Fr.sort(Le===Ha?function(sn,pn){return Vt[pn]-Vt[sn]}:function(sn,pn){return Le(Dt[sn],Dt[pn])}),Fr.forEach(function(sn){Wr[sn]={data:Dt[sn],value:Qr=Vt[sn],startAngle:rr,endAngle:rr+=Qr*on+_r,padAngle:Dr}}),Wr}return lt.value=function(Dt){return arguments.length?(ue=Dt,lt):ue},lt.sort=function(Dt){return arguments.length?(Le=Dt,lt):Le},lt.startAngle=function(Dt){return arguments.length?(Ve=Dt,lt):Ve},lt.endAngle=function(Dt){return arguments.length?(et=Dt,lt):et},lt.padAngle=function(Dt){return arguments.length?(at=Dt,lt):at},lt};var Ha={};i.layout.stack=function(){var ue=N,Le=si,Ve=zi,et=ri,at=ka,lt=ci;function Dt(pt,Vt){if(!(on=pt.length))return pt;var rr=pt.map(function(sn,pn){return ue.call(Dt,sn,pn)}),ar=rr.map(function(sn){return sn.map(function(pn,$r){return[at.call(Dt,pn,$r),lt.call(Dt,pn,$r)]})}),Dr=Le.call(Dt,ar,Vt);rr=i.permute(rr,Dr),ar=i.permute(ar,Dr);var _r=Ve.call(Dt,ar,Vt),qr=rr[0].length,on,Fr,Wr,Qr;for(Wr=0;Wr<qr;++Wr)for(et.call(Dt,rr[0][Wr],Qr=_r[Wr],ar[0][Wr][1]),Fr=1;Fr<on;++Fr)et.call(Dt,rr[Fr][Wr],Qr+=ar[Fr-1][Wr][1],ar[Fr][Wr][1]);return pt}return Dt.values=function(pt){return arguments.length?(ue=pt,Dt):ue},Dt.order=function(pt){return arguments.length?(Le=typeof pt=="function"?pt:ai.get(pt)||si,Dt):Le},Dt.offset=function(pt){return arguments.length?(Ve=typeof pt=="function"?pt:ii.get(pt)||zi,Dt):Ve},Dt.x=function(pt){return arguments.length?(at=pt,Dt):at},Dt.y=function(pt){return arguments.length?(lt=pt,Dt):lt},Dt.out=function(pt){return arguments.length?(et=pt,Dt):et},Dt};function ka(ue){return ue.x}function ci(ue){return ue.y}function ri(ue,Le,Ve){ue.y0=Le,ue.y=Ve}var ai=i.map({"inside-out":function(ue){var Le=ue.length,Ve,et,at=ue.map($a),lt=ue.map(gi),Dt=i.range(Le).sort(function(Dr,_r){return at[Dr]-at[_r]}),pt=0,Vt=0,rr=[],ar=[];for(Ve=0;Ve<Le;++Ve)et=Dt[Ve],pt<Vt?(pt+=lt[et],rr.push(et)):(Vt+=lt[et],ar.push(et));return ar.reverse().concat(rr)},reverse:function(ue){return i.range(ue.length).reverse()},default:si}),ii=i.map({silhouette:function(ue){var Le=ue.length,Ve=ue[0].length,et=[],at=0,lt,Dt,pt,Vt=[];for(Dt=0;Dt<Ve;++Dt){for(lt=0,pt=0;lt<Le;lt++)pt+=ue[lt][Dt][1];pt>at&&(at=pt),et.push(pt)}for(Dt=0;Dt<Ve;++Dt)Vt[Dt]=(at-et[Dt])/2;return Vt},wiggle:function(ue){var Le=ue.length,Ve=ue[0],et=Ve.length,at,lt,Dt,pt,Vt,rr,ar,Dr,_r,qr=[];for(qr[0]=Dr=_r=0,lt=1;lt<et;++lt){for(at=0,pt=0;at<Le;++at)pt+=ue[at][lt][1];for(at=0,Vt=0,ar=Ve[lt][0]-Ve[lt-1][0];at<Le;++at){for(Dt=0,rr=(ue[at][lt][1]-ue[at][lt-1][1])/(2*ar);Dt<at;++Dt)rr+=(ue[Dt][lt][1]-ue[Dt][lt-1][1])/ar;Vt+=rr*ue[at][lt][1]}qr[lt]=Dr-=pt?Vt/pt*ar:0,Dr<_r&&(_r=Dr)}for(lt=0;lt<et;++lt)qr[lt]-=_r;return qr},expand:function(ue){var Le=ue.length,Ve=ue[0].length,et=1/Le,at,lt,Dt,pt=[];for(lt=0;lt<Ve;++lt){for(at=0,Dt=0;at<Le;at++)Dt+=ue[at][lt][1];if(Dt)for(at=0;at<Le;at++)ue[at][lt][1]/=Dt;else for(at=0;at<Le;at++)ue[at][lt][1]=et}for(lt=0;lt<Ve;++lt)pt[lt]=0;return pt},zero:zi});function si(ue){return i.range(ue.length)}function zi(ue){for(var Le=-1,Ve=ue[0].length,et=[];++Le<Ve;)et[Le]=0;return et}function $a(ue){for(var Le=1,Ve=0,et=ue[0][1],at,lt=ue.length;Le<lt;++Le)(at=ue[Le][1])>et&&(Ve=Le,et=at);return Ve}function gi(ue){return ue.reduce(vi,0)}function vi(ue,Le){return ue+Le[1]}i.layout.histogram=function(){var ue=!0,Le=Number,Ve=Fi,et=ui;function at(lt,_r){for(var pt=[],Vt=lt.map(Le,this),rr=Ve.call(this,Vt,_r),ar=et.call(this,rr,Vt,_r),Dr,_r=-1,qr=Vt.length,on=ar.length-1,Fr=ue?1:1/qr,Wr;++_r<on;)Dr=pt[_r]=[],Dr.dx=ar[_r+1]-(Dr.x=ar[_r]),Dr.y=0;if(on>0)for(_r=-1;++_r<qr;)Wr=Vt[_r],Wr>=rr[0]&&Wr<=rr[1]&&(Dr=pt[i.bisect(ar,Wr,1,on)-1],Dr.y+=Fr,Dr.push(lt[_r]));return pt}return at.value=function(lt){return arguments.length?(Le=lt,at):Le},at.range=function(lt){return arguments.length?(Ve=Kr(lt),at):Ve},at.bins=function(lt){return arguments.length?(et=typeof lt=="number"?function(Dt){return di(Dt,lt)}:Kr(lt),at):et},at.frequency=function(lt){return arguments.length?(ue=!!lt,at):ue},at};function ui(ue,Le){return di(ue,Math.ceil(Math.log(Le.length)/Math.LN2+1))}function di(ue,Le){for(var Ve=-1,et=+ue[0],at=(ue[1]-et)/Le,lt=[];++Ve<=Le;)lt[Ve]=at*Ve+et;return lt}function Fi(ue){return[i.min(ue),i.max(ue)]}i.layout.pack=function(){var ue=i.layout.hierarchy().sort(oi),Le=0,Ve=[1,1],et;function at(lt,Dt){var pt=ue.call(this,lt,Dt),Vt=pt[0],rr=Ve[0],ar=Ve[1],Dr=et==null?Math.sqrt:typeof et=="function"?et:function(){return et};if(Vt.x=Vt.y=0,mn(Vt,function(qr){qr.r=+Dr(qr.value)}),mn(Vt,Eo),Le){var _r=Le*(et?1:Math.max(2*Vt.r/rr,2*Vt.r/ar))/2;mn(Vt,function(qr){qr.r+=_r}),mn(Vt,Eo),mn(Vt,function(qr){qr.r-=_r})}return Lo(Vt,rr/2,ar/2,et?1:1/Math.max(2*Vt.r/rr,2*Vt.r/ar)),pt}return at.size=function(lt){return arguments.length?(Ve=lt,at):Ve},at.radius=function(lt){return arguments.length?(et=lt==null||typeof lt=="function"?lt:+lt,at):et},at.padding=function(lt){return arguments.length?(Le=+lt,at):Le},Lr(at,ue)};function oi(ue,Le){return ue.value-Le.value}function Si(ue,Le){var Ve=ue._pack_next;ue._pack_next=Le,Le._pack_prev=ue,Le._pack_next=Ve,Ve._pack_prev=Le}function wi(ue,Le){ue._pack_next=Le,Le._pack_prev=ue}function go(ue,Le){var Ve=Le.x-ue.x,et=Le.y-ue.y,at=ue.r+Le.r;return .999*at*at>Ve*Ve+et*et}function Eo(ue){if(!(Le=ue.children)||!(_r=Le.length))return;var Le,Ve=1/0,et=-1/0,at=1/0,lt=-1/0,Dt,pt,Vt,rr,ar,Dr,_r;function qr($r){Ve=Math.min($r.x-$r.r,Ve),et=Math.max($r.x+$r.r,et),at=Math.min($r.y-$r.r,at),lt=Math.max($r.y+$r.r,lt)}if(Le.forEach(ho),Dt=Le[0],Dt.x=-Dt.r,Dt.y=0,qr(Dt),_r>1&&(pt=Le[1],pt.x=pt.r,pt.y=0,qr(pt),_r>2))for(Vt=Le[2],_i(Dt,pt,Vt),qr(Vt),Si(Dt,Vt),Dt._pack_prev=Vt,Si(Vt,pt),pt=Dt._pack_next,rr=3;rr<_r;rr++){_i(Dt,pt,Vt=Le[rr]);var on=0,Fr=1,Wr=1;for(ar=pt._pack_next;ar!==pt;ar=ar._pack_next,Fr++)if(go(ar,Vt)){on=1;break}if(on==1)for(Dr=Dt._pack_prev;Dr!==ar._pack_prev&&!go(Dr,Vt);Dr=Dr._pack_prev,Wr++);on?(Fr<Wr||Fr==Wr&&pt.r<Dt.r?wi(Dt,pt=ar):wi(Dt=Dr,pt),rr--):(Si(Dt,Vt),pt=Vt,qr(Vt))}var Qr=(Ve+et)/2,sn=(at+lt)/2,pn=0;for(rr=0;rr<_r;rr++)Vt=Le[rr],Vt.x-=Qr,Vt.y-=sn,pn=Math.max(pn,Vt.r+Math.sqrt(Vt.x*Vt.x+Vt.y*Vt.y));ue.r=pn,Le.forEach(Co)}function ho(ue){ue._pack_next=ue._pack_prev=ue}function Co(ue){delete ue._pack_next,delete ue._pack_prev}function Lo(ue,Le,Ve,et){var at=ue.children;if(ue.x=Le+=et*ue.x,ue.y=Ve+=et*ue.y,ue.r*=et,at)for(var lt=-1,Dt=at.length;++lt<Dt;)Lo(at[lt],Le,Ve,et)}function _i(ue,Le,Ve){var et=ue.r+Ve.r,at=Le.x-ue.x,lt=Le.y-ue.y;if(et&&(at||lt)){var Dt=Le.r+Ve.r,pt=at*at+lt*lt;Dt*=Dt,et*=et;var Vt=.5+(et-Dt)/(2*pt),rr=Math.sqrt(Math.max(0,2*Dt*(et+pt)-(et-=pt)*et-Dt*Dt))/(2*pt);Ve.x=ue.x+Vt*at+rr*lt,Ve.y=ue.y+Vt*lt-rr*at}else Ve.x=ue.x+et,Ve.y=ue.y}i.layout.tree=function(){var ue=i.layout.hierarchy().sort(null).value(null),Le=Po,Ve=[1,1],et=null;function at(ar,Dr){var _r=ue.call(this,ar,Dr),qr=_r[0],on=lt(qr);if(mn(on,Dt),on.parent.m=-on.z,Mn(on,pt),et)Mn(qr,rr);else{var Fr=qr,Wr=qr,Qr=qr;Mn(qr,function(Yn){Yn.x<Fr.x&&(Fr=Yn),Yn.x>Wr.x&&(Wr=Yn),Yn.depth>Qr.depth&&(Qr=Yn)});var sn=Le(Fr,Wr)/2-Fr.x,pn=Ve[0]/(Wr.x+Le(Wr,Fr)/2+sn),$r=Ve[1]/(Qr.depth||1);Mn(qr,function(Yn){Yn.x=(Yn.x+sn)*pn,Yn.y=Yn.depth*$r})}return _r}function lt(ar){for(var Dr={A:null,children:[ar]},_r=[Dr],qr;(qr=_r.pop())!=null;)for(var on=qr.children,Fr,Wr=0,Qr=on.length;Wr<Qr;++Wr)_r.push((on[Wr]=Fr={_:on[Wr],parent:qr,children:(Fr=on[Wr].children)&&Fr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Wr}).a=Fr);return Dr.children[0]}function Dt(ar){var Dr=ar.children,_r=ar.parent.children,qr=ar.i?_r[ar.i-1]:null;if(Dr.length){Vi(ar);var on=(Dr[0].z+Dr[Dr.length-1].z)/2;qr?(ar.z=qr.z+Le(ar._,qr._),ar.m=ar.z-on):ar.z=on}else qr&&(ar.z=qr.z+Le(ar._,qr._));ar.parent.A=Vt(ar,qr,ar.parent.A||_r[0])}function pt(ar){ar._.x=ar.z+ar.parent.m,ar.m+=ar.parent.m}function Vt(ar,Dr,_r){if(Dr){for(var qr=ar,on=ar,Fr=Dr,Wr=qr.parent.children[0],Qr=qr.m,sn=on.m,pn=Fr.m,$r=Wr.m,Yn;Fr=Gs(Fr),qr=ls(qr),Fr&&qr;)Wr=ls(Wr),on=Gs(on),on.a=ar,Yn=Fr.z+pn-qr.z-Qr+Le(Fr._,qr._),Yn>0&&(yo($o(Fr,ar,_r),ar,Yn),Qr+=Yn,sn+=Yn),pn+=Fr.m,Qr+=qr.m,$r+=Wr.m,sn+=on.m;Fr&&!Gs(on)&&(on.t=Fr,on.m+=pn-sn),qr&&!ls(Wr)&&(Wr.t=qr,Wr.m+=Qr-$r,_r=ar)}return _r}function rr(ar){ar.x*=Ve[0],ar.y=ar.depth*Ve[1]}return at.separation=function(ar){return arguments.length?(Le=ar,at):Le},at.size=function(ar){return arguments.length?(et=(Ve=ar)==null?rr:null,at):et?null:Ve},at.nodeSize=function(ar){return arguments.length?(et=(Ve=ar)==null?null:rr,at):et?Ve:null},Lr(at,ue)};function Po(ue,Le){return ue.parent==Le.parent?1:2}function ls(ue){var Le=ue.children;return Le.length?Le[0]:ue.t}function Gs(ue){var Le=ue.children,Ve;return(Ve=Le.length)?Le[Ve-1]:ue.t}function yo(ue,Le,Ve){var et=Ve/(Le.i-ue.i);Le.c-=et,Le.s+=Ve,ue.c+=et,Le.z+=Ve,Le.m+=Ve}function Vi(ue){for(var Le=0,Ve=0,et=ue.children,at=et.length,lt;--at>=0;)lt=et[at],lt.z+=Le,lt.m+=Le,Le+=lt.s+(Ve+=lt.c)}function $o(ue,Le,Ve){return ue.a.parent===Le.parent?ue.a:Ve}i.layout.cluster=function(){var ue=i.layout.hierarchy().sort(null).value(null),Le=Po,Ve=[1,1],et=!1;function at(lt,Dt){var pt=ue.call(this,lt,Dt),Vt=pt[0],rr,ar=0;mn(Vt,function(Fr){var Wr=Fr.children;Wr&&Wr.length?(Fr.x=bl(Wr),Fr.y=As(Wr)):(Fr.x=rr?ar+=Le(Fr,rr):0,Fr.y=0,rr=Fr)});var Dr=Bl(Vt),_r=pf(Vt),qr=Dr.x-Le(Dr,_r)/2,on=_r.x+Le(_r,Dr)/2;return mn(Vt,et?function(Fr){Fr.x=(Fr.x-Vt.x)*Ve[0],Fr.y=(Vt.y-Fr.y)*Ve[1]}:function(Fr){Fr.x=(Fr.x-qr)/(on-qr)*Ve[0],Fr.y=(1-(Vt.y?Fr.y/Vt.y:1))*Ve[1]}),pt}return at.separation=function(lt){return arguments.length?(Le=lt,at):Le},at.size=function(lt){return arguments.length?(et=(Ve=lt)==null,at):et?null:Ve},at.nodeSize=function(lt){return arguments.length?(et=(Ve=lt)!=null,at):et?Ve:null},Lr(at,ue)};function As(ue){return 1+i.max(ue,function(Le){return Le.y})}function bl(ue){return ue.reduce(function(Le,Ve){return Le+Ve.x},0)/ue.length}function Bl(ue){var Le=ue.children;return Le&&Le.length?Bl(Le[0]):ue}function pf(ue){var Le=ue.children,Ve;return Le&&(Ve=Le.length)?pf(Le[Ve-1]):ue}i.layout.treemap=function(){var ue=i.layout.hierarchy(),Le=Math.round,Ve=[1,1],et=null,at=Ul,lt=!1,Dt,pt="squarify",Vt=.5*(1+Math.sqrt(5));function rr(Fr,Wr){for(var Qr=-1,sn=Fr.length,pn,$r;++Qr<sn;)$r=(pn=Fr[Qr]).value*(Wr<0?0:Wr),pn.area=isNaN($r)||$r<=0?0:$r}function ar(Fr){var Wr=Fr.children;if(Wr&&Wr.length){var Qr=at(Fr),sn=[],pn=Wr.slice(),$r,Yn=1/0,Jn,ia=pt==="slice"?Qr.dx:pt==="dice"?Qr.dy:pt==="slice-dice"?Fr.depth&1?Qr.dy:Qr.dx:Math.min(Qr.dx,Qr.dy),ga;for(rr(pn,Qr.dx*Qr.dy/Fr.value),sn.area=0;(ga=pn.length)>0;)sn.push($r=pn[ga-1]),sn.area+=$r.area,pt!=="squarify"||(Jn=_r(sn,ia))<=Yn?(pn.pop(),Yn=Jn):(sn.area-=sn.pop().area,qr(sn,ia,Qr,!1),ia=Math.min(Qr.dx,Qr.dy),sn.length=sn.area=0,Yn=1/0);sn.length&&(qr(sn,ia,Qr,!0),sn.length=sn.area=0),Wr.forEach(ar)}}function Dr(Fr){var Wr=Fr.children;if(Wr&&Wr.length){var Qr=at(Fr),sn=Wr.slice(),pn,$r=[];for(rr(sn,Qr.dx*Qr.dy/Fr.value),$r.area=0;pn=sn.pop();)$r.push(pn),$r.area+=pn.area,pn.z!=null&&(qr($r,pn.z?Qr.dx:Qr.dy,Qr,!sn.length),$r.length=$r.area=0);Wr.forEach(Dr)}}function _r(Fr,Wr){for(var Qr=Fr.area,sn,pn=0,$r=1/0,Yn=-1,Jn=Fr.length;++Yn<Jn;)(sn=Fr[Yn].area)&&(sn<$r&&($r=sn),sn>pn&&(pn=sn));return Qr*=Qr,Wr*=Wr,Qr?Math.max(Wr*pn*Vt/Qr,Qr/(Wr*$r*Vt)):1/0}function qr(Fr,Wr,Qr,sn){var pn=-1,$r=Fr.length,Yn=Qr.x,Jn=Qr.y,ia=Wr?Le(Fr.area/Wr):0,ga;if(Wr==Qr.dx){for((sn||ia>Qr.dy)&&(ia=Qr.dy);++pn<$r;)ga=Fr[pn],ga.x=Yn,ga.y=Jn,ga.dy=ia,Yn+=ga.dx=Math.min(Qr.x+Qr.dx-Yn,ia?Le(ga.area/ia):0);ga.z=!0,ga.dx+=Qr.x+Qr.dx-Yn,Qr.y+=ia,Qr.dy-=ia}else{for((sn||ia>Qr.dx)&&(ia=Qr.dx);++pn<$r;)ga=Fr[pn],ga.x=Yn,ga.y=Jn,ga.dx=ia,Jn+=ga.dy=Math.min(Qr.y+Qr.dy-Jn,ia?Le(ga.area/ia):0);ga.z=!1,ga.dy+=Qr.y+Qr.dy-Jn,Qr.x+=ia,Qr.dx-=ia}}function on(Fr){var Wr=Dt||ue(Fr),Qr=Wr[0];return Qr.x=Qr.y=0,Qr.value?(Qr.dx=Ve[0],Qr.dy=Ve[1]):Qr.dx=Qr.dy=0,Dt&&ue.revalue(Qr),rr([Qr],Qr.dx*Qr.dy/Qr.value),(Dt?Dr:ar)(Qr),lt&&(Dt=Wr),Wr}return on.size=function(Fr){return arguments.length?(Ve=Fr,on):Ve},on.padding=function(Fr){if(!arguments.length)return et;function Wr(pn){var $r=Fr.call(on,pn,pn.depth);return $r==null?Ul(pn):Ao(pn,typeof $r=="number"?[$r,$r,$r,$r]:$r)}function Qr(pn){return Ao(pn,Fr)}var sn;return at=(et=Fr)==null?Ul:(sn=typeof Fr)=="function"?Wr:(sn==="number"&&(Fr=[Fr,Fr,Fr,Fr]),Qr),on},on.round=function(Fr){return arguments.length?(Le=Fr?Math.round:Number,on):Le!=Number},on.sticky=function(Fr){return arguments.length?(lt=Fr,Dt=null,on):lt},on.ratio=function(Fr){return arguments.length?(Vt=Fr,on):Vt},on.mode=function(Fr){return arguments.length?(pt=Fr+"",on):pt},Lr(on,ue)};function Ul(ue){return{x:ue.x,y:ue.y,dx:ue.dx,dy:ue.dy}}function Ao(ue,Le){var Ve=ue.x+Le[3],et=ue.y+Le[0],at=ue.dx-Le[1]-Le[3],lt=ue.dy-Le[0]-Le[2];return at<0&&(Ve+=at/2,at=0),lt<0&&(et+=lt/2,lt=0),{x:Ve,y:et,dx:at,dy:lt}}i.random={normal:function(ue,Le){var Ve=arguments.length;return Ve<2&&(Le=1),Ve<1&&(ue=0),function(){var et,at,lt;do et=Math.random()*2-1,at=Math.random()*2-1,lt=et*et+at*at;while(!lt||lt>1);return ue+Le*et*Math.sqrt(-2*Math.log(lt)/lt)}},logNormal:function(){var ue=i.random.normal.apply(i,arguments);return function(){return Math.exp(ue())}},bates:function(ue){var Le=i.random.irwinHall(ue);return function(){return Le()/ue}},irwinHall:function(ue){return function(){for(var Le=0,Ve=0;Ve<ue;Ve++)Le+=Math.random();return Le}}},i.scale={};function us(ue){var Le=ue[0],Ve=ue[ue.length-1];return Le<Ve?[Le,Ve]:[Ve,Le]}function mu(ue){return ue.rangeExtent?ue.rangeExtent():us(ue.range())}function nl(ue,Le,Ve,et){var at=Ve(ue[0],ue[1]),lt=et(Le[0],Le[1]);return function(Dt){return lt(at(Dt))}}function xu(ue,Le){var Ve=0,et=ue.length-1,at=ue[Ve],lt=ue[et],Dt;return lt<at&&(Dt=Ve,Ve=et,et=Dt,Dt=at,at=lt,lt=Dt),ue[Ve]=Le.floor(at),ue[et]=Le.ceil(lt),ue}function bu(ue){return ue?{floor:function(Le){return Math.floor(Le/ue)*ue},ceil:function(Le){return Math.ceil(Le/ue)*ue}}:bc}var bc={floor:N,ceil:N};function gf(ue,Le,Ve,et){var at=[],lt=[],Dt=0,pt=Math.min(ue.length,Le.length)-1;for(ue[pt]<ue[0]&&(ue=ue.slice().reverse(),Le=Le.slice().reverse());++Dt<=pt;)at.push(Ve(ue[Dt-1],ue[Dt])),lt.push(et(Le[Dt-1],Le[Dt]));return function(Vt){var rr=i.bisect(ue,Vt,1,pt)-1;return lt[rr](at[rr](Vt))}}i.scale.linear=function(){return yf([0,1],[0,1],qs,!1)};function yf(ue,Le,Ve,et){var at,lt;function Dt(){var Vt=Math.min(ue.length,Le.length)>2?gf:nl,rr=et?Nl:Ol;return at=Vt(ue,Le,rr,Ve),lt=Vt(Le,ue,rr,qs),pt}function pt(Vt){return at(Vt)}return pt.invert=function(Vt){return lt(Vt)},pt.domain=function(Vt){return arguments.length?(ue=Vt.map(Number),Dt()):ue},pt.range=function(Vt){return arguments.length?(Le=Vt,Dt()):Le},pt.rangeRound=function(Vt){return pt.range(Vt).interpolate(Gu)},pt.clamp=function(Vt){return arguments.length?(et=Vt,Dt()):et},pt.interpolate=function(Vt){return arguments.length?(Ve=Vt,Dt()):Ve},pt.ticks=function(Vt){return gs(ue,Vt)},pt.tickFormat=function(Vt,rr){return d3_scale_linearTickFormat(ue,Vt,rr)},pt.nice=function(Vt){return wl(ue,Vt),Dt()},pt.copy=function(){return yf(ue,Le,Ve,et)},Dt()}function mf(ue,Le){return i.rebind(ue,Le,"range","rangeRound","interpolate","clamp")}function wl(ue,Le){return xu(ue,bu(Gi(ue,Le)[2])),xu(ue,bu(Gi(ue,Le)[2])),ue}function Gi(ue,Le){Le==null&&(Le=10);var Ve=us(ue),et=Ve[1]-Ve[0],at=Math.pow(10,Math.floor(Math.log(et/Le)/Math.LN10)),lt=Le/et*at;return lt<=.15?at*=10:lt<=.35?at*=5:lt<=.75&&(at*=2),Ve[0]=Math.ceil(Ve[0]/at)*at,Ve[1]=Math.floor(Ve[1]/at)*at+at*.5,Ve[2]=at,Ve}function gs(ue,Le){return i.range.apply(i,Gi(ue,Le))}i.scale.log=function(){return Yu(i.scale.linear().domain([0,1]),10,!0,[1,10])};function Yu(ue,Le,Ve,et){function at(pt){return(Ve?Math.log(pt<0?0:pt):-Math.log(pt>0?0:-pt))/Math.log(Le)}function lt(pt){return Ve?Math.pow(Le,pt):-Math.pow(Le,-pt)}function Dt(pt){return ue(at(pt))}return Dt.invert=function(pt){return lt(ue.invert(pt))},Dt.domain=function(pt){return arguments.length?(Ve=pt[0]>=0,ue.domain((et=pt.map(Number)).map(at)),Dt):et},Dt.base=function(pt){return arguments.length?(Le=+pt,ue.domain(et.map(at)),Dt):Le},Dt.nice=function(){var pt=xu(et.map(at),Ve?Math:xf);return ue.domain(pt),et=pt.map(lt),Dt},Dt.ticks=function(){var pt=us(et),Vt=[],rr=pt[0],ar=pt[1],Dr=Math.floor(at(rr)),_r=Math.ceil(at(ar)),qr=Le%1?2:Le;if(isFinite(_r-Dr)){if(Ve){for(;Dr<_r;Dr++)for(var on=1;on<qr;on++)Vt.push(lt(Dr)*on);Vt.push(lt(Dr))}else for(Vt.push(lt(Dr));Dr++<_r;)for(var on=qr-1;on>0;on--)Vt.push(lt(Dr)*on);for(Dr=0;Vt[Dr]<rr;Dr++);for(_r=Vt.length;Vt[_r-1]>ar;_r--);Vt=Vt.slice(Dr,_r)}return Vt},Dt.copy=function(){return Yu(ue.copy(),Le,Ve,et)},mf(Dt,ue)}var xf={floor:function(ue){return-Math.ceil(-ue)},ceil:function(ue){return-Math.floor(-ue)}};i.scale.pow=function(){return al(i.scale.linear(),1,[0,1])};function al(ue,Le,Ve){var et=wu(Le),at=wu(1/Le);function lt(Dt){return ue(et(Dt))}return lt.invert=function(Dt){return at(ue.invert(Dt))},lt.domain=function(Dt){return arguments.length?(ue.domain((Ve=Dt.map(Number)).map(et)),lt):Ve},lt.ticks=function(Dt){return gs(Ve,Dt)},lt.tickFormat=function(Dt,pt){return d3_scale_linearTickFormat(Ve,Dt,pt)},lt.nice=function(Dt){return lt.domain(wl(Ve,Dt))},lt.exponent=function(Dt){return arguments.length?(et=wu(Le=Dt),at=wu(1/Le),ue.domain(Ve.map(et)),lt):Le},lt.copy=function(){return al(ue.copy(),Le,Ve)},mf(lt,ue)}function wu(ue){return function(Le){return Le<0?-Math.pow(-Le,ue):Math.pow(Le,ue)}}i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return Ms([],{t:"range",a:[[]]})};function Ms(ue,Le){var Ve,et,at;function lt(pt){return et[((Ve.get(pt)||(Le.t==="range"?Ve.set(pt,ue.push(pt)):NaN))-1)%et.length]}function Dt(pt,Vt){return i.range(ue.length).map(function(rr){return pt+Vt*rr})}return lt.domain=function(pt){if(!arguments.length)return ue;ue=[],Ve=new C;for(var Vt=-1,rr=pt.length,ar;++Vt<rr;)Ve.has(ar=pt[Vt])||Ve.set(ar,ue.push(ar));return lt[Le.t].apply(lt,Le.a)},lt.range=function(pt){return arguments.length?(et=pt,at=0,Le={t:"range",a:arguments},lt):et},lt.rangePoints=function(pt,Vt){arguments.length<2&&(Vt=0);var rr=pt[0],ar=pt[1],Dr=ue.length<2?(rr=(rr+ar)/2,0):(ar-rr)/(ue.length-1+Vt);return et=Dt(rr+Dr*Vt/2,Dr),at=0,Le={t:"rangePoints",a:arguments},lt},lt.rangeRoundPoints=function(pt,Vt){arguments.length<2&&(Vt=0);var rr=pt[0],ar=pt[1],Dr=ue.length<2?(rr=ar=Math.round((rr+ar)/2),0):(ar-rr)/(ue.length-1+Vt)|0;return et=Dt(rr+Math.round(Dr*Vt/2+(ar-rr-(ue.length-1+Vt)*Dr)/2),Dr),at=0,Le={t:"rangeRoundPoints",a:arguments},lt},lt.rangeBands=function(pt,Vt,rr){arguments.length<2&&(Vt=0),arguments.length<3&&(rr=Vt);var ar=pt[1]<pt[0],Dr=pt[ar-0],_r=pt[1-ar],qr=(_r-Dr)/(ue.length-Vt+2*rr);return et=Dt(Dr+qr*rr,qr),ar&&et.reverse(),at=qr*(1-Vt),Le={t:"rangeBands",a:arguments},lt},lt.rangeRoundBands=function(pt,Vt,rr){arguments.length<2&&(Vt=0),arguments.length<3&&(rr=Vt);var ar=pt[1]<pt[0],Dr=pt[ar-0],_r=pt[1-ar],qr=Math.floor((_r-Dr)/(ue.length-Vt+2*rr));return et=Dt(Dr+Math.round((_r-Dr-(ue.length-Vt)*qr)/2),qr),ar&&et.reverse(),at=Math.round(qr*(1-Vt)),Le={t:"rangeRoundBands",a:arguments},lt},lt.rangeBand=function(){return at},lt.rangeExtent=function(){return us(Le.a[0])},lt.copy=function(){return Ms(ue,Le)},lt.domain(ue)}i.scale.category10=function(){return i.scale.ordinal().range(Tu)},i.scale.category20=function(){return i.scale.ordinal().range(Ws)},i.scale.category20b=function(){return i.scale.ordinal().range(il)},i.scale.category20c=function(){return i.scale.ordinal().range(bf)};var Tu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Bt),Ws=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Bt),il=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Bt),bf=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Bt);i.scale.quantile=function(){return Tl([],[])};function Tl(ue,Le){var Ve;function et(){var lt=0,Dt=Le.length;for(Ve=[];++lt<Dt;)Ve[lt-1]=i.quantile(ue,lt/Dt);return at}function at(lt){if(!isNaN(lt=+lt))return Le[i.bisect(Ve,lt)]}return at.domain=function(lt){return arguments.length?(ue=lt.map(y).filter(h).sort(u),et()):ue},at.range=function(lt){return arguments.length?(Le=lt,et()):Le},at.quantiles=function(){return Ve},at.invertExtent=function(lt){return lt=Le.indexOf(lt),lt<0?[NaN,NaN]:[lt>0?Ve[lt-1]:ue[0],lt<Ve.length?Ve[lt]:ue[ue.length-1]]},at.copy=function(){return Tl(ue,Le)},et()}i.scale.quantize=function(){return Ei(0,1,[0,1])};function Ei(ue,Le,Ve){var et,at;function lt(pt){return Ve[Math.max(0,Math.min(at,Math.floor(et*(pt-ue))))]}function Dt(){return et=Ve.length/(Le-ue),at=Ve.length-1,lt}return lt.domain=function(pt){return arguments.length?(ue=+pt[0],Le=+pt[pt.length-1],Dt()):[ue,Le]},lt.range=function(pt){return arguments.length?(Ve=pt,Dt()):Ve},lt.invertExtent=function(pt){return pt=Ve.indexOf(pt),pt=pt<0?NaN:pt/et+ue,[pt,pt+1/et]},lt.copy=function(){return Ei(ue,Le,Ve)},Dt()}i.scale.threshold=function(){return Au([.5],[0,1])};function Au(ue,Le){function Ve(et){if(et<=et)return Le[i.bisect(ue,et)]}return Ve.domain=function(et){return arguments.length?(ue=et,Ve):ue},Ve.range=function(et){return arguments.length?(Le=et,Ve):Le},Ve.invertExtent=function(et){return et=Le.indexOf(et),[ue[et-1],ue[et]]},Ve.copy=function(){return Au(ue,Le)},Ve}i.scale.identity=function(){return Yf([0,1])};function Yf(ue){function Le(Ve){return+Ve}return Le.invert=Le,Le.domain=Le.range=function(Ve){return arguments.length?(ue=Ve.map(Le),Le):ue},Le.ticks=function(Ve){return gs(ue,Ve)},Le.tickFormat=function(Ve,et){return d3_scale_linearTickFormat(ue,Ve,et)},Le.copy=function(){return Yf(ue)},Le}i.svg={};function Zf(){return 0}i.svg.arc=function(){var ue=Hh,Le=wc,Ve=Zf,et=ru,at=Zu,lt=Tc,Dt=$c;function pt(){var rr=Math.max(0,+ue.apply(this,arguments)),ar=Math.max(0,+Le.apply(this,arguments)),Dr=at.apply(this,arguments)-ut,_r=lt.apply(this,arguments)-ut,qr=Math.abs(_r-Dr),on=Dr>_r?0:1;if(ar<rr&&(Fr=ar,ar=rr,rr=Fr),qr>=st)return Vt(ar,on)+(rr?Vt(rr,1-on):"")+"Z";var Fr,Wr,Qr,sn,pn=0,$r=0,Yn,Jn,ia,ga,Ra,Pa,ei,Na,Ja=[];if((sn=(+Dt.apply(this,arguments)||0)/2)&&(Qr=et===ru?Math.sqrt(rr*rr+ar*ar):+et.apply(this,arguments),on||($r*=-1),ar&&($r=jt(Qr/ar*Math.sin(sn))),rr&&(pn=jt(Qr/rr*Math.sin(sn)))),ar){Yn=ar*Math.cos(Dr+$r),Jn=ar*Math.sin(Dr+$r),ia=ar*Math.cos(_r-$r),ga=ar*Math.sin(_r-$r);var Ti=Math.abs(_r-Dr-2*$r)<=Re?0:1;if($r&&Hl(Yn,Jn,ia,ga)===on^Ti){var Ci=(Dr+_r)/2;Yn=ar*Math.cos(Ci),Jn=ar*Math.sin(Ci),ia=ga=null}}else Yn=Jn=0;if(rr){Ra=rr*Math.cos(_r-pn),Pa=rr*Math.sin(_r-pn),ei=rr*Math.cos(Dr+pn),Na=rr*Math.sin(Dr+pn);var Oi=Math.abs(Dr-_r+2*pn)<=Re?0:1;if(pn&&Hl(Ra,Pa,ei,Na)===1-on^Oi){var Xn=(Dr+_r)/2;Ra=rr*Math.cos(Xn),Pa=rr*Math.sin(Xn),ei=Na=null}}else Ra=Pa=0;if(qr>fe&&(Fr=Math.min(Math.abs(ar-rr)/2,+Ve.apply(this,arguments)))>.001){Wr=rr<ar^on?0:1;var Qa=Fr,Xa=Fr;if(qr<Re){var pi=ei==null?[Ra,Pa]:ia==null?[Yn,Jn]:wn([Yn,Jn],[ei,Na],[ia,ga],[Ra,Pa]),ro=Yn-pi[0],Mo=Jn-pi[1],ko=ia-pi[0],Ki=ga-pi[1],Bi=1/Math.sin(Math.acos((ro*ko+Mo*Ki)/(Math.sqrt(ro*ro+Mo*Mo)*Math.sqrt(ko*ko+Ki*Ki)))/2),Ca=Math.sqrt(pi[0]*pi[0]+pi[1]*pi[1]);Xa=Math.min(Fr,(rr-Ca)/(Bi-1)),Qa=Math.min(Fr,(ar-Ca)/(Bi+1))}if(ia!=null){var za=nu(ei==null?[Ra,Pa]:[ei,Na],[Yn,Jn],ar,Qa,on),Ji=nu([ia,ga],[Ra,Pa],ar,Qa,on);Fr===Qa?Ja.push("M",za[0],"A",Qa,",",Qa," 0 0,",Wr," ",za[1],"A",ar,",",ar," 0 ",1-on^Hl(za[1][0],za[1][1],Ji[1][0],Ji[1][1]),",",on," ",Ji[1],"A",Qa,",",Qa," 0 0,",Wr," ",Ji[0]):Ja.push("M",za[0],"A",Qa,",",Qa," 0 1,",Wr," ",Ji[0])}else Ja.push("M",Yn,",",Jn);if(ei!=null){var Ro=nu([Yn,Jn],[ei,Na],rr,-Xa,on),Fs=nu([Ra,Pa],ia==null?[Yn,Jn]:[ia,ga],rr,-Xa,on);Fr===Xa?Ja.push("L",Fs[0],"A",Xa,",",Xa," 0 0,",Wr," ",Fs[1],"A",rr,",",rr," 0 ",on^Hl(Fs[1][0],Fs[1][1],Ro[1][0],Ro[1][1]),",",1-on," ",Ro[1],"A",Xa,",",Xa," 0 0,",Wr," ",Ro[0]):Ja.push("L",Fs[0],"A",Xa,",",Xa," 0 0,",Wr," ",Ro[0])}else Ja.push("L",Ra,",",Pa)}else Ja.push("M",Yn,",",Jn),ia!=null&&Ja.push("A",ar,",",ar," 0 ",Ti,",",on," ",ia,",",ga),Ja.push("L",Ra,",",Pa),ei!=null&&Ja.push("A",rr,",",rr," 0 ",Oi,",",1-on," ",ei,",",Na);return Ja.push("Z"),Ja.join("")}function Vt(rr,ar){return"M0,"+rr+"A"+rr+","+rr+" 0 1,"+ar+" 0,"+-rr+"A"+rr+","+rr+" 0 1,"+ar+" 0,"+rr}return pt.innerRadius=function(rr){return arguments.length?(ue=Kr(rr),pt):ue},pt.outerRadius=function(rr){return arguments.length?(Le=Kr(rr),pt):Le},pt.cornerRadius=function(rr){return arguments.length?(Ve=Kr(rr),pt):Ve},pt.padRadius=function(rr){return arguments.length?(et=rr==ru?ru:Kr(rr),pt):et},pt.startAngle=function(rr){return arguments.length?(at=Kr(rr),pt):at},pt.endAngle=function(rr){return arguments.length?(lt=Kr(rr),pt):lt},pt.padAngle=function(rr){return arguments.length?(Dt=Kr(rr),pt):Dt},pt.centroid=function(){var rr=(+ue.apply(this,arguments)+ +Le.apply(this,arguments))/2,ar=(+at.apply(this,arguments)+ +lt.apply(this,arguments))/2-ut;return[Math.cos(ar)*rr,Math.sin(ar)*rr]},pt};var ru="auto";function Hh(ue){return ue.innerRadius}function wc(ue){return ue.outerRadius}function Zu(ue){return ue.startAngle}function Tc(ue){return ue.endAngle}function $c(ue){return ue&&ue.padAngle}function Hl(ue,Le,Ve,et){return(ue-Ve)*Le-(Le-et)*ue>0?0:1}function nu(ue,Le,Ve,et,at){var lt=ue[0]-Le[0],Dt=ue[1]-Le[1],pt=(at?et:-et)/Math.sqrt(lt*lt+Dt*Dt),Vt=pt*Dt,rr=-pt*lt,ar=ue[0]+Vt,Dr=ue[1]+rr,_r=Le[0]+Vt,qr=Le[1]+rr,on=(ar+_r)/2,Fr=(Dr+qr)/2,Wr=_r-ar,Qr=qr-Dr,sn=Wr*Wr+Qr*Qr,pn=Ve-et,$r=ar*qr-_r*Dr,Yn=(Qr<0?-1:1)*Math.sqrt(Math.max(0,pn*pn*sn-$r*$r)),Jn=($r*Qr-Wr*Yn)/sn,ia=(-$r*Wr-Qr*Yn)/sn,ga=($r*Qr+Wr*Yn)/sn,Ra=(-$r*Wr+Qr*Yn)/sn,Pa=Jn-on,ei=ia-Fr,Na=ga-on,Ja=Ra-Fr;return Pa*Pa+ei*ei>Na*Na+Ja*Ja&&(Jn=ga,ia=Ra),[[Jn-Vt,ia-rr],[Jn*Ve/pn,ia*Ve/pn]]}function Mu(){return!0}function Su(ue){var Le=ya,Ve=ca,et=Mu,at=Is,lt=at.key,Dt=.7;function pt(Vt){var rr=[],ar=[],Dr=-1,_r=Vt.length,qr,on=Kr(Le),Fr=Kr(Ve);function Wr(){rr.push("M",at(ue(ar),Dt))}for(;++Dr<_r;)et.call(this,qr=Vt[Dr],Dr)?ar.push([+on.call(this,qr,Dr),+Fr.call(this,qr,Dr)]):ar.length&&(Wr(),ar=[]);return ar.length&&Wr(),rr.length?rr.join(""):null}return pt.x=function(Vt){return arguments.length?(Le=Vt,pt):Le},pt.y=function(Vt){return arguments.length?(Ve=Vt,pt):Ve},pt.defined=function(Vt){return arguments.length?(et=Vt,pt):et},pt.interpolate=function(Vt){return arguments.length?(typeof Vt=="function"?lt=at=Vt:lt=(at=Ss.get(Vt)||Is).key,pt):lt},pt.tension=function(Vt){return arguments.length?(Dt=Vt,pt):Dt},pt}i.svg.line=function(){return Su(N)};var Ss=i.map({linear:Is,"linear-closed":Eu,step:qc,"step-before":Xu,"step-after":Xf,basis:Vl,"basis-open":Vh,"basis-closed":Mc,bundle:Kf,cardinal:Ac,"cardinal-open":eh,"cardinal-closed":ol,monotone:Sc});Ss.forEach(function(ue,Le){Le.key=ue,Le.closed=/-closed$/.test(ue)});function Is(ue){return ue.length>1?ue.join("L"):ue+"Z"}function Eu(ue){return ue.join("L")+"Z"}function qc(ue){for(var Le=0,Ve=ue.length,et=ue[0],at=[et[0],",",et[1]];++Le<Ve;)at.push("H",(et[0]+(et=ue[Le])[0])/2,"V",et[1]);return Ve>1&&at.push("H",et[0]),at.join("")}function Xu(ue){for(var Le=0,Ve=ue.length,et=ue[0],at=[et[0],",",et[1]];++Le<Ve;)at.push("V",(et=ue[Le])[1],"H",et[0]);return at.join("")}function Xf(ue){for(var Le=0,Ve=ue.length,et=ue[0],at=[et[0],",",et[1]];++Le<Ve;)at.push("H",(et=ue[Le])[0],"V",et[1]);return at.join("")}function eh(ue,Le){return ue.length<4?Is(ue):ue[1]+au(ue.slice(1,-1),wf(ue,Le))}function ol(ue,Le){return ue.length<3?Eu(ue):ue[0]+au((ue.push(ue[0]),ue),wf([ue[ue.length-2]].concat(ue,[ue[1]]),Le))}function Ac(ue,Le){return ue.length<3?Is(ue):ue[0]+au(ue,wf(ue,Le))}function au(ue,Le){if(Le.length<1||ue.length!=Le.length&&ue.length!=Le.length+2)return Is(ue);var Ve=ue.length!=Le.length,et="",at=ue[0],lt=ue[1],Dt=Le[0],pt=Dt,Vt=1;if(Ve&&(et+="Q"+(lt[0]-Dt[0]*2/3)+","+(lt[1]-Dt[1]*2/3)+","+lt[0]+","+lt[1],at=ue[1],Vt=2),Le.length>1){pt=Le[1],lt=ue[Vt],Vt++,et+="C"+(at[0]+Dt[0])+","+(at[1]+Dt[1])+","+(lt[0]-pt[0])+","+(lt[1]-pt[1])+","+lt[0]+","+lt[1];for(var rr=2;rr<Le.length;rr++,Vt++)lt=ue[Vt],pt=Le[rr],et+="S"+(lt[0]-pt[0])+","+(lt[1]-pt[1])+","+lt[0]+","+lt[1]}if(Ve){var ar=ue[Vt];et+="Q"+(lt[0]+pt[0]*2/3)+","+(lt[1]+pt[1]*2/3)+","+ar[0]+","+ar[1]}return et}function wf(ue,Le){for(var Ve=[],et=(1-Le)/2,at,lt=ue[0],Dt=ue[1],pt=1,Vt=ue.length;++pt<Vt;)at=lt,lt=Dt,Dt=ue[pt],Ve.push([et*(Dt[0]-at[0]),et*(Dt[1]-at[1])]);return Ve}function Vl(ue){if(ue.length<3)return Is(ue);var Le=1,Ve=ue.length,et=ue[0],at=et[0],lt=et[1],Dt=[at,at,at,(et=ue[1])[0]],pt=[lt,lt,lt,et[1]],Vt=[at,",",lt,"L",fs(Al,Dt),",",fs(Al,pt)];for(ue.push(ue[Ve-1]);++Le<=Ve;)et=ue[Le],Dt.shift(),Dt.push(et[0]),pt.shift(),pt.push(et[1]),Af(Vt,Dt,pt);return ue.pop(),Vt.push("L",et),Vt.join("")}function Vh(ue){if(ue.length<4)return Is(ue);for(var Le=[],Ve=-1,et=ue.length,at,lt=[0],Dt=[0];++Ve<3;)at=ue[Ve],lt.push(at[0]),Dt.push(at[1]);for(Le.push(fs(Al,lt)+","+fs(Al,Dt)),--Ve;++Ve<et;)at=ue[Ve],lt.shift(),lt.push(at[0]),Dt.shift(),Dt.push(at[1]),Af(Le,lt,Dt);return Le.join("")}function Mc(ue){for(var Le,Ve=-1,et=ue.length,at=et+4,lt,Dt=[],pt=[];++Ve<4;)lt=ue[Ve%et],Dt.push(lt[0]),pt.push(lt[1]);for(Le=[fs(Al,Dt),",",fs(Al,pt)],--Ve;++Ve<at;)lt=ue[Ve%et],Dt.shift(),Dt.push(lt[0]),pt.shift(),pt.push(lt[1]),Af(Le,Dt,pt);return Le.join("")}function Kf(ue,Le){var Ve=ue.length-1;if(Ve)for(var et=ue[0][0],at=ue[0][1],lt=ue[Ve][0]-et,Dt=ue[Ve][1]-at,pt=-1,Vt,rr;++pt<=Ve;)Vt=ue[pt],rr=pt/Ve,Vt[0]=Le*Vt[0]+(1-Le)*(et+rr*lt),Vt[1]=Le*Vt[1]+(1-Le)*(at+rr*Dt);return Vl(ue)}function fs(ue,Le){return ue[0]*Le[0]+ue[1]*Le[1]+ue[2]*Le[2]+ue[3]*Le[3]}var th=[0,2/3,1/3,0],Tf=[0,1/3,2/3,0],Al=[0,1/6,2/3,1/6];function Af(ue,Le,Ve){ue.push("C",fs(th,Le),",",fs(th,Ve),",",fs(Tf,Le),",",fs(Tf,Ve),",",fs(Al,Le),",",fs(Al,Ve))}function iu(ue,Le){return(Le[1]-ue[1])/(Le[0]-ue[0])}function Jf(ue){for(var Le=0,Ve=ue.length-1,et=[],at=ue[0],lt=ue[1],Dt=et[0]=iu(at,lt);++Le<Ve;)et[Le]=(Dt+(Dt=iu(at=lt,lt=ue[Le+1])))/2;return et[Le]=Dt,et}function rh(ue){for(var Le=[],Ve,et,at,lt,Dt=Jf(ue),pt=-1,Vt=ue.length-1;++pt<Vt;)Ve=iu(ue[pt],ue[pt+1]),d(Ve)<fe?Dt[pt]=Dt[pt+1]=0:(et=Dt[pt]/Ve,at=Dt[pt+1]/Ve,lt=et*et+at*at,lt>9&&(lt=Ve*3/Math.sqrt(lt),Dt[pt]=lt*et,Dt[pt+1]=lt*at));for(pt=-1;++pt<=Vt;)lt=(ue[Math.min(Vt,pt+1)][0]-ue[Math.max(0,pt-1)][0])/(6*(1+Dt[pt]*Dt[pt])),Le.push([lt||0,Dt[pt]*lt||0]);return Le}function Sc(ue){return ue.length<3?Is(ue):ue[0]+au(ue,rh(ue))}i.svg.line.radial=function(){var ue=Su(Ec);return ue.radius=ue.x,delete ue.x,ue.angle=ue.y,delete ue.y,ue};function Ec(ue){for(var Le,Ve=-1,et=ue.length,at,lt;++Ve<et;)Le=ue[Ve],at=Le[0],lt=Le[1]-ut,Le[0]=at*Math.cos(lt),Le[1]=at*Math.sin(lt);return ue}function Cu(ue){var Le=ya,Ve=ya,et=0,at=ca,lt=Mu,Dt=Is,pt=Dt.key,Vt=Dt,rr="L",ar=.7;function Dr(_r){var qr=[],on=[],Fr=[],Wr=-1,Qr=_r.length,sn,pn=Kr(Le),$r=Kr(et),Yn=Le===Ve?function(){return ia}:Kr(Ve),Jn=et===at?function(){return ga}:Kr(at),ia,ga;function Ra(){qr.push("M",Dt(ue(Fr),ar),rr,Vt(ue(on.reverse()),ar),"Z")}for(;++Wr<Qr;)lt.call(this,sn=_r[Wr],Wr)?(on.push([ia=+pn.call(this,sn,Wr),ga=+$r.call(this,sn,Wr)]),Fr.push([+Yn.call(this,sn,Wr),+Jn.call(this,sn,Wr)])):on.length&&(Ra(),on=[],Fr=[]);return on.length&&Ra(),qr.length?qr.join(""):null}return Dr.x=function(_r){return arguments.length?(Le=Ve=_r,Dr):Ve},Dr.x0=function(_r){return arguments.length?(Le=_r,Dr):Le},Dr.x1=function(_r){return arguments.length?(Ve=_r,Dr):Ve},Dr.y=function(_r){return arguments.length?(et=at=_r,Dr):at},Dr.y0=function(_r){return arguments.length?(et=_r,Dr):et},Dr.y1=function(_r){return arguments.length?(at=_r,Dr):at},Dr.defined=function(_r){return arguments.length?(lt=_r,Dr):lt},Dr.interpolate=function(_r){return arguments.length?(typeof _r=="function"?pt=Dt=_r:pt=(Dt=Ss.get(_r)||Is).key,Vt=Dt.reverse||Dt,rr=Dt.closed?"M":"L",Dr):pt},Dr.tension=function(_r){return arguments.length?(ar=_r,Dr):ar},Dr}Xu.reverse=Xf,Xf.reverse=Xu,i.svg.area=function(){return Cu(N)},i.svg.area.radial=function(){var ue=Cu(Ec);return ue.radius=ue.x,delete ue.x,ue.innerRadius=ue.x0,delete ue.x0,ue.outerRadius=ue.x1,delete ue.x1,ue.angle=ue.y,delete ue.y,ue.startAngle=ue.y0,delete ue.y0,ue.endAngle=ue.y1,delete ue.y1,ue};function Qf(ue){return ue.source}function Mf(ue){return ue.target}i.svg.chord=function(){var ue=Qf,Le=Mf,Ve=nh,et=Zu,at=Tc;function lt(ar,Dr){var _r=Dt(this,ue,ar,Dr),qr=Dt(this,Le,ar,Dr);return"M"+_r.p0+Vt(_r.r,_r.p1,_r.a1-_r.a0)+(pt(_r,qr)?rr(_r.r,_r.p1,_r.r,_r.p0):rr(_r.r,_r.p1,qr.r,qr.p0)+Vt(qr.r,qr.p1,qr.a1-qr.a0)+rr(qr.r,qr.p1,_r.r,_r.p0))+"Z"}function Dt(ar,Dr,_r,qr){var on=Dr.call(ar,_r,qr),Fr=Ve.call(ar,on,qr),Wr=et.call(ar,on,qr)-ut,Qr=at.call(ar,on,qr)-ut;return{r:Fr,a0:Wr,a1:Qr,p0:[Fr*Math.cos(Wr),Fr*Math.sin(Wr)],p1:[Fr*Math.cos(Qr),Fr*Math.sin(Qr)]}}function pt(ar,Dr){return ar.a0==Dr.a0&&ar.a1==Dr.a1}function Vt(ar,Dr,_r){return"A"+ar+","+ar+" 0 "+ +(_r>Re)+",1 "+Dr}function rr(ar,Dr,_r,qr){return"Q 0,0 "+qr}return lt.radius=function(ar){return arguments.length?(Ve=Kr(ar),lt):Ve},lt.source=function(ar){return arguments.length?(ue=Kr(ar),lt):ue},lt.target=function(ar){return arguments.length?(Le=Kr(ar),lt):Le},lt.startAngle=function(ar){return arguments.length?(et=Kr(ar),lt):et},lt.endAngle=function(ar){return arguments.length?(at=Kr(ar),lt):at},lt};function nh(ue){return ue.radius}i.svg.diagonal=function(){var ue=Qf,Le=Mf,Ve=Sf;function et(at,lt){var Dt=ue.call(this,at,lt),pt=Le.call(this,at,lt),Vt=(Dt.y+pt.y)/2,rr=[Dt,{x:Dt.x,y:Vt},{x:pt.x,y:Vt},pt];return rr=rr.map(Ve),"M"+rr[0]+"C"+rr[1]+" "+rr[2]+" "+rr[3]}return et.source=function(at){return arguments.length?(ue=Kr(at),et):ue},et.target=function(at){return arguments.length?(Le=Kr(at),et):Le},et.projection=function(at){return arguments.length?(Ve=at,et):Ve},et};function Sf(ue){return[ue.x,ue.y]}i.svg.diagonal.radial=function(){var ue=i.svg.diagonal(),Le=Sf,Ve=ue.projection;return ue.projection=function(et){return arguments.length?Ve(ah(Le=et)):Le},ue};function ah(ue){return function(){var Le=ue.apply(this,arguments),Ve=Le[0],et=Le[1]-ut;return[Ve*Math.cos(et),Ve*Math.sin(et)]}}i.svg.symbol=function(){var ue=ot,Le=Je;function Ve(et,at){return(xt.get(ue.call(this,et,at))||gt)(Le.call(this,et,at))}return Ve.type=function(et){return arguments.length?(ue=Kr(et),Ve):ue},Ve.size=function(et){return arguments.length?(Le=Kr(et),Ve):Le},Ve};function Je(){return 64}function ot(){return"circle"}function gt(ue){var Le=Math.sqrt(ue/Re);return"M0,"+Le+"A"+Le+","+Le+" 0 1,1 0,"+-Le+"A"+Le+","+Le+" 0 1,1 0,"+Le+"Z"}var xt=i.map({circle:gt,cross:function(ue){var Le=Math.sqrt(ue/5)/2;return"M"+-3*Le+","+-Le+"H"+-Le+"V"+-3*Le+"H"+Le+"V"+-Le+"H"+3*Le+"V"+Le+"H"+Le+"V"+3*Le+"H"+-Le+"V"+Le+"H"+-3*Le+"Z"},diamond:function(ue){var Le=Math.sqrt(ue/(2*_t)),Ve=Le*_t;return"M0,"+-Le+"L"+Ve+",0 0,"+Le+" "+-Ve+",0Z"},square:function(ue){var Le=Math.sqrt(ue)/2;return"M"+-Le+","+-Le+"L"+Le+","+-Le+" "+Le+","+Le+" "+-Le+","+Le+"Z"},"triangle-down":function(ue){var Le=Math.sqrt(ue/Ft),Ve=Le*Ft/2;return"M0,"+Ve+"L"+Le+","+-Ve+" "+-Le+","+-Ve+"Z"},"triangle-up":function(ue){var Le=Math.sqrt(ue/Ft),Ve=Le*Ft/2;return"M0,"+-Ve+"L"+Le+","+Ve+" "+-Le+","+Ve+"Z"}});i.svg.symbolTypes=xt.keys();var Ft=Math.sqrt(3),_t=Math.tan(30*Tt);ee.transition=function(ue){for(var Le=kr||++Er,Ve=Cn(ue),et=[],at,lt,Dt=Jr||{time:Date.now(),ease:Vf,delay:0,duration:250},pt=-1,Vt=this.length;++pt<Vt;){et.push(at=[]);for(var rr=this[pt],ar=-1,Dr=rr.length;++ar<Dr;)(lt=rr[ar])&&Nn(lt,ar,Ve,Le,Dt),at.push(lt)}return xr(et,Ve,Le)},ee.interrupt=function(ue){return this.each(ue==null?Nt:pr(Cn(ue)))};var Nt=pr(Cn());function pr(ue){return function(){var Le,Ve,et;(Le=this[ue])&&(et=Le[Ve=Le.active])&&(et.timer.c=null,et.timer.t=NaN,--Le.count?delete Le[Ve]:delete this[ue],Le.active+=.5,et.event&&et.event.interrupt.call(this,this.__data__,et.index))}}function xr(ue,Le,Ve){return j(ue,ur),ue.namespace=Le,ue.id=Ve,ue}var ur=[],Er=0,kr,Jr;ur.call=ee.call,ur.empty=ee.empty,ur.node=ee.node,ur.size=ee.size,i.transition=function(ue,Le){return ue&&ue.transition?kr?ue.transition(Le):ue:i.selection().transition(ue)},i.transition.prototype=ur,ur.select=function(ue){var Le=this.id,Ve=this.namespace,et=[],at,lt,Dt;ue=le(ue);for(var pt=-1,Vt=this.length;++pt<Vt;){et.push(at=[]);for(var rr=this[pt],ar=-1,Dr=rr.length;++ar<Dr;)(Dt=rr[ar])&&(lt=ue.call(Dt,Dt.__data__,ar,pt))?("__data__"in Dt&&(lt.__data__=Dt.__data__),Nn(lt,ar,Ve,Le,Dt[Ve][Le]),at.push(lt)):at.push(null)}return xr(et,Ve,Le)},ur.selectAll=function(ue){var Le=this.id,Ve=this.namespace,et=[],at,lt,Dt,pt,Vt;ue=ie(ue);for(var rr=-1,ar=this.length;++rr<ar;)for(var Dr=this[rr],_r=-1,qr=Dr.length;++_r<qr;)if(Dt=Dr[_r]){Vt=Dt[Ve][Le],lt=ue.call(Dt,Dt.__data__,_r,rr),et.push(at=[]);for(var on=-1,Fr=lt.length;++on<Fr;)(pt=lt[on])&&Nn(pt,on,Ve,Le,Vt),at.push(pt)}return xr(et,Ve,Le)},ur.filter=function(ue){var Le=[],Ve,et,at;typeof ue!="function"&&(ue=nt(ue));for(var lt=0,Dt=this.length;lt<Dt;lt++){Le.push(Ve=[]);for(var et=this[lt],pt=0,Vt=et.length;pt<Vt;pt++)(at=et[pt])&&ue.call(at,at.__data__,pt,lt)&&Ve.push(at)}return xr(Le,this.namespace,this.id)},ur.tween=function(ue,Le){var Ve=this.id,et=this.namespace;return arguments.length<2?this.node()[et][Ve].tween.get(ue):Ke(this,Le==null?function(at){at[et][Ve].tween.remove(ue)}:function(at){at[et][Ve].tween.set(ue,Le)})};function en(ue,Le,Ve,et){var at=ue.id,lt=ue.namespace;return Ke(ue,typeof Ve=="function"?function(Dt,pt,Vt){Dt[lt][at].tween.set(Le,et(Ve.call(Dt,Dt.__data__,pt,Vt)))}:(Ve=et(Ve),function(Dt){Dt[lt][at].tween.set(Le,Ve)}))}ur.attr=function(ue,Le){if(arguments.length<2){for(Le in ue)this.attr(Le,ue[Le]);return this}var Ve=ue=="transform"?ml:qs,et=i.ns.qualify(ue);function at(){this.removeAttribute(et)}function lt(){this.removeAttributeNS(et.space,et.local)}function Dt(Vt){return Vt==null?at:(Vt+="",function(){var rr=this.getAttribute(et),ar;return rr!==Vt&&(ar=Ve(rr,Vt),function(Dr){this.setAttribute(et,ar(Dr))})})}function pt(Vt){return Vt==null?lt:(Vt+="",function(){var rr=this.getAttributeNS(et.space,et.local),ar;return rr!==Vt&&(ar=Ve(rr,Vt),function(Dr){this.setAttributeNS(et.space,et.local,ar(Dr))})})}return en(this,"attr."+ue,Le,et.local?pt:Dt)},ur.attrTween=function(ue,Le){var Ve=i.ns.qualify(ue);function et(lt,Dt){var pt=Le.call(this,lt,Dt,this.getAttribute(Ve));return pt&&function(Vt){this.setAttribute(Ve,pt(Vt))}}function at(lt,Dt){var pt=Le.call(this,lt,Dt,this.getAttributeNS(Ve.space,Ve.local));return pt&&function(Vt){this.setAttributeNS(Ve.space,Ve.local,pt(Vt))}}return this.tween("attr."+ue,Ve.local?at:et)},ur.style=function(ue,Le,Ve){var et=arguments.length;if(et<3){if(typeof ue!="string"){et<2&&(Le="");for(Ve in ue)this.style(Ve,ue[Ve],Le);return this}Ve=""}function at(){this.style.removeProperty(ue)}function lt(Dt){return Dt==null?at:(Dt+="",function(){var pt=t(this).getComputedStyle(this,null).getPropertyValue(ue),Vt;return pt!==Dt&&(Vt=qs(pt,Dt),function(rr){this.style.setProperty(ue,Vt(rr),Ve)})})}return en(this,"style."+ue,Le,lt)},ur.styleTween=function(ue,Le,Ve){arguments.length<3&&(Ve="");function et(at,lt){var Dt=Le.call(this,at,lt,t(this).getComputedStyle(this,null).getPropertyValue(ue));return Dt&&function(pt){this.style.setProperty(ue,Dt(pt),Ve)}}return this.tween("style."+ue,et)},ur.text=function(ue){return en(this,"text",ue,Sn)};function Sn(ue){return ue==null&&(ue=""),function(){this.textContent=ue}}ur.remove=function(){var ue=this.namespace;return this.each("end.transition",function(){var Le;this[ue].count<2&&(Le=this.parentNode)&&Le.removeChild(this)})},ur.ease=function(ue){var Le=this.id,Ve=this.namespace;return arguments.length<1?this.node()[Ve][Le].ease:(typeof ue!="function"&&(ue=i.ease.apply(i,arguments)),Ke(this,function(et){et[Ve][Le].ease=ue}))},ur.delay=function(ue){var Le=this.id,Ve=this.namespace;return arguments.length<1?this.node()[Ve][Le].delay:Ke(this,typeof ue=="function"?function(et,at,lt){et[Ve][Le].delay=+ue.call(et,et.__data__,at,lt)}:(ue=+ue,function(et){et[Ve][Le].delay=ue}))},ur.duration=function(ue){var Le=this.id,Ve=this.namespace;return arguments.length<1?this.node()[Ve][Le].duration:Ke(this,typeof ue=="function"?function(et,at,lt){et[Ve][Le].duration=Math.max(1,ue.call(et,et.__data__,at,lt))}:(ue=Math.max(1,ue),function(et){et[Ve][Le].duration=ue}))},ur.each=function(ue,Le){var Ve=this.id,et=this.namespace;if(arguments.length<2){var at=Jr,lt=kr;try{kr=Ve,Ke(this,function(Dt,pt,Vt){Jr=Dt[et][Ve],ue.call(Dt,Dt.__data__,pt,Vt)})}finally{Jr=at,kr=lt}}else Ke(this,function(Dt){var pt=Dt[et][Ve];(pt.event||(pt.event=i.dispatch("start","end","interrupt"))).on(ue,Le)});return this},ur.transition=function(){for(var ue=this.id,Le=++Er,Ve=this.namespace,et=[],at,lt,Dt,pt,Vt=0,rr=this.length;Vt<rr;Vt++){et.push(at=[]);for(var lt=this[Vt],ar=0,Dr=lt.length;ar<Dr;ar++)(Dt=lt[ar])&&(pt=Dt[Ve][ue],Nn(Dt,ar,Ve,Le,{time:pt.time,ease:pt.ease,delay:pt.delay+pt.duration,duration:pt.duration})),at.push(Dt)}return xr(et,Ve,Le)};function Cn(ue){return ue==null?"__transition__":"__transition_"+ue+"__"}function Nn(ue,Le,Ve,et,at){var lt=ue[Ve]||(ue[Ve]={active:0,count:0}),Dt=lt[et],pt,Vt,rr,ar,Dr;function _r(Fr){var Wr=Dt.delay;if(Vt.t=Wr+pt,Wr<=Fr)return qr(Fr-Wr);Vt.c=qr}function qr(Fr){var Wr=lt.active,Qr=lt[Wr];Qr&&(Qr.timer.c=null,Qr.timer.t=NaN,--lt.count,delete lt[Wr],Qr.event&&Qr.event.interrupt.call(ue,ue.__data__,Qr.index));for(var sn in lt)if(+sn<et){var pn=lt[sn];pn.timer.c=null,pn.timer.t=NaN,--lt.count,delete lt[sn]}Vt.c=on,Pn(function(){return Vt.c&&on(Fr||1)&&(Vt.c=null,Vt.t=NaN),1},0,pt),lt.active=et,Dt.event&&Dt.event.start.call(ue,ue.__data__,Le),Dr=[],Dt.tween.forEach(function($r,Yn){(Yn=Yn.call(ue,ue.__data__,Le))&&Dr.push(Yn)}),ar=Dt.ease,rr=Dt.duration}function on(Fr){for(var Wr=Fr/rr,Qr=ar(Wr),sn=Dr.length;sn>0;)Dr[--sn].call(ue,Qr);if(Wr>=1)return Dt.event&&Dt.event.end.call(ue,ue.__data__,Le),--lt.count?delete lt[et]:delete ue[Ve],1}Dt||(pt=at.time,Vt=Pn(_r,0,pt),Dt=lt[et]={tween:new C,time:pt,timer:Vt,delay:at.delay,duration:at.duration,ease:at.ease,index:Le},at=null,++lt.count)}i.svg.axis=function(){var ue=i.scale.linear(),Le=Aa,Ve=6,et=6,at=3,lt=[10],Dt=null,pt;function Vt(rr){rr.each(function(){var ar=i.select(this),Dr=this.__chart__||ue,_r=this.__chart__=ue.copy(),qr=Dt??(_r.ticks?_r.ticks.apply(_r,lt):_r.domain()),on=pt??(_r.tickFormat?_r.tickFormat.apply(_r,lt):N),Fr=ar.selectAll(".tick").data(qr,_r),Wr=Fr.enter().insert("g",".domain").attr("class","tick").style("opacity",fe),Qr=i.transition(Fr.exit()).style("opacity",fe).remove(),sn=i.transition(Fr.order()).style("opacity",1),pn=Math.max(Ve,0)+at,$r,Yn=mu(_r),Jn=ar.selectAll(".domain").data([0]),ia=(Jn.enter().append("path").attr("class","domain"),i.transition(Jn));Wr.append("line"),Wr.append("text");var ga=Wr.select("line"),Ra=sn.select("line"),Pa=Fr.select("text").text(on),ei=Wr.select("text"),Na=sn.select("text"),Ja=Le==="top"||Le==="left"?-1:1,Ti,Ci,Oi,Xn;if(Le==="bottom"||Le==="top"?($r=Ga,Ti="x",Oi="y",Ci="x2",Xn="y2",Pa.attr("dy",Ja<0?"0em":".71em").style("text-anchor","middle"),ia.attr("d","M"+Yn[0]+","+Ja*et+"V0H"+Yn[1]+"V"+Ja*et)):($r=Wa,Ti="y",Oi="x",Ci="y2",Xn="x2",Pa.attr("dy",".32em").style("text-anchor",Ja<0?"end":"start"),ia.attr("d","M"+Ja*et+","+Yn[0]+"H0V"+Yn[1]+"H"+Ja*et)),ga.attr(Xn,Ja*Ve),ei.attr(Oi,Ja*pn),Ra.attr(Ci,0).attr(Xn,Ja*Ve),Na.attr(Ti,0).attr(Oi,Ja*pn),_r.rangeBand){var Qa=_r,Xa=Qa.rangeBand()/2;Dr=_r=function(pi){return Qa(pi)+Xa}}else Dr.rangeBand?Dr=_r:Qr.call($r,_r,Dr);Wr.call($r,Dr,_r),sn.call($r,_r,_r)})}return Vt.scale=function(rr){return arguments.length?(ue=rr,Vt):ue},Vt.orient=function(rr){return arguments.length?(Le=rr in Ba?rr+"":Aa,Vt):Le},Vt.ticks=function(){return arguments.length?(lt=T(arguments),Vt):lt},Vt.tickValues=function(rr){return arguments.length?(Dt=rr,Vt):Dt},Vt.tickFormat=function(rr){return arguments.length?(pt=rr,Vt):pt},Vt.tickSize=function(rr){var ar=arguments.length;return ar?(Ve=+rr,et=+arguments[ar-1],Vt):Ve},Vt.innerTickSize=function(rr){return arguments.length?(Ve=+rr,Vt):Ve},Vt.outerTickSize=function(rr){return arguments.length?(et=+rr,Vt):et},Vt.tickPadding=function(rr){return arguments.length?(at=+rr,Vt):at},Vt.tickSubdivide=function(){return arguments.length&&Vt},Vt};var Aa="bottom",Ba={top:1,right:1,bottom:1,left:1};function Ga(ue,Le,Ve){ue.attr("transform",function(et){var at=Le(et);return"translate("+(isFinite(at)?at:Ve(et))+",0)"})}function Wa(ue,Le,Ve){ue.attr("transform",function(et){var at=Le(et);return"translate(0,"+(isFinite(at)?at:Ve(et))+")"})}i.svg.brush=function(){var ue=J(ar,"brushstart","brush","brushend"),Le=null,Ve=null,et=[0,0],at=[0,0],lt,Dt,pt=!0,Vt=!0,rr=Di[0];function ar(Fr){Fr.each(function(){var Wr=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",on).on("touchstart.brush",on),Qr=Wr.selectAll(".background").data([0]);Qr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Wr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var sn=Wr.selectAll(".resize").data(rr,N);sn.exit().remove(),sn.enter().append("g").attr("class",function(Jn){return"resize "+Jn}).style("cursor",function(Jn){return Ya[Jn]}).append("rect").attr("x",function(Jn){return/[ew]$/.test(Jn)?-3:null}).attr("y",function(Jn){return/^[ns]/.test(Jn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),sn.style("display",ar.empty()?"none":null);var pn=i.transition(Wr),$r=i.transition(Qr),Yn;Le&&(Yn=mu(Le),$r.attr("x",Yn[0]).attr("width",Yn[1]-Yn[0]),_r(pn)),Ve&&(Yn=mu(Ve),$r.attr("y",Yn[0]).attr("height",Yn[1]-Yn[0]),qr(pn)),Dr(pn)})}ar.event=function(Fr){Fr.each(function(){var Wr=ue.of(this,arguments),Qr={x:et,y:at,i:lt,j:Dt},sn=this.__chart__||Qr;this.__chart__=Qr,kr?i.select(this).transition().each("start.brush",function(){lt=sn.i,Dt=sn.j,et=sn.x,at=sn.y,Wr({type:"brushstart"})}).tween("brush:brush",function(){var pn=Oo(et,Qr.x),$r=Oo(at,Qr.y);return lt=Dt=null,function(Yn){et=Qr.x=pn(Yn),at=Qr.y=$r(Yn),Wr({type:"brush",mode:"resize"})}}).each("end.brush",function(){lt=Qr.i,Dt=Qr.j,Wr({type:"brush",mode:"resize"}),Wr({type:"brushend"})}):(Wr({type:"brushstart"}),Wr({type:"brush",mode:"resize"}),Wr({type:"brushend"}))})};function Dr(Fr){Fr.selectAll(".resize").attr("transform",function(Wr){return"translate("+et[+/e$/.test(Wr)]+","+at[+/^s/.test(Wr)]+")"})}function _r(Fr){Fr.select(".extent").attr("x",et[0]),Fr.selectAll(".extent,.n>rect,.s>rect").attr("width",et[1]-et[0])}function qr(Fr){Fr.select(".extent").attr("y",at[0]),Fr.selectAll(".extent,.e>rect,.w>rect").attr("height",at[1]-at[0])}function on(){var Fr=this,Wr=i.select(i.event.target),Qr=ue.of(Fr,arguments),sn=i.select(Fr),pn=Wr.datum(),$r=!/^(n|s)$/.test(pn)&&Le,Yn=!/^(e|w)$/.test(pn)&&Ve,Jn=Wr.classed("extent"),ia=it(Fr),ga,Ra=i.mouse(Fr),Pa,ei=i.select(t(Fr)).on("keydown.brush",Ti).on("keyup.brush",Ci);if(i.event.changedTouches?ei.on("touchmove.brush",Oi).on("touchend.brush",Qa):ei.on("mousemove.brush",Oi).on("mouseup.brush",Qa),sn.interrupt().selectAll("*").interrupt(),Jn)Ra[0]=et[0]-Ra[0],Ra[1]=at[0]-Ra[1];else if(pn){var Na=+/w$/.test(pn),Ja=+/^n/.test(pn);Pa=[et[1-Na]-Ra[0],at[1-Ja]-Ra[1]],Ra[0]=et[Na],Ra[1]=at[Ja]}else i.event.altKey&&(ga=Ra.slice());sn.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",Wr.style("cursor")),Qr({type:"brushstart"}),Oi();function Ti(){i.event.keyCode==32&&(Jn||(ga=null,Ra[0]-=et[1],Ra[1]-=at[1],Jn=2),oe())}function Ci(){i.event.keyCode==32&&Jn==2&&(Ra[0]+=et[1],Ra[1]+=at[1],Jn=0,oe())}function Oi(){var Xa=i.mouse(Fr),pi=!1;Pa&&(Xa[0]+=Pa[0],Xa[1]+=Pa[1]),Jn||(i.event.altKey?(ga||(ga=[(et[0]+et[1])/2,(at[0]+at[1])/2]),Ra[0]=et[+(Xa[0]<ga[0])],Ra[1]=at[+(Xa[1]<ga[1])]):ga=null),$r&&Xn(Xa,Le,0)&&(_r(sn),pi=!0),Yn&&Xn(Xa,Ve,1)&&(qr(sn),pi=!0),pi&&(Dr(sn),Qr({type:"brush",mode:Jn?"move":"resize"}))}function Xn(Xa,pi,ro){var Mo=mu(pi),ko=Mo[0],Ki=Mo[1],Bi=Ra[ro],Ca=ro?at:et,za=Ca[1]-Ca[0],Ji,Ro;if(Jn&&(ko-=Bi,Ki-=za+Bi),Ji=(ro?Vt:pt)?Math.max(ko,Math.min(Ki,Xa[ro])):Xa[ro],Jn?Ro=(Ji+=Bi)+za:(ga&&(Bi=Math.max(ko,Math.min(Ki,2*ga[ro]-Ji))),Bi<Ji?(Ro=Ji,Ji=Bi):Ro=Bi),Ca[0]!=Ji||Ca[1]!=Ro)return ro?Dt=null:lt=null,Ca[0]=Ji,Ca[1]=Ro,!0}function Qa(){Oi(),sn.style("pointer-events","all").selectAll(".resize").style("display",ar.empty()?"none":null),i.select("body").style("cursor",null),ei.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ia(),Qr({type:"brushend"})}}return ar.x=function(Fr){return arguments.length?(Le=Fr,rr=Di[!Le<<1|!Ve],ar):Le},ar.y=function(Fr){return arguments.length?(Ve=Fr,rr=Di[!Le<<1|!Ve],ar):Ve},ar.clamp=function(Fr){return arguments.length?(Le&&Ve?(pt=!!Fr[0],Vt=!!Fr[1]):Le?pt=!!Fr:Ve&&(Vt=!!Fr),ar):Le&&Ve?[pt,Vt]:Le?pt:Ve?Vt:null},ar.extent=function(Fr){var Wr,Qr,sn,pn,$r;return arguments.length?(Le&&(Wr=Fr[0],Qr=Fr[1],Ve&&(Wr=Wr[0],Qr=Qr[0]),lt=[Wr,Qr],Le.invert&&(Wr=Le(Wr),Qr=Le(Qr)),Qr<Wr&&($r=Wr,Wr=Qr,Qr=$r),(Wr!=et[0]||Qr!=et[1])&&(et=[Wr,Qr])),Ve&&(sn=Fr[0],pn=Fr[1],Le&&(sn=sn[1],pn=pn[1]),Dt=[sn,pn],Ve.invert&&(sn=Ve(sn),pn=Ve(pn)),pn<sn&&($r=sn,sn=pn,pn=$r),(sn!=at[0]||pn!=at[1])&&(at=[sn,pn])),ar):(Le&&(lt?(Wr=lt[0],Qr=lt[1]):(Wr=et[0],Qr=et[1],Le.invert&&(Wr=Le.invert(Wr),Qr=Le.invert(Qr)),Qr<Wr&&($r=Wr,Wr=Qr,Qr=$r))),Ve&&(Dt?(sn=Dt[0],pn=Dt[1]):(sn=at[0],pn=at[1],Ve.invert&&(sn=Ve.invert(sn),pn=Ve.invert(pn)),pn<sn&&($r=sn,sn=pn,pn=$r))),Le&&Ve?[[Wr,sn],[Qr,pn]]:Le?[Wr,Qr]:Ve&&[sn,pn])},ar.clear=function(){return ar.empty()||(et=[0,0],at=[0,0],lt=Dt=null),ar},ar.empty=function(){return!!Le&&et[0]==et[1]||!!Ve&&at[0]==at[1]},i.rebind(ar,ue,"on")};var Ya={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Di=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];i.text=Bn(function(ue){return ue.responseText}),i.json=function(ue,Le){return On(ue,"application/json",vo,Le)};function vo(ue){return JSON.parse(ue.responseText)}i.html=function(ue,Le){return On(ue,"text/html",Wi,Le)};function Wi(ue){var Le=v.createRange();return Le.selectNode(v.body),Le.createContextualFragment(ue.responseText)}i.xml=Bn(function(ue){return ue.responseXML}),g=i,R=typeof g=="function"?g.call(V,e,V,G):g,R!==void 0&&(G.exports=R)}).apply(self)},88294:function(G,V,e){G.exports=e(62849)},62849:function(G,V,e){var g=e(91358),R=e(53435),i=e(18863),L=e(21527),T=e(71299),v=e(46775),p=e(30120),t=e(64941),r=e(90660),l=e(27084),n=1073741824;G.exports=function(u,y){y||(y={}),u=p(u,"float64"),y=T(y,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var h=v(y.maxDepth,255),b=v(y.bounds,L(u,2));b[0]===b[2]&&b[2]++,b[1]===b[3]&&b[3]++;var f=s(u,b),o=u.length>>>1,d;y.dtype||(y.dtype="array"),typeof y.dtype=="string"?d=new(r(y.dtype))(o):y.dtype&&(d=y.dtype,Array.isArray(d)&&(d.length=o));for(var A=0;A<o;++A)d[A]=A;var M=[],C=[],m=[],S=[];U(0,0,1,d,0,1);for(var x=0,a=0;a<M.length;a++){var E=M[a];if(d.set)d.set(E,x);else for(var w=0,k=E.length;w<k;w++)d[w+x]=E[w];var I=x+M[a].length;S[a]=[x,I],x=I}return d.range=z,d;function U(F,H,X,q,ne,oe){if(!q.length)return null;var ve=M[ne]||(M[ne]=[]),J=m[ne]||(m[ne]=[]),Y=C[ne]||(C[ne]=[]),j=ve.length;if(ne++,ne>h||oe>n){for(var K=0;K<q.length;K++)ve.push(q[K]),J.push(oe),Y.push(null,null,null,null);return j}if(ve.push(q[0]),J.push(oe),q.length<=1)return Y.push(null,null,null,null),j;for(var te=X*.5,se=F+te,Q=H+te,ee=[],le=[],ie=[],he=[],xe=1,Se=q.length;xe<Se;xe++){var Ee=q[xe],Ne=f[Ee*2],He=f[Ee*2+1];Ne<se?He<Q?ee.push(Ee):le.push(Ee):He<Q?ie.push(Ee):he.push(Ee)}return oe<<=2,Y.push(U(F,H,te,ee,ne,oe),U(F,Q,te,le,ne,oe+1),U(se,H,te,ie,ne,oe+2),U(se,Q,te,he,ne,oe+3)),j}function z(){for(var F=[],H=arguments.length;H--;)F[H]=arguments[H];var X;if(t(F[F.length-1])){var q=F.pop();!F.length&&(q.x!=null||q.l!=null||q.left!=null)&&(F=[q],X={}),X=T(q,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else X={};F.length||(F=b);var ne=i.apply(void 0,F),oe=[Math.min(ne.x,ne.x+ne.width),Math.min(ne.y,ne.y+ne.height),Math.max(ne.x,ne.x+ne.width),Math.max(ne.y,ne.y+ne.height)],ve=oe[0],J=oe[1],Y=oe[2],j=oe[3],K=s([ve,J,Y,j],b),te=K[0],se=K[1],Q=K[2],ee=K[3],le=v(X.level,M.length);if(X.d!=null){var ie;typeof X.d=="number"?ie=[X.d,X.d]:X.d.length&&(ie=X.d),le=Math.min(Math.max(Math.ceil(-l(Math.abs(ie[0])/(b[2]-b[0]))),Math.ceil(-l(Math.abs(ie[1])/(b[3]-b[1])))),le)}if(le=Math.min(le,M.length),X.lod)return N(te,se,Q,ee,le);var he=[];xe(0,0,1,0,0,1);function xe(Ee,Ne,He,Ce,be,we){if(!(be===null||we===null)){var ke=Ee+He,Fe=Ne+He;if(!(te>ke||se>Fe||Q<Ee||ee<Ne)&&!(Ce>=le)&&be!==we){var Pe=M[Ce];we===void 0&&(we=Pe.length);for(var Ge=be;Ge<we;Ge++){var nt=Pe[Ge],qe=u[nt*2],Ke=u[nt*2+1];qe>=ve&&qe<=Y&&Ke>=J&&Ke<=j&&he.push(nt)}var $e=C[Ce],vt=$e[be*4+0],yt=$e[be*4+1],mt=$e[be*4+2],Et=$e[be*4+3],Xe=Se($e,be+1),Ue=He*.5,Be=Ce+1;xe(Ee,Ne,Ue,Be,vt,yt||mt||Et||Xe),xe(Ee,Ne+Ue,Ue,Be,yt,mt||Et||Xe),xe(Ee+Ue,Ne,Ue,Be,mt,Et||Xe),xe(Ee+Ue,Ne+Ue,Ue,Be,Et,Xe)}}}function Se(Ee,Ne){for(var He=null,Ce=0;He===null;)if(He=Ee[Ne*4+Ce],Ce++,Ce>Ee.length)return null;return He}return he}function N(F,H,X,q,ne){for(var oe=[],ve=0;ve<ne;ve++){var J=m[ve],Y=S[ve][0],j=B(F,H,ve),K=B(X,q,ve),te=g.ge(J,j),se=g.gt(J,K,te,J.length-1);oe[ve]=[te+Y,se+Y]}return oe}function B(F,H,X){for(var q=1,ne=.5,oe=.5,ve=.5,J=0;J<X;J++)q<<=2,q+=F<ne?H<oe?0:1:H<oe?2:3,ve*=.5,ne+=F<ne?-ve:ve,oe+=H<oe?-ve:ve;return q}};function s(c,u){for(var y=u[0],h=u[1],b=u[2],f=u[3],o=1/(b-y),d=1/(f-h),A=new Array(c.length),M=0,C=c.length/2;M<C;M++)A[2*M]=R((c[2*M]-y)*o,0,1),A[2*M+1]=R((c[2*M+1]-h)*d,0,1);return A}},30774:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(60302),R=6378137;function i(t){return g.geomReduce(t,function(r,l){return r+L(l)},0)}V.default=i;function L(t){var r=0,l;switch(t.type){case"Polygon":return T(t.coordinates);case"MultiPolygon":for(l=0;l<t.coordinates.length;l++)r+=T(t.coordinates[l]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function T(t){var r=0;if(t&&t.length>0){r+=Math.abs(v(t[0]));for(var l=1;l<t.length;l++)r-=Math.abs(v(t[l]))}return r}function v(t){var r,l,n,s,c,u,y,h=0,b=t.length;if(b>2){for(y=0;y<b;y++)y===b-2?(s=b-2,c=b-1,u=0):y===b-1?(s=b-1,c=0,u=1):(s=y,c=y+1,u=y+2),r=t[s],l=t[c],n=t[u],h+=(p(n[0])-p(r[0]))*Math.sin(p(l[1]));h=h*R*R/2}return h}function p(t){return t*Math.PI/180}},23132:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius*1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:1.0936133},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(x,a,E){E===void 0&&(E={});var w={type:"Feature"};return(E.id===0||E.id)&&(w.id=E.id),E.bbox&&(w.bbox=E.bbox),w.properties=a||{},w.geometry=x,w}V.feature=e;function g(x,a,E){switch(x){case"Point":return R(a).geometry;case"LineString":return v(a).geometry;case"Polygon":return L(a).geometry;case"MultiPoint":return l(a).geometry;case"MultiLineString":return r(a).geometry;case"MultiPolygon":return n(a).geometry;default:throw new Error(x+" is invalid")}}V.geometry=g;function R(x,a,E){if(E===void 0&&(E={}),!x)throw new Error("coordinates is required");if(!Array.isArray(x))throw new Error("coordinates must be an Array");if(x.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!M(x[0])||!M(x[1]))throw new Error("coordinates must contain numbers");var w={type:"Point",coordinates:x};return e(w,a,E)}V.point=R;function i(x,a,E){return E===void 0&&(E={}),t(x.map(function(w){return R(w,a)}),E)}V.points=i;function L(x,a,E){E===void 0&&(E={});for(var w=0,k=x;w<k.length;w++){var I=k[w];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var U=0;U<I[I.length-1].length;U++)if(I[I.length-1][U]!==I[0][U])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:x};return e(z,a,E)}V.polygon=L;function T(x,a,E){return E===void 0&&(E={}),t(x.map(function(w){return L(w,a)}),E)}V.polygons=T;function v(x,a,E){if(E===void 0&&(E={}),x.length<2)throw new Error("coordinates must be an array of two or more positions");var w={type:"LineString",coordinates:x};return e(w,a,E)}V.lineString=v;function p(x,a,E){return E===void 0&&(E={}),t(x.map(function(w){return v(w,a)}),E)}V.lineStrings=p;function t(x,a){a===void 0&&(a={});var E={type:"FeatureCollection"};return a.id&&(E.id=a.id),a.bbox&&(E.bbox=a.bbox),E.features=x,E}V.featureCollection=t;function r(x,a,E){E===void 0&&(E={});var w={type:"MultiLineString",coordinates:x};return e(w,a,E)}V.multiLineString=r;function l(x,a,E){E===void 0&&(E={});var w={type:"MultiPoint",coordinates:x};return e(w,a,E)}V.multiPoint=l;function n(x,a,E){E===void 0&&(E={});var w={type:"MultiPolygon",coordinates:x};return e(w,a,E)}V.multiPolygon=n;function s(x,a,E){E===void 0&&(E={});var w={type:"GeometryCollection",geometries:x};return e(w,a,E)}V.geometryCollection=s;function c(x,a){if(a===void 0&&(a=0),a&&!(a>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,a||0);return Math.round(x*E)/E}V.round=c;function u(x,a){a===void 0&&(a="kilometers");var E=V.factors[a];if(!E)throw new Error(a+" units is invalid");return x*E}V.radiansToLength=u;function y(x,a){a===void 0&&(a="kilometers");var E=V.factors[a];if(!E)throw new Error(a+" units is invalid");return x/E}V.lengthToRadians=y;function h(x,a){return f(y(x,a))}V.lengthToDegrees=h;function b(x){var a=x%360;return a<0&&(a+=360),a}V.bearingToAzimuth=b;function f(x){var a=x%(2*Math.PI);return a*180/Math.PI}V.radiansToDegrees=f;function o(x){var a=x%360;return a*Math.PI/180}V.degreesToRadians=o;function d(x,a,E){if(a===void 0&&(a="kilometers"),E===void 0&&(E="kilometers"),!(x>=0))throw new Error("length must be a positive number");return u(y(x,a),E)}V.convertLength=d;function A(x,a,E){if(a===void 0&&(a="meters"),E===void 0&&(E="kilometers"),!(x>=0))throw new Error("area must be a positive number");var w=V.areaFactors[a];if(!w)throw new Error("invalid original units");var k=V.areaFactors[E];if(!k)throw new Error("invalid final units");return x/w*k}V.convertArea=A;function M(x){return!isNaN(x)&&x!==null&&!Array.isArray(x)}V.isNumber=M;function C(x){return!!x&&x.constructor===Object}V.isObject=C;function m(x){if(!x)throw new Error("bbox is required");if(!Array.isArray(x))throw new Error("bbox must be an Array");if(x.length!==4&&x.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");x.forEach(function(a){if(!M(a))throw new Error("bbox must only contain numbers")})}V.validateBBox=m;function S(x){if(!x)throw new Error("id is required");if(["string","number"].indexOf(typeof x)===-1)throw new Error("id must be a number or a string")}V.validateId=S},60302:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(23132);function R(o,d,A){if(o!==null)for(var M,C,m,S,x,a,E,w=0,k=0,I,U=o.type,z=U==="FeatureCollection",N=U==="Feature",B=z?o.features.length:1,F=0;F<B;F++){E=z?o.features[F].geometry:N?o.geometry:o,I=E?E.type==="GeometryCollection":!1,x=I?E.geometries.length:1;for(var H=0;H<x;H++){var X=0,q=0;if(S=I?E.geometries[H]:E,S!==null){a=S.coordinates;var ne=S.type;switch(w=A&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(d(a,k,F,X,q)===!1)return!1;k++,X++;break;case"LineString":case"MultiPoint":for(M=0;M<a.length;M++){if(d(a[M],k,F,X,q)===!1)return!1;k++,ne==="MultiPoint"&&X++}ne==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(M=0;M<a.length;M++){for(C=0;C<a[M].length-w;C++){if(d(a[M][C],k,F,X,q)===!1)return!1;k++}ne==="MultiLineString"&&X++,ne==="Polygon"&&q++}ne==="Polygon"&&X++;break;case"MultiPolygon":for(M=0;M<a.length;M++){for(q=0,C=0;C<a[M].length;C++){for(m=0;m<a[M][C].length-w;m++){if(d(a[M][C][m],k,F,X,q)===!1)return!1;k++}q++}X++}break;case"GeometryCollection":for(M=0;M<S.geometries.length;M++)if(R(S.geometries[M],d,A)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,d,A,M){var C=A;return R(o,function(m,S,x,a,E){S===0&&A===void 0?C=m:C=d(C,m,S,x,a,E)},M),C}function L(o,d){var A;switch(o.type){case"FeatureCollection":for(A=0;A<o.features.length&&d(o.features[A].properties,A)!==!1;A++);break;case"Feature":d(o.properties,0);break}}function T(o,d,A){var M=A;return L(o,function(C,m){m===0&&A===void 0?M=C:M=d(M,C,m)}),M}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var A=0;A<o.features.length&&d(o.features[A],A)!==!1;A++);}function p(o,d,A){var M=A;return v(o,function(C,m){m===0&&A===void 0?M=C:M=d(M,C,m)}),M}function t(o){var d=[];return R(o,function(A){d.push(A)}),d}function r(o,d){var A,M,C,m,S,x,a,E,w,k,I=0,U=o.type==="FeatureCollection",z=o.type==="Feature",N=U?o.features.length:1;for(A=0;A<N;A++){for(x=U?o.features[A].geometry:z?o.geometry:o,E=U?o.features[A].properties:z?o.properties:{},w=U?o.features[A].bbox:z?o.bbox:void 0,k=U?o.features[A].id:z?o.id:void 0,a=x?x.type==="GeometryCollection":!1,S=a?x.geometries.length:1,C=0;C<S;C++){if(m=a?x.geometries[C]:x,m===null){if(d(null,I,E,w,k)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,I,E,w,k)===!1)return!1;break}case"GeometryCollection":{for(M=0;M<m.geometries.length;M++)if(d(m.geometries[M],I,E,w,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function l(o,d,A){var M=A;return r(o,function(C,m,S,x,a){m===0&&A===void 0?M=C:M=d(M,C,m,S,x,a)}),M}function n(o,d){r(o,function(A,M,C,m,S){var x=A===null?null:A.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(A,C,{bbox:m,id:S}),M,0)===!1?!1:void 0}var a;switch(x){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var E=0;E<A.coordinates.length;E++){var w=A.coordinates[E],k={type:a,coordinates:w};if(d(g.feature(k,C),M,E)===!1)return!1}})}function s(o,d,A){var M=A;return n(o,function(C,m,S){m===0&&S===0&&A===void 0?M=C:M=d(M,C,m,S)}),M}function c(o,d){n(o,function(A,M,C){var m=0;if(A.geometry){var S=A.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var x,a=0,E=0,w=0;if(R(A,function(k,I,U,z,N){if(x===void 0||M>a||z>E||N>w){x=k,a=M,E=z,w=N,m=0;return}var B=g.lineString([x,k],A.properties);if(d(B,M,C,N,m)===!1)return!1;m++,x=k})===!1)return!1}}})}function u(o,d,A){var M=A,C=!1;return c(o,function(m,S,x,a,E){C===!1&&A===void 0?M=m:M=d(M,m,S,x,a,E),C=!0}),M}function y(o,d){if(!o)throw new Error("geojson is required");n(o,function(A,M,C){if(A.geometry!==null){var m=A.geometry.type,S=A.geometry.coordinates;switch(m){case"LineString":if(d(A,M,C,0,0)===!1)return!1;break;case"Polygon":for(var x=0;x<S.length;x++)if(d(g.lineString(S[x],A.properties),M,C,x)===!1)return!1;break}}})}function h(o,d,A){var M=A;return y(o,function(C,m,S,x){m===0&&A===void 0?M=C:M=d(M,C,m,S,x)}),M}function b(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,M=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.segmentIndex||0,S=d.properties,x;switch(o.type){case"FeatureCollection":A<0&&(A=o.features.length+A),S=S||o.features[A].properties,x=o.features[A].geometry;break;case"Feature":S=S||o.properties,x=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":x=o;break;default:throw new Error("geojson is invalid")}if(x===null)return null;var a=x.coordinates;switch(x.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=a.length+m-1),g.lineString([a[m],a[m+1]],S,d);case"Polygon":return C<0&&(C=a.length+C),m<0&&(m=a[C].length+m-1),g.lineString([a[C][m],a[C][m+1]],S,d);case"MultiLineString":return M<0&&(M=a.length+M),m<0&&(m=a[M].length+m-1),g.lineString([a[M][m],a[M][m+1]],S,d);case"MultiPolygon":return M<0&&(M=a.length+M),C<0&&(C=a[M].length+C),m<0&&(m=a[M][C].length-m-1),g.lineString([a[M][C][m],a[M][C][m+1]],S,d)}throw new Error("geojson is invalid")}function f(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,M=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.coordIndex||0,S=d.properties,x;switch(o.type){case"FeatureCollection":A<0&&(A=o.features.length+A),S=S||o.features[A].properties,x=o.features[A].geometry;break;case"Feature":S=S||o.properties,x=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":x=o;break;default:throw new Error("geojson is invalid")}if(x===null)return null;var a=x.coordinates;switch(x.type){case"Point":return g.point(a,S,d);case"MultiPoint":return M<0&&(M=a.length+M),g.point(a[M],S,d);case"LineString":return m<0&&(m=a.length+m),g.point(a[m],S,d);case"Polygon":return C<0&&(C=a.length+C),m<0&&(m=a[C].length+m),g.point(a[C][m],S,d);case"MultiLineString":return M<0&&(M=a.length+M),m<0&&(m=a[M].length+m),g.point(a[M][m],S,d);case"MultiPolygon":return M<0&&(M=a.length+M),C<0&&(C=a[M].length+C),m<0&&(m=a[M][C].length-m),g.point(a[M][C][m],S,d)}throw new Error("geojson is invalid")}V.coordEach=R,V.coordReduce=i,V.propEach=L,V.propReduce=T,V.featureEach=v,V.featureReduce=p,V.coordAll=t,V.geomEach=r,V.geomReduce=l,V.flattenEach=n,V.flattenReduce=s,V.segmentEach=c,V.segmentReduce=u,V.lineEach=y,V.lineReduce=h,V.findSegment=b,V.findPoint=f},85268:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(27138);function R(i){var L=[1/0,1/0,-1/0,-1/0];return g.coordEach(i,function(T){L[0]>T[0]&&(L[0]=T[0]),L[1]>T[1]&&(L[1]=T[1]),L[2]<T[0]&&(L[2]=T[0]),L[3]<T[1]&&(L[3]=T[1])}),L}R.default=R,V.default=R},94228:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius*1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:1.0936133},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(x,a,E){E===void 0&&(E={});var w={type:"Feature"};return(E.id===0||E.id)&&(w.id=E.id),E.bbox&&(w.bbox=E.bbox),w.properties=a||{},w.geometry=x,w}V.feature=e;function g(x,a,E){switch(x){case"Point":return R(a).geometry;case"LineString":return v(a).geometry;case"Polygon":return L(a).geometry;case"MultiPoint":return l(a).geometry;case"MultiLineString":return r(a).geometry;case"MultiPolygon":return n(a).geometry;default:throw new Error(x+" is invalid")}}V.geometry=g;function R(x,a,E){if(E===void 0&&(E={}),!x)throw new Error("coordinates is required");if(!Array.isArray(x))throw new Error("coordinates must be an Array");if(x.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!M(x[0])||!M(x[1]))throw new Error("coordinates must contain numbers");var w={type:"Point",coordinates:x};return e(w,a,E)}V.point=R;function i(x,a,E){return E===void 0&&(E={}),t(x.map(function(w){return R(w,a)}),E)}V.points=i;function L(x,a,E){E===void 0&&(E={});for(var w=0,k=x;w<k.length;w++){var I=k[w];if(I.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var U=0;U<I[I.length-1].length;U++)if(I[I.length-1][U]!==I[0][U])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:x};return e(z,a,E)}V.polygon=L;function T(x,a,E){return E===void 0&&(E={}),t(x.map(function(w){return L(w,a)}),E)}V.polygons=T;function v(x,a,E){if(E===void 0&&(E={}),x.length<2)throw new Error("coordinates must be an array of two or more positions");var w={type:"LineString",coordinates:x};return e(w,a,E)}V.lineString=v;function p(x,a,E){return E===void 0&&(E={}),t(x.map(function(w){return v(w,a)}),E)}V.lineStrings=p;function t(x,a){a===void 0&&(a={});var E={type:"FeatureCollection"};return a.id&&(E.id=a.id),a.bbox&&(E.bbox=a.bbox),E.features=x,E}V.featureCollection=t;function r(x,a,E){E===void 0&&(E={});var w={type:"MultiLineString",coordinates:x};return e(w,a,E)}V.multiLineString=r;function l(x,a,E){E===void 0&&(E={});var w={type:"MultiPoint",coordinates:x};return e(w,a,E)}V.multiPoint=l;function n(x,a,E){E===void 0&&(E={});var w={type:"MultiPolygon",coordinates:x};return e(w,a,E)}V.multiPolygon=n;function s(x,a,E){E===void 0&&(E={});var w={type:"GeometryCollection",geometries:x};return e(w,a,E)}V.geometryCollection=s;function c(x,a){if(a===void 0&&(a=0),a&&!(a>=0))throw new Error("precision must be a positive number");var E=Math.pow(10,a||0);return Math.round(x*E)/E}V.round=c;function u(x,a){a===void 0&&(a="kilometers");var E=V.factors[a];if(!E)throw new Error(a+" units is invalid");return x*E}V.radiansToLength=u;function y(x,a){a===void 0&&(a="kilometers");var E=V.factors[a];if(!E)throw new Error(a+" units is invalid");return x/E}V.lengthToRadians=y;function h(x,a){return f(y(x,a))}V.lengthToDegrees=h;function b(x){var a=x%360;return a<0&&(a+=360),a}V.bearingToAzimuth=b;function f(x){var a=x%(2*Math.PI);return a*180/Math.PI}V.radiansToDegrees=f;function o(x){var a=x%360;return a*Math.PI/180}V.degreesToRadians=o;function d(x,a,E){if(a===void 0&&(a="kilometers"),E===void 0&&(E="kilometers"),!(x>=0))throw new Error("length must be a positive number");return u(y(x,a),E)}V.convertLength=d;function A(x,a,E){if(a===void 0&&(a="meters"),E===void 0&&(E="kilometers"),!(x>=0))throw new Error("area must be a positive number");var w=V.areaFactors[a];if(!w)throw new Error("invalid original units");var k=V.areaFactors[E];if(!k)throw new Error("invalid final units");return x/w*k}V.convertArea=A;function M(x){return!isNaN(x)&&x!==null&&!Array.isArray(x)}V.isNumber=M;function C(x){return!!x&&x.constructor===Object}V.isObject=C;function m(x){if(!x)throw new Error("bbox is required");if(!Array.isArray(x))throw new Error("bbox must be an Array");if(x.length!==4&&x.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");x.forEach(function(a){if(!M(a))throw new Error("bbox must only contain numbers")})}V.validateBBox=m;function S(x){if(!x)throw new Error("id is required");if(["string","number"].indexOf(typeof x)===-1)throw new Error("id must be a number or a string")}V.validateId=S},27138:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(94228);function R(o,d,A){if(o!==null)for(var M,C,m,S,x,a,E,w=0,k=0,I,U=o.type,z=U==="FeatureCollection",N=U==="Feature",B=z?o.features.length:1,F=0;F<B;F++){E=z?o.features[F].geometry:N?o.geometry:o,I=E?E.type==="GeometryCollection":!1,x=I?E.geometries.length:1;for(var H=0;H<x;H++){var X=0,q=0;if(S=I?E.geometries[H]:E,S!==null){a=S.coordinates;var ne=S.type;switch(w=A&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(d(a,k,F,X,q)===!1)return!1;k++,X++;break;case"LineString":case"MultiPoint":for(M=0;M<a.length;M++){if(d(a[M],k,F,X,q)===!1)return!1;k++,ne==="MultiPoint"&&X++}ne==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(M=0;M<a.length;M++){for(C=0;C<a[M].length-w;C++){if(d(a[M][C],k,F,X,q)===!1)return!1;k++}ne==="MultiLineString"&&X++,ne==="Polygon"&&q++}ne==="Polygon"&&X++;break;case"MultiPolygon":for(M=0;M<a.length;M++){for(q=0,C=0;C<a[M].length;C++){for(m=0;m<a[M][C].length-w;m++){if(d(a[M][C][m],k,F,X,q)===!1)return!1;k++}q++}X++}break;case"GeometryCollection":for(M=0;M<S.geometries.length;M++)if(R(S.geometries[M],d,A)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,d,A,M){var C=A;return R(o,function(m,S,x,a,E){S===0&&A===void 0?C=m:C=d(C,m,S,x,a,E)},M),C}function L(o,d){var A;switch(o.type){case"FeatureCollection":for(A=0;A<o.features.length&&d(o.features[A].properties,A)!==!1;A++);break;case"Feature":d(o.properties,0);break}}function T(o,d,A){var M=A;return L(o,function(C,m){m===0&&A===void 0?M=C:M=d(M,C,m)}),M}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var A=0;A<o.features.length&&d(o.features[A],A)!==!1;A++);}function p(o,d,A){var M=A;return v(o,function(C,m){m===0&&A===void 0?M=C:M=d(M,C,m)}),M}function t(o){var d=[];return R(o,function(A){d.push(A)}),d}function r(o,d){var A,M,C,m,S,x,a,E,w,k,I=0,U=o.type==="FeatureCollection",z=o.type==="Feature",N=U?o.features.length:1;for(A=0;A<N;A++){for(x=U?o.features[A].geometry:z?o.geometry:o,E=U?o.features[A].properties:z?o.properties:{},w=U?o.features[A].bbox:z?o.bbox:void 0,k=U?o.features[A].id:z?o.id:void 0,a=x?x.type==="GeometryCollection":!1,S=a?x.geometries.length:1,C=0;C<S;C++){if(m=a?x.geometries[C]:x,m===null){if(d(null,I,E,w,k)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,I,E,w,k)===!1)return!1;break}case"GeometryCollection":{for(M=0;M<m.geometries.length;M++)if(d(m.geometries[M],I,E,w,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function l(o,d,A){var M=A;return r(o,function(C,m,S,x,a){m===0&&A===void 0?M=C:M=d(M,C,m,S,x,a)}),M}function n(o,d){r(o,function(A,M,C,m,S){var x=A===null?null:A.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(A,C,{bbox:m,id:S}),M,0)===!1?!1:void 0}var a;switch(x){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var E=0;E<A.coordinates.length;E++){var w=A.coordinates[E],k={type:a,coordinates:w};if(d(g.feature(k,C),M,E)===!1)return!1}})}function s(o,d,A){var M=A;return n(o,function(C,m,S){m===0&&S===0&&A===void 0?M=C:M=d(M,C,m,S)}),M}function c(o,d){n(o,function(A,M,C){var m=0;if(A.geometry){var S=A.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var x,a=0,E=0,w=0;if(R(A,function(k,I,U,z,N){if(x===void 0||M>a||z>E||N>w){x=k,a=M,E=z,w=N,m=0;return}var B=g.lineString([x,k],A.properties);if(d(B,M,C,N,m)===!1)return!1;m++,x=k})===!1)return!1}}})}function u(o,d,A){var M=A,C=!1;return c(o,function(m,S,x,a,E){C===!1&&A===void 0?M=m:M=d(M,m,S,x,a,E),C=!0}),M}function y(o,d){if(!o)throw new Error("geojson is required");n(o,function(A,M,C){if(A.geometry!==null){var m=A.geometry.type,S=A.geometry.coordinates;switch(m){case"LineString":if(d(A,M,C,0,0)===!1)return!1;break;case"Polygon":for(var x=0;x<S.length;x++)if(d(g.lineString(S[x],A.properties),M,C,x)===!1)return!1;break}}})}function h(o,d,A){var M=A;return y(o,function(C,m,S,x){m===0&&A===void 0?M=C:M=d(M,C,m,S,x)}),M}function b(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,M=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.segmentIndex||0,S=d.properties,x;switch(o.type){case"FeatureCollection":A<0&&(A=o.features.length+A),S=S||o.features[A].properties,x=o.features[A].geometry;break;case"Feature":S=S||o.properties,x=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":x=o;break;default:throw new Error("geojson is invalid")}if(x===null)return null;var a=x.coordinates;switch(x.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=a.length+m-1),g.lineString([a[m],a[m+1]],S,d);case"Polygon":return C<0&&(C=a.length+C),m<0&&(m=a[C].length+m-1),g.lineString([a[C][m],a[C][m+1]],S,d);case"MultiLineString":return M<0&&(M=a.length+M),m<0&&(m=a[M].length+m-1),g.lineString([a[M][m],a[M][m+1]],S,d);case"MultiPolygon":return M<0&&(M=a.length+M),C<0&&(C=a[M].length+C),m<0&&(m=a[M][C].length-m-1),g.lineString([a[M][C][m],a[M][C][m+1]],S,d)}throw new Error("geojson is invalid")}function f(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,M=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.coordIndex||0,S=d.properties,x;switch(o.type){case"FeatureCollection":A<0&&(A=o.features.length+A),S=S||o.features[A].properties,x=o.features[A].geometry;break;case"Feature":S=S||o.properties,x=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":x=o;break;default:throw new Error("geojson is invalid")}if(x===null)return null;var a=x.coordinates;switch(x.type){case"Point":return g.point(a,S,d);case"MultiPoint":return M<0&&(M=a.length+M),g.point(a[M],S,d);case"LineString":return m<0&&(m=a.length+m),g.point(a[m],S,d);case"Polygon":return C<0&&(C=a.length+C),m<0&&(m=a[C].length+m),g.point(a[C][m],S,d);case"MultiLineString":return M<0&&(M=a.length+M),m<0&&(m=a[M].length+m),g.point(a[M][m],S,d);case"MultiPolygon":return M<0&&(M=a.length+M),C<0&&(C=a[M].length+C),m<0&&(m=a[M][C].length-m),g.point(a[M][C][m],S,d)}throw new Error("geojson is invalid")}V.coordEach=R,V.coordReduce=i,V.propEach=L,V.propReduce=T,V.featureEach=v,V.featureReduce=p,V.coordAll=t,V.geomEach=r,V.geomReduce=l,V.flattenEach=n,V.flattenReduce=s,V.segmentEach=c,V.segmentReduce=u,V.lineEach=y,V.lineReduce=h,V.findSegment=b,V.findPoint=f},29261:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(88553),R=e(64182);function i(L,T){T===void 0&&(T={});var v=0,p=0,t=0;return g.coordEach(L,function(r){v+=r[0],p+=r[1],t++}),R.point([v/t,p/t],T.properties)}V.default=i},64182:function(G,V){Object.defineProperty(V,"__esModule",{value:!0}),V.earthRadius=63710088e-1,V.factors={centimeters:V.earthRadius*100,centimetres:V.earthRadius*100,degrees:V.earthRadius/111325,feet:V.earthRadius*3.28084,inches:V.earthRadius*39.37,kilometers:V.earthRadius/1e3,kilometres:V.earthRadius/1e3,meters:V.earthRadius,metres:V.earthRadius,miles:V.earthRadius/1609.344,millimeters:V.earthRadius*1e3,millimetres:V.earthRadius*1e3,nauticalmiles:V.earthRadius/1852,radians:1,yards:V.earthRadius/1.0936},V.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/V.earthRadius,yards:.91441111923921},V.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(z,N,B){B===void 0&&(B={});var F={type:"Feature"};return(B.id===0||B.id)&&(F.id=B.id),B.bbox&&(F.bbox=B.bbox),F.properties=N||{},F.geometry=z,F}V.feature=e;function g(z,N,B){switch(z){case"Point":return R(N).geometry;case"LineString":return v(N).geometry;case"Polygon":return L(N).geometry;case"MultiPoint":return l(N).geometry;case"MultiLineString":return r(N).geometry;case"MultiPolygon":return n(N).geometry;default:throw new Error(z+" is invalid")}}V.geometry=g;function R(z,N,B){B===void 0&&(B={});var F={type:"Point",coordinates:z};return e(F,N,B)}V.point=R;function i(z,N,B){return B===void 0&&(B={}),t(z.map(function(F){return R(F,N)}),B)}V.points=i;function L(z,N,B){B===void 0&&(B={});for(var F=0,H=z;F<H.length;F++){var X=H[F];if(X.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var q=0;q<X[X.length-1].length;q++)if(X[X.length-1][q]!==X[0][q])throw new Error("First and last Position are not equivalent.")}var ne={type:"Polygon",coordinates:z};return e(ne,N,B)}V.polygon=L;function T(z,N,B){return B===void 0&&(B={}),t(z.map(function(F){return L(F,N)}),B)}V.polygons=T;function v(z,N,B){if(B===void 0&&(B={}),z.length<2)throw new Error("coordinates must be an array of two or more positions");var F={type:"LineString",coordinates:z};return e(F,N,B)}V.lineString=v;function p(z,N,B){return B===void 0&&(B={}),t(z.map(function(F){return v(F,N)}),B)}V.lineStrings=p;function t(z,N){N===void 0&&(N={});var B={type:"FeatureCollection"};return N.id&&(B.id=N.id),N.bbox&&(B.bbox=N.bbox),B.features=z,B}V.featureCollection=t;function r(z,N,B){B===void 0&&(B={});var F={type:"MultiLineString",coordinates:z};return e(F,N,B)}V.multiLineString=r;function l(z,N,B){B===void 0&&(B={});var F={type:"MultiPoint",coordinates:z};return e(F,N,B)}V.multiPoint=l;function n(z,N,B){B===void 0&&(B={});var F={type:"MultiPolygon",coordinates:z};return e(F,N,B)}V.multiPolygon=n;function s(z,N,B){B===void 0&&(B={});var F={type:"GeometryCollection",geometries:z};return e(F,N,B)}V.geometryCollection=s;function c(z,N){if(N===void 0&&(N=0),N&&!(N>=0))throw new Error("precision must be a positive number");var B=Math.pow(10,N||0);return Math.round(z*B)/B}V.round=c;function u(z,N){N===void 0&&(N="kilometers");var B=V.factors[N];if(!B)throw new Error(N+" units is invalid");return z*B}V.radiansToLength=u;function y(z,N){N===void 0&&(N="kilometers");var B=V.factors[N];if(!B)throw new Error(N+" units is invalid");return z/B}V.lengthToRadians=y;function h(z,N){return f(y(z,N))}V.lengthToDegrees=h;function b(z){var N=z%360;return N<0&&(N+=360),N}V.bearingToAzimuth=b;function f(z){var N=z%(2*Math.PI);return N*180/Math.PI}V.radiansToDegrees=f;function o(z){var N=z%360;return N*Math.PI/180}V.degreesToRadians=o;function d(z,N,B){if(N===void 0&&(N="kilometers"),B===void 0&&(B="kilometers"),!(z>=0))throw new Error("length must be a positive number");return u(y(z,N),B)}V.convertLength=d;function A(z,N,B){if(N===void 0&&(N="meters"),B===void 0&&(B="kilometers"),!(z>=0))throw new Error("area must be a positive number");var F=V.areaFactors[N];if(!F)throw new Error("invalid original units");var H=V.areaFactors[B];if(!H)throw new Error("invalid final units");return z/F*H}V.convertArea=A;function M(z){return!isNaN(z)&&z!==null&&!Array.isArray(z)&&!/^\s*$/.test(z)}V.isNumber=M;function C(z){return!!z&&z.constructor===Object}V.isObject=C;function m(z){if(!z)throw new Error("bbox is required");if(!Array.isArray(z))throw new Error("bbox must be an Array");if(z.length!==4&&z.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");z.forEach(function(N){if(!M(N))throw new Error("bbox must only contain numbers")})}V.validateBBox=m;function S(z){if(!z)throw new Error("id is required");if(["string","number"].indexOf(typeof z)===-1)throw new Error("id must be a number or a string")}V.validateId=S;function x(){throw new Error("method has been renamed to `radiansToDegrees`")}V.radians2degrees=x;function a(){throw new Error("method has been renamed to `degreesToRadians`")}V.degrees2radians=a;function E(){throw new Error("method has been renamed to `lengthToDegrees`")}V.distanceToDegrees=E;function w(){throw new Error("method has been renamed to `lengthToRadians`")}V.distanceToRadians=w;function k(){throw new Error("method has been renamed to `radiansToLength`")}V.radiansToDistance=k;function I(){throw new Error("method has been renamed to `bearingToAzimuth`")}V.bearingToAngle=I;function U(){throw new Error("method has been renamed to `convertLength`")}V.convertDistance=U},88553:function(G,V,e){Object.defineProperty(V,"__esModule",{value:!0});var g=e(64182);function R(o,d,A){if(o!==null)for(var M,C,m,S,x,a,E,w=0,k=0,I,U=o.type,z=U==="FeatureCollection",N=U==="Feature",B=z?o.features.length:1,F=0;F<B;F++){E=z?o.features[F].geometry:N?o.geometry:o,I=E?E.type==="GeometryCollection":!1,x=I?E.geometries.length:1;for(var H=0;H<x;H++){var X=0,q=0;if(S=I?E.geometries[H]:E,S!==null){a=S.coordinates;var ne=S.type;switch(w=A&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(d(a,k,F,X,q)===!1)return!1;k++,X++;break;case"LineString":case"MultiPoint":for(M=0;M<a.length;M++){if(d(a[M],k,F,X,q)===!1)return!1;k++,ne==="MultiPoint"&&X++}ne==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(M=0;M<a.length;M++){for(C=0;C<a[M].length-w;C++){if(d(a[M][C],k,F,X,q)===!1)return!1;k++}ne==="MultiLineString"&&X++,ne==="Polygon"&&q++}ne==="Polygon"&&X++;break;case"MultiPolygon":for(M=0;M<a.length;M++){for(q=0,C=0;C<a[M].length;C++){for(m=0;m<a[M][C].length-w;m++){if(d(a[M][C][m],k,F,X,q)===!1)return!1;k++}q++}X++}break;case"GeometryCollection":for(M=0;M<S.geometries.length;M++)if(R(S.geometries[M],d,A)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(o,d,A,M){var C=A;return R(o,function(m,S,x,a,E){S===0&&A===void 0?C=m:C=d(C,m,S,x,a,E)},M),C}function L(o,d){var A;switch(o.type){case"FeatureCollection":for(A=0;A<o.features.length&&d(o.features[A].properties,A)!==!1;A++);break;case"Feature":d(o.properties,0);break}}function T(o,d,A){var M=A;return L(o,function(C,m){m===0&&A===void 0?M=C:M=d(M,C,m)}),M}function v(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var A=0;A<o.features.length&&d(o.features[A],A)!==!1;A++);}function p(o,d,A){var M=A;return v(o,function(C,m){m===0&&A===void 0?M=C:M=d(M,C,m)}),M}function t(o){var d=[];return R(o,function(A){d.push(A)}),d}function r(o,d){var A,M,C,m,S,x,a,E,w,k,I=0,U=o.type==="FeatureCollection",z=o.type==="Feature",N=U?o.features.length:1;for(A=0;A<N;A++){for(x=U?o.features[A].geometry:z?o.geometry:o,E=U?o.features[A].properties:z?o.properties:{},w=U?o.features[A].bbox:z?o.bbox:void 0,k=U?o.features[A].id:z?o.id:void 0,a=x?x.type==="GeometryCollection":!1,S=a?x.geometries.length:1,C=0;C<S;C++){if(m=a?x.geometries[C]:x,m===null){if(d(null,I,E,w,k)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(m,I,E,w,k)===!1)return!1;break}case"GeometryCollection":{for(M=0;M<m.geometries.length;M++)if(d(m.geometries[M],I,E,w,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}I++}}function l(o,d,A){var M=A;return r(o,function(C,m,S,x,a){m===0&&A===void 0?M=C:M=d(M,C,m,S,x,a)}),M}function n(o,d){r(o,function(A,M,C,m,S){var x=A===null?null:A.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(A,C,{bbox:m,id:S}),M,0)===!1?!1:void 0}var a;switch(x){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var E=0;E<A.coordinates.length;E++){var w=A.coordinates[E],k={type:a,coordinates:w};if(d(g.feature(k,C),M,E)===!1)return!1}})}function s(o,d,A){var M=A;return n(o,function(C,m,S){m===0&&S===0&&A===void 0?M=C:M=d(M,C,m,S)}),M}function c(o,d){n(o,function(A,M,C){var m=0;if(A.geometry){var S=A.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var x,a=0,E=0,w=0;if(R(A,function(k,I,U,z,N){if(x===void 0||M>a||z>E||N>w){x=k,a=M,E=z,w=N,m=0;return}var B=g.lineString([x,k],A.properties);if(d(B,M,C,N,m)===!1)return!1;m++,x=k})===!1)return!1}}})}function u(o,d,A){var M=A,C=!1;return c(o,function(m,S,x,a,E){C===!1&&A===void 0?M=m:M=d(M,m,S,x,a,E),C=!0}),M}function y(o,d){if(!o)throw new Error("geojson is required");n(o,function(A,M,C){if(A.geometry!==null){var m=A.geometry.type,S=A.geometry.coordinates;switch(m){case"LineString":if(d(A,M,C,0,0)===!1)return!1;break;case"Polygon":for(var x=0;x<S.length;x++)if(d(g.lineString(S[x],A.properties),M,C,x)===!1)return!1;break}}})}function h(o,d,A){var M=A;return y(o,function(C,m,S,x){m===0&&A===void 0?M=C:M=d(M,C,m,S,x)}),M}function b(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,M=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.segmentIndex||0,S=d.properties,x;switch(o.type){case"FeatureCollection":A<0&&(A=o.features.length+A),S=S||o.features[A].properties,x=o.features[A].geometry;break;case"Feature":S=S||o.properties,x=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":x=o;break;default:throw new Error("geojson is invalid")}if(x===null)return null;var a=x.coordinates;switch(x.type){case"Point":case"MultiPoint":return null;case"LineString":return m<0&&(m=a.length+m-1),g.lineString([a[m],a[m+1]],S,d);case"Polygon":return C<0&&(C=a.length+C),m<0&&(m=a[C].length+m-1),g.lineString([a[C][m],a[C][m+1]],S,d);case"MultiLineString":return M<0&&(M=a.length+M),m<0&&(m=a[M].length+m-1),g.lineString([a[M][m],a[M][m+1]],S,d);case"MultiPolygon":return M<0&&(M=a.length+M),C<0&&(C=a[M].length+C),m<0&&(m=a[M][C].length-m-1),g.lineString([a[M][C][m],a[M][C][m+1]],S,d)}throw new Error("geojson is invalid")}function f(o,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var A=d.featureIndex||0,M=d.multiFeatureIndex||0,C=d.geometryIndex||0,m=d.coordIndex||0,S=d.properties,x;switch(o.type){case"FeatureCollection":A<0&&(A=o.features.length+A),S=S||o.features[A].properties,x=o.features[A].geometry;break;case"Feature":S=S||o.properties,x=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":x=o;break;default:throw new Error("geojson is invalid")}if(x===null)return null;var a=x.coordinates;switch(x.type){case"Point":return g.point(a,S,d);case"MultiPoint":return M<0&&(M=a.length+M),g.point(a[M],S,d);case"LineString":return m<0&&(m=a.length+m),g.point(a[m],S,d);case"Polygon":return C<0&&(C=a.length+C),m<0&&(m=a[C].length+m),g.point(a[C][m],S,d);case"MultiLineString":return M<0&&(M=a.length+M),m<0&&(m=a[M].length+m),g.point(a[M][m],S,d);case"MultiPolygon":return M<0&&(M=a.length+M),C<0&&(C=a[M].length+C),m<0&&(m=a[M][C].length-m),g.point(a[M][C][m],S,d)}throw new Error("geojson is invalid")}V.coordEach=R,V.coordReduce=i,V.propEach=L,V.propReduce=T,V.featureEach=v,V.featureReduce=p,V.coordAll=t,V.geomEach=r,V.geomReduce=l,V.flattenEach=n,V.flattenReduce=s,V.segmentEach=c,V.segmentReduce=u,V.lineEach=y,V.lineReduce=h,V.findSegment=b,V.findPoint=f},65185:function(G){G.exports=V;function V(e){var g=0,R=0,i=0,L=0;return e.map(function(T){T=T.slice();var v=T[0],p=v.toUpperCase();if(v!=p)switch(T[0]=p,v){case"a":T[6]+=i,T[7]+=L;break;case"v":T[1]+=L;break;case"h":T[1]+=i;break;default:for(var t=1;t<T.length;)T[t++]+=i,T[t++]+=L}switch(p){case"Z":i=g,L=R;break;case"H":i=T[1];break;case"V":L=T[1];break;case"M":i=g=T[1],L=R=T[2];break;default:i=T[T.length-2],L=T[T.length-1]}return T})}},21527:function(G){G.exports=V;function V(e,g){if(!e||e.length==null)throw Error("Argument should be an array");g==null?g=1:g=Math.floor(g);for(var R=Array(g*2),i=0;i<g;i++){for(var L=-1/0,T=1/0,v=i,p=e.length;v<p;v+=g)e[v]>L&&(L=e[v]),e[v]<T&&(T=e[v]);R[i]=T,R[g+i]=L}return R}},6851:function(G){G.exports=function(V,e,g){if(typeof Array.prototype.findIndex=="function")return V.findIndex(e,g);if(typeof e!="function")throw new TypeError("predicate must be a function");var R=Object(V),i=R.length;if(i===0)return-1;for(var L=0;L<i;L++)if(e.call(g,R[L],L,R))return L;return-1}},54:function(G,V,e){var g=e(21527);G.exports=R;function R(i,L,T){if(!i||i.length==null)throw Error("Argument should be an array");L==null&&(L=1),T==null&&(T=g(i,L));for(var v=0;v<L;v++){var p=T[L+v],t=T[v],r=v,l=i.length;if(p===1/0&&t===-1/0)for(r=v;r<l;r+=L)i[r]=i[r]===p?1:i[r]===t?0:.5;else if(p===1/0)for(r=v;r<l;r+=L)i[r]=i[r]===p?1:0;else if(t===-1/0)for(r=v;r<l;r+=L)i[r]=i[r]===t?0:1;else{var n=p-t;for(r=v;r<l;r+=L)isNaN(i[r])||(i[r]=n===0?.5:(i[r]-t)/n)}}return i}},57471:function(G){G.exports=function(e,g){var R=typeof e=="number",i=typeof g=="number";R&&!i?(g=e,e=0):!R&&!i&&(e=0,g=0),e=e|0,g=g|0;var L=g-e;if(L<0)throw new Error("array length must be positive");for(var T=new Array(L),v=0,p=e;v<L;v++,p++)T[v]=p;return T}},32791:function(G,V,e){var g=e(90386);function R(q){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(oe){return typeof oe}:R=function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},R(q)}function i(q,ne){if(!(q instanceof ne))throw new TypeError("Cannot call a class as a function")}var L=e(79616),T=L.codes,v=T.ERR_AMBIGUOUS_ARGUMENT,p=T.ERR_INVALID_ARG_TYPE,t=T.ERR_INVALID_ARG_VALUE,r=T.ERR_INVALID_RETURN_VALUE,l=T.ERR_MISSING_ARGS,n=e(73894),s=e(43827),c=s.inspect,u=e(43827).types,y=u.isPromise,h=u.isRegExp,b=Object.assign?Object.assign:e(73523).assign,f=Object.is?Object.is:e(64003),o,d;function A(){var q=e(74061);o=q.isDeepEqual,d=q.isDeepStrictEqual}var M=!1,C=G.exports=E,m={};function S(q){throw q.message instanceof Error?q.message:new n(q)}function x(q,ne,oe,ve,J){var Y=arguments.length,j;if(Y===0)j="Failed";else if(Y===1)oe=q,q=void 0;else{if(M===!1){M=!0;var K=g.emitWarning?g.emitWarning:console.warn.bind(console);K("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Y===2&&(ve="!=")}if(oe instanceof Error)throw oe;var te={actual:q,expected:ne,operator:ve===void 0?"fail":ve,stackStartFn:J||x};oe!==void 0&&(te.message=oe);var se=new n(te);throw j&&(se.message=j,se.generatedMessage=!0),se}C.fail=x,C.AssertionError=n;function a(q,ne,oe,ve){if(!oe){var J=!1;if(ne===0)J=!0,ve="No value argument passed to `assert.ok()`";else if(ve instanceof Error)throw ve;var Y=new n({actual:oe,expected:!0,message:ve,operator:"==",stackStartFn:q});throw Y.generatedMessage=J,Y}}function E(){for(var q=arguments.length,ne=new Array(q),oe=0;oe<q;oe++)ne[oe]=arguments[oe];a.apply(void 0,[E,ne.length].concat(ne))}C.ok=E,C.equal=function q(ne,oe,ve){if(arguments.length<2)throw new l("actual","expected");ne!=oe&&S({actual:ne,expected:oe,message:ve,operator:"==",stackStartFn:q})},C.notEqual=function q(ne,oe,ve){if(arguments.length<2)throw new l("actual","expected");ne==oe&&S({actual:ne,expected:oe,message:ve,operator:"!=",stackStartFn:q})},C.deepEqual=function q(ne,oe,ve){if(arguments.length<2)throw new l("actual","expected");o===void 0&&A(),o(ne,oe)||S({actual:ne,expected:oe,message:ve,operator:"deepEqual",stackStartFn:q})},C.notDeepEqual=function q(ne,oe,ve){if(arguments.length<2)throw new l("actual","expected");o===void 0&&A(),o(ne,oe)&&S({actual:ne,expected:oe,message:ve,operator:"notDeepEqual",stackStartFn:q})},C.deepStrictEqual=function q(ne,oe,ve){if(arguments.length<2)throw new l("actual","expected");o===void 0&&A(),d(ne,oe)||S({actual:ne,expected:oe,message:ve,operator:"deepStrictEqual",stackStartFn:q})},C.notDeepStrictEqual=w;function w(q,ne,oe){if(arguments.length<2)throw new l("actual","expected");o===void 0&&A(),d(q,ne)&&S({actual:q,expected:ne,message:oe,operator:"notDeepStrictEqual",stackStartFn:w})}C.strictEqual=function q(ne,oe,ve){if(arguments.length<2)throw new l("actual","expected");f(ne,oe)||S({actual:ne,expected:oe,message:ve,operator:"strictEqual",stackStartFn:q})},C.notStrictEqual=function q(ne,oe,ve){if(arguments.length<2)throw new l("actual","expected");f(ne,oe)&&S({actual:ne,expected:oe,message:ve,operator:"notStrictEqual",stackStartFn:q})};var k=function q(ne,oe,ve){var J=this;i(this,q),oe.forEach(function(Y){Y in ne&&(ve!==void 0&&typeof ve[Y]=="string"&&h(ne[Y])&&ne[Y].test(ve[Y])?J[Y]=ve[Y]:J[Y]=ne[Y])})};function I(q,ne,oe,ve,J,Y){if(!(oe in q)||!d(q[oe],ne[oe])){if(!ve){var j=new k(q,J),K=new k(ne,J,q),te=new n({actual:j,expected:K,operator:"deepStrictEqual",stackStartFn:Y});throw te.actual=q,te.expected=ne,te.operator=Y.name,te}S({actual:q,expected:ne,message:ve,operator:Y.name,stackStartFn:Y})}}function U(q,ne,oe,ve){if(typeof ne!="function"){if(h(ne))return ne.test(q);if(arguments.length===2)throw new p("expected",["Function","RegExp"],ne);if(R(q)!=="object"||q===null){var J=new n({actual:q,expected:ne,message:oe,operator:"deepStrictEqual",stackStartFn:ve});throw J.operator=ve.name,J}var Y=Object.keys(ne);if(ne instanceof Error)Y.push("name","message");else if(Y.length===0)throw new t("error",ne,"may not be an empty object");return o===void 0&&A(),Y.forEach(function(j){typeof q[j]=="string"&&h(ne[j])&&ne[j].test(q[j])||I(q,ne,j,oe,Y,ve)}),!0}return ne.prototype!==void 0&&q instanceof ne?!0:Error.isPrototypeOf(ne)?!1:ne.call({},q)===!0}function z(q){if(typeof q!="function")throw new p("fn","Function",q);try{q()}catch(ne){return ne}return m}function N(q){return y(q)||q!==null&&R(q)==="object"&&typeof q.then=="function"&&typeof q.catch=="function"}function B(q){return Promise.resolve().then(function(){var ne;if(typeof q=="function"){if(ne=q(),!N(ne))throw new r("instance of Promise","promiseFn",ne)}else if(N(q))ne=q;else throw new p("promiseFn",["Function","Promise"],q);return Promise.resolve().then(function(){return ne}).then(function(){return m}).catch(function(oe){return oe})})}function F(q,ne,oe,ve){if(typeof oe=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],oe);if(R(ne)==="object"&&ne!==null){if(ne.message===oe)throw new v("error/message",'The error message "'.concat(ne.message,'" is identical to the message.'))}else if(ne===oe)throw new v("error/message",'The error "'.concat(ne,'" is identical to the message.'));ve=oe,oe=void 0}else if(oe!=null&&R(oe)!=="object"&&typeof oe!="function")throw new p("error",["Object","Error","Function","RegExp"],oe);if(ne===m){var J="";oe&&oe.name&&(J+=" (".concat(oe.name,")")),J+=ve?": ".concat(ve):".";var Y=q.name==="rejects"?"rejection":"exception";S({actual:void 0,expected:oe,operator:q.name,message:"Missing expected ".concat(Y).concat(J),stackStartFn:q})}if(oe&&!U(ne,oe,ve,q))throw ne}function H(q,ne,oe,ve){if(ne!==m){if(typeof oe=="string"&&(ve=oe,oe=void 0),!oe||U(ne,oe)){var J=ve?": ".concat(ve):".",Y=q.name==="doesNotReject"?"rejection":"exception";S({actual:ne,expected:oe,operator:q.name,message:"Got unwanted ".concat(Y).concat(J,`
`)+'Actual message: "'.concat(ne&&ne.message,'"'),stackStartFn:q})}throw ne}}C.throws=function q(ne){for(var oe=arguments.length,ve=new Array(oe>1?oe-1:0),J=1;J<oe;J++)ve[J-1]=arguments[J];F.apply(void 0,[q,z(ne)].concat(ve))},C.rejects=function q(ne){for(var oe=arguments.length,ve=new Array(oe>1?oe-1:0),J=1;J<oe;J++)ve[J-1]=arguments[J];return B(ne).then(function(Y){return F.apply(void 0,[q,Y].concat(ve))})},C.doesNotThrow=function q(ne){for(var oe=arguments.length,ve=new Array(oe>1?oe-1:0),J=1;J<oe;J++)ve[J-1]=arguments[J];H.apply(void 0,[q,z(ne)].concat(ve))},C.doesNotReject=function q(ne){for(var oe=arguments.length,ve=new Array(oe>1?oe-1:0),J=1;J<oe;J++)ve[J-1]=arguments[J];return B(ne).then(function(Y){return H.apply(void 0,[q,Y].concat(ve))})},C.ifError=function q(ne){if(ne!=null){var oe="ifError got unwanted exception: ";R(ne)==="object"&&typeof ne.message=="string"?ne.message.length===0&&ne.constructor?oe+=ne.constructor.name:oe+=ne.message:oe+=c(ne);var ve=new n({actual:ne,expected:null,operator:"ifError",message:oe,stackStartFn:q}),J=ne.stack;if(typeof J=="string"){var Y=J.split(`
`);Y.shift();for(var j=ve.stack.split(`
`),K=0;K<Y.length;K++){var te=j.indexOf(Y[K]);if(te!==-1){j=j.slice(0,te);break}}ve.stack="".concat(j.join(`
`),`
`).concat(Y.join(`
`))}throw ve}};function X(){for(var q=arguments.length,ne=new Array(q),oe=0;oe<q;oe++)ne[oe]=arguments[oe];a.apply(void 0,[X,ne.length].concat(ne))}C.strict=b(X,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict},73894:function(G,V,e){var g=e(90386);function R(z){for(var N=1;N<arguments.length;N++){var B=arguments[N]!=null?arguments[N]:{},F=Object.keys(B);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols(B).filter(function(H){return Object.getOwnPropertyDescriptor(B,H).enumerable}))),F.forEach(function(H){i(z,H,B[H])})}return z}function i(z,N,B){return N in z?Object.defineProperty(z,N,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[N]=B,z}function L(z,N){if(!(z instanceof N))throw new TypeError("Cannot call a class as a function")}function T(z,N){for(var B=0;B<N.length;B++){var F=N[B];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function v(z,N,B){return N&&T(z.prototype,N),B&&T(z,B),z}function p(z,N){return N&&(h(N)==="object"||typeof N=="function")?N:t(z)}function t(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function r(z,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(N&&N.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),N&&u(z,N)}function l(z){var N=typeof Map=="function"?new Map:void 0;return l=function(F){if(F===null||!c(F))return F;if(typeof F!="function")throw new TypeError("Super expression must either be null or a function");if(typeof N<"u"){if(N.has(F))return N.get(F);N.set(F,H)}function H(){return s(F,arguments,y(this).constructor)}return H.prototype=Object.create(F.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),u(H,F)},l(z)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function s(z,N,B){return n()?s=Reflect.construct:s=function(H,X,q){var ne=[null];ne.push.apply(ne,X);var oe=Function.bind.apply(H,ne),ve=new oe;return q&&u(ve,q.prototype),ve},s.apply(null,arguments)}function c(z){return Function.toString.call(z).indexOf("[native code]")!==-1}function u(z,N){return u=Object.setPrototypeOf||function(F,H){return F.__proto__=H,F},u(z,N)}function y(z){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},y(z)}function h(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(B){return typeof B}:h=function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},h(z)}var b=e(43827),f=b.inspect,o=e(79616),d=o.codes.ERR_INVALID_ARG_TYPE;function A(z,N,B){return(B===void 0||B>z.length)&&(B=z.length),z.substring(B-N.length,B)===N}function M(z,N){if(N=Math.floor(N),z.length==0||N==0)return"";var B=z.length*N;for(N=Math.floor(Math.log(N)/Math.log(2));N;)z+=z,N--;return z+=z.substring(0,B-z.length),z}var C="",m="",S="",x="",a={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},E=10;function w(z){var N=Object.keys(z),B=Object.create(Object.getPrototypeOf(z));return N.forEach(function(F){B[F]=z[F]}),Object.defineProperty(B,"message",{value:z.message}),B}function k(z){return f(z,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function I(z,N,B){var F="",H="",X=0,q="",ne=!1,oe=k(z),ve=oe.split(`
`),J=k(N).split(`
`),Y=0,j="";if(B==="strictEqual"&&h(z)==="object"&&h(N)==="object"&&z!==null&&N!==null&&(B="strictEqualObject"),ve.length===1&&J.length===1&&ve[0]!==J[0]){var K=ve[0].length+J[0].length;if(K<=E){if((h(z)!=="object"||z===null)&&(h(N)!=="object"||N===null)&&(z!==0||N!==0))return"".concat(a[B],`

`)+"".concat(ve[0]," !== ").concat(J[0],`
`)}else if(B!=="strictEqualObject"){var te=g.stderr&&g.stderr.isTTY?g.stderr.columns:80;if(K<te){for(;ve[0][Y]===J[0][Y];)Y++;Y>2&&(j=`
  `.concat(M(" ",Y),"^"),Y=0)}}}for(var se=ve[ve.length-1],Q=J[J.length-1];se===Q&&(Y++<2?q=`
  `.concat(se).concat(q):F=se,ve.pop(),J.pop(),!(ve.length===0||J.length===0));)se=ve[ve.length-1],Q=J[J.length-1];var ee=Math.max(ve.length,J.length);if(ee===0){var le=oe.split(`
`);if(le.length>30)for(le[26]="".concat(C,"...").concat(x);le.length>27;)le.pop();return"".concat(a.notIdentical,`

`).concat(le.join(`
`),`
`)}Y>3&&(q=`
`.concat(C,"...").concat(x).concat(q),ne=!0),F!==""&&(q=`
  `.concat(F).concat(q),F="");var ie=0,he=a[B]+`
`.concat(m,"+ actual").concat(x," ").concat(S,"- expected").concat(x),xe=" ".concat(C,"...").concat(x," Lines skipped");for(Y=0;Y<ee;Y++){var Se=Y-X;if(ve.length<Y+1)Se>1&&Y>2&&(Se>4?(H+=`
`.concat(C,"...").concat(x),ne=!0):Se>3&&(H+=`
  `.concat(J[Y-2]),ie++),H+=`
  `.concat(J[Y-1]),ie++),X=Y,F+=`
`.concat(S,"-").concat(x," ").concat(J[Y]),ie++;else if(J.length<Y+1)Se>1&&Y>2&&(Se>4?(H+=`
`.concat(C,"...").concat(x),ne=!0):Se>3&&(H+=`
  `.concat(ve[Y-2]),ie++),H+=`
  `.concat(ve[Y-1]),ie++),X=Y,H+=`
`.concat(m,"+").concat(x," ").concat(ve[Y]),ie++;else{var Ee=J[Y],Ne=ve[Y],He=Ne!==Ee&&(!A(Ne,",")||Ne.slice(0,-1)!==Ee);He&&A(Ee,",")&&Ee.slice(0,-1)===Ne&&(He=!1,Ne+=","),He?(Se>1&&Y>2&&(Se>4?(H+=`
`.concat(C,"...").concat(x),ne=!0):Se>3&&(H+=`
  `.concat(ve[Y-2]),ie++),H+=`
  `.concat(ve[Y-1]),ie++),X=Y,H+=`
`.concat(m,"+").concat(x," ").concat(Ne),F+=`
`.concat(S,"-").concat(x," ").concat(Ee),ie+=2):(H+=F,F="",(Se===1||Y===0)&&(H+=`
  `.concat(Ne),ie++))}if(ie>20&&Y<ee-2)return"".concat(he).concat(xe,`
`).concat(H,`
`).concat(C,"...").concat(x).concat(F,`
`)+"".concat(C,"...").concat(x)}return"".concat(he).concat(ne?xe:"",`
`).concat(H).concat(F).concat(q).concat(j)}var U=function(z){r(N,z);function N(B){var F;if(L(this,N),h(B)!=="object"||B===null)throw new d("options","Object",B);var H=B.message,X=B.operator,q=B.stackStartFn,ne=B.actual,oe=B.expected,ve=Error.stackTraceLimit;if(Error.stackTraceLimit=0,H!=null)F=p(this,y(N).call(this,String(H)));else if(g.stderr&&g.stderr.isTTY&&(g.stderr&&g.stderr.getColorDepth&&g.stderr.getColorDepth()!==1?(C="\x1B[34m",m="\x1B[32m",x="\x1B[39m",S="\x1B[31m"):(C="",m="",x="",S="")),h(ne)==="object"&&ne!==null&&h(oe)==="object"&&oe!==null&&"stack"in ne&&ne instanceof Error&&"stack"in oe&&oe instanceof Error&&(ne=w(ne),oe=w(oe)),X==="deepStrictEqual"||X==="strictEqual")F=p(this,y(N).call(this,I(ne,oe,X)));else if(X==="notDeepStrictEqual"||X==="notStrictEqual"){var J=a[X],Y=k(ne).split(`
`);if(X==="notStrictEqual"&&h(ne)==="object"&&ne!==null&&(J=a.notStrictEqualObject),Y.length>30)for(Y[26]="".concat(C,"...").concat(x);Y.length>27;)Y.pop();Y.length===1?F=p(this,y(N).call(this,"".concat(J," ").concat(Y[0]))):F=p(this,y(N).call(this,"".concat(J,`

`).concat(Y.join(`
`),`
`)))}else{var j=k(ne),K="",te=a[X];X==="notDeepEqual"||X==="notEqual"?(j="".concat(a[X],`

`).concat(j),j.length>1024&&(j="".concat(j.slice(0,1021),"..."))):(K="".concat(k(oe)),j.length>512&&(j="".concat(j.slice(0,509),"...")),K.length>512&&(K="".concat(K.slice(0,509),"...")),X==="deepEqual"||X==="equal"?j="".concat(te,`

`).concat(j,`

should equal

`):K=" ".concat(X," ").concat(K)),F=p(this,y(N).call(this,"".concat(j).concat(K)))}return Error.stackTraceLimit=ve,F.generatedMessage=!H,Object.defineProperty(t(F),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),F.code="ERR_ASSERTION",F.actual=ne,F.expected=oe,F.operator=X,Error.captureStackTrace&&Error.captureStackTrace(t(F),q),F.stack,F.name="AssertionError",p(F)}return v(N,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:f.custom,value:function(F,H){return f(this,R({},H,{customInspect:!1,depth:0}))}}]),N}(l(Error));G.exports=U},79616:function(G,V,e){function g(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(f){return typeof f}:g=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},g(h)}function R(h,b){if(!(h instanceof b))throw new TypeError("Cannot call a class as a function")}function i(h,b){return b&&(g(b)==="object"||typeof b=="function")?b:L(h)}function L(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function T(h){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},T(h)}function v(h,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(b&&b.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),b&&p(h,b)}function p(h,b){return p=Object.setPrototypeOf||function(o,d){return o.__proto__=d,o},p(h,b)}var t={},r,l;function n(h,b,f){f||(f=Error);function o(A,M,C){return typeof b=="string"?b:b(A,M,C)}var d=function(A){v(M,A);function M(C,m,S){var x;return R(this,M),x=i(this,T(M).call(this,o(C,m,S))),x.code=h,x}return M}(f);t[h]=d}function s(h,b){if(Array.isArray(h)){var f=h.length;return h=h.map(function(o){return String(o)}),f>2?"one of ".concat(b," ").concat(h.slice(0,f-1).join(", "),", or ")+h[f-1]:f===2?"one of ".concat(b," ").concat(h[0]," or ").concat(h[1]):"of ".concat(b," ").concat(h[0])}else return"of ".concat(b," ").concat(String(h))}function c(h,b,f){return h.substr(!f||f<0?0:+f,b.length)===b}function u(h,b,f){return(f===void 0||f>h.length)&&(f=h.length),h.substring(f-b.length,f)===b}function y(h,b,f){return typeof f!="number"&&(f=0),f+b.length>h.length?!1:h.indexOf(b,f)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(h,b,f){r===void 0&&(r=e(32791)),r(typeof h=="string","'name' must be a string");var o;typeof b=="string"&&c(b,"not ")?(o="must not be",b=b.replace(/^not /,"")):o="must be";var d;if(u(h," argument"))d="The ".concat(h," ").concat(o," ").concat(s(b,"type"));else{var A=y(h,".")?"property":"argument";d='The "'.concat(h,'" ').concat(A," ").concat(o," ").concat(s(b,"type"))}return d+=". Received type ".concat(g(f)),d},TypeError),n("ERR_INVALID_ARG_VALUE",function(h,b){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";l===void 0&&(l=e(43827));var o=l.inspect(b);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(h,"' ").concat(f,". Received ").concat(o)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(h,b,f){var o;return f&&f.constructor&&f.constructor.name?o="instance of ".concat(f.constructor.name):o="type ".concat(g(f)),"Expected ".concat(h,' to be returned from the "').concat(b,'"')+" function but got ".concat(o,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var h=arguments.length,b=new Array(h),f=0;f<h;f++)b[f]=arguments[f];r===void 0&&(r=e(32791)),r(b.length>0,"At least one arg needs to be specified");var o="The ",d=b.length;switch(b=b.map(function(A){return'"'.concat(A,'"')}),d){case 1:o+="".concat(b[0]," argument");break;case 2:o+="".concat(b[0]," and ").concat(b[1]," arguments");break;default:o+=b.slice(0,d-1).join(", "),o+=", and ".concat(b[d-1]," arguments");break}return"".concat(o," must be specified")},TypeError),G.exports.codes=t},74061:function(G,V,e){function g(Ce,be){return L(Ce)||i(Ce,be)||R()}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(Ce,be){var we=[],ke=!0,Fe=!1,Pe=void 0;try{for(var Ge=Ce[Symbol.iterator](),nt;!(ke=(nt=Ge.next()).done)&&(we.push(nt.value),!(be&&we.length===be));ke=!0);}catch(qe){Fe=!0,Pe=qe}finally{try{!ke&&Ge.return!=null&&Ge.return()}finally{if(Fe)throw Pe}}return we}function L(Ce){if(Array.isArray(Ce))return Ce}function T(Ce){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(we){return typeof we}:T=function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we},T(Ce)}var v=/a/g.flags!==void 0,p=function(be){var we=[];return be.forEach(function(ke){return we.push(ke)}),we},t=function(be){var we=[];return be.forEach(function(ke,Fe){return we.push([Fe,ke])}),we},r=Object.is?Object.is:e(64003),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(15567);function s(Ce){return Ce.call.bind(Ce)}var c=s(Object.prototype.hasOwnProperty),u=s(Object.prototype.propertyIsEnumerable),y=s(Object.prototype.toString),h=e(43827).types,b=h.isAnyArrayBuffer,f=h.isArrayBufferView,o=h.isDate,d=h.isMap,A=h.isRegExp,M=h.isSet,C=h.isNativeError,m=h.isBoxedPrimitive,S=h.isNumberObject,x=h.isStringObject,a=h.isBooleanObject,E=h.isBigIntObject,w=h.isSymbolObject,k=h.isFloat32Array,I=h.isFloat64Array;function U(Ce){if(Ce.length===0||Ce.length>10)return!0;for(var be=0;be<Ce.length;be++){var we=Ce.charCodeAt(be);if(we<48||we>57)return!0}return Ce.length===10&&Ce>=Math.pow(2,32)}function z(Ce){return Object.keys(Ce).filter(U).concat(l(Ce).filter(Object.prototype.propertyIsEnumerable.bind(Ce)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function N(Ce,be){if(Ce===be)return 0;for(var we=Ce.length,ke=be.length,Fe=0,Pe=Math.min(we,ke);Fe<Pe;++Fe)if(Ce[Fe]!==be[Fe]){we=Ce[Fe],ke=be[Fe];break}return we<ke?-1:ke<we?1:0}var B=!0,F=!1,H=0,X=1,q=2,ne=3;function oe(Ce,be){return v?Ce.source===be.source&&Ce.flags===be.flags:RegExp.prototype.toString.call(Ce)===RegExp.prototype.toString.call(be)}function ve(Ce,be){if(Ce.byteLength!==be.byteLength)return!1;for(var we=0;we<Ce.byteLength;we++)if(Ce[we]!==be[we])return!1;return!0}function J(Ce,be){return Ce.byteLength!==be.byteLength?!1:N(new Uint8Array(Ce.buffer,Ce.byteOffset,Ce.byteLength),new Uint8Array(be.buffer,be.byteOffset,be.byteLength))===0}function Y(Ce,be){return Ce.byteLength===be.byteLength&&N(new Uint8Array(Ce),new Uint8Array(be))===0}function j(Ce,be){return S(Ce)?S(be)&&r(Number.prototype.valueOf.call(Ce),Number.prototype.valueOf.call(be)):x(Ce)?x(be)&&String.prototype.valueOf.call(Ce)===String.prototype.valueOf.call(be):a(Ce)?a(be)&&Boolean.prototype.valueOf.call(Ce)===Boolean.prototype.valueOf.call(be):E(Ce)?E(be)&&BigInt.prototype.valueOf.call(Ce)===BigInt.prototype.valueOf.call(be):w(be)&&Symbol.prototype.valueOf.call(Ce)===Symbol.prototype.valueOf.call(be)}function K(Ce,be,we,ke){if(Ce===be)return Ce!==0?!0:we?r(Ce,be):!0;if(we){if(T(Ce)!=="object")return typeof Ce=="number"&&n(Ce)&&n(be);if(T(be)!=="object"||Ce===null||be===null||Object.getPrototypeOf(Ce)!==Object.getPrototypeOf(be))return!1}else{if(Ce===null||T(Ce)!=="object")return be===null||T(be)!=="object"?Ce==be:!1;if(be===null||T(be)!=="object")return!1}var Fe=y(Ce),Pe=y(be);if(Fe!==Pe)return!1;if(Array.isArray(Ce)){if(Ce.length!==be.length)return!1;var Ge=z(Ce),nt=z(be);return Ge.length!==nt.length?!1:se(Ce,be,we,ke,X,Ge)}if(Fe==="[object Object]"&&(!d(Ce)&&d(be)||!M(Ce)&&M(be)))return!1;if(o(Ce)){if(!o(be)||Date.prototype.getTime.call(Ce)!==Date.prototype.getTime.call(be))return!1}else if(A(Ce)){if(!A(be)||!oe(Ce,be))return!1}else if(C(Ce)||Ce instanceof Error){if(Ce.message!==be.message||Ce.name!==be.name)return!1}else if(f(Ce)){if(!we&&(k(Ce)||I(Ce))){if(!ve(Ce,be))return!1}else if(!J(Ce,be))return!1;var qe=z(Ce),Ke=z(be);return qe.length!==Ke.length?!1:se(Ce,be,we,ke,H,qe)}else{if(M(Ce))return!M(be)||Ce.size!==be.size?!1:se(Ce,be,we,ke,q);if(d(Ce))return!d(be)||Ce.size!==be.size?!1:se(Ce,be,we,ke,ne);if(b(Ce)){if(!Y(Ce,be))return!1}else if(m(Ce)&&!j(Ce,be))return!1}return se(Ce,be,we,ke,H)}function te(Ce,be){return be.filter(function(we){return u(Ce,we)})}function se(Ce,be,we,ke,Fe,Pe){if(arguments.length===5){Pe=Object.keys(Ce);var Ge=Object.keys(be);if(Pe.length!==Ge.length)return!1}for(var nt=0;nt<Pe.length;nt++)if(!c(be,Pe[nt]))return!1;if(we&&arguments.length===5){var qe=l(Ce);if(qe.length!==0){var Ke=0;for(nt=0;nt<qe.length;nt++){var $e=qe[nt];if(u(Ce,$e)){if(!u(be,$e))return!1;Pe.push($e),Ke++}else if(u(be,$e))return!1}var vt=l(be);if(qe.length!==vt.length&&te(be,vt).length!==Ke)return!1}else{var yt=l(be);if(yt.length!==0&&te(be,yt).length!==0)return!1}}if(Pe.length===0&&(Fe===H||Fe===X&&Ce.length===0||Ce.size===0))return!0;if(ke===void 0)ke={val1:new Map,val2:new Map,position:0};else{var mt=ke.val1.get(Ce);if(mt!==void 0){var Et=ke.val2.get(be);if(Et!==void 0)return mt===Et}ke.position++}ke.val1.set(Ce,ke.position),ke.val2.set(be,ke.position);var Xe=Ee(Ce,be,we,Pe,ke,Fe);return ke.val1.delete(Ce),ke.val2.delete(be),Xe}function Q(Ce,be,we,ke){for(var Fe=p(Ce),Pe=0;Pe<Fe.length;Pe++){var Ge=Fe[Pe];if(K(be,Ge,we,ke))return Ce.delete(Ge),!0}return!1}function ee(Ce){switch(T(Ce)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ce=+Ce;case"number":if(n(Ce))return!1}return!0}function le(Ce,be,we){var ke=ee(we);return ke??(be.has(ke)&&!Ce.has(ke))}function ie(Ce,be,we,ke,Fe){var Pe=ee(we);if(Pe!=null)return Pe;var Ge=be.get(Pe);return Ge===void 0&&!be.has(Pe)||!K(ke,Ge,!1,Fe)?!1:!Ce.has(Pe)&&K(ke,Ge,!1,Fe)}function he(Ce,be,we,ke){for(var Fe=null,Pe=p(Ce),Ge=0;Ge<Pe.length;Ge++){var nt=Pe[Ge];if(T(nt)==="object"&&nt!==null)Fe===null&&(Fe=new Set),Fe.add(nt);else if(!be.has(nt)){if(we||!le(Ce,be,nt))return!1;Fe===null&&(Fe=new Set),Fe.add(nt)}}if(Fe!==null){for(var qe=p(be),Ke=0;Ke<qe.length;Ke++){var $e=qe[Ke];if(T($e)==="object"&&$e!==null){if(!Q(Fe,$e,we,ke))return!1}else if(!we&&!Ce.has($e)&&!Q(Fe,$e,we,ke))return!1}return Fe.size===0}return!0}function xe(Ce,be,we,ke,Fe,Pe){for(var Ge=p(Ce),nt=0;nt<Ge.length;nt++){var qe=Ge[nt];if(K(we,qe,Fe,Pe)&&K(ke,be.get(qe),Fe,Pe))return Ce.delete(qe),!0}return!1}function Se(Ce,be,we,ke){for(var Fe=null,Pe=t(Ce),Ge=0;Ge<Pe.length;Ge++){var nt=g(Pe[Ge],2),qe=nt[0],Ke=nt[1];if(T(qe)==="object"&&qe!==null)Fe===null&&(Fe=new Set),Fe.add(qe);else{var $e=be.get(qe);if($e===void 0&&!be.has(qe)||!K(Ke,$e,we,ke)){if(we||!ie(Ce,be,qe,Ke,ke))return!1;Fe===null&&(Fe=new Set),Fe.add(qe)}}}if(Fe!==null){for(var vt=t(be),yt=0;yt<vt.length;yt++){var mt=g(vt[yt],2),qe=mt[0],Et=mt[1];if(T(qe)==="object"&&qe!==null){if(!xe(Fe,Ce,qe,Et,we,ke))return!1}else if(!we&&(!Ce.has(qe)||!K(Ce.get(qe),Et,!1,ke))&&!xe(Fe,Ce,qe,Et,!1,ke))return!1}return Fe.size===0}return!0}function Ee(Ce,be,we,ke,Fe,Pe){var Ge=0;if(Pe===q){if(!he(Ce,be,we,Fe))return!1}else if(Pe===ne){if(!Se(Ce,be,we,Fe))return!1}else if(Pe===X)for(;Ge<Ce.length;Ge++)if(c(Ce,Ge)){if(!c(be,Ge)||!K(Ce[Ge],be[Ge],we,Fe))return!1}else{if(c(be,Ge))return!1;for(var nt=Object.keys(Ce);Ge<nt.length;Ge++){var qe=nt[Ge];if(!c(be,qe)||!K(Ce[qe],be[qe],we,Fe))return!1}return nt.length===Object.keys(be).length}for(Ge=0;Ge<ke.length;Ge++){var Ke=ke[Ge];if(!K(Ce[Ke],be[Ke],we,Fe))return!1}return!0}function Ne(Ce,be){return K(Ce,be,F)}function He(Ce,be){return K(Ce,be,B)}G.exports={isDeepEqual:Ne,isDeepStrictEqual:He}},95341:function(G,V){V.byteLength=p,V.toByteArray=r,V.fromByteArray=s;for(var e=[],g=[],R=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=0,T=i.length;L<T;++L)e[L]=i[L],g[i.charCodeAt(L)]=L;g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63;function v(c){var u=c.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=c.indexOf("=");y===-1&&(y=u);var h=y===u?0:4-y%4;return[y,h]}function p(c){var u=v(c),y=u[0],h=u[1];return(y+h)*3/4-h}function t(c,u,y){return(u+y)*3/4-y}function r(c){var u,y=v(c),h=y[0],b=y[1],f=new R(t(c,h,b)),o=0,d=b>0?h-4:h,A;for(A=0;A<d;A+=4)u=g[c.charCodeAt(A)]<<18|g[c.charCodeAt(A+1)]<<12|g[c.charCodeAt(A+2)]<<6|g[c.charCodeAt(A+3)],f[o++]=u>>16&255,f[o++]=u>>8&255,f[o++]=u&255;return b===2&&(u=g[c.charCodeAt(A)]<<2|g[c.charCodeAt(A+1)]>>4,f[o++]=u&255),b===1&&(u=g[c.charCodeAt(A)]<<10|g[c.charCodeAt(A+1)]<<4|g[c.charCodeAt(A+2)]>>2,f[o++]=u>>8&255,f[o++]=u&255),f}function l(c){return e[c>>18&63]+e[c>>12&63]+e[c>>6&63]+e[c&63]}function n(c,u,y){for(var h,b=[],f=u;f<y;f+=3)h=(c[f]<<16&16711680)+(c[f+1]<<8&65280)+(c[f+2]&255),b.push(l(h));return b.join("")}function s(c){for(var u,y=c.length,h=y%3,b=[],f=16383,o=0,d=y-h;o<d;o+=f)b.push(n(c,o,o+f>d?d:o+f));return h===1?(u=c[y-1],b.push(e[u>>2]+e[u<<4&63]+"==")):h===2&&(u=(c[y-2]<<8)+c[y-1],b.push(e[u>>10]+e[u>>4&63]+e[u<<2&63]+"=")),b.join("")}},91358:function(G){function V(T,v,p,t,r){for(var l=r+1;t<=r;){var n=t+r>>>1,s=T[n],c=p!==void 0?p(s,v):s-v;c>=0?(l=n,r=n-1):t=n+1}return l}function e(T,v,p,t,r){for(var l=r+1;t<=r;){var n=t+r>>>1,s=T[n],c=p!==void 0?p(s,v):s-v;c>0?(l=n,r=n-1):t=n+1}return l}function g(T,v,p,t,r){for(var l=t-1;t<=r;){var n=t+r>>>1,s=T[n],c=p!==void 0?p(s,v):s-v;c<0?(l=n,t=n+1):r=n-1}return l}function R(T,v,p,t,r){for(var l=t-1;t<=r;){var n=t+r>>>1,s=T[n],c=p!==void 0?p(s,v):s-v;c<=0?(l=n,t=n+1):r=n-1}return l}function i(T,v,p,t,r){for(;t<=r;){var l=t+r>>>1,n=T[l],s=p!==void 0?p(n,v):n-v;if(s===0)return l;s<=0?t=l+1:r=l-1}return-1}function L(T,v,p,t,r,l){return typeof p=="function"?l(T,v,p,t===void 0?0:t|0,r===void 0?T.length-1:r|0):l(T,v,void 0,p===void 0?0:p|0,t===void 0?T.length-1:t|0)}G.exports={ge:function(T,v,p,t,r){return L(T,v,p,t,r,V)},gt:function(T,v,p,t,r){return L(T,v,p,t,r,e)},lt:function(T,v,p,t,r){return L(T,v,p,t,r,g)},le:function(T,v,p,t,r){return L(T,v,p,t,r,R)},eq:function(T,v,p,t,r){return L(T,v,p,t,r,i)}}},13547:function(G,V){"use restrict";var e=32;V.INT_BITS=e,V.INT_MAX=2147483647,V.INT_MIN=-1<<e-1,V.sign=function(i){return(i>0)-(i<0)},V.abs=function(i){var L=i>>e-1;return(i^L)-L},V.min=function(i,L){return L^(i^L)&-(i<L)},V.max=function(i,L){return i^(i^L)&-(i<L)},V.isPow2=function(i){return!(i&i-1)&&!!i},V.log2=function(i){var L,T;return L=(i>65535)<<4,i>>>=L,T=(i>255)<<3,i>>>=T,L|=T,T=(i>15)<<2,i>>>=T,L|=T,T=(i>3)<<1,i>>>=T,L|=T,L|i>>1},V.log10=function(i){return i>=1e9?9:i>=1e8?8:i>=1e7?7:i>=1e6?6:i>=1e5?5:i>=1e4?4:i>=1e3?3:i>=100?2:i>=10?1:0},V.popCount=function(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),(i+(i>>>4)&252645135)*16843009>>>24};function g(i){var L=32;return i&=-i,i&&L--,i&65535&&(L-=16),i&16711935&&(L-=8),i&252645135&&(L-=4),i&858993459&&(L-=2),i&1431655765&&(L-=1),L}V.countTrailingZeros=g,V.nextPow2=function(i){return i+=i===0,--i,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i+1},V.prevPow2=function(i){return i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i-(i>>>1)},V.parity=function(i){return i^=i>>>16,i^=i>>>8,i^=i>>>4,i&=15,27030>>>i&1};var R=new Array(256);(function(i){for(var L=0;L<256;++L){var T=L,v=L,p=7;for(T>>>=1;T;T>>>=1)v<<=1,v|=T&1,--p;i[L]=v<<p&255}})(R),V.reverse=function(i){return R[i&255]<<24|R[i>>>8&255]<<16|R[i>>>16&255]<<8|R[i>>>24&255]},V.interleave2=function(i,L){return i&=65535,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,L&=65535,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,i|L<<1},V.deinterleave2=function(i,L){return i=i>>>L&1431655765,i=(i|i>>>1)&858993459,i=(i|i>>>2)&252645135,i=(i|i>>>4)&16711935,i=(i|i>>>16)&65535,i<<16>>16},V.interleave3=function(i,L,T){return i&=1023,i=(i|i<<16)&4278190335,i=(i|i<<8)&251719695,i=(i|i<<4)&3272356035,i=(i|i<<2)&1227133513,L&=1023,L=(L|L<<16)&4278190335,L=(L|L<<8)&251719695,L=(L|L<<4)&3272356035,L=(L|L<<2)&1227133513,i|=L<<1,T&=1023,T=(T|T<<16)&4278190335,T=(T|T<<8)&251719695,T=(T|T<<4)&3272356035,T=(T|T<<2)&1227133513,i|T<<2},V.deinterleave3=function(i,L){return i=i>>>L&1227133513,i=(i|i>>>2)&3272356035,i=(i|i>>>4)&251719695,i=(i|i>>>8)&4278190335,i=(i|i>>>16)&1023,i<<22>>22},V.nextCombination=function(i){var L=i|i-1;return L+1|(~L&-~L)-1>>>g(i)+1}},44781:function(G,V,e){var g=e(53435);G.exports=i;var R=1e20;function i(v,p){p||(p={});var t=p.cutoff==null?.25:p.cutoff,r=p.radius==null?8:p.radius,l=p.channel||0,n,s,c,u,y,h,b,f,o,d,A;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!p.width||!p.height)throw Error("For raw data width and height should be provided by options");n=p.width,s=p.height,u=v,p.stride?h=p.stride:h=Math.floor(v.length/n/s)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(f=v,b=f.getContext("2d"),n=f.width,s=f.height,o=b.getImageData(0,0,n,s),u=o.data,h=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(f=v.canvas,b=v,n=f.width,s=f.height,o=b.getImageData(0,0,n,s),u=o.data,h=4):window.ImageData&&v instanceof window.ImageData&&(o=v,n=v.width,s=v.height,u=o.data,h=4);if(c=Math.max(n,s),window.Uint8ClampedArray&&u instanceof window.Uint8ClampedArray||window.Uint8Array&&u instanceof window.Uint8Array)for(y=u,u=Array(n*s),d=0,A=y.length;d<A;d++)u[d]=y[d*h+l]/255;else if(h!==1)throw Error("Raw data can have only 1 value per pixel");var M=Array(n*s),C=Array(n*s),m=Array(c),S=Array(c),x=Array(c+1),a=Array(c);for(d=0,A=n*s;d<A;d++){var E=u[d];M[d]=E===1?0:E===0?R:Math.pow(Math.max(0,.5-E),2),C[d]=E===1?R:E===0?0:Math.pow(Math.max(0,E-.5),2)}L(M,n,s,m,S,a,x),L(C,n,s,m,S,a,x);var w=window.Float32Array?new Float32Array(n*s):new Array(n*s);for(d=0,A=n*s;d<A;d++)w[d]=g(1-((M[d]-C[d])/r+t),0,1);return w}function L(v,p,t,r,l,n,s){for(var c=0;c<p;c++){for(var u=0;u<t;u++)r[u]=v[u*p+c];for(T(r,l,n,s,t),u=0;u<t;u++)v[u*p+c]=l[u]}for(u=0;u<t;u++){for(c=0;c<p;c++)r[c]=v[u*p+c];for(T(r,l,n,s,p),c=0;c<p;c++)v[u*p+c]=Math.sqrt(l[c])}}function T(v,p,t,r,l){t[0]=0,r[0]=-R,r[1]=+R;for(var n=1,s=0;n<l;n++){for(var c=(v[n]+n*n-(v[t[s]]+t[s]*t[s]))/(2*n-2*t[s]);c<=r[s];)s--,c=(v[n]+n*n-(v[t[s]]+t[s]*t[s]))/(2*n-2*t[s]);s++,t[s]=n,r[s]=c,r[s+1]=+R}for(n=0,s=0;n<l;n++){for(;r[s+1]<n;)s++;p[n]=(n-t[s])*(n-t[s])+v[t[s]]}}},6614:function(G,V,e){var g=e(68318),R=e(68222),i=R(g("String.prototype.indexOf"));G.exports=function(T,v){var p=g(T,!!v);return typeof p=="function"&&i(T,".prototype.")>-1?R(p):p}},68222:function(G,V,e){var g=e(77575),R=e(68318),i=R("%Function.prototype.apply%"),L=R("%Function.prototype.call%"),T=R("%Reflect.apply%",!0)||g.call(L,i),v=R("%Object.getOwnPropertyDescriptor%",!0),p=R("%Object.defineProperty%",!0),t=R("%Math.max%");if(p)try{p({},"a",{value:1})}catch{p=null}G.exports=function(n){var s=T(g,L,arguments);if(v&&p){var c=v(s,"length");c.configurable&&p(s,"length",{value:1+t(0,n.length-(arguments.length-1))})}return s};var r=function(){return T(g,i,arguments)};p?p(G.exports,"apply",{value:r}):G.exports.apply=r},53435:function(G){G.exports=V;function V(e,g,R){return g<R?e<g?g:e>R?R:e:e<R?R:e>g?g:e}},6475:function(G,V,e){var g=e(53435);G.exports=R,G.exports.to=R,G.exports.from=i;function R(L,T){T==null&&(T=!0);var v=L[0],p=L[1],t=L[2],r=L[3];r==null&&(r=T?1:255),T&&(v*=255,p*=255,t*=255,r*=255),v=g(v,0,255)&255,p=g(p,0,255)&255,t=g(t,0,255)&255,r=g(r,0,255)&255;var l=v*16777216+(p<<16)+(t<<8)+r;return l}function i(L,T){L=+L;var v=L>>>24,p=(L&16711680)>>>16,t=(L&65280)>>>8,r=L&255;return T===!1?[v,p,t,r]:[v/255,p/255,t/255,r/255]}},76857:function(G){G.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(G,V,e){var g=e(36652),R=e(53435),i=e(90660);G.exports=function(v,p){(p==="float"||!p)&&(p="array"),p==="uint"&&(p="uint8"),p==="uint_clamped"&&(p="uint8_clamped");var t=i(p),r=new t(4),l=p!=="uint8"&&p!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=g(v),v[0]/=255,v[1]/=255,v[2]/=255),L(v)?(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3]!=null?v[3]:255,l&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(l?(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3]!=null?v[3]:1):(r[0]=R(Math.floor(v[0]*255),0,255),r[1]=R(Math.floor(v[1]*255),0,255),r[2]=R(Math.floor(v[2]*255),0,255),r[3]=v[3]==null?255:R(Math.floor(v[3]*255),0,255)),r)};function L(T){return!!(T instanceof Uint8Array||T instanceof Uint8ClampedArray||Array.isArray(T)&&(T[0]>1||T[0]===0)&&(T[1]>1||T[1]===0)&&(T[2]>1||T[2]===0)&&(!T[3]||T[3]>1))}},90736:function(G,V,e){var g=e(76857),R=e(10973),i=e(46775);G.exports=T;var L={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function T(v){var p,t=[],r=1,l;if(typeof v=="string")if(g[v])t=g[v].slice(),l="rgb";else if(v==="transparent")r=0,l="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(v)){var n=v.slice(1),s=n.length,c=s<=4;r=1,c?(t=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],s===4&&(r=parseInt(n[3]+n[3],16)/255)):(t=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],s===8&&(r=parseInt(n[6]+n[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),l="rgb"}else if(p=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(v)){var u=p[1],y=u==="rgb",n=u.replace(/a$/,"");l=n;var s=n==="cmyk"?4:n==="gray"?1:3;t=p[2].trim().split(/\s*,\s*/).map(function(o,d){if(/%$/.test(o))return d===s?parseFloat(o)/100:n==="rgb"?parseFloat(o)*255/100:parseFloat(o);if(n[d]==="h"){if(/deg$/.test(o))return parseFloat(o);if(L[o]!==void 0)return L[o]}return parseFloat(o)}),u===n&&t.push(1),r=y||t[s]===void 0?1:t[s],t=t.slice(0,s)}else v.length>10&&/[0-9](?:\s|\/)/.test(v)&&(t=v.match(/([0-9]+)/g).map(function(b){return parseFloat(b)}),l=v.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(v))l="rgb",t=[v>>>16,(v&65280)>>>8,v&255];else if(R(v)){var h=i(v.r,v.red,v.R,null);h!==null?(l="rgb",t=[h,i(v.g,v.green,v.G),i(v.b,v.blue,v.B)]):(l="hsl",t=[i(v.h,v.hue,v.H),i(v.s,v.saturation,v.S),i(v.l,v.lightness,v.L,v.b,v.brightness)]),r=i(v.a,v.alpha,v.opacity,1),v.opacity!=null&&(r/=100)}else(Array.isArray(v)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v))&&(t=[v[0],v[1],v[2]],l="rgb",r=v.length===4?v[3]:1);return{space:l,values:t,alpha:r}}},36652:function(G,V,e){var g=e(90736),R=e(80009),i=e(53435);G.exports=function(T){var v,p=g(T);return p.space?(v=Array(3),v[0]=i(p.values[0],0,255),v[1]=i(p.values[1],0,255),v[2]=i(p.values[2],0,255),p.space[0]==="h"&&(v=R.rgb(v)),v.push(i(p.alpha,0,1)),v):[]}},80009:function(G,V,e){var g=e(6866);G.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(R){var i=R[0]/360,L=R[1]/100,T=R[2]/100,v,p,t,r,l;if(L===0)return l=T*255,[l,l,l];T<.5?p=T*(1+L):p=T+L-T*L,v=2*T-p,r=[0,0,0];for(var n=0;n<3;n++)t=i+.3333333333333333*-(n-1),t<0?t++:t>1&&t--,6*t<1?l=v+(p-v)*6*t:2*t<1?l=p:3*t<2?l=v+(p-v)*(.6666666666666666-t)*6:l=v,r[n]=l*255;return r}},g.hsl=function(R){var i=R[0]/255,L=R[1]/255,T=R[2]/255,v=Math.min(i,L,T),p=Math.max(i,L,T),t=p-v,r,l,n;return p===v?r=0:i===p?r=(L-T)/t:L===p?r=2+(T-i)/t:T===p&&(r=4+(i-L)/t),r=Math.min(r*60,360),r<0&&(r+=360),n=(v+p)/2,p===v?l=0:n<=.5?l=t/(p+v):l=t/(2-p-v),[r,l*100,n*100]}},6866:function(G){G.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(G){G.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(G,V,e){G.exports={parse:e(41004),stringify:e(53313)}},63625:function(G,V,e){var g=e(40402);G.exports={isSize:function(i){return/^[\d\.]/.test(i)||i.indexOf("/")!==-1||g.indexOf(i)!==-1}}},41004:function(G,V,e){var g=e(90448),R=e(38732),i=e(41901),L=e(15659),T=e(96209),v=e(83794),p=e(99011),t=e(63625).isSize;G.exports=l;var r=l.cache={};function l(s){if(typeof s!="string")throw new Error("Font argument must be a string.");if(r[s])return r[s];if(s==="")throw new Error("Cannot parse an empty string.");if(i.indexOf(s)!==-1)return r[s]={system:s};for(var c={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},u=p(s,/\s+/),y;y=u.shift();){if(R.indexOf(y)!==-1)return["style","variant","weight","stretch"].forEach(function(b){c[b]=y}),r[s]=c;if(T.indexOf(y)!==-1){c.style=y;continue}if(y==="normal"||y==="small-caps"){c.variant=y;continue}if(v.indexOf(y)!==-1){c.stretch=y;continue}if(L.indexOf(y)!==-1){c.weight=y;continue}if(t(y)){var h=p(y,"/");if(c.size=h[0],h[1]!=null?c.lineHeight=n(h[1]):u[0]==="/"&&(u.shift(),c.lineHeight=n(u.shift())),!u.length)throw new Error("Missing required font-family.");return c.family=p(u.join(" "),/\s*,\s*/).map(g),r[s]=c}throw new Error("Unknown or unsupported font token: "+y)}throw new Error("Missing required font-size.")}function n(s){var c=parseFloat(s);return c.toString()===s?c:s}},53313:function(G,V,e){var g=e(71299),R=e(63625).isSize,i=s(e(38732)),L=s(e(41901)),T=s(e(15659)),v=s(e(96209)),p=s(e(83794)),t={normal:1,"small-caps":1},r={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},l={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};G.exports=function(u){if(u=g(u,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),u.system)return u.system&&n(u.system,L),u.system;if(n(u.style,v),n(u.variant,t),n(u.weight,T),n(u.stretch,p),u.size==null&&(u.size=l.size),typeof u.size=="number"&&(u.size+="px"),!R)throw Error("Bad size value `"+u.size+"`");u.family||(u.family=l.family),Array.isArray(u.family)&&(u.family.length||(u.family=[l.family]),u.family=u.family.map(function(h){return r[h]?h:'"'+h+'"'}).join(", "));var y=[];return y.push(u.style),u.variant!==u.style&&y.push(u.variant),u.weight!==u.variant&&u.weight!==u.style&&y.push(u.weight),u.stretch!==u.weight&&u.stretch!==u.variant&&u.stretch!==u.style&&y.push(u.stretch),y.push(u.size+(u.lineHeight==null||u.lineHeight==="normal"||u.lineHeight+""=="1"?"":"/"+u.lineHeight)),y.push(u.family),y.filter(Boolean).join(" ")};function n(c,u){if(c&&!u[c]&&!i[c])throw Error("Unknown keyword `"+c+"`");return c}function s(c){for(var u={},y=0;y<c.length;y++)u[c[y]]=1;return u}},55174:function(G,V,e){var g=e(24582),R=e(10424),i=e(82527),L=e(19012),T=e(21780),v=e(16906),p=Function.prototype.bind,t=Object.defineProperty,r=Object.prototype.hasOwnProperty,l;l=function(n,s,c){var u=R(s)&&i(s.value),y;return y=L(s),delete y.writable,delete y.value,y.get=function(){return!c.overwriteDefinition&&r.call(this,n)?u:(s.value=p.call(u,c.resolveContext?c.resolveContext(this):this),t(this,n,s),this[n])},y},G.exports=function(n){var s=T(arguments[1]);return g(s.resolveContext)&&i(s.resolveContext),v(n,function(c,u){return l(u,c,s)})}},62072:function(G,V,e){var g=e(24582),R=e(84985),i=e(95879),L=e(21780),T=e(66741),v=G.exports=function(p,t){var r,l,n,s,c;return arguments.length<2||typeof p!="string"?(s=t,t=p,p=null):s=arguments[2],g(p)?(r=T.call(p,"c"),l=T.call(p,"e"),n=T.call(p,"w")):(r=n=!0,l=!1),c={value:t,configurable:r,enumerable:l,writable:n},s?i(L(s),c):c};v.gs=function(p,t,r){var l,n,s,c;return typeof p!="string"?(s=r,r=t,t=p,p=null):s=arguments[3],g(t)?R(t)?g(r)?R(r)||(s=r,r=void 0):r=void 0:(s=t,t=r=void 0):t=void 0,g(p)?(l=T.call(p,"c"),n=T.call(p,"e")):(l=!0,n=!1),c={get:t,set:r,configurable:l,enumerable:n},s?i(L(s),c):c}},33064:function(G,V,e){e.d(V,{j2:function(){return g},Fp:function(){return L},J6:function(){return v},TS:function(){return p},VV:function(){return t},w6:function(){return r},Sm:function(){return l}});function g(n,s){return n<s?-1:n>s?1:n>=s?0:NaN}function R(n){return n.length===1&&(n=i(n)),{left:function(s,c,u,y){for(u==null&&(u=0),y==null&&(y=s.length);u<y;){var h=u+y>>>1;n(s[h],c)<0?u=h+1:y=h}return u},right:function(s,c,u,y){for(u==null&&(u=0),y==null&&(y=s.length);u<y;){var h=u+y>>>1;n(s[h],c)>0?y=h:u=h+1}return u}}}function i(n){return function(s,c){return g(n(s),c)}}R(g);function L(n,s){var c=n.length,u=-1,y,h;if(s==null){for(;++u<c;)if((y=n[u])!=null&&y>=y)for(h=y;++u<c;)(y=n[u])!=null&&y>h&&(h=y)}else for(;++u<c;)if((y=s(n[u],u,n))!=null&&y>=y)for(h=y;++u<c;)(y=s(n[u],u,n))!=null&&y>h&&(h=y);return h}function T(n){return n===null?NaN:+n}function v(n,s){var c=n.length,u=c,y=-1,h,b=0;if(s==null)for(;++y<c;)isNaN(h=T(n[y]))?--u:b+=h;else for(;++y<c;)isNaN(h=T(s(n[y],y,n)))?--u:b+=h;if(u)return b/u}function p(n){for(var s=n.length,c,u=-1,y=0,h,b;++u<s;)y+=n[u].length;for(h=new Array(y);--s>=0;)for(b=n[s],c=b.length;--c>=0;)h[--y]=b[c];return h}function t(n,s){var c=n.length,u=-1,y,h;if(s==null){for(;++u<c;)if((y=n[u])!=null&&y>=y)for(h=y;++u<c;)(y=n[u])!=null&&h>y&&(h=y)}else for(;++u<c;)if((y=s(n[u],u,n))!=null&&y>=y)for(h=y;++u<c;)(y=s(n[u],u,n))!=null&&h>y&&(h=y);return h}function r(n,s,c){n=+n,s=+s,c=(y=arguments.length)<2?(s=n,n=0,1):y<3?1:+c;for(var u=-1,y=Math.max(0,Math.ceil((s-n)/c))|0,h=new Array(y);++u<y;)h[u]=n+u*c;return h}function l(n,s){var c=n.length,u=-1,y,h=0;if(s==null)for(;++u<c;)(y=+n[u])&&(h+=y);else for(;++u<c;)(y=+s(n[u],u,n))&&(h+=y);return h}},15140:function(G,V,e){e.d(V,{UI:function(){return L},b1:function(){return T}});var g="$";function R(){}R.prototype=i.prototype={constructor:R,has:function(s){return g+s in this},get:function(s){return this[g+s]},set:function(s,c){return this[g+s]=c,this},remove:function(s){var c=g+s;return c in this&&delete this[c]},clear:function(){for(var s in this)s[0]===g&&delete this[s]},keys:function(){var s=[];for(var c in this)c[0]===g&&s.push(c.slice(1));return s},values:function(){var s=[];for(var c in this)c[0]===g&&s.push(this[c]);return s},entries:function(){var s=[];for(var c in this)c[0]===g&&s.push({key:c.slice(1),value:this[c]});return s},size:function(){var s=0;for(var c in this)c[0]===g&&++s;return s},empty:function(){for(var s in this)if(s[0]===g)return!1;return!0},each:function(s){for(var c in this)c[0]===g&&s(this[c],c.slice(1),this)}};function i(s,c){var u=new R;if(s instanceof R)s.each(function(o,d){u.set(d,o)});else if(Array.isArray(s)){var y=-1,h=s.length,b;if(c==null)for(;++y<h;)u.set(y,s[y]);else for(;++y<h;)u.set(c(b=s[y],y,s),b)}else if(s)for(var f in s)u.set(f,s[f]);return u}var L=i;function T(){var s=[],c=[],u,y,h;function b(o,d,A,M){if(d>=s.length)return u!=null&&o.sort(u),y!=null?y(o):o;for(var C=-1,m=o.length,S=s[d++],x,a,E=L(),w,k=A();++C<m;)(w=E.get(x=S(a=o[C])+""))?w.push(a):E.set(x,[a]);return E.each(function(I,U){M(k,U,b(I,d,A,M))}),k}function f(o,d){if(++d>s.length)return o;var A,M=c[d-1];return y!=null&&d>=s.length?A=o.entries():(A=[],o.each(function(C,m){A.push({key:m,values:f(C,d)})})),M!=null?A.sort(function(C,m){return M(C.key,m.key)}):A}return h={object:function(o){return b(o,0,v,p)},map:function(o){return b(o,0,t,r)},entries:function(o){return f(b(o,0,t,r),0)},key:function(o){return s.push(o),h},sortKeys:function(o){return c[s.length-1]=o,h},sortValues:function(o){return u=o,h},rollup:function(o){return y=o,h}}}function v(){return{}}function p(s,c,u){s[c]=u}function t(){return L()}function r(s,c,u){s.set(c,u)}function l(){}var n=L.prototype;l.prototype={constructor:l,has:n.has,add:function(s){return s+="",this[g+s]=s,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49887:function(G,V,e){e.r(V),e.d(V,{forceCenter:function(){return g},forceCollide:function(){return E},forceLink:function(){return U},forceManyBody:function(){return Ge},forceRadial:function(){return nt},forceSimulation:function(){return Pe},forceX:function(){return qe},forceY:function(){return Ke}});function g($e,vt){var yt;$e==null&&($e=0),vt==null&&(vt=0);function mt(){var Et,Xe=yt.length,Ue,Be=0,rt=0;for(Et=0;Et<Xe;++Et)Ue=yt[Et],Be+=Ue.x,rt+=Ue.y;for(Be=Be/Xe-$e,rt=rt/Xe-vt,Et=0;Et<Xe;++Et)Ue=yt[Et],Ue.x-=Be,Ue.y-=rt}return mt.initialize=function(Et){yt=Et},mt.x=function(Et){return arguments.length?($e=+Et,mt):$e},mt.y=function(Et){return arguments.length?(vt=+Et,mt):vt},mt}function R($e){return function(){return $e}}function i(){return(Math.random()-.5)*1e-6}function L($e){var vt=+this._x.call(null,$e),yt=+this._y.call(null,$e);return T(this.cover(vt,yt),vt,yt,$e)}function T($e,vt,yt,mt){if(isNaN(vt)||isNaN(yt))return $e;var Et,Xe=$e._root,Ue={data:mt},Be=$e._x0,rt=$e._y0,it=$e._x1,Ye=$e._y1,De,Te,fe,me,Re,Oe,st,ut;if(!Xe)return $e._root=Ue,$e;for(;Xe.length;)if((Re=vt>=(De=(Be+it)/2))?Be=De:it=De,(Oe=yt>=(Te=(rt+Ye)/2))?rt=Te:Ye=Te,Et=Xe,!(Xe=Xe[st=Oe<<1|Re]))return Et[st]=Ue,$e;if(fe=+$e._x.call(null,Xe.data),me=+$e._y.call(null,Xe.data),vt===fe&&yt===me)return Ue.next=Xe,Et?Et[st]=Ue:$e._root=Ue,$e;do Et=Et?Et[st]=new Array(4):$e._root=new Array(4),(Re=vt>=(De=(Be+it)/2))?Be=De:it=De,(Oe=yt>=(Te=(rt+Ye)/2))?rt=Te:Ye=Te;while((st=Oe<<1|Re)===(ut=(me>=Te)<<1|fe>=De));return Et[ut]=Xe,Et[st]=Ue,$e}function v($e){var vt,yt,mt=$e.length,Et,Xe,Ue=new Array(mt),Be=new Array(mt),rt=1/0,it=1/0,Ye=-1/0,De=-1/0;for(yt=0;yt<mt;++yt)isNaN(Et=+this._x.call(null,vt=$e[yt]))||isNaN(Xe=+this._y.call(null,vt))||(Ue[yt]=Et,Be[yt]=Xe,Et<rt&&(rt=Et),Et>Ye&&(Ye=Et),Xe<it&&(it=Xe),Xe>De&&(De=Xe));if(rt>Ye||it>De)return this;for(this.cover(rt,it).cover(Ye,De),yt=0;yt<mt;++yt)T(this,Ue[yt],Be[yt],$e[yt]);return this}function p($e,vt){if(isNaN($e=+$e)||isNaN(vt=+vt))return this;var yt=this._x0,mt=this._y0,Et=this._x1,Xe=this._y1;if(isNaN(yt))Et=(yt=Math.floor($e))+1,Xe=(mt=Math.floor(vt))+1;else{for(var Ue=Et-yt,Be=this._root,rt,it;yt>$e||$e>=Et||mt>vt||vt>=Xe;)switch(it=(vt<mt)<<1|$e<yt,rt=new Array(4),rt[it]=Be,Be=rt,Ue*=2,it){case 0:Et=yt+Ue,Xe=mt+Ue;break;case 1:yt=Et-Ue,Xe=mt+Ue;break;case 2:Et=yt+Ue,mt=Xe-Ue;break;case 3:yt=Et-Ue,mt=Xe-Ue;break}this._root&&this._root.length&&(this._root=Be)}return this._x0=yt,this._y0=mt,this._x1=Et,this._y1=Xe,this}function t(){var $e=[];return this.visit(function(vt){if(!vt.length)do $e.push(vt.data);while(vt=vt.next)}),$e}function r($e){return arguments.length?this.cover(+$e[0][0],+$e[0][1]).cover(+$e[1][0],+$e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function l($e,vt,yt,mt,Et){this.node=$e,this.x0=vt,this.y0=yt,this.x1=mt,this.y1=Et}function n($e,vt,yt){var mt,Et=this._x0,Xe=this._y0,Ue,Be,rt,it,Ye=this._x1,De=this._y1,Te=[],fe=this._root,me,Re;for(fe&&Te.push(new l(fe,Et,Xe,Ye,De)),yt==null?yt=1/0:(Et=$e-yt,Xe=vt-yt,Ye=$e+yt,De=vt+yt,yt*=yt);me=Te.pop();)if(!(!(fe=me.node)||(Ue=me.x0)>Ye||(Be=me.y0)>De||(rt=me.x1)<Et||(it=me.y1)<Xe))if(fe.length){var Oe=(Ue+rt)/2,st=(Be+it)/2;Te.push(new l(fe[3],Oe,st,rt,it),new l(fe[2],Ue,st,Oe,it),new l(fe[1],Oe,Be,rt,st),new l(fe[0],Ue,Be,Oe,st)),(Re=(vt>=st)<<1|$e>=Oe)&&(me=Te[Te.length-1],Te[Te.length-1]=Te[Te.length-1-Re],Te[Te.length-1-Re]=me)}else{var ut=$e-+this._x.call(null,fe.data),Tt=vt-+this._y.call(null,fe.data),It=ut*ut+Tt*Tt;if(It<yt){var Gt=Math.sqrt(yt=It);Et=$e-Gt,Xe=vt-Gt,Ye=$e+Gt,De=vt+Gt,mt=fe.data}}return mt}function s($e){if(isNaN(Ye=+this._x.call(null,$e))||isNaN(De=+this._y.call(null,$e)))return this;var vt,yt=this._root,mt,Et,Xe,Ue=this._x0,Be=this._y0,rt=this._x1,it=this._y1,Ye,De,Te,fe,me,Re,Oe,st;if(!yt)return this;if(yt.length)for(;;){if((me=Ye>=(Te=(Ue+rt)/2))?Ue=Te:rt=Te,(Re=De>=(fe=(Be+it)/2))?Be=fe:it=fe,vt=yt,!(yt=yt[Oe=Re<<1|me]))return this;if(!yt.length)break;(vt[Oe+1&3]||vt[Oe+2&3]||vt[Oe+3&3])&&(mt=vt,st=Oe)}for(;yt.data!==$e;)if(Et=yt,!(yt=yt.next))return this;return(Xe=yt.next)&&delete yt.next,Et?(Xe?Et.next=Xe:delete Et.next,this):vt?(Xe?vt[Oe]=Xe:delete vt[Oe],(yt=vt[0]||vt[1]||vt[2]||vt[3])&&yt===(vt[3]||vt[2]||vt[1]||vt[0])&&!yt.length&&(mt?mt[st]=yt:this._root=yt),this):(this._root=Xe,this)}function c($e){for(var vt=0,yt=$e.length;vt<yt;++vt)this.remove($e[vt]);return this}function u(){return this._root}function y(){var $e=0;return this.visit(function(vt){if(!vt.length)do++$e;while(vt=vt.next)}),$e}function h($e){var vt=[],yt,mt=this._root,Et,Xe,Ue,Be,rt;for(mt&&vt.push(new l(mt,this._x0,this._y0,this._x1,this._y1));yt=vt.pop();)if(!$e(mt=yt.node,Xe=yt.x0,Ue=yt.y0,Be=yt.x1,rt=yt.y1)&&mt.length){var it=(Xe+Be)/2,Ye=(Ue+rt)/2;(Et=mt[3])&&vt.push(new l(Et,it,Ye,Be,rt)),(Et=mt[2])&&vt.push(new l(Et,Xe,Ye,it,rt)),(Et=mt[1])&&vt.push(new l(Et,it,Ue,Be,Ye)),(Et=mt[0])&&vt.push(new l(Et,Xe,Ue,it,Ye))}return this}function b($e){var vt=[],yt=[],mt;for(this._root&&vt.push(new l(this._root,this._x0,this._y0,this._x1,this._y1));mt=vt.pop();){var Et=mt.node;if(Et.length){var Xe,Ue=mt.x0,Be=mt.y0,rt=mt.x1,it=mt.y1,Ye=(Ue+rt)/2,De=(Be+it)/2;(Xe=Et[0])&&vt.push(new l(Xe,Ue,Be,Ye,De)),(Xe=Et[1])&&vt.push(new l(Xe,Ye,Be,rt,De)),(Xe=Et[2])&&vt.push(new l(Xe,Ue,De,Ye,it)),(Xe=Et[3])&&vt.push(new l(Xe,Ye,De,rt,it))}yt.push(mt)}for(;mt=yt.pop();)$e(mt.node,mt.x0,mt.y0,mt.x1,mt.y1);return this}function f($e){return $e[0]}function o($e){return arguments.length?(this._x=$e,this):this._x}function d($e){return $e[1]}function A($e){return arguments.length?(this._y=$e,this):this._y}function M($e,vt,yt){var mt=new C(vt??f,yt??d,NaN,NaN,NaN,NaN);return $e==null?mt:mt.addAll($e)}function C($e,vt,yt,mt,Et,Xe){this._x=$e,this._y=vt,this._x0=yt,this._y0=mt,this._x1=Et,this._y1=Xe,this._root=void 0}function m($e){for(var vt={data:$e.data},yt=vt;$e=$e.next;)yt=yt.next={data:$e.data};return vt}var S=M.prototype=C.prototype;S.copy=function(){var $e=new C(this._x,this._y,this._x0,this._y0,this._x1,this._y1),vt=this._root,yt,mt;if(!vt)return $e;if(!vt.length)return $e._root=m(vt),$e;for(yt=[{source:vt,target:$e._root=new Array(4)}];vt=yt.pop();)for(var Et=0;Et<4;++Et)(mt=vt.source[Et])&&(mt.length?yt.push({source:mt,target:vt.target[Et]=new Array(4)}):vt.target[Et]=m(mt));return $e},S.add=L,S.addAll=v,S.cover=p,S.data=t,S.extent=r,S.find=n,S.remove=s,S.removeAll=c,S.root=u,S.size=y,S.visit=h,S.visitAfter=b,S.x=o,S.y=A;function x($e){return $e.x+$e.vx}function a($e){return $e.y+$e.vy}function E($e){var vt,yt,mt=1,Et=1;typeof $e!="function"&&($e=R($e==null?1:+$e));function Xe(){for(var rt,it=vt.length,Ye,De,Te,fe,me,Re,Oe=0;Oe<Et;++Oe)for(Ye=M(vt,x,a).visitAfter(Ue),rt=0;rt<it;++rt)De=vt[rt],me=yt[De.index],Re=me*me,Te=De.x+De.vx,fe=De.y+De.vy,Ye.visit(st);function st(ut,Tt,It,Gt,jt){var Pt=ut.data,Qt=ut.r,or=me+Qt;if(Pt){if(Pt.index>De.index){var zr=Te-Pt.x-Pt.vx,bt=fe-Pt.y-Pt.vy,Jt=zr*zr+bt*bt;Jt<or*or&&(zr===0&&(zr=i(),Jt+=zr*zr),bt===0&&(bt=i(),Jt+=bt*bt),Jt=(or-(Jt=Math.sqrt(Jt)))/Jt*mt,De.vx+=(zr*=Jt)*(or=(Qt*=Qt)/(Re+Qt)),De.vy+=(bt*=Jt)*or,Pt.vx-=zr*(or=1-or),Pt.vy-=bt*or)}return}return Tt>Te+or||Gt<Te-or||It>fe+or||jt<fe-or}}function Ue(rt){if(rt.data)return rt.r=yt[rt.data.index];for(var it=rt.r=0;it<4;++it)rt[it]&&rt[it].r>rt.r&&(rt.r=rt[it].r)}function Be(){if(vt){var rt,it=vt.length,Ye;for(yt=new Array(it),rt=0;rt<it;++rt)Ye=vt[rt],yt[Ye.index]=+$e(Ye,rt,vt)}}return Xe.initialize=function(rt){vt=rt,Be()},Xe.iterations=function(rt){return arguments.length?(Et=+rt,Xe):Et},Xe.strength=function(rt){return arguments.length?(mt=+rt,Xe):mt},Xe.radius=function(rt){return arguments.length?($e=typeof rt=="function"?rt:R(+rt),Be(),Xe):$e},Xe}var w=e(15140);function k($e){return $e.index}function I($e,vt){var yt=$e.get(vt);if(!yt)throw new Error("missing: "+vt);return yt}function U($e){var vt=k,yt=Ye,mt,Et=R(30),Xe,Ue,Be,rt,it=1;$e==null&&($e=[]);function Ye(Re){return 1/Math.min(Be[Re.source.index],Be[Re.target.index])}function De(Re){for(var Oe=0,st=$e.length;Oe<it;++Oe)for(var ut=0,Tt,It,Gt,jt,Pt,Qt,or;ut<st;++ut)Tt=$e[ut],It=Tt.source,Gt=Tt.target,jt=Gt.x+Gt.vx-It.x-It.vx||i(),Pt=Gt.y+Gt.vy-It.y-It.vy||i(),Qt=Math.sqrt(jt*jt+Pt*Pt),Qt=(Qt-Xe[ut])/Qt*Re*mt[ut],jt*=Qt,Pt*=Qt,Gt.vx-=jt*(or=rt[ut]),Gt.vy-=Pt*or,It.vx+=jt*(or=1-or),It.vy+=Pt*or}function Te(){if(Ue){var Re,Oe=Ue.length,st=$e.length,ut=(0,w.UI)(Ue,vt),Tt;for(Re=0,Be=new Array(Oe);Re<st;++Re)Tt=$e[Re],Tt.index=Re,typeof Tt.source!="object"&&(Tt.source=I(ut,Tt.source)),typeof Tt.target!="object"&&(Tt.target=I(ut,Tt.target)),Be[Tt.source.index]=(Be[Tt.source.index]||0)+1,Be[Tt.target.index]=(Be[Tt.target.index]||0)+1;for(Re=0,rt=new Array(st);Re<st;++Re)Tt=$e[Re],rt[Re]=Be[Tt.source.index]/(Be[Tt.source.index]+Be[Tt.target.index]);mt=new Array(st),fe(),Xe=new Array(st),me()}}function fe(){if(Ue)for(var Re=0,Oe=$e.length;Re<Oe;++Re)mt[Re]=+yt($e[Re],Re,$e)}function me(){if(Ue)for(var Re=0,Oe=$e.length;Re<Oe;++Re)Xe[Re]=+Et($e[Re],Re,$e)}return De.initialize=function(Re){Ue=Re,Te()},De.links=function(Re){return arguments.length?($e=Re,Te(),De):$e},De.id=function(Re){return arguments.length?(vt=Re,De):vt},De.iterations=function(Re){return arguments.length?(it=+Re,De):it},De.strength=function(Re){return arguments.length?(yt=typeof Re=="function"?Re:R(+Re),fe(),De):yt},De.distance=function(Re){return arguments.length?(Et=typeof Re=="function"?Re:R(+Re),me(),De):Et},De}var z={value:function(){}};function N(){for(var $e=0,vt=arguments.length,yt={},mt;$e<vt;++$e){if(!(mt=arguments[$e]+"")||mt in yt||/[\s.]/.test(mt))throw new Error("illegal type: "+mt);yt[mt]=[]}return new B(yt)}function B($e){this._=$e}function F($e,vt){return $e.trim().split(/^|\s+/).map(function(yt){var mt="",Et=yt.indexOf(".");if(Et>=0&&(mt=yt.slice(Et+1),yt=yt.slice(0,Et)),yt&&!vt.hasOwnProperty(yt))throw new Error("unknown type: "+yt);return{type:yt,name:mt}})}B.prototype=N.prototype={constructor:B,on:function($e,vt){var yt=this._,mt=F($e+"",yt),Et,Xe=-1,Ue=mt.length;if(arguments.length<2){for(;++Xe<Ue;)if((Et=($e=mt[Xe]).type)&&(Et=H(yt[Et],$e.name)))return Et;return}if(vt!=null&&typeof vt!="function")throw new Error("invalid callback: "+vt);for(;++Xe<Ue;)if(Et=($e=mt[Xe]).type)yt[Et]=X(yt[Et],$e.name,vt);else if(vt==null)for(Et in yt)yt[Et]=X(yt[Et],$e.name,null);return this},copy:function(){var $e={},vt=this._;for(var yt in vt)$e[yt]=vt[yt].slice();return new B($e)},call:function($e,vt){if((Et=arguments.length-2)>0)for(var yt=new Array(Et),mt=0,Et,Xe;mt<Et;++mt)yt[mt]=arguments[mt+2];if(!this._.hasOwnProperty($e))throw new Error("unknown type: "+$e);for(Xe=this._[$e],mt=0,Et=Xe.length;mt<Et;++mt)Xe[mt].value.apply(vt,yt)},apply:function($e,vt,yt){if(!this._.hasOwnProperty($e))throw new Error("unknown type: "+$e);for(var mt=this._[$e],Et=0,Xe=mt.length;Et<Xe;++Et)mt[Et].value.apply(vt,yt)}};function H($e,vt){for(var yt=0,mt=$e.length,Et;yt<mt;++yt)if((Et=$e[yt]).name===vt)return Et.value}function X($e,vt,yt){for(var mt=0,Et=$e.length;mt<Et;++mt)if($e[mt].name===vt){$e[mt]=z,$e=$e.slice(0,mt).concat($e.slice(mt+1));break}return yt!=null&&$e.push({name:vt,value:yt}),$e}var q=N,ne=0,oe=0,ve=0,J=1e3,Y,j,K=0,te=0,se=0,Q=typeof performance=="object"&&performance.now?performance:Date,ee=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function($e){setTimeout($e,17)};function le(){return te||(ee(ie),te=Q.now()+se)}function ie(){te=0}function he(){this._call=this._time=this._next=null}he.prototype=xe.prototype={constructor:he,restart:function($e,vt,yt){if(typeof $e!="function")throw new TypeError("callback is not a function");yt=(yt==null?le():+yt)+(vt==null?0:+vt),!this._next&&j!==this&&(j?j._next=this:Y=this,j=this),this._call=$e,this._time=yt,Ce()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ce())}};function xe($e,vt,yt){var mt=new he;return mt.restart($e,vt,yt),mt}function Se(){le(),++ne;for(var $e=Y,vt;$e;)(vt=te-$e._time)>=0&&$e._call.call(null,vt),$e=$e._next;--ne}function Ee(){te=(K=Q.now())+se,ne=oe=0;try{Se()}finally{ne=0,He(),te=0}}function Ne(){var $e=Q.now(),vt=$e-K;vt>J&&(se-=vt,K=$e)}function He(){for(var $e,vt=Y,yt,mt=1/0;vt;)vt._call?(mt>vt._time&&(mt=vt._time),$e=vt,vt=vt._next):(yt=vt._next,vt._next=null,vt=$e?$e._next=yt:Y=yt);j=$e,Ce(mt)}function Ce($e){if(!ne){oe&&(oe=clearTimeout(oe));var vt=$e-te;vt>24?($e<1/0&&(oe=setTimeout(Ee,$e-Q.now()-se)),ve&&(ve=clearInterval(ve))):(ve||(K=Q.now(),ve=setInterval(Ne,J)),ne=1,ee(Ee))}}function be($e){return $e.x}function we($e){return $e.y}var ke=10,Fe=Math.PI*(3-Math.sqrt(5));function Pe($e){var vt,yt=1,mt=.001,Et=1-Math.pow(mt,1/300),Xe=0,Ue=.6,Be=(0,w.UI)(),rt=xe(Ye),it=q("tick","end");$e==null&&($e=[]);function Ye(){De(),it.call("tick",vt),yt<mt&&(rt.stop(),it.call("end",vt))}function De(me){var Re,Oe=$e.length,st;me===void 0&&(me=1);for(var ut=0;ut<me;++ut)for(yt+=(Xe-yt)*Et,Be.each(function(Tt){Tt(yt)}),Re=0;Re<Oe;++Re)st=$e[Re],st.fx==null?st.x+=st.vx*=Ue:(st.x=st.fx,st.vx=0),st.fy==null?st.y+=st.vy*=Ue:(st.y=st.fy,st.vy=0);return vt}function Te(){for(var me=0,Re=$e.length,Oe;me<Re;++me){if(Oe=$e[me],Oe.index=me,Oe.fx!=null&&(Oe.x=Oe.fx),Oe.fy!=null&&(Oe.y=Oe.fy),isNaN(Oe.x)||isNaN(Oe.y)){var st=ke*Math.sqrt(me),ut=me*Fe;Oe.x=st*Math.cos(ut),Oe.y=st*Math.sin(ut)}(isNaN(Oe.vx)||isNaN(Oe.vy))&&(Oe.vx=Oe.vy=0)}}function fe(me){return me.initialize&&me.initialize($e),me}return Te(),vt={tick:De,restart:function(){return rt.restart(Ye),vt},stop:function(){return rt.stop(),vt},nodes:function(me){return arguments.length?($e=me,Te(),Be.each(fe),vt):$e},alpha:function(me){return arguments.length?(yt=+me,vt):yt},alphaMin:function(me){return arguments.length?(mt=+me,vt):mt},alphaDecay:function(me){return arguments.length?(Et=+me,vt):+Et},alphaTarget:function(me){return arguments.length?(Xe=+me,vt):Xe},velocityDecay:function(me){return arguments.length?(Ue=1-me,vt):1-Ue},force:function(me,Re){return arguments.length>1?(Re==null?Be.remove(me):Be.set(me,fe(Re)),vt):Be.get(me)},find:function(me,Re,Oe){var st=0,ut=$e.length,Tt,It,Gt,jt,Pt;for(Oe==null?Oe=1/0:Oe*=Oe,st=0;st<ut;++st)jt=$e[st],Tt=me-jt.x,It=Re-jt.y,Gt=Tt*Tt+It*It,Gt<Oe&&(Pt=jt,Oe=Gt);return Pt},on:function(me,Re){return arguments.length>1?(it.on(me,Re),vt):it.on(me)}}}function Ge(){var $e,vt,yt,mt=R(-30),Et,Xe=1,Ue=1/0,Be=.81;function rt(Te){var fe,me=$e.length,Re=M($e,be,we).visitAfter(Ye);for(yt=Te,fe=0;fe<me;++fe)vt=$e[fe],Re.visit(De)}function it(){if($e){var Te,fe=$e.length,me;for(Et=new Array(fe),Te=0;Te<fe;++Te)me=$e[Te],Et[me.index]=+mt(me,Te,$e)}}function Ye(Te){var fe=0,me,Re,Oe=0,st,ut,Tt;if(Te.length){for(st=ut=Tt=0;Tt<4;++Tt)(me=Te[Tt])&&(Re=Math.abs(me.value))&&(fe+=me.value,Oe+=Re,st+=Re*me.x,ut+=Re*me.y);Te.x=st/Oe,Te.y=ut/Oe}else{me=Te,me.x=me.data.x,me.y=me.data.y;do fe+=Et[me.data.index];while(me=me.next)}Te.value=fe}function De(Te,fe,me,Re){if(!Te.value)return!0;var Oe=Te.x-vt.x,st=Te.y-vt.y,ut=Re-fe,Tt=Oe*Oe+st*st;if(ut*ut/Be<Tt)return Tt<Ue&&(Oe===0&&(Oe=i(),Tt+=Oe*Oe),st===0&&(st=i(),Tt+=st*st),Tt<Xe&&(Tt=Math.sqrt(Xe*Tt)),vt.vx+=Oe*Te.value*yt/Tt,vt.vy+=st*Te.value*yt/Tt),!0;if(Te.length||Tt>=Ue)return;(Te.data!==vt||Te.next)&&(Oe===0&&(Oe=i(),Tt+=Oe*Oe),st===0&&(st=i(),Tt+=st*st),Tt<Xe&&(Tt=Math.sqrt(Xe*Tt)));do Te.data!==vt&&(ut=Et[Te.data.index]*yt/Tt,vt.vx+=Oe*ut,vt.vy+=st*ut);while(Te=Te.next)}return rt.initialize=function(Te){$e=Te,it()},rt.strength=function(Te){return arguments.length?(mt=typeof Te=="function"?Te:R(+Te),it(),rt):mt},rt.distanceMin=function(Te){return arguments.length?(Xe=Te*Te,rt):Math.sqrt(Xe)},rt.distanceMax=function(Te){return arguments.length?(Ue=Te*Te,rt):Math.sqrt(Ue)},rt.theta=function(Te){return arguments.length?(Be=Te*Te,rt):Math.sqrt(Be)},rt}function nt($e,vt,yt){var mt,Et=R(.1),Xe,Ue;typeof $e!="function"&&($e=R(+$e)),vt==null&&(vt=0),yt==null&&(yt=0);function Be(it){for(var Ye=0,De=mt.length;Ye<De;++Ye){var Te=mt[Ye],fe=Te.x-vt||1e-6,me=Te.y-yt||1e-6,Re=Math.sqrt(fe*fe+me*me),Oe=(Ue[Ye]-Re)*Xe[Ye]*it/Re;Te.vx+=fe*Oe,Te.vy+=me*Oe}}function rt(){if(mt){var it,Ye=mt.length;for(Xe=new Array(Ye),Ue=new Array(Ye),it=0;it<Ye;++it)Ue[it]=+$e(mt[it],it,mt),Xe[it]=isNaN(Ue[it])?0:+Et(mt[it],it,mt)}}return Be.initialize=function(it){mt=it,rt()},Be.strength=function(it){return arguments.length?(Et=typeof it=="function"?it:R(+it),rt(),Be):Et},Be.radius=function(it){return arguments.length?($e=typeof it=="function"?it:R(+it),rt(),Be):$e},Be.x=function(it){return arguments.length?(vt=+it,Be):vt},Be.y=function(it){return arguments.length?(yt=+it,Be):yt},Be}function qe($e){var vt=R(.1),yt,mt,Et;typeof $e!="function"&&($e=R($e==null?0:+$e));function Xe(Be){for(var rt=0,it=yt.length,Ye;rt<it;++rt)Ye=yt[rt],Ye.vx+=(Et[rt]-Ye.x)*mt[rt]*Be}function Ue(){if(yt){var Be,rt=yt.length;for(mt=new Array(rt),Et=new Array(rt),Be=0;Be<rt;++Be)mt[Be]=isNaN(Et[Be]=+$e(yt[Be],Be,yt))?0:+vt(yt[Be],Be,yt)}}return Xe.initialize=function(Be){yt=Be,Ue()},Xe.strength=function(Be){return arguments.length?(vt=typeof Be=="function"?Be:R(+Be),Ue(),Xe):vt},Xe.x=function(Be){return arguments.length?($e=typeof Be=="function"?Be:R(+Be),Ue(),Xe):$e},Xe}function Ke($e){var vt=R(.1),yt,mt,Et;typeof $e!="function"&&($e=R($e==null?0:+$e));function Xe(Be){for(var rt=0,it=yt.length,Ye;rt<it;++rt)Ye=yt[rt],Ye.vy+=(Et[rt]-Ye.y)*mt[rt]*Be}function Ue(){if(yt){var Be,rt=yt.length;for(mt=new Array(rt),Et=new Array(rt),Be=0;Be<rt;++Be)mt[Be]=isNaN(Et[Be]=+$e(yt[Be],Be,yt))?0:+vt(yt[Be],Be,yt)}}return Xe.initialize=function(Be){yt=Be,Ue()},Xe.strength=function(Be){return arguments.length?(vt=typeof Be=="function"?Be:R(+Be),Ue(),Xe):vt},Xe.y=function(Be){return arguments.length?($e=typeof Be=="function"?Be:R(+Be),Ue(),Xe):$e},Xe}},60721:function(G,V,e){e.d(V,{WU:function(){return o},FF:function(){return b}});function g(A){return Math.abs(A=Math.round(A))>=1e21?A.toLocaleString("en").replace(/,/g,""):A.toString(10)}function R(A,M){if((C=(A=M?A.toExponential(M-1):A.toExponential()).indexOf("e"))<0)return null;var C,m=A.slice(0,C);return[m.length>1?m[0]+m.slice(2):m,+A.slice(C+1)]}function i(A){return A=R(Math.abs(A)),A?A[1]:NaN}function L(A,M){return function(C,m){for(var S=C.length,x=[],a=0,E=A[0],w=0;S>0&&E>0&&(w+E+1>m&&(E=Math.max(1,m-w)),x.push(C.substring(S-=E,S+E)),!((w+=E+1)>m));)E=A[a=(a+1)%A.length];return x.reverse().join(M)}}function T(A){return function(M){return M.replace(/[0-9]/g,function(C){return A[+C]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(A){if(!(M=v.exec(A)))throw new Error("invalid format: "+A);var M;return new t({fill:M[1],align:M[2],sign:M[3],symbol:M[4],zero:M[5],width:M[6],comma:M[7],precision:M[8]&&M[8].slice(1),trim:M[9],type:M[10]})}p.prototype=t.prototype;function t(A){this.fill=A.fill===void 0?" ":A.fill+"",this.align=A.align===void 0?">":A.align+"",this.sign=A.sign===void 0?"-":A.sign+"",this.symbol=A.symbol===void 0?"":A.symbol+"",this.zero=!!A.zero,this.width=A.width===void 0?void 0:+A.width,this.comma=!!A.comma,this.precision=A.precision===void 0?void 0:+A.precision,this.trim=!!A.trim,this.type=A.type===void 0?"":A.type+""}t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r(A){e:for(var M=A.length,C=1,m=-1,S;C<M;++C)switch(A[C]){case".":m=S=C;break;case"0":m===0&&(m=C),S=C;break;default:if(!+A[C])break e;m>0&&(m=0);break}return m>0?A.slice(0,m)+A.slice(S+1):A}var l;function n(A,M){var C=R(A,M);if(!C)return A+"";var m=C[0],S=C[1],x=S-(l=Math.max(-8,Math.min(8,Math.floor(S/3)))*3)+1,a=m.length;return x===a?m:x>a?m+new Array(x-a+1).join("0"):x>0?m.slice(0,x)+"."+m.slice(x):"0."+new Array(1-x).join("0")+R(A,Math.max(0,M+x-1))[0]}function s(A,M){var C=R(A,M);if(!C)return A+"";var m=C[0],S=C[1];return S<0?"0."+new Array(-S).join("0")+m:m.length>S+1?m.slice(0,S+1)+"."+m.slice(S+1):m+new Array(S-m.length+2).join("0")}var c={"%":function(A,M){return(A*100).toFixed(M)},b:function(A){return Math.round(A).toString(2)},c:function(A){return A+""},d:g,e:function(A,M){return A.toExponential(M)},f:function(A,M){return A.toFixed(M)},g:function(A,M){return A.toPrecision(M)},o:function(A){return Math.round(A).toString(8)},p:function(A,M){return s(A*100,M)},r:s,s:n,X:function(A){return Math.round(A).toString(16).toUpperCase()},x:function(A){return Math.round(A).toString(16)}};function u(A){return A}var y=Array.prototype.map,h=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function b(A){var M=A.grouping===void 0||A.thousands===void 0?u:L(y.call(A.grouping,Number),A.thousands+""),C=A.currency===void 0?"":A.currency[0]+"",m=A.currency===void 0?"":A.currency[1]+"",S=A.decimal===void 0?".":A.decimal+"",x=A.numerals===void 0?u:T(y.call(A.numerals,String)),a=A.percent===void 0?"%":A.percent+"",E=A.minus===void 0?"-":A.minus+"",w=A.nan===void 0?"NaN":A.nan+"";function k(U){U=p(U);var z=U.fill,N=U.align,B=U.sign,F=U.symbol,H=U.zero,X=U.width,q=U.comma,ne=U.precision,oe=U.trim,ve=U.type;ve==="n"?(q=!0,ve="g"):c[ve]||(ne===void 0&&(ne=12),oe=!0,ve="g"),(H||z==="0"&&N==="=")&&(H=!0,z="0",N="=");var J=F==="$"?C:F==="#"&&/[boxX]/.test(ve)?"0"+ve.toLowerCase():"",Y=F==="$"?m:/[%p]/.test(ve)?a:"",j=c[ve],K=/[defgprs%]/.test(ve);ne=ne===void 0?6:/[gprs]/.test(ve)?Math.max(1,Math.min(21,ne)):Math.max(0,Math.min(20,ne));function te(se){var Q=J,ee=Y,le,ie,he;if(ve==="c")ee=j(se)+ee,se="";else{se=+se;var xe=se<0||1/se<0;if(se=isNaN(se)?w:j(Math.abs(se),ne),oe&&(se=r(se)),xe&&+se==0&&B!=="+"&&(xe=!1),Q=(xe?B==="("?B:E:B==="-"||B==="("?"":B)+Q,ee=(ve==="s"?h[8+l/3]:"")+ee+(xe&&B==="("?")":""),K){for(le=-1,ie=se.length;++le<ie;)if(he=se.charCodeAt(le),48>he||he>57){ee=(he===46?S+se.slice(le+1):se.slice(le))+ee,se=se.slice(0,le);break}}}q&&!H&&(se=M(se,1/0));var Se=Q.length+se.length+ee.length,Ee=Se<X?new Array(X-Se+1).join(z):"";switch(q&&H&&(se=M(Ee+se,Ee.length?X-ee.length:1/0),Ee=""),N){case"<":se=Q+se+ee+Ee;break;case"=":se=Q+Ee+se+ee;break;case"^":se=Ee.slice(0,Se=Ee.length>>1)+Q+se+ee+Ee.slice(Se);break;default:se=Ee+Q+se+ee;break}return x(se)}return te.toString=function(){return U+""},te}function I(U,z){var N=k((U=p(U),U.type="f",U)),B=Math.max(-8,Math.min(8,Math.floor(i(z)/3)))*3,F=Math.pow(10,-B),H=h[8+B/3];return function(X){return N(F*X)+H}}return{format:k,formatPrefix:I}}var f,o;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(A){return f=b(A),o=f.format,f.formatPrefix,f}},65704:function(G,V,e){e.r(V),e.d(V,{geoAiry:function(){return H},geoAiryRaw:function(){return F},geoAitoff:function(){return q},geoAitoffRaw:function(){return X},geoArmadillo:function(){return oe},geoArmadilloRaw:function(){return ne},geoAugust:function(){return J},geoAugustRaw:function(){return ve},geoBaker:function(){return te},geoBakerRaw:function(){return K},geoBerghaus:function(){return ee},geoBerghausRaw:function(){return Q},geoBertin1953:function(){return He},geoBertin1953Raw:function(){return Ne},geoBoggs:function(){return nt},geoBoggsRaw:function(){return Ge},geoBonne:function(){return yt},geoBonneRaw:function(){return vt},geoBottomley:function(){return Et},geoBottomleyRaw:function(){return mt},geoBromley:function(){return Ue},geoBromleyRaw:function(){return Xe},geoChamberlin:function(){return Re},geoChamberlinAfrica:function(){return me},geoChamberlinRaw:function(){return Te},geoCollignon:function(){return st},geoCollignonRaw:function(){return Oe},geoCraig:function(){return Tt},geoCraigRaw:function(){return ut},geoCraster:function(){return jt},geoCrasterRaw:function(){return Gt},geoCylindricalEqualArea:function(){return Qt},geoCylindricalEqualAreaRaw:function(){return Pt},geoCylindricalStereographic:function(){return zr},geoCylindricalStereographicRaw:function(){return or},geoEckert1:function(){return Jt},geoEckert1Raw:function(){return bt},geoEckert2:function(){return Ar},geoEckert2Raw:function(){return Zt},geoEckert3:function(){return ht},geoEckert3Raw:function(){return dr},geoEckert4:function(){return wt},geoEckert4Raw:function(){return ct},geoEckert5:function(){return Rt},geoEckert5Raw:function(){return St},geoEckert6:function(){return Ot},geoEckert6Raw:function(){return Ct},geoEisenlohr:function(){return $t},geoEisenlohrRaw:function(){return er},geoFahey:function(){return je},geoFaheyRaw:function(){return Cr},geoFoucaut:function(){return kt},geoFoucautRaw:function(){return We},geoFoucautSinusoidal:function(){return Xt},geoFoucautSinusoidalRaw:function(){return zt},geoGilbert:function(){return vr},geoGingery:function(){return Zr},geoGingeryRaw:function(){return yr},geoGinzburg4:function(){return Tn},geoGinzburg4Raw:function(){return Br},geoGinzburg5:function(){return Bn},geoGinzburg5Raw:function(){return Kr},geoGinzburg6:function(){return Tr},geoGinzburg6Raw:function(){return On},geoGinzburg8:function(){return Hr},geoGinzburg8Raw:function(){return Mr},geoGinzburg9:function(){return nn},geoGinzburg9Raw:function(){return Vr},geoGringorten:function(){return ta},geoGringortenQuincuncial:function(){return bc},geoGringortenRaw:function(){return dn},geoGuyou:function(){return wn},geoGuyouRaw:function(){return Pr},geoHammer:function(){return xe},geoHammerRaw:function(){return ie},geoHammerRetroazimuthal:function(){return jn},geoHammerRetroazimuthalRaw:function(){return In},geoHealpix:function(){return ln},geoHealpixRaw:function(){return fn},geoHill:function(){return Rr},geoHillRaw:function(){return Ir},geoHomolosine:function(){return Wn},geoHomolosineRaw:function(){return An},geoHufnagel:function(){return ma},geoHufnagelRaw:function(){return ua},geoHyperelliptical:function(){return So},geoHyperellipticalRaw:function(){return ba},geoInterrupt:function(){return Wo},geoInterruptedBoggs:function(){return xi},geoInterruptedHomolosine:function(){return Jl},geoInterruptedMollweide:function(){return bo},geoInterruptedMollweideHemispheres:function(){return Ql},geoInterruptedQuarticAuthalic:function(){return ju},geoInterruptedSinuMollweide:function(){return $l},geoInterruptedSinusoidal:function(){return wo},geoKavrayskiy7:function(){return jo},geoKavrayskiy7Raw:function(){return ps},geoLagrange:function(){return _s},geoLagrangeRaw:function(){return To},geoLarrivee:function(){return Hf},geoLarriveeRaw:function(){return Oo},geoLaskowski:function(){return No},geoLaskowskiRaw:function(){return Hs},geoLittrow:function(){return el},geoLittrowRaw:function(){return ff},geoLoximuthal:function(){return gu},geoLoximuthalRaw:function(){return Vs},geoMiller:function(){return Vf},geoMillerRaw:function(){return ql},geoModifiedStereographic:function(){return Ds},geoModifiedStereographicAlaska:function(){return zl},geoModifiedStereographicGs48:function(){return Wf},geoModifiedStereographicGs50:function(){return xc},geoModifiedStereographicLee:function(){return Gu},geoModifiedStereographicMiller:function(){return Vu},geoModifiedStereographicRaw:function(){return eu},geoMollweide:function(){return ke},geoMollweideRaw:function(){return we},geoMtFlatPolarParabolic:function(){return yu},geoMtFlatPolarParabolicRaw:function(){return Wu},geoMtFlatPolarQuartic:function(){return hf},geoMtFlatPolarQuarticRaw:function(){return tl},geoMtFlatPolarSinusoidal:function(){return jf},geoMtFlatPolarSinusoidalRaw:function(){return vf},geoNaturalEarth:function(){return Jo.Z},geoNaturalEarth2:function(){return Ol},geoNaturalEarth2Raw:function(){return ml},geoNaturalEarthRaw:function(){return Jo.K},geoNellHammer:function(){return Ts},geoNellHammerRaw:function(){return Nl},geoNicolosi:function(){return ks},geoNicolosiRaw:function(){return rl},geoPatterson:function(){return aa},geoPattersonRaw:function(){return Vn},geoPeirceQuincuncial:function(){return gf},geoPierceQuincuncial:function(){return gf},geoPolyconic:function(){return Va},geoPolyconicRaw:function(){return Sa},geoPolyhedral:function(){return $a},geoPolyhedralButterfly:function(){return go},geoPolyhedralCollignon:function(){return Co},geoPolyhedralWaterman:function(){return Lo},geoProject:function(){return As},geoQuantize:function(){return yf},geoQuincuncial:function(){return bu},geoRectangularPolyconic:function(){return wl},geoRectangularPolyconicRaw:function(){return mf},geoRobinson:function(){return Yu},geoRobinsonRaw:function(){return gs},geoSatellite:function(){return wu},geoSatelliteRaw:function(){return al},geoSinuMollweide:function(){return Qn},geoSinuMollweideRaw:function(){return Hn},geoSinusoidal:function(){return $e},geoSinusoidalRaw:function(){return Ke},geoStitch:function(){return Su},geoTimes:function(){return Is},geoTimesRaw:function(){return Ss},geoTwoPointAzimuthal:function(){return Xf},geoTwoPointAzimuthalRaw:function(){return qc},geoTwoPointAzimuthalUsa:function(){return Xu},geoTwoPointEquidistant:function(){return Ac},geoTwoPointEquidistantRaw:function(){return eh},geoTwoPointEquidistantUsa:function(){return ol},geoVanDerGrinten:function(){return wf},geoVanDerGrinten2:function(){return Vh},geoVanDerGrinten2Raw:function(){return Vl},geoVanDerGrinten3:function(){return Kf},geoVanDerGrinten3Raw:function(){return Mc},geoVanDerGrinten4:function(){return th},geoVanDerGrinten4Raw:function(){return fs},geoVanDerGrintenRaw:function(){return au},geoWagner:function(){return Af},geoWagner4:function(){return Ec},geoWagner4Raw:function(){return Sc},geoWagner6:function(){return Qf},geoWagner6Raw:function(){return Cu},geoWagner7:function(){return iu},geoWagnerRaw:function(){return Al},geoWiechel:function(){return nh},geoWiechelRaw:function(){return Mf},geoWinkel3:function(){return ah},geoWinkel3Raw:function(){return Sf}});var g=e(15002),R=Math.abs,i=Math.atan,L=Math.atan2,T=Math.cos,v=Math.exp,p=Math.floor,t=Math.log,r=Math.max,l=Math.min,n=Math.pow,s=Math.round,c=Math.sign||function(Je){return Je>0?1:Je<0?-1:0},u=Math.sin,y=Math.tan,h=1e-6,b=1e-12,f=Math.PI,o=f/2,d=f/4,A=Math.SQRT1_2,M=k(2),C=k(f),m=f*2,S=180/f,x=f/180;function a(Je){return Je?Je/Math.sin(Je):1}function E(Je){return Je>1?o:Je<-1?-o:Math.asin(Je)}function w(Je){return Je>1?0:Je<-1?f:Math.acos(Je)}function k(Je){return Je>0?Math.sqrt(Je):0}function I(Je){return Je=v(2*Je),(Je-1)/(Je+1)}function U(Je){return(v(Je)-v(-Je))/2}function z(Je){return(v(Je)+v(-Je))/2}function N(Je){return t(Je+k(Je*Je+1))}function B(Je){return t(Je+k(Je*Je-1))}function F(Je){var ot=y(Je/2),gt=2*t(T(Je/2))/(ot*ot);function xt(Ft,_t){var Nt=T(Ft),pr=T(_t),xr=u(_t),ur=pr*Nt,Er=-((1-ur?t((1+ur)/2)/(1-ur):-.5)+gt/(1+ur));return[Er*pr*u(Ft),Er*xr]}return xt.invert=function(Ft,_t){var Nt=k(Ft*Ft+_t*_t),pr=-Je/2,xr=50,ur;if(!Nt)return[0,0];do{var Er=pr/2,kr=T(Er),Jr=u(Er),en=Jr/kr,Sn=-t(R(kr));pr-=ur=(2/en*Sn-gt*en-Nt)/(-Sn/(Jr*Jr)+1-gt/(2*kr*kr))*(kr<0?.7:1)}while(R(ur)>h&&--xr>0);var Cn=u(pr);return[L(Ft*Cn,Nt*T(pr)),E(_t*Cn/Nt)]},xt}function H(){var Je=o,ot=(0,g.r)(F),gt=ot(Je);return gt.radius=function(xt){return arguments.length?ot(Je=xt*x):Je*S},gt.scale(179.976).clipAngle(147)}function X(Je,ot){var gt=T(ot),xt=a(w(gt*T(Je/=2)));return[2*gt*u(Je)*xt,u(ot)*xt]}X.invert=function(Je,ot){if(!(Je*Je+4*ot*ot>f*f+h)){var gt=Je,xt=ot,Ft=25;do{var _t=u(gt),Nt=u(gt/2),pr=T(gt/2),xr=u(xt),ur=T(xt),Er=u(2*xt),kr=xr*xr,Jr=ur*ur,en=Nt*Nt,Sn=1-Jr*pr*pr,Cn=Sn?w(ur*pr)*k(Nn=1/Sn):Nn=0,Nn,Aa=2*Cn*ur*Nt-Je,Ba=Cn*xr-ot,Ga=Nn*(Jr*en+Cn*ur*pr*kr),Wa=Nn*(.5*_t*Er-Cn*2*xr*Nt),Ya=Nn*.25*(Er*Nt-Cn*xr*Jr*_t),Di=Nn*(kr*pr+Cn*en*ur),vo=Wa*Ya-Di*Ga;if(!vo)break;var Wi=(Ba*Wa-Aa*Di)/vo,ue=(Aa*Ya-Ba*Ga)/vo;gt-=Wi,xt-=ue}while((R(Wi)>h||R(ue)>h)&&--Ft>0);return[gt,xt]}};function q(){return(0,g.Z)(X).scale(152.63)}function ne(Je){var ot=u(Je),gt=T(Je),xt=Je>=0?1:-1,Ft=y(xt*Je),_t=(1+ot-gt)/2;function Nt(pr,xr){var ur=T(xr),Er=T(pr/=2);return[(1+ur)*u(pr),(xt*xr>-L(Er,Ft)-.001?0:-xt*10)+_t+u(xr)*gt-(1+ur)*ot*Er]}return Nt.invert=function(pr,xr){var ur=0,Er=0,kr=50;do{var Jr=T(ur),en=u(ur),Sn=T(Er),Cn=u(Er),Nn=1+Sn,Aa=Nn*en-pr,Ba=_t+Cn*gt-Nn*ot*Jr-xr,Ga=Nn*Jr/2,Wa=-en*Cn,Ya=ot*Nn*en/2,Di=gt*Sn+ot*Jr*Cn,vo=Wa*Ya-Di*Ga,Wi=(Ba*Wa-Aa*Di)/vo/2,ue=(Aa*Ya-Ba*Ga)/vo;R(ue)>2&&(ue/=2),ur-=Wi,Er-=ue}while((R(Wi)>h||R(ue)>h)&&--kr>0);return xt*Er>-L(T(ur),Ft)-.001?[ur*2,Er]:null},Nt}function oe(){var Je=20*x,ot=Je>=0?1:-1,gt=y(ot*Je),xt=(0,g.r)(ne),Ft=xt(Je),_t=Ft.stream;return Ft.parallel=function(Nt){return arguments.length?(gt=y((ot=(Je=Nt*x)>=0?1:-1)*Je),xt(Je)):Je*S},Ft.stream=function(Nt){var pr=Ft.rotate(),xr=_t(Nt),ur=(Ft.rotate([0,0]),_t(Nt)),Er=Ft.precision();return Ft.rotate(pr),xr.sphere=function(){ur.polygonStart(),ur.lineStart();for(var kr=ot*-180;ot*kr<180;kr+=ot*90)ur.point(kr,ot*90);if(Je)for(;ot*(kr-=3*ot*Er)>=-180;)ur.point(kr,ot*-L(T(kr*x/2),gt)*S);ur.lineEnd(),ur.polygonEnd()},xr},Ft.scale(218.695).center([0,28.0974])}function ve(Je,ot){var gt=y(ot/2),xt=k(1-gt*gt),Ft=1+xt*T(Je/=2),_t=u(Je)*xt/Ft,Nt=gt/Ft,pr=_t*_t,xr=Nt*Nt;return[1.3333333333333333*_t*(3+pr-3*xr),1.3333333333333333*Nt*(3+3*pr-xr)]}ve.invert=function(Je,ot){if(Je*=.375,ot*=.375,!Je&&R(ot)>1)return null;var gt=Je*Je,xt=ot*ot,Ft=1+gt+xt,_t=k((Ft-k(Ft*Ft-4*ot*ot))/2),Nt=E(_t)/3,pr=_t?B(R(ot/_t))/3:N(R(Je))/3,xr=T(Nt),ur=z(pr),Er=ur*ur-xr*xr;return[c(Je)*2*L(U(pr)*xr,.25-Er),c(ot)*2*L(ur*u(Nt),.25+Er)]};function J(){return(0,g.Z)(ve).scale(66.1603)}var Y=k(8),j=t(1+M);function K(Je,ot){var gt=R(ot);return gt<d?[Je,t(y(d+ot/2))]:[Je*T(gt)*(2*M-1/u(gt)),c(ot)*(2*M*(gt-d)-t(y(gt/2)))]}K.invert=function(Je,ot){if((_t=R(ot))<j)return[Je,2*i(v(ot))-o];var gt=d,xt=25,Ft,_t;do{var Nt=T(gt/2),pr=y(gt/2);gt-=Ft=(Y*(gt-d)-t(pr)-_t)/(Y-Nt*Nt/(2*pr))}while(R(Ft)>b&&--xt>0);return[Je/(T(gt)*(Y-1/u(gt))),c(ot)*gt]};function te(){return(0,g.Z)(K).scale(112.314)}var se=e(17889);function Q(Je){var ot=2*f/Je;function gt(xt,Ft){var _t=(0,se.N)(xt,Ft);if(R(xt)>o){var Nt=L(_t[1],_t[0]),pr=k(_t[0]*_t[0]+_t[1]*_t[1]),xr=ot*s((Nt-o)/ot)+o,ur=L(u(Nt-=xr),2-T(Nt));Nt=xr+E(f/pr*u(ur))-ur,_t[0]=pr*T(Nt),_t[1]=pr*u(Nt)}return _t}return gt.invert=function(xt,Ft){var _t=k(xt*xt+Ft*Ft);if(_t>o){var Nt=L(Ft,xt),pr=ot*s((Nt-o)/ot)+o,xr=Nt>pr?-1:1,ur=_t*T(pr-Nt),Er=1/y(xr*w((ur-f)/k(f*(f-2*ur)+_t*_t)));Nt=pr+2*i((Er+xr*k(Er*Er-3))/3),xt=_t*T(Nt),Ft=_t*u(Nt)}return se.N.invert(xt,Ft)},gt}function ee(){var Je=5,ot=(0,g.r)(Q),gt=ot(Je),xt=gt.stream,Ft=.01,_t=-T(Ft*x),Nt=u(Ft*x);return gt.lobes=function(pr){return arguments.length?ot(Je=+pr):Je},gt.stream=function(pr){var xr=gt.rotate(),ur=xt(pr),Er=(gt.rotate([0,0]),xt(pr));return gt.rotate(xr),ur.sphere=function(){Er.polygonStart(),Er.lineStart();for(var kr=0,Jr=360/Je,en=2*f/Je,Sn=90-180/Je,Cn=o;kr<Je;++kr,Sn-=Jr,Cn-=en)Er.point(L(Nt*T(Cn),_t)*S,E(Nt*u(Cn))*S),Sn<-90?(Er.point(-90,-180-Sn-Ft),Er.point(-90,-180-Sn+Ft)):(Er.point(90,Sn+Ft),Er.point(90,Sn-Ft));Er.lineEnd(),Er.polygonEnd()},ur},gt.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var le=e(12956);function ie(Je,ot){if(arguments.length<2&&(ot=Je),ot===1)return le.l;if(ot===1/0)return he;function gt(xt,Ft){var _t=(0,le.l)(xt/ot,Ft);return _t[0]*=Je,_t}return gt.invert=function(xt,Ft){var _t=le.l.invert(xt/Je,Ft);return _t[0]*=ot,_t},gt}function he(Je,ot){return[Je*T(ot)/T(ot/=2),2*u(ot)]}he.invert=function(Je,ot){var gt=2*E(ot/2);return[Je*T(gt/2)/T(gt),gt]};function xe(){var Je=2,ot=(0,g.r)(ie),gt=ot(Je);return gt.coefficient=function(xt){return arguments.length?ot(Je=+xt):Je},gt.scale(169.529)}function Se(Je,ot,gt){var xt=100,Ft,_t,Nt;gt=gt===void 0?0:+gt,ot=+ot;do _t=Je(gt),Nt=Je(gt+h),_t===Nt&&(Nt=_t+h),gt-=Ft=-1*h*(_t-ot)/(_t-Nt);while(xt-- >0&&R(Ft)>h);return xt<0?NaN:gt}function Ee(Je,ot,gt){return ot===void 0&&(ot=40),gt===void 0&&(gt=b),function(xt,Ft,_t,Nt){var pr,xr,ur;_t=_t===void 0?0:+_t,Nt=Nt===void 0?0:+Nt;for(var Er=0;Er<ot;Er++){var kr=Je(_t,Nt),Jr=kr[0]-xt,en=kr[1]-Ft;if(R(Jr)<gt&&R(en)<gt)break;var Sn=Jr*Jr+en*en;if(Sn>pr){_t-=xr/=2,Nt-=ur/=2;continue}pr=Sn;var Cn=(_t>0?-1:1)*gt,Nn=(Nt>0?-1:1)*gt,Aa=Je(_t+Cn,Nt),Ba=Je(_t,Nt+Nn),Ga=(Aa[0]-kr[0])/Cn,Wa=(Aa[1]-kr[1])/Cn,Ya=(Ba[0]-kr[0])/Nn,Di=(Ba[1]-kr[1])/Nn,vo=Di*Ga-Wa*Ya,Wi=(R(vo)<.5?.5:1)/vo;if(xr=(en*Ya-Jr*Di)*Wi,ur=(Jr*Wa-en*Ga)*Wi,_t+=xr,Nt+=ur,R(xr)<gt&&R(ur)<gt)break}return[_t,Nt]}}function Ne(){var Je=ie(1.68,2),ot=1.4,gt=12;function xt(Ft,_t){if(Ft+_t<-ot){var Nt=(Ft-_t+1.6)*(Ft+_t+ot)/8;Ft+=Nt,_t-=.8*Nt*u(_t+f/2)}var pr=Je(Ft,_t),xr=(1-T(Ft*_t))/gt;return pr[1]<0&&(pr[0]*=1+xr),pr[1]>0&&(pr[1]*=1+xr/1.5*pr[0]*pr[0]),pr}return xt.invert=Ee(xt),xt}function He(){return(0,g.Z)(Ne()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ce(Je,ot){var gt=Je*u(ot),xt=30,Ft;do ot-=Ft=(ot+u(ot)-gt)/(1+T(ot));while(R(Ft)>h&&--xt>0);return ot/2}function be(Je,ot,gt){function xt(Ft,_t){return[Je*Ft*T(_t=Ce(gt,_t)),ot*u(_t)]}return xt.invert=function(Ft,_t){return _t=E(_t/ot),[Ft/(Je*T(_t)),E((2*_t+u(2*_t))/gt)]},xt}var we=be(M/o,M,f);function ke(){return(0,g.Z)(we).scale(169.529)}var Fe=2.00276,Pe=1.11072;function Ge(Je,ot){var gt=Ce(f,ot);return[Fe*Je/(1/T(ot)+Pe/T(gt)),(ot+M*u(gt))/Fe]}Ge.invert=function(Je,ot){var gt=Fe*ot,xt=ot<0?-d:d,Ft=25,_t,Nt;do Nt=gt-M*u(xt),xt-=_t=(u(2*xt)+2*xt-f*u(Nt))/(2*T(2*xt)+2+f*T(Nt)*M*T(xt));while(R(_t)>h&&--Ft>0);return Nt=gt-M*u(xt),[Je*(1/T(Nt)+Pe/T(xt))/Fe,Nt]};function nt(){return(0,g.Z)(Ge).scale(160.857)}function qe(Je){var ot=0,gt=(0,g.r)(Je),xt=gt(ot);return xt.parallel=function(Ft){return arguments.length?gt(ot=Ft*x):ot*S},xt}function Ke(Je,ot){return[Je*T(ot),ot]}Ke.invert=function(Je,ot){return[Je/T(ot),ot]};function $e(){return(0,g.Z)(Ke).scale(152.63)}function vt(Je){if(!Je)return Ke;var ot=1/y(Je);function gt(xt,Ft){var _t=ot+Je-Ft,Nt=_t&&xt*T(Ft)/_t;return[_t*u(Nt),ot-_t*T(Nt)]}return gt.invert=function(xt,Ft){var _t=k(xt*xt+(Ft=ot-Ft)*Ft),Nt=ot+Je-_t;return[_t/T(Nt)*L(xt,Ft),Nt]},gt}function yt(){return qe(vt).scale(123.082).center([0,26.1441]).parallel(45)}function mt(Je){function ot(gt,xt){var Ft=o-xt,_t=Ft&&gt*Je*u(Ft)/Ft;return[Ft*u(_t)/Je,o-Ft*T(_t)]}return ot.invert=function(gt,xt){var Ft=gt*Je,_t=o-xt,Nt=k(Ft*Ft+_t*_t),pr=L(Ft,_t);return[(Nt?Nt/u(Nt):1)*pr/Je,o-Nt]},ot}function Et(){var Je=.5,ot=(0,g.r)(mt),gt=ot(Je);return gt.fraction=function(xt){return arguments.length?ot(Je=+xt):Je},gt.scale(158.837)}var Xe=be(1,4/f,f);function Ue(){return(0,g.Z)(Xe).scale(152.63)}var Be=e(66624),rt=e(49386);function it(Je,ot,gt,xt,Ft,_t){var Nt=T(_t),pr;if(R(Je)>1||R(_t)>1)pr=w(gt*Ft+ot*xt*Nt);else{var xr=u(Je/2),ur=u(_t/2);pr=2*E(k(xr*xr+ot*xt*ur*ur))}return R(pr)>h?[pr,L(xt*u(_t),ot*Ft-gt*xt*Nt)]:[0,0]}function Ye(Je,ot,gt){return w((Je*Je+ot*ot-gt*gt)/(2*Je*ot))}function De(Je){return Je-2*f*p((Je+f)/(2*f))}function Te(Je,ot,gt){for(var xt=[[Je[0],Je[1],u(Je[1]),T(Je[1])],[ot[0],ot[1],u(ot[1]),T(ot[1])],[gt[0],gt[1],u(gt[1]),T(gt[1])]],Ft=xt[2],_t,Nt=0;Nt<3;++Nt,Ft=_t)_t=xt[Nt],Ft.v=it(_t[1]-Ft[1],Ft[3],Ft[2],_t[3],_t[2],_t[0]-Ft[0]),Ft.point=[0,0];var pr=Ye(xt[0].v[0],xt[2].v[0],xt[1].v[0]),xr=Ye(xt[0].v[0],xt[1].v[0],xt[2].v[0]),ur=f-pr;xt[2].point[1]=0,xt[0].point[0]=-(xt[1].point[0]=xt[0].v[0]/2);var Er=[xt[2].point[0]=xt[0].point[0]+xt[2].v[0]*T(pr),2*(xt[0].point[1]=xt[1].point[1]=xt[2].v[0]*u(pr))];function kr(Jr,en){var Sn=u(en),Cn=T(en),Nn=new Array(3),Aa;for(Aa=0;Aa<3;++Aa){var Ba=xt[Aa];if(Nn[Aa]=it(en-Ba[1],Ba[3],Ba[2],Cn,Sn,Jr-Ba[0]),!Nn[Aa][0])return Ba.point;Nn[Aa][1]=De(Nn[Aa][1]-Ba.v[1])}var Ga=Er.slice();for(Aa=0;Aa<3;++Aa){var Wa=Aa==2?0:Aa+1,Ya=Ye(xt[Aa].v[0],Nn[Aa][0],Nn[Wa][0]);Nn[Aa][1]<0&&(Ya=-Ya),Aa?Aa==1?(Ya=xr-Ya,Ga[0]-=Nn[Aa][0]*T(Ya),Ga[1]-=Nn[Aa][0]*u(Ya)):(Ya=ur-Ya,Ga[0]+=Nn[Aa][0]*T(Ya),Ga[1]+=Nn[Aa][0]*u(Ya)):(Ga[0]+=Nn[Aa][0]*T(Ya),Ga[1]-=Nn[Aa][0]*u(Ya))}return Ga[0]/=3,Ga[1]/=3,Ga}return kr}function fe(Je){return Je[0]*=x,Je[1]*=x,Je}function me(){return Re([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Re(Je,ot,gt){var xt=(0,Be.Z)({type:"MultiPoint",coordinates:[Je,ot,gt]}),Ft=[-xt[0],-xt[1]],_t=(0,rt.Z)(Ft),Nt=Te(fe(_t(Je)),fe(_t(ot)),fe(_t(gt)));Nt.invert=Ee(Nt);var pr=(0,g.Z)(Nt).rotate(Ft),xr=pr.center;return delete pr.rotate,pr.center=function(ur){return arguments.length?xr(_t(ur)):_t.invert(xr())},pr.clipAngle(90)}function Oe(Je,ot){var gt=k(1-u(ot));return[2/C*Je*gt,C*(1-gt)]}Oe.invert=function(Je,ot){var gt=(gt=ot/C-1)*gt;return[gt>0?Je*k(f/gt)/2:0,E(1-gt)]};function st(){return(0,g.Z)(Oe).scale(95.6464).center([0,30])}function ut(Je){var ot=y(Je);function gt(xt,Ft){return[xt,(xt?xt/u(xt):1)*(u(Ft)*T(xt)-ot*T(Ft))]}return gt.invert=ot?function(xt,Ft){xt&&(Ft*=u(xt)/xt);var _t=T(xt);return[xt,2*L(k(_t*_t+ot*ot-Ft*Ft)-_t,ot-Ft)]}:function(xt,Ft){return[xt,E(xt?Ft*y(xt)/xt:Ft)]},gt}function Tt(){return qe(ut).scale(249.828).clipAngle(90)}var It=k(3);function Gt(Je,ot){return[It*Je*(2*T(2*ot/3)-1)/C,It*C*u(ot/3)]}Gt.invert=function(Je,ot){var gt=3*E(ot/(It*C));return[C*Je/(It*(2*T(2*gt/3)-1)),gt]};function jt(){return(0,g.Z)(Gt).scale(156.19)}function Pt(Je){var ot=T(Je);function gt(xt,Ft){return[xt*ot,u(Ft)/ot]}return gt.invert=function(xt,Ft){return[xt/ot,E(Ft*ot)]},gt}function Qt(){return qe(Pt).parallel(38.58).scale(195.044)}function or(Je){var ot=T(Je);function gt(xt,Ft){return[xt*ot,(1+ot)*y(Ft/2)]}return gt.invert=function(xt,Ft){return[xt/ot,i(Ft/(1+ot))*2]},gt}function zr(){return qe(or).scale(124.75)}function bt(Je,ot){var gt=k(8/(3*f));return[gt*Je*(1-R(ot)/f),gt*ot]}bt.invert=function(Je,ot){var gt=k(8/(3*f)),xt=ot/gt;return[Je/(gt*(1-R(xt)/f)),xt]};function Jt(){return(0,g.Z)(bt).scale(165.664)}function Zt(Je,ot){var gt=k(4-3*u(R(ot)));return[2/k(6*f)*Je*gt,c(ot)*k(2*f/3)*(2-gt)]}Zt.invert=function(Je,ot){var gt=2-R(ot)/k(2*f/3);return[Je*k(6*f)/(2*gt),c(ot)*E((4-gt*gt)/3)]};function Ar(){return(0,g.Z)(Zt).scale(165.664)}function dr(Je,ot){var gt=k(f*(4+f));return[2/gt*Je*(1+k(1-4*ot*ot/(f*f))),4/gt*ot]}dr.invert=function(Je,ot){var gt=k(f*(4+f))/2;return[Je*gt/(1+k(1-ot*ot*(4+f)/(4*f))),ot*gt/2]};function ht(){return(0,g.Z)(dr).scale(180.739)}function ct(Je,ot){var gt=(2+o)*u(ot);ot/=2;for(var xt=0,Ft=1/0;xt<10&&R(Ft)>h;xt++){var _t=T(ot);ot-=Ft=(ot+u(ot)*(_t+2)-gt)/(2*_t*(1+_t))}return[2/k(f*(4+f))*Je*(1+T(ot)),2*k(f/(4+f))*u(ot)]}ct.invert=function(Je,ot){var gt=ot*k((4+f)/f)/2,xt=E(gt),Ft=T(xt);return[Je/(2/k(f*(4+f))*(1+Ft)),E((xt+gt*(Ft+2))/(2+o))]};function wt(){return(0,g.Z)(ct).scale(180.739)}function St(Je,ot){return[Je*(1+T(ot))/k(2+f),2*ot/k(2+f)]}St.invert=function(Je,ot){var gt=k(2+f),xt=ot*gt/2;return[gt*Je/(1+T(xt)),xt]};function Rt(){return(0,g.Z)(St).scale(173.044)}function Ct(Je,ot){for(var gt=(1+o)*u(ot),xt=0,Ft=1/0;xt<10&&R(Ft)>h;xt++)ot-=Ft=(ot+u(ot)-gt)/(1+T(ot));return gt=k(2+f),[Je*(1+T(ot))/gt,2*ot/gt]}Ct.invert=function(Je,ot){var gt=1+o,xt=k(gt/2);return[Je*2*xt/(1+T(ot*=xt)),E((ot+u(ot))/gt)]};function Ot(){return(0,g.Z)(Ct).scale(173.044)}var Wt=3+2*M;function er(Je,ot){var gt=u(Je/=2),xt=T(Je),Ft=k(T(ot)),_t=T(ot/=2),Nt=u(ot)/(_t+M*xt*Ft),pr=k(2/(1+Nt*Nt)),xr=k((M*_t+(xt+gt)*Ft)/(M*_t+(xt-gt)*Ft));return[Wt*(pr*(xr-1/xr)-2*t(xr)),Wt*(pr*Nt*(xr+1/xr)-2*i(Nt))]}er.invert=function(Je,ot){if(!(_t=ve.invert(Je/1.2,ot*1.065)))return null;var gt=_t[0],xt=_t[1],Ft=20,_t;Je/=Wt,ot/=Wt;do{var Nt=gt/2,pr=xt/2,xr=u(Nt),ur=T(Nt),Er=u(pr),kr=T(pr),Jr=T(xt),en=k(Jr),Sn=Er/(kr+M*ur*en),Cn=Sn*Sn,Nn=k(2/(1+Cn)),Aa=M*kr+(ur+xr)*en,Ba=M*kr+(ur-xr)*en,Ga=Aa/Ba,Wa=k(Ga),Ya=Wa-1/Wa,Di=Wa+1/Wa,vo=Nn*Ya-2*t(Wa)-Je,Wi=Nn*Sn*Di-2*i(Sn)-ot,ue=Er&&A*en*xr*Cn/Er,Le=(M*ur*kr+en)/(2*(kr+M*ur*en)*(kr+M*ur*en)*en),Ve=-.5*Sn*Nn*Nn*Nn,et=Ve*ue,at=Ve*Le,lt=(lt=2*kr+M*en*(ur-xr))*lt*Wa,Dt=(M*ur*kr*en+Jr)/lt,pt=-(M*xr*Er)/(en*lt),Vt=Ya*et-2*Dt/Wa+Nn*(Dt+Dt/Ga),rr=Ya*at-2*pt/Wa+Nn*(pt+pt/Ga),ar=Sn*Di*et-2*ue/(1+Cn)+Nn*Di*ue+Nn*Sn*(Dt-Dt/Ga),Dr=Sn*Di*at-2*Le/(1+Cn)+Nn*Di*Le+Nn*Sn*(pt-pt/Ga),_r=rr*ar-Dr*Vt;if(!_r)break;var qr=(Wi*rr-vo*Dr)/_r,on=(vo*ar-Wi*Vt)/_r;gt-=qr,xt=r(-o,l(o,xt-on))}while((R(qr)>h||R(on)>h)&&--Ft>0);return R(R(xt)-o)<h?[0,xt]:Ft&&[gt,xt]};function $t(){return(0,g.Z)(er).scale(62.5271)}var sr=T(35*x);function Cr(Je,ot){var gt=y(ot/2);return[Je*sr*k(1-gt*gt),(1+sr)*gt]}Cr.invert=function(Je,ot){var gt=ot/(1+sr);return[Je&&Je/(sr*k(1-gt*gt)),2*i(gt)]};function je(){return(0,g.Z)(Cr).scale(137.152)}function We(Je,ot){var gt=ot/2,xt=T(gt);return[2*Je/C*T(ot)*xt*xt,C*y(gt)]}We.invert=function(Je,ot){var gt=i(ot/C),xt=T(gt),Ft=2*gt;return[Je*C/2/(T(Ft)*xt*xt),Ft]};function kt(){return(0,g.Z)(We).scale(135.264)}function zt(Je){var ot=1-Je,gt=_t(f,0)[0]-_t(-f,0)[0],xt=_t(0,o)[1]-_t(0,-o)[1],Ft=k(2*xt/gt);function _t(xr,ur){var Er=T(ur),kr=u(ur);return[Er/(ot+Je*Er)*xr,ot*ur+Je*kr]}function Nt(xr,ur){var Er=_t(xr,ur);return[Er[0]*Ft,Er[1]/Ft]}function pr(xr){return Nt(0,xr)[1]}return Nt.invert=function(xr,ur){var Er=Se(pr,ur),kr=xr/Ft*(Je+ot/T(Er));return[kr,Er]},Nt}function Xt(){var Je=.5,ot=(0,g.r)(zt),gt=ot(Je);return gt.alpha=function(xt){return arguments.length?ot(Je=+xt):Je},gt.scale(168.725)}var lr=e(57962),cr=e(97492);function nr(Je){return[Je[0]/2,E(y(Je[1]/2*x))*S]}function Bt(Je){return[Je[0]*2,2*i(u(Je[1]*x))*S]}function vr(Je){Je==null&&(Je=lr.Z);var ot=Je(),gt=(0,cr.Z)().scale(S).precision(0).clipAngle(null).translate([0,0]);function xt(_t){return ot(nr(_t))}ot.invert&&(xt.invert=function(_t){return Bt(ot.invert(_t))}),xt.stream=function(_t){var Nt=ot.stream(_t),pr=gt.stream({point:function(xr,ur){Nt.point(xr/2,E(y(-ur/2*x))*S)},lineStart:function(){Nt.lineStart()},lineEnd:function(){Nt.lineEnd()},polygonStart:function(){Nt.polygonStart()},polygonEnd:function(){Nt.polygonEnd()}});return pr.sphere=Nt.sphere,pr};function Ft(_t){xt[_t]=function(){return arguments.length?(ot[_t].apply(ot,arguments),xt):ot[_t]()}}return xt.rotate=function(_t){return arguments.length?(gt.rotate(_t),xt):gt.rotate()},xt.center=function(_t){return arguments.length?(ot.center(nr(_t)),xt):Bt(ot.center())},Ft("angle"),Ft("clipAngle"),Ft("clipExtent"),Ft("fitExtent"),Ft("fitHeight"),Ft("fitSize"),Ft("fitWidth"),Ft("scale"),Ft("translate"),Ft("precision"),xt.scale(249.5)}function yr(Je,ot){var gt=2*f/ot,xt=Je*Je;function Ft(_t,Nt){var pr=(0,se.N)(_t,Nt),xr=pr[0],ur=pr[1],Er=xr*xr+ur*ur;if(Er>xt){var kr=k(Er),Jr=L(ur,xr),en=gt*s(Jr/gt),Sn=Jr-en,Cn=Je*T(Sn),Nn=(Je*u(Sn)-Sn*u(Cn))/(o-Cn),Aa=mr(Sn,Nn),Ba=(f-Je)/gr(Aa,Cn,f);xr=kr;var Ga=50,Wa;do xr-=Wa=(Je+gr(Aa,Cn,xr)*Ba-kr)/(Aa(xr)*Ba);while(R(Wa)>h&&--Ga>0);ur=Sn*u(xr),xr<o&&(ur-=Nn*(xr-o));var Ya=u(en),Di=T(en);pr[0]=xr*Di-ur*Ya,pr[1]=xr*Ya+ur*Di}return pr}return Ft.invert=function(_t,Nt){var pr=_t*_t+Nt*Nt;if(pr>xt){var xr=k(pr),ur=L(Nt,_t),Er=gt*s(ur/gt),kr=ur-Er;_t=xr*T(kr),Nt=xr*u(kr);for(var Jr=_t-o,en=u(_t),Sn=Nt/en,Cn=_t<o?1/0:0,Nn=10;;){var Aa=Je*u(Sn),Ba=Je*T(Sn),Ga=u(Ba),Wa=o-Ba,Ya=(Aa-Sn*Ga)/Wa,Di=mr(Sn,Ya);if(R(Cn)<b||!--Nn)break;Sn-=Cn=(Sn*en-Ya*Jr-Nt)/(en-Jr*2*(Wa*(Ba+Sn*Aa*T(Ba)-Ga)-Aa*(Aa-Sn*Ga))/(Wa*Wa))}xr=Je+gr(Di,Ba,_t)*(f-Je)/gr(Di,Ba,f),ur=Er+Sn,_t=xr*T(ur),Nt=xr*u(ur)}return se.N.invert(_t,Nt)},Ft}function mr(Je,ot){return function(gt){var xt=Je*T(gt);return gt<o&&(xt-=ot),k(1+xt*xt)}}function gr(Je,ot,gt){for(var xt=50,Ft=(gt-ot)/xt,_t=Je(ot)+Je(gt),Nt=1,pr=ot;Nt<xt;++Nt)_t+=2*Je(pr+=Ft);return _t*.5*Ft}function Zr(){var Je=6,ot=30*x,gt=T(ot),xt=u(ot),Ft=(0,g.r)(yr),_t=Ft(ot,Je),Nt=_t.stream,pr=.01,xr=-T(pr*x),ur=u(pr*x);return _t.radius=function(Er){return arguments.length?(gt=T(ot=Er*x),xt=u(ot),Ft(ot,Je)):ot*S},_t.lobes=function(Er){return arguments.length?Ft(ot,Je=+Er):Je},_t.stream=function(Er){var kr=_t.rotate(),Jr=Nt(Er),en=(_t.rotate([0,0]),Nt(Er));return _t.rotate(kr),Jr.sphere=function(){en.polygonStart(),en.lineStart();for(var Sn=0,Cn=2*f/Je,Nn=0;Sn<Je;++Sn,Nn-=Cn)en.point(L(ur*T(Nn),xr)*S,E(ur*u(Nn))*S),en.point(L(xt*T(Nn-Cn/2),gt)*S,E(xt*u(Nn-Cn/2))*S);en.lineEnd(),en.polygonEnd()},Jr},_t.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Ur(Je,ot,gt,xt,Ft,_t,Nt,pr){arguments.length<8&&(pr=0);function xr(ur,Er){if(!Er)return[Je*ur/f,0];var kr=Er*Er,Jr=Je+kr*(ot+kr*(gt+kr*xt)),en=Er*(Ft-1+kr*(_t-pr+kr*Nt)),Sn=(Jr*Jr+en*en)/(2*en),Cn=ur*E(Jr/Sn)/f;return[Sn*u(Cn),Er*(1+kr*pr)+Sn*(1-T(Cn))]}return xr.invert=function(ur,Er){var kr=f*ur/Je,Jr=Er,en,Sn,Cn=50;do{var Nn=Jr*Jr,Aa=Je+Nn*(ot+Nn*(gt+Nn*xt)),Ba=Jr*(Ft-1+Nn*(_t-pr+Nn*Nt)),Ga=Aa*Aa+Ba*Ba,Wa=2*Ba,Ya=Ga/Wa,Di=Ya*Ya,vo=E(Aa/Ya)/f,Wi=kr*vo,ue=Aa*Aa,Le=(2*ot+Nn*(4*gt+Nn*6*xt))*Jr,Ve=Ft+Nn*(3*_t+Nn*5*Nt),et=2*(Aa*Le+Ba*(Ve-1)),at=2*(Ve-1),lt=(et*Wa-Ga*at)/(Wa*Wa),Dt=T(Wi),pt=u(Wi),Vt=Ya*Dt,rr=Ya*pt,ar=kr/f*(1/k(1-ue/Di))*(Le*Ya-Aa*lt)/Di,Dr=rr-ur,_r=Jr*(1+Nn*pr)+Ya-Vt-Er,qr=lt*pt+Vt*ar,on=Vt*vo,Fr=1+lt-(lt*Dt-rr*ar),Wr=rr*vo,Qr=qr*Wr-Fr*on;if(!Qr)break;kr-=en=(_r*qr-Dr*Fr)/Qr,Jr-=Sn=(Dr*Wr-_r*on)/Qr}while((R(en)>h||R(Sn)>h)&&--Cn>0);return[kr,Jr]},xr}var Br=Ur(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function Tn(){return(0,g.Z)(Br).scale(149.995)}var Kr=Ur(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Bn(){return(0,g.Z)(Kr).scale(153.93)}var On=Ur(5/6*f,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Tr(){return(0,g.Z)(On).scale(130.945)}function Mr(Je,ot){var gt=Je*Je,xt=ot*ot;return[Je*(1-.162388*xt)*(.87-952426e-9*gt*gt),ot*(1+xt/12)]}Mr.invert=function(Je,ot){var gt=Je,xt=ot,Ft=50,_t;do{var Nt=xt*xt;xt-=_t=(xt*(1+Nt/12)-ot)/(1+Nt/4)}while(R(_t)>h&&--Ft>0);Ft=50,Je/=1-.162388*Nt;do{var pr=(pr=gt*gt)*pr;gt-=_t=(gt*(.87-952426e-9*pr)-Je)/(.87-.00476213*pr)}while(R(_t)>h&&--Ft>0);return[gt,xt]};function Hr(){return(0,g.Z)(Mr).scale(131.747)}var Vr=Ur(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function nn(){return(0,g.Z)(Vr).scale(131.087)}function bn(Je){var ot=Je(o,0)[0]-Je(-o,0)[0];function gt(xt,Ft){var _t=xt>0?-.5:.5,Nt=Je(xt+_t*f,Ft);return Nt[0]-=_t*ot,Nt}return Je.invert&&(gt.invert=function(xt,Ft){var _t=xt>0?-.5:.5,Nt=Je.invert(xt+_t*ot,Ft),pr=Nt[0]-_t*f;return pr<-f?pr+=2*f:pr>f&&(pr-=2*f),Nt[0]=pr,Nt}),gt}function dn(Je,ot){var gt=c(Je),xt=c(ot),Ft=T(ot),_t=T(Je)*Ft,Nt=u(Je)*Ft,pr=u(xt*ot);Je=R(L(Nt,pr)),ot=E(_t),R(Je-o)>h&&(Je%=o);var xr=Pn(Je>f/4?o-Je:Je,ot);return Je>f/4&&(pr=xr[0],xr[0]=-xr[1],xr[1]=-pr),xr[0]*=gt,xr[1]*=-xt,xr}dn.invert=function(Je,ot){R(Je)>1&&(Je=c(Je)*2-Je),R(ot)>1&&(ot=c(ot)*2-ot);var gt=c(Je),xt=c(ot),Ft=-gt*Je,_t=-xt*ot,Nt=_t/Ft<1,pr=zn(Nt?_t:Ft,Nt?Ft:_t),xr=pr[0],ur=pr[1],Er=T(ur);return Nt&&(xr=-o-xr),[gt*(L(u(xr)*Er,-u(ur))+f),xt*E(T(xr)*Er)]};function Pn(Je,ot){if(ot===o)return[0,0];var gt=u(ot),xt=gt*gt,Ft=xt*xt,_t=1+Ft,Nt=1+3*Ft,pr=1-Ft,xr=E(1/k(_t)),ur=pr+xt*_t*xr,Er=(1-gt)/ur,kr=k(Er),Jr=Er*_t,en=k(Jr),Sn=kr*pr,Cn,Nn;if(Je===0)return[0,-(Sn+xt*en)];var Aa=T(ot),Ba=1/Aa,Ga=2*gt*Aa,Wa=(-3*xt+xr*Nt)*Ga,Ya=(-ur*Aa-(1-gt)*Wa)/(ur*ur),Di=.5*Ya/kr,vo=pr*Di-2*xt*kr*Ga,Wi=xt*_t*Ya+Er*Nt*Ga,ue=-Ba*Ga,Le=-Ba*Wi,Ve=-2*Ba*vo,et=4*Je/f,at;if(Je>.222*f||ot<f/4&&Je>.175*f){if(Cn=(Sn+xt*k(Jr*(1+Ft)-Sn*Sn))/(1+Ft),Je>f/4)return[Cn,Cn];var lt=Cn,Dt=.5*Cn;Cn=.5*(Dt+lt),Nn=50;do{var pt=k(Jr-Cn*Cn),Vt=Cn*(Ve+ue*pt)+Le*E(Cn/en)-et;if(!Vt)break;Vt<0?Dt=Cn:lt=Cn,Cn=.5*(Dt+lt)}while(R(lt-Dt)>h&&--Nn>0)}else{Cn=h,Nn=25;do{var rr=Cn*Cn,ar=k(Jr-rr),Dr=Ve+ue*ar,_r=Cn*Dr+Le*E(Cn/en)-et,qr=Dr+(Le-ue*rr)/ar;Cn-=at=ar?_r/qr:0}while(R(at)>h&&--Nn>0)}return[Cn,-Sn-xt*k(Jr-Cn*Cn)]}function zn(Je,ot){for(var gt=0,xt=1,Ft=.5,_t=50;;){var Nt=Ft*Ft,pr=k(Ft),xr=E(1/k(1+Nt)),ur=1-Nt+Ft*(1+Nt)*xr,Er=(1-pr)/ur,kr=k(Er),Jr=Er*(1+Nt),en=kr*(1-Nt),Sn=Jr-Je*Je,Cn=k(Sn),Nn=ot+en+Ft*Cn;if(R(xt-gt)<b||--_t===0||Nn===0)break;Nn>0?gt=Ft:xt=Ft,Ft=.5*(gt+xt)}if(!_t)return null;var Aa=E(pr),Ba=T(Aa),Ga=1/Ba,Wa=2*pr*Ba,Ya=(-3*Ft+xr*(1+3*Nt))*Wa,Di=(-ur*Ba-(1-pr)*Ya)/(ur*ur),vo=.5*Di/kr,Wi=(1-Nt)*vo-2*Ft*kr*Wa,ue=-2*Ga*Wi,Le=-Ga*Wa,Ve=-Ga*(Ft*(1+Nt)*Di+Er*(1+3*Nt)*Wa);return[f/4*(Je*(ue+Le*Cn)+Ve*E(Je/k(Jr))),Aa]}function ta(){return(0,g.Z)(bn(dn)).scale(239.75)}function oa(Je,ot,gt){var xt,Ft,_t;return Je?(xt=ya(Je,gt),ot?(Ft=ya(ot,1-gt),_t=Ft[1]*Ft[1]+gt*xt[0]*xt[0]*Ft[0]*Ft[0],[[xt[0]*Ft[2]/_t,xt[1]*xt[2]*Ft[0]*Ft[1]/_t],[xt[1]*Ft[1]/_t,-xt[0]*xt[2]*Ft[0]*Ft[2]/_t],[xt[2]*Ft[1]*Ft[2]/_t,-gt*xt[0]*xt[1]*Ft[0]/_t]]):[[xt[0],0],[xt[1],0],[xt[2],0]]):(Ft=ya(ot,1-gt),[[0,Ft[0]/Ft[1]],[1/Ft[1],0],[Ft[2]/Ft[1],0]])}function ya(Je,ot){var gt,xt,Ft,_t,Nt;if(ot<h)return _t=u(Je),xt=T(Je),gt=ot*(Je-_t*xt)/4,[_t-gt*xt,xt+gt*_t,1-ot*_t*_t/2,Je-gt];if(ot>=1-h)return gt=(1-ot)/4,xt=z(Je),_t=I(Je),Ft=1/xt,Nt=xt*U(Je),[_t+gt*(Nt-Je)/(xt*xt),Ft-gt*_t*Ft*(Nt-Je),Ft+gt*_t*Ft*(Nt+Je),2*i(v(Je))-o+gt*(Nt-Je)/xt];var pr=[1,0,0,0,0,0,0,0,0],xr=[k(ot),0,0,0,0,0,0,0,0],ur=0;for(xt=k(1-ot),Nt=1;R(xr[ur]/pr[ur])>h&&ur<8;)gt=pr[ur++],xr[ur]=(gt-xt)/2,pr[ur]=(gt+xt)/2,xt=k(gt*xt),Nt*=2;Ft=Nt*pr[ur]*Je;do _t=xr[ur]*u(xt=Ft)/pr[ur],Ft=(E(_t)+Ft)/2;while(--ur);return[u(Ft),_t=T(Ft),_t/T(Ft-xt),Ft]}function ca(Je,ot,gt){var xt=R(Je),Ft=R(ot),_t=U(Ft);if(xt){var Nt=1/u(xt),pr=1/(y(xt)*y(xt)),xr=-(pr+gt*(_t*_t*Nt*Nt)-1+gt),ur=(gt-1)*pr,Er=(-xr+k(xr*xr-4*ur))/2;return[la(i(1/k(Er)),gt)*c(Je),la(i(k((Er/pr-1)/gt)),1-gt)*c(ot)]}return[0,la(i(_t),1-gt)*c(ot)]}function la(Je,ot){if(!ot)return Je;if(ot===1)return t(y(Je/2+d));for(var gt=1,xt=k(1-ot),Ft=k(ot),_t=0;R(Ft)>h;_t++){if(Je%f){var Nt=i(xt*y(Je)/gt);Nt<0&&(Nt+=f),Je+=Nt+~~(Je/f)*f}else Je+=Je;Ft=(gt+xt)/2,xt=k(gt*xt),Ft=((gt=Ft)-xt)/2}return Je/(n(2,_t)*gt)}function Pr(Je,ot){var gt=(M-1)/(M+1),xt=k(1-gt*gt),Ft=la(o,xt*xt),_t=-1,Nt=t(y(f/4+R(ot)/2)),pr=v(_t*Nt)/k(gt),xr=hn(pr*T(_t*Je),pr*u(_t*Je)),ur=ca(xr[0],xr[1],xt*xt);return[-ur[1],(ot>=0?1:-1)*(.5*Ft-ur[0])]}function hn(Je,ot){var gt=Je*Je,xt=ot+1,Ft=1-gt-ot*ot;return[.5*((Je>=0?o:-o)-L(Ft,2*Je)),-.25*t(Ft*Ft+4*gt)+.5*t(xt*xt+gt)]}function un(Je,ot){var gt=ot[0]*ot[0]+ot[1]*ot[1];return[(Je[0]*ot[0]+Je[1]*ot[1])/gt,(Je[1]*ot[0]-Je[0]*ot[1])/gt]}Pr.invert=function(Je,ot){var gt=(M-1)/(M+1),xt=k(1-gt*gt),Ft=la(o,xt*xt),_t=-1,Nt=oa(.5*Ft-ot,-Je,xt*xt),pr=un(Nt[0],Nt[1]),xr=L(pr[1],pr[0])/_t;return[xr,2*i(v(.5/_t*t(gt*pr[0]*pr[0]+gt*pr[1]*pr[1])))-o]};function wn(){return(0,g.Z)(bn(Pr)).scale(151.496)}var Zn=e(7613);function In(Je){var ot=u(Je),gt=T(Je),xt=Dn(Je);xt.invert=Dn(-Je);function Ft(_t,Nt){var pr=xt(_t,Nt);_t=pr[0],Nt=pr[1];var xr=u(Nt),ur=T(Nt),Er=T(_t),kr=w(ot*xr+gt*ur*Er),Jr=u(kr),en=R(Jr)>h?kr/Jr:1;return[en*gt*u(_t),(R(_t)>o?en:-en)*(ot*ur-gt*xr*Er)]}return Ft.invert=function(_t,Nt){var pr=k(_t*_t+Nt*Nt),xr=-u(pr),ur=T(pr),Er=pr*ur,kr=-Nt*xr,Jr=pr*ot,en=k(Er*Er+kr*kr-Jr*Jr),Sn=L(Er*Jr+kr*en,kr*Jr-Er*en),Cn=(pr>o?-1:1)*L(_t*xr,pr*T(Sn)*ur+Nt*u(Sn)*xr);return xt.invert(Cn,Sn)},Ft}function Dn(Je){var ot=u(Je),gt=T(Je);return function(xt,Ft){var _t=T(Ft),Nt=T(xt)*_t,pr=u(xt)*_t,xr=u(Ft);return[L(pr,Nt*gt-xr*ot),E(xr*gt+Nt*ot)]}}function jn(){var Je=0,ot=(0,g.r)(In),gt=ot(Je),xt=gt.rotate,Ft=gt.stream,_t=(0,Zn.Z)();return gt.parallel=function(Nt){if(!arguments.length)return Je*S;var pr=gt.rotate();return ot(Je=Nt*x).rotate(pr)},gt.rotate=function(Nt){return arguments.length?(xt.call(gt,[Nt[0],Nt[1]-Je*S]),_t.center([-Nt[0],-Nt[1]]),gt):(Nt=xt.call(gt),Nt[1]+=Je*S,Nt)},gt.stream=function(Nt){return Nt=Ft(Nt),Nt.sphere=function(){Nt.polygonStart();var pr=.01,xr=_t.radius(90-pr)().coordinates[0],ur=xr.length-1,Er=-1,kr;for(Nt.lineStart();++Er<ur;)Nt.point((kr=xr[Er])[0],kr[1]);for(Nt.lineEnd(),xr=_t.radius(90+pr)().coordinates[0],ur=xr.length-1,Nt.lineStart();--Er>=0;)Nt.point((kr=xr[Er])[0],kr[1]);Nt.lineEnd(),Nt.polygonEnd()},Nt},gt.scale(79.4187).parallel(45).clipAngle(179.999)}var va=e(33064),Ia=e(72736),hi=3,Kt=E(1-1/hi)*S,Sr=Pt(0);function fn(Je){var ot=Kt*x,gt=Oe(f,ot)[0]-Oe(-f,ot)[0],xt=Sr(0,ot)[1],Ft=Oe(0,ot)[1],_t=C-Ft,Nt=m/Je,pr=4/m,xr=xt+_t*_t*4/m;function ur(Er,kr){var Jr,en=R(kr);if(en>ot){var Sn=l(Je-1,r(0,p((Er+f)/Nt)));Er+=f*(Je-1)/Je-Sn*Nt,Jr=Oe(Er,en),Jr[0]=Jr[0]*m/gt-m*(Je-1)/(2*Je)+Sn*m/Je,Jr[1]=xt+(Jr[1]-Ft)*4*_t/m,kr<0&&(Jr[1]=-Jr[1])}else Jr=Sr(Er,kr);return Jr[0]*=pr,Jr[1]/=xr,Jr}return ur.invert=function(Er,kr){Er/=pr,kr*=xr;var Jr=R(kr);if(Jr>xt){var en=l(Je-1,r(0,p((Er+f)/Nt)));Er=(Er+f*(Je-1)/Je-en*Nt)*gt/m;var Sn=Oe.invert(Er,.25*(Jr-xt)*m/_t+Ft);return Sn[0]-=f*(Je-1)/Je-en*Nt,kr<0&&(Sn[1]=-Sn[1]),Sn}return Sr.invert(Er,kr)},ur}function gn(Je,ot){return[Je,ot&1?90-h:Kt]}function yn(Je,ot){return[Je,ot&1?-90+h:-Kt]}function Fn(Je){return[Je[0]*(1-h),Je[1]]}function Ln(Je){var ot=[].concat((0,va.w6)(-180,180+Je/2,Je).map(gn),(0,va.w6)(180,-180-Je/2,-Je).map(yn));return{type:"Polygon",coordinates:[Je===180?ot.map(Fn):ot]}}function ln(){var Je=4,ot=(0,g.r)(fn),gt=ot(Je),xt=gt.stream;return gt.lobes=function(Ft){return arguments.length?ot(Je=+Ft):Je},gt.stream=function(Ft){var _t=gt.rotate(),Nt=xt(Ft),pr=(gt.rotate([0,0]),xt(Ft));return gt.rotate(_t),Nt.sphere=function(){(0,Ia.Z)(Ln(180/Je),pr)},Nt},gt.scale(239.75)}function Ir(Je){var ot=1+Je,gt=u(1/ot),xt=E(gt),Ft=2*k(f/(_t=f+4*xt*ot)),_t,Nt=.5*Ft*(ot+k(Je*(2+Je))),pr=Je*Je,xr=ot*ot;function ur(Er,kr){var Jr=1-u(kr),en,Sn;if(Jr&&Jr<2){var Cn=o-kr,Nn=25,Aa;do{var Ba=u(Cn),Ga=T(Cn),Wa=xt+L(Ba,ot-Ga),Ya=1+xr-2*ot*Ga;Cn-=Aa=(Cn-pr*xt-ot*Ba+Ya*Wa-.5*Jr*_t)/(2*ot*Ba*Wa)}while(R(Aa)>b&&--Nn>0);en=Ft*k(Ya),Sn=Er*Wa/f}else en=Ft*(Je+Jr),Sn=Er*xt/f;return[en*u(Sn),Nt-en*T(Sn)]}return ur.invert=function(Er,kr){var Jr=Er*Er+(kr-=Nt)*kr,en=(1+xr-Jr/(Ft*Ft))/(2*ot),Sn=w(en),Cn=u(Sn),Nn=xt+L(Cn,ot-en);return[E(Er/k(Jr))*f/Nn,E(1-2*(Sn-pr*xt-ot*Cn+(1+xr-2*ot*en)*Nn)/_t)]},ur}function Rr(){var Je=1,ot=(0,g.r)(Ir),gt=ot(Je);return gt.ratio=function(xt){return arguments.length?ot(Je=+xt):Je},gt.scale(167.774).center([0,18.67])}var Nr=.7109889596207567,xn=.0528035274542;function Hn(Je,ot){return ot>-Nr?(Je=we(Je,ot),Je[1]+=xn,Je):Ke(Je,ot)}Hn.invert=function(Je,ot){return ot>-Nr?we.invert(Je,ot-xn):Ke.invert(Je,ot)};function Qn(){return(0,g.Z)(Hn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function An(Je,ot){return R(ot)>Nr?(Je=we(Je,ot),Je[1]-=ot>0?xn:-xn,Je):Ke(Je,ot)}An.invert=function(Je,ot){return R(ot)>Nr?we.invert(Je,ot+(ot>0?xn:-xn)):Ke.invert(Je,ot)};function Wn(){return(0,g.Z)(An).scale(152.63)}function ua(Je,ot,gt,xt){var Ft=k(4*f/(2*gt+(1+Je-ot/2)*u(2*gt)+(Je+ot)/2*u(4*gt)+ot/2*u(6*gt))),_t=k(xt*u(gt)*k((1+Je*T(2*gt)+ot*T(4*gt))/(1+Je+ot))),Nt=gt*xr(1);function pr(kr){return k(1+Je*T(2*kr)+ot*T(4*kr))}function xr(kr){var Jr=kr*gt;return(2*Jr+(1+Je-ot/2)*u(2*Jr)+(Je+ot)/2*u(4*Jr)+ot/2*u(6*Jr))/gt}function ur(kr){return pr(kr)*u(kr)}var Er=function(kr,Jr){var en=gt*Se(xr,Nt*u(Jr)/gt,Jr/f);isNaN(en)&&(en=gt*c(Jr));var Sn=Ft*pr(en);return[Sn*_t*kr/f*T(en),Sn/_t*u(en)]};return Er.invert=function(kr,Jr){var en=Se(ur,Jr*_t/Ft);return[kr*f/(T(en)*Ft*_t*pr(en)),E(gt*xr(en/gt)/Nt)]},gt===0&&(Ft=k(xt/f),Er=function(kr,Jr){return[kr*Ft,u(Jr)/Ft]},Er.invert=function(kr,Jr){return[kr/Ft,E(Jr*Ft)]}),Er}function ma(){var Je=1,ot=0,gt=45*x,xt=2,Ft=(0,g.r)(ua),_t=Ft(Je,ot,gt,xt);return _t.a=function(Nt){return arguments.length?Ft(Je=+Nt,ot,gt,xt):Je},_t.b=function(Nt){return arguments.length?Ft(Je,ot=+Nt,gt,xt):ot},_t.psiMax=function(Nt){return arguments.length?Ft(Je,ot,gt=+Nt*x,xt):gt*S},_t.ratio=function(Nt){return arguments.length?Ft(Je,ot,gt,xt=+Nt):xt},_t.scale(180.739)}function da(Je,ot,gt,xt,Ft,_t,Nt,pr,xr,ur,Er){if(Er.nanEncountered)return NaN;var kr,Jr,en,Sn,Cn,Nn,Aa,Ba,Ga,Wa;if(kr=gt-ot,Jr=Je(ot+kr*.25),en=Je(gt-kr*.25),isNaN(Jr)){Er.nanEncountered=!0;return}if(isNaN(en)){Er.nanEncountered=!0;return}return Sn=kr*(xt+4*Jr+Ft)/12,Cn=kr*(Ft+4*en+_t)/12,Nn=Sn+Cn,Wa=(Nn-Nt)/15,ur>xr?(Er.maxDepthCount++,Nn+Wa):Math.abs(Wa)<pr?Nn+Wa:(Aa=ot+kr*.5,Ba=da(Je,ot,Aa,xt,Jr,Ft,Sn,pr*.5,xr,ur+1,Er),isNaN(Ba)?(Er.nanEncountered=!0,NaN):(Ga=da(Je,Aa,gt,Ft,en,_t,Cn,pr*.5,xr,ur+1,Er),isNaN(Ga)?(Er.nanEncountered=!0,NaN):Ba+Ga))}function pa(Je,ot,gt,xt,Ft){var _t={maxDepthCount:0,nanEncountered:!1};xt===void 0&&(xt=1e-8),Ft===void 0&&(Ft=20);var Nt=Je(ot),pr=Je(.5*(ot+gt)),xr=Je(gt),ur=(Nt+4*pr+xr)*(gt-ot)/6,Er=da(Je,ot,gt,Nt,pr,xr,ur,xt,Ft,1,_t);return Er}function ba(Je,ot,gt){function xt(en){return Je+(1-Je)*n(1-n(en,ot),1/ot)}function Ft(en){return pa(xt,0,en,1e-4)}for(var _t=1/Ft(1),Nt=1e3,pr=(1+1e-8)*_t,xr=[],ur=0;ur<=Nt;ur++)xr.push(Ft(ur/Nt)*pr);function Er(en){var Sn=0,Cn=Nt,Nn=Nt>>1;do xr[Nn]>en?Cn=Nn:Sn=Nn,Nn=Sn+Cn>>1;while(Nn>Sn);var Aa=xr[Nn+1]-xr[Nn];return Aa&&(Aa=(en-xr[Nn+1])/Aa),(Nn+1+Aa)/Nt}var kr=2*Er(1)/f*_t/gt,Jr=function(en,Sn){var Cn=Er(R(u(Sn))),Nn=xt(Cn)*en;return Cn/=kr,[Nn,Sn>=0?Cn:-Cn]};return Jr.invert=function(en,Sn){var Cn;return Sn*=kr,R(Sn)<1&&(Cn=c(Sn)*E(Ft(R(Sn))*_t)),[en/xt(R(Sn)),Cn]},Jr}function So(){var Je=0,ot=2.5,gt=1.183136,xt=(0,g.r)(ba),Ft=xt(Je,ot,gt);return Ft.alpha=function(_t){return arguments.length?xt(Je=+_t,ot,gt):Je},Ft.k=function(_t){return arguments.length?xt(Je,ot=+_t,gt):ot},Ft.gamma=function(_t){return arguments.length?xt(Je,ot,gt=+_t):gt},Ft.scale(152.63)}function _o(Je,ot){return R(Je[0]-ot[0])<h&&R(Je[1]-ot[1])<h}function Go(Je,ot){for(var gt=-1,xt=Je.length,Ft=Je[0],_t,Nt,pr,xr=[];++gt<xt;){_t=Je[gt],Nt=(_t[0]-Ft[0])/ot,pr=(_t[1]-Ft[1])/ot;for(var ur=0;ur<ot;++ur)xr.push([Ft[0]+ur*Nt,Ft[1]+ur*pr]);Ft=_t}return xr.push(_t),xr}function Ko(Je){var ot=[],gt,xt,Ft,_t,Nt,pr,xr,ur=Je[0].length;for(xr=0;xr<ur;++xr)gt=Je[0][xr],xt=gt[0][0],Ft=gt[0][1],_t=gt[1][1],Nt=gt[2][0],pr=gt[2][1],ot.push(Go([[xt+h,Ft+h],[xt+h,_t-h],[Nt-h,_t-h],[Nt-h,pr+h]],30));for(xr=Je[1].length-1;xr>=0;--xr)gt=Je[1][xr],xt=gt[0][0],Ft=gt[0][1],_t=gt[1][1],Nt=gt[2][0],pr=gt[2][1],ot.push(Go([[Nt-h,pr-h],[Nt-h,_t+h],[xt+h,_t+h],[xt+h,Ft-h]],30));return{type:"Polygon",coordinates:[(0,va.TS)(ot)]}}function Wo(Je,ot,gt){var xt,Ft;function _t(xr,ur){for(var Er=ur<0?-1:1,kr=ot[+(ur<0)],Jr=0,en=kr.length-1;Jr<en&&xr>kr[Jr][2][0];++Jr);var Sn=Je(xr-kr[Jr][1][0],ur);return Sn[0]+=Je(kr[Jr][1][0],Er*ur>Er*kr[Jr][0][1]?kr[Jr][0][1]:ur)[0],Sn}gt?_t.invert=gt(_t):Je.invert&&(_t.invert=function(xr,ur){for(var Er=Ft[+(ur<0)],kr=ot[+(ur<0)],Jr=0,en=Er.length;Jr<en;++Jr){var Sn=Er[Jr];if(Sn[0][0]<=xr&&xr<Sn[1][0]&&Sn[0][1]<=ur&&ur<Sn[1][1]){var Cn=Je.invert(xr-Je(kr[Jr][1][0],0)[0],ur);return Cn[0]+=kr[Jr][1][0],_o(_t(Cn[0],Cn[1]),[xr,ur])?Cn:null}}});var Nt=(0,g.Z)(_t),pr=Nt.stream;return Nt.stream=function(xr){var ur=Nt.rotate(),Er=pr(xr),kr=(Nt.rotate([0,0]),pr(xr));return Nt.rotate(ur),Er.sphere=function(){(0,Ia.Z)(xt,kr)},Er},Nt.lobes=function(xr){return arguments.length?(xt=Ko(xr),ot=xr.map(function(ur){return ur.map(function(Er){return[[Er[0][0]*x,Er[0][1]*x],[Er[1][0]*x,Er[1][1]*x],[Er[2][0]*x,Er[2][1]*x]]})}),Ft=ot.map(function(ur){return ur.map(function(Er){var kr=Je(Er[0][0],Er[0][1])[0],Jr=Je(Er[2][0],Er[2][1])[0],en=Je(Er[1][0],Er[0][1])[1],Sn=Je(Er[1][0],Er[1][1])[1],Cn;return en>Sn&&(Cn=en,en=Sn,Sn=Cn),[[kr,en],[Jr,Sn]]})}),Nt):ot.map(function(ur){return ur.map(function(Er){return[[Er[0][0]*S,Er[0][1]*S],[Er[1][0]*S,Er[1][1]*S],[Er[2][0]*S,Er[2][1]*S]]})})},ot!=null&&Nt.lobes(ot),Nt}var Uu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function xi(){return Wo(Ge,Uu).scale(160.857)}var Fl=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Jl(){return Wo(An,Fl).scale(152.63)}var Do=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function bo(){return Wo(we,Do).scale(169.529)}var uf=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Ql(){return Wo(we,uf).scale(169.529).rotate([20,0])}var Xi=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function $l(){return Wo(Hn,Xi,Ee).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var ss=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function wo(){return Wo(Ke,ss).scale(152.63).rotate([-20,0])}function ps(Je,ot){return[3/m*Je*k(f*f/3-ot*ot),ot]}ps.invert=function(Je,ot){return[m/3*Je/k(f*f/3-ot*ot),ot]};function jo(){return(0,g.Z)(ps).scale(158.837)}function To(Je){function ot(gt,xt){if(R(R(xt)-o)<h)return[0,xt<0?-2:2];var Ft=u(xt),_t=n((1+Ft)/(1-Ft),Je/2),Nt=.5*(_t+1/_t)+T(gt*=Je);return[2*u(gt)/Nt,(_t-1/_t)/Nt]}return ot.invert=function(gt,xt){var Ft=R(xt);if(R(Ft-2)<h)return gt?null:[0,c(xt)*o];if(Ft>2)return null;gt/=2,xt/=2;var _t=gt*gt,Nt=xt*xt,pr=2*xt/(1+_t+Nt);return pr=n((1+pr)/(1-pr),1/Je),[L(2*gt,1-_t-Nt)/Je,E((pr-1)/(pr+1))]},ot}function _s(){var Je=.5,ot=(0,g.r)(To),gt=ot(Je);return gt.spacing=function(xt){return arguments.length?ot(Je=+xt):Je},gt.scale(124.75)}var qs=f/M;function Oo(Je,ot){return[Je*(1+k(T(ot)))/2,ot/(T(ot/2)*T(Je/6))]}Oo.invert=function(Je,ot){var gt=R(Je),xt=R(ot),Ft=h,_t=o;xt<qs?_t*=xt/qs:Ft+=6*w(qs/xt);for(var Nt=0;Nt<25;Nt++){var pr=u(_t),xr=k(T(_t)),ur=u(_t/2),Er=T(_t/2),kr=u(Ft/6),Jr=T(Ft/6),en=.5*Ft*(1+xr)-gt,Sn=_t/(Er*Jr)-xt,Cn=xr?-.25*Ft*pr/xr:0,Nn=.5*(1+xr),Aa=(1+.5*_t*ur/Er)/(Er*Jr),Ba=_t/Er*(kr/6)/(Jr*Jr),Ga=Cn*Ba-Aa*Nn,Wa=(en*Ba-Sn*Nn)/Ga,Ya=(Sn*Cn-en*Aa)/Ga;if(_t-=Wa,Ft-=Ya,R(Wa)<h&&R(Ya)<h)break}return[Je<0?-Ft:Ft,ot<0?-_t:_t]};function Hf(){return(0,g.Z)(Oo).scale(97.2672)}function Hs(Je,ot){var gt=Je*Je,xt=ot*ot;return[Je*(.975534+xt*(-.119161+gt*-.0143059+xt*-.0547009)),ot*(1.00384+gt*(.0802894+xt*-.02855+gt*199025e-9)+xt*(.0998909+xt*-.0491032))]}Hs.invert=function(Je,ot){var gt=c(Je)*f,xt=ot/2,Ft=50;do{var _t=gt*gt,Nt=xt*xt,pr=gt*xt,xr=gt*(.975534+Nt*(-.119161+_t*-.0143059+Nt*-.0547009))-Je,ur=xt*(1.00384+_t*(.0802894+Nt*-.02855+_t*199025e-9)+Nt*(.0998909+Nt*-.0491032))-ot,Er=.975534-Nt*(.119161+3*_t*.0143059+Nt*.0547009),kr=-pr*(2*.119161+4*.0547009*Nt+2*.0143059*_t),Jr=pr*(2*.0802894+4*199025e-9*_t+2*-.02855*Nt),en=1.00384+_t*(.0802894+199025e-9*_t)+Nt*(3*(.0998909-.02855*_t)-5*.0491032*Nt),Sn=kr*Jr-en*Er,Cn=(ur*kr-xr*en)/Sn,Nn=(xr*Jr-ur*Er)/Sn;gt-=Cn,xt-=Nn}while((R(Cn)>h||R(Nn)>h)&&--Ft>0);return Ft&&[gt,xt]};function No(){return(0,g.Z)(Hs).scale(139.98)}function ff(Je,ot){return[u(Je)/T(ot),y(ot)*T(Je)]}ff.invert=function(Je,ot){var gt=Je*Je,xt=ot*ot,Ft=xt+1,_t=gt+Ft,Nt=Je?A*k((_t-k(_t*_t-4*gt))/gt):1/k(Ft);return[E(Je*Nt),c(ot)*w(Nt)]};function el(){return(0,g.Z)(ff).scale(144.049).clipAngle(89.999)}function Vs(Je){var ot=T(Je),gt=y(d+Je/2);function xt(Ft,_t){var Nt=_t-Je,pr=R(Nt)<h?Ft*ot:R(pr=d+_t/2)<h||R(R(pr)-o)<h?0:Ft*Nt/t(y(pr)/gt);return[pr,Nt]}return xt.invert=function(Ft,_t){var Nt,pr=_t+Je;return[R(_t)<h?Ft/ot:R(Nt=d+pr/2)<h||R(R(Nt)-o)<h?0:Ft*t(y(Nt)/gt)/_t,pr]},xt}function gu(){return qe(Vs).parallel(40).scale(158.837)}function ql(Je,ot){return[Je,1.25*t(y(d+.4*ot))]}ql.invert=function(Je,ot){return[Je,2.5*i(v(.8*ot))-.625*f]};function Vf(){return(0,g.Z)(ql).scale(108.318)}function eu(Je){var ot=Je.length-1;function gt(xt,Ft){for(var _t=T(Ft),Nt=2/(1+_t*T(xt)),pr=Nt*_t*u(xt),xr=Nt*u(Ft),ur=ot,Er=Je[ur],kr=Er[0],Jr=Er[1],en;--ur>=0;)Er=Je[ur],kr=Er[0]+pr*(en=kr)-xr*Jr,Jr=Er[1]+pr*Jr+xr*en;return kr=pr*(en=kr)-xr*Jr,Jr=pr*Jr+xr*en,[kr,Jr]}return gt.invert=function(xt,Ft){var _t=20,Nt=xt,pr=Ft;do{for(var xr=ot,ur=Je[xr],Er=ur[0],kr=ur[1],Jr=0,en=0,Sn;--xr>=0;)ur=Je[xr],Jr=Er+Nt*(Sn=Jr)-pr*en,en=kr+Nt*en+pr*Sn,Er=ur[0]+Nt*(Sn=Er)-pr*kr,kr=ur[1]+Nt*kr+pr*Sn;Jr=Er+Nt*(Sn=Jr)-pr*en,en=kr+Nt*en+pr*Sn,Er=Nt*(Sn=Er)-pr*kr-xt,kr=Nt*kr+pr*Sn-Ft;var Cn=Jr*Jr+en*en,Nn,Aa;Nt-=Nn=(Er*Jr+kr*en)/Cn,pr-=Aa=(kr*Jr-Er*en)/Cn}while(R(Nn)+R(Aa)>h*h&&--_t>0);if(_t){var Ba=k(Nt*Nt+pr*pr),Ga=2*i(Ba*.5),Wa=u(Ga);return[L(Nt*Wa,Ba*T(Ga)),Ba?E(pr*Wa/Ba):0]}},gt}var Hu=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Gf=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],yc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],cf=[[.9245,0],[0,0],[.01943,0]],mc=[[.721316,0],[0,0],[-.00881625,-.00617325]];function zl(){return Ds(Hu,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Wf(){return Ds(Gf,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function xc(){return Ds(yc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Vu(){return Ds(cf,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Gu(){return Ds(mc,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Ds(Je,ot){var gt=(0,g.Z)(eu(Je)).rotate(ot).clipAngle(90),xt=(0,rt.Z)(ot),Ft=gt.center;return delete gt.rotate,gt.center=function(_t){return arguments.length?Ft(xt(_t)):xt.invert(Ft())},gt}var yl=k(6),tu=k(7);function Wu(Je,ot){var gt=E(7*u(ot)/(3*yl));return[yl*Je*(2*T(2*gt/3)-1)/tu,9*u(gt/3)/tu]}Wu.invert=function(Je,ot){var gt=3*E(ot*tu/9);return[Je*tu/(yl*(2*T(2*gt/3)-1)),E(u(gt)*3*yl/7)]};function yu(){return(0,g.Z)(Wu).scale(164.859)}function tl(Je,ot){for(var gt=(1+A)*u(ot),xt=ot,Ft=0,_t;Ft<25&&(xt-=_t=(u(xt/2)+u(xt)-gt)/(.5*T(xt/2)+T(xt)),!(R(_t)<h));Ft++);return[Je*(1+2*T(xt)/T(xt/2))/(3*M),2*k(3)*u(xt/2)/k(2+M)]}tl.invert=function(Je,ot){var gt=ot*k(2+M)/(2*k(3)),xt=2*E(gt);return[3*M*Je/(1+2*T(xt)/T(xt/2)),E((gt+u(xt))/(1+A))]};function hf(){return(0,g.Z)(tl).scale(188.209)}function vf(Je,ot){for(var gt=k(6/(4+f)),xt=(1+f/4)*u(ot),Ft=ot/2,_t=0,Nt;_t<25&&(Ft-=Nt=(Ft/2+u(Ft)-xt)/(.5+T(Ft)),!(R(Nt)<h));_t++);return[gt*(.5+T(Ft))*Je/1.5,gt*Ft]}vf.invert=function(Je,ot){var gt=k(6/(4+f)),xt=ot/gt;return R(R(xt)-o)<h&&(xt=xt<0?-o:o),[1.5*Je/(gt*(.5+T(xt))),E((xt/2+u(xt))/(1+f/4))]};function jf(){return(0,g.Z)(vf).scale(166.518)}var Jo=e(26867);function ml(Je,ot){var gt=ot*ot,xt=gt*gt,Ft=gt*xt;return[Je*(.84719-.13063*gt+Ft*Ft*(-.04515+.05494*gt-.02326*xt+.00331*Ft)),ot*(1.01183+xt*xt*(-.02625+.01926*gt-.00396*xt))]}ml.invert=function(Je,ot){var gt=ot,xt=25,Ft,_t,Nt,pr;do _t=gt*gt,Nt=_t*_t,gt-=Ft=(gt*(1.01183+Nt*Nt*(-.02625+.01926*_t-.00396*Nt))-ot)/(1.01183+Nt*Nt*(-.23625+.21186*_t+-.05148*Nt));while(R(Ft)>b&&--xt>0);return _t=gt*gt,Nt=_t*_t,pr=_t*Nt,[Je/(.84719-.13063*_t+pr*pr*(-.04515+.05494*_t-.02326*Nt+.00331*pr)),gt]};function Ol(){return(0,g.Z)(ml).scale(175.295)}function Nl(Je,ot){return[Je*(1+T(ot))/2,2*(ot-y(ot/2))]}Nl.invert=function(Je,ot){for(var gt=ot/2,xt=0,Ft=1/0;xt<10&&R(Ft)>h;++xt){var _t=T(ot/2);ot-=Ft=(ot-y(ot/2)-gt)/(1-.5/(_t*_t))}return[2*Je/(1+T(ot)),ot]};function Ts(){return(0,g.Z)(Nl).scale(152.63)}var Qo=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function ju(){return Wo(ie(1/0),Qo).rotate([20,0]).scale(152.63)}function rl(Je,ot){var gt=u(ot),xt=T(ot),Ft=c(Je);if(Je===0||R(ot)===o)return[0,ot];if(ot===0)return[Je,0];if(R(Je)===o)return[Je*xt,o*gt];var _t=f/(2*Je)-2*Je/f,Nt=2*ot/f,pr=(1-Nt*Nt)/(gt-Nt),xr=_t*_t,ur=pr*pr,Er=1+xr/ur,kr=1+ur/xr,Jr=(_t*gt/pr-_t/2)/Er,en=(ur*gt/xr+pr/2)/kr,Sn=Jr*Jr+xt*xt/Er,Cn=en*en-(ur*gt*gt/xr+pr*gt-1)/kr;return[o*(Jr+k(Sn)*Ft),o*(en+k(Cn<0?0:Cn)*c(-ot*_t)*Ft)]}rl.invert=function(Je,ot){Je/=o,ot/=o;var gt=Je*Je,xt=ot*ot,Ft=gt+xt,_t=f*f;return[Je?(Ft-1+k((1-Ft)*(1-Ft)+4*gt))/(2*Je)*o:0,Se(function(Nt){return Ft*(f*u(Nt)-2*Nt)*f+4*Nt*Nt*(ot-u(Nt))+2*f*Nt-_t*ot},0)]};function ks(){return(0,g.Z)(rl).scale(127.267)}var co=1.0148,df=.23185,xl=-.14499,ir=.02406,tt=co,Ut=5*df,Lr=7*xl,Mn=9*ir,mn=1.790857183;function Vn(Je,ot){var gt=ot*ot;return[Je,ot*(co+gt*gt*(df+gt*(xl+ir*gt)))]}Vn.invert=function(Je,ot){ot>mn?ot=mn:ot<-mn&&(ot=-mn);var gt=ot,xt;do{var Ft=gt*gt;gt-=xt=(gt*(co+Ft*Ft*(df+Ft*(xl+ir*Ft)))-ot)/(tt+Ft*Ft*(Ut+Ft*(Lr+Mn*Ft)))}while(R(xt)>h);return[Je,gt]};function aa(){return(0,g.Z)(Vn).scale(139.319)}function Sa(Je,ot){if(R(ot)<h)return[Je,0];var gt=y(ot),xt=Je*u(ot);return[u(xt)/gt,ot+(1-T(xt))/gt]}Sa.invert=function(Je,ot){if(R(ot)<h)return[Je,0];var gt=Je*Je+ot*ot,xt=ot*.5,Ft=10,_t;do{var Nt=y(xt),pr=1/T(xt),xr=gt-2*ot*xt+xt*xt;xt-=_t=(Nt*xr+2*(xt-ot))/(2+xr*pr*pr+2*(xt-ot)*Nt)}while(R(_t)>h&&--Ft>0);return Nt=y(xt),[(R(ot)<R(xt+1/Nt)?E(Je*Nt):c(ot)*c(Je)*(w(R(Je*Nt))+o))/u(xt),xt]};function Va(){return(0,g.Z)(Sa).scale(103.74)}var Ha=e(77338),ka=e(83074);function ci(Je,ot){var gt=ii(Je[1],Je[0]),xt=ii(ot[1],ot[0]),Ft=zi(gt,xt),_t=si(gt)/si(xt);return ai([1,0,Je[0][0],0,1,Je[0][1]],ai([_t,0,0,0,_t,0],ai([T(Ft),u(Ft),0,-u(Ft),T(Ft),0],[1,0,-ot[0][0],0,1,-ot[0][1]])))}function ri(Je){var ot=1/(Je[0]*Je[4]-Je[1]*Je[3]);return[ot*Je[4],-ot*Je[1],ot*(Je[1]*Je[5]-Je[2]*Je[4]),-ot*Je[3],ot*Je[0],ot*(Je[2]*Je[3]-Je[0]*Je[5])]}function ai(Je,ot){return[Je[0]*ot[0]+Je[1]*ot[3],Je[0]*ot[1]+Je[1]*ot[4],Je[0]*ot[2]+Je[1]*ot[5]+Je[2],Je[3]*ot[0]+Je[4]*ot[3],Je[3]*ot[1]+Je[4]*ot[4],Je[3]*ot[2]+Je[4]*ot[5]+Je[5]]}function ii(Je,ot){return[Je[0]-ot[0],Je[1]-ot[1]]}function si(Je){return k(Je[0]*Je[0]+Je[1]*Je[1])}function zi(Je,ot){return L(Je[0]*ot[1]-Je[1]*ot[0],Je[0]*ot[0]+Je[1]*ot[1])}function $a(Je,ot,gt){xt(Je,{transform:null});function xt(ur,Er){if(ur.edges=di(ur.face),Er.face){var kr=ur.shared=ui(ur.face,Er.face),Jr=ci(kr.map(Er.project),kr.map(ur.project));ur.transform=Er.transform?ai(Er.transform,Jr):Jr;for(var en=Er.edges,Sn=0,Cn=en.length;Sn<Cn;++Sn)vi(kr[0],en[Sn][1])&&vi(kr[1],en[Sn][0])&&(en[Sn]=ur),vi(kr[0],en[Sn][0])&&vi(kr[1],en[Sn][1])&&(en[Sn]=ur);for(en=ur.edges,Sn=0,Cn=en.length;Sn<Cn;++Sn)vi(kr[0],en[Sn][0])&&vi(kr[1],en[Sn][1])&&(en[Sn]=Er),vi(kr[0],en[Sn][1])&&vi(kr[1],en[Sn][0])&&(en[Sn]=Er)}else ur.transform=Er.transform;return ur.children&&ur.children.forEach(function(Nn){xt(Nn,ur)}),ur}function Ft(ur,Er){var kr=ot(ur,Er),Jr=kr.project([ur*S,Er*S]),en;return(en=kr.transform)?[en[0]*Jr[0]+en[1]*Jr[1]+en[2],-(en[3]*Jr[0]+en[4]*Jr[1]+en[5])]:(Jr[1]=-Jr[1],Jr)}Fi(Je)&&(Ft.invert=function(ur,Er){var kr=_t(Je,[ur,-Er]);return kr&&(kr[0]*=x,kr[1]*=x,kr)});function _t(ur,Er){var kr=ur.project.invert,Jr=ur.transform,en=Er;if(Jr&&(Jr=ri(Jr),en=[Jr[0]*en[0]+Jr[1]*en[1]+Jr[2],Jr[3]*en[0]+Jr[4]*en[1]+Jr[5]]),kr&&ur===Nt(Sn=kr(en)))return Sn;for(var Sn,Cn=ur.children,Nn=0,Aa=Cn&&Cn.length;Nn<Aa;++Nn)if(Sn=_t(Cn[Nn],Er))return Sn}function Nt(ur){return ot(ur[0]*x,ur[1]*x)}var pr=(0,g.Z)(Ft),xr=pr.stream;return pr.stream=function(ur){var Er=pr.rotate(),kr=xr(ur),Jr=(pr.rotate([0,0]),xr(ur));return pr.rotate(Er),kr.sphere=function(){Jr.polygonStart(),Jr.lineStart(),gi(Jr,Je),Jr.lineEnd(),Jr.polygonEnd()},kr},pr.angle(gt==null?-30:gt*S)}function gi(Je,ot,gt){var xt,Ft=ot.edges,_t=Ft.length,Nt,pr={type:"MultiPoint",coordinates:ot.face},xr=ot.face.filter(function(Cn){return R(Cn[1])!==90}),ur=(0,Ha.Z)({type:"MultiPoint",coordinates:xr}),Er=!1,kr=-1,Jr=ur[1][0]-ur[0][0],en=Jr===180||Jr===360?[(ur[0][0]+ur[1][0])/2,(ur[0][1]+ur[1][1])/2]:(0,Be.Z)(pr);if(gt)for(;++kr<_t&&Ft[kr]!==gt;);++kr;for(var Sn=0;Sn<_t;++Sn)Nt=Ft[(Sn+kr)%_t],Array.isArray(Nt)?(Er||(Je.point((xt=(0,ka.Z)(Nt[0],en)(h))[0],xt[1]),Er=!0),Je.point((xt=(0,ka.Z)(Nt[1],en)(h))[0],xt[1])):(Er=!1,Nt!==gt&&gi(Je,Nt,ot))}function vi(Je,ot){return Je&&ot&&Je[0]===ot[0]&&Je[1]===ot[1]}function ui(Je,ot){for(var gt,xt,Ft=Je.length,_t=null,Nt=0;Nt<Ft;++Nt){gt=Je[Nt];for(var pr=ot.length;--pr>=0;)if(xt=ot[pr],gt[0]===xt[0]&&gt[1]===xt[1]){if(_t)return[_t,gt];_t=gt}}}function di(Je){for(var ot=Je.length,gt=[],xt=Je[ot-1],Ft=0;Ft<ot;++Ft)gt.push([xt,xt=Je[Ft]]);return gt}function Fi(Je){return Je.project.invert||Je.children&&Je.children.some(Fi)}var oi=e(98936),Si=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],wi=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Je){return Je.map(function(ot){return Si[ot]})});function go(Je){Je=Je||function(gt){var xt=(0,Be.Z)({type:"MultiPoint",coordinates:gt});return(0,oi.Z)().scale(1).translate([0,0]).rotate([-xt[0],-xt[1]])};var ot=wi.map(function(gt){return{face:gt,project:Je(gt)}});return[-1,0,0,1,0,1,4,5].forEach(function(gt,xt){var Ft=ot[gt];Ft&&(Ft.children||(Ft.children=[])).push(ot[xt])}),$a(ot[0],function(gt,xt){return ot[gt<-f/2?xt<0?6:4:gt<0?xt<0?2:0:gt<f/2?xt<0?3:1:xt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Eo=2/k(3);function ho(Je,ot){var gt=Oe(Je,ot);return[gt[0]*Eo,gt[1]]}ho.invert=function(Je,ot){return Oe.invert(Je/Eo,ot)};function Co(Je){Je=Je||function(gt){var xt=(0,Be.Z)({type:"MultiPoint",coordinates:gt});return(0,g.Z)(ho).translate([0,0]).scale(1).rotate(xt[1]>0?[-xt[0],0]:[180-xt[0],180])};var ot=wi.map(function(gt){return{face:gt,project:Je(gt)}});return[-1,0,0,1,0,1,4,5].forEach(function(gt,xt){var Ft=ot[gt];Ft&&(Ft.children||(Ft.children=[])).push(ot[xt])}),$a(ot[0],function(gt,xt){return ot[gt<-f/2?xt<0?6:4:gt<0?xt<0?2:0:gt<f/2?xt<0?3:1:xt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Lo(Je){Je=Je||function(Nt){var pr=Nt.length===6?(0,Be.Z)({type:"MultiPoint",coordinates:Nt}):Nt[0];return(0,oi.Z)().scale(1).translate([0,0]).rotate([-pr[0],-pr[1]])};var ot=wi.map(function(Nt){for(var pr=Nt.map(Gs),xr=pr.length,ur=pr[xr-1],Er,kr=[],Jr=0;Jr<xr;++Jr)Er=pr[Jr],kr.push(ls([ur[0]*.9486832980505138+Er[0]*.31622776601683794,ur[1]*.9486832980505138+Er[1]*.31622776601683794,ur[2]*.9486832980505138+Er[2]*.31622776601683794]),ls([Er[0]*.9486832980505138+ur[0]*.31622776601683794,Er[1]*.9486832980505138+ur[1]*.31622776601683794,Er[2]*.9486832980505138+ur[2]*.31622776601683794])),ur=Er;return kr}),gt=[],xt=[-1,0,0,1,0,1,4,5];ot.forEach(function(Nt,pr){for(var xr=wi[pr],ur=xr.length,Er=gt[pr]=[],kr=0;kr<ur;++kr)ot.push([xr[kr],Nt[(kr*2+2)%(2*ur)],Nt[(kr*2+1)%(2*ur)]]),xt.push(pr),Er.push(Po(Gs(Nt[(kr*2+2)%(2*ur)]),Gs(Nt[(kr*2+1)%(2*ur)])))});var Ft=ot.map(function(Nt){return{project:Je(Nt),face:Nt}});xt.forEach(function(Nt,pr){var xr=Ft[Nt];xr&&(xr.children||(xr.children=[])).push(Ft[pr])});function _t(Nt,pr){var xr=T(pr),ur=[xr*T(Nt),xr*u(Nt),u(pr)],Er=Nt<-f/2?pr<0?6:4:Nt<0?pr<0?2:0:Nt<f/2?pr<0?3:1:pr<0?7:5,kr=gt[Er];return Ft[_i(kr[0],ur)<0?8+3*Er:_i(kr[1],ur)<0?8+3*Er+1:_i(kr[2],ur)<0?8+3*Er+2:Er]}return $a(Ft[0],_t).angle(-30).scale(110.625).center([0,45])}function _i(Je,ot){for(var gt=0,xt=Je.length,Ft=0;gt<xt;++gt)Ft+=Je[gt]*ot[gt];return Ft}function Po(Je,ot){return[Je[1]*ot[2]-Je[2]*ot[1],Je[2]*ot[0]-Je[0]*ot[2],Je[0]*ot[1]-Je[1]*ot[0]]}function ls(Je){return[L(Je[1],Je[0])*S,E(r(-1,l(1,Je[2])))*S]}function Gs(Je){var ot=Je[0]*x,gt=Je[1]*x,xt=T(gt);return[xt*T(ot),xt*u(ot),u(gt)]}function yo(){}function Vi(Je){if((gt=Je.length)<4)return!1;for(var ot=0,gt,xt=Je[gt-1][1]*Je[0][0]-Je[gt-1][0]*Je[0][1];++ot<gt;)xt+=Je[ot-1][1]*Je[ot][0]-Je[ot-1][0]*Je[ot][1];return xt<=0}function $o(Je,ot){for(var gt=ot[0],xt=ot[1],Ft=!1,_t=0,Nt=Je.length,pr=Nt-1;_t<Nt;pr=_t++){var xr=Je[_t],ur=xr[0],Er=xr[1],kr=Je[pr],Jr=kr[0],en=kr[1];Er>xt^en>xt&&gt<(Jr-ur)*(xt-Er)/(en-Er)+ur&&(Ft=!Ft)}return Ft}function As(Je,ot){var gt=ot.stream,xt;if(!gt)throw new Error("invalid projection");switch(Je&&Je.type){case"Feature":xt=Bl;break;case"FeatureCollection":xt=bl;break;default:xt=Ul;break}return xt(Je,gt)}function bl(Je,ot){return{type:"FeatureCollection",features:Je.features.map(function(gt){return Bl(gt,ot)})}}function Bl(Je,ot){return{type:"Feature",id:Je.id,properties:Je.properties,geometry:Ul(Je.geometry,ot)}}function pf(Je,ot){return{type:"GeometryCollection",geometries:Je.geometries.map(function(gt){return Ul(gt,ot)})}}function Ul(Je,ot){if(!Je)return null;if(Je.type==="GeometryCollection")return pf(Je,ot);var gt;switch(Je.type){case"Point":gt=mu;break;case"MultiPoint":gt=mu;break;case"LineString":gt=nl;break;case"MultiLineString":gt=nl;break;case"Polygon":gt=xu;break;case"MultiPolygon":gt=xu;break;case"Sphere":gt=xu;break;default:return null}return(0,Ia.Z)(Je,ot(gt)),gt.result()}var Ao=[],us=[],mu={point:function(Je,ot){Ao.push([Je,ot])},result:function(){var Je=Ao.length?Ao.length<2?{type:"Point",coordinates:Ao[0]}:{type:"MultiPoint",coordinates:Ao}:null;return Ao=[],Je}},nl={lineStart:yo,point:function(Je,ot){Ao.push([Je,ot])},lineEnd:function(){Ao.length&&(us.push(Ao),Ao=[])},result:function(){var Je=us.length?us.length<2?{type:"LineString",coordinates:us[0]}:{type:"MultiLineString",coordinates:us}:null;return us=[],Je}},xu={polygonStart:yo,lineStart:yo,point:function(Je,ot){Ao.push([Je,ot])},lineEnd:function(){var Je=Ao.length;if(Je){do Ao.push(Ao[0].slice());while(++Je<4);us.push(Ao),Ao=[]}},polygonEnd:yo,result:function(){if(!us.length)return null;var Je=[],ot=[];return us.forEach(function(gt){Vi(gt)?Je.push([gt]):ot.push(gt)}),ot.forEach(function(gt){var xt=gt[0];Je.some(function(Ft){if($o(Ft[0],xt))return Ft.push(gt),!0})||Je.push([gt])}),us=[],Je.length?Je.length>1?{type:"MultiPolygon",coordinates:Je}:{type:"Polygon",coordinates:Je[0]}:null}};function bu(Je){var ot=Je(o,0)[0]-Je(-o,0)[0];function gt(xt,Ft){var _t=R(xt)<o,Nt=Je(_t?xt:xt>0?xt-f:xt+f,Ft),pr=(Nt[0]-Nt[1])*A,xr=(Nt[0]+Nt[1])*A;if(_t)return[pr,xr];var ur=ot*A,Er=pr>0^xr>0?-1:1;return[Er*pr-c(xr)*ur,Er*xr-c(pr)*ur]}return Je.invert&&(gt.invert=function(xt,Ft){var _t=(xt+Ft)*A,Nt=(Ft-xt)*A,pr=R(_t)<.5*ot&&R(Nt)<.5*ot;if(!pr){var xr=ot*A,ur=_t>0^Nt>0?-1:1,Er=-ur*xt+(Nt>0?1:-1)*xr,kr=-ur*Ft+(_t>0?1:-1)*xr;_t=(-Er-kr)*A,Nt=(Er-kr)*A}var Jr=Je.invert(_t,Nt);return pr||(Jr[0]+=_t>0?f:-f),Jr}),(0,g.Z)(gt).rotate([-90,-90,45]).clipAngle(179.999)}function bc(){return bu(dn).scale(176.423)}function gf(){return bu(Pr).scale(111.48)}function yf(Je,ot){if(!(0<=(ot=+ot)&&ot<=20))throw new Error("invalid digits");function gt(ur){var Er=ur.length,kr=2,Jr=new Array(Er);for(Jr[0]=+ur[0].toFixed(ot),Jr[1]=+ur[1].toFixed(ot);kr<Er;)Jr[kr]=ur[kr],++kr;return Jr}function xt(ur){return ur.map(gt)}function Ft(ur){for(var Er=gt(ur[0]),kr=[Er],Jr=1;Jr<ur.length;Jr++){var en=gt(ur[Jr]);(en.length>2||en[0]!=Er[0]||en[1]!=Er[1])&&(kr.push(en),Er=en)}return kr.length===1&&ur.length>1&&kr.push(gt(ur[ur.length-1])),kr}function _t(ur){return ur.map(Ft)}function Nt(ur){if(ur==null)return ur;var Er;switch(ur.type){case"GeometryCollection":Er={type:"GeometryCollection",geometries:ur.geometries.map(Nt)};break;case"Point":Er={type:"Point",coordinates:gt(ur.coordinates)};break;case"MultiPoint":Er={type:ur.type,coordinates:xt(ur.coordinates)};break;case"LineString":Er={type:ur.type,coordinates:Ft(ur.coordinates)};break;case"MultiLineString":case"Polygon":Er={type:ur.type,coordinates:_t(ur.coordinates)};break;case"MultiPolygon":Er={type:"MultiPolygon",coordinates:ur.coordinates.map(_t)};break;default:return ur}return ur.bbox!=null&&(Er.bbox=ur.bbox),Er}function pr(ur){var Er={type:"Feature",properties:ur.properties,geometry:Nt(ur.geometry)};return ur.id!=null&&(Er.id=ur.id),ur.bbox!=null&&(Er.bbox=ur.bbox),Er}if(Je!=null)switch(Je.type){case"Feature":return pr(Je);case"FeatureCollection":{var xr={type:"FeatureCollection",features:Je.features.map(pr)};return Je.bbox!=null&&(xr.bbox=Je.bbox),xr}default:return Nt(Je)}return Je}function mf(Je){var ot=u(Je);function gt(xt,Ft){var _t=ot?y(xt*ot/2)/ot:xt/2;if(!Ft)return[2*_t,-Je];var Nt=2*i(_t*u(Ft)),pr=1/y(Ft);return[u(Nt)*pr,Ft+(1-T(Nt))*pr-Je]}return gt.invert=function(xt,Ft){if(R(Ft+=Je)<h)return[ot?2*i(ot*xt/2)/ot:xt,0];var _t=xt*xt+Ft*Ft,Nt=0,pr=10,xr;do{var ur=y(Nt),Er=1/T(Nt),kr=_t-2*Ft*Nt+Nt*Nt;Nt-=xr=(ur*kr+2*(Nt-Ft))/(2+kr*Er*Er+2*(Nt-Ft)*ur)}while(R(xr)>h&&--pr>0);var Jr=xt*(ur=y(Nt)),en=y(R(Ft)<R(Nt+1/ur)?E(Jr)*.5:w(Jr)*.5+f/4)/u(Nt);return[ot?2*i(ot*en)/ot:2*en,Nt]},gt}function wl(){return qe(mf).scale(131.215)}var Gi=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Gi.forEach(function(Je){Je[1]*=1.0144});function gs(Je,ot){var gt=l(18,R(ot)*36/f),xt=p(gt),Ft=gt-xt,_t=(kr=Gi[xt])[0],Nt=kr[1],pr=(kr=Gi[++xt])[0],xr=kr[1],ur=(kr=Gi[l(19,++xt)])[0],Er=kr[1],kr;return[Je*(pr+Ft*(ur-_t)/2+Ft*Ft*(ur-2*pr+_t)/2),(ot>0?o:-o)*(xr+Ft*(Er-Nt)/2+Ft*Ft*(Er-2*xr+Nt)/2)]}gs.invert=function(Je,ot){var gt=ot/o,xt=gt*90,Ft=l(18,R(xt/5)),_t=r(0,p(Ft));do{var Nt=Gi[_t][1],pr=Gi[_t+1][1],xr=Gi[l(19,_t+2)][1],ur=xr-Nt,Er=xr-2*pr+Nt,kr=2*(R(gt)-pr)/ur,Jr=Er/ur,en=kr*(1-Jr*kr*(1-2*Jr*kr));if(en>=0||_t===1){xt=(ot>=0?5:-5)*(en+Ft);var Sn=50,Cn;do Ft=l(18,R(xt)/5),_t=p(Ft),en=Ft-_t,Nt=Gi[_t][1],pr=Gi[_t+1][1],xr=Gi[l(19,_t+2)][1],xt-=(Cn=(ot>=0?o:-o)*(pr+en*(xr-Nt)/2+en*en*(xr-2*pr+Nt)/2)-ot)*S;while(R(Cn)>b&&--Sn>0);break}}while(--_t>=0);var Nn=Gi[_t][0],Aa=Gi[_t+1][0],Ba=Gi[l(19,_t+2)][0];return[Je/(Aa+en*(Ba-Nn)/2+en*en*(Ba-2*Aa+Nn)/2),xt*x]};function Yu(){return(0,g.Z)(gs).scale(152.63)}function xf(Je){function ot(gt,xt){var Ft=T(xt),_t=(Je-1)/(Je-Ft*T(gt));return[_t*Ft*u(gt),_t*u(xt)]}return ot.invert=function(gt,xt){var Ft=gt*gt+xt*xt,_t=k(Ft),Nt=(Je-k(1-Ft*(Je+1)/(Je-1)))/((Je-1)/_t+_t/(Je-1));return[L(gt*Nt,_t*k(1-Nt*Nt)),_t?E(xt*Nt/_t):0]},ot}function al(Je,ot){var gt=xf(Je);if(!ot)return gt;var xt=T(ot),Ft=u(ot);function _t(Nt,pr){var xr=gt(Nt,pr),ur=xr[1],Er=ur*Ft/(Je-1)+xt;return[xr[0]*xt/Er,ur/Er]}return _t.invert=function(Nt,pr){var xr=(Je-1)/(Je-1-pr*Ft);return gt.invert(xr*Nt,xr*pr*xt)},_t}function wu(){var Je=2,ot=0,gt=(0,g.r)(al),xt=gt(Je,ot);return xt.distance=function(Ft){return arguments.length?gt(Je=+Ft,ot):Je},xt.tilt=function(Ft){return arguments.length?gt(Je,ot=Ft*x):ot*S},xt.scale(432.147).clipAngle(w(1/Je)*S-1e-6)}var Ms=1e-4,Tu=1e4,Ws=-180,il=Ws+Ms,bf=180,Tl=bf-Ms,Ei=-90,Au=Ei+Ms,Yf=90,Zf=Yf-Ms;function ru(Je){return Je.length>0}function Hh(Je){return Math.floor(Je*Tu)/Tu}function wc(Je){return Je===Ei||Je===Yf?[0,Je]:[Ws,Hh(Je)]}function Zu(Je){var ot=Je[0],gt=Je[1],xt=!1;return ot<=il?(ot=Ws,xt=!0):ot>=Tl&&(ot=bf,xt=!0),gt<=Au?(gt=Ei,xt=!0):gt>=Zf&&(gt=Yf,xt=!0),xt?[ot,gt]:Je}function Tc(Je){return Je.map(Zu)}function $c(Je,ot,gt){for(var xt=0,Ft=Je.length;xt<Ft;++xt){var _t=Je[xt].slice();gt.push({index:-1,polygon:ot,ring:_t});for(var Nt=0,pr=_t.length;Nt<pr;++Nt){var xr=_t[Nt],ur=xr[0],Er=xr[1];if(ur<=il||ur>=Tl||Er<=Au||Er>=Zf){_t[Nt]=Zu(xr);for(var kr=Nt+1;kr<pr;++kr){var Jr=_t[kr],en=Jr[0],Sn=Jr[1];if(en>il&&en<Tl&&Sn>Au&&Sn<Zf)break}if(kr===Nt+1)continue;if(Nt){var Cn={index:-1,polygon:ot,ring:_t.slice(0,Nt+1)};Cn.ring[Cn.ring.length-1]=wc(Er),gt[gt.length-1]=Cn}else gt.pop();if(kr>=pr)break;gt.push({index:-1,polygon:ot,ring:_t=_t.slice(kr-1)}),_t[0]=wc(_t[0][1]),Nt=-1,pr=_t.length}}}}function Hl(Je){var ot,gt=Je.length,xt={},Ft={},_t,Nt,pr,xr,ur;for(ot=0;ot<gt;++ot){if(_t=Je[ot],Nt=_t.ring[0],xr=_t.ring[_t.ring.length-1],Nt[0]===xr[0]&&Nt[1]===xr[1]){_t.polygon.push(_t.ring),Je[ot]=null;continue}_t.index=ot,xt[Nt]=Ft[xr]=_t}for(ot=0;ot<gt;++ot)if(_t=Je[ot],_t){if(Nt=_t.ring[0],xr=_t.ring[_t.ring.length-1],pr=Ft[Nt],ur=xt[xr],delete xt[Nt],delete Ft[xr],Nt[0]===xr[0]&&Nt[1]===xr[1]){_t.polygon.push(_t.ring);continue}pr?(delete Ft[Nt],delete xt[pr.ring[0]],pr.ring.pop(),Je[pr.index]=null,_t={index:-1,polygon:pr.polygon,ring:pr.ring.concat(_t.ring)},pr===ur?_t.polygon.push(_t.ring):(_t.index=gt++,Je.push(xt[_t.ring[0]]=Ft[_t.ring[_t.ring.length-1]]=_t))):ur?(delete xt[xr],delete Ft[ur.ring[ur.ring.length-1]],_t.ring.pop(),_t={index:gt++,polygon:ur.polygon,ring:_t.ring.concat(ur.ring)},Je[ur.index]=null,Je.push(xt[_t.ring[0]]=Ft[_t.ring[_t.ring.length-1]]=_t)):(_t.ring.push(_t.ring[0]),_t.polygon.push(_t.ring))}}function nu(Je){var ot={type:"Feature",geometry:Mu(Je.geometry)};return Je.id!=null&&(ot.id=Je.id),Je.bbox!=null&&(ot.bbox=Je.bbox),Je.properties!=null&&(ot.properties=Je.properties),ot}function Mu(Je){if(Je==null)return Je;var ot,gt,xt,Ft;switch(Je.type){case"GeometryCollection":ot={type:"GeometryCollection",geometries:Je.geometries.map(Mu)};break;case"Point":ot={type:"Point",coordinates:Zu(Je.coordinates)};break;case"MultiPoint":case"LineString":ot={type:Je.type,coordinates:Tc(Je.coordinates)};break;case"MultiLineString":ot={type:"MultiLineString",coordinates:Je.coordinates.map(Tc)};break;case"Polygon":{var _t=[];$c(Je.coordinates,_t,gt=[]),Hl(gt),ot={type:"Polygon",coordinates:_t};break}case"MultiPolygon":{gt=[],xt=-1,Ft=Je.coordinates.length;for(var Nt=new Array(Ft);++xt<Ft;)$c(Je.coordinates[xt],Nt[xt]=[],gt);Hl(gt),ot={type:"MultiPolygon",coordinates:Nt.filter(ru)};break}default:return Je}return Je.bbox!=null&&(ot.bbox=Je.bbox),ot}function Su(Je){if(Je==null)return Je;switch(Je.type){case"Feature":return nu(Je);case"FeatureCollection":{var ot={type:"FeatureCollection",features:Je.features.map(nu)};return Je.bbox!=null&&(ot.bbox=Je.bbox),ot}default:return Mu(Je)}}function Ss(Je,ot){var gt=y(ot/2),xt=u(d*gt);return[Je*(.74482-.34588*xt*xt),1.70711*gt]}Ss.invert=function(Je,ot){var gt=ot/1.70711,xt=u(d*gt);return[Je/(.74482-.34588*xt*xt),2*i(gt)]};function Is(){return(0,g.Z)(Ss).scale(146.153)}function Eu(Je,ot,gt){var xt=(0,ka.Z)(ot,gt),Ft=xt(.5),_t=(0,rt.Z)([-Ft[0],-Ft[1]])(ot),Nt=xt.distance/2,pr=-E(u(_t[1]*x)/u(Nt)),xr=[-Ft[0],-Ft[1],-(_t[0]>0?f-pr:pr)*S],ur=(0,g.Z)(Je(Nt)).rotate(xr),Er=(0,rt.Z)(xr),kr=ur.center;return delete ur.rotate,ur.center=function(Jr){return arguments.length?kr(Er(Jr)):Er.invert(kr())},ur.clipAngle(90)}function qc(Je){var ot=T(Je);function gt(xt,Ft){var _t=(0,oi.M)(xt,Ft);return _t[0]*=ot,_t}return gt.invert=function(xt,Ft){return oi.M.invert(xt/ot,Ft)},gt}function Xu(){return Xf([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Xf(Je,ot){return Eu(qc,Je,ot)}function eh(Je){if(!(Je*=2))return se.N;var ot=-Je/2,gt=-ot,xt=Je*Je,Ft=y(gt),_t=.5/u(gt);function Nt(pr,xr){var ur=w(T(xr)*T(pr-ot)),Er=w(T(xr)*T(pr-gt)),kr=xr<0?-1:1;return ur*=ur,Er*=Er,[(ur-Er)/(2*Je),kr*k(4*xt*Er-(xt-ur+Er)*(xt-ur+Er))/(2*Je)]}return Nt.invert=function(pr,xr){var ur=xr*xr,Er=T(k(ur+(Jr=pr+ot)*Jr)),kr=T(k(ur+(Jr=pr+gt)*Jr)),Jr,en;return[L(en=Er-kr,Jr=(Er+kr)*Ft),(xr<0?-1:1)*w(k(Jr*Jr+en*en)*_t)]},Nt}function ol(){return Ac([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Ac(Je,ot){return Eu(eh,Je,ot)}function au(Je,ot){if(R(ot)<h)return[Je,0];var gt=R(ot/o),xt=E(gt);if(R(Je)<h||R(R(ot)-o)<h)return[0,c(ot)*f*y(xt/2)];var Ft=T(xt),_t=R(f/Je-Je/f)/2,Nt=_t*_t,pr=Ft/(gt+Ft-1),xr=pr*(2/gt-1),ur=xr*xr,Er=ur+Nt,kr=pr-ur,Jr=Nt+pr;return[c(Je)*f*(_t*kr+k(Nt*kr*kr-Er*(pr*pr-ur)))/Er,c(ot)*f*(xr*Jr-_t*k((Nt+1)*Er-Jr*Jr))/Er]}au.invert=function(Je,ot){if(R(ot)<h)return[Je,0];if(R(Je)<h)return[0,o*u(2*i(ot/f))];var gt=(Je/=f)*Je,xt=(ot/=f)*ot,Ft=gt+xt,_t=Ft*Ft,Nt=-R(ot)*(1+Ft),pr=Nt-2*xt+gt,xr=-2*Nt+1+2*xt+_t,ur=xt/xr+(2*pr*pr*pr/(xr*xr*xr)-9*Nt*pr/(xr*xr))/27,Er=(Nt-pr*pr/(3*xr))/xr,kr=2*k(-Er/3),Jr=w(3*ur/(Er*kr))/3;return[f*(Ft-1+k(1+2*(gt-xt)+_t))/(2*Je),c(ot)*f*(-kr*T(Jr+f/3)-pr/(3*xr))]};function wf(){return(0,g.Z)(au).scale(79.4183)}function Vl(Je,ot){if(R(ot)<h)return[Je,0];var gt=R(ot/o),xt=E(gt);if(R(Je)<h||R(R(ot)-o)<h)return[0,c(ot)*f*y(xt/2)];var Ft=T(xt),_t=R(f/Je-Je/f)/2,Nt=_t*_t,pr=Ft*(k(1+Nt)-_t*Ft)/(1+Nt*gt*gt);return[c(Je)*f*pr,c(ot)*f*k(1-pr*(2*_t+pr))]}Vl.invert=function(Je,ot){if(!Je)return[0,o*u(2*i(ot/f))];var gt=R(Je/f),xt=(1-gt*gt-(ot/=f)*ot)/(2*gt),Ft=xt*xt,_t=k(Ft+1);return[c(Je)*f*(_t-xt),c(ot)*o*u(2*L(k((1-2*xt*gt)*(xt+_t)-gt),k(_t+xt+gt)))]};function Vh(){return(0,g.Z)(Vl).scale(79.4183)}function Mc(Je,ot){if(R(ot)<h)return[Je,0];var gt=ot/o,xt=E(gt);if(R(Je)<h||R(R(ot)-o)<h)return[0,f*y(xt/2)];var Ft=(f/Je-Je/f)/2,_t=gt/(1+T(xt));return[f*(c(Je)*k(Ft*Ft+1-_t*_t)-Ft),f*_t]}Mc.invert=function(Je,ot){if(!ot)return[Je,0];var gt=ot/f,xt=(f*f*(1-gt*gt)-Je*Je)/(2*f*Je);return[Je?f*(c(Je)*k(xt*xt+1)-xt):0,o*u(2*i(gt))]};function Kf(){return(0,g.Z)(Mc).scale(79.4183)}function fs(Je,ot){if(!ot)return[Je,0];var gt=R(ot);if(!Je||gt===o)return[0,ot];var xt=gt/o,Ft=xt*xt,_t=(8*xt-Ft*(Ft+2)-5)/(2*Ft*(xt-1)),Nt=_t*_t,pr=xt*_t,xr=Ft+Nt+2*pr,ur=xt+3*_t,Er=Je/o,kr=Er+1/Er,Jr=c(R(Je)-o)*k(kr*kr-4),en=Jr*Jr,Sn=xr*(Ft+Nt*en-1)+(1-Ft)*(Ft*(ur*ur+4*Nt)+12*pr*Nt+4*Nt*Nt),Cn=(Jr*(xr+Nt-1)+2*k(Sn))/(4*xr+en);return[c(Je)*o*Cn,c(ot)*o*k(1+Jr*R(Cn)-Cn*Cn)]}fs.invert=function(Je,ot){var gt;if(!Je||!ot)return[Je,ot];ot/=f;var xt=c(Je)*Je/o,Ft=(xt*xt-1+4*ot*ot)/R(xt),_t=Ft*Ft,Nt=2*ot,pr=50;do{var xr=Nt*Nt,ur=(8*Nt-xr*(xr+2)-5)/(2*xr*(Nt-1)),Er=(3*Nt-xr*Nt-10)/(2*xr*Nt),kr=ur*ur,Jr=Nt*ur,en=Nt+ur,Sn=en*en,Cn=Nt+3*ur,Nn=Sn*(xr+kr*_t-1)+(1-xr)*(xr*(Cn*Cn+4*kr)+kr*(12*Jr+4*kr)),Aa=-2*en*(4*Jr*kr+(1-4*xr+3*xr*xr)*(1+Er)+kr*(-6+14*xr-_t+(-8+8*xr-2*_t)*Er)+Jr*(-8+12*xr+(-10+10*xr-_t)*Er)),Ba=k(Nn),Ga=Ft*(Sn+kr-1)+2*Ba-xt*(4*Sn+_t),Wa=Ft*(2*ur*Er+2*en*(1+Er))+Aa/Ba-8*en*(Ft*(-1+kr+Sn)+2*Ba)*(1+Er)/(_t+4*Sn);Nt-=gt=Ga/Wa}while(gt>h&&--pr>0);return[c(Je)*(k(Ft*Ft+4)+Ft)*f/4,o*Nt]};function th(){return(0,g.Z)(fs).scale(127.16)}function Tf(Je,ot,gt,xt,Ft){function _t(Nt,pr){var xr=gt*u(xt*pr),ur=k(1-xr*xr),Er=k(2/(1+ur*T(Nt*=Ft)));return[Je*ur*Er*u(Nt),ot*xr*Er]}return _t.invert=function(Nt,pr){var xr=Nt/Je,ur=pr/ot,Er=k(xr*xr+ur*ur),kr=2*E(Er/2);return[L(Nt*y(kr),Je*Er)/Ft,Er&&E(pr*u(kr)/(ot*gt*Er))/xt]},_t}function Al(Je,ot,gt,xt){var Ft=f/3;Je=r(Je,h),ot=r(ot,h),Je=l(Je,o),ot=l(ot,f-h),gt=r(gt,0),gt=l(gt,100-h),xt=r(xt,h);var _t=gt/100+1,Nt=xt/100,pr=w(_t*T(Ft))/Ft,xr=u(Je)/u(pr*o),ur=ot/f,Er=k(Nt*u(Je/2)/u(ot/2)),kr=Er/k(ur*xr*pr),Jr=1/(Er*k(ur*xr*pr));return Tf(kr,Jr,xr,pr,ur)}function Af(){var Je=65*x,ot=60*x,gt=20,xt=200,Ft=(0,g.r)(Al),_t=Ft(Je,ot,gt,xt);return _t.poleline=function(Nt){return arguments.length?Ft(Je=+Nt*x,ot,gt,xt):Je*S},_t.parallels=function(Nt){return arguments.length?Ft(Je,ot=+Nt*x,gt,xt):ot*S},_t.inflation=function(Nt){return arguments.length?Ft(Je,ot,gt=+Nt,xt):gt},_t.ratio=function(Nt){return arguments.length?Ft(Je,ot,gt,xt=+Nt):xt},_t.scale(163.775)}function iu(){return Af().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Jf=4*f+3*k(3),rh=2*k(2*f*k(3)/Jf),Sc=be(rh*k(3)/f,rh,Jf/6);function Ec(){return(0,g.Z)(Sc).scale(176.84)}function Cu(Je,ot){return[Je*k(1-3*ot*ot/(f*f)),ot]}Cu.invert=function(Je,ot){return[Je/k(1-3*ot*ot/(f*f)),ot]};function Qf(){return(0,g.Z)(Cu).scale(152.63)}function Mf(Je,ot){var gt=T(ot),xt=T(Je)*gt,Ft=1-xt,_t=T(Je=L(u(Je)*gt,-u(ot))),Nt=u(Je);return gt=k(1-xt*xt),[Nt*gt-_t*Ft,-_t*gt-Nt*Ft]}Mf.invert=function(Je,ot){var gt=(Je*Je+ot*ot)/-2,xt=k(-gt*(2+gt)),Ft=ot*gt+Je*xt,_t=Je*gt-ot*xt,Nt=k(_t*_t+Ft*Ft);return[L(xt*Ft,Nt*(1+gt)),Nt?-E(xt*_t/Nt):0]};function nh(){return(0,g.Z)(Mf).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Sf(Je,ot){var gt=X(Je,ot);return[(gt[0]+Je/o)/2,(gt[1]+ot)/2]}Sf.invert=function(Je,ot){var gt=Je,xt=ot,Ft=25;do{var _t=T(xt),Nt=u(xt),pr=u(2*xt),xr=Nt*Nt,ur=_t*_t,Er=u(gt),kr=T(gt/2),Jr=u(gt/2),en=Jr*Jr,Sn=1-ur*kr*kr,Cn=Sn?w(_t*kr)*k(Nn=1/Sn):Nn=0,Nn,Aa=.5*(2*Cn*_t*Jr+gt/o)-Je,Ba=.5*(Cn*Nt+xt)-ot,Ga=.5*Nn*(ur*en+Cn*_t*kr*xr)+.5/o,Wa=Nn*(Er*pr/4-Cn*Nt*Jr),Ya=.125*Nn*(pr*Jr-Cn*Nt*ur*Er),Di=.5*Nn*(xr*kr+Cn*en*_t)+.5,vo=Wa*Ya-Di*Ga,Wi=(Ba*Wa-Aa*Di)/vo,ue=(Aa*Ya-Ba*Ga)/vo;gt-=Wi,xt-=ue}while((R(Wi)>h||R(ue)>h)&&--Ft>0);return[gt,xt]};function ah(){return(0,g.Z)(Sf).scale(158.837)}},33940:function(G,V,e){e.d(V,{Z:function(){return g}});function g(){return new R}function R(){this.reset()}R.prototype={constructor:R,reset:function(){this.s=this.t=0},add:function(T){L(i,T,this.t),L(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new R;function L(T,v,p){var t=T.s=v+p,r=t-v,l=t-r;T.t=v-l+(p-r)}},97860:function(G,V,e){e.d(V,{L9:function(){return T},ZP:function(){return b},gL:function(){return s}});var g=e(33940),R=e(39695),i=e(73182),L=e(72736),T=(0,g.Z)(),v=(0,g.Z)(),p,t,r,l,n,s={point:i.Z,lineStart:i.Z,lineEnd:i.Z,polygonStart:function(){T.reset(),s.lineStart=c,s.lineEnd=u},polygonEnd:function(){var f=+T;v.add(f<0?R.BZ+f:f),this.lineStart=this.lineEnd=this.point=i.Z},sphere:function(){v.add(R.BZ)}};function c(){s.point=y}function u(){h(p,t)}function y(f,o){s.point=h,p=f,t=o,f*=R.uR,o*=R.uR,r=f,l=(0,R.mC)(o=o/2+R.pu),n=(0,R.O$)(o)}function h(f,o){f*=R.uR,o*=R.uR,o=o/2+R.pu;var d=f-r,A=d>=0?1:-1,M=A*d,C=(0,R.mC)(o),m=(0,R.O$)(o),S=n*m,x=l*C+S*(0,R.mC)(M),a=S*A*(0,R.O$)(M);T.add((0,R.fv)(a,x)),r=f,l=C,n=m}function b(f){return v.reset(),(0,L.Z)(f,s),v*2}},77338:function(G,V,e){e.d(V,{Z:function(){return E}});var g=e(33940),R=e(97860),i=e(7620),L=e(39695),T=e(72736),v,p,t,r,l,n,s,c,u=(0,g.Z)(),y,h,b={point:f,lineStart:d,lineEnd:A,polygonStart:function(){b.point=M,b.lineStart=C,b.lineEnd=m,u.reset(),R.gL.polygonStart()},polygonEnd:function(){R.gL.polygonEnd(),b.point=f,b.lineStart=d,b.lineEnd=A,R.L9<0?(v=-(t=180),p=-(r=90)):u>L.Ho?r=90:u<-L.Ho&&(p=-90),h[0]=v,h[1]=t},sphere:function(){v=-(t=180),p=-(r=90)}};function f(w,k){y.push(h=[v=w,t=w]),k<p&&(p=k),k>r&&(r=k)}function o(w,k){var I=(0,i.Og)([w*L.uR,k*L.uR]);if(c){var U=(0,i.T5)(c,I),z=[U[1],-U[0],0],N=(0,i.T5)(z,U);(0,i.iJ)(N),N=(0,i.Y1)(N);var B=w-l,F=B>0?1:-1,H=N[0]*L.RW*F,X,q=(0,L.Wn)(B)>180;q^(F*l<H&&H<F*w)?(X=N[1]*L.RW,X>r&&(r=X)):(H=(H+360)%360-180,q^(F*l<H&&H<F*w)?(X=-N[1]*L.RW,X<p&&(p=X)):(k<p&&(p=k),k>r&&(r=k))),q?w<l?S(v,w)>S(v,t)&&(t=w):S(w,t)>S(v,t)&&(v=w):t>=v?(w<v&&(v=w),w>t&&(t=w)):w>l?S(v,w)>S(v,t)&&(t=w):S(w,t)>S(v,t)&&(v=w)}else y.push(h=[v=w,t=w]);k<p&&(p=k),k>r&&(r=k),c=I,l=w}function d(){b.point=o}function A(){h[0]=v,h[1]=t,b.point=f,c=null}function M(w,k){if(c){var I=w-l;u.add((0,L.Wn)(I)>180?I+(I>0?360:-360):I)}else n=w,s=k;R.gL.point(w,k),o(w,k)}function C(){R.gL.lineStart()}function m(){M(n,s),R.gL.lineEnd(),(0,L.Wn)(u)>L.Ho&&(v=-(t=180)),h[0]=v,h[1]=t,c=null}function S(w,k){return(k-=w)<0?k+360:k}function x(w,k){return w[0]-k[0]}function a(w,k){return w[0]<=w[1]?w[0]<=k&&k<=w[1]:k<w[0]||w[1]<k}function E(w){var k,I,U,z,N,B,F;if(r=t=-(v=p=1/0),y=[],(0,T.Z)(w,b),I=y.length){for(y.sort(x),k=1,U=y[0],N=[U];k<I;++k)z=y[k],a(U,z[0])||a(U,z[1])?(S(U[0],z[1])>S(U[0],U[1])&&(U[1]=z[1]),S(z[0],U[1])>S(U[0],U[1])&&(U[0]=z[0])):N.push(U=z);for(B=-1/0,I=N.length-1,k=0,U=N[I];k<=I;U=z,++k)z=N[k],(F=S(U[1],z[0]))>B&&(B=F,v=z[0],t=U[1])}return y=h=null,v===1/0||p===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,p],[t,r]]}},7620:function(G,V,e){e.d(V,{Og:function(){return i},T:function(){return p},T5:function(){return T},Y1:function(){return R},iJ:function(){return t},j9:function(){return L},s0:function(){return v}});var g=e(39695);function R(r){return[(0,g.fv)(r[1],r[0]),(0,g.ZR)(r[2])]}function i(r){var l=r[0],n=r[1],s=(0,g.mC)(n);return[s*(0,g.mC)(l),s*(0,g.O$)(l),(0,g.O$)(n)]}function L(r,l){return r[0]*l[0]+r[1]*l[1]+r[2]*l[2]}function T(r,l){return[r[1]*l[2]-r[2]*l[1],r[2]*l[0]-r[0]*l[2],r[0]*l[1]-r[1]*l[0]]}function v(r,l){r[0]+=l[0],r[1]+=l[1],r[2]+=l[2]}function p(r,l){return[r[0]*l,r[1]*l,r[2]*l]}function t(r){var l=(0,g._b)(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=l,r[1]/=l,r[2]/=l}},66624:function(G,V,e){e.d(V,{Z:function(){return I}});var g=e(39695),R=e(73182),i=e(72736),L,T,v,p,t,r,l,n,s,c,u,y,h,b,f,o,d={sphere:R.Z,point:A,lineStart:C,lineEnd:x,polygonStart:function(){d.lineStart=a,d.lineEnd=E},polygonEnd:function(){d.lineStart=C,d.lineEnd=x}};function A(U,z){U*=g.uR,z*=g.uR;var N=(0,g.mC)(z);M(N*(0,g.mC)(U),N*(0,g.O$)(U),(0,g.O$)(z))}function M(U,z,N){++L,v+=(U-v)/L,p+=(z-p)/L,t+=(N-t)/L}function C(){d.point=m}function m(U,z){U*=g.uR,z*=g.uR;var N=(0,g.mC)(z);b=N*(0,g.mC)(U),f=N*(0,g.O$)(U),o=(0,g.O$)(z),d.point=S,M(b,f,o)}function S(U,z){U*=g.uR,z*=g.uR;var N=(0,g.mC)(z),B=N*(0,g.mC)(U),F=N*(0,g.O$)(U),H=(0,g.O$)(z),X=(0,g.fv)((0,g._b)((X=f*H-o*F)*X+(X=o*B-b*H)*X+(X=b*F-f*B)*X),b*B+f*F+o*H);T+=X,r+=X*(b+(b=B)),l+=X*(f+(f=F)),n+=X*(o+(o=H)),M(b,f,o)}function x(){d.point=A}function a(){d.point=w}function E(){k(y,h),d.point=A}function w(U,z){y=U,h=z,U*=g.uR,z*=g.uR,d.point=k;var N=(0,g.mC)(z);b=N*(0,g.mC)(U),f=N*(0,g.O$)(U),o=(0,g.O$)(z),M(b,f,o)}function k(U,z){U*=g.uR,z*=g.uR;var N=(0,g.mC)(z),B=N*(0,g.mC)(U),F=N*(0,g.O$)(U),H=(0,g.O$)(z),X=f*H-o*F,q=o*B-b*H,ne=b*F-f*B,oe=(0,g._b)(X*X+q*q+ne*ne),ve=(0,g.ZR)(oe),J=oe&&-ve/oe;s+=J*X,c+=J*q,u+=J*ne,T+=ve,r+=ve*(b+(b=B)),l+=ve*(f+(f=F)),n+=ve*(o+(o=H)),M(b,f,o)}function I(U){L=T=v=p=t=r=l=n=s=c=u=0,(0,i.Z)(U,d);var z=s,N=c,B=u,F=z*z+N*N+B*B;return F<g.aW&&(z=r,N=l,B=n,T<g.Ho&&(z=v,N=p,B=t),F=z*z+N*N+B*B,F<g.aW)?[NaN,NaN]:[(0,g.fv)(N,z)*g.RW,(0,g.ZR)(B/(0,g._b)(F))*g.RW]}},7613:function(G,V,e){e.d(V,{m:function(){return T},Z:function(){return p}});var g=e(7620);function R(t){return function(){return t}}var i=e(39695),L=e(49386);function T(t,r,l,n,s,c){if(l){var u=(0,i.mC)(r),y=(0,i.O$)(r),h=n*l;s==null?(s=r+n*i.BZ,c=r-h/2):(s=v(u,s),c=v(u,c),(n>0?s<c:s>c)&&(s+=n*i.BZ));for(var b,f=s;n>0?f>c:f<c;f-=h)b=(0,g.Y1)([u,-y*(0,i.mC)(f),-y*(0,i.O$)(f)]),t.point(b[0],b[1])}}function v(t,r){r=(0,g.Og)(r),r[0]-=t,(0,g.iJ)(r);var l=(0,i.Kh)(-r[1]);return((-r[2]<0?-l:l)+i.BZ-i.Ho)%i.BZ}function p(){var t=R([0,0]),r=R(90),l=R(6),n,s,c={point:u};function u(h,b){n.push(h=s(h,b)),h[0]*=i.RW,h[1]*=i.RW}function y(){var h=t.apply(this,arguments),b=r.apply(this,arguments)*i.uR,f=l.apply(this,arguments)*i.uR;return n=[],s=(0,L.I)(-h[0]*i.uR,-h[1]*i.uR,0).invert,T(c,b,f,1),h={type:"Polygon",coordinates:[n]},n=s=null,h}return y.center=function(h){return arguments.length?(t=typeof h=="function"?h:R([+h[0],+h[1]]),y):t},y.radius=function(h){return arguments.length?(r=typeof h=="function"?h:R(+h),y):r},y.precision=function(h){return arguments.length?(l=typeof h=="function"?h:R(+h),y):l},y}},87070:function(G,V,e){var g=e(97023),R=e(39695);V.Z=(0,g.Z)(function(){return!0},i,T,[-R.pi,-R.ou]);function i(v){var p=NaN,t=NaN,r=NaN,l;return{lineStart:function(){v.lineStart(),l=1},point:function(n,s){var c=n>0?R.pi:-R.pi,u=(0,R.Wn)(n-p);(0,R.Wn)(u-R.pi)<R.Ho?(v.point(p,t=(t+s)/2>0?R.ou:-R.ou),v.point(r,t),v.lineEnd(),v.lineStart(),v.point(c,t),v.point(n,t),l=0):r!==c&&u>=R.pi&&((0,R.Wn)(p-r)<R.Ho&&(p-=r*R.Ho),(0,R.Wn)(n-c)<R.Ho&&(n-=c*R.Ho),t=L(p,t,n,s),v.point(r,t),v.lineEnd(),v.lineStart(),v.point(c,t),l=0),v.point(p=n,t=s),r=c},lineEnd:function(){v.lineEnd(),p=t=NaN},clean:function(){return 2-l}}}function L(v,p,t,r){var l,n,s=(0,R.O$)(v-t);return(0,R.Wn)(s)>R.Ho?(0,R.z4)(((0,R.O$)(p)*(n=(0,R.mC)(r))*(0,R.O$)(t)-(0,R.O$)(r)*(l=(0,R.mC)(p))*(0,R.O$)(v))/(l*n*s)):(p+r)/2}function T(v,p,t,r){var l;if(v==null)l=t*R.ou,r.point(-R.pi,l),r.point(0,l),r.point(R.pi,l),r.point(R.pi,0),r.point(R.pi,-l),r.point(0,-l),r.point(-R.pi,-l),r.point(-R.pi,0),r.point(-R.pi,l);else if((0,R.Wn)(v[0]-p[0])>R.Ho){var n=v[0]<p[0]?R.pi:-R.pi;l=t*n/2,r.point(-n,l),r.point(0,l),r.point(n,l)}else r.point(p[0],p[1])}},85272:function(G,V,e){e.d(V,{Z:function(){return R}});var g=e(73182);function R(){var i=[],L;return{point:function(T,v,p){L.push([T,v,p])},lineStart:function(){i.push(L=[])},lineEnd:g.Z,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var T=i;return i=[],L=null,T}}}},1457:function(G,V,e){e.d(V,{Z:function(){return v}});var g=e(7620),R=e(7613),i=e(39695),L=e(67108),T=e(97023);function v(p){var t=(0,i.mC)(p),r=6*i.uR,l=t>0,n=(0,i.Wn)(t)>i.Ho;function s(b,f,o,d){(0,R.m)(d,p,r,o,b,f)}function c(b,f){return(0,i.mC)(b)*(0,i.mC)(f)>t}function u(b){var f,o,d,A,M;return{lineStart:function(){A=d=!1,M=1},point:function(C,m){var S=[C,m],x,a=c(C,m),E=l?a?0:h(C,m):a?h(C+(C<0?i.pi:-i.pi),m):0;if(!f&&(A=d=a)&&b.lineStart(),a!==d&&(x=y(f,S),(!x||(0,L.Z)(f,x)||(0,L.Z)(S,x))&&(S[2]=1)),a!==d)M=0,a?(b.lineStart(),x=y(S,f),b.point(x[0],x[1])):(x=y(f,S),b.point(x[0],x[1],2),b.lineEnd()),f=x;else if(n&&f&&l^a){var w;!(E&o)&&(w=y(S,f,!0))&&(M=0,l?(b.lineStart(),b.point(w[0][0],w[0][1]),b.point(w[1][0],w[1][1]),b.lineEnd()):(b.point(w[1][0],w[1][1]),b.lineEnd(),b.lineStart(),b.point(w[0][0],w[0][1],3)))}a&&(!f||!(0,L.Z)(f,S))&&b.point(S[0],S[1]),f=S,d=a,o=E},lineEnd:function(){d&&b.lineEnd(),f=null},clean:function(){return M|(A&&d)<<1}}}function y(b,f,o){var d=(0,g.Og)(b),A=(0,g.Og)(f),M=[1,0,0],C=(0,g.T5)(d,A),m=(0,g.j9)(C,C),S=C[0],x=m-S*S;if(!x)return!o&&b;var a=t*m/x,E=-t*S/x,w=(0,g.T5)(M,C),k=(0,g.T)(M,a),I=(0,g.T)(C,E);(0,g.s0)(k,I);var U=w,z=(0,g.j9)(k,U),N=(0,g.j9)(U,U),B=z*z-N*((0,g.j9)(k,k)-1);if(!(B<0)){var F=(0,i._b)(B),H=(0,g.T)(U,(-z-F)/N);if((0,g.s0)(H,k),H=(0,g.Y1)(H),!o)return H;var X=b[0],q=f[0],ne=b[1],oe=f[1],ve;q<X&&(ve=X,X=q,q=ve);var J=q-X,Y=(0,i.Wn)(J-i.pi)<i.Ho,j=Y||J<i.Ho;if(!Y&&oe<ne&&(ve=ne,ne=oe,oe=ve),j?Y?ne+oe>0^H[1]<((0,i.Wn)(H[0]-X)<i.Ho?ne:oe):ne<=H[1]&&H[1]<=oe:J>i.pi^(X<=H[0]&&H[0]<=q)){var K=(0,g.T)(U,(-z+F)/N);return(0,g.s0)(K,k),[H,(0,g.Y1)(K)]}}}function h(b,f){var o=l?p:i.pi-p,d=0;return b<-o?d|=1:b>o&&(d|=2),f<-o?d|=4:f>o&&(d|=8),d}return(0,T.Z)(c,u,s,l?[0,-p]:[-i.pi,p-i.pi])}},97023:function(G,V,e){e.d(V,{Z:function(){return v}});var g=e(85272),R=e(46225),i=e(39695),L=e(23071),T=e(33064);function v(r,l,n,s){return function(c){var u=l(c),y=(0,g.Z)(),h=l(y),b=!1,f,o,d,A={point:M,lineStart:m,lineEnd:S,polygonStart:function(){A.point=x,A.lineStart=a,A.lineEnd=E,o=[],f=[]},polygonEnd:function(){A.point=M,A.lineStart=m,A.lineEnd=S,o=(0,T.TS)(o);var w=(0,L.Z)(f,s);o.length?(b||(c.polygonStart(),b=!0),(0,R.Z)(o,t,w,n,c)):w&&(b||(c.polygonStart(),b=!0),c.lineStart(),n(null,null,1,c),c.lineEnd()),b&&(c.polygonEnd(),b=!1),o=f=null},sphere:function(){c.polygonStart(),c.lineStart(),n(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function M(w,k){r(w,k)&&c.point(w,k)}function C(w,k){u.point(w,k)}function m(){A.point=C,u.lineStart()}function S(){A.point=M,u.lineEnd()}function x(w,k){d.push([w,k]),h.point(w,k)}function a(){h.lineStart(),d=[]}function E(){x(d[0][0],d[0][1]),h.lineEnd();var w=h.clean(),k=y.result(),I,U=k.length,z,N,B;if(d.pop(),f.push(d),d=null,!!U){if(w&1){if(N=k[0],(z=N.length-1)>0){for(b||(c.polygonStart(),b=!0),c.lineStart(),I=0;I<z;++I)c.point((B=N[I])[0],B[1]);c.lineEnd()}return}U>1&&w&2&&k.push(k.pop().concat(k.shift())),o.push(k.filter(p))}}return A}}function p(r){return r.length>1}function t(r,l){return((r=r.x)[0]<0?r[1]-i.ou-i.Ho:i.ou-r[1])-((l=l.x)[0]<0?l[1]-i.ou-i.Ho:i.ou-l[1])}},87605:function(G,V,e){e.d(V,{Z:function(){return t}});var g=e(39695),R=e(85272);function i(r,l,n,s,c,u){var y=r[0],h=r[1],b=l[0],f=l[1],o=0,d=1,A=b-y,M=f-h,C;if(C=n-y,!(!A&&C>0)){if(C/=A,A<0){if(C<o)return;C<d&&(d=C)}else if(A>0){if(C>d)return;C>o&&(o=C)}if(C=c-y,!(!A&&C<0)){if(C/=A,A<0){if(C>d)return;C>o&&(o=C)}else if(A>0){if(C<o)return;C<d&&(d=C)}if(C=s-h,!(!M&&C>0)){if(C/=M,M<0){if(C<o)return;C<d&&(d=C)}else if(M>0){if(C>d)return;C>o&&(o=C)}if(C=u-h,!(!M&&C<0)){if(C/=M,M<0){if(C>d)return;C>o&&(o=C)}else if(M>0){if(C<o)return;C<d&&(d=C)}return o>0&&(r[0]=y+o*A,r[1]=h+o*M),d<1&&(l[0]=y+d*A,l[1]=h+d*M),!0}}}}}var L=e(46225),T=e(33064),v=1e9,p=-v;function t(r,l,n,s){function c(f,o){return r<=f&&f<=n&&l<=o&&o<=s}function u(f,o,d,A){var M=0,C=0;if(f==null||(M=y(f,d))!==(C=y(o,d))||b(f,o)<0^d>0)do A.point(M===0||M===3?r:n,M>1?s:l);while((M=(M+d+4)%4)!==C);else A.point(o[0],o[1])}function y(f,o){return(0,g.Wn)(f[0]-r)<g.Ho?o>0?0:3:(0,g.Wn)(f[0]-n)<g.Ho?o>0?2:1:(0,g.Wn)(f[1]-l)<g.Ho?o>0?1:0:o>0?3:2}function h(f,o){return b(f.x,o.x)}function b(f,o){var d=y(f,1),A=y(o,1);return d!==A?d-A:d===0?o[1]-f[1]:d===1?f[0]-o[0]:d===2?f[1]-o[1]:o[0]-f[0]}return function(f){var o=f,d=(0,R.Z)(),A,M,C,m,S,x,a,E,w,k,I,U={point:z,lineStart:H,lineEnd:X,polygonStart:B,polygonEnd:F};function z(ne,oe){c(ne,oe)&&o.point(ne,oe)}function N(){for(var ne=0,oe=0,ve=M.length;oe<ve;++oe)for(var J=M[oe],Y=1,j=J.length,K=J[0],te,se,Q=K[0],ee=K[1];Y<j;++Y)te=Q,se=ee,K=J[Y],Q=K[0],ee=K[1],se<=s?ee>s&&(Q-te)*(s-se)>(ee-se)*(r-te)&&++ne:ee<=s&&(Q-te)*(s-se)<(ee-se)*(r-te)&&--ne;return ne}function B(){o=d,A=[],M=[],I=!0}function F(){var ne=N(),oe=I&&ne,ve=(A=(0,T.TS)(A)).length;(oe||ve)&&(f.polygonStart(),oe&&(f.lineStart(),u(null,null,1,f),f.lineEnd()),ve&&(0,L.Z)(A,h,ne,u,f),f.polygonEnd()),o=f,A=M=C=null}function H(){U.point=q,M&&M.push(C=[]),k=!0,w=!1,a=E=NaN}function X(){A&&(q(m,S),x&&w&&d.rejoin(),A.push(d.result())),U.point=z,w&&o.lineEnd()}function q(ne,oe){var ve=c(ne,oe);if(M&&C.push([ne,oe]),k)m=ne,S=oe,x=ve,k=!1,ve&&(o.lineStart(),o.point(ne,oe));else if(ve&&w)o.point(ne,oe);else{var J=[a=Math.max(p,Math.min(v,a)),E=Math.max(p,Math.min(v,E))],Y=[ne=Math.max(p,Math.min(v,ne)),oe=Math.max(p,Math.min(v,oe))];i(J,Y,r,l,n,s)?(w||(o.lineStart(),o.point(J[0],J[1])),o.point(Y[0],Y[1]),ve||o.lineEnd(),I=!1):ve&&(o.lineStart(),o.point(ne,oe),I=!1)}a=ne,E=oe,w=ve}return U}}},46225:function(G,V,e){e.d(V,{Z:function(){return L}});var g=e(67108),R=e(39695);function i(v,p,t,r){this.x=v,this.z=p,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function L(v,p,t,r,l){var n=[],s=[],c,u;if(v.forEach(function(d){if(!((A=d.length-1)<=0)){var A,M=d[0],C=d[A],m;if((0,g.Z)(M,C)){if(!M[2]&&!C[2]){for(l.lineStart(),c=0;c<A;++c)l.point((M=d[c])[0],M[1]);l.lineEnd();return}C[0]+=2*R.Ho}n.push(m=new i(M,d,null,!0)),s.push(m.o=new i(M,null,m,!1)),n.push(m=new i(C,d,null,!1)),s.push(m.o=new i(C,null,m,!0))}}),!!n.length){for(s.sort(p),T(n),T(s),c=0,u=s.length;c<u;++c)s[c].e=t=!t;for(var y=n[0],h,b;;){for(var f=y,o=!0;f.v;)if((f=f.n)===y)return;h=f.z,l.lineStart();do{if(f.v=f.o.v=!0,f.e){if(o)for(c=0,u=h.length;c<u;++c)l.point((b=h[c])[0],b[1]);else r(f.x,f.n.x,1,l);f=f.n}else{if(o)for(h=f.p.z,c=h.length-1;c>=0;--c)l.point((b=h[c])[0],b[1]);else r(f.x,f.p.x,-1,l);f=f.p}f=f.o,h=f.z,o=!o}while(!f.v);l.lineEnd()}}}function T(v){if(p=v.length){for(var p,t=0,r=v[0],l;++t<p;)r.n=l=v[t],l.p=r,r=l;r.n=l=v[0],l.p=r}}},96059:function(G,V,e){e.d(V,{Z:function(){return g}});function g(R,i){function L(T,v){return T=R(T,v),i(T[0],T[1])}return R.invert&&i.invert&&(L.invert=function(T,v){return T=i.invert(T,v),T&&R.invert(T[0],T[1])}),L}},8593:function(G,V,e){e.d(V,{Z:function(){return g}});function g(R){return R}},27362:function(G,V,e){e.r(V),e.d(V,{geoAlbers:function(){return Ar},geoAlbersUsa:function(){return ct},geoArea:function(){return g.ZP},geoAzimuthalEqualArea:function(){return wt.Z},geoAzimuthalEqualAreaRaw:function(){return wt.l},geoAzimuthalEquidistant:function(){return St.Z},geoAzimuthalEquidistantRaw:function(){return St.N},geoBounds:function(){return R.Z},geoCentroid:function(){return i.Z},geoCircle:function(){return L.Z},geoClipAntimeridian:function(){return T.Z},geoClipCircle:function(){return v.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return p.Z},geoConicConformal:function(){return sr},geoConicConformalRaw:function(){return $t},geoConicEqualArea:function(){return Zt},geoConicEqualAreaRaw:function(){return Jt},geoConicEquidistant:function(){return We},geoConicEquidistantRaw:function(){return je},geoContains:function(){return B},geoDistance:function(){return x},geoEqualEarth:function(){return vr},geoEqualEarthRaw:function(){return Bt},geoEquirectangular:function(){return Cr.Z},geoEquirectangularRaw:function(){return Cr.k},geoGnomonic:function(){return yr.Z},geoGnomonicRaw:function(){return yr.M},geoGraticule:function(){return q},geoGraticule10:function(){return ne},geoIdentity:function(){return gr},geoInterpolate:function(){return oe.Z},geoLength:function(){return C},geoMercator:function(){return Ot},geoMercatorRaw:function(){return Ct},geoNaturalEarth1:function(){return Zr.Z},geoNaturalEarth1Raw:function(){return Zr.K},geoOrthographic:function(){return Ur.Z},geoOrthographicRaw:function(){return Ur.I},geoPath:function(){return Qt},geoProjection:function(){return or.Z},geoProjectionMutator:function(){return or.r},geoRotation:function(){return Rt.Z},geoStereographic:function(){return Kr},geoStereographicRaw:function(){return Tn},geoStream:function(){return c.Z},geoTransform:function(){return mr.Z},geoTransverseMercator:function(){return On},geoTransverseMercatorRaw:function(){return Bn}});var g=e(97860),R=e(77338),i=e(66624),L=e(7613),T=e(87070),v=e(1457),p=e(87605);function t(){var Tr=0,Mr=0,Hr=960,Vr=500,nn,bn,dn;return dn={stream:function(Pn){return nn&&bn===Pn?nn:nn=(0,p.Z)(Tr,Mr,Hr,Vr)(bn=Pn)},extent:function(Pn){return arguments.length?(Tr=+Pn[0][0],Mr=+Pn[0][1],Hr=+Pn[1][0],Vr=+Pn[1][1],nn=bn=null,dn):[[Tr,Mr],[Hr,Vr]]}}}var r=e(23071),l=e(33940),n=e(39695),s=e(73182),c=e(72736),u=(0,l.Z)(),y,h,b,f={sphere:s.Z,point:s.Z,lineStart:o,lineEnd:s.Z,polygonStart:s.Z,polygonEnd:s.Z};function o(){f.point=A,f.lineEnd=d}function d(){f.point=f.lineEnd=s.Z}function A(Tr,Mr){Tr*=n.uR,Mr*=n.uR,y=Tr,h=(0,n.O$)(Mr),b=(0,n.mC)(Mr),f.point=M}function M(Tr,Mr){Tr*=n.uR,Mr*=n.uR;var Hr=(0,n.O$)(Mr),Vr=(0,n.mC)(Mr),nn=(0,n.Wn)(Tr-y),bn=(0,n.mC)(nn),dn=(0,n.O$)(nn),Pn=Vr*dn,zn=b*Hr-h*Vr*bn,ta=h*Hr+b*Vr*bn;u.add((0,n.fv)((0,n._b)(Pn*Pn+zn*zn),ta)),y=Tr,h=Hr,b=Vr}function C(Tr){return u.reset(),(0,c.Z)(Tr,f),+u}var m=[null,null],S={type:"LineString",coordinates:m};function x(Tr,Mr){return m[0]=Tr,m[1]=Mr,C(S)}var a={Feature:function(Tr,Mr){return w(Tr.geometry,Mr)},FeatureCollection:function(Tr,Mr){for(var Hr=Tr.features,Vr=-1,nn=Hr.length;++Vr<nn;)if(w(Hr[Vr].geometry,Mr))return!0;return!1}},E={Sphere:function(){return!0},Point:function(Tr,Mr){return k(Tr.coordinates,Mr)},MultiPoint:function(Tr,Mr){for(var Hr=Tr.coordinates,Vr=-1,nn=Hr.length;++Vr<nn;)if(k(Hr[Vr],Mr))return!0;return!1},LineString:function(Tr,Mr){return I(Tr.coordinates,Mr)},MultiLineString:function(Tr,Mr){for(var Hr=Tr.coordinates,Vr=-1,nn=Hr.length;++Vr<nn;)if(I(Hr[Vr],Mr))return!0;return!1},Polygon:function(Tr,Mr){return U(Tr.coordinates,Mr)},MultiPolygon:function(Tr,Mr){for(var Hr=Tr.coordinates,Vr=-1,nn=Hr.length;++Vr<nn;)if(U(Hr[Vr],Mr))return!0;return!1},GeometryCollection:function(Tr,Mr){for(var Hr=Tr.geometries,Vr=-1,nn=Hr.length;++Vr<nn;)if(w(Hr[Vr],Mr))return!0;return!1}};function w(Tr,Mr){return Tr&&E.hasOwnProperty(Tr.type)?E[Tr.type](Tr,Mr):!1}function k(Tr,Mr){return x(Tr,Mr)===0}function I(Tr,Mr){for(var Hr,Vr,nn,bn=0,dn=Tr.length;bn<dn;bn++){if(Vr=x(Tr[bn],Mr),Vr===0||bn>0&&(nn=x(Tr[bn],Tr[bn-1]),nn>0&&Hr<=nn&&Vr<=nn&&(Hr+Vr-nn)*(1-Math.pow((Hr-Vr)/nn,2))<n.aW*nn))return!0;Hr=Vr}return!1}function U(Tr,Mr){return!!(0,r.Z)(Tr.map(z),N(Mr))}function z(Tr){return Tr=Tr.map(N),Tr.pop(),Tr}function N(Tr){return[Tr[0]*n.uR,Tr[1]*n.uR]}function B(Tr,Mr){return(Tr&&a.hasOwnProperty(Tr.type)?a[Tr.type]:w)(Tr,Mr)}var F=e(33064);function H(Tr,Mr,Hr){var Vr=(0,F.w6)(Tr,Mr-n.Ho,Hr).concat(Mr);return function(nn){return Vr.map(function(bn){return[nn,bn]})}}function X(Tr,Mr,Hr){var Vr=(0,F.w6)(Tr,Mr-n.Ho,Hr).concat(Mr);return function(nn){return Vr.map(function(bn){return[bn,nn]})}}function q(){var Tr,Mr,Hr,Vr,nn,bn,dn,Pn,zn=10,ta=zn,oa=90,ya=360,ca,la,Pr,hn,un=2.5;function wn(){return{type:"MultiLineString",coordinates:Zn()}}function Zn(){return(0,F.w6)((0,n.mD)(Vr/oa)*oa,Hr,oa).map(Pr).concat((0,F.w6)((0,n.mD)(Pn/ya)*ya,dn,ya).map(hn)).concat((0,F.w6)((0,n.mD)(Mr/zn)*zn,Tr,zn).filter(function(In){return(0,n.Wn)(In%oa)>n.Ho}).map(ca)).concat((0,F.w6)((0,n.mD)(bn/ta)*ta,nn,ta).filter(function(In){return(0,n.Wn)(In%ya)>n.Ho}).map(la))}return wn.lines=function(){return Zn().map(function(In){return{type:"LineString",coordinates:In}})},wn.outline=function(){return{type:"Polygon",coordinates:[Pr(Vr).concat(hn(dn).slice(1),Pr(Hr).reverse().slice(1),hn(Pn).reverse().slice(1))]}},wn.extent=function(In){return arguments.length?wn.extentMajor(In).extentMinor(In):wn.extentMinor()},wn.extentMajor=function(In){return arguments.length?(Vr=+In[0][0],Hr=+In[1][0],Pn=+In[0][1],dn=+In[1][1],Vr>Hr&&(In=Vr,Vr=Hr,Hr=In),Pn>dn&&(In=Pn,Pn=dn,dn=In),wn.precision(un)):[[Vr,Pn],[Hr,dn]]},wn.extentMinor=function(In){return arguments.length?(Mr=+In[0][0],Tr=+In[1][0],bn=+In[0][1],nn=+In[1][1],Mr>Tr&&(In=Mr,Mr=Tr,Tr=In),bn>nn&&(In=bn,bn=nn,nn=In),wn.precision(un)):[[Mr,bn],[Tr,nn]]},wn.step=function(In){return arguments.length?wn.stepMajor(In).stepMinor(In):wn.stepMinor()},wn.stepMajor=function(In){return arguments.length?(oa=+In[0],ya=+In[1],wn):[oa,ya]},wn.stepMinor=function(In){return arguments.length?(zn=+In[0],ta=+In[1],wn):[zn,ta]},wn.precision=function(In){return arguments.length?(un=+In,ca=H(bn,nn,90),la=X(Mr,Tr,un),Pr=H(Pn,dn,90),hn=X(Vr,Hr,un),wn):un},wn.extentMajor([[-180,-90+n.Ho],[180,90-n.Ho]]).extentMinor([[-180,-80-n.Ho],[180,80+n.Ho]])}function ne(){return q()()}var oe=e(83074),ve=e(8593),J=(0,l.Z)(),Y=(0,l.Z)(),j,K,te,se,Q={point:s.Z,lineStart:s.Z,lineEnd:s.Z,polygonStart:function(){Q.lineStart=ee,Q.lineEnd=he},polygonEnd:function(){Q.lineStart=Q.lineEnd=Q.point=s.Z,J.add((0,n.Wn)(Y)),Y.reset()},result:function(){var Tr=J/2;return J.reset(),Tr}};function ee(){Q.point=le}function le(Tr,Mr){Q.point=ie,j=te=Tr,K=se=Mr}function ie(Tr,Mr){Y.add(se*Tr-te*Mr),te=Tr,se=Mr}function he(){ie(j,K)}var xe=Q,Se=e(3559),Ee=0,Ne=0,He=0,Ce=0,be=0,we=0,ke=0,Fe=0,Pe=0,Ge,nt,qe,Ke,$e={point:vt,lineStart:yt,lineEnd:Xe,polygonStart:function(){$e.lineStart=Ue,$e.lineEnd=Be},polygonEnd:function(){$e.point=vt,$e.lineStart=yt,$e.lineEnd=Xe},result:function(){var Tr=Pe?[ke/Pe,Fe/Pe]:we?[Ce/we,be/we]:He?[Ee/He,Ne/He]:[NaN,NaN];return Ee=Ne=He=Ce=be=we=ke=Fe=Pe=0,Tr}};function vt(Tr,Mr){Ee+=Tr,Ne+=Mr,++He}function yt(){$e.point=mt}function mt(Tr,Mr){$e.point=Et,vt(qe=Tr,Ke=Mr)}function Et(Tr,Mr){var Hr=Tr-qe,Vr=Mr-Ke,nn=(0,n._b)(Hr*Hr+Vr*Vr);Ce+=nn*(qe+Tr)/2,be+=nn*(Ke+Mr)/2,we+=nn,vt(qe=Tr,Ke=Mr)}function Xe(){$e.point=vt}function Ue(){$e.point=rt}function Be(){it(Ge,nt)}function rt(Tr,Mr){$e.point=it,vt(Ge=qe=Tr,nt=Ke=Mr)}function it(Tr,Mr){var Hr=Tr-qe,Vr=Mr-Ke,nn=(0,n._b)(Hr*Hr+Vr*Vr);Ce+=nn*(qe+Tr)/2,be+=nn*(Ke+Mr)/2,we+=nn,nn=Ke*Tr-qe*Mr,ke+=nn*(qe+Tr),Fe+=nn*(Ke+Mr),Pe+=nn*3,vt(qe=Tr,Ke=Mr)}var Ye=$e;function De(Tr){this._context=Tr}De.prototype={_radius:4.5,pointRadius:function(Tr){return this._radius=Tr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Tr,Mr){switch(this._point){case 0:{this._context.moveTo(Tr,Mr),this._point=1;break}case 1:{this._context.lineTo(Tr,Mr);break}default:{this._context.moveTo(Tr+this._radius,Mr),this._context.arc(Tr,Mr,this._radius,0,n.BZ);break}}},result:s.Z};var Te=(0,l.Z)(),fe,me,Re,Oe,st,ut={point:s.Z,lineStart:function(){ut.point=Tt},lineEnd:function(){fe&&It(me,Re),ut.point=s.Z},polygonStart:function(){fe=!0},polygonEnd:function(){fe=null},result:function(){var Tr=+Te;return Te.reset(),Tr}};function Tt(Tr,Mr){ut.point=It,me=Oe=Tr,Re=st=Mr}function It(Tr,Mr){Oe-=Tr,st-=Mr,Te.add((0,n._b)(Oe*Oe+st*st)),Oe=Tr,st=Mr}var Gt=ut;function jt(){this._string=[]}jt.prototype={_radius:4.5,_circle:Pt(4.5),pointRadius:function(Tr){return(Tr=+Tr)!==this._radius&&(this._radius=Tr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Tr,Mr){switch(this._point){case 0:{this._string.push("M",Tr,",",Mr),this._point=1;break}case 1:{this._string.push("L",Tr,",",Mr);break}default:{this._circle==null&&(this._circle=Pt(this._radius)),this._string.push("M",Tr,",",Mr,this._circle);break}}},result:function(){if(this._string.length){var Tr=this._string.join("");return this._string=[],Tr}else return null}};function Pt(Tr){return"m0,"+Tr+"a"+Tr+","+Tr+" 0 1,1 0,"+-2*Tr+"a"+Tr+","+Tr+" 0 1,1 0,"+2*Tr+"z"}function Qt(Tr,Mr){var Hr=4.5,Vr,nn;function bn(dn){return dn&&(typeof Hr=="function"&&nn.pointRadius(+Hr.apply(this,arguments)),(0,c.Z)(dn,Vr(nn))),nn.result()}return bn.area=function(dn){return(0,c.Z)(dn,Vr(xe)),xe.result()},bn.measure=function(dn){return(0,c.Z)(dn,Vr(Gt)),Gt.result()},bn.bounds=function(dn){return(0,c.Z)(dn,Vr(Se.Z)),Se.Z.result()},bn.centroid=function(dn){return(0,c.Z)(dn,Vr(Ye)),Ye.result()},bn.projection=function(dn){return arguments.length?(Vr=dn==null?(Tr=null,ve.Z):(Tr=dn).stream,bn):Tr},bn.context=function(dn){return arguments.length?(nn=dn==null?(Mr=null,new jt):new De(Mr=dn),typeof Hr!="function"&&nn.pointRadius(Hr),bn):Mr},bn.pointRadius=function(dn){return arguments.length?(Hr=typeof dn=="function"?dn:(nn.pointRadius(+dn),+dn),bn):Hr},bn.projection(Tr).context(Mr)}var or=e(15002);function zr(Tr){var Mr=0,Hr=n.pi/3,Vr=(0,or.r)(Tr),nn=Vr(Mr,Hr);return nn.parallels=function(bn){return arguments.length?Vr(Mr=bn[0]*n.uR,Hr=bn[1]*n.uR):[Mr*n.RW,Hr*n.RW]},nn}function bt(Tr){var Mr=(0,n.mC)(Tr);function Hr(Vr,nn){return[Vr*Mr,(0,n.O$)(nn)/Mr]}return Hr.invert=function(Vr,nn){return[Vr/Mr,(0,n.ZR)(nn*Mr)]},Hr}function Jt(Tr,Mr){var Hr=(0,n.O$)(Tr),Vr=(Hr+(0,n.O$)(Mr))/2;if((0,n.Wn)(Vr)<n.Ho)return bt(Tr);var nn=1+Hr*(2*Vr-Hr),bn=(0,n._b)(nn)/Vr;function dn(Pn,zn){var ta=(0,n._b)(nn-2*Vr*(0,n.O$)(zn))/Vr;return[ta*(0,n.O$)(Pn*=Vr),bn-ta*(0,n.mC)(Pn)]}return dn.invert=function(Pn,zn){var ta=bn-zn,oa=(0,n.fv)(Pn,(0,n.Wn)(ta))*(0,n.Xx)(ta);return ta*Vr<0&&(oa-=n.pi*(0,n.Xx)(Pn)*(0,n.Xx)(ta)),[oa/Vr,(0,n.ZR)((nn-(Pn*Pn+ta*ta)*Vr*Vr)/(2*Vr))]},dn}function Zt(){return zr(Jt).scale(155.424).center([0,33.6442])}function Ar(){return Zt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var dr=e(47589);function ht(Tr){var Mr=Tr.length;return{point:function(Hr,Vr){for(var nn=-1;++nn<Mr;)Tr[nn].point(Hr,Vr)},sphere:function(){for(var Hr=-1;++Hr<Mr;)Tr[Hr].sphere()},lineStart:function(){for(var Hr=-1;++Hr<Mr;)Tr[Hr].lineStart()},lineEnd:function(){for(var Hr=-1;++Hr<Mr;)Tr[Hr].lineEnd()},polygonStart:function(){for(var Hr=-1;++Hr<Mr;)Tr[Hr].polygonStart()},polygonEnd:function(){for(var Hr=-1;++Hr<Mr;)Tr[Hr].polygonEnd()}}}function ct(){var Tr,Mr,Hr=Ar(),Vr,nn=Zt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),bn,dn=Zt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Pn,zn,ta={point:function(ca,la){zn=[ca,la]}};function oa(ca){var la=ca[0],Pr=ca[1];return zn=null,Vr.point(la,Pr),zn||(bn.point(la,Pr),zn)||(Pn.point(la,Pr),zn)}oa.invert=function(ca){var la=Hr.scale(),Pr=Hr.translate(),hn=(ca[0]-Pr[0])/la,un=(ca[1]-Pr[1])/la;return(un>=.12&&un<.234&&hn>=-.425&&hn<-.214?nn:un>=.166&&un<.234&&hn>=-.214&&hn<-.115?dn:Hr).invert(ca)},oa.stream=function(ca){return Tr&&Mr===ca?Tr:Tr=ht([Hr.stream(Mr=ca),nn.stream(ca),dn.stream(ca)])},oa.precision=function(ca){return arguments.length?(Hr.precision(ca),nn.precision(ca),dn.precision(ca),ya()):Hr.precision()},oa.scale=function(ca){return arguments.length?(Hr.scale(ca),nn.scale(ca*.35),dn.scale(ca),oa.translate(Hr.translate())):Hr.scale()},oa.translate=function(ca){if(!arguments.length)return Hr.translate();var la=Hr.scale(),Pr=+ca[0],hn=+ca[1];return Vr=Hr.translate(ca).clipExtent([[Pr-.455*la,hn-.238*la],[Pr+.455*la,hn+.238*la]]).stream(ta),bn=nn.translate([Pr-.307*la,hn+.201*la]).clipExtent([[Pr-.425*la+n.Ho,hn+.12*la+n.Ho],[Pr-.214*la-n.Ho,hn+.234*la-n.Ho]]).stream(ta),Pn=dn.translate([Pr-.205*la,hn+.212*la]).clipExtent([[Pr-.214*la+n.Ho,hn+.166*la+n.Ho],[Pr-.115*la-n.Ho,hn+.234*la-n.Ho]]).stream(ta),ya()},oa.fitExtent=function(ca,la){return(0,dr.qg)(oa,ca,la)},oa.fitSize=function(ca,la){return(0,dr.mF)(oa,ca,la)},oa.fitWidth=function(ca,la){return(0,dr.V6)(oa,ca,la)},oa.fitHeight=function(ca,la){return(0,dr.rf)(oa,ca,la)};function ya(){return Tr=Mr=null,oa}return oa.scale(1070)}var wt=e(12956),St=e(17889),Rt=e(49386);function Ct(Tr,Mr){return[Tr,(0,n.cM)((0,n.OR)((n.ou+Mr)/2))]}Ct.invert=function(Tr,Mr){return[Tr,2*(0,n.z4)((0,n.Qq)(Mr))-n.ou]};function Ot(){return Wt(Ct).scale(961/n.BZ)}function Wt(Tr){var Mr=(0,or.Z)(Tr),Hr=Mr.center,Vr=Mr.scale,nn=Mr.translate,bn=Mr.clipExtent,dn=null,Pn,zn,ta;Mr.scale=function(ya){return arguments.length?(Vr(ya),oa()):Vr()},Mr.translate=function(ya){return arguments.length?(nn(ya),oa()):nn()},Mr.center=function(ya){return arguments.length?(Hr(ya),oa()):Hr()},Mr.clipExtent=function(ya){return arguments.length?(ya==null?dn=Pn=zn=ta=null:(dn=+ya[0][0],Pn=+ya[0][1],zn=+ya[1][0],ta=+ya[1][1]),oa()):dn==null?null:[[dn,Pn],[zn,ta]]};function oa(){var ya=n.pi*Vr(),ca=Mr((0,Rt.Z)(Mr.rotate()).invert([0,0]));return bn(dn==null?[[ca[0]-ya,ca[1]-ya],[ca[0]+ya,ca[1]+ya]]:Tr===Ct?[[Math.max(ca[0]-ya,dn),Pn],[Math.min(ca[0]+ya,zn),ta]]:[[dn,Math.max(ca[1]-ya,Pn)],[zn,Math.min(ca[1]+ya,ta)]])}return oa()}function er(Tr){return(0,n.OR)((n.ou+Tr)/2)}function $t(Tr,Mr){var Hr=(0,n.mC)(Tr),Vr=Tr===Mr?(0,n.O$)(Tr):(0,n.cM)(Hr/(0,n.mC)(Mr))/(0,n.cM)(er(Mr)/er(Tr)),nn=Hr*(0,n.sQ)(er(Tr),Vr)/Vr;if(!Vr)return Ct;function bn(dn,Pn){nn>0?Pn<-n.ou+n.Ho&&(Pn=-n.ou+n.Ho):Pn>n.ou-n.Ho&&(Pn=n.ou-n.Ho);var zn=nn/(0,n.sQ)(er(Pn),Vr);return[zn*(0,n.O$)(Vr*dn),nn-zn*(0,n.mC)(Vr*dn)]}return bn.invert=function(dn,Pn){var zn=nn-Pn,ta=(0,n.Xx)(Vr)*(0,n._b)(dn*dn+zn*zn),oa=(0,n.fv)(dn,(0,n.Wn)(zn))*(0,n.Xx)(zn);return zn*Vr<0&&(oa-=n.pi*(0,n.Xx)(dn)*(0,n.Xx)(zn)),[oa/Vr,2*(0,n.z4)((0,n.sQ)(nn/ta,1/Vr))-n.ou]},bn}function sr(){return zr($t).scale(109.5).parallels([30,30])}var Cr=e(97492);function je(Tr,Mr){var Hr=(0,n.mC)(Tr),Vr=Tr===Mr?(0,n.O$)(Tr):(Hr-(0,n.mC)(Mr))/(Mr-Tr),nn=Hr/Vr+Tr;if((0,n.Wn)(Vr)<n.Ho)return Cr.k;function bn(dn,Pn){var zn=nn-Pn,ta=Vr*dn;return[zn*(0,n.O$)(ta),nn-zn*(0,n.mC)(ta)]}return bn.invert=function(dn,Pn){var zn=nn-Pn,ta=(0,n.fv)(dn,(0,n.Wn)(zn))*(0,n.Xx)(zn);return zn*Vr<0&&(ta-=n.pi*(0,n.Xx)(dn)*(0,n.Xx)(zn)),[ta/Vr,nn-(0,n.Xx)(Vr)*(0,n._b)(dn*dn+zn*zn)]},bn}function We(){return zr(je).scale(131.154).center([0,13.9389])}var kt=1.340264,zt=-.081106,Xt=893e-6,lr=.003796,cr=(0,n._b)(3)/2,nr=12;function Bt(Tr,Mr){var Hr=(0,n.ZR)(cr*(0,n.O$)(Mr)),Vr=Hr*Hr,nn=Vr*Vr*Vr;return[Tr*(0,n.mC)(Hr)/(cr*(kt+3*zt*Vr+nn*(7*Xt+9*lr*Vr))),Hr*(kt+zt*Vr+nn*(Xt+lr*Vr))]}Bt.invert=function(Tr,Mr){for(var Hr=Mr,Vr=Hr*Hr,nn=Vr*Vr*Vr,bn=0,dn,Pn,zn;bn<nr&&(Pn=Hr*(kt+zt*Vr+nn*(Xt+lr*Vr))-Mr,zn=kt+3*zt*Vr+nn*(7*Xt+9*lr*Vr),Hr-=dn=Pn/zn,Vr=Hr*Hr,nn=Vr*Vr*Vr,!((0,n.Wn)(dn)<n.aW));++bn);return[cr*Tr*(kt+3*zt*Vr+nn*(7*Xt+9*lr*Vr))/(0,n.mC)(Hr),(0,n.ZR)((0,n.O$)(Hr)/cr)]};function vr(){return(0,or.Z)(Bt).scale(177.158)}var yr=e(98936),mr=e(64684);function gr(){var Tr=1,Mr=0,Hr=0,Vr=1,nn=1,bn=0,dn,Pn,zn=null,ta,oa,ya,ca=1,la=1,Pr=(0,mr.l)({point:function(Dn,jn){var va=In([Dn,jn]);this.stream.point(va[0],va[1])}}),hn=ve.Z,un,wn;function Zn(){return ca=Tr*Vr,la=Tr*nn,un=wn=null,In}function In(Dn){var jn=Dn[0]*ca,va=Dn[1]*la;if(bn){var Ia=va*dn-jn*Pn;jn=jn*dn+va*Pn,va=Ia}return[jn+Mr,va+Hr]}return In.invert=function(Dn){var jn=Dn[0]-Mr,va=Dn[1]-Hr;if(bn){var Ia=va*dn+jn*Pn;jn=jn*dn-va*Pn,va=Ia}return[jn/ca,va/la]},In.stream=function(Dn){return un&&wn===Dn?un:un=Pr(hn(wn=Dn))},In.postclip=function(Dn){return arguments.length?(hn=Dn,zn=ta=oa=ya=null,Zn()):hn},In.clipExtent=function(Dn){return arguments.length?(hn=Dn==null?(zn=ta=oa=ya=null,ve.Z):(0,p.Z)(zn=+Dn[0][0],ta=+Dn[0][1],oa=+Dn[1][0],ya=+Dn[1][1]),Zn()):zn==null?null:[[zn,ta],[oa,ya]]},In.scale=function(Dn){return arguments.length?(Tr=+Dn,Zn()):Tr},In.translate=function(Dn){return arguments.length?(Mr=+Dn[0],Hr=+Dn[1],Zn()):[Mr,Hr]},In.angle=function(Dn){return arguments.length?(bn=Dn%360*n.uR,Pn=(0,n.O$)(bn),dn=(0,n.mC)(bn),Zn()):bn*n.RW},In.reflectX=function(Dn){return arguments.length?(Vr=Dn?-1:1,Zn()):Vr<0},In.reflectY=function(Dn){return arguments.length?(nn=Dn?-1:1,Zn()):nn<0},In.fitExtent=function(Dn,jn){return(0,dr.qg)(In,Dn,jn)},In.fitSize=function(Dn,jn){return(0,dr.mF)(In,Dn,jn)},In.fitWidth=function(Dn,jn){return(0,dr.V6)(In,Dn,jn)},In.fitHeight=function(Dn,jn){return(0,dr.rf)(In,Dn,jn)},In}var Zr=e(26867),Ur=e(57962),Br=e(25382);function Tn(Tr,Mr){var Hr=(0,n.mC)(Mr),Vr=1+(0,n.mC)(Tr)*Hr;return[Hr*(0,n.O$)(Tr)/Vr,(0,n.O$)(Mr)/Vr]}Tn.invert=(0,Br.O)(function(Tr){return 2*(0,n.z4)(Tr)});function Kr(){return(0,or.Z)(Tn).scale(250).clipAngle(142)}function Bn(Tr,Mr){return[(0,n.cM)((0,n.OR)((n.ou+Mr)/2)),-Tr]}Bn.invert=function(Tr,Mr){return[-Mr,2*(0,n.z4)((0,n.Qq)(Tr))-n.ou]};function On(){var Tr=Wt(Bn),Mr=Tr.center,Hr=Tr.rotate;return Tr.center=function(Vr){return arguments.length?Mr([-Vr[1],Vr[0]]):(Vr=Mr(),[Vr[1],-Vr[0]])},Tr.rotate=function(Vr){return arguments.length?Hr([Vr[0],Vr[1],Vr.length>2?Vr[2]+90:90]):(Vr=Hr(),[Vr[0],Vr[1],Vr[2]-90])},Hr([0,0,90]).scale(159.155)}},83074:function(G,V,e){e.d(V,{Z:function(){return R}});var g=e(39695);function R(i,L){var T=i[0]*g.uR,v=i[1]*g.uR,p=L[0]*g.uR,t=L[1]*g.uR,r=(0,g.mC)(v),l=(0,g.O$)(v),n=(0,g.mC)(t),s=(0,g.O$)(t),c=r*(0,g.mC)(T),u=r*(0,g.O$)(T),y=n*(0,g.mC)(p),h=n*(0,g.O$)(p),b=2*(0,g.ZR)((0,g._b)((0,g.Jy)(t-v)+r*n*(0,g.Jy)(p-T))),f=(0,g.O$)(b),o=b?function(d){var A=(0,g.O$)(d*=b)/f,M=(0,g.O$)(b-d)/f,C=M*c+A*y,m=M*u+A*h,S=M*l+A*s;return[(0,g.fv)(m,C)*g.RW,(0,g.fv)(S,(0,g._b)(C*C+m*m))*g.RW]}:function(){return[T*g.RW,v*g.RW]};return o.distance=b,o}},39695:function(G,V,e){e.d(V,{BZ:function(){return v},Ho:function(){return g},Jy:function(){return C},Kh:function(){return A},O$:function(){return b},OR:function(){return d},Qq:function(){return u},RW:function(){return p},Wn:function(){return r},Xx:function(){return f},ZR:function(){return M},_b:function(){return o},aW:function(){return R},cM:function(){return y},fv:function(){return n},mC:function(){return s},mD:function(){return c},ou:function(){return L},pi:function(){return i},pu:function(){return T},sQ:function(){return h},uR:function(){return t},z4:function(){return l}});var g=1e-6,R=1e-12,i=Math.PI,L=i/2,T=i/4,v=i*2,p=180/i,t=i/180,r=Math.abs,l=Math.atan,n=Math.atan2,s=Math.cos,c=Math.ceil,u=Math.exp,y=Math.log,h=Math.pow,b=Math.sin,f=Math.sign||function(m){return m>0?1:m<0?-1:0},o=Math.sqrt,d=Math.tan;function A(m){return m>1?0:m<-1?i:Math.acos(m)}function M(m){return m>1?L:m<-1?-L:Math.asin(m)}function C(m){return(m=b(m/2))*m}},73182:function(G,V,e){e.d(V,{Z:function(){return g}});function g(){}},3559:function(G,V,e){var g=e(73182),R=1/0,i=R,L=-R,T=L,v={point:p,lineStart:g.Z,lineEnd:g.Z,polygonStart:g.Z,polygonEnd:g.Z,result:function(){var t=[[R,i],[L,T]];return L=T=-(i=R=1/0),t}};function p(t,r){t<R&&(R=t),t>L&&(L=t),r<i&&(i=r),r>T&&(T=r)}V.Z=v},67108:function(G,V,e){e.d(V,{Z:function(){return R}});var g=e(39695);function R(i,L){return(0,g.Wn)(i[0]-L[0])<g.Ho&&(0,g.Wn)(i[1]-L[1])<g.Ho}},23071:function(G,V,e){e.d(V,{Z:function(){return v}});var g=e(33940),R=e(7620),i=e(39695),L=(0,g.Z)();function T(p){return(0,i.Wn)(p[0])<=i.pi?p[0]:(0,i.Xx)(p[0])*(((0,i.Wn)(p[0])+i.pi)%i.BZ-i.pi)}function v(p,t){var r=T(t),l=t[1],n=(0,i.O$)(l),s=[(0,i.O$)(r),-(0,i.mC)(r),0],c=0,u=0;L.reset(),n===1?l=i.ou+i.Ho:n===-1&&(l=-i.ou-i.Ho);for(var y=0,h=p.length;y<h;++y)if(f=(b=p[y]).length)for(var b,f,o=b[f-1],d=T(o),A=o[1]/2+i.pu,M=(0,i.O$)(A),C=(0,i.mC)(A),m=0;m<f;++m,d=x,M=E,C=w,o=S){var S=b[m],x=T(S),a=S[1]/2+i.pu,E=(0,i.O$)(a),w=(0,i.mC)(a),k=x-d,I=k>=0?1:-1,U=I*k,z=U>i.pi,N=M*E;if(L.add((0,i.fv)(N*I*(0,i.O$)(U),C*w+N*(0,i.mC)(U))),c+=z?k+I*i.BZ:k,z^d>=r^x>=r){var B=(0,R.T5)((0,R.Og)(o),(0,R.Og)(S));(0,R.iJ)(B);var F=(0,R.T5)(s,B);(0,R.iJ)(F);var H=(z^k>=0?-1:1)*(0,i.ZR)(F[2]);(l>H||l===H&&(B[0]||B[1]))&&(u+=z^k>=0?1:-1)}}return(c<-i.Ho||c<i.Ho&&L<-i.Ho)^u&1}},25382:function(G,V,e){e.d(V,{O:function(){return i},W:function(){return R}});var g=e(39695);function R(L){return function(T,v){var p=(0,g.mC)(T),t=(0,g.mC)(v),r=L(p*t);return[r*t*(0,g.O$)(T),r*(0,g.O$)(v)]}}function i(L){return function(T,v){var p=(0,g._b)(T*T+v*v),t=L(p),r=(0,g.O$)(t),l=(0,g.mC)(t);return[(0,g.fv)(T*r,p*l),(0,g.ZR)(p&&v*r/p)]}}},12956:function(G,V,e){e.d(V,{Z:function(){return T},l:function(){return L}});var g=e(39695),R=e(25382),i=e(15002),L=(0,R.W)(function(v){return(0,g._b)(2/(1+v))});L.invert=(0,R.O)(function(v){return 2*(0,g.ZR)(v/2)});function T(){return(0,i.Z)(L).scale(124.75).clipAngle(179.999)}},17889:function(G,V,e){e.d(V,{N:function(){return L},Z:function(){return T}});var g=e(39695),R=e(25382),i=e(15002),L=(0,R.W)(function(v){return(v=(0,g.Kh)(v))&&v/(0,g.O$)(v)});L.invert=(0,R.O)(function(v){return v});function T(){return(0,i.Z)(L).scale(79.4188).clipAngle(179.999)}},97492:function(G,V,e){e.d(V,{Z:function(){return i},k:function(){return R}});var g=e(15002);function R(L,T){return[L,T]}R.invert=R;function i(){return(0,g.Z)(R).scale(152.63)}},47589:function(G,V,e){e.d(V,{V6:function(){return v},mF:function(){return T},qg:function(){return L},rf:function(){return p}});var g=e(72736),R=e(3559);function i(t,r,l){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),(0,g.Z)(l,t.stream(R.Z)),r(R.Z.result()),n!=null&&t.clipExtent(n),t}function L(t,r,l){return i(t,function(n){var s=r[1][0]-r[0][0],c=r[1][1]-r[0][1],u=Math.min(s/(n[1][0]-n[0][0]),c/(n[1][1]-n[0][1])),y=+r[0][0]+(s-u*(n[1][0]+n[0][0]))/2,h=+r[0][1]+(c-u*(n[1][1]+n[0][1]))/2;t.scale(150*u).translate([y,h])},l)}function T(t,r,l){return L(t,[[0,0],r],l)}function v(t,r,l){return i(t,function(n){var s=+r,c=s/(n[1][0]-n[0][0]),u=(s-c*(n[1][0]+n[0][0]))/2,y=-c*n[0][1];t.scale(150*c).translate([u,y])},l)}function p(t,r,l){return i(t,function(n){var s=+r,c=s/(n[1][1]-n[0][1]),u=-c*n[0][0],y=(s-c*(n[1][1]+n[0][1]))/2;t.scale(150*c).translate([u,y])},l)}},98936:function(G,V,e){e.d(V,{M:function(){return L},Z:function(){return T}});var g=e(39695),R=e(25382),i=e(15002);function L(v,p){var t=(0,g.mC)(p),r=(0,g.mC)(v)*t;return[t*(0,g.O$)(v)/r,(0,g.O$)(p)/r]}L.invert=(0,R.O)(g.z4);function T(){return(0,i.Z)(L).scale(144.049).clipAngle(60)}},15002:function(G,V,e){e.d(V,{Z:function(){return d},r:function(){return A}});var g=e(87070),R=e(1457),i=e(87605),L=e(96059),T=e(8593),v=e(39695),p=e(49386),t=e(64684),r=e(47589),l=e(7620),n=16,s=(0,v.mC)(30*v.uR);function c(M,C){return+C?y(M,C):u(M)}function u(M){return(0,t.l)({point:function(C,m){C=M(C,m),this.stream.point(C[0],C[1])}})}function y(M,C){function m(S,x,a,E,w,k,I,U,z,N,B,F,H,X){var q=I-S,ne=U-x,oe=q*q+ne*ne;if(oe>4*C&&H--){var ve=E+N,J=w+B,Y=k+F,j=(0,v._b)(ve*ve+J*J+Y*Y),K=(0,v.ZR)(Y/=j),te=(0,v.Wn)((0,v.Wn)(Y)-1)<v.Ho||(0,v.Wn)(a-z)<v.Ho?(a+z)/2:(0,v.fv)(J,ve),se=M(te,K),Q=se[0],ee=se[1],le=Q-S,ie=ee-x,he=ne*le-q*ie;(he*he/oe>C||(0,v.Wn)((q*le+ne*ie)/oe-.5)>.3||E*N+w*B+k*F<s)&&(m(S,x,a,E,w,k,Q,ee,te,ve/=j,J/=j,Y,H,X),X.point(Q,ee),m(Q,ee,te,ve,J,Y,I,U,z,N,B,F,H,X))}}return function(S){var x,a,E,w,k,I,U,z,N,B,F,H,X={point:q,lineStart:ne,lineEnd:ve,polygonStart:function(){S.polygonStart(),X.lineStart=J},polygonEnd:function(){S.polygonEnd(),X.lineStart=ne}};function q(K,te){K=M(K,te),S.point(K[0],K[1])}function ne(){z=NaN,X.point=oe,S.lineStart()}function oe(K,te){var se=(0,l.Og)([K,te]),Q=M(K,te);m(z,N,U,B,F,H,z=Q[0],N=Q[1],U=K,B=se[0],F=se[1],H=se[2],n,S),S.point(z,N)}function ve(){X.point=q,S.lineEnd()}function J(){ne(),X.point=Y,X.lineEnd=j}function Y(K,te){oe(x=K,te),a=z,E=N,w=B,k=F,I=H,X.point=oe}function j(){m(z,N,U,B,F,H,a,E,x,w,k,I,n,S),X.lineEnd=ve,ve()}return X}}var h=(0,t.l)({point:function(M,C){this.stream.point(M*v.uR,C*v.uR)}});function b(M){return(0,t.l)({point:function(C,m){var S=M(C,m);return this.stream.point(S[0],S[1])}})}function f(M,C,m,S,x){function a(E,w){return E*=S,w*=x,[C+M*E,m-M*w]}return a.invert=function(E,w){return[(E-C)/M*S,(m-w)/M*x]},a}function o(M,C,m,S,x,a){var E=(0,v.mC)(a),w=(0,v.O$)(a),k=E*M,I=w*M,U=E/M,z=w/M,N=(w*m-E*C)/M,B=(w*C+E*m)/M;function F(H,X){return H*=S,X*=x,[k*H-I*X+C,m-I*H-k*X]}return F.invert=function(H,X){return[S*(U*H-z*X+N),x*(B-z*H-U*X)]},F}function d(M){return A(function(){return M})()}function A(M){var C,m=150,S=480,x=250,a=0,E=0,w=0,k=0,I=0,U,z=0,N=1,B=1,F=null,H=g.Z,X=null,q,ne,oe,ve=T.Z,J=.5,Y,j,K,te,se;function Q(he){return K(he[0]*v.uR,he[1]*v.uR)}function ee(he){return he=K.invert(he[0],he[1]),he&&[he[0]*v.RW,he[1]*v.RW]}Q.stream=function(he){return te&&se===he?te:te=h(b(U)(H(Y(ve(se=he)))))},Q.preclip=function(he){return arguments.length?(H=he,F=void 0,ie()):H},Q.postclip=function(he){return arguments.length?(ve=he,X=q=ne=oe=null,ie()):ve},Q.clipAngle=function(he){return arguments.length?(H=+he?(0,R.Z)(F=he*v.uR):(F=null,g.Z),ie()):F*v.RW},Q.clipExtent=function(he){return arguments.length?(ve=he==null?(X=q=ne=oe=null,T.Z):(0,i.Z)(X=+he[0][0],q=+he[0][1],ne=+he[1][0],oe=+he[1][1]),ie()):X==null?null:[[X,q],[ne,oe]]},Q.scale=function(he){return arguments.length?(m=+he,le()):m},Q.translate=function(he){return arguments.length?(S=+he[0],x=+he[1],le()):[S,x]},Q.center=function(he){return arguments.length?(a=he[0]%360*v.uR,E=he[1]%360*v.uR,le()):[a*v.RW,E*v.RW]},Q.rotate=function(he){return arguments.length?(w=he[0]%360*v.uR,k=he[1]%360*v.uR,I=he.length>2?he[2]%360*v.uR:0,le()):[w*v.RW,k*v.RW,I*v.RW]},Q.angle=function(he){return arguments.length?(z=he%360*v.uR,le()):z*v.RW},Q.reflectX=function(he){return arguments.length?(N=he?-1:1,le()):N<0},Q.reflectY=function(he){return arguments.length?(B=he?-1:1,le()):B<0},Q.precision=function(he){return arguments.length?(Y=c(j,J=he*he),ie()):(0,v._b)(J)},Q.fitExtent=function(he,xe){return(0,r.qg)(Q,he,xe)},Q.fitSize=function(he,xe){return(0,r.mF)(Q,he,xe)},Q.fitWidth=function(he,xe){return(0,r.V6)(Q,he,xe)},Q.fitHeight=function(he,xe){return(0,r.rf)(Q,he,xe)};function le(){var he=o(m,0,0,N,B,z).apply(null,C(a,E)),xe=(z?o:f)(m,S-he[0],x-he[1],N,B,z);return U=(0,p.I)(w,k,I),j=(0,L.Z)(C,xe),K=(0,L.Z)(U,j),Y=c(j,J),ie()}function ie(){return te=se=null,Q}return function(){return C=M.apply(this,arguments),Q.invert=C.invert&&ee,le()}}},26867:function(G,V,e){e.d(V,{K:function(){return i},Z:function(){return L}});var g=e(15002),R=e(39695);function i(T,v){var p=v*v,t=p*p;return[T*(.8707-.131979*p+t*(-.013791+t*(.003971*p-.001529*t))),v*(1.007226+p*(.015085+t*(-.044475+.028874*p-.005916*t)))]}i.invert=function(T,v){var p=v,t=25,r;do{var l=p*p,n=l*l;p-=r=(p*(1.007226+l*(.015085+n*(-.044475+.028874*l-.005916*n)))-v)/(1.007226+l*(.045255+n*(-.311325+.259866*l-.06507600000000001*n)))}while((0,R.Wn)(r)>R.Ho&&--t>0);return[T/(.8707+(l=p*p)*(-.131979+l*(-.013791+l*l*l*(.003971-.001529*l)))),p]};function L(){return(0,g.Z)(i).scale(175.295)}},57962:function(G,V,e){e.d(V,{I:function(){return L},Z:function(){return T}});var g=e(39695),R=e(25382),i=e(15002);function L(v,p){return[(0,g.mC)(p)*(0,g.O$)(v),(0,g.O$)(p)]}L.invert=(0,R.O)(g.ZR);function T(){return(0,i.Z)(L).scale(249.5).clipAngle(90+g.Ho)}},49386:function(G,V,e){e.d(V,{I:function(){return L},Z:function(){return t}});var g=e(96059),R=e(39695);function i(r,l){return[(0,R.Wn)(r)>R.pi?r+Math.round(-r/R.BZ)*R.BZ:r,l]}i.invert=i;function L(r,l,n){return(r%=R.BZ)?l||n?(0,g.Z)(v(r),p(l,n)):v(r):l||n?p(l,n):i}function T(r){return function(l,n){return l+=r,[l>R.pi?l-R.BZ:l<-R.pi?l+R.BZ:l,n]}}function v(r){var l=T(r);return l.invert=T(-r),l}function p(r,l){var n=(0,R.mC)(r),s=(0,R.O$)(r),c=(0,R.mC)(l),u=(0,R.O$)(l);function y(h,b){var f=(0,R.mC)(b),o=(0,R.mC)(h)*f,d=(0,R.O$)(h)*f,A=(0,R.O$)(b),M=A*n+o*s;return[(0,R.fv)(d*c-M*u,o*n-A*s),(0,R.ZR)(M*c+d*u)]}return y.invert=function(h,b){var f=(0,R.mC)(b),o=(0,R.mC)(h)*f,d=(0,R.O$)(h)*f,A=(0,R.O$)(b),M=A*c-d*u;return[(0,R.fv)(d*c+A*u,o*n+M*s),(0,R.ZR)(M*n-o*s)]},y}function t(r){r=L(r[0]*R.uR,r[1]*R.uR,r.length>2?r[2]*R.uR:0);function l(n){return n=r(n[0]*R.uR,n[1]*R.uR),n[0]*=R.RW,n[1]*=R.RW,n}return l.invert=function(n){return n=r.invert(n[0]*R.uR,n[1]*R.uR),n[0]*=R.RW,n[1]*=R.RW,n},l}},72736:function(G,V,e){e.d(V,{Z:function(){return v}});function g(p,t){p&&i.hasOwnProperty(p.type)&&i[p.type](p,t)}var R={Feature:function(p,t){g(p.geometry,t)},FeatureCollection:function(p,t){for(var r=p.features,l=-1,n=r.length;++l<n;)g(r[l].geometry,t)}},i={Sphere:function(p,t){t.sphere()},Point:function(p,t){p=p.coordinates,t.point(p[0],p[1],p[2])},MultiPoint:function(p,t){for(var r=p.coordinates,l=-1,n=r.length;++l<n;)p=r[l],t.point(p[0],p[1],p[2])},LineString:function(p,t){L(p.coordinates,t,0)},MultiLineString:function(p,t){for(var r=p.coordinates,l=-1,n=r.length;++l<n;)L(r[l],t,0)},Polygon:function(p,t){T(p.coordinates,t)},MultiPolygon:function(p,t){for(var r=p.coordinates,l=-1,n=r.length;++l<n;)T(r[l],t)},GeometryCollection:function(p,t){for(var r=p.geometries,l=-1,n=r.length;++l<n;)g(r[l],t)}};function L(p,t,r){var l=-1,n=p.length-r,s;for(t.lineStart();++l<n;)s=p[l],t.point(s[0],s[1],s[2]);t.lineEnd()}function T(p,t){var r=-1,l=p.length;for(t.polygonStart();++r<l;)L(p[r],t,1);t.polygonEnd()}function v(p,t){p&&R.hasOwnProperty(p.type)?R[p.type](p,t):g(p,t)}},64684:function(G,V,e){e.d(V,{Z:function(){return g},l:function(){return R}});function g(L){return{stream:R(L)}}function R(L){return function(T){var v=new i;for(var p in L)v[p]=L[p];return v.stream=T,v}}function i(){}i.prototype={constructor:i,point:function(L,T){this.stream.point(L,T)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(G,V,e){e.r(V),e.d(V,{cluster:function(){return t},hierarchy:function(){return M},pack:function(){return ee},packEnclose:function(){return k},packSiblings:function(){return Y},partition:function(){return Ee},stratify:function(){return ke},tree:function(){return yt},treemap:function(){return Be},treemapBinary:function(){return rt},treemapDice:function(){return Se},treemapResquarify:function(){return Ye},treemapSlice:function(){return mt},treemapSliceDice:function(){return it},treemapSquarify:function(){return Ue}});function g(De,Te){return De.parent===Te.parent?1:2}function R(De){return De.reduce(i,0)/De.length}function i(De,Te){return De+Te.x}function L(De){return 1+De.reduce(T,0)}function T(De,Te){return Math.max(De,Te.y)}function v(De){for(var Te;Te=De.children;)De=Te[0];return De}function p(De){for(var Te;Te=De.children;)De=Te[Te.length-1];return De}function t(){var De=g,Te=1,fe=1,me=!1;function Re(Oe){var st,ut=0;Oe.eachAfter(function(Pt){var Qt=Pt.children;Qt?(Pt.x=R(Qt),Pt.y=L(Qt)):(Pt.x=st?ut+=De(Pt,st):0,Pt.y=0,st=Pt)});var Tt=v(Oe),It=p(Oe),Gt=Tt.x-De(Tt,It)/2,jt=It.x+De(It,Tt)/2;return Oe.eachAfter(me?function(Pt){Pt.x=(Pt.x-Oe.x)*Te,Pt.y=(Oe.y-Pt.y)*fe}:function(Pt){Pt.x=(Pt.x-Gt)/(jt-Gt)*Te,Pt.y=(1-(Oe.y?Pt.y/Oe.y:1))*fe})}return Re.separation=function(Oe){return arguments.length?(De=Oe,Re):De},Re.size=function(Oe){return arguments.length?(me=!1,Te=+Oe[0],fe=+Oe[1],Re):me?null:[Te,fe]},Re.nodeSize=function(Oe){return arguments.length?(me=!0,Te=+Oe[0],fe=+Oe[1],Re):me?[Te,fe]:null},Re}function r(De){var Te=0,fe=De.children,me=fe&&fe.length;if(!me)Te=1;else for(;--me>=0;)Te+=fe[me].value;De.value=Te}function l(){return this.eachAfter(r)}function n(De){var Te=this,fe,me=[Te],Re,Oe,st;do for(fe=me.reverse(),me=[];Te=fe.pop();)if(De(Te),Re=Te.children,Re)for(Oe=0,st=Re.length;Oe<st;++Oe)me.push(Re[Oe]);while(me.length);return this}function s(De){for(var Te=this,fe=[Te],me,Re;Te=fe.pop();)if(De(Te),me=Te.children,me)for(Re=me.length-1;Re>=0;--Re)fe.push(me[Re]);return this}function c(De){for(var Te=this,fe=[Te],me=[],Re,Oe,st;Te=fe.pop();)if(me.push(Te),Re=Te.children,Re)for(Oe=0,st=Re.length;Oe<st;++Oe)fe.push(Re[Oe]);for(;Te=me.pop();)De(Te);return this}function u(De){return this.eachAfter(function(Te){for(var fe=+De(Te.data)||0,me=Te.children,Re=me&&me.length;--Re>=0;)fe+=me[Re].value;Te.value=fe})}function y(De){return this.eachBefore(function(Te){Te.children&&Te.children.sort(De)})}function h(De){for(var Te=this,fe=b(Te,De),me=[Te];Te!==fe;)Te=Te.parent,me.push(Te);for(var Re=me.length;De!==fe;)me.splice(Re,0,De),De=De.parent;return me}function b(De,Te){if(De===Te)return De;var fe=De.ancestors(),me=Te.ancestors(),Re=null;for(De=fe.pop(),Te=me.pop();De===Te;)Re=De,De=fe.pop(),Te=me.pop();return Re}function f(){for(var De=this,Te=[De];De=De.parent;)Te.push(De);return Te}function o(){var De=[];return this.each(function(Te){De.push(Te)}),De}function d(){var De=[];return this.eachBefore(function(Te){Te.children||De.push(Te)}),De}function A(){var De=this,Te=[];return De.each(function(fe){fe!==De&&Te.push({source:fe.parent,target:fe})}),Te}function M(De,Te){var fe=new a(De),me=+De.value&&(fe.value=De.value),Re,Oe=[fe],st,ut,Tt,It;for(Te==null&&(Te=m);Re=Oe.pop();)if(me&&(Re.value=+Re.data.value),(ut=Te(Re.data))&&(It=ut.length))for(Re.children=new Array(It),Tt=It-1;Tt>=0;--Tt)Oe.push(st=Re.children[Tt]=new a(ut[Tt])),st.parent=Re,st.depth=Re.depth+1;return fe.eachBefore(x)}function C(){return M(this).eachBefore(S)}function m(De){return De.children}function S(De){De.data=De.data.data}function x(De){var Te=0;do De.height=Te;while((De=De.parent)&&De.height<++Te)}function a(De){this.data=De,this.depth=this.height=0,this.parent=null}a.prototype=M.prototype={constructor:a,count:l,each:n,eachAfter:c,eachBefore:s,sum:u,sort:y,path:h,ancestors:f,descendants:o,leaves:d,links:A,copy:C};var E=Array.prototype.slice;function w(De){for(var Te=De.length,fe,me;Te;)me=Math.random()*Te--|0,fe=De[Te],De[Te]=De[me],De[me]=fe;return De}function k(De){for(var Te=0,fe=(De=w(E.call(De))).length,me=[],Re,Oe;Te<fe;)Re=De[Te],Oe&&z(Oe,Re)?++Te:(Oe=B(me=I(me,Re)),Te=0);return Oe}function I(De,Te){var fe,me;if(N(Te,De))return[Te];for(fe=0;fe<De.length;++fe)if(U(Te,De[fe])&&N(H(De[fe],Te),De))return[De[fe],Te];for(fe=0;fe<De.length-1;++fe)for(me=fe+1;me<De.length;++me)if(U(H(De[fe],De[me]),Te)&&U(H(De[fe],Te),De[me])&&U(H(De[me],Te),De[fe])&&N(X(De[fe],De[me],Te),De))return[De[fe],De[me],Te];throw new Error}function U(De,Te){var fe=De.r-Te.r,me=Te.x-De.x,Re=Te.y-De.y;return fe<0||fe*fe<me*me+Re*Re}function z(De,Te){var fe=De.r-Te.r+1e-6,me=Te.x-De.x,Re=Te.y-De.y;return fe>0&&fe*fe>me*me+Re*Re}function N(De,Te){for(var fe=0;fe<Te.length;++fe)if(!z(De,Te[fe]))return!1;return!0}function B(De){switch(De.length){case 1:return F(De[0]);case 2:return H(De[0],De[1]);case 3:return X(De[0],De[1],De[2])}}function F(De){return{x:De.x,y:De.y,r:De.r}}function H(De,Te){var fe=De.x,me=De.y,Re=De.r,Oe=Te.x,st=Te.y,ut=Te.r,Tt=Oe-fe,It=st-me,Gt=ut-Re,jt=Math.sqrt(Tt*Tt+It*It);return{x:(fe+Oe+Tt/jt*Gt)/2,y:(me+st+It/jt*Gt)/2,r:(jt+Re+ut)/2}}function X(De,Te,fe){var me=De.x,Re=De.y,Oe=De.r,st=Te.x,ut=Te.y,Tt=Te.r,It=fe.x,Gt=fe.y,jt=fe.r,Pt=me-st,Qt=me-It,or=Re-ut,zr=Re-Gt,bt=Tt-Oe,Jt=jt-Oe,Zt=me*me+Re*Re-Oe*Oe,Ar=Zt-st*st-ut*ut+Tt*Tt,dr=Zt-It*It-Gt*Gt+jt*jt,ht=Qt*or-Pt*zr,ct=(or*dr-zr*Ar)/(ht*2)-me,wt=(zr*bt-or*Jt)/ht,St=(Qt*Ar-Pt*dr)/(ht*2)-Re,Rt=(Pt*Jt-Qt*bt)/ht,Ct=wt*wt+Rt*Rt-1,Ot=2*(Oe+ct*wt+St*Rt),Wt=ct*ct+St*St-Oe*Oe,er=-(Ct?(Ot+Math.sqrt(Ot*Ot-4*Ct*Wt))/(2*Ct):Wt/Ot);return{x:me+ct+wt*er,y:Re+St+Rt*er,r:er}}function q(De,Te,fe){var me=De.x-Te.x,Re,Oe,st=De.y-Te.y,ut,Tt,It=me*me+st*st;It?(Oe=Te.r+fe.r,Oe*=Oe,Tt=De.r+fe.r,Tt*=Tt,Oe>Tt?(Re=(It+Tt-Oe)/(2*It),ut=Math.sqrt(Math.max(0,Tt/It-Re*Re)),fe.x=De.x-Re*me-ut*st,fe.y=De.y-Re*st+ut*me):(Re=(It+Oe-Tt)/(2*It),ut=Math.sqrt(Math.max(0,Oe/It-Re*Re)),fe.x=Te.x+Re*me-ut*st,fe.y=Te.y+Re*st+ut*me)):(fe.x=Te.x+fe.r,fe.y=Te.y)}function ne(De,Te){var fe=De.r+Te.r-1e-6,me=Te.x-De.x,Re=Te.y-De.y;return fe>0&&fe*fe>me*me+Re*Re}function oe(De){var Te=De._,fe=De.next._,me=Te.r+fe.r,Re=(Te.x*fe.r+fe.x*Te.r)/me,Oe=(Te.y*fe.r+fe.y*Te.r)/me;return Re*Re+Oe*Oe}function ve(De){this._=De,this.next=null,this.previous=null}function J(De){if(!(Re=De.length))return 0;var Te,fe,me,Re,Oe,st,ut,Tt,It,Gt,jt;if(Te=De[0],Te.x=0,Te.y=0,!(Re>1))return Te.r;if(fe=De[1],Te.x=-fe.r,fe.x=Te.r,fe.y=0,!(Re>2))return Te.r+fe.r;q(fe,Te,me=De[2]),Te=new ve(Te),fe=new ve(fe),me=new ve(me),Te.next=me.previous=fe,fe.next=Te.previous=me,me.next=fe.previous=Te;e:for(ut=3;ut<Re;++ut){q(Te._,fe._,me=De[ut]),me=new ve(me),Tt=fe.next,It=Te.previous,Gt=fe._.r,jt=Te._.r;do if(Gt<=jt){if(ne(Tt._,me._)){fe=Tt,Te.next=fe,fe.previous=Te,--ut;continue e}Gt+=Tt._.r,Tt=Tt.next}else{if(ne(It._,me._)){Te=It,Te.next=fe,fe.previous=Te,--ut;continue e}jt+=It._.r,It=It.previous}while(Tt!==It.next);for(me.previous=Te,me.next=fe,Te.next=fe.previous=fe=me,Oe=oe(Te);(me=me.next)!==fe;)(st=oe(me))<Oe&&(Te=me,Oe=st);fe=Te.next}for(Te=[fe._],me=fe;(me=me.next)!==fe;)Te.push(me._);for(me=k(Te),ut=0;ut<Re;++ut)Te=De[ut],Te.x-=me.x,Te.y-=me.y;return me.r}function Y(De){return J(De),De}function j(De){return De==null?null:K(De)}function K(De){if(typeof De!="function")throw new Error;return De}function te(){return 0}function se(De){return function(){return De}}function Q(De){return Math.sqrt(De.value)}function ee(){var De=null,Te=1,fe=1,me=te;function Re(Oe){return Oe.x=Te/2,Oe.y=fe/2,De?Oe.eachBefore(le(De)).eachAfter(ie(me,.5)).eachBefore(he(1)):Oe.eachBefore(le(Q)).eachAfter(ie(te,1)).eachAfter(ie(me,Oe.r/Math.min(Te,fe))).eachBefore(he(Math.min(Te,fe)/(2*Oe.r))),Oe}return Re.radius=function(Oe){return arguments.length?(De=j(Oe),Re):De},Re.size=function(Oe){return arguments.length?(Te=+Oe[0],fe=+Oe[1],Re):[Te,fe]},Re.padding=function(Oe){return arguments.length?(me=typeof Oe=="function"?Oe:se(+Oe),Re):me},Re}function le(De){return function(Te){Te.children||(Te.r=Math.max(0,+De(Te)||0))}}function ie(De,Te){return function(fe){if(me=fe.children){var me,Re,Oe=me.length,st=De(fe)*Te||0,ut;if(st)for(Re=0;Re<Oe;++Re)me[Re].r+=st;if(ut=J(me),st)for(Re=0;Re<Oe;++Re)me[Re].r-=st;fe.r=ut+st}}}function he(De){return function(Te){var fe=Te.parent;Te.r*=De,fe&&(Te.x=fe.x+De*Te.x,Te.y=fe.y+De*Te.y)}}function xe(De){De.x0=Math.round(De.x0),De.y0=Math.round(De.y0),De.x1=Math.round(De.x1),De.y1=Math.round(De.y1)}function Se(De,Te,fe,me,Re){for(var Oe=De.children,st,ut=-1,Tt=Oe.length,It=De.value&&(me-Te)/De.value;++ut<Tt;)st=Oe[ut],st.y0=fe,st.y1=Re,st.x0=Te,st.x1=Te+=st.value*It}function Ee(){var De=1,Te=1,fe=0,me=!1;function Re(st){var ut=st.height+1;return st.x0=st.y0=fe,st.x1=De,st.y1=Te/ut,st.eachBefore(Oe(Te,ut)),me&&st.eachBefore(xe),st}function Oe(st,ut){return function(Tt){Tt.children&&Se(Tt,Tt.x0,st*(Tt.depth+1)/ut,Tt.x1,st*(Tt.depth+2)/ut);var It=Tt.x0,Gt=Tt.y0,jt=Tt.x1-fe,Pt=Tt.y1-fe;jt<It&&(It=jt=(It+jt)/2),Pt<Gt&&(Gt=Pt=(Gt+Pt)/2),Tt.x0=It,Tt.y0=Gt,Tt.x1=jt,Tt.y1=Pt}}return Re.round=function(st){return arguments.length?(me=!!st,Re):me},Re.size=function(st){return arguments.length?(De=+st[0],Te=+st[1],Re):[De,Te]},Re.padding=function(st){return arguments.length?(fe=+st,Re):fe},Re}var Ne="$",He={depth:-1},Ce={};function be(De){return De.id}function we(De){return De.parentId}function ke(){var De=be,Te=we;function fe(me){var Re,Oe,st=me.length,ut,Tt,It,Gt=new Array(st),jt,Pt,Qt={};for(Oe=0;Oe<st;++Oe)Re=me[Oe],It=Gt[Oe]=new a(Re),(jt=De(Re,Oe,me))!=null&&(jt+="")&&(Pt=Ne+(It.id=jt),Qt[Pt]=Pt in Qt?Ce:It);for(Oe=0;Oe<st;++Oe)if(It=Gt[Oe],jt=Te(me[Oe],Oe,me),jt==null||!(jt+="")){if(ut)throw new Error("multiple roots");ut=It}else{if(Tt=Qt[Ne+jt],!Tt)throw new Error("missing: "+jt);if(Tt===Ce)throw new Error("ambiguous: "+jt);Tt.children?Tt.children.push(It):Tt.children=[It],It.parent=Tt}if(!ut)throw new Error("no root");if(ut.parent=He,ut.eachBefore(function(or){or.depth=or.parent.depth+1,--st}).eachBefore(x),ut.parent=null,st>0)throw new Error("cycle");return ut}return fe.id=function(me){return arguments.length?(De=K(me),fe):De},fe.parentId=function(me){return arguments.length?(Te=K(me),fe):Te},fe}function Fe(De,Te){return De.parent===Te.parent?1:2}function Pe(De){var Te=De.children;return Te?Te[0]:De.t}function Ge(De){var Te=De.children;return Te?Te[Te.length-1]:De.t}function nt(De,Te,fe){var me=fe/(Te.i-De.i);Te.c-=me,Te.s+=fe,De.c+=me,Te.z+=fe,Te.m+=fe}function qe(De){for(var Te=0,fe=0,me=De.children,Re=me.length,Oe;--Re>=0;)Oe=me[Re],Oe.z+=Te,Oe.m+=Te,Te+=Oe.s+(fe+=Oe.c)}function Ke(De,Te,fe){return De.a.parent===Te.parent?De.a:fe}function $e(De,Te){this._=De,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Te}$e.prototype=Object.create(a.prototype);function vt(De){for(var Te=new $e(De,0),fe,me=[Te],Re,Oe,st,ut;fe=me.pop();)if(Oe=fe._.children)for(fe.children=new Array(ut=Oe.length),st=ut-1;st>=0;--st)me.push(Re=fe.children[st]=new $e(Oe[st],st)),Re.parent=fe;return(Te.parent=new $e(null,0)).children=[Te],Te}function yt(){var De=Fe,Te=1,fe=1,me=null;function Re(It){var Gt=vt(It);if(Gt.eachAfter(Oe),Gt.parent.m=-Gt.z,Gt.eachBefore(st),me)It.eachBefore(Tt);else{var jt=It,Pt=It,Qt=It;It.eachBefore(function(Zt){Zt.x<jt.x&&(jt=Zt),Zt.x>Pt.x&&(Pt=Zt),Zt.depth>Qt.depth&&(Qt=Zt)});var or=jt===Pt?1:De(jt,Pt)/2,zr=or-jt.x,bt=Te/(Pt.x+or+zr),Jt=fe/(Qt.depth||1);It.eachBefore(function(Zt){Zt.x=(Zt.x+zr)*bt,Zt.y=Zt.depth*Jt})}return It}function Oe(It){var Gt=It.children,jt=It.parent.children,Pt=It.i?jt[It.i-1]:null;if(Gt){qe(It);var Qt=(Gt[0].z+Gt[Gt.length-1].z)/2;Pt?(It.z=Pt.z+De(It._,Pt._),It.m=It.z-Qt):It.z=Qt}else Pt&&(It.z=Pt.z+De(It._,Pt._));It.parent.A=ut(It,Pt,It.parent.A||jt[0])}function st(It){It._.x=It.z+It.parent.m,It.m+=It.parent.m}function ut(It,Gt,jt){if(Gt){for(var Pt=It,Qt=It,or=Gt,zr=Pt.parent.children[0],bt=Pt.m,Jt=Qt.m,Zt=or.m,Ar=zr.m,dr;or=Ge(or),Pt=Pe(Pt),or&&Pt;)zr=Pe(zr),Qt=Ge(Qt),Qt.a=It,dr=or.z+Zt-Pt.z-bt+De(or._,Pt._),dr>0&&(nt(Ke(or,It,jt),It,dr),bt+=dr,Jt+=dr),Zt+=or.m,bt+=Pt.m,Ar+=zr.m,Jt+=Qt.m;or&&!Ge(Qt)&&(Qt.t=or,Qt.m+=Zt-Jt),Pt&&!Pe(zr)&&(zr.t=Pt,zr.m+=bt-Ar,jt=It)}return jt}function Tt(It){It.x*=Te,It.y=It.depth*fe}return Re.separation=function(It){return arguments.length?(De=It,Re):De},Re.size=function(It){return arguments.length?(me=!1,Te=+It[0],fe=+It[1],Re):me?null:[Te,fe]},Re.nodeSize=function(It){return arguments.length?(me=!0,Te=+It[0],fe=+It[1],Re):me?[Te,fe]:null},Re}function mt(De,Te,fe,me,Re){for(var Oe=De.children,st,ut=-1,Tt=Oe.length,It=De.value&&(Re-fe)/De.value;++ut<Tt;)st=Oe[ut],st.x0=Te,st.x1=me,st.y0=fe,st.y1=fe+=st.value*It}var Et=(1+Math.sqrt(5))/2;function Xe(De,Te,fe,me,Re,Oe){for(var st=[],ut=Te.children,Tt,It,Gt=0,jt=0,Pt=ut.length,Qt,or,zr=Te.value,bt,Jt,Zt,Ar,dr,ht,ct;Gt<Pt;){Qt=Re-fe,or=Oe-me;do bt=ut[jt++].value;while(!bt&&jt<Pt);for(Jt=Zt=bt,ht=Math.max(or/Qt,Qt/or)/(zr*De),ct=bt*bt*ht,dr=Math.max(Zt/ct,ct/Jt);jt<Pt;++jt){if(bt+=It=ut[jt].value,It<Jt&&(Jt=It),It>Zt&&(Zt=It),ct=bt*bt*ht,Ar=Math.max(Zt/ct,ct/Jt),Ar>dr){bt-=It;break}dr=Ar}st.push(Tt={value:bt,dice:Qt<or,children:ut.slice(Gt,jt)}),Tt.dice?Se(Tt,fe,me,Re,zr?me+=or*bt/zr:Oe):mt(Tt,fe,me,zr?fe+=Qt*bt/zr:Re,Oe),zr-=bt,Gt=jt}return st}var Ue=function De(Te){function fe(me,Re,Oe,st,ut){Xe(Te,me,Re,Oe,st,ut)}return fe.ratio=function(me){return De((me=+me)>1?me:1)},fe}(Et);function Be(){var De=Ue,Te=!1,fe=1,me=1,Re=[0],Oe=te,st=te,ut=te,Tt=te,It=te;function Gt(Pt){return Pt.x0=Pt.y0=0,Pt.x1=fe,Pt.y1=me,Pt.eachBefore(jt),Re=[0],Te&&Pt.eachBefore(xe),Pt}function jt(Pt){var Qt=Re[Pt.depth],or=Pt.x0+Qt,zr=Pt.y0+Qt,bt=Pt.x1-Qt,Jt=Pt.y1-Qt;bt<or&&(or=bt=(or+bt)/2),Jt<zr&&(zr=Jt=(zr+Jt)/2),Pt.x0=or,Pt.y0=zr,Pt.x1=bt,Pt.y1=Jt,Pt.children&&(Qt=Re[Pt.depth+1]=Oe(Pt)/2,or+=It(Pt)-Qt,zr+=st(Pt)-Qt,bt-=ut(Pt)-Qt,Jt-=Tt(Pt)-Qt,bt<or&&(or=bt=(or+bt)/2),Jt<zr&&(zr=Jt=(zr+Jt)/2),De(Pt,or,zr,bt,Jt))}return Gt.round=function(Pt){return arguments.length?(Te=!!Pt,Gt):Te},Gt.size=function(Pt){return arguments.length?(fe=+Pt[0],me=+Pt[1],Gt):[fe,me]},Gt.tile=function(Pt){return arguments.length?(De=K(Pt),Gt):De},Gt.padding=function(Pt){return arguments.length?Gt.paddingInner(Pt).paddingOuter(Pt):Gt.paddingInner()},Gt.paddingInner=function(Pt){return arguments.length?(Oe=typeof Pt=="function"?Pt:se(+Pt),Gt):Oe},Gt.paddingOuter=function(Pt){return arguments.length?Gt.paddingTop(Pt).paddingRight(Pt).paddingBottom(Pt).paddingLeft(Pt):Gt.paddingTop()},Gt.paddingTop=function(Pt){return arguments.length?(st=typeof Pt=="function"?Pt:se(+Pt),Gt):st},Gt.paddingRight=function(Pt){return arguments.length?(ut=typeof Pt=="function"?Pt:se(+Pt),Gt):ut},Gt.paddingBottom=function(Pt){return arguments.length?(Tt=typeof Pt=="function"?Pt:se(+Pt),Gt):Tt},Gt.paddingLeft=function(Pt){return arguments.length?(It=typeof Pt=="function"?Pt:se(+Pt),Gt):It},Gt}function rt(De,Te,fe,me,Re){var Oe=De.children,st,ut=Oe.length,Tt,It=new Array(ut+1);for(It[0]=Tt=st=0;st<ut;++st)It[st+1]=Tt+=Oe[st].value;Gt(0,ut,De.value,Te,fe,me,Re);function Gt(jt,Pt,Qt,or,zr,bt,Jt){if(jt>=Pt-1){var Zt=Oe[jt];Zt.x0=or,Zt.y0=zr,Zt.x1=bt,Zt.y1=Jt;return}for(var Ar=It[jt],dr=Qt/2+Ar,ht=jt+1,ct=Pt-1;ht<ct;){var wt=ht+ct>>>1;It[wt]<dr?ht=wt+1:ct=wt}dr-It[ht-1]<It[ht]-dr&&jt+1<ht&&--ht;var St=It[ht]-Ar,Rt=Qt-St;if(bt-or>Jt-zr){var Ct=(or*Rt+bt*St)/Qt;Gt(jt,ht,St,or,zr,Ct,Jt),Gt(ht,Pt,Rt,Ct,zr,bt,Jt)}else{var Ot=(zr*Rt+Jt*St)/Qt;Gt(jt,ht,St,or,zr,bt,Ot),Gt(ht,Pt,Rt,or,Ot,bt,Jt)}}}function it(De,Te,fe,me,Re){(De.depth&1?mt:Se)(De,Te,fe,me,Re)}var Ye=function De(Te){function fe(me,Re,Oe,st,ut){if((Tt=me._squarify)&&Tt.ratio===Te)for(var Tt,It,Gt,jt,Pt=-1,Qt,or=Tt.length,zr=me.value;++Pt<or;){for(It=Tt[Pt],Gt=It.children,jt=It.value=0,Qt=Gt.length;jt<Qt;++jt)It.value+=Gt[jt].value;It.dice?Se(It,Re,Oe,st,Oe+=(ut-Oe)*It.value/zr):mt(It,Re,Oe,Re+=(st-Re)*It.value/zr,ut),zr-=It.value}else me._squarify=Tt=Xe(Te,me,Re,Oe,st,ut),Tt.ratio=Te}return fe.ratio=function(me){return De((me=+me)>1?me:1)},fe}(Et)},45879:function(G,V,e){e.d(V,{h5:function(){return h}});var g=Math.PI,R=2*g,i=1e-6,L=R-i;function T(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new T}T.prototype=v.prototype={constructor:T,moveTo:function(b,f){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+f)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(b,f){this._+="L"+(this._x1=+b)+","+(this._y1=+f)},quadraticCurveTo:function(b,f,o,d){this._+="Q"+ +b+","+ +f+","+(this._x1=+o)+","+(this._y1=+d)},bezierCurveTo:function(b,f,o,d,A,M){this._+="C"+ +b+","+ +f+","+ +o+","+ +d+","+(this._x1=+A)+","+(this._y1=+M)},arcTo:function(b,f,o,d,A){b=+b,f=+f,o=+o,d=+d,A=+A;var M=this._x1,C=this._y1,m=o-b,S=d-f,x=M-b,a=C-f,E=x*x+a*a;if(A<0)throw new Error("negative radius: "+A);if(this._x1===null)this._+="M"+(this._x1=b)+","+(this._y1=f);else if(E>i)if(!(Math.abs(a*m-S*x)>i)||!A)this._+="L"+(this._x1=b)+","+(this._y1=f);else{var w=o-M,k=d-C,I=m*m+S*S,U=w*w+k*k,z=Math.sqrt(I),N=Math.sqrt(E),B=A*Math.tan((g-Math.acos((I+E-U)/(2*z*N)))/2),F=B/N,H=B/z;Math.abs(F-1)>i&&(this._+="L"+(b+F*x)+","+(f+F*a)),this._+="A"+A+","+A+",0,0,"+ +(a*w>x*k)+","+(this._x1=b+H*m)+","+(this._y1=f+H*S)}},arc:function(b,f,o,d,A,M){b=+b,f=+f,o=+o,M=!!M;var C=o*Math.cos(d),m=o*Math.sin(d),S=b+C,x=f+m,a=1^M,E=M?d-A:A-d;if(o<0)throw new Error("negative radius: "+o);this._x1===null?this._+="M"+S+","+x:(Math.abs(this._x1-S)>i||Math.abs(this._y1-x)>i)&&(this._+="L"+S+","+x),o&&(E<0&&(E=E%R+R),E>L?this._+="A"+o+","+o+",0,1,"+a+","+(b-C)+","+(f-m)+"A"+o+","+o+",0,1,"+a+","+(this._x1=S)+","+(this._y1=x):E>i&&(this._+="A"+o+","+o+",0,"+ +(E>=g)+","+a+","+(this._x1=b+o*Math.cos(A))+","+(this._y1=f+o*Math.sin(A))))},rect:function(b,f,o,d){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+f)+"h"+ +o+"v"+ +d+"h"+-o+"Z"},toString:function(){return this._}};var p=v,t=Array.prototype.slice;function r(b){return function(){return b}}function l(b){return b[0]}function n(b){return b[1]}function s(b){return b.source}function c(b){return b.target}function u(b){var f=s,o=c,d=l,A=n,M=null;function C(){var m,S=t.call(arguments),x=f.apply(this,S),a=o.apply(this,S);if(M||(M=m=p()),b(M,+d.apply(this,(S[0]=x,S)),+A.apply(this,S),+d.apply(this,(S[0]=a,S)),+A.apply(this,S)),m)return M=null,m+""||null}return C.source=function(m){return arguments.length?(f=m,C):f},C.target=function(m){return arguments.length?(o=m,C):o},C.x=function(m){return arguments.length?(d=typeof m=="function"?m:r(+m),C):d},C.y=function(m){return arguments.length?(A=typeof m=="function"?m:r(+m),C):A},C.context=function(m){return arguments.length?(M=m??null,C):M},C}function y(b,f,o,d,A){b.moveTo(f,o),b.bezierCurveTo(f=(f+d)/2,o,f,A,d,A)}function h(){return u(y)}},84096:function(G,V,e){e.d(V,{i$:function(){return rt},Dq:function(){return l},g0:function(){return it}});var g=e(58176),R=e(48480),i=e(59879),L=e(82301),T=e(34823),v=e(79791);function p(De){if(0<=De.y&&De.y<100){var Te=new Date(-1,De.m,De.d,De.H,De.M,De.S,De.L);return Te.setFullYear(De.y),Te}return new Date(De.y,De.m,De.d,De.H,De.M,De.S,De.L)}function t(De){if(0<=De.y&&De.y<100){var Te=new Date(Date.UTC(-1,De.m,De.d,De.H,De.M,De.S,De.L));return Te.setUTCFullYear(De.y),Te}return new Date(Date.UTC(De.y,De.m,De.d,De.H,De.M,De.S,De.L))}function r(De,Te,fe){return{y:De,m:Te,d:fe,H:0,M:0,S:0,L:0}}function l(De){var Te=De.dateTime,fe=De.date,me=De.time,Re=De.periods,Oe=De.days,st=De.shortDays,ut=De.months,Tt=De.shortMonths,It=b(Re),Gt=f(Re),jt=b(Oe),Pt=f(Oe),Qt=b(st),or=f(st),zr=b(ut),bt=f(ut),Jt=b(Tt),Zt=f(Tt),Ar={a:je,A:We,b:kt,B:zt,c:null,d:q,e:q,f:Y,H:ne,I:oe,j:ve,L:J,m:j,M:K,p:Xt,q:lr,Q:Xe,s:Ue,S:te,u:se,U:Q,V:ee,w:le,W:ie,x:null,X:null,y:he,Y:xe,Z:Se,"%":Et},dr={a:cr,A:nr,b:Bt,B:vr,c:null,d:Ee,e:Ee,f:we,H:Ne,I:He,j:Ce,L:be,m:ke,M:Fe,p:yr,q:mr,Q:Xe,s:Ue,S:Pe,u:Ge,U:nt,V:qe,w:Ke,W:$e,x:null,X:null,y:vt,Y:yt,Z:mt,"%":Et},ht={a:Ct,A:Ot,b:Wt,B:er,c:$t,d:w,e:w,f:B,H:I,I,j:k,L:N,m:E,M:U,p:Rt,q:a,Q:H,s:X,S:z,u:d,U:A,V:M,w:o,W:C,x:sr,X:Cr,y:S,Y:m,Z:x,"%":F};Ar.x=ct(fe,Ar),Ar.X=ct(me,Ar),Ar.c=ct(Te,Ar),dr.x=ct(fe,dr),dr.X=ct(me,dr),dr.c=ct(Te,dr);function ct(gr,Zr){return function(Ur){var Br=[],Tn=-1,Kr=0,Bn=gr.length,On,Tr,Mr;for(Ur instanceof Date||(Ur=new Date(+Ur));++Tn<Bn;)gr.charCodeAt(Tn)===37&&(Br.push(gr.slice(Kr,Tn)),(Tr=n[On=gr.charAt(++Tn)])!=null?On=gr.charAt(++Tn):Tr=On==="e"?" ":"0",(Mr=Zr[On])&&(On=Mr(Ur,Tr)),Br.push(On),Kr=Tn+1);return Br.push(gr.slice(Kr,Tn)),Br.join("")}}function wt(gr,Zr){return function(Ur){var Br=r(1900,void 0,1),Tn=St(Br,gr,Ur+="",0),Kr,Bn;if(Tn!=Ur.length)return null;if("Q"in Br)return new Date(Br.Q);if("s"in Br)return new Date(Br.s*1e3+("L"in Br?Br.L:0));if(Zr&&!("Z"in Br)&&(Br.Z=0),"p"in Br&&(Br.H=Br.H%12+Br.p*12),Br.m===void 0&&(Br.m="q"in Br?Br.q:0),"V"in Br){if(Br.V<1||Br.V>53)return null;"w"in Br||(Br.w=1),"Z"in Br?(Kr=t(r(Br.y,0,1)),Bn=Kr.getUTCDay(),Kr=Bn>4||Bn===0?g.l6.ceil(Kr):(0,g.l6)(Kr),Kr=R.Z.offset(Kr,(Br.V-1)*7),Br.y=Kr.getUTCFullYear(),Br.m=Kr.getUTCMonth(),Br.d=Kr.getUTCDate()+(Br.w+6)%7):(Kr=p(r(Br.y,0,1)),Bn=Kr.getDay(),Kr=Bn>4||Bn===0?i.wA.ceil(Kr):(0,i.wA)(Kr),Kr=L.Z.offset(Kr,(Br.V-1)*7),Br.y=Kr.getFullYear(),Br.m=Kr.getMonth(),Br.d=Kr.getDate()+(Br.w+6)%7)}else("W"in Br||"U"in Br)&&("w"in Br||(Br.w="u"in Br?Br.u%7:"W"in Br?1:0),Bn="Z"in Br?t(r(Br.y,0,1)).getUTCDay():p(r(Br.y,0,1)).getDay(),Br.m=0,Br.d="W"in Br?(Br.w+6)%7+Br.W*7-(Bn+5)%7:Br.w+Br.U*7-(Bn+6)%7);return"Z"in Br?(Br.H+=Br.Z/100|0,Br.M+=Br.Z%100,t(Br)):p(Br)}}function St(gr,Zr,Ur,Br){for(var Tn=0,Kr=Zr.length,Bn=Ur.length,On,Tr;Tn<Kr;){if(Br>=Bn)return-1;if(On=Zr.charCodeAt(Tn++),On===37){if(On=Zr.charAt(Tn++),Tr=ht[On in n?Zr.charAt(Tn++):On],!Tr||(Br=Tr(gr,Ur,Br))<0)return-1}else if(On!=Ur.charCodeAt(Br++))return-1}return Br}function Rt(gr,Zr,Ur){var Br=It.exec(Zr.slice(Ur));return Br?(gr.p=Gt[Br[0].toLowerCase()],Ur+Br[0].length):-1}function Ct(gr,Zr,Ur){var Br=Qt.exec(Zr.slice(Ur));return Br?(gr.w=or[Br[0].toLowerCase()],Ur+Br[0].length):-1}function Ot(gr,Zr,Ur){var Br=jt.exec(Zr.slice(Ur));return Br?(gr.w=Pt[Br[0].toLowerCase()],Ur+Br[0].length):-1}function Wt(gr,Zr,Ur){var Br=Jt.exec(Zr.slice(Ur));return Br?(gr.m=Zt[Br[0].toLowerCase()],Ur+Br[0].length):-1}function er(gr,Zr,Ur){var Br=zr.exec(Zr.slice(Ur));return Br?(gr.m=bt[Br[0].toLowerCase()],Ur+Br[0].length):-1}function $t(gr,Zr,Ur){return St(gr,Te,Zr,Ur)}function sr(gr,Zr,Ur){return St(gr,fe,Zr,Ur)}function Cr(gr,Zr,Ur){return St(gr,me,Zr,Ur)}function je(gr){return st[gr.getDay()]}function We(gr){return Oe[gr.getDay()]}function kt(gr){return Tt[gr.getMonth()]}function zt(gr){return ut[gr.getMonth()]}function Xt(gr){return Re[+(gr.getHours()>=12)]}function lr(gr){return 1+~~(gr.getMonth()/3)}function cr(gr){return st[gr.getUTCDay()]}function nr(gr){return Oe[gr.getUTCDay()]}function Bt(gr){return Tt[gr.getUTCMonth()]}function vr(gr){return ut[gr.getUTCMonth()]}function yr(gr){return Re[+(gr.getUTCHours()>=12)]}function mr(gr){return 1+~~(gr.getUTCMonth()/3)}return{format:function(gr){var Zr=ct(gr+="",Ar);return Zr.toString=function(){return gr},Zr},parse:function(gr){var Zr=wt(gr+="",!1);return Zr.toString=function(){return gr},Zr},utcFormat:function(gr){var Zr=ct(gr+="",dr);return Zr.toString=function(){return gr},Zr},utcParse:function(gr){var Zr=wt(gr+="",!0);return Zr.toString=function(){return gr},Zr}}}var n={"-":"",_:" ",0:"0"},s=/^\s*\d+/,c=/^%/,u=/[\\^$*+?|[\]().{}]/g;function y(De,Te,fe){var me=De<0?"-":"",Re=(me?-De:De)+"",Oe=Re.length;return me+(Oe<fe?new Array(fe-Oe+1).join(Te)+Re:Re)}function h(De){return De.replace(u,"\\$&")}function b(De){return new RegExp("^(?:"+De.map(h).join("|")+")","i")}function f(De){for(var Te={},fe=-1,me=De.length;++fe<me;)Te[De[fe].toLowerCase()]=fe;return Te}function o(De,Te,fe){var me=s.exec(Te.slice(fe,fe+1));return me?(De.w=+me[0],fe+me[0].length):-1}function d(De,Te,fe){var me=s.exec(Te.slice(fe,fe+1));return me?(De.u=+me[0],fe+me[0].length):-1}function A(De,Te,fe){var me=s.exec(Te.slice(fe,fe+2));return me?(De.U=+me[0],fe+me[0].length):-1}function M(De,Te,fe){var me=s.exec(Te.slice(fe,fe+2));return me?(De.V=+me[0],fe+me[0].length):-1}function C(De,Te,fe){var me=s.exec(Te.slice(fe,fe+2));return me?(De.W=+me[0],fe+me[0].length):-1}function m(De,Te,fe){var me=s.exec(Te.slice(fe,fe+4));return me?(De.y=+me[0],fe+me[0].length):-1}function S(De,Te,fe){var me=s.exec(Te.slice(fe,fe+2));return me?(De.y=+me[0]+(+me[0]>68?1900:2e3),fe+me[0].length):-1}function x(De,Te,fe){var me=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Te.slice(fe,fe+6));return me?(De.Z=me[1]?0:-(me[2]+(me[3]||"00")),fe+me[0].length):-1}function a(De,Te,fe){var me=s.exec(Te.slice(fe,fe+1));return me?(De.q=me[0]*3-3,fe+me[0].length):-1}function E(De,Te,fe){var me=s.exec(Te.slice(fe,fe+2));return me?(De.m=me[0]-1,fe+me[0].length):-1}function w(De,Te,fe){var me=s.exec(Te.slice(fe,fe+2));return me?(De.d=+me[0],fe+me[0].length):-1}function k(De,Te,fe){var me=s.exec(Te.slice(fe,fe+3));return me?(De.m=0,De.d=+me[0],fe+me[0].length):-1}function I(De,Te,fe){var me=s.exec(Te.slice(fe,fe+2));return me?(De.H=+me[0],fe+me[0].length):-1}function U(De,Te,fe){var me=s.exec(Te.slice(fe,fe+2));return me?(De.M=+me[0],fe+me[0].length):-1}function z(De,Te,fe){var me=s.exec(Te.slice(fe,fe+2));return me?(De.S=+me[0],fe+me[0].length):-1}function N(De,Te,fe){var me=s.exec(Te.slice(fe,fe+3));return me?(De.L=+me[0],fe+me[0].length):-1}function B(De,Te,fe){var me=s.exec(Te.slice(fe,fe+6));return me?(De.L=Math.floor(me[0]/1e3),fe+me[0].length):-1}function F(De,Te,fe){var me=c.exec(Te.slice(fe,fe+1));return me?fe+me[0].length:-1}function H(De,Te,fe){var me=s.exec(Te.slice(fe));return me?(De.Q=+me[0],fe+me[0].length):-1}function X(De,Te,fe){var me=s.exec(Te.slice(fe));return me?(De.s=+me[0],fe+me[0].length):-1}function q(De,Te){return y(De.getDate(),Te,2)}function ne(De,Te){return y(De.getHours(),Te,2)}function oe(De,Te){return y(De.getHours()%12||12,Te,2)}function ve(De,Te){return y(1+L.Z.count((0,T.Z)(De),De),Te,3)}function J(De,Te){return y(De.getMilliseconds(),Te,3)}function Y(De,Te){return J(De,Te)+"000"}function j(De,Te){return y(De.getMonth()+1,Te,2)}function K(De,Te){return y(De.getMinutes(),Te,2)}function te(De,Te){return y(De.getSeconds(),Te,2)}function se(De){var Te=De.getDay();return Te===0?7:Te}function Q(De,Te){return y(i.OM.count((0,T.Z)(De)-1,De),Te,2)}function ee(De,Te){var fe=De.getDay();return De=fe>=4||fe===0?(0,i.bL)(De):i.bL.ceil(De),y(i.bL.count((0,T.Z)(De),De)+((0,T.Z)(De).getDay()===4),Te,2)}function le(De){return De.getDay()}function ie(De,Te){return y(i.wA.count((0,T.Z)(De)-1,De),Te,2)}function he(De,Te){return y(De.getFullYear()%100,Te,2)}function xe(De,Te){return y(De.getFullYear()%1e4,Te,4)}function Se(De){var Te=De.getTimezoneOffset();return(Te>0?"-":(Te*=-1,"+"))+y(Te/60|0,"0",2)+y(Te%60,"0",2)}function Ee(De,Te){return y(De.getUTCDate(),Te,2)}function Ne(De,Te){return y(De.getUTCHours(),Te,2)}function He(De,Te){return y(De.getUTCHours()%12||12,Te,2)}function Ce(De,Te){return y(1+R.Z.count((0,v.Z)(De),De),Te,3)}function be(De,Te){return y(De.getUTCMilliseconds(),Te,3)}function we(De,Te){return be(De,Te)+"000"}function ke(De,Te){return y(De.getUTCMonth()+1,Te,2)}function Fe(De,Te){return y(De.getUTCMinutes(),Te,2)}function Pe(De,Te){return y(De.getUTCSeconds(),Te,2)}function Ge(De){var Te=De.getUTCDay();return Te===0?7:Te}function nt(De,Te){return y(g.Ox.count((0,v.Z)(De)-1,De),Te,2)}function qe(De,Te){var fe=De.getUTCDay();return De=fe>=4||fe===0?(0,g.hB)(De):g.hB.ceil(De),y(g.hB.count((0,v.Z)(De),De)+((0,v.Z)(De).getUTCDay()===4),Te,2)}function Ke(De){return De.getUTCDay()}function $e(De,Te){return y(g.l6.count((0,v.Z)(De)-1,De),Te,2)}function vt(De,Te){return y(De.getUTCFullYear()%100,Te,2)}function yt(De,Te){return y(De.getUTCFullYear()%1e4,Te,4)}function mt(){return"+0000"}function Et(){return"%"}function Xe(De){return+De}function Ue(De){return Math.floor(+De/1e3)}var Be,rt,it;Ye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ye(De){return Be=l(De),rt=Be.format,Be.parse,it=Be.utcFormat,Be.utcParse,Be}},82301:function(G,V,e){e.d(V,{a:function(){return L}});var g=e(30052),R=e(54263),i=(0,g.Z)(function(T){T.setHours(0,0,0,0)},function(T,v){T.setDate(T.getDate()+v)},function(T,v){return(v-T-(v.getTimezoneOffset()-T.getTimezoneOffset())*R.yB)/R.UD},function(T){return T.getDate()-1});V.Z=i;var L=i.range},54263:function(G,V,e){e.d(V,{UD:function(){return L},Y2:function(){return i},Ym:function(){return g},iM:function(){return T},yB:function(){return R}});var g=1e3,R=6e4,i=36e5,L=864e5,T=6048e5},81041:function(G,V,e){e.r(V),e.d(V,{timeDay:function(){return y.Z},timeDays:function(){return y.a},timeFriday:function(){return h.mC},timeFridays:function(){return h.b$},timeHour:function(){return c},timeHours:function(){return u},timeInterval:function(){return g.Z},timeMillisecond:function(){return i},timeMilliseconds:function(){return L},timeMinute:function(){return l},timeMinutes:function(){return n},timeMonday:function(){return h.wA},timeMondays:function(){return h.bJ},timeMonth:function(){return f},timeMonths:function(){return o},timeSaturday:function(){return h.EY},timeSaturdays:function(){return h.Ff},timeSecond:function(){return p},timeSeconds:function(){return t},timeSunday:function(){return h.OM},timeSundays:function(){return h.vm},timeThursday:function(){return h.bL},timeThursdays:function(){return h.$t},timeTuesday:function(){return h.sy},timeTuesdays:function(){return h.aU},timeWednesday:function(){return h.zg},timeWednesdays:function(){return h.Ld},timeWeek:function(){return h.OM},timeWeeks:function(){return h.vm},timeYear:function(){return d.Z},timeYears:function(){return d.g},utcDay:function(){return a.Z},utcDays:function(){return a.y},utcFriday:function(){return E.QQ},utcFridays:function(){return E.fz},utcHour:function(){return S},utcHours:function(){return x},utcMillisecond:function(){return i},utcMilliseconds:function(){return L},utcMinute:function(){return M},utcMinutes:function(){return C},utcMonday:function(){return E.l6},utcMondays:function(){return E.$3},utcMonth:function(){return k},utcMonths:function(){return I},utcSaturday:function(){return E.g4},utcSaturdays:function(){return E.Q_},utcSecond:function(){return p},utcSeconds:function(){return t},utcSunday:function(){return E.Ox},utcSundays:function(){return E.SU},utcThursday:function(){return E.hB},utcThursdays:function(){return E.xj},utcTuesday:function(){return E.J1},utcTuesdays:function(){return E.DK},utcWednesday:function(){return E.b3},utcWednesdays:function(){return E.uy},utcWeek:function(){return E.Ox},utcWeeks:function(){return E.SU},utcYear:function(){return U.Z},utcYears:function(){return U.D}});var g=e(30052),R=(0,g.Z)(function(){},function(z,N){z.setTime(+z+N)},function(z,N){return N-z});R.every=function(z){return z=Math.floor(z),!isFinite(z)||!(z>0)?null:z>1?(0,g.Z)(function(N){N.setTime(Math.floor(N/z)*z)},function(N,B){N.setTime(+N+B*z)},function(N,B){return(B-N)/z}):R};var i=R,L=R.range,T=e(54263),v=(0,g.Z)(function(z){z.setTime(z-z.getMilliseconds())},function(z,N){z.setTime(+z+N*T.Ym)},function(z,N){return(N-z)/T.Ym},function(z){return z.getUTCSeconds()}),p=v,t=v.range,r=(0,g.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*T.Ym)},function(z,N){z.setTime(+z+N*T.yB)},function(z,N){return(N-z)/T.yB},function(z){return z.getMinutes()}),l=r,n=r.range,s=(0,g.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*T.Ym-z.getMinutes()*T.yB)},function(z,N){z.setTime(+z+N*T.Y2)},function(z,N){return(N-z)/T.Y2},function(z){return z.getHours()}),c=s,u=s.range,y=e(82301),h=e(59879),b=(0,g.Z)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,N){z.setMonth(z.getMonth()+N)},function(z,N){return N.getMonth()-z.getMonth()+(N.getFullYear()-z.getFullYear())*12},function(z){return z.getMonth()}),f=b,o=b.range,d=e(34823),A=(0,g.Z)(function(z){z.setUTCSeconds(0,0)},function(z,N){z.setTime(+z+N*T.yB)},function(z,N){return(N-z)/T.yB},function(z){return z.getUTCMinutes()}),M=A,C=A.range,m=(0,g.Z)(function(z){z.setUTCMinutes(0,0,0)},function(z,N){z.setTime(+z+N*T.Y2)},function(z,N){return(N-z)/T.Y2},function(z){return z.getUTCHours()}),S=m,x=m.range,a=e(48480),E=e(58176),w=(0,g.Z)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,N){z.setUTCMonth(z.getUTCMonth()+N)},function(z,N){return N.getUTCMonth()-z.getUTCMonth()+(N.getUTCFullYear()-z.getUTCFullYear())*12},function(z){return z.getUTCMonth()}),k=w,I=w.range,U=e(79791)},30052:function(G,V,e){e.d(V,{Z:function(){return i}});var g=new Date,R=new Date;function i(L,T,v,p){function t(r){return L(r=arguments.length===0?new Date:new Date(+r)),r}return t.floor=function(r){return L(r=new Date(+r)),r},t.ceil=function(r){return L(r=new Date(r-1)),T(r,1),L(r),r},t.round=function(r){var l=t(r),n=t.ceil(r);return r-l<n-r?l:n},t.offset=function(r,l){return T(r=new Date(+r),l==null?1:Math.floor(l)),r},t.range=function(r,l,n){var s=[],c;if(r=t.ceil(r),n=n==null?1:Math.floor(n),!(r<l)||!(n>0))return s;do s.push(c=new Date(+r)),T(r,n),L(r);while(c<r&&r<l);return s},t.filter=function(r){return i(function(l){if(l>=l)for(;L(l),!r(l);)l.setTime(l-1)},function(l,n){if(l>=l)if(n<0)for(;++n<=0;)for(;T(l,-1),!r(l););else for(;--n>=0;)for(;T(l,1),!r(l););})},v&&(t.count=function(r,l){return g.setTime(+r),R.setTime(+l),L(g),L(R),Math.floor(v(g,R))},t.every=function(r){return r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?t.filter(p?function(l){return p(l)%r===0}:function(l){return t.count(0,l)%r===0}):t}),t}},48480:function(G,V,e){e.d(V,{y:function(){return L}});var g=e(30052),R=e(54263),i=(0,g.Z)(function(T){T.setUTCHours(0,0,0,0)},function(T,v){T.setUTCDate(T.getUTCDate()+v)},function(T,v){return(v-T)/R.UD},function(T){return T.getUTCDate()-1});V.Z=i;var L=i.range},58176:function(G,V,e){e.d(V,{$3:function(){return s},DK:function(){return c},J1:function(){return v},Ox:function(){return L},QQ:function(){return r},Q_:function(){return b},SU:function(){return n},b3:function(){return p},fz:function(){return h},g4:function(){return l},hB:function(){return t},l6:function(){return T},uy:function(){return u},xj:function(){return y}});var g=e(30052),R=e(54263);function i(f){return(0,g.Z)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-f)%7),o.setUTCHours(0,0,0,0)},function(o,d){o.setUTCDate(o.getUTCDate()+d*7)},function(o,d){return(d-o)/R.iM})}var L=i(0),T=i(1),v=i(2),p=i(3),t=i(4),r=i(5),l=i(6),n=L.range,s=T.range,c=v.range,u=p.range,y=t.range,h=r.range,b=l.range},79791:function(G,V,e){e.d(V,{D:function(){return i}});var g=e(30052),R=(0,g.Z)(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,T){L.setUTCFullYear(L.getUTCFullYear()+T)},function(L,T){return T.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});R.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,g.Z)(function(T){T.setUTCFullYear(Math.floor(T.getUTCFullYear()/L)*L),T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,v){T.setUTCFullYear(T.getUTCFullYear()+v*L)})},V.Z=R;var i=R.range},59879:function(G,V,e){e.d(V,{$t:function(){return y},EY:function(){return l},Ff:function(){return b},Ld:function(){return u},OM:function(){return L},aU:function(){return c},b$:function(){return h},bJ:function(){return s},bL:function(){return t},mC:function(){return r},sy:function(){return v},vm:function(){return n},wA:function(){return T},zg:function(){return p}});var g=e(30052),R=e(54263);function i(f){return(0,g.Z)(function(o){o.setDate(o.getDate()-(o.getDay()+7-f)%7),o.setHours(0,0,0,0)},function(o,d){o.setDate(o.getDate()+d*7)},function(o,d){return(d-o-(d.getTimezoneOffset()-o.getTimezoneOffset())*R.yB)/R.iM})}var L=i(0),T=i(1),v=i(2),p=i(3),t=i(4),r=i(5),l=i(6),n=L.range,s=T.range,c=v.range,u=p.range,y=t.range,h=r.range,b=l.range},34823:function(G,V,e){e.d(V,{g:function(){return i}});var g=e(30052),R=(0,g.Z)(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,T){L.setFullYear(L.getFullYear()+T)},function(L,T){return T.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});R.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:(0,g.Z)(function(T){T.setFullYear(Math.floor(T.getFullYear()/L)*L),T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,v){T.setFullYear(T.getFullYear()+v*L)})},V.Z=R;var i=R.range},17045:function(G,V,e){var g=e(8709),R=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",i=Object.prototype.toString,L=Array.prototype.concat,T=Object.defineProperty,v=function(n){return typeof n=="function"&&i.call(n)==="[object Function]"},p=e(55622)(),t=T&&p,r=function(n,s,c,u){if(s in n){if(u===!0){if(n[s]===c)return}else if(!v(u)||!u())return}t?T(n,s,{configurable:!0,enumerable:!1,value:c,writable:!0}):n[s]=c},l=function(n,s){var c=arguments.length>2?arguments[2]:{},u=g(s);R&&(u=L.call(u,Object.getOwnPropertySymbols(s)));for(var y=0;y<u.length;y+=1)r(n,u[y],s[u[y]],c[u[y]])};l.supportsDescriptors=!!t,G.exports=l},46775:function(G){G.exports=function(){for(var V=0;V<arguments.length;V++)if(arguments[V]!==void 0)return arguments[V]}},53545:function(G){G.exports=R;var V=R.canvas=document.createElement("canvas"),e=V.getContext("2d"),g=i([32,126]);R.createPairs=i,R.ascii=g;function R(L,T){Array.isArray(L)&&(L=L.join(", "));var v={},p,t=16,r=.05;T&&(T.length===2&&typeof T[0]=="number"?p=i(T):Array.isArray(T)?p=T:(T.o?p=i(T.o):T.pairs&&(p=T.pairs),T.fontSize&&(t=T.fontSize),T.threshold!=null&&(r=T.threshold))),p||(p=g),e.font=t+"px "+L;for(var l=0;l<p.length;l++){var n=p[l],s=e.measureText(n[0]).width+e.measureText(n[1]).width,c=e.measureText(n).width;if(Math.abs(s-c)>t*r){var u=(c-s)/t;v[n]=u*1e3}}return v}function i(L){for(var T=[],v=L[0];v<=L[1];v++)for(var p=String.fromCharCode(v),t=L[0];t<L[1];t++){var r=String.fromCharCode(t),l=p+r;T.push(l)}return T}},31457:function(G,V,e){var g=e(65185),R=e(18625),i={M:"moveTo",C:"bezierCurveTo"};G.exports=function(L,T){L.beginPath(),R(g(T)).forEach(function(v){var p=v[0],t=v.slice(1);L[i[p]].apply(L,t)}),L.closePath()}},90660:function(G){G.exports=function(V){switch(V){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(G){function V(R,i,L){var T=R[L]|0;if(T<=0)return[];var v=new Array(T),p;if(L===R.length-1)for(p=0;p<T;++p)v[p]=i;else for(p=0;p<T;++p)v[p]=V(R,i,L+1);return v}function e(R,i){var L,T;for(L=new Array(R),T=0;T<R;++T)L[T]=i;return L}function g(R,i){switch(typeof i>"u"&&(i=0),typeof R){case"number":if(R>0)return e(R|0,i);break;case"object":if(typeof R.length=="number")return V(R,i,0);break}return[]}G.exports=g},11474:function(G){G.exports=V,G.exports.default=V;function V(I,U,z){z=z||2;var N=U&&U.length,B=N?U[0]*z:I.length,F=e(I,0,B,z,!0),H=[];if(!F||F.next===F.prev)return H;var X,q,ne,oe,ve,J,Y;if(N&&(F=p(I,U,F,z)),I.length>80*z){X=ne=I[0],q=oe=I[1];for(var j=z;j<B;j+=z)ve=I[j],J=I[j+1],ve<X&&(X=ve),J<q&&(q=J),ve>ne&&(ne=ve),J>oe&&(oe=J);Y=Math.max(ne-X,oe-q),Y=Y!==0?1/Y:0}return R(F,H,z,X,q,Y),H}function e(I,U,z,N,B){var F,H;if(B===k(I,U,z,N)>0)for(F=U;F<z;F+=N)H=a(F,I[F],I[F+1],H);else for(F=z-N;F>=U;F-=N)H=a(F,I[F],I[F+1],H);return H&&o(H,H.next)&&(E(H),H=H.next),H}function g(I,U){if(!I)return I;U||(U=I);var z=I,N;do if(N=!1,!z.steiner&&(o(z,z.next)||f(z.prev,z,z.next)===0)){if(E(z),z=U=z.prev,z===z.next)break;N=!0}else z=z.next;while(N||z!==U);return U}function R(I,U,z,N,B,F,H){if(I){!H&&F&&s(I,N,B,F);for(var X=I,q,ne;I.prev!==I.next;){if(q=I.prev,ne=I.next,F?L(I,N,B,F):i(I)){U.push(q.i/z),U.push(I.i/z),U.push(ne.i/z),E(I),I=ne.next,X=ne.next;continue}if(I=ne,I===X){H?H===1?(I=T(g(I),U,z),R(I,U,z,N,B,F,2)):H===2&&v(I,U,z,N,B,F):R(g(I),U,z,N,B,F,1);break}}}}function i(I){var U=I.prev,z=I,N=I.next;if(f(U,z,N)>=0)return!1;for(var B=I.next.next;B!==I.prev;){if(h(U.x,U.y,z.x,z.y,N.x,N.y,B.x,B.y)&&f(B.prev,B,B.next)>=0)return!1;B=B.next}return!0}function L(I,U,z,N){var B=I.prev,F=I,H=I.next;if(f(B,F,H)>=0)return!1;for(var X=B.x<F.x?B.x<H.x?B.x:H.x:F.x<H.x?F.x:H.x,q=B.y<F.y?B.y<H.y?B.y:H.y:F.y<H.y?F.y:H.y,ne=B.x>F.x?B.x>H.x?B.x:H.x:F.x>H.x?F.x:H.x,oe=B.y>F.y?B.y>H.y?B.y:H.y:F.y>H.y?F.y:H.y,ve=u(X,q,U,z,N),J=u(ne,oe,U,z,N),Y=I.prevZ,j=I.nextZ;Y&&Y.z>=ve&&j&&j.z<=J;){if(Y!==I.prev&&Y!==I.next&&h(B.x,B.y,F.x,F.y,H.x,H.y,Y.x,Y.y)&&f(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,j!==I.prev&&j!==I.next&&h(B.x,B.y,F.x,F.y,H.x,H.y,j.x,j.y)&&f(j.prev,j,j.next)>=0))return!1;j=j.nextZ}for(;Y&&Y.z>=ve;){if(Y!==I.prev&&Y!==I.next&&h(B.x,B.y,F.x,F.y,H.x,H.y,Y.x,Y.y)&&f(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;j&&j.z<=J;){if(j!==I.prev&&j!==I.next&&h(B.x,B.y,F.x,F.y,H.x,H.y,j.x,j.y)&&f(j.prev,j,j.next)>=0)return!1;j=j.nextZ}return!0}function T(I,U,z){var N=I;do{var B=N.prev,F=N.next.next;!o(B,F)&&d(B,N,N.next,F)&&m(B,F)&&m(F,B)&&(U.push(B.i/z),U.push(N.i/z),U.push(F.i/z),E(N),E(N.next),N=I=F),N=N.next}while(N!==I);return g(N)}function v(I,U,z,N,B,F){var H=I;do{for(var X=H.next.next;X!==H.prev;){if(H.i!==X.i&&b(H,X)){var q=x(H,X);H=g(H,H.next),q=g(q,q.next),R(H,U,z,N,B,F),R(q,U,z,N,B,F);return}X=X.next}H=H.next}while(H!==I)}function p(I,U,z,N){var B=[],F,H,X,q,ne;for(F=0,H=U.length;F<H;F++)X=U[F]*N,q=F<H-1?U[F+1]*N:I.length,ne=e(I,X,q,N,!1),ne===ne.next&&(ne.steiner=!0),B.push(y(ne));for(B.sort(t),F=0;F<B.length;F++)r(B[F],z),z=g(z,z.next);return z}function t(I,U){return I.x-U.x}function r(I,U){if(U=l(I,U),U){var z=x(U,I);g(U,U.next),g(z,z.next)}}function l(I,U){var z=U,N=I.x,B=I.y,F=-1/0,H;do{if(B<=z.y&&B>=z.next.y&&z.next.y!==z.y){var X=z.x+(B-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(X<=N&&X>F){if(F=X,X===N){if(B===z.y)return z;if(B===z.next.y)return z.next}H=z.x<z.next.x?z:z.next}}z=z.next}while(z!==U);if(!H)return null;if(N===F)return H;var q=H,ne=H.x,oe=H.y,ve=1/0,J;z=H;do N>=z.x&&z.x>=ne&&N!==z.x&&h(B<oe?N:F,B,ne,oe,B<oe?F:N,B,z.x,z.y)&&(J=Math.abs(B-z.y)/(N-z.x),m(z,I)&&(J<ve||J===ve&&(z.x>H.x||z.x===H.x&&n(H,z)))&&(H=z,ve=J)),z=z.next;while(z!==q);return H}function n(I,U){return f(I.prev,I,U.prev)<0&&f(U.next,I,I.next)<0}function s(I,U,z,N){var B=I;do B.z===null&&(B.z=u(B.x,B.y,U,z,N)),B.prevZ=B.prev,B.nextZ=B.next,B=B.next;while(B!==I);B.prevZ.nextZ=null,B.prevZ=null,c(B)}function c(I){var U,z,N,B,F,H,X,q,ne=1;do{for(z=I,I=null,F=null,H=0;z;){for(H++,N=z,X=0,U=0;U<ne&&(X++,N=N.nextZ,!!N);U++);for(q=ne;X>0||q>0&&N;)X!==0&&(q===0||!N||z.z<=N.z)?(B=z,z=z.nextZ,X--):(B=N,N=N.nextZ,q--),F?F.nextZ=B:I=B,B.prevZ=F,F=B;z=N}F.nextZ=null,ne*=2}while(H>1);return I}function u(I,U,z,N,B){return I=32767*(I-z)*B,U=32767*(U-N)*B,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,I|U<<1}function y(I){var U=I,z=I;do(U.x<z.x||U.x===z.x&&U.y<z.y)&&(z=U),U=U.next;while(U!==I);return z}function h(I,U,z,N,B,F,H,X){return(B-H)*(U-X)-(I-H)*(F-X)>=0&&(I-H)*(N-X)-(z-H)*(U-X)>=0&&(z-H)*(F-X)-(B-H)*(N-X)>=0}function b(I,U){return I.next.i!==U.i&&I.prev.i!==U.i&&!C(I,U)&&(m(I,U)&&m(U,I)&&S(I,U)&&(f(I.prev,I,U.prev)||f(I,U.prev,U))||o(I,U)&&f(I.prev,I,I.next)>0&&f(U.prev,U,U.next)>0)}function f(I,U,z){return(U.y-I.y)*(z.x-U.x)-(U.x-I.x)*(z.y-U.y)}function o(I,U){return I.x===U.x&&I.y===U.y}function d(I,U,z,N){var B=M(f(I,U,z)),F=M(f(I,U,N)),H=M(f(z,N,I)),X=M(f(z,N,U));return!!(B!==F&&H!==X||B===0&&A(I,z,U)||F===0&&A(I,N,U)||H===0&&A(z,I,N)||X===0&&A(z,U,N))}function A(I,U,z){return U.x<=Math.max(I.x,z.x)&&U.x>=Math.min(I.x,z.x)&&U.y<=Math.max(I.y,z.y)&&U.y>=Math.min(I.y,z.y)}function M(I){return I>0?1:I<0?-1:0}function C(I,U){var z=I;do{if(z.i!==I.i&&z.next.i!==I.i&&z.i!==U.i&&z.next.i!==U.i&&d(z,z.next,I,U))return!0;z=z.next}while(z!==I);return!1}function m(I,U){return f(I.prev,I,I.next)<0?f(I,U,I.next)>=0&&f(I,I.prev,U)>=0:f(I,U,I.prev)<0||f(I,I.next,U)<0}function S(I,U){var z=I,N=!1,B=(I.x+U.x)/2,F=(I.y+U.y)/2;do z.y>F!=z.next.y>F&&z.next.y!==z.y&&B<(z.next.x-z.x)*(F-z.y)/(z.next.y-z.y)+z.x&&(N=!N),z=z.next;while(z!==I);return N}function x(I,U){var z=new w(I.i,I.x,I.y),N=new w(U.i,U.x,U.y),B=I.next,F=U.prev;return I.next=U,U.prev=I,z.next=B,B.prev=z,N.next=z,z.prev=N,F.next=N,N.prev=F,N}function a(I,U,z,N){var B=new w(I,U,z);return N?(B.next=N.next,B.prev=N,N.next.prev=B,N.next=B):(B.prev=B,B.next=B),B}function E(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function w(I,U,z){this.i=I,this.x=U,this.y=z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}V.deviation=function(I,U,z,N){var B=U&&U.length,F=B?U[0]*z:I.length,H=Math.abs(k(I,0,F,z));if(B)for(var X=0,q=U.length;X<q;X++){var ne=U[X]*z,oe=X<q-1?U[X+1]*z:I.length;H-=Math.abs(k(I,ne,oe,z))}var ve=0;for(X=0;X<N.length;X+=3){var J=N[X]*z,Y=N[X+1]*z,j=N[X+2]*z;ve+=Math.abs((I[J]-I[j])*(I[Y+1]-I[J+1])-(I[J]-I[Y])*(I[j+1]-I[J+1]))}return H===0&&ve===0?0:Math.abs((ve-H)/H)};function k(I,U,z,N){for(var B=0,F=U,H=z-N;F<z;F+=N)B+=(I[H]-I[F])*(I[F+1]+I[H+1]),H=F;return B}V.flatten=function(I){for(var U=I[0][0].length,z={vertices:[],holes:[],dimensions:U},N=0,B=0;B<I.length;B++){for(var F=0;F<I[B].length;F++)for(var H=0;H<U;H++)z.vertices.push(I[B][F][H]);B>0&&(N+=I[B-1].length,z.holes.push(N))}return z}},2502:function(G,V,e){var g=e(68664);G.exports=function(i,L){var T=[],v=[],p=[],t={},r=[],l;function n(A){p[A]=!1,t.hasOwnProperty(A)&&Object.keys(t[A]).forEach(function(M){delete t[A][M],p[M]&&n(M)})}function s(A){var M=!1;v.push(A),p[A]=!0;var C,m;for(C=0;C<r[A].length;C++)m=r[A][C],m===l?(c(l,v),M=!0):p[m]||(M=s(m));if(M)n(A);else for(C=0;C<r[A].length;C++){m=r[A][C];var S=t[m];S||(S={},t[m]=S),S[m]=!0}return v.pop(),M}function c(A,M){var C=[].concat(M).concat(A);L?L(s):T.push(C)}function u(A){for(var M=0;M<i.length;M++)M<A&&(i[M]=[]),i[M]=i[M].filter(function(C){return C>=A})}function y(A){u(A);for(var M=i,C=g(M),m=C.components.filter(function(I){return I.length>1}),S=1/0,x,a=0;a<m.length;a++)for(var E=0;E<m[a].length;E++)m[a][E]<S&&(S=m[a][E],x=a);var w=m[x];if(!w)return!1;var k=i.map(function(I,U){return w.indexOf(U)===-1?[]:I.filter(function(z){return w.indexOf(z)!==-1})});return{leastVertex:S,adjList:k}}l=0;for(var h=i.length;l<h;){var b=y(l);if(l=b.leastVertex,r=b.adjList,r){for(var f=0;f<r.length;f++)for(var o=0;o<r[f].length;o++){var d=r[f][o];p[+d]=!1,t[d]={}}s(l),l=l+1}else l=h}if(!L)return T}},16134:function(G,V,e){var g=e(36672);G.exports=function(){return g(this).length=0,this}},4892:function(G,V,e){G.exports=e(64404)()?Array.from:e(49441)},64404:function(G){G.exports=function(){var V=Array.from,e,g;return typeof V!="function"?!1:(e=["raz","dwa"],g=V(e),!!(g&&g!==e&&g[1]==="dwa"))}},49441:function(G,V,e){var g=e(8260).iterator,R=e(73051),i=e(33717),L=e(35976),T=e(78513),v=e(36672),p=e(95296),t=e(87963),r=Array.isArray,l=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},s=Object.defineProperty;G.exports=function(c){var u=arguments[1],y=arguments[2],h,b,f,o,d,A,M,C,m,S;if(c=Object(v(c)),p(u)&&T(u),!this||this===Array||!i(this)){if(!u){if(R(c))return d=c.length,d!==1?Array.apply(null,c):(o=new Array(1),o[0]=c[0],o);if(r(c)){for(o=new Array(d=c.length),b=0;b<d;++b)o[b]=c[b];return o}}o=[]}else h=this;if(!r(c)){if((m=c[g])!==void 0){for(M=T(m).call(c),h&&(o=new h),C=M.next(),b=0;!C.done;)S=u?l.call(u,y,C.value,b):C.value,h?(n.value=S,s(o,b,n)):o[b]=S,C=M.next(),++b;d=b}else if(t(c)){for(d=c.length,h&&(o=new h),b=0,f=0;b<d;++b)S=c[b],b+1<d&&(A=S.charCodeAt(0),A>=55296&&A<=56319&&(S+=c[++b])),S=u?l.call(u,y,S,f):S,h?(n.value=S,s(o,f,n)):o[f]=S,++f;d=f}}if(d===void 0)for(d=L(c.length),h&&(o=new h(d)),b=0;b<d;++b)S=u?l.call(u,y,c[b],b):c[b],h?(n.value=S,s(o,b,n)):o[b]=S;return h&&(n.value=null,o.length=d),o}},73051:function(G){var V=Object.prototype.toString,e=V.call(function(){return arguments}());G.exports=function(g){return V.call(g)===e}},33717:function(G){var V=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);G.exports=function(g){return typeof g=="function"&&e(V.call(g))}},52345:function(G){G.exports=function(){}},9953:function(G,V,e){G.exports=e(90436)()?Math.sign:e(6069)},90436:function(G){G.exports=function(){var V=Math.sign;return typeof V!="function"?!1:V(10)===1&&V(-20)===-1}},6069:function(G){G.exports=function(V){return V=Number(V),isNaN(V)||V===0?V:V>0?1:-1}},56247:function(G,V,e){var g=e(9953),R=Math.abs,i=Math.floor;G.exports=function(L){return isNaN(L)?0:(L=Number(L),L===0||!isFinite(L)?L:g(L)*i(R(L)))}},35976:function(G,V,e){var g=e(56247),R=Math.max;G.exports=function(i){return R(0,g(i))}},67260:function(G,V,e){var g=e(78513),R=e(36672),i=Function.prototype.bind,L=Function.prototype.call,T=Object.keys,v=Object.prototype.propertyIsEnumerable;G.exports=function(p,t){return function(r,l){var n,s=arguments[2],c=arguments[3];return r=Object(R(r)),g(l),n=T(r),c&&n.sort(typeof c=="function"?i.call(c,r):void 0),typeof p!="function"&&(p=n[p]),L.call(p,n,function(u,y){return v.call(r,u)?L.call(l,s,r[u],u,r,y):t})}}},95879:function(G,V,e){G.exports=e(73583)()?Object.assign:e(34205)},73583:function(G){G.exports=function(){var V=Object.assign,e;return typeof V!="function"?!1:(e={foo:"raz"},V(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(G,V,e){var g=e(68700),R=e(36672),i=Math.max;G.exports=function(L,T){var v,p,t=i(arguments.length,2),r;for(L=Object(R(L)),r=function(l){try{L[l]=T[l]}catch(n){v||(v=n)}},p=1;p<t;++p)T=arguments[p],g(T).forEach(r);if(v!==void 0)throw v;return L}},19012:function(G,V,e){var g=e(4892),R=e(95879),i=e(36672);G.exports=function(L){var T=Object(i(L)),v=arguments[1],p=Object(arguments[2]);if(T!==L&&!v)return T;var t={};return v?g(v,function(r){(p.ensure||r in L)&&(t[r]=L[r])}):R(t,L),t}},52818:function(G,V,e){var g=Object.create,R;e(33247)()||(R=e(51882)),G.exports=function(){var i,L,T;return!R||R.level!==1?g:(i={},L={},T={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){L[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}L[v]=T}),Object.defineProperties(i,L),Object.defineProperty(R,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(v,p){return g(v===null?i:v,p)})}()},96437:function(G,V,e){G.exports=e(67260)("forEach")},99611:function(G,V,e){var g=e(95296),R={function:!0,object:!0};G.exports=function(i){return g(i)&&R[typeof i]||!1}},95296:function(G,V,e){var g=e(52345)();G.exports=function(R){return R!==g&&R!==null}},68700:function(G,V,e){G.exports=e(13895)()?Object.keys:e(25217)},13895:function(G){G.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(G,V,e){var g=e(95296),R=Object.keys;G.exports=function(i){return R(g(i)?Object(i):i)}},16906:function(G,V,e){var g=e(78513),R=e(96437),i=Function.prototype.call;G.exports=function(L,T){var v={},p=arguments[2];return g(T),R(L,function(t,r,l,n){v[r]=i.call(T,p,t,r,l,n)}),v}},21780:function(G,V,e){var g=e(95296),R=Array.prototype.forEach,i=Object.create,L=function(T,v){var p;for(p in T)v[p]=T[p]};G.exports=function(T){var v=i(null);return R.call(arguments,function(p){g(p)&&L(Object(p),v)}),v}},1496:function(G,V,e){G.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(G){var V=Object.create,e=Object.getPrototypeOf,g={};G.exports=function(){var R=Object.setPrototypeOf,i=arguments[0]||V;return typeof R!="function"?!1:e(R(i(null),g))===g}},51882:function(G,V,e){var g=e(99611),R=e(36672),i=Object.prototype.isPrototypeOf,L=Object.defineProperty,T={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(p,t){if(R(p),t===null||g(t))return p;throw new TypeError("Prototype must be null or an object")},G.exports=function(p){var t,r;return p?(p.level===2?p.set?(r=p.set,t=function(l,n){return r.call(v(l,n),n),l}):t=function(l,n){return v(l,n).__proto__=n,l}:t=function l(n,s){var c;return v(n,s),c=i.call(l.nullPolyfill,n),c&&delete l.nullPolyfill.__proto__,s===null&&(s=l.nullPolyfill),n.__proto__=s,c&&L(l.nullPolyfill,"__proto__",T),n},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:p.level})):null}(function(){var p=Object.create(null),t={},r,l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{r=l.set,r.call(p,t)}catch{}if(Object.getPrototypeOf(p)===t)return{set:r,level:2}}return p.__proto__=t,Object.getPrototypeOf(p)===t?{level:2}:(p={},p.__proto__=t,Object.getPrototypeOf(p)===t?{level:1}:!1)}()),e(52818)},78513:function(G){G.exports=function(V){if(typeof V!="function")throw new TypeError(V+" is not a function");return V}},98976:function(G,V,e){var g=e(99611);G.exports=function(R){if(!g(R))throw new TypeError(R+" is not an Object");return R}},36672:function(G,V,e){var g=e(95296);G.exports=function(R){if(!g(R))throw new TypeError("Cannot use null or undefined");return R}},66741:function(G,V,e){G.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(G){var V="razdwatrzy";G.exports=function(){return typeof V.contains!="function"?!1:V.contains("dwa")===!0&&V.contains("foo")===!1}},60381:function(G){var V=String.prototype.indexOf;G.exports=function(e){return V.call(this,e,arguments[1])>-1}},87963:function(G){var V=Object.prototype.toString,e=V.call("");G.exports=function(g){return typeof g=="string"||g&&typeof g=="object"&&(g instanceof String||V.call(g)===e)||!1}},43043:function(G){var V=Object.create(null),e=Math.random;G.exports=function(){var g;do g=e().toString(36).slice(2);while(V[g]);return g}},32411:function(G,V,e){var g=e(1496),R=e(66741),i=e(62072),L=e(8260),T=e(95426),v=Object.defineProperty,p;p=G.exports=function(t,r){if(!(this instanceof p))throw new TypeError("Constructor requires 'new'");T.call(this,t),r?R.call(r,"key+value")?r="key+value":R.call(r,"key")?r="key":r="value":r="value",v(this,"__kind__",i("",r))},g&&g(p,T),delete p.prototype.constructor,p.prototype=Object.create(T.prototype,{_resolve:i(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),v(p.prototype,L.toStringTag,i("c","Array Iterator"))},27515:function(G,V,e){var g=e(73051),R=e(78513),i=e(87963),L=e(66661),T=Array.isArray,v=Function.prototype.call,p=Array.prototype.some;G.exports=function(t,r){var l,n=arguments[2],s,c,u,y,h,b,f;if(T(t)||g(t)?l="array":i(t)?l="string":t=L(t),R(r),c=function(){u=!0},l==="array"){p.call(t,function(o){return v.call(r,n,o,c),u});return}if(l==="string"){for(h=t.length,y=0;y<h&&(b=t[y],y+1<h&&(f=b.charCodeAt(0),f>=55296&&f<=56319&&(b+=t[++y])),v.call(r,n,b,c),!u);++y);return}for(s=t.next();!s.done;){if(v.call(r,n,s.value,c),u)return;s=t.next()}}},66661:function(G,V,e){var g=e(73051),R=e(87963),i=e(32411),L=e(259),T=e(58095),v=e(8260).iterator;G.exports=function(p){return typeof T(p)[v]=="function"?p[v]():g(p)?new i(p):R(p)?new L(p):new i(p)}},95426:function(G,V,e){var g=e(16134),R=e(95879),i=e(78513),L=e(36672),T=e(62072),v=e(55174),p=e(8260),t=Object.defineProperty,r=Object.defineProperties,l;G.exports=l=function(n,s){if(!(this instanceof l))throw new TypeError("Constructor requires 'new'");r(this,{__list__:T("w",L(n)),__context__:T("w",s),__nextIndex__:T("w",0)}),s&&(i(s.on),s.on("_add",this._onAdd),s.on("_delete",this._onDelete),s.on("_clear",this._onClear))},delete l.prototype.constructor,r(l.prototype,R({_next:T(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:T(function(){return this._createResult(this._next())}),_createResult:T(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:T(function(n){return this.__list__[n]}),_unBind:T(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:T(function(){return"[object "+(this[p.toStringTag]||"Object")+"]"})},v({_onAdd:T(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){t(this,"__redo__",T("c",[n]));return}this.__redo__.forEach(function(s,c){s>=n&&(this.__redo__[c]=++s)},this),this.__redo__.push(n)}}),_onDelete:T(function(n){var s;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(s=this.__redo__.indexOf(n),s!==-1&&this.__redo__.splice(s,1),this.__redo__.forEach(function(c,u){c>n&&(this.__redo__[u]=--c)},this)))}),_onClear:T(function(){this.__redo__&&g.call(this.__redo__),this.__nextIndex__=0})}))),t(l.prototype,p.iterator,T(function(){return this}))},35940:function(G,V,e){var g=e(73051),R=e(95296),i=e(87963),L=e(8260).iterator,T=Array.isArray;G.exports=function(v){return R(v)?T(v)||i(v)||g(v)?!0:typeof v[L]=="function":!1}},259:function(G,V,e){var g=e(1496),R=e(62072),i=e(8260),L=e(95426),T=Object.defineProperty,v;v=G.exports=function(p){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");p=String(p),L.call(this,p),T(this,"__length__",R("",p.length))},g&&g(v,L),delete v.prototype.constructor,v.prototype=Object.create(L.prototype,{_next:R(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:R(function(p){var t=this.__list__[p],r;return this.__nextIndex__===this.__length__?t:(r=t.charCodeAt(0),r>=55296&&r<=56319?t+this.__list__[this.__nextIndex__++]:t)})}),T(v.prototype,i.toStringTag,R("c","String Iterator"))},58095:function(G,V,e){var g=e(35940);G.exports=function(R){if(!g(R))throw new TypeError(R+" is not iterable");return R}},73523:function(G){function V(g,R){if(g==null)throw new TypeError("Cannot convert first argument to object");for(var i=Object(g),L=1;L<arguments.length;L++){var T=arguments[L];if(T!=null)for(var v=Object.keys(Object(T)),p=0,t=v.length;p<t;p++){var r=v[p],l=Object.getOwnPropertyDescriptor(T,r);l!==void 0&&l.enumerable&&(i[r]=T[r])}}return i}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:V})}G.exports={assign:V,polyfill:e}},8260:function(G,V,e){G.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(G,V,e){var g=e(94908),R={object:!0,symbol:!0};G.exports=function(){var i=g.Symbol,L;if(typeof i!="function")return!1;L=i("test symbol");try{String(L)}catch{return!1}return!(!R[typeof i.iterator]||!R[typeof i.toPrimitive]||!R[typeof i.toStringTag])}},82276:function(G){G.exports=function(V){return V?typeof V=="symbol"?!0:!V.constructor||V.constructor.name!=="Symbol"?!1:V[V.constructor.toStringTag]==="Symbol":!1}},29366:function(G,V,e){var g=e(62072),R=Object.create,i=Object.defineProperty,L=Object.prototype,T=R(null);G.exports=function(v){for(var p=0,t,r;T[v+(p||"")];)++p;return v+=p||"",T[v]=!0,t="@@"+v,i(L,t,g.gs(null,function(l){r||(r=!0,i(this,t,g(l)),r=!1)})),t}},92842:function(G,V,e){var g=e(62072),R=e(94908).Symbol;G.exports=function(i){return Object.defineProperties(i,{hasInstance:g("",R&&R.hasInstance||i("hasInstance")),isConcatSpreadable:g("",R&&R.isConcatSpreadable||i("isConcatSpreadable")),iterator:g("",R&&R.iterator||i("iterator")),match:g("",R&&R.match||i("match")),replace:g("",R&&R.replace||i("replace")),search:g("",R&&R.search||i("search")),species:g("",R&&R.species||i("species")),split:g("",R&&R.split||i("split")),toPrimitive:g("",R&&R.toPrimitive||i("toPrimitive")),toStringTag:g("",R&&R.toStringTag||i("toStringTag")),unscopables:g("",R&&R.unscopables||i("unscopables"))})}},13304:function(G,V,e){var g=e(62072),R=e(53308),i=Object.create(null);G.exports=function(L){return Object.defineProperties(L,{for:g(function(T){return i[T]?i[T]:i[T]=L(String(T))}),keyFor:g(function(T){var v;R(T);for(v in i)if(i[v]===T)return v})})}},18415:function(G,V,e){var g=e(62072),R=e(53308),i=e(94908).Symbol,L=e(29366),T=e(92842),v=e(13304),p=Object.create,t=Object.defineProperties,r=Object.defineProperty,l,n,s;if(typeof i=="function")try{String(i()),s=!0}catch{}else i=null;n=function(u){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return l(u)},G.exports=l=function c(u){var y;if(this instanceof c)throw new TypeError("Symbol is not a constructor");return s?i(u):(y=p(n.prototype),u=u===void 0?"":String(u),t(y,{__description__:g("",u),__name__:g("",L(u))}))},T(l),v(l),t(n.prototype,{constructor:g(l),toString:g("",function(){return this.__name__})}),t(l.prototype,{toString:g(function(){return"Symbol ("+R(this).__description__+")"}),valueOf:g(function(){return R(this)})}),r(l.prototype,l.toPrimitive,g("",function(){var c=R(this);return typeof c=="symbol"?c:c.toString()})),r(l.prototype,l.toStringTag,g("c","Symbol")),r(n.prototype,l.toStringTag,g("c",l.prototype[l.toStringTag])),r(n.prototype,l.toPrimitive,g("c",l.prototype[l.toPrimitive]))},53308:function(G,V,e){var g=e(82276);G.exports=function(R){if(!g(R))throw new TypeError(R+" is not a symbol");return R}},83522:function(G,V,e){G.exports=e(96402)()?WeakMap:e(329)},96402:function(G){G.exports=function(){var V,e;if(typeof WeakMap!="function")return!1;try{V=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(V)!=="[object WeakMap]"||typeof V.set!="function"||V.set({},1)!==V||typeof V.delete!="function"||typeof V.has!="function"||V.get(e)!=="one")}},96416:function(G){G.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},329:function(G,V,e){var g=e(95296),R=e(1496),i=e(98976),L=e(36672),T=e(43043),v=e(62072),p=e(66661),t=e(27515),r=e(8260).toStringTag,l=e(96416),n=Array.isArray,s=Object.defineProperty,c=Object.prototype.hasOwnProperty,u=Object.getPrototypeOf,y;G.exports=y=function(){var h=arguments[0],b;if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");return b=l&&R&&WeakMap!==y?R(new WeakMap,u(this)):this,g(h)&&(n(h)||(h=p(h))),s(b,"__weakMapData__",v("c","$weakMap$"+T())),h&&t(h,function(f){L(f),b.set(f[0],f[1])}),b},l&&(R&&R(y,WeakMap),y.prototype=Object.create(WeakMap.prototype,{constructor:v(y)})),Object.defineProperties(y.prototype,{delete:v(function(h){return c.call(i(h),this.__weakMapData__)?(delete h[this.__weakMapData__],!0):!1}),get:v(function(h){if(c.call(i(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:v(function(h){return c.call(i(h),this.__weakMapData__)}),set:v(function(h,b){return s(i(h),this.__weakMapData__,v("c",b)),this}),toString:v(function(){return"[object WeakMap]"})}),s(y.prototype,r,v("c","WeakMap"))},15398:function(G){var V=typeof Reflect=="object"?Reflect:null,e=V&&typeof V.apply=="function"?V.apply:function(d,A,M){return Function.prototype.apply.call(d,A,M)},g;V&&typeof V.ownKeys=="function"?g=V.ownKeys:Object.getOwnPropertySymbols?g=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:g=function(d){return Object.getOwnPropertyNames(d)};function R(o){console&&console.warn&&console.warn(o)}var i=Number.isNaN||function(d){return d!==d};function L(){L.init.call(this)}G.exports=L,G.exports.once=h,L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var T=10;function v(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return T},set:function(o){if(typeof o!="number"||o<0||i(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");T=o}}),L.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||i(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function p(o){return o._maxListeners===void 0?L.defaultMaxListeners:o._maxListeners}L.prototype.getMaxListeners=function(){return p(this)},L.prototype.emit=function(d){for(var A=[],M=1;M<arguments.length;M++)A.push(arguments[M]);var C=d==="error",m=this._events;if(m!==void 0)C=C&&m.error===void 0;else if(!C)return!1;if(C){var S;if(A.length>0&&(S=A[0]),S instanceof Error)throw S;var x=new Error("Unhandled error."+(S?" ("+S.message+")":""));throw x.context=S,x}var a=m[d];if(a===void 0)return!1;if(typeof a=="function")e(a,this,A);else for(var E=a.length,w=c(a,E),M=0;M<E;++M)e(w[M],this,A);return!0};function t(o,d,A,M){var C,m,S;if(v(A),m=o._events,m===void 0?(m=o._events=Object.create(null),o._eventsCount=0):(m.newListener!==void 0&&(o.emit("newListener",d,A.listener?A.listener:A),m=o._events),S=m[d]),S===void 0)S=m[d]=A,++o._eventsCount;else if(typeof S=="function"?S=m[d]=M?[A,S]:[S,A]:M?S.unshift(A):S.push(A),C=p(o),C>0&&S.length>C&&!S.warned){S.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");x.name="MaxListenersExceededWarning",x.emitter=o,x.type=d,x.count=S.length,R(x)}return o}L.prototype.addListener=function(d,A){return t(this,d,A,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(d,A){return t(this,d,A,!0)};function r(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(o,d,A){var M={fired:!1,wrapFn:void 0,target:o,type:d,listener:A},C=r.bind(M);return C.listener=A,M.wrapFn=C,C}L.prototype.once=function(d,A){return v(A),this.on(d,l(this,d,A)),this},L.prototype.prependOnceListener=function(d,A){return v(A),this.prependListener(d,l(this,d,A)),this},L.prototype.removeListener=function(d,A){var M,C,m,S,x;if(v(A),C=this._events,C===void 0)return this;if(M=C[d],M===void 0)return this;if(M===A||M.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete C[d],C.removeListener&&this.emit("removeListener",d,M.listener||A));else if(typeof M!="function"){for(m=-1,S=M.length-1;S>=0;S--)if(M[S]===A||M[S].listener===A){x=M[S].listener,m=S;break}if(m<0)return this;m===0?M.shift():u(M,m),M.length===1&&(C[d]=M[0]),C.removeListener!==void 0&&this.emit("removeListener",d,x||A)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(d){var A,M,C;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[d]),this;if(arguments.length===0){var m=Object.keys(M),S;for(C=0;C<m.length;++C)S=m[C],S!=="removeListener"&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=M[d],typeof A=="function")this.removeListener(d,A);else if(A!==void 0)for(C=A.length-1;C>=0;C--)this.removeListener(d,A[C]);return this};function n(o,d,A){var M=o._events;if(M===void 0)return[];var C=M[d];return C===void 0?[]:typeof C=="function"?A?[C.listener||C]:[C]:A?y(C):c(C,C.length)}L.prototype.listeners=function(d){return n(this,d,!0)},L.prototype.rawListeners=function(d){return n(this,d,!1)},L.listenerCount=function(o,d){return typeof o.listenerCount=="function"?o.listenerCount(d):s.call(o,d)},L.prototype.listenerCount=s;function s(o){var d=this._events;if(d!==void 0){var A=d[o];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}L.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};function c(o,d){for(var A=new Array(d),M=0;M<d;++M)A[M]=o[M];return A}function u(o,d){for(;d+1<o.length;d++)o[d]=o[d+1];o.pop()}function y(o){for(var d=new Array(o.length),A=0;A<d.length;++A)d[A]=o[A].listener||o[A];return d}function h(o,d){return new Promise(function(A,M){function C(S){o.removeListener(d,m),M(S)}function m(){typeof o.removeListener=="function"&&o.removeListener("error",C),A([].slice.call(arguments))}f(o,d,m,{once:!0}),d!=="error"&&b(o,C,{once:!0})})}function b(o,d,A){typeof o.on=="function"&&f(o,"error",d,A)}function f(o,d,A,M){if(typeof o.on=="function")M.once?o.once(d,A):o.on(d,A);else if(typeof o.addEventListener=="function")o.addEventListener(d,function C(m){M.once&&o.removeEventListener(d,C),A(m)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},60774:function(G){var V=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};G.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return V()}try{return __global__||V()}finally{delete Object.prototype.__global__}}()},94908:function(G,V,e){G.exports=e(51152)()?globalThis:e(60774)},51152:function(G){G.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},92770:function(G,V,e){var g=e(18546);G.exports=function(R){var i=typeof R;if(i==="string"){var L=R;if(R=+R,R===0&&g(L))return!1}else if(i!=="number")return!1;return R-R<1}},30120:function(G,V,e){var g=e(90660);G.exports=R;function R(i,L,T){if(!i)throw new TypeError("must specify data as first parameter");if(T=+(T||0)|0,Array.isArray(i)&&i[0]&&typeof i[0][0]=="number"){var v=i[0].length,p=i.length*v,t,r,l,n;(!L||typeof L=="string")&&(L=new(g(L||"float32"))(p+T));var s=L.length-T;if(p!==s)throw new Error("source length "+p+" ("+v+"x"+i.length+") does not match destination length "+s);for(t=0,l=T;t<i.length;t++)for(r=0;r<v;r++)L[l++]=i[t][r]===null?NaN:i[t][r]}else if(!L||typeof L=="string"){var c=g(L||"float32");if(Array.isArray(i)||L==="array")for(L=new c(i.length+T),t=0,l=T,n=L.length;l<n;l++,t++)L[l]=i[t]===null?NaN:i[t];else T===0?L=new c(i):(L=new c(i.length+T),L.set(i,T))}else L.set(i,T);return L}},68016:function(G,V,e){var g=e(53313),R=[32,126];G.exports=i;function i(L){L=L||{};var T=L.shape?L.shape:L.canvas?[L.canvas.width,L.canvas.height]:[512,512],v=L.canvas||document.createElement("canvas"),p=L.font,t=typeof L.step=="number"?[L.step,L.step]:L.step||[32,32],r=L.chars||R;if(p&&typeof p!="string"&&(p=g(p)),!Array.isArray(r))r=String(r).split("");else if(r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"){for(var l=[],n=r[0],s=0;n<=r[1];n++)l[s++]=String.fromCharCode(n);r=l}T=T.slice(),v.width=T[0],v.height=T[1];var c=v.getContext("2d");c.fillStyle="#000",c.fillRect(0,0,v.width,v.height),c.font=p,c.textAlign="center",c.textBaseline="middle",c.fillStyle="#fff";for(var u=t[0]/2,y=t[1]/2,n=0;n<r.length;n++)c.fillText(r[n],u,y),(u+=t[0])>T[0]-t[0]/2&&(u=t[0]/2,y+=t[1]);return v}},32879:function(G){G.exports=V,V.canvas=document.createElement("canvas"),V.cache={};function V(r,L){L||(L={}),(typeof r=="string"||Array.isArray(r))&&(L.family=r);var T=Array.isArray(L.family)?L.family.join(", "):L.family;if(!T)throw Error("`family` must be defined");var v=L.size||L.fontSize||L.em||48,p=L.weight||L.fontWeight||"",t=L.style||L.fontStyle||"",r=[t,p,v].join(" ")+"px "+T,l=L.origin||"top";if(V.cache[T]&&v<=V.cache[T].em)return e(V.cache[T],l);var n=L.canvas||V.canvas,s=n.getContext("2d"),c={upper:L.upper!==void 0?L.upper:"H",lower:L.lower!==void 0?L.lower:"x",descent:L.descent!==void 0?L.descent:"p",ascent:L.ascent!==void 0?L.ascent:"h",tittle:L.tittle!==void 0?L.tittle:"i",overshoot:L.overshoot!==void 0?L.overshoot:"O"},u=Math.ceil(v*1.5);n.height=u,n.width=u*.5,s.font=r;var y="H",h={top:0};s.clearRect(0,0,u,u),s.textBaseline="top",s.fillStyle="black",s.fillText(y,0,0);var b=g(s.getImageData(0,0,u,u));s.clearRect(0,0,u,u),s.textBaseline="bottom",s.fillText(y,0,u);var f=g(s.getImageData(0,0,u,u));h.lineHeight=h.bottom=u-f+b,s.clearRect(0,0,u,u),s.textBaseline="alphabetic",s.fillText(y,0,u);var o=g(s.getImageData(0,0,u,u)),d=u-o-1+b;h.baseline=h.alphabetic=d,s.clearRect(0,0,u,u),s.textBaseline="middle",s.fillText(y,0,u*.5);var A=g(s.getImageData(0,0,u,u));h.median=h.middle=u-A-1+b-u*.5,s.clearRect(0,0,u,u),s.textBaseline="hanging",s.fillText(y,0,u*.5);var M=g(s.getImageData(0,0,u,u));h.hanging=u-M-1+b-u*.5,s.clearRect(0,0,u,u),s.textBaseline="ideographic",s.fillText(y,0,u);var C=g(s.getImageData(0,0,u,u));if(h.ideographic=u-C-1+b,c.upper&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.upper,0,0),h.upper=g(s.getImageData(0,0,u,u)),h.capHeight=h.baseline-h.upper),c.lower&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.lower,0,0),h.lower=g(s.getImageData(0,0,u,u)),h.xHeight=h.baseline-h.lower),c.tittle&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.tittle,0,0),h.tittle=g(s.getImageData(0,0,u,u))),c.ascent&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.ascent,0,0),h.ascent=g(s.getImageData(0,0,u,u))),c.descent&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.descent,0,0),h.descent=R(s.getImageData(0,0,u,u))),c.overshoot){s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.overshoot,0,0);var m=R(s.getImageData(0,0,u,u));h.overshoot=m-d}for(var S in h)h[S]/=v;return h.em=v,V.cache[T]=h,e(h,l)}function e(i,L){var T={};typeof L=="string"&&(L=i[L]);for(var v in i)v!=="em"&&(T[v]=i[v]-L);return T}function g(i){for(var L=i.height,T=i.data,v=3;v<T.length;v+=4)if(T[v]!==0)return Math.floor((v-3)*.25/L)}function R(i){for(var L=i.height,T=i.data,v=T.length-1;v>0;v-=4)if(T[v]!==0)return Math.floor((v-3)*.25/L)}},31353:function(G,V,e){var g=e(85395),R=Object.prototype.toString,i=Object.prototype.hasOwnProperty,L=function(r,l,n){for(var s=0,c=r.length;s<c;s++)i.call(r,s)&&(n==null?l(r[s],s,r):l.call(n,r[s],s,r))},T=function(r,l,n){for(var s=0,c=r.length;s<c;s++)n==null?l(r.charAt(s),s,r):l.call(n,r.charAt(s),s,r)},v=function(r,l,n){for(var s in r)i.call(r,s)&&(n==null?l(r[s],s,r):l.call(n,r[s],s,r))},p=function(r,l,n){if(!g(l))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=n),R.call(r)==="[object Array]"?L(r,l,s):typeof r=="string"?T(r,l,s):v(r,l,s)};G.exports=p},73047:function(G){var V="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,g=Object.prototype.toString,R="[object Function]";G.exports=function(L){var T=this;if(typeof T!="function"||g.call(T)!==R)throw new TypeError(V+T);for(var v=e.call(arguments,1),p,t=function(){if(this instanceof p){var c=T.apply(this,v.concat(e.call(arguments)));return Object(c)===c?c:this}else return T.apply(L,v.concat(e.call(arguments)))},r=Math.max(0,T.length-v.length),l=[],n=0;n<r;n++)l.push("$"+n);if(p=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(t),T.prototype){var s=function(){};s.prototype=T.prototype,p.prototype=new s,s.prototype=null}return p}},77575:function(G,V,e){var g=e(73047);G.exports=Function.prototype.bind||g},86249:function(G){G.exports=V;function V(e,g){if(typeof e!="string")throw new TypeError("must specify type string");if(g=g||{},typeof document>"u"&&!g.canvas)return null;var R=g.canvas||document.createElement("canvas");typeof g.width=="number"&&(R.width=g.width),typeof g.height=="number"&&(R.height=g.height);var i=g,L;try{var T=[e];e.indexOf("webgl")===0&&T.push("experimental-"+e);for(var v=0;v<T.length;v++)if(L=R.getContext(T[v],i),L)return L}catch{L=null}return L||null}},68318:function(G,V,e){var g,R=SyntaxError,i=Function,L=TypeError,T=function(E){try{return i('"use strict"; return ('+E+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var p=function(){throw new L},t=v?function(){try{return arguments.callee,p}catch{try{return v(arguments,"callee").get}catch{return p}}}():p,r=e(57877)(),l=Object.getPrototypeOf||function(E){return E.__proto__},n={},s=typeof Uint8Array>"u"?g:l(Uint8Array),c={"%AggregateError%":typeof AggregateError>"u"?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?g:ArrayBuffer,"%ArrayIteratorPrototype%":r?l([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics>"u"?g:Atomics,"%BigInt%":typeof BigInt>"u"?g:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?g:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?g:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?g:Float32Array,"%Float64Array%":typeof Float64Array>"u"?g:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?g:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array>"u"?g:Int8Array,"%Int16Array%":typeof Int16Array>"u"?g:Int16Array,"%Int32Array%":typeof Int32Array>"u"?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r?l(l([][Symbol.iterator]())):g,"%JSON%":typeof JSON=="object"?JSON:g,"%Map%":typeof Map>"u"?g:Map,"%MapIteratorPrototype%":typeof Map>"u"||!r?g:l(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?g:Promise,"%Proxy%":typeof Proxy>"u"?g:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?g:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?g:Set,"%SetIteratorPrototype%":typeof Set>"u"||!r?g:l(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r?l(""[Symbol.iterator]()):g,"%Symbol%":r?Symbol:g,"%SyntaxError%":R,"%ThrowTypeError%":t,"%TypedArray%":s,"%TypeError%":L,"%Uint8Array%":typeof Uint8Array>"u"?g:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?g:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?g:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?g:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?g:WeakMap,"%WeakRef%":typeof WeakRef>"u"?g:WeakRef,"%WeakSet%":typeof WeakSet>"u"?g:WeakSet};try{null.error}catch(E){var u=l(l(E));c["%Error.prototype%"]=u}var y=function E(w){var k;if(w==="%AsyncFunction%")k=T("async function () {}");else if(w==="%GeneratorFunction%")k=T("function* () {}");else if(w==="%AsyncGeneratorFunction%")k=T("async function* () {}");else if(w==="%AsyncGenerator%"){var I=E("%AsyncGeneratorFunction%");I&&(k=I.prototype)}else if(w==="%AsyncIteratorPrototype%"){var U=E("%AsyncGenerator%");U&&(k=l(U.prototype))}return c[w]=k,k},h={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=e(77575),f=e(35065),o=b.call(Function.call,Array.prototype.concat),d=b.call(Function.apply,Array.prototype.splice),A=b.call(Function.call,String.prototype.replace),M=b.call(Function.call,String.prototype.slice),C=b.call(Function.call,RegExp.prototype.exec),m=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,x=function(w){var k=M(w,0,1),I=M(w,-1);if(k==="%"&&I!=="%")throw new R("invalid intrinsic syntax, expected closing `%`");if(I==="%"&&k!=="%")throw new R("invalid intrinsic syntax, expected opening `%`");var U=[];return A(w,m,function(z,N,B,F){U[U.length]=B?A(F,S,"$1"):N||z}),U},a=function(w,k){var I=w,U;if(f(h,I)&&(U=h[I],I="%"+U[0]+"%"),f(c,I)){var z=c[I];if(z===n&&(z=y(I)),typeof z>"u"&&!k)throw new L("intrinsic "+w+" exists, but is not available. Please file an issue!");return{alias:U,name:I,value:z}}throw new R("intrinsic "+w+" does not exist!")};G.exports=function(w,k){if(typeof w!="string"||w.length===0)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof k!="boolean")throw new L('"allowMissing" argument must be a boolean');if(C(/^%?[^%]*%?$/,w)===null)throw new R("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var I=x(w),U=I.length>0?I[0]:"",z=a("%"+U+"%",k),N=z.name,B=z.value,F=!1,H=z.alias;H&&(U=H[0],d(I,o([0,1],H)));for(var X=1,q=!0;X<I.length;X+=1){var ne=I[X],oe=M(ne,0,1),ve=M(ne,-1);if((oe==='"'||oe==="'"||oe==="`"||ve==='"'||ve==="'"||ve==="`")&&oe!==ve)throw new R("property names with quotes must have matching quotes");if((ne==="constructor"||!q)&&(F=!0),U+="."+ne,N="%"+U+"%",f(c,N))B=c[N];else if(B!=null){if(!(ne in B)){if(!k)throw new L("base intrinsic for "+w+" exists, but the property is not available.");return}if(v&&X+1>=I.length){var J=v(B,ne);q=!!J,q&&"get"in J&&!("originalValue"in J.get)?B=J.get:B=B[ne]}else q=f(B,ne),B=B[ne];q&&!F&&(c[N]=B)}}return B}},85400:function(G){G.exports=V;function V(e,g){var R=g[0],i=g[1],L=g[2],T=g[3],v=g[4],p=g[5],t=g[6],r=g[7],l=g[8],n=g[9],s=g[10],c=g[11],u=g[12],y=g[13],h=g[14],b=g[15];return e[0]=p*(s*b-c*h)-n*(t*b-r*h)+y*(t*c-r*s),e[1]=-(i*(s*b-c*h)-n*(L*b-T*h)+y*(L*c-T*s)),e[2]=i*(t*b-r*h)-p*(L*b-T*h)+y*(L*r-T*t),e[3]=-(i*(t*c-r*s)-p*(L*c-T*s)+n*(L*r-T*t)),e[4]=-(v*(s*b-c*h)-l*(t*b-r*h)+u*(t*c-r*s)),e[5]=R*(s*b-c*h)-l*(L*b-T*h)+u*(L*c-T*s),e[6]=-(R*(t*b-r*h)-v*(L*b-T*h)+u*(L*r-T*t)),e[7]=R*(t*c-r*s)-v*(L*c-T*s)+l*(L*r-T*t),e[8]=v*(n*b-c*y)-l*(p*b-r*y)+u*(p*c-r*n),e[9]=-(R*(n*b-c*y)-l*(i*b-T*y)+u*(i*c-T*n)),e[10]=R*(p*b-r*y)-v*(i*b-T*y)+u*(i*r-T*p),e[11]=-(R*(p*c-r*n)-v*(i*c-T*n)+l*(i*r-T*p)),e[12]=-(v*(n*h-s*y)-l*(p*h-t*y)+u*(p*s-t*n)),e[13]=R*(n*h-s*y)-l*(i*h-L*y)+u*(i*s-L*n),e[14]=-(R*(p*h-t*y)-v*(i*h-L*y)+u*(i*t-L*p)),e[15]=R*(p*s-t*n)-v*(i*s-L*n)+l*(i*t-L*p),e}},42331:function(G){G.exports=V;function V(e){var g=new Float32Array(16);return g[0]=e[0],g[1]=e[1],g[2]=e[2],g[3]=e[3],g[4]=e[4],g[5]=e[5],g[6]=e[6],g[7]=e[7],g[8]=e[8],g[9]=e[9],g[10]=e[10],g[11]=e[11],g[12]=e[12],g[13]=e[13],g[14]=e[14],g[15]=e[15],g}},31042:function(G){G.exports=V;function V(e,g){return e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},11902:function(G){G.exports=V;function V(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(G){G.exports=V;function V(e){var g=e[0],R=e[1],i=e[2],L=e[3],T=e[4],v=e[5],p=e[6],t=e[7],r=e[8],l=e[9],n=e[10],s=e[11],c=e[12],u=e[13],y=e[14],h=e[15],b=g*v-R*T,f=g*p-i*T,o=g*t-L*T,d=R*p-i*v,A=R*t-L*v,M=i*t-L*p,C=r*u-l*c,m=r*y-n*c,S=r*h-s*c,x=l*y-n*u,a=l*h-s*u,E=n*h-s*y;return b*E-f*a+o*x+d*S-A*m+M*C}},27812:function(G){G.exports=V;function V(e,g){var R=g[0],i=g[1],L=g[2],T=g[3],v=R+R,p=i+i,t=L+L,r=R*v,l=i*v,n=i*p,s=L*v,c=L*p,u=L*t,y=T*v,h=T*p,b=T*t;return e[0]=1-n-u,e[1]=l+b,e[2]=s-h,e[3]=0,e[4]=l-b,e[5]=1-r-u,e[6]=c+y,e[7]=0,e[8]=s+h,e[9]=c-y,e[10]=1-r-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(G){G.exports=V;function V(e,g,R){var i,L,T,v=R[0],p=R[1],t=R[2],r=Math.sqrt(v*v+p*p+t*t);return Math.abs(r)<1e-6?null:(r=1/r,v*=r,p*=r,t*=r,i=Math.sin(g),L=Math.cos(g),T=1-L,e[0]=v*v*T+L,e[1]=p*v*T+t*i,e[2]=t*v*T-p*i,e[3]=0,e[4]=v*p*T-t*i,e[5]=p*p*T+L,e[6]=t*p*T+v*i,e[7]=0,e[8]=v*t*T+p*i,e[9]=p*t*T-v*i,e[10]=t*t*T+L,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(G){G.exports=V;function V(e,g,R){var i=g[0],L=g[1],T=g[2],v=g[3],p=i+i,t=L+L,r=T+T,l=i*p,n=i*t,s=i*r,c=L*t,u=L*r,y=T*r,h=v*p,b=v*t,f=v*r;return e[0]=1-(c+y),e[1]=n+f,e[2]=s-b,e[3]=0,e[4]=n-f,e[5]=1-(l+y),e[6]=u+h,e[7]=0,e[8]=s+b,e[9]=u-h,e[10]=1-(l+c),e[11]=0,e[12]=R[0],e[13]=R[1],e[14]=R[2],e[15]=1,e}},81472:function(G){G.exports=V;function V(e,g){return e[0]=g[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=g[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=g[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(G){G.exports=V;function V(e,g){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=g[0],e[13]=g[1],e[14]=g[2],e[15]=1,e}},75262:function(G){G.exports=V;function V(e,g){var R=Math.sin(g),i=Math.cos(g);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=R,e[7]=0,e[8]=0,e[9]=-R,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(G){G.exports=V;function V(e,g){var R=Math.sin(g),i=Math.cos(g);return e[0]=i,e[1]=0,e[2]=-R,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=R,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(G){G.exports=V;function V(e,g){var R=Math.sin(g),i=Math.cos(g);return e[0]=i,e[1]=R,e[2]=0,e[3]=0,e[4]=-R,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(G){G.exports=V;function V(e,g,R,i,L,T,v){var p=1/(R-g),t=1/(L-i),r=1/(T-v);return e[0]=T*2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=T*2*t,e[6]=0,e[7]=0,e[8]=(R+g)*p,e[9]=(L+i)*t,e[10]=(v+T)*r,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*T*2*r,e[15]=0,e}},71551:function(G){G.exports=V;function V(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(G,V,e){G.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(G){G.exports=V;function V(e,g){var R=g[0],i=g[1],L=g[2],T=g[3],v=g[4],p=g[5],t=g[6],r=g[7],l=g[8],n=g[9],s=g[10],c=g[11],u=g[12],y=g[13],h=g[14],b=g[15],f=R*p-i*v,o=R*t-L*v,d=R*r-T*v,A=i*t-L*p,M=i*r-T*p,C=L*r-T*t,m=l*y-n*u,S=l*h-s*u,x=l*b-c*u,a=n*h-s*y,E=n*b-c*y,w=s*b-c*h,k=f*w-o*E+d*a+A*x-M*S+C*m;return k?(k=1/k,e[0]=(p*w-t*E+r*a)*k,e[1]=(L*E-i*w-T*a)*k,e[2]=(y*C-h*M+b*A)*k,e[3]=(s*M-n*C-c*A)*k,e[4]=(t*x-v*w-r*S)*k,e[5]=(R*w-L*x+T*S)*k,e[6]=(h*d-u*C-b*o)*k,e[7]=(l*C-s*d+c*o)*k,e[8]=(v*E-p*x+r*m)*k,e[9]=(i*x-R*E-T*m)*k,e[10]=(u*M-y*d+b*f)*k,e[11]=(n*d-l*M-c*f)*k,e[12]=(p*S-v*a-t*m)*k,e[13]=(R*a-i*S+L*m)*k,e[14]=(y*o-u*A-h*f)*k,e[15]=(l*A-n*o+s*f)*k,e):null}},65551:function(G,V,e){var g=e(71551);G.exports=R;function R(i,L,T,v){var p,t,r,l,n,s,c,u,y,h,b=L[0],f=L[1],o=L[2],d=v[0],A=v[1],M=v[2],C=T[0],m=T[1],S=T[2];return Math.abs(b-C)<1e-6&&Math.abs(f-m)<1e-6&&Math.abs(o-S)<1e-6?g(i):(c=b-C,u=f-m,y=o-S,h=1/Math.sqrt(c*c+u*u+y*y),c*=h,u*=h,y*=h,p=A*y-M*u,t=M*c-d*y,r=d*u-A*c,h=Math.sqrt(p*p+t*t+r*r),h?(h=1/h,p*=h,t*=h,r*=h):(p=0,t=0,r=0),l=u*r-y*t,n=y*p-c*r,s=c*t-u*p,h=Math.sqrt(l*l+n*n+s*s),h?(h=1/h,l*=h,n*=h,s*=h):(l=0,n=0,s=0),i[0]=p,i[1]=l,i[2]=c,i[3]=0,i[4]=t,i[5]=n,i[6]=u,i[7]=0,i[8]=r,i[9]=s,i[10]=y,i[11]=0,i[12]=-(p*b+t*f+r*o),i[13]=-(l*b+n*f+s*o),i[14]=-(c*b+u*f+y*o),i[15]=1,i)}},91362:function(G){G.exports=V;function V(e,g,R){var i=g[0],L=g[1],T=g[2],v=g[3],p=g[4],t=g[5],r=g[6],l=g[7],n=g[8],s=g[9],c=g[10],u=g[11],y=g[12],h=g[13],b=g[14],f=g[15],o=R[0],d=R[1],A=R[2],M=R[3];return e[0]=o*i+d*p+A*n+M*y,e[1]=o*L+d*t+A*s+M*h,e[2]=o*T+d*r+A*c+M*b,e[3]=o*v+d*l+A*u+M*f,o=R[4],d=R[5],A=R[6],M=R[7],e[4]=o*i+d*p+A*n+M*y,e[5]=o*L+d*t+A*s+M*h,e[6]=o*T+d*r+A*c+M*b,e[7]=o*v+d*l+A*u+M*f,o=R[8],d=R[9],A=R[10],M=R[11],e[8]=o*i+d*p+A*n+M*y,e[9]=o*L+d*t+A*s+M*h,e[10]=o*T+d*r+A*c+M*b,e[11]=o*v+d*l+A*u+M*f,o=R[12],d=R[13],A=R[14],M=R[15],e[12]=o*i+d*p+A*n+M*y,e[13]=o*L+d*t+A*s+M*h,e[14]=o*T+d*r+A*c+M*b,e[15]=o*v+d*l+A*u+M*f,e}},60378:function(G){G.exports=V;function V(e,g,R,i,L,T,v){var p=1/(g-R),t=1/(i-L),r=1/(T-v);return e[0]=-2*p,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*r,e[11]=0,e[12]=(g+R)*p,e[13]=(L+i)*t,e[14]=(v+T)*r,e[15]=1,e}},7864:function(G){G.exports=V;function V(e,g,R,i,L){var T=1/Math.tan(g/2),v=1/(i-L);return e[0]=T/R,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=T,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(L+i)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*L*i*v,e[15]=0,e}},35279:function(G){G.exports=V;function V(e,g,R,i){var L=Math.tan(g.upDegrees*Math.PI/180),T=Math.tan(g.downDegrees*Math.PI/180),v=Math.tan(g.leftDegrees*Math.PI/180),p=Math.tan(g.rightDegrees*Math.PI/180),t=2/(v+p),r=2/(L+T);return e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=-((v-p)*t*.5),e[9]=(L-T)*r*.5,e[10]=i/(R-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*R/(R-i),e[15]=0,e}},65074:function(G){G.exports=V;function V(e,g,R,i){var L=i[0],T=i[1],v=i[2],p=Math.sqrt(L*L+T*T+v*v),t,r,l,n,s,c,u,y,h,b,f,o,d,A,M,C,m,S,x,a,E,w,k,I;return Math.abs(p)<1e-6?null:(p=1/p,L*=p,T*=p,v*=p,t=Math.sin(R),r=Math.cos(R),l=1-r,n=g[0],s=g[1],c=g[2],u=g[3],y=g[4],h=g[5],b=g[6],f=g[7],o=g[8],d=g[9],A=g[10],M=g[11],C=L*L*l+r,m=T*L*l+v*t,S=v*L*l-T*t,x=L*T*l-v*t,a=T*T*l+r,E=v*T*l+L*t,w=L*v*l+T*t,k=T*v*l-L*t,I=v*v*l+r,e[0]=n*C+y*m+o*S,e[1]=s*C+h*m+d*S,e[2]=c*C+b*m+A*S,e[3]=u*C+f*m+M*S,e[4]=n*x+y*a+o*E,e[5]=s*x+h*a+d*E,e[6]=c*x+b*a+A*E,e[7]=u*x+f*a+M*E,e[8]=n*w+y*k+o*I,e[9]=s*w+h*k+d*I,e[10]=c*w+b*k+A*I,e[11]=u*w+f*k+M*I,g!==e&&(e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e)}},35545:function(G){G.exports=V;function V(e,g,R){var i=Math.sin(R),L=Math.cos(R),T=g[4],v=g[5],p=g[6],t=g[7],r=g[8],l=g[9],n=g[10],s=g[11];return g!==e&&(e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[4]=T*L+r*i,e[5]=v*L+l*i,e[6]=p*L+n*i,e[7]=t*L+s*i,e[8]=r*L-T*i,e[9]=l*L-v*i,e[10]=n*L-p*i,e[11]=s*L-t*i,e}},94918:function(G){G.exports=V;function V(e,g,R){var i=Math.sin(R),L=Math.cos(R),T=g[0],v=g[1],p=g[2],t=g[3],r=g[8],l=g[9],n=g[10],s=g[11];return g!==e&&(e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=T*L-r*i,e[1]=v*L-l*i,e[2]=p*L-n*i,e[3]=t*L-s*i,e[8]=T*i+r*L,e[9]=v*i+l*L,e[10]=p*i+n*L,e[11]=t*i+s*L,e}},15692:function(G){G.exports=V;function V(e,g,R){var i=Math.sin(R),L=Math.cos(R),T=g[0],v=g[1],p=g[2],t=g[3],r=g[4],l=g[5],n=g[6],s=g[7];return g!==e&&(e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=T*L+r*i,e[1]=v*L+l*i,e[2]=p*L+n*i,e[3]=t*L+s*i,e[4]=r*L-T*i,e[5]=l*L-v*i,e[6]=n*L-p*i,e[7]=s*L-t*i,e}},10789:function(G){G.exports=V;function V(e,g,R){var i=R[0],L=R[1],T=R[2];return e[0]=g[0]*i,e[1]=g[1]*i,e[2]=g[2]*i,e[3]=g[3]*i,e[4]=g[4]*L,e[5]=g[5]*L,e[6]=g[6]*L,e[7]=g[7]*L,e[8]=g[8]*T,e[9]=g[9]*T,e[10]=g[10]*T,e[11]=g[11]*T,e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},6726:function(G){G.exports=V;function V(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(G){G.exports=V;function V(e,g,R){var i=R[0],L=R[1],T=R[2],v,p,t,r,l,n,s,c,u,y,h,b;return g===e?(e[12]=g[0]*i+g[4]*L+g[8]*T+g[12],e[13]=g[1]*i+g[5]*L+g[9]*T+g[13],e[14]=g[2]*i+g[6]*L+g[10]*T+g[14],e[15]=g[3]*i+g[7]*L+g[11]*T+g[15]):(v=g[0],p=g[1],t=g[2],r=g[3],l=g[4],n=g[5],s=g[6],c=g[7],u=g[8],y=g[9],h=g[10],b=g[11],e[0]=v,e[1]=p,e[2]=t,e[3]=r,e[4]=l,e[5]=n,e[6]=s,e[7]=c,e[8]=u,e[9]=y,e[10]=h,e[11]=b,e[12]=v*i+l*L+u*T+g[12],e[13]=p*i+n*L+y*T+g[13],e[14]=t*i+s*L+h*T+g[14],e[15]=r*i+c*L+b*T+g[15]),e}},88654:function(G){G.exports=V;function V(e,g){if(e===g){var R=g[1],i=g[2],L=g[3],T=g[6],v=g[7],p=g[11];e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=R,e[6]=g[9],e[7]=g[13],e[8]=i,e[9]=T,e[11]=g[14],e[12]=L,e[13]=v,e[14]=p}else e[0]=g[0],e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=g[1],e[5]=g[5],e[6]=g[9],e[7]=g[13],e[8]=g[2],e[9]=g[6],e[10]=g[10],e[11]=g[14],e[12]=g[3],e[13]=g[7],e[14]=g[11],e[15]=g[15];return e}},42505:function(G,V,e){var g=e(72791),R=e(71299),i=e(98580),L=e(12018),T=e(83522),v=e(25075),p=e(68016),t=e(58404),r=e(18863),l=e(10973),n=e(25677),s=e(75686),c=e(53545),u=e(56131),y=e(32879),h=e(30120),b=e(13547),f=b.nextPow2,o=new T,d=!1;if(document.body){var A=document.body.appendChild(document.createElement("div"));A.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(A).fontStretch&&(d=!0),document.body.removeChild(A)}var M=function(S){C(S)?(S={regl:S},this.gl=S.regl._gl):this.gl=L(S),this.shader=o.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=S.regl||i({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(l(S)?S:{})};M.prototype.createShader=function(){var S=this.regl,x=S({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:S.prop("count"),offset:S.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:S.this("sizeBuffer")},width:{offset:0,stride:8,buffer:S.this("sizeBuffer")},char:S.this("charBuffer"),position:S.this("position")},uniforms:{atlasSize:function(E,w){return[w.atlas.width,w.atlas.height]},atlasDim:function(E,w){return[w.atlas.cols,w.atlas.rows]},atlas:function(E,w){return w.atlas.texture},charStep:function(E,w){return w.atlas.step},em:function(E,w){return w.atlas.em},color:S.prop("color"),opacity:S.prop("opacity"),viewport:S.this("viewportArray"),scale:S.this("scale"),align:S.prop("align"),baseline:S.prop("baseline"),translate:S.this("translate"),positionOffset:S.prop("positionOffset")},primitive:"points",viewport:S.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),a={};return{regl:S,draw:x,atlas:a}},M.prototype.update=function(S){var x=this;if(typeof S=="string")S={text:S};else if(!S)return;S=R(S,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),S.opacity!=null&&(Array.isArray(S.opacity)?this.opacity=S.opacity.map(function(Pe){return parseFloat(Pe)}):this.opacity=parseFloat(S.opacity)),S.viewport!=null&&(this.viewport=r(S.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),S.kerning!=null&&(this.kerning=S.kerning),S.offset!=null&&(typeof S.offset=="number"&&(S.offset=[S.offset,0]),this.positionOffset=h(S.offset)),S.direction&&(this.direction=S.direction),S.range&&(this.range=S.range,this.scale=[1/(S.range[2]-S.range[0]),1/(S.range[3]-S.range[1])],this.translate=[-S.range[0],-S.range[1]]),S.scale&&(this.scale=S.scale),S.translate&&(this.translate=S.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!S.font&&(S.font=M.baseFontSize+"px sans-serif");var a=!1,E=!1;if(S.font&&(Array.isArray(S.font)?S.font:[S.font]).forEach(function(Pe,Ge){if(typeof Pe=="string")try{Pe=g.parse(Pe)}catch{Pe=g.parse(M.baseFontSize+"px "+Pe)}else Pe=g.parse(g.stringify(Pe));var nt=g.stringify({size:M.baseFontSize,family:Pe.family,stretch:d?Pe.stretch:void 0,variant:Pe.variant,weight:Pe.weight,style:Pe.style}),qe=n(Pe.size),Ke=Math.round(qe[0]*s(qe[1]));if(Ke!==x.fontSize[Ge]&&(E=!0,x.fontSize[Ge]=Ke),(!x.font[Ge]||nt!=x.font[Ge].baseString)&&(a=!0,x.font[Ge]=M.fonts[nt],!x.font[Ge])){var $e=Pe.family.join(", "),vt=[Pe.style];Pe.style!=Pe.variant&&vt.push(Pe.variant),Pe.variant!=Pe.weight&&vt.push(Pe.weight),d&&Pe.weight!=Pe.stretch&&vt.push(Pe.stretch),x.font[Ge]={baseString:nt,family:$e,weight:Pe.weight,stretch:Pe.stretch,style:Pe.style,variant:Pe.variant,width:{},kerning:{},metrics:y($e,{origin:"top",fontSize:M.baseFontSize,fontStyle:vt.join(" ")})},M.fonts[nt]=x.font[Ge]}}),(a||E)&&this.font.forEach(function(Pe,Ge){var nt=g.stringify({size:x.fontSize[Ge],family:Pe.family,stretch:d?Pe.stretch:void 0,variant:Pe.variant,weight:Pe.weight,style:Pe.style});if(x.fontAtlas[Ge]=x.shader.atlas[nt],!x.fontAtlas[Ge]){var qe=Pe.metrics;x.shader.atlas[nt]=x.fontAtlas[Ge]={fontString:nt,step:Math.ceil(x.fontSize[Ge]*qe.bottom*.5)*2,em:x.fontSize[Ge],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:x.regl.texture()}}S.text==null&&(S.text=x.text)}),typeof S.text=="string"&&S.position&&S.position.length>2){for(var w=Array(S.position.length*.5),k=0;k<w.length;k++)w[k]=S.text;S.text=w}var I;if(S.text!=null||a){if(this.textOffsets=[0],Array.isArray(S.text)){this.count=S.text[0].length,this.counts=[this.count];for(var U=1;U<S.text.length;U++)this.textOffsets[U]=this.textOffsets[U-1]+S.text[U-1].length,this.count+=S.text[U].length,this.counts.push(S.text[U].length);this.text=S.text.join("")}else this.text=S.text,this.count=this.text.length,this.counts=[this.count];I=[],this.font.forEach(function(Pe,Ge){M.atlasContext.font=Pe.baseString;for(var nt=x.fontAtlas[Ge],qe=0;qe<x.text.length;qe++){var Ke=x.text.charAt(qe);if(nt.ids[Ke]==null&&(nt.ids[Ke]=nt.chars.length,nt.chars.push(Ke),I.push(Ke)),Pe.width[Ke]==null&&(Pe.width[Ke]=M.atlasContext.measureText(Ke).width/M.baseFontSize,x.kerning)){var $e=[];for(var vt in Pe.width)$e.push(vt+Ke,Ke+vt);u(Pe.kerning,c(Pe.family,{pairs:$e}))}}})}if(S.position)if(S.position.length>2){for(var z=!S.position[0].length,N=t.mallocFloat(this.count*2),B=0,F=0;B<this.counts.length;B++){var H=this.counts[B];if(z)for(var X=0;X<H;X++)N[F++]=S.position[B*2],N[F++]=S.position[B*2+1];else for(var q=0;q<H;q++)N[F++]=S.position[B][0],N[F++]=S.position[B][1]}this.position.call?this.position({type:"float",data:N}):this.position=this.regl.buffer({type:"float",data:N}),t.freeFloat(N)}else this.position.destroy&&this.position.destroy(),this.position={constant:S.position};if(S.text||a){var ne=t.mallocUint8(this.count),oe=t.mallocFloat(this.count*2);this.textWidth=[];for(var ve=0,J=0;ve<this.counts.length;ve++){for(var Y=this.counts[ve],j=this.font[ve]||this.font[0],K=this.fontAtlas[ve]||this.fontAtlas[0],te=0;te<Y;te++){var se=this.text.charAt(J),Q=this.text.charAt(J-1);if(ne[J]=K.ids[se],oe[J*2]=j.width[se],te){var ee=oe[J*2-2],le=oe[J*2],ie=oe[J*2-1],he=ie+ee*.5+le*.5;if(this.kerning){var xe=j.kerning[Q+se];xe&&(he+=xe*.001)}oe[J*2+1]=he}else oe[J*2+1]=oe[J*2]*.5;J++}this.textWidth.push(oe.length?oe[J*2-2]*.5+oe[J*2-1]:0)}S.align||(S.align=this.align),this.charBuffer({data:ne,type:"uint8",usage:"stream"}),this.sizeBuffer({data:oe,type:"float",usage:"stream"}),t.freeUint8(ne),t.freeFloat(oe),I.length&&this.font.forEach(function(Pe,Ge){var nt=x.fontAtlas[Ge],qe=nt.step,Ke=Math.floor(M.maxAtlasSize/qe),$e=Math.min(Ke,nt.chars.length),vt=Math.ceil(nt.chars.length/$e),yt=f($e*qe),mt=f(vt*qe);nt.width=yt,nt.height=mt,nt.rows=vt,nt.cols=$e,nt.em&&nt.texture({data:p({canvas:M.atlasCanvas,font:nt.fontString,chars:nt.chars,shape:[yt,mt],step:[qe,qe]})})})}if(S.align&&(this.align=S.align,this.alignOffset=this.textWidth.map(function(Pe,Ge){var nt=Array.isArray(x.align)?x.align.length>1?x.align[Ge]:x.align[0]:x.align;if(typeof nt=="number")return nt;switch(nt){case"right":case"end":return-Pe;case"center":case"centre":case"middle":return-Pe*.5}return 0})),this.baseline==null&&S.baseline==null&&(S.baseline=0),S.baseline!=null&&(this.baseline=S.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Pe,Ge){var nt=(x.font[Ge]||x.font[0]).metrics,qe=0;return qe+=nt.bottom*.5,typeof Pe=="number"?qe+=Pe-nt.baseline:qe+=-nt[Pe],qe*=-1,qe})),S.color!=null)if(S.color||(S.color="transparent"),typeof S.color=="string"||!isNaN(S.color))this.color=v(S.color,"uint8");else{var Se;if(typeof S.color[0]=="number"&&S.color.length>this.counts.length){var Ee=S.color.length;Se=t.mallocUint8(Ee);for(var Ne=(S.color.subarray||S.color.slice).bind(S.color),He=0;He<Ee;He+=4)Se.set(v(Ne(He,He+4),"uint8"),He)}else{var Ce=S.color.length;Se=t.mallocUint8(Ce*4);for(var be=0;be<Ce;be++)Se.set(v(S.color[be]||0,"uint8"),be*4)}this.color=Se}if(S.position||S.text||S.color||S.baseline||S.align||S.font||S.offset||S.opacity){var we=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(we){var ke=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(ke);for(var Fe=0;Fe<this.batch.length;Fe++)this.batch[Fe]={count:this.counts.length>1?this.counts[Fe]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Fe]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Fe*4,Fe*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Fe]:this.opacity,baseline:this.baselineOffset[Fe]!=null?this.baselineOffset[Fe]:this.baselineOffset[0],align:this.align?this.alignOffset[Fe]!=null?this.alignOffset[Fe]:this.alignOffset[0]:0,atlas:this.fontAtlas[Fe]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Fe*2,Fe*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},M.prototype.destroy=function(){},M.prototype.kerning=!0,M.prototype.position={constant:new Float32Array(2)},M.prototype.translate=null,M.prototype.scale=null,M.prototype.font=null,M.prototype.text="",M.prototype.positionOffset=[0,0],M.prototype.opacity=1,M.prototype.color=new Uint8Array([0,0,0,255]),M.prototype.alignOffset=[0,0],M.maxAtlasSize=1024,M.atlasCanvas=document.createElement("canvas"),M.atlasContext=M.atlasCanvas.getContext("2d",{alpha:!1}),M.baseFontSize=64,M.fonts={};function C(m){return typeof m=="function"&&m._gl&&m.prop&&m.texture&&m.buffer}G.exports=M},12018:function(G,V,e){var g=e(71299);G.exports=function(t){if(t?typeof t=="string"&&(t={container:t}):t={},i(t)?t={container:t}:L(t)?t={container:t}:T(t)?t={gl:t}:t=g(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),t.pixelRatio||(t.pixelRatio=e.g.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if(typeof t.container=="string"){var r=document.querySelector(t.container);if(!r)throw Error("Element "+t.container+" is not found");t.container=r}i(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=v(),t.container.appendChild(t.canvas),R(t))}else if(!t.canvas)if(typeof document<"u")t.container=document.body||document.documentElement,t.canvas=v(),t.container.appendChild(t.canvas),R(t);else throw Error("Not DOM environment. Use headless-gl.");return t.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(l){try{t.gl=t.canvas.getContext(l,t.attrs)}catch{}return t.gl}),t.gl};function R(p){if(p.container)if(p.container==document.body)document.body.style.width||(p.canvas.width=p.width||p.pixelRatio*e.g.innerWidth),document.body.style.height||(p.canvas.height=p.height||p.pixelRatio*e.g.innerHeight);else{var t=p.container.getBoundingClientRect();p.canvas.width=p.width||t.right-t.left,p.canvas.height=p.height||t.bottom-t.top}}function i(p){return typeof p.getContext=="function"&&"width"in p&&"height"in p}function L(p){return typeof p.nodeName=="string"&&typeof p.appendChild=="function"&&typeof p.getBoundingClientRect=="function"}function T(p){return typeof p.drawArrays=="function"||typeof p.drawElements=="function"}function v(){var p=document.createElement("canvas");return p.style.position="absolute",p.style.top=0,p.style.left=0,p}},56068:function(G){G.exports=function(V){typeof V=="string"&&(V=[V]);for(var e=[].slice.call(arguments,1),g=[],R=0;R<V.length-1;R++)g.push(V[R],e[R]||"");return g.push(V[R]),g.join("")}},40383:function(G,V,e){var g=e(68318),R=g("%Object.getOwnPropertyDescriptor%",!0);if(R)try{R([],"length")}catch{R=null}G.exports=R},57035:function(G,V,e){var g=e(54404),R;typeof e.g.matchMedia=="function"?R=!e.g.matchMedia("(hover: none)").matches:R=g,G.exports=R},38520:function(G,V,e){var g=e(54404);function R(){var i=!1;try{var L=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,L),window.removeEventListener("test",null,L)}catch{i=!1}return i}G.exports=g&&R()},55622:function(G,V,e){var g=e(68318),R=g("%Object.defineProperty%",!0),i=function(){if(R)try{return R({},"a",{value:1}),!0}catch{return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return R([],"length",{value:1}).length!==1}catch{return!0}},G.exports=i},57877:function(G,V,e){var g=typeof Symbol<"u"&&Symbol,R=e(35638);G.exports=function(){return typeof g!="function"||typeof Symbol!="function"||typeof g("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:R()}},35638:function(G){G.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},g=Symbol("test"),R=Object(g);if(typeof g=="string"||Object.prototype.toString.call(g)!=="[object Symbol]"||Object.prototype.toString.call(R)!=="[object Symbol]")return!1;var i=42;e[g]=i;for(g in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var L=Object.getOwnPropertySymbols(e);if(L.length!==1||L[0]!==g||!Object.prototype.propertyIsEnumerable.call(e,g))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var T=Object.getOwnPropertyDescriptor(e,g);if(T.value!==i||T.enumerable!==!0)return!1}return!0}},84543:function(G,V,e){var g=e(35638);G.exports=function(){return g()&&!!Symbol.toStringTag}},35065:function(G,V,e){var g=e(77575);G.exports=g.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(G,V){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */V.read=function(e,g,R,i,L){var T,v,p=L*8-i-1,t=(1<<p)-1,r=t>>1,l=-7,n=R?L-1:0,s=R?-1:1,c=e[g+n];for(n+=s,T=c&(1<<-l)-1,c>>=-l,l+=p;l>0;T=T*256+e[g+n],n+=s,l-=8);for(v=T&(1<<-l)-1,T>>=-l,l+=i;l>0;v=v*256+e[g+n],n+=s,l-=8);if(T===0)T=1-r;else{if(T===t)return v?NaN:(c?-1:1)*(1/0);v=v+Math.pow(2,i),T=T-r}return(c?-1:1)*v*Math.pow(2,T-i)},V.write=function(e,g,R,i,L,T){var v,p,t,r=T*8-L-1,l=(1<<r)-1,n=l>>1,s=L===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=i?0:T-1,u=i?1:-1,y=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(p=isNaN(g)?1:0,v=l):(v=Math.floor(Math.log(g)/Math.LN2),g*(t=Math.pow(2,-v))<1&&(v--,t*=2),v+n>=1?g+=s/t:g+=s*Math.pow(2,1-n),g*t>=2&&(v++,t/=2),v+n>=l?(p=0,v=l):v+n>=1?(p=(g*t-1)*Math.pow(2,L),v=v+n):(p=g*Math.pow(2,n-1)*Math.pow(2,L),v=0));L>=8;e[R+c]=p&255,c+=u,p/=256,L-=8);for(v=v<<L|p,r+=L;r>0;e[R+c]=v&255,c+=u,v/=256,r-=8);e[R+c-u]|=y*128}},42018:function(G){typeof Object.create=="function"?G.exports=function(e,g){g&&(e.super_=g,e.prototype=Object.create(g.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:G.exports=function(e,g){if(g){e.super_=g;var R=function(){};R.prototype=g.prototype,e.prototype=new R,e.prototype.constructor=e}}},47216:function(G,V,e){var g=e(84543)(),R=e(6614),i=R("Object.prototype.toString"),L=function(t){return g&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:i(t)==="[object Arguments]"},T=function(t){return L(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&i(t)!=="[object Array]"&&i(t.callee)==="[object Function]"},v=function(){return L(arguments)}();L.isLegacyArguments=T,G.exports=v?L:T},54404:function(G){G.exports=!0},85395:function(G){var V=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,g,R;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{g=Object.defineProperty({},"length",{get:function(){throw R}}),R={},e(function(){throw 42},null,g)}catch(b){b!==R&&(e=null)}else e=null;var i=/^\s*class\b/,L=function(f){try{var o=V.call(f);return i.test(o)}catch{return!1}},T=function(f){try{return L(f)?!1:(V.call(f),!0)}catch{return!1}},v=Object.prototype.toString,p="[object Object]",t="[object Function]",r="[object GeneratorFunction]",l="[object HTMLAllCollection]",n="[object HTML document.all class]",s="[object HTMLCollection]",c=typeof Symbol=="function"&&!!Symbol.toStringTag,u=!(0 in[,]),y=function(){return!1};if(typeof document=="object"){var h=document.all;v.call(h)===v.call(document.all)&&(y=function(f){if((u||!f)&&(typeof f>"u"||typeof f=="object"))try{var o=v.call(f);return(o===l||o===n||o===s||o===p)&&f("")==null}catch{}return!1})}G.exports=e?function(f){if(y(f))return!0;if(!f||typeof f!="function"&&typeof f!="object")return!1;try{e(f,null,g)}catch(o){if(o!==R)return!1}return!L(f)&&T(f)}:function(f){if(y(f))return!0;if(!f||typeof f!="function"&&typeof f!="object")return!1;if(c)return T(f);if(L(f))return!1;var o=v.call(f);return o!==t&&o!==r&&!/^\[object HTML/.test(o)?!1:T(f)}},65481:function(G,V,e){var g=Object.prototype.toString,R=Function.prototype.toString,i=/^\s*(?:function)?\*/,L=e(84543)(),T=Object.getPrototypeOf,v=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}},p;G.exports=function(r){if(typeof r!="function")return!1;if(i.test(R.call(r)))return!0;if(!L){var l=g.call(r);return l==="[object GeneratorFunction]"}if(!T)return!1;if(typeof p>"u"){var n=v();p=n?T(n):!1}return T(r)===p}},62683:function(G){G.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(G){G.exports=function(e){return e!==e}},15567:function(G,V,e){var g=e(68222),R=e(17045),i=e(64274),L=e(14922),T=e(22442),v=g(L(),Number);R(v,{getPolyfill:L,implementation:i,shim:T}),G.exports=v},14922:function(G,V,e){var g=e(64274);G.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:g}},22442:function(G,V,e){var g=e(17045),R=e(14922);G.exports=function(){var L=R();return g(Number,{isNaN:L},{isNaN:function(){return Number.isNaN!==L}}),L}},64941:function(G){G.exports=function(V){var e=typeof V;return V!==null&&(e==="object"||e==="function")}},10973:function(G){var V=Object.prototype.toString;G.exports=function(e){var g;return V.call(e)==="[object Object]"&&(g=Object.getPrototypeOf(e),g===null||g===Object.getPrototypeOf({}))}},18546:function(G){G.exports=function(V){for(var e=V.length,g,R=0;R<e;R++)if(g=V.charCodeAt(R),(g<9||g>13)&&g!==32&&g!==133&&g!==160&&g!==5760&&g!==6158&&(g<8192||g>8205)&&g!==8232&&g!==8233&&g!==8239&&g!==8287&&g!==8288&&g!==12288&&g!==65279)return!1;return!0}},89546:function(G){G.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(G,V,e){var g=e(31353),R=e(72077),i=e(6614),L=i("Object.prototype.toString"),T=e(84543)(),v=e(40383),p=typeof globalThis>"u"?e.g:globalThis,t=R(),r=i("Array.prototype.indexOf",!0)||function(y,h){for(var b=0;b<y.length;b+=1)if(y[b]===h)return b;return-1},l=i("String.prototype.slice"),n={},s=Object.getPrototypeOf;T&&v&&s&&g(t,function(u){var y=new p[u];if(Symbol.toStringTag in y){var h=s(y),b=v(h,Symbol.toStringTag);if(!b){var f=s(h);b=v(f,Symbol.toStringTag)}n[u]=b.get}});var c=function(y){var h=!1;return g(n,function(b,f){if(!h)try{h=b.call(y)===f}catch{}}),h};G.exports=function(y){if(!y||typeof y!="object")return!1;if(!T||!(Symbol.toStringTag in y)){var h=l(L(y),8,-1);return r(t,h)>-1}return v?c(y):!1}},44517:function(G){(function(V,e){G.exports=e()})(this,function(){var V,e,g;function R(i,L){if(!V)V=L;else if(!e)e=L;else{var T="var sharedChunk = {}; ("+V+")(sharedChunk); ("+e+")(sharedChunk);",v={};V(v),g=L(v),g.workerUrl=window.URL.createObjectURL(new Blob([T],{type:"text/javascript"}))}}return R(["exports"],function(i){function L(_,D){return D={exports:{}},_(D,D.exports),D.exports}var T="1.10.1",v=p;function p(_,D,W,ae){this.cx=3*_,this.bx=3*(W-_)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(ae-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=_,this.p1y=ae,this.p2x=W,this.p2y=ae}p.prototype.sampleCurveX=function(_){return((this.ax*_+this.bx)*_+this.cx)*_},p.prototype.sampleCurveY=function(_){return((this.ay*_+this.by)*_+this.cy)*_},p.prototype.sampleCurveDerivativeX=function(_){return(3*this.ax*_+2*this.bx)*_+this.cx},p.prototype.solveCurveX=function(_,D){typeof D>"u"&&(D=1e-6);var W,ae,pe,Me,_e;for(pe=_,_e=0;_e<8;_e++){if(Me=this.sampleCurveX(pe)-_,Math.abs(Me)<D)return pe;var Qe=this.sampleCurveDerivativeX(pe);if(Math.abs(Qe)<1e-6)break;pe=pe-Me/Qe}if(W=0,ae=1,pe=_,pe<W)return W;if(pe>ae)return ae;for(;W<ae;){if(Me=this.sampleCurveX(pe),Math.abs(Me-_)<D)return pe;_>Me?W=pe:ae=pe,pe=(ae-W)*.5+W}return pe},p.prototype.solve=function(_,D){return this.sampleCurveY(this.solveCurveX(_,D))};var t=r;function r(_,D){this.x=_,this.y=D}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(_){return this.clone()._add(_)},sub:function(_){return this.clone()._sub(_)},multByPoint:function(_){return this.clone()._multByPoint(_)},divByPoint:function(_){return this.clone()._divByPoint(_)},mult:function(_){return this.clone()._mult(_)},div:function(_){return this.clone()._div(_)},rotate:function(_){return this.clone()._rotate(_)},rotateAround:function(_,D){return this.clone()._rotateAround(_,D)},matMult:function(_){return this.clone()._matMult(_)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(_){return this.x===_.x&&this.y===_.y},dist:function(_){return Math.sqrt(this.distSqr(_))},distSqr:function(_){var D=_.x-this.x,W=_.y-this.y;return D*D+W*W},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(_){return Math.atan2(this.y-_.y,this.x-_.x)},angleWith:function(_){return this.angleWithSep(_.x,_.y)},angleWithSep:function(_,D){return Math.atan2(this.x*D-this.y*_,this.x*_+this.y*D)},_matMult:function(_){var D=_[0]*this.x+_[1]*this.y,W=_[2]*this.x+_[3]*this.y;return this.x=D,this.y=W,this},_add:function(_){return this.x+=_.x,this.y+=_.y,this},_sub:function(_){return this.x-=_.x,this.y-=_.y,this},_mult:function(_){return this.x*=_,this.y*=_,this},_div:function(_){return this.x/=_,this.y/=_,this},_multByPoint:function(_){return this.x*=_.x,this.y*=_.y,this},_divByPoint:function(_){return this.x/=_.x,this.y/=_.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var _=this.y;return this.y=this.x,this.x=-_,this},_rotate:function(_){var D=Math.cos(_),W=Math.sin(_),ae=D*this.x-W*this.y,pe=W*this.x+D*this.y;return this.x=ae,this.y=pe,this},_rotateAround:function(_,D){var W=Math.cos(_),ae=Math.sin(_),pe=D.x+W*(this.x-D.x)-ae*(this.y-D.y),Me=D.y+ae*(this.x-D.x)+W*(this.y-D.y);return this.x=pe,this.y=Me,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(_){return _ instanceof r?_:Array.isArray(_)?new r(_[0],_[1]):_};function l(_,D){if(Array.isArray(_)){if(!Array.isArray(D)||_.length!==D.length)return!1;for(var W=0;W<_.length;W++)if(!l(_[W],D[W]))return!1;return!0}if(typeof _=="object"&&_!==null&&D!==null){if(typeof D!="object")return!1;var ae=Object.keys(_);if(ae.length!==Object.keys(D).length)return!1;for(var pe in _)if(!l(_[pe],D[pe]))return!1;return!0}return _===D}function n(_){if(_<=0)return 0;if(_>=1)return 1;var D=_*_,W=D*_;return 4*(_<.5?W:3*(_-D)+W-.75)}function s(_,D,W,ae){var pe=new v(_,D,W,ae);return function(Me){return pe.solve(Me)}}var c=s(.25,.1,.25,1);function u(_,D,W){return Math.min(W,Math.max(D,_))}function y(_,D,W){var ae=W-D,pe=((_-D)%ae+ae)%ae+D;return pe===D?W:pe}function h(_,D,W){if(!_.length)return W(null,[]);var ae=_.length,pe=new Array(_.length),Me=null;_.forEach(function(_e,Qe){D(_e,function(dt,Mt){dt&&(Me=dt),pe[Qe]=Mt,--ae===0&&W(Me,pe)})})}function b(_){var D=[];for(var W in _)D.push(_[W]);return D}function f(_,D){var W=[];for(var ae in _)ae in D||W.push(ae);return W}function o(_){for(var D=[],W=arguments.length-1;W-- >0;)D[W]=arguments[W+1];for(var ae=0,pe=D;ae<pe.length;ae+=1){var Me=pe[ae];for(var _e in Me)_[_e]=Me[_e]}return _}function d(_,D){for(var W={},ae=0;ae<D.length;ae++){var pe=D[ae];pe in _&&(W[pe]=_[pe])}return W}var A=1;function M(){return A++}function C(){function _(D){return D?(D^Math.random()*16>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,_)}return _()}function m(_){return _?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(_):!1}function S(_,D){_.forEach(function(W){D[W]&&(D[W]=D[W].bind(D))})}function x(_,D){return _.indexOf(D,_.length-D.length)!==-1}function a(_,D,W){var ae={};for(var pe in _)ae[pe]=D.call(W||this,_[pe],pe,_);return ae}function E(_,D,W){var ae={};for(var pe in _)D.call(W||this,_[pe],pe,_)&&(ae[pe]=_[pe]);return ae}function w(_){return Array.isArray(_)?_.map(w):typeof _=="object"&&_?a(_,w):_}function k(_,D){for(var W=0;W<_.length;W++)if(D.indexOf(_[W])>=0)return!0;return!1}var I={};function U(_){I[_]||(typeof console<"u"&&console.warn(_),I[_]=!0)}function z(_,D,W){return(W.y-_.y)*(D.x-_.x)>(D.y-_.y)*(W.x-_.x)}function N(_){for(var D=0,W=0,ae=_.length,pe=ae-1,Me=void 0,_e=void 0;W<ae;pe=W++)Me=_[W],_e=_[pe],D+=(_e.x-Me.x)*(Me.y+_e.y);return D}function B(_){var D=_[0],W=_[1],ae=_[2];return W+=90,W*=Math.PI/180,ae*=Math.PI/180,{x:D*Math.cos(W)*Math.sin(ae),y:D*Math.sin(W)*Math.sin(ae),z:D*Math.cos(ae)}}function F(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function H(_){var D=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,W={};if(_.replace(D,function(pe,Me,_e,Qe){var dt=_e||Qe;return W[Me]=dt?dt.toLowerCase():!0,""}),W["max-age"]){var ae=parseInt(W["max-age"],10);isNaN(ae)?delete W["max-age"]:W["max-age"]=ae}return W}var X=null;function q(_){if(X==null){var D=_.navigator?_.navigator.userAgent:null;X=!!_.safari||!!(D&&(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return X}function ne(_){try{var D=self[_];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}function oe(_){return self.btoa(encodeURIComponent(_).replace(/%([0-9A-F]{2})/g,function(D,W){return String.fromCharCode(+("0x"+W))}))}function ve(_){return decodeURIComponent(self.atob(_).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var J=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),Y=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,j=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,K,te,se={now:J,frame:function(D){var W=Y(D);return{cancel:function(){return j(W)}}},getImageData:function(D,W){W===void 0&&(W=0);var ae=self.document.createElement("canvas"),pe=ae.getContext("2d");if(!pe)throw new Error("failed to create canvas 2d context");return ae.width=D.width,ae.height=D.height,pe.drawImage(D,0,0,D.width,D.height),pe.getImageData(-W,-W,D.width+2*W,D.height+2*W)},resolveURL:function(D){return K||(K=self.document.createElement("a")),K.href=D,K.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return self.matchMedia?(te==null&&(te=self.matchMedia("(prefers-reduced-motion: reduce)")),te.matches):!1}},Q={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ee={supported:!1,testSupport:Se},le,ie=!1,he,xe=!1;self.document&&(he=self.document.createElement("img"),he.onload=function(){le&&Ee(le),le=null,xe=!0},he.onerror=function(){ie=!0,le=null},he.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function Se(_){ie||!he||(xe?Ee(_):le=_)}function Ee(_){var D=_.createTexture();_.bindTexture(_.TEXTURE_2D,D);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,he),_.isContextLost())return;ee.supported=!0}catch{}_.deleteTexture(D),ie=!0}var Ne="01";function He(){for(var _="1",D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",W="",ae=0;ae<10;ae++)W+=D[Math.floor(Math.random()*62)];var pe=12*60*60*1e3,Me=[_,Ne,W].join(""),_e=Date.now()+pe;return{token:Me,tokenExpiresAt:_e}}var Ce=function(D,W){this._transformRequestFn=D,this._customAccessToken=W,this._createSkuToken()};Ce.prototype._createSkuToken=function(){var D=He();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},Ce.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ce.prototype.transformRequest=function(D,W){return this._transformRequestFn?this._transformRequestFn(D,W)||{url:D}:{url:D}},Ce.prototype.normalizeStyleURL=function(D,W){if(!be(D))return D;var ae=nt(D);return ae.path="/styles/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||W)},Ce.prototype.normalizeGlyphsURL=function(D,W){if(!be(D))return D;var ae=nt(D);return ae.path="/fonts/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||W)},Ce.prototype.normalizeSourceURL=function(D,W){if(!be(D))return D;var ae=nt(D);return ae.path="/v4/"+ae.authority+".json",ae.params.push("secure"),this._makeAPIURL(ae,this._customAccessToken||W)},Ce.prototype.normalizeSpriteURL=function(D,W,ae,pe){var Me=nt(D);return be(D)?(Me.path="/styles/v1"+Me.path+"/sprite"+W+ae,this._makeAPIURL(Me,this._customAccessToken||pe)):(Me.path+=""+W+ae,qe(Me))},Ce.prototype.normalizeTileURL=function(D,W){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!be(D))return D;var ae=nt(D),pe=/(\.(png|jpg)\d*)(?=$)/,Me=/^.+\/v4\//,_e=se.devicePixelRatio>=2||W===512?"@2x":"",Qe=ee.supported?".webp":"$1";ae.path=ae.path.replace(pe,""+_e+Qe),ae.path=ae.path.replace(Me,"/"),ae.path="/v4"+ae.path;var dt=this._customAccessToken||Pe(ae.params)||Q.ACCESS_TOKEN;return Q.REQUIRE_ACCESS_TOKEN&&dt&&this._skuToken&&ae.params.push("sku="+this._skuToken),this._makeAPIURL(ae,dt)},Ce.prototype.canonicalizeTileURL=function(D,W){var ae="/v4/",pe=/\.[\w]+$/,Me=nt(D);if(!Me.path.match(/(^\/v4\/)/)||!Me.path.match(pe))return D;var _e="mapbox://tiles/";_e+=Me.path.replace(ae,"");var Qe=Me.params;return W&&(Qe=Qe.filter(function(dt){return!dt.match(/^access_token=/)})),Qe.length&&(_e+="?"+Qe.join("&")),_e},Ce.prototype.canonicalizeTileset=function(D,W){for(var ae=W?be(W):!1,pe=[],Me=0,_e=D.tiles||[];Me<_e.length;Me+=1){var Qe=_e[Me];ke(Qe)?pe.push(this.canonicalizeTileURL(Qe,ae)):pe.push(Qe)}return pe},Ce.prototype._makeAPIURL=function(D,W){var ae="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",pe=nt(Q.API_URL);if(D.protocol=pe.protocol,D.authority=pe.authority,pe.path!=="/"&&(D.path=""+pe.path+D.path),!Q.REQUIRE_ACCESS_TOKEN)return qe(D);if(W=W||Q.ACCESS_TOKEN,!W)throw new Error("An API access token is required to use Mapbox GL. "+ae);if(W[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ae);return D.params=D.params.filter(function(Me){return Me.indexOf("access_token")===-1}),D.params.push("access_token="+W),qe(D)};function be(_){return _.indexOf("mapbox:")===0}var we=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function ke(_){return we.test(_)}function Fe(_){return _.indexOf("sku=")>0&&ke(_)}function Pe(_){for(var D=0,W=_;D<W.length;D+=1){var ae=W[D],pe=ae.match(/^access_token=(.*)$/);if(pe)return pe[1]}return null}var Ge=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function nt(_){var D=_.match(Ge);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function qe(_){var D=_.params.length?"?"+_.params.join("&"):"";return _.protocol+"://"+_.authority+_.path+D}var Ke="mapbox.eventData";function $e(_){if(!_)return null;var D=_.split(".");if(!D||D.length!==3)return null;try{var W=JSON.parse(ve(D[1]));return W}catch{return null}}var vt=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};vt.prototype.getStorageKey=function(D){var W=$e(Q.ACCESS_TOKEN),ae="";return W&&W.u?ae=oe(W.u):ae=Q.ACCESS_TOKEN||"",D?Ke+"."+D+":"+ae:Ke+":"+ae},vt.prototype.fetchEventData=function(){var D=ne("localStorage"),W=this.getStorageKey(),ae=this.getStorageKey("uuid");if(D)try{var pe=self.localStorage.getItem(W);pe&&(this.eventData=JSON.parse(pe));var Me=self.localStorage.getItem(ae);Me&&(this.anonId=Me)}catch{U("Unable to read from LocalStorage")}},vt.prototype.saveEventData=function(){var D=ne("localStorage"),W=this.getStorageKey(),ae=this.getStorageKey("uuid");if(D)try{self.localStorage.setItem(ae,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(W,JSON.stringify(this.eventData))}catch{U("Unable to write to LocalStorage")}},vt.prototype.processRequests=function(D){},vt.prototype.postEvent=function(D,W,ae,pe){var Me=this;if(Q.EVENTS_URL){var _e=nt(Q.EVENTS_URL);_e.params.push("access_token="+(pe||Q.ACCESS_TOKEN||""));var Qe={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:T,skuId:Ne,userId:this.anonId},dt=W?o(Qe,W):Qe,Mt={url:qe(_e),headers:{"Content-Type":"text/plain"},body:JSON.stringify([dt])};this.pendingRequest=Rt(Mt,function(Lt){Me.pendingRequest=null,ae(Lt),Me.saveEventData(),Me.processRequests(pe)})}},vt.prototype.queueRequest=function(D,W){this.queue.push(D),this.processRequests(W)};var yt=function(_){function D(){_.call(this,"map.load"),this.success={},this.skuToken=""}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(ae,pe,Me,_e){this.skuToken=Me,(Q.EVENTS_URL&&_e||Q.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Qe){return be(Qe)||ke(Qe)}))&&this.queueRequest({id:pe,timestamp:Date.now()},_e)},D.prototype.processRequests=function(ae){var pe=this;if(!(this.pendingRequest||this.queue.length===0)){var Me=this.queue.shift(),_e=Me.id,Qe=Me.timestamp;_e&&this.success[_e]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=C()),this.postEvent(Qe,{skuToken:this.skuToken},function(dt){dt||_e&&(pe.success[_e]=!0)},ae))}},D}(vt),mt=function(_){function D(W){_.call(this,"appUserTurnstile"),this._customAccessToken=W}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(ae,pe){Q.EVENTS_URL&&Q.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Me){return be(Me)||ke(Me)})&&this.queueRequest(Date.now(),pe)},D.prototype.processRequests=function(ae){var pe=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Me=$e(Q.ACCESS_TOKEN),_e=Me?Me.u:Q.ACCESS_TOKEN,Qe=_e!==this.eventData.tokenU;m(this.anonId)||(this.anonId=C(),Qe=!0);var dt=this.queue.shift();if(this.eventData.lastSuccess){var Mt=new Date(this.eventData.lastSuccess),Lt=new Date(dt),Yt=(dt-this.eventData.lastSuccess)/(24*60*60*1e3);Qe=Qe||Yt>=1||Yt<-1||Mt.getDate()!==Lt.getDate()}else Qe=!0;if(!Qe)return this.processRequests();this.postEvent(dt,{"enabled.telemetry":!1},function(fr){fr||(pe.eventData.lastSuccess=dt,pe.eventData.tokenU=_e)},ae)}},D}(vt),Et=new mt,Xe=Et.postTurnstileEvent.bind(Et),Ue=new yt,Be=Ue.postMapLoadEvent.bind(Ue),rt="mapbox-tiles",it=500,Ye=50,De=1e3*60*7,Te;function fe(){self.caches&&!Te&&(Te=self.caches.open(rt))}var me;function Re(_,D){if(me===void 0)try{new Response(new ReadableStream),me=!0}catch{me=!1}me?D(_.body):_.blob().then(D)}function Oe(_,D,W){if(fe(),!!Te){var ae={status:D.status,statusText:D.statusText,headers:new self.Headers};D.headers.forEach(function(_e,Qe){return ae.headers.set(Qe,_e)});var pe=H(D.headers.get("Cache-Control")||"");if(!pe["no-store"]){pe["max-age"]&&ae.headers.set("Expires",new Date(W+pe["max-age"]*1e3).toUTCString());var Me=new Date(ae.headers.get("Expires")).getTime()-W;Me<De||Re(D,function(_e){var Qe=new self.Response(_e,ae);fe(),Te&&Te.then(function(dt){return dt.put(st(_.url),Qe)}).catch(function(dt){return U(dt.message)})})}}}function st(_){var D=_.indexOf("?");return D<0?_:_.slice(0,D)}function ut(_,D){if(fe(),!Te)return D(null);var W=st(_.url);Te.then(function(ae){ae.match(W).then(function(pe){var Me=Tt(pe);ae.delete(W),Me&&ae.put(W,pe.clone()),D(null,pe,Me)}).catch(D)}).catch(D)}function Tt(_){if(!_)return!1;var D=new Date(_.headers.get("Expires")||0),W=H(_.headers.get("Cache-Control")||"");return D>Date.now()&&!W["no-cache"]}var It=1/0;function Gt(_){It++,It>Ye&&(_.getActor().send("enforceCacheSizeLimit",it),It=0)}function jt(_){fe(),Te&&Te.then(function(D){D.keys().then(function(W){for(var ae=0;ae<W.length-_;ae++)D.delete(W[ae])})})}function Pt(_){var D=self.caches.delete(rt);_&&D.catch(_).then(function(){return _()})}function Qt(_,D){it=_,Ye=D}var or;function zr(){return or==null&&(or=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),or}var bt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(bt);var Jt=function(_){function D(W,ae,pe){ae===401&&ke(pe)&&(W+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),_.call(this,W),this.status=ae,this.url=pe,this.name=this.constructor.name,this.message=W}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),Zt=F()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href},Ar=function(_){return/^file:/.test(_)||/^file:/.test(Zt())&&!/^\w+:/.test(_)};function dr(_,D){var W=new self.AbortController,ae=new self.Request(_.url,{method:_.method||"GET",body:_.body,credentials:_.credentials,headers:_.headers,referrer:Zt(),signal:W.signal}),pe=!1,Me=!1,_e=Fe(ae.url);_.type==="json"&&ae.headers.set("Accept","application/json");var Qe=function(Mt,Lt,Yt){if(!Me){if(Mt&&Mt.message!=="SecurityError"&&U(Mt),Lt&&Yt)return dt(Lt);var fr=Date.now();self.fetch(ae).then(function(tr){if(tr.ok){var wr=_e?tr.clone():null;return dt(tr,wr,fr)}else return D(new Jt(tr.statusText,tr.status,_.url))}).catch(function(tr){tr.code!==20&&D(new Error(tr.message))})}},dt=function(Mt,Lt,Yt){(_.type==="arrayBuffer"?Mt.arrayBuffer():_.type==="json"?Mt.json():Mt.text()).then(function(fr){Me||(Lt&&Yt&&Oe(ae,Lt,Yt),pe=!0,D(null,fr,Mt.headers.get("Cache-Control"),Mt.headers.get("Expires")))}).catch(function(fr){Me||D(new Error(fr.message))})};return _e?ut(ae,Qe):Qe(null,null),{cancel:function(){Me=!0,pe||W.abort()}}}function ht(_,D){var W=new self.XMLHttpRequest;W.open(_.method||"GET",_.url,!0),_.type==="arrayBuffer"&&(W.responseType="arraybuffer");for(var ae in _.headers)W.setRequestHeader(ae,_.headers[ae]);return _.type==="json"&&(W.responseType="text",W.setRequestHeader("Accept","application/json")),W.withCredentials=_.credentials==="include",W.onerror=function(){D(new Error(W.statusText))},W.onload=function(){if((W.status>=200&&W.status<300||W.status===0)&&W.response!==null){var pe=W.response;if(_.type==="json")try{pe=JSON.parse(W.response)}catch(Me){return D(Me)}D(null,pe,W.getResponseHeader("Cache-Control"),W.getResponseHeader("Expires"))}else D(new Jt(W.statusText,W.status,_.url))},W.send(_.body),{cancel:function(){return W.abort()}}}var ct=function(_,D){if(!Ar(_.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return dr(_,D);if(F()&&self.worker&&self.worker.actor){var W=!0;return self.worker.actor.send("getResource",_,D,void 0,W)}}return ht(_,D)},wt=function(_,D){return ct(o(_,{type:"json"}),D)},St=function(_,D){return ct(o(_,{type:"arrayBuffer"}),D)},Rt=function(_,D){return ct(o(_,{method:"POST"}),D)};function Ct(_){var D=self.document.createElement("a");return D.href=_,D.protocol===self.document.location.protocol&&D.host===self.document.location.host}var Ot="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Wt(_,D,W,ae){var pe=new self.Image,Me=self.URL;pe.onload=function(){D(null,pe),Me.revokeObjectURL(pe.src)},pe.onerror=function(){return D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var _e=new self.Blob([new Uint8Array(_)],{type:"image/png"});pe.cacheControl=W,pe.expires=ae,pe.src=_.byteLength?Me.createObjectURL(_e):Ot}function er(_,D){var W=new self.Blob([new Uint8Array(_)],{type:"image/png"});self.createImageBitmap(W).then(function(ae){D(null,ae)}).catch(function(ae){D(new Error("Could not load image because of "+ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var $t,sr,Cr=function(){$t=[],sr=0};Cr();var je=function(_,D){if(ee.supported&&(_.headers||(_.headers={}),_.headers.accept="image/webp,*/*"),sr>=Q.MAX_PARALLEL_IMAGE_REQUESTS){var W={requestParameters:_,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return $t.push(W),W}sr++;var ae=!1,pe=function(){if(!ae)for(ae=!0,sr--;$t.length&&sr<Q.MAX_PARALLEL_IMAGE_REQUESTS;){var _e=$t.shift(),Qe=_e.requestParameters,dt=_e.callback,Mt=_e.cancelled;Mt||(_e.cancel=je(Qe,dt).cancel)}},Me=St(_,function(_e,Qe,dt,Mt){pe(),_e?D(_e):Qe&&(zr()?er(Qe,D):Wt(Qe,D,dt,Mt))});return{cancel:function(){Me.cancel(),pe()}}},We=function(_,D){var W=self.document.createElement("video");W.muted=!0,W.onloadstart=function(){D(null,W)};for(var ae=0;ae<_.length;ae++){var pe=self.document.createElement("source");Ct(_[ae])||(W.crossOrigin="Anonymous"),pe.src=_[ae],W.appendChild(pe)}return{cancel:function(){}}};function kt(_,D,W){var ae=W[_]&&W[_].indexOf(D)!==-1;ae||(W[_]=W[_]||[],W[_].push(D))}function zt(_,D,W){if(W&&W[_]){var ae=W[_].indexOf(D);ae!==-1&&W[_].splice(ae,1)}}var Xt=function(D,W){W===void 0&&(W={}),o(this,W),this.type=D},lr=function(_){function D(W,ae){ae===void 0&&(ae={}),_.call(this,"error",o({error:W},ae))}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D}(Xt),cr=function(){};cr.prototype.on=function(D,W){return this._listeners=this._listeners||{},kt(D,W,this._listeners),this},cr.prototype.off=function(D,W){return zt(D,W,this._listeners),zt(D,W,this._oneTimeListeners),this},cr.prototype.once=function(D,W){return this._oneTimeListeners=this._oneTimeListeners||{},kt(D,W,this._oneTimeListeners),this},cr.prototype.fire=function(D,W){typeof D=="string"&&(D=new Xt(D,W||{}));var ae=D.type;if(this.listens(ae)){D.target=this;for(var pe=this._listeners&&this._listeners[ae]?this._listeners[ae].slice():[],Me=0,_e=pe;Me<_e.length;Me+=1){var Qe=_e[Me];Qe.call(this,D)}for(var dt=this._oneTimeListeners&&this._oneTimeListeners[ae]?this._oneTimeListeners[ae].slice():[],Mt=0,Lt=dt;Mt<Lt.length;Mt+=1){var Yt=Lt[Mt];zt(ae,Yt,this._oneTimeListeners),Yt.call(this,D)}var fr=this._eventedParent;fr&&(o(D,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),fr.fire(D))}else D instanceof lr&&console.error(D.error);return this},cr.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},cr.prototype.setEventedParent=function(D,W){return this._eventedParent=D,this._eventedParentData=W,this};var nr=8,Bt={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},vr={"*":{type:"source"}},yr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],mr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},gr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},Zr={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},Ur={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Br={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Tn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Kr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Bn=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],On={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Tr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Mr={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Hr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Vr={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},nn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},bn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},dn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Pn={type:"array",value:"*"},zn={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},ta={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},oa={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},ya={type:"array",value:"*",minimum:1},ca={type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},la={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Pr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],hn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},un={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},wn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Zn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},In={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Dn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},jn={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},va={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ia={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},hi={"*":{type:"string"}},Kt={$version:nr,$root:Bt,sources:vr,source:yr,source_vector:mr,source_raster:gr,source_raster_dem:Zr,source_geojson:Ur,source_video:Br,source_image:Tn,layer:Kr,layout:Bn,layout_background:On,layout_fill:Tr,layout_circle:Mr,layout_heatmap:Hr,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Vr,layout_symbol:nn,layout_raster:bn,layout_hillshade:dn,filter:Pn,filter_operator:zn,geometry_type:ta,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:oa,expression:ya,expression_name:ca,light:la,paint:Pr,paint_fill:hn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:un,paint_circle:wn,paint_heatmap:Zn,paint_symbol:In,paint_raster:Dn,paint_hillshade:jn,paint_background:va,transition:Ia,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:hi},Sr=function(D,W,ae,pe){this.message=(D?D+": ":"")+ae,pe&&(this.identifier=pe),W!=null&&W.__line__&&(this.line=W.__line__)};function fn(_){var D=_.key,W=_.value;return W?[new Sr(D,W,"constants have been deprecated as of v8")]:[]}function gn(_){for(var D=[],W=arguments.length-1;W-- >0;)D[W]=arguments[W+1];for(var ae=0,pe=D;ae<pe.length;ae+=1){var Me=pe[ae];for(var _e in Me)_[_e]=Me[_e]}return _}function yn(_){return _ instanceof Number||_ instanceof String||_ instanceof Boolean?_.valueOf():_}function Fn(_){if(Array.isArray(_))return _.map(Fn);if(_ instanceof Object&&!(_ instanceof Number||_ instanceof String||_ instanceof Boolean)){var D={};for(var W in _)D[W]=Fn(_[W]);return D}return yn(_)}var Ln=function(_){function D(W,ae){_.call(this,ae),this.message=ae,this.key=W}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D}(Error),ln=function(D,W){W===void 0&&(W=[]),this.parent=D,this.bindings={};for(var ae=0,pe=W;ae<pe.length;ae+=1){var Me=pe[ae],_e=Me[0],Qe=Me[1];this.bindings[_e]=Qe}};ln.prototype.concat=function(D){return new ln(this,D)},ln.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},ln.prototype.has=function(D){return this.bindings[D]?!0:this.parent?this.parent.has(D):!1};var Ir={kind:"null"},Rr={kind:"number"},Nr={kind:"string"},xn={kind:"boolean"},Hn={kind:"color"},Qn={kind:"object"},An={kind:"value"},Wn={kind:"error"},ua={kind:"collator"},ma={kind:"formatted"},da={kind:"resolvedImage"};function pa(_,D){return{kind:"array",itemType:_,N:D}}function ba(_){if(_.kind==="array"){var D=ba(_.itemType);return typeof _.N=="number"?"array<"+D+", "+_.N+">":_.itemType.kind==="value"?"array":"array<"+D+">"}else return _.kind}var So=[Ir,Rr,Nr,xn,Hn,ma,Qn,pa(An),da];function _o(_,D){if(D.kind==="error")return null;if(_.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!_o(_.itemType,D.itemType))&&(typeof _.N!="number"||_.N===D.N))return null}else{if(_.kind===D.kind)return null;if(_.kind==="value")for(var W=0,ae=So;W<ae.length;W+=1){var pe=ae[W];if(!_o(pe,D))return null}}return"Expected "+ba(_)+" but found "+ba(D)+" instead."}function Go(_,D){return D.some(function(W){return W.kind===_.kind})}function Ko(_,D){return D.some(function(W){return W==="null"?_===null:W==="array"?Array.isArray(_):W==="object"?_&&!Array.isArray(_)&&typeof _=="object":W===typeof _})}var Wo=L(function(_,D){var W={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ae(Mt){return Mt=Math.round(Mt),Mt<0?0:Mt>255?255:Mt}function pe(Mt){return Mt<0?0:Mt>1?1:Mt}function Me(Mt){return Mt[Mt.length-1]==="%"?ae(parseFloat(Mt)/100*255):ae(parseInt(Mt))}function _e(Mt){return Mt[Mt.length-1]==="%"?pe(parseFloat(Mt)/100):pe(parseFloat(Mt))}function Qe(Mt,Lt,Yt){return Yt<0?Yt+=1:Yt>1&&(Yt-=1),Yt*6<1?Mt+(Lt-Mt)*Yt*6:Yt*2<1?Lt:Yt*3<2?Mt+(Lt-Mt)*(2/3-Yt)*6:Mt}function dt(Mt){var Lt=Mt.replace(/ /g,"").toLowerCase();if(Lt in W)return W[Lt].slice();if(Lt[0]==="#"){if(Lt.length===4){var Yt=parseInt(Lt.substr(1),16);return Yt>=0&&Yt<=4095?[(Yt&3840)>>4|(Yt&3840)>>8,Yt&240|(Yt&240)>>4,Yt&15|(Yt&15)<<4,1]:null}else if(Lt.length===7){var Yt=parseInt(Lt.substr(1),16);return Yt>=0&&Yt<=16777215?[(Yt&16711680)>>16,(Yt&65280)>>8,Yt&255,1]:null}return null}var fr=Lt.indexOf("("),tr=Lt.indexOf(")");if(fr!==-1&&tr+1===Lt.length){var wr=Lt.substr(0,fr),Gr=Lt.substr(fr+1,tr-(fr+1)).split(","),cn=1;switch(wr){case"rgba":if(Gr.length!==4)return null;cn=_e(Gr.pop());case"rgb":return Gr.length!==3?null:[Me(Gr[0]),Me(Gr[1]),Me(Gr[2]),cn];case"hsla":if(Gr.length!==4)return null;cn=_e(Gr.pop());case"hsl":if(Gr.length!==3)return null;var rn=(parseFloat(Gr[0])%360+360)%360/360,_n=_e(Gr[1]),En=_e(Gr[2]),Rn=En<=.5?En*(_n+1):En+_n-En*_n,Un=En*2-Rn;return[ae(Qe(Un,Rn,rn+1/3)*255),ae(Qe(Un,Rn,rn)*255),ae(Qe(Un,Rn,rn-1/3)*255),cn];default:return null}}return null}try{D.parseCSSColor=dt}catch{}}),Uu=Wo.parseCSSColor,xi=function(D,W,ae,pe){pe===void 0&&(pe=1),this.r=D,this.g=W,this.b=ae,this.a=pe};xi.parse=function(D){if(D){if(D instanceof xi)return D;if(typeof D=="string"){var W=Uu(D);if(W)return new xi(W[0]/255*W[3],W[1]/255*W[3],W[2]/255*W[3],W[3])}}},xi.prototype.toString=function(){var D=this.toArray(),W=D[0],ae=D[1],pe=D[2],Me=D[3];return"rgba("+Math.round(W)+","+Math.round(ae)+","+Math.round(pe)+","+Me+")"},xi.prototype.toArray=function(){var D=this,W=D.r,ae=D.g,pe=D.b,Me=D.a;return Me===0?[0,0,0,0]:[W*255/Me,ae*255/Me,pe*255/Me,Me]},xi.black=new xi(0,0,0,1),xi.white=new xi(1,1,1,1),xi.transparent=new xi(0,0,0,0),xi.red=new xi(1,0,0,1);var Fl=function(D,W,ae){D?this.sensitivity=W?"variant":"case":this.sensitivity=W?"accent":"base",this.locale=ae,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Fl.prototype.compare=function(D,W){return this.collator.compare(D,W)},Fl.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Jl=function(D,W,ae,pe,Me){this.text=D,this.image=W,this.scale=ae,this.fontStack=pe,this.textColor=Me},Do=function(D){this.sections=D};Do.fromString=function(D){return new Do([new Jl(D,null,null,null,null)])},Do.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(D){return D.text.length!==0||D.image&&D.image.name.length!==0})},Do.factory=function(D){return D instanceof Do?D:Do.fromString(D)},Do.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(D){return D.text}).join("")},Do.prototype.serialize=function(){for(var D=["format"],W=0,ae=this.sections;W<ae.length;W+=1){var pe=ae[W];if(pe.image){D.push(["image",pe.image.name]);continue}D.push(pe.text);var Me={};pe.fontStack&&(Me["text-font"]=["literal",pe.fontStack.split(",")]),pe.scale&&(Me["font-scale"]=pe.scale),pe.textColor&&(Me["text-color"]=["rgba"].concat(pe.textColor.toArray())),D.push(Me)}return D};var bo=function(D){this.name=D.name,this.available=D.available};bo.prototype.toString=function(){return this.name},bo.fromString=function(D){return D?new bo({name:D,available:!1}):null},bo.prototype.serialize=function(){return["image",this.name]};function uf(_,D,W,ae){if(!(typeof _=="number"&&_>=0&&_<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof W=="number"&&W>=0&&W<=255)){var pe=typeof ae=="number"?[_,D,W,ae]:[_,D,W];return"Invalid rgba value ["+pe.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ae>"u"||typeof ae=="number"&&ae>=0&&ae<=1?null:"Invalid rgba value ["+[_,D,W,ae].join(", ")+"]: 'a' must be between 0 and 1."}function Ql(_){if(_===null)return!0;if(typeof _=="string")return!0;if(typeof _=="boolean")return!0;if(typeof _=="number")return!0;if(_ instanceof xi)return!0;if(_ instanceof Fl)return!0;if(_ instanceof Do)return!0;if(_ instanceof bo)return!0;if(Array.isArray(_)){for(var D=0,W=_;D<W.length;D+=1){var ae=W[D];if(!Ql(ae))return!1}return!0}else if(typeof _=="object"){for(var pe in _)if(!Ql(_[pe]))return!1;return!0}else return!1}function Xi(_){if(_===null)return Ir;if(typeof _=="string")return Nr;if(typeof _=="boolean")return xn;if(typeof _=="number")return Rr;if(_ instanceof xi)return Hn;if(_ instanceof Fl)return ua;if(_ instanceof Do)return ma;if(_ instanceof bo)return da;if(Array.isArray(_)){for(var D=_.length,W,ae=0,pe=_;ae<pe.length;ae+=1){var Me=pe[ae],_e=Xi(Me);if(!W)W=_e;else{if(W===_e)continue;W=An;break}}return pa(W||An,D)}else return Qn}function $l(_){var D=typeof _;return _===null?"":D==="string"||D==="number"||D==="boolean"?String(_):_ instanceof xi||_ instanceof Do||_ instanceof bo?_.toString():JSON.stringify(_)}var ss=function(D,W){this.type=D,this.value=W};ss.parse=function(D,W){if(D.length!==2)return W.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!Ql(D[1]))return W.error("invalid value");var ae=D[1],pe=Xi(ae),Me=W.expectedType;return pe.kind==="array"&&pe.N===0&&Me&&Me.kind==="array"&&(typeof Me.N!="number"||Me.N===0)&&(pe=Me),new ss(pe,ae)},ss.prototype.evaluate=function(){return this.value},ss.prototype.eachChild=function(){},ss.prototype.outputDefined=function(){return!0},ss.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof xi?["rgba"].concat(this.value.toArray()):this.value instanceof Do?this.value.serialize():this.value};var wo=function(D){this.name="ExpressionEvaluationError",this.message=D};wo.prototype.toJSON=function(){return this.message};var ps={string:Nr,number:Rr,boolean:xn,object:Qn},jo=function(D,W){this.type=D,this.args=W};jo.parse=function(D,W){if(D.length<2)return W.error("Expected at least one argument.");var ae=1,pe,Me=D[0];if(Me==="array"){var _e;if(D.length>2){var Qe=D[1];if(typeof Qe!="string"||!(Qe in ps)||Qe==="object")return W.error('The item type argument of "array" must be one of string, number, boolean',1);_e=ps[Qe],ae++}else _e=An;var dt;if(D.length>3){if(D[2]!==null&&(typeof D[2]!="number"||D[2]<0||D[2]!==Math.floor(D[2])))return W.error('The length argument to "array" must be a positive integer literal',2);dt=D[2],ae++}pe=pa(_e,dt)}else pe=ps[Me];for(var Mt=[];ae<D.length;ae++){var Lt=W.parse(D[ae],ae,An);if(!Lt)return null;Mt.push(Lt)}return new jo(pe,Mt)},jo.prototype.evaluate=function(D){for(var W=0;W<this.args.length;W++){var ae=this.args[W].evaluate(D),pe=_o(this.type,Xi(ae));if(pe){if(W===this.args.length-1)throw new wo("Expected value to be of type "+ba(this.type)+", but found "+ba(Xi(ae))+" instead.")}else return ae}return null},jo.prototype.eachChild=function(D){this.args.forEach(D)},jo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},jo.prototype.serialize=function(){var D=this.type,W=[D.kind];if(D.kind==="array"){var ae=D.itemType;if(ae.kind==="string"||ae.kind==="number"||ae.kind==="boolean"){W.push(ae.kind);var pe=D.N;(typeof pe=="number"||this.args.length>1)&&W.push(pe)}}return W.concat(this.args.map(function(Me){return Me.serialize()}))};var To=function(D){this.type=ma,this.sections=D};To.parse=function(D,W){if(D.length<2)return W.error("Expected at least one argument.");var ae=D[1];if(!Array.isArray(ae)&&typeof ae=="object")return W.error("First argument must be an image or text section.");for(var pe=[],Me=!1,_e=1;_e<=D.length-1;++_e){var Qe=D[_e];if(Me&&typeof Qe=="object"&&!Array.isArray(Qe)){Me=!1;var dt=null;if(Qe["font-scale"]&&(dt=W.parse(Qe["font-scale"],1,Rr),!dt))return null;var Mt=null;if(Qe["text-font"]&&(Mt=W.parse(Qe["text-font"],1,pa(Nr)),!Mt))return null;var Lt=null;if(Qe["text-color"]&&(Lt=W.parse(Qe["text-color"],1,Hn),!Lt))return null;var Yt=pe[pe.length-1];Yt.scale=dt,Yt.font=Mt,Yt.textColor=Lt}else{var fr=W.parse(D[_e],1,An);if(!fr)return null;var tr=fr.type.kind;if(tr!=="string"&&tr!=="value"&&tr!=="null"&&tr!=="resolvedImage")return W.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Me=!0,pe.push({content:fr,scale:null,font:null,textColor:null})}}return new To(pe)},To.prototype.evaluate=function(D){var W=function(ae){var pe=ae.content.evaluate(D);return Xi(pe)===da?new Jl("",pe,null,null,null):new Jl($l(pe),null,ae.scale?ae.scale.evaluate(D):null,ae.font?ae.font.evaluate(D).join(","):null,ae.textColor?ae.textColor.evaluate(D):null)};return new Do(this.sections.map(W))},To.prototype.eachChild=function(D){for(var W=0,ae=this.sections;W<ae.length;W+=1){var pe=ae[W];D(pe.content),pe.scale&&D(pe.scale),pe.font&&D(pe.font),pe.textColor&&D(pe.textColor)}},To.prototype.outputDefined=function(){return!1},To.prototype.serialize=function(){for(var D=["format"],W=0,ae=this.sections;W<ae.length;W+=1){var pe=ae[W];D.push(pe.content.serialize());var Me={};pe.scale&&(Me["font-scale"]=pe.scale.serialize()),pe.font&&(Me["text-font"]=pe.font.serialize()),pe.textColor&&(Me["text-color"]=pe.textColor.serialize()),D.push(Me)}return D};var _s=function(D){this.type=da,this.input=D};_s.parse=function(D,W){if(D.length!==2)return W.error("Expected two arguments.");var ae=W.parse(D[1],1,Nr);return ae?new _s(ae):W.error("No image name provided.")},_s.prototype.evaluate=function(D){var W=this.input.evaluate(D),ae=bo.fromString(W);return ae&&D.availableImages&&(ae.available=D.availableImages.indexOf(W)>-1),ae},_s.prototype.eachChild=function(D){D(this.input)},_s.prototype.outputDefined=function(){return!1},_s.prototype.serialize=function(){return["image",this.input.serialize()]};var qs={"to-boolean":xn,"to-color":Hn,"to-number":Rr,"to-string":Nr},Oo=function(D,W){this.type=D,this.args=W};Oo.parse=function(D,W){if(D.length<2)return W.error("Expected at least one argument.");var ae=D[0];if((ae==="to-boolean"||ae==="to-string")&&D.length!==2)return W.error("Expected one argument.");for(var pe=qs[ae],Me=[],_e=1;_e<D.length;_e++){var Qe=W.parse(D[_e],_e,An);if(!Qe)return null;Me.push(Qe)}return new Oo(pe,Me)},Oo.prototype.evaluate=function(D){if(this.type.kind==="boolean")return!!this.args[0].evaluate(D);if(this.type.kind==="color"){for(var W,ae,pe=0,Me=this.args;pe<Me.length;pe+=1){var _e=Me[pe];if(W=_e.evaluate(D),ae=null,W instanceof xi)return W;if(typeof W=="string"){var Qe=D.parseColor(W);if(Qe)return Qe}else if(Array.isArray(W)&&(W.length<3||W.length>4?ae="Invalid rbga value "+JSON.stringify(W)+": expected an array containing either three or four numeric values.":ae=uf(W[0],W[1],W[2],W[3]),!ae))return new xi(W[0]/255,W[1]/255,W[2]/255,W[3])}throw new wo(ae||"Could not parse color from value '"+(typeof W=="string"?W:String(JSON.stringify(W)))+"'")}else if(this.type.kind==="number"){for(var dt=null,Mt=0,Lt=this.args;Mt<Lt.length;Mt+=1){var Yt=Lt[Mt];if(dt=Yt.evaluate(D),dt===null)return 0;var fr=Number(dt);if(!isNaN(fr))return fr}throw new wo("Could not convert "+JSON.stringify(dt)+" to number.")}else return this.type.kind==="formatted"?Do.fromString($l(this.args[0].evaluate(D))):this.type.kind==="resolvedImage"?bo.fromString($l(this.args[0].evaluate(D))):$l(this.args[0].evaluate(D))},Oo.prototype.eachChild=function(D){this.args.forEach(D)},Oo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Oo.prototype.serialize=function(){if(this.type.kind==="formatted")return new To([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new _s(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(W){D.push(W.serialize())}),D};var Hf=["Unknown","Point","LineString","Polygon"],Hs=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Hs.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Hs.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Hf[this.feature.type]:this.feature.type:null},Hs.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Hs.prototype.canonicalID=function(){return this.canonical},Hs.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Hs.prototype.parseColor=function(D){var W=this._parseColorCache[D];return W||(W=this._parseColorCache[D]=xi.parse(D)),W};var No=function(D,W,ae,pe){this.name=D,this.type=W,this._evaluate=ae,this.args=pe};No.prototype.evaluate=function(D){return this._evaluate(D,this.args)},No.prototype.eachChild=function(D){this.args.forEach(D)},No.prototype.outputDefined=function(){return!1},No.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},No.parse=function(D,W){var ae,pe=D[0],Me=No.definitions[pe];if(!Me)return W.error('Unknown expression "'+pe+'". If you wanted a literal array, use ["literal", [...]].',0);for(var _e=Array.isArray(Me)?Me[0]:Me.type,Qe=Array.isArray(Me)?[[Me[1],Me[2]]]:Me.overloads,dt=Qe.filter(function(Da){var Fa=Da[0];return!Array.isArray(Fa)||Fa.length===D.length-1}),Mt=null,Lt=0,Yt=dt;Lt<Yt.length;Lt+=1){var fr=Yt[Lt],tr=fr[0],wr=fr[1];Mt=new Qo(W.registry,W.path,null,W.scope);for(var Gr=[],cn=!1,rn=1;rn<D.length;rn++){var _n=D[rn],En=Array.isArray(tr)?tr[rn-1]:tr.type,Rn=Mt.parse(_n,1+Gr.length,En);if(!Rn){cn=!0;break}Gr.push(Rn)}if(!cn){if(Array.isArray(tr)&&tr.length!==Gr.length){Mt.error("Expected "+tr.length+" arguments, but found "+Gr.length+" instead.");continue}for(var Un=0;Un<Gr.length;Un++){var Kn=Array.isArray(tr)?tr[Un]:tr.type,fa=Gr[Un];Mt.concat(Un+1).checkSubtype(Kn,fa.type)}if(Mt.errors.length===0)return new No(pe,_e,wr,Gr)}}if(dt.length===1)(ae=W.errors).push.apply(ae,Mt.errors);else{for(var sa=dt.length?dt:Qe,Oa=sa.map(function(Da){var Fa=Da[0];return ff(Fa)}).join(" | "),Ta=[],La=1;La<D.length;La++){var qa=W.parse(D[La],1+Ta.length);if(!qa)return null;Ta.push(ba(qa.type))}W.error("Expected arguments of type "+Oa+", but found ("+Ta.join(", ")+") instead.")}return null},No.register=function(D,W){No.definitions=W;for(var ae in W)D[ae]=No};function ff(_){return Array.isArray(_)?"("+_.map(ba).join(", ")+")":"("+ba(_.type)+"...)"}var el=function(D,W,ae){this.type=ua,this.locale=ae,this.caseSensitive=D,this.diacriticSensitive=W};el.parse=function(D,W){if(D.length!==2)return W.error("Expected one argument.");var ae=D[1];if(typeof ae!="object"||Array.isArray(ae))return W.error("Collator options argument must be an object.");var pe=W.parse(ae["case-sensitive"]===void 0?!1:ae["case-sensitive"],1,xn);if(!pe)return null;var Me=W.parse(ae["diacritic-sensitive"]===void 0?!1:ae["diacritic-sensitive"],1,xn);if(!Me)return null;var _e=null;return ae.locale&&(_e=W.parse(ae.locale,1,Nr),!_e)?null:new el(pe,Me,_e)},el.prototype.evaluate=function(D){return new Fl(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},el.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},el.prototype.outputDefined=function(){return!1},el.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var Vs=8192;function gu(_,D){_[0]=Math.min(_[0],D[0]),_[1]=Math.min(_[1],D[1]),_[2]=Math.max(_[2],D[0]),_[3]=Math.max(_[3],D[1])}function ql(_){return(180+_)/360}function Vf(_){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+_*Math.PI/360)))/360}function eu(_,D){return!(_[0]<=D[0]||_[2]>=D[2]||_[1]<=D[1]||_[3]>=D[3])}function Hu(_,D){var W=ql(_[0]),ae=Vf(_[1]),pe=Math.pow(2,D.z);return[Math.round(W*pe*Vs),Math.round(ae*pe*Vs)]}function Gf(_,D,W){var ae=_[0]-D[0],pe=_[1]-D[1],Me=_[0]-W[0],_e=_[1]-W[1];return ae*_e-Me*pe===0&&ae*Me<=0&&pe*_e<=0}function yc(_,D,W){return D[1]>_[1]!=W[1]>_[1]&&_[0]<(W[0]-D[0])*(_[1]-D[1])/(W[1]-D[1])+D[0]}function cf(_,D){for(var W=!1,ae=0,pe=D.length;ae<pe;ae++)for(var Me=D[ae],_e=0,Qe=Me.length;_e<Qe-1;_e++){if(Gf(_,Me[_e],Me[_e+1]))return!1;yc(_,Me[_e],Me[_e+1])&&(W=!W)}return W}function mc(_,D){for(var W=0;W<D.length;W++)if(cf(_,D[W]))return!0;return!1}function zl(_,D){return _[0]*D[1]-_[1]*D[0]}function Wf(_,D,W,ae){var pe=_[0]-W[0],Me=_[1]-W[1],_e=D[0]-W[0],Qe=D[1]-W[1],dt=ae[0]-W[0],Mt=ae[1]-W[1],Lt=pe*Mt-dt*Me,Yt=_e*Mt-dt*Qe;return Lt>0&&Yt<0||Lt<0&&Yt>0}function xc(_,D,W,ae){var pe=[D[0]-_[0],D[1]-_[1]],Me=[ae[0]-W[0],ae[1]-W[1]];return zl(Me,pe)===0?!1:!!(Wf(_,D,W,ae)&&Wf(W,ae,_,D))}function Vu(_,D,W){for(var ae=0,pe=W;ae<pe.length;ae+=1)for(var Me=pe[ae],_e=0;_e<Me.length-1;++_e)if(xc(_,D,Me[_e],Me[_e+1]))return!0;return!1}function Gu(_,D){for(var W=0;W<_.length;++W)if(!cf(_[W],D))return!1;for(var ae=0;ae<_.length-1;++ae)if(Vu(_[ae],_[ae+1],D))return!1;return!0}function Ds(_,D){for(var W=0;W<D.length;W++)if(Gu(_,D[W]))return!0;return!1}function yl(_,D,W){for(var ae=[],pe=0;pe<_.length;pe++){for(var Me=[],_e=0;_e<_[pe].length;_e++){var Qe=Hu(_[pe][_e],W);gu(D,Qe),Me.push(Qe)}ae.push(Me)}return ae}function tu(_,D,W){for(var ae=[],pe=0;pe<_.length;pe++){var Me=yl(_[pe],D,W);ae.push(Me)}return ae}function Wu(_,D,W,ae){if(_[0]<W[0]||_[0]>W[2]){var pe=ae*.5,Me=_[0]-W[0]>pe?-ae:W[0]-_[0]>pe?ae:0;Me===0&&(Me=_[0]-W[2]>pe?-ae:W[2]-_[0]>pe?ae:0),_[0]+=Me}gu(D,_)}function yu(_){_[0]=_[1]=1/0,_[2]=_[3]=-1/0}function tl(_,D,W,ae){for(var pe=Math.pow(2,ae.z)*Vs,Me=[ae.x*Vs,ae.y*Vs],_e=[],Qe=0,dt=_;Qe<dt.length;Qe+=1)for(var Mt=dt[Qe],Lt=0,Yt=Mt;Lt<Yt.length;Lt+=1){var fr=Yt[Lt],tr=[fr.x+Me[0],fr.y+Me[1]];Wu(tr,D,W,pe),_e.push(tr)}return _e}function hf(_,D,W,ae){for(var pe=Math.pow(2,ae.z)*Vs,Me=[ae.x*Vs,ae.y*Vs],_e=[],Qe=0,dt=_;Qe<dt.length;Qe+=1){for(var Mt=dt[Qe],Lt=[],Yt=0,fr=Mt;Yt<fr.length;Yt+=1){var tr=fr[Yt],wr=[tr.x+Me[0],tr.y+Me[1]];gu(D,wr),Lt.push(wr)}_e.push(Lt)}if(D[2]-D[0]<=pe/2){yu(D);for(var Gr=0,cn=_e;Gr<cn.length;Gr+=1)for(var rn=cn[Gr],_n=0,En=rn;_n<En.length;_n+=1){var Rn=En[_n];Wu(Rn,D,W,pe)}}return _e}function vf(_,D){var W=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],pe=_.canonicalID();if(D.type==="Polygon"){var Me=yl(D.coordinates,ae,pe),_e=tl(_.geometry(),W,ae,pe);if(!eu(W,ae))return!1;for(var Qe=0,dt=_e;Qe<dt.length;Qe+=1){var Mt=dt[Qe];if(!cf(Mt,Me))return!1}}if(D.type==="MultiPolygon"){var Lt=tu(D.coordinates,ae,pe),Yt=tl(_.geometry(),W,ae,pe);if(!eu(W,ae))return!1;for(var fr=0,tr=Yt;fr<tr.length;fr+=1){var wr=tr[fr];if(!mc(wr,Lt))return!1}}return!0}function jf(_,D){var W=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],pe=_.canonicalID();if(D.type==="Polygon"){var Me=yl(D.coordinates,ae,pe),_e=hf(_.geometry(),W,ae,pe);if(!eu(W,ae))return!1;for(var Qe=0,dt=_e;Qe<dt.length;Qe+=1){var Mt=dt[Qe];if(!Gu(Mt,Me))return!1}}if(D.type==="MultiPolygon"){var Lt=tu(D.coordinates,ae,pe),Yt=hf(_.geometry(),W,ae,pe);if(!eu(W,ae))return!1;for(var fr=0,tr=Yt;fr<tr.length;fr+=1){var wr=tr[fr];if(!Ds(wr,Lt))return!1}}return!0}var Jo=function(D,W){this.type=xn,this.geojson=D,this.geometries=W};Jo.parse=function(D,W){if(D.length!==2)return W.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(Ql(D[1])){var ae=D[1];if(ae.type==="FeatureCollection")for(var pe=0;pe<ae.features.length;++pe){var Me=ae.features[pe].geometry.type;if(Me==="Polygon"||Me==="MultiPolygon")return new Jo(ae,ae.features[pe].geometry)}else if(ae.type==="Feature"){var _e=ae.geometry.type;if(_e==="Polygon"||_e==="MultiPolygon")return new Jo(ae,ae.geometry)}else if(ae.type==="Polygon"||ae.type==="MultiPolygon")return new Jo(ae,ae)}return W.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Jo.prototype.evaluate=function(D){if(D.geometry()!=null&&D.canonicalID()!=null){if(D.geometryType()==="Point")return vf(D,this.geometries);if(D.geometryType()==="LineString")return jf(D,this.geometries)}return!1},Jo.prototype.eachChild=function(){},Jo.prototype.outputDefined=function(){return!0},Jo.prototype.serialize=function(){return["within",this.geojson]};function ml(_){if(_ instanceof No){if(_.name==="get"&&_.args.length===1)return!1;if(_.name==="feature-state")return!1;if(_.name==="has"&&_.args.length===1)return!1;if(_.name==="properties"||_.name==="geometry-type"||_.name==="id")return!1;if(/^filter-/.test(_.name))return!1}if(_ instanceof Jo)return!1;var D=!0;return _.eachChild(function(W){D&&!ml(W)&&(D=!1)}),D}function Ol(_){if(_ instanceof No&&_.name==="feature-state")return!1;var D=!0;return _.eachChild(function(W){D&&!Ol(W)&&(D=!1)}),D}function Nl(_,D){if(_ instanceof No&&D.indexOf(_.name)>=0)return!1;var W=!0;return _.eachChild(function(ae){W&&!Nl(ae,D)&&(W=!1)}),W}var Ts=function(D,W){this.type=W.type,this.name=D,this.boundExpression=W};Ts.parse=function(D,W){if(D.length!==2||typeof D[1]!="string")return W.error("'var' expression requires exactly one string literal argument.");var ae=D[1];return W.scope.has(ae)?new Ts(ae,W.scope.get(ae)):W.error('Unknown variable "'+ae+'". Make sure "'+ae+'" has been bound in an enclosing "let" expression before using it.',1)},Ts.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},Ts.prototype.eachChild=function(){},Ts.prototype.outputDefined=function(){return!1},Ts.prototype.serialize=function(){return["var",this.name]};var Qo=function(D,W,ae,pe,Me){W===void 0&&(W=[]),pe===void 0&&(pe=new ln),Me===void 0&&(Me=[]),this.registry=D,this.path=W,this.key=W.map(function(_e){return"["+_e+"]"}).join(""),this.scope=pe,this.errors=Me,this.expectedType=ae};Qo.prototype.parse=function(D,W,ae,pe,Me){return Me===void 0&&(Me={}),W?this.concat(W,ae,pe)._parse(D,Me):this._parse(D,Me)},Qo.prototype._parse=function(D,W){(D===null||typeof D=="string"||typeof D=="boolean"||typeof D=="number")&&(D=["literal",D]);function ae(Lt,Yt,fr){return fr==="assert"?new jo(Yt,[Lt]):fr==="coerce"?new Oo(Yt,[Lt]):Lt}if(Array.isArray(D)){if(D.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var pe=D[0];if(typeof pe!="string")return this.error("Expression name must be a string, but found "+typeof pe+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Me=this.registry[pe];if(Me){var _e=Me.parse(D,this);if(!_e)return null;if(this.expectedType){var Qe=this.expectedType,dt=_e.type;if((Qe.kind==="string"||Qe.kind==="number"||Qe.kind==="boolean"||Qe.kind==="object"||Qe.kind==="array")&&dt.kind==="value")_e=ae(_e,Qe,W.typeAnnotation||"assert");else if((Qe.kind==="color"||Qe.kind==="formatted"||Qe.kind==="resolvedImage")&&(dt.kind==="value"||dt.kind==="string"))_e=ae(_e,Qe,W.typeAnnotation||"coerce");else if(this.checkSubtype(Qe,dt))return null}if(!(_e instanceof ss)&&_e.type.kind!=="resolvedImage"&&ju(_e)){var Mt=new Hs;try{_e=new ss(_e.type,_e.evaluate(Mt))}catch(Lt){return this.error(Lt.message),null}}return _e}return this.error('Unknown expression "'+pe+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof D>"u"?this.error("'undefined' value invalid. Use null instead."):typeof D=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof D+" instead.")},Qo.prototype.concat=function(D,W,ae){var pe=typeof D=="number"?this.path.concat(D):this.path,Me=ae?this.scope.concat(ae):this.scope;return new Qo(this.registry,pe,W||null,Me,this.errors)},Qo.prototype.error=function(D){for(var W=[],ae=arguments.length-1;ae-- >0;)W[ae]=arguments[ae+1];var pe=""+this.key+W.map(function(Me){return"["+Me+"]"}).join("");this.errors.push(new Ln(pe,D))},Qo.prototype.checkSubtype=function(D,W){var ae=_o(D,W);return ae&&this.error(ae),ae};function ju(_){if(_ instanceof Ts)return ju(_.boundExpression);if(_ instanceof No&&_.name==="error")return!1;if(_ instanceof el)return!1;if(_ instanceof Jo)return!1;var D=_ instanceof Oo||_ instanceof jo,W=!0;return _.eachChild(function(ae){D?W=W&&ju(ae):W=W&&ae instanceof ss}),W?ml(_)&&Nl(_,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function rl(_,D){for(var W=_.length-1,ae=0,pe=W,Me=0,_e,Qe;ae<=pe;)if(Me=Math.floor((ae+pe)/2),_e=_[Me],Qe=_[Me+1],_e<=D){if(Me===W||D<Qe)return Me;ae=Me+1}else if(_e>D)pe=Me-1;else throw new wo("Input is not a number.");return 0}var ks=function(D,W,ae){this.type=D,this.input=W,this.labels=[],this.outputs=[];for(var pe=0,Me=ae;pe<Me.length;pe+=1){var _e=Me[pe],Qe=_e[0],dt=_e[1];this.labels.push(Qe),this.outputs.push(dt)}};ks.parse=function(D,W){if(D.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return W.error("Expected an even number of arguments.");var ae=W.parse(D[1],1,Rr);if(!ae)return null;var pe=[],Me=null;W.expectedType&&W.expectedType.kind!=="value"&&(Me=W.expectedType);for(var _e=1;_e<D.length;_e+=2){var Qe=_e===1?-1/0:D[_e],dt=D[_e+1],Mt=_e,Lt=_e+1;if(typeof Qe!="number")return W.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Mt);if(pe.length&&pe[pe.length-1][0]>=Qe)return W.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Mt);var Yt=W.parse(dt,Lt,Me);if(!Yt)return null;Me=Me||Yt.type,pe.push([Qe,Yt])}return new ks(Me,ae,pe)},ks.prototype.evaluate=function(D){var W=this.labels,ae=this.outputs;if(W.length===1)return ae[0].evaluate(D);var pe=this.input.evaluate(D);if(pe<=W[0])return ae[0].evaluate(D);var Me=W.length;if(pe>=W[Me-1])return ae[Me-1].evaluate(D);var _e=rl(W,pe);return ae[_e].evaluate(D)},ks.prototype.eachChild=function(D){D(this.input);for(var W=0,ae=this.outputs;W<ae.length;W+=1){var pe=ae[W];D(pe)}},ks.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},ks.prototype.serialize=function(){for(var D=["step",this.input.serialize()],W=0;W<this.labels.length;W++)W>0&&D.push(this.labels[W]),D.push(this.outputs[W].serialize());return D};function co(_,D,W){return _*(1-W)+D*W}function df(_,D,W){return new xi(co(_.r,D.r,W),co(_.g,D.g,W),co(_.b,D.b,W),co(_.a,D.a,W))}function xl(_,D,W){return _.map(function(ae,pe){return co(ae,D[pe],W)})}var ir=Object.freeze({__proto__:null,number:co,color:df,array:xl}),tt=.95047,Ut=1,Lr=1.08883,Mn=4/29,mn=6/29,Vn=3*mn*mn,aa=mn*mn*mn,Sa=Math.PI/180,Va=180/Math.PI;function Ha(_){return _>aa?Math.pow(_,.3333333333333333):_/Vn+Mn}function ka(_){return _>mn?_*_*_:Vn*(_-Mn)}function ci(_){return 255*(_<=.0031308?12.92*_:1.055*Math.pow(_,.4166666666666667)-.055)}function ri(_){return _/=255,_<=.04045?_/12.92:Math.pow((_+.055)/1.055,2.4)}function ai(_){var D=ri(_.r),W=ri(_.g),ae=ri(_.b),pe=Ha((.4124564*D+.3575761*W+.1804375*ae)/tt),Me=Ha((.2126729*D+.7151522*W+.072175*ae)/Ut),_e=Ha((.0193339*D+.119192*W+.9503041*ae)/Lr);return{l:116*Me-16,a:500*(pe-Me),b:200*(Me-_e),alpha:_.a}}function ii(_){var D=(_.l+16)/116,W=isNaN(_.a)?D:D+_.a/500,ae=isNaN(_.b)?D:D-_.b/200;return D=Ut*ka(D),W=tt*ka(W),ae=Lr*ka(ae),new xi(ci(3.2404542*W-1.5371385*D-.4985314*ae),ci(-.969266*W+1.8760108*D+.041556*ae),ci(.0556434*W-.2040259*D+1.0572252*ae),_.alpha)}function si(_,D,W){return{l:co(_.l,D.l,W),a:co(_.a,D.a,W),b:co(_.b,D.b,W),alpha:co(_.alpha,D.alpha,W)}}function zi(_){var D=ai(_),W=D.l,ae=D.a,pe=D.b,Me=Math.atan2(pe,ae)*Va;return{h:Me<0?Me+360:Me,c:Math.sqrt(ae*ae+pe*pe),l:W,alpha:_.a}}function $a(_){var D=_.h*Sa,W=_.c,ae=_.l;return ii({l:ae,a:Math.cos(D)*W,b:Math.sin(D)*W,alpha:_.alpha})}function gi(_,D,W){var ae=D-_;return _+W*(ae>180||ae<-180?ae-360*Math.round(ae/360):ae)}function vi(_,D,W){return{h:gi(_.h,D.h,W),c:co(_.c,D.c,W),l:co(_.l,D.l,W),alpha:co(_.alpha,D.alpha,W)}}var ui={forward:ai,reverse:ii,interpolate:si},di={forward:zi,reverse:$a,interpolate:vi},Fi=Object.freeze({__proto__:null,lab:ui,hcl:di}),oi=function(D,W,ae,pe,Me){this.type=D,this.operator=W,this.interpolation=ae,this.input=pe,this.labels=[],this.outputs=[];for(var _e=0,Qe=Me;_e<Qe.length;_e+=1){var dt=Qe[_e],Mt=dt[0],Lt=dt[1];this.labels.push(Mt),this.outputs.push(Lt)}};oi.interpolationFactor=function(D,W,ae,pe){var Me=0;if(D.name==="exponential")Me=Si(W,D.base,ae,pe);else if(D.name==="linear")Me=Si(W,1,ae,pe);else if(D.name==="cubic-bezier"){var _e=D.controlPoints,Qe=new v(_e[0],_e[1],_e[2],_e[3]);Me=Qe.solve(Si(W,1,ae,pe))}return Me},oi.parse=function(D,W){var ae=D[0],pe=D[1],Me=D[2],_e=D.slice(3);if(!Array.isArray(pe)||pe.length===0)return W.error("Expected an interpolation type expression.",1);if(pe[0]==="linear")pe={name:"linear"};else if(pe[0]==="exponential"){var Qe=pe[1];if(typeof Qe!="number")return W.error("Exponential interpolation requires a numeric base.",1,1);pe={name:"exponential",base:Qe}}else if(pe[0]==="cubic-bezier"){var dt=pe.slice(1);if(dt.length!==4||dt.some(function(rn){return typeof rn!="number"||rn<0||rn>1}))return W.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);pe={name:"cubic-bezier",controlPoints:dt}}else return W.error("Unknown interpolation type "+String(pe[0]),1,0);if(D.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return W.error("Expected an even number of arguments.");if(Me=W.parse(Me,2,Rr),!Me)return null;var Mt=[],Lt=null;ae==="interpolate-hcl"||ae==="interpolate-lab"?Lt=Hn:W.expectedType&&W.expectedType.kind!=="value"&&(Lt=W.expectedType);for(var Yt=0;Yt<_e.length;Yt+=2){var fr=_e[Yt],tr=_e[Yt+1],wr=Yt+3,Gr=Yt+4;if(typeof fr!="number")return W.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',wr);if(Mt.length&&Mt[Mt.length-1][0]>=fr)return W.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',wr);var cn=W.parse(tr,Gr,Lt);if(!cn)return null;Lt=Lt||cn.type,Mt.push([fr,cn])}return Lt.kind!=="number"&&Lt.kind!=="color"&&!(Lt.kind==="array"&&Lt.itemType.kind==="number"&&typeof Lt.N=="number")?W.error("Type "+ba(Lt)+" is not interpolatable."):new oi(Lt,ae,pe,Me,Mt)},oi.prototype.evaluate=function(D){var W=this.labels,ae=this.outputs;if(W.length===1)return ae[0].evaluate(D);var pe=this.input.evaluate(D);if(pe<=W[0])return ae[0].evaluate(D);var Me=W.length;if(pe>=W[Me-1])return ae[Me-1].evaluate(D);var _e=rl(W,pe),Qe=W[_e],dt=W[_e+1],Mt=oi.interpolationFactor(this.interpolation,pe,Qe,dt),Lt=ae[_e].evaluate(D),Yt=ae[_e+1].evaluate(D);return this.operator==="interpolate"?ir[this.type.kind.toLowerCase()](Lt,Yt,Mt):this.operator==="interpolate-hcl"?di.reverse(di.interpolate(di.forward(Lt),di.forward(Yt),Mt)):ui.reverse(ui.interpolate(ui.forward(Lt),ui.forward(Yt),Mt))},oi.prototype.eachChild=function(D){D(this.input);for(var W=0,ae=this.outputs;W<ae.length;W+=1){var pe=ae[W];D(pe)}},oi.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},oi.prototype.serialize=function(){var D;this.interpolation.name==="linear"?D=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?D=["linear"]:D=["exponential",this.interpolation.base]:D=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var W=[this.operator,D,this.input.serialize()],ae=0;ae<this.labels.length;ae++)W.push(this.labels[ae],this.outputs[ae].serialize());return W};function Si(_,D,W,ae){var pe=ae-W,Me=_-W;return pe===0?0:D===1?Me/pe:(Math.pow(D,Me)-1)/(Math.pow(D,pe)-1)}var wi=function(D,W){this.type=D,this.args=W};wi.parse=function(D,W){if(D.length<2)return W.error("Expectected at least one argument.");var ae=null,pe=W.expectedType;pe&&pe.kind!=="value"&&(ae=pe);for(var Me=[],_e=0,Qe=D.slice(1);_e<Qe.length;_e+=1){var dt=Qe[_e],Mt=W.parse(dt,1+Me.length,ae,void 0,{typeAnnotation:"omit"});if(!Mt)return null;ae=ae||Mt.type,Me.push(Mt)}var Lt=pe&&Me.some(function(Yt){return _o(pe,Yt.type)});return Lt?new wi(An,Me):new wi(ae,Me)},wi.prototype.evaluate=function(D){for(var W=null,ae=0,pe,Me=0,_e=this.args;Me<_e.length;Me+=1){var Qe=_e[Me];if(ae++,W=Qe.evaluate(D),W&&W instanceof bo&&!W.available&&(pe||(pe=W.name),W=null,ae===this.args.length&&(W=pe)),W!==null)break}return W},wi.prototype.eachChild=function(D){this.args.forEach(D)},wi.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},wi.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(W){D.push(W.serialize())}),D};var go=function(D,W){this.type=W.type,this.bindings=[].concat(D),this.result=W};go.prototype.evaluate=function(D){return this.result.evaluate(D)},go.prototype.eachChild=function(D){for(var W=0,ae=this.bindings;W<ae.length;W+=1){var pe=ae[W];D(pe[1])}D(this.result)},go.parse=function(D,W){if(D.length<4)return W.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var ae=[],pe=1;pe<D.length-1;pe+=2){var Me=D[pe];if(typeof Me!="string")return W.error("Expected string, but found "+typeof Me+" instead.",pe);if(/[^a-zA-Z0-9_]/.test(Me))return W.error("Variable names must contain only alphanumeric characters or '_'.",pe);var _e=W.parse(D[pe+1],pe+1);if(!_e)return null;ae.push([Me,_e])}var Qe=W.parse(D[D.length-1],D.length-1,W.expectedType,ae);return Qe?new go(ae,Qe):null},go.prototype.outputDefined=function(){return this.result.outputDefined()},go.prototype.serialize=function(){for(var D=["let"],W=0,ae=this.bindings;W<ae.length;W+=1){var pe=ae[W],Me=pe[0],_e=pe[1];D.push(Me,_e.serialize())}return D.push(this.result.serialize()),D};var Eo=function(D,W,ae){this.type=D,this.index=W,this.input=ae};Eo.parse=function(D,W){if(D.length!==3)return W.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ae=W.parse(D[1],1,Rr),pe=W.parse(D[2],2,pa(W.expectedType||An));if(!ae||!pe)return null;var Me=pe.type;return new Eo(Me.itemType,ae,pe)},Eo.prototype.evaluate=function(D){var W=this.index.evaluate(D),ae=this.input.evaluate(D);if(W<0)throw new wo("Array index out of bounds: "+W+" < 0.");if(W>=ae.length)throw new wo("Array index out of bounds: "+W+" > "+(ae.length-1)+".");if(W!==Math.floor(W))throw new wo("Array index must be an integer, but found "+W+" instead.");return ae[W]},Eo.prototype.eachChild=function(D){D(this.index),D(this.input)},Eo.prototype.outputDefined=function(){return!1},Eo.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ho=function(D,W){this.type=xn,this.needle=D,this.haystack=W};ho.parse=function(D,W){if(D.length!==3)return W.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ae=W.parse(D[1],1,An),pe=W.parse(D[2],2,An);return!ae||!pe?null:Go(ae.type,[xn,Nr,Rr,Ir,An])?new ho(ae,pe):W.error("Expected first argument to be of type boolean, string, number or null, but found "+ba(ae.type)+" instead")},ho.prototype.evaluate=function(D){var W=this.needle.evaluate(D),ae=this.haystack.evaluate(D);if(!ae)return!1;if(!Ko(W,["boolean","string","number","null"]))throw new wo("Expected first argument to be of type boolean, string, number or null, but found "+ba(Xi(W))+" instead.");if(!Ko(ae,["string","array"]))throw new wo("Expected second argument to be of type array or string, but found "+ba(Xi(ae))+" instead.");return ae.indexOf(W)>=0},ho.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},ho.prototype.outputDefined=function(){return!0},ho.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Co=function(D,W,ae){this.type=Rr,this.needle=D,this.haystack=W,this.fromIndex=ae};Co.parse=function(D,W){if(D.length<=2||D.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ae=W.parse(D[1],1,An),pe=W.parse(D[2],2,An);if(!ae||!pe)return null;if(!Go(ae.type,[xn,Nr,Rr,Ir,An]))return W.error("Expected first argument to be of type boolean, string, number or null, but found "+ba(ae.type)+" instead");if(D.length===4){var Me=W.parse(D[3],3,Rr);return Me?new Co(ae,pe,Me):null}else return new Co(ae,pe)},Co.prototype.evaluate=function(D){var W=this.needle.evaluate(D),ae=this.haystack.evaluate(D);if(!Ko(W,["boolean","string","number","null"]))throw new wo("Expected first argument to be of type boolean, string, number or null, but found "+ba(Xi(W))+" instead.");if(!Ko(ae,["string","array"]))throw new wo("Expected second argument to be of type array or string, but found "+ba(Xi(ae))+" instead.");if(this.fromIndex){var pe=this.fromIndex.evaluate(D);return ae.indexOf(W,pe)}return ae.indexOf(W)},Co.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},Co.prototype.outputDefined=function(){return!1},Co.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Lo=function(D,W,ae,pe,Me,_e){this.inputType=D,this.type=W,this.input=ae,this.cases=pe,this.outputs=Me,this.otherwise=_e};Lo.parse=function(D,W){if(D.length<5)return W.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!==1)return W.error("Expected an even number of arguments.");var ae,pe;W.expectedType&&W.expectedType.kind!=="value"&&(pe=W.expectedType);for(var Me={},_e=[],Qe=2;Qe<D.length-1;Qe+=2){var dt=D[Qe],Mt=D[Qe+1];Array.isArray(dt)||(dt=[dt]);var Lt=W.concat(Qe);if(dt.length===0)return Lt.error("Expected at least one branch label.");for(var Yt=0,fr=dt;Yt<fr.length;Yt+=1){var tr=fr[Yt];if(typeof tr!="number"&&typeof tr!="string")return Lt.error("Branch labels must be numbers or strings.");if(typeof tr=="number"&&Math.abs(tr)>Number.MAX_SAFE_INTEGER)return Lt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof tr=="number"&&Math.floor(tr)!==tr)return Lt.error("Numeric branch labels must be integer values.");if(!ae)ae=Xi(tr);else if(Lt.checkSubtype(ae,Xi(tr)))return null;if(typeof Me[String(tr)]<"u")return Lt.error("Branch labels must be unique.");Me[String(tr)]=_e.length}var wr=W.parse(Mt,Qe,pe);if(!wr)return null;pe=pe||wr.type,_e.push(wr)}var Gr=W.parse(D[1],1,An);if(!Gr)return null;var cn=W.parse(D[D.length-1],D.length-1,pe);return!cn||Gr.type.kind!=="value"&&W.concat(1).checkSubtype(ae,Gr.type)?null:new Lo(ae,pe,Gr,Me,_e,cn)},Lo.prototype.evaluate=function(D){var W=this.input.evaluate(D),ae=Xi(W)===this.inputType&&this.outputs[this.cases[W]]||this.otherwise;return ae.evaluate(D)},Lo.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},Lo.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},Lo.prototype.serialize=function(){for(var D=this,W=["match",this.input.serialize()],ae=Object.keys(this.cases).sort(),pe=[],Me={},_e=0,Qe=ae;_e<Qe.length;_e+=1){var dt=Qe[_e],Mt=Me[this.cases[dt]];Mt===void 0?(Me[this.cases[dt]]=pe.length,pe.push([this.cases[dt],[dt]])):pe[Mt][1].push(dt)}for(var Lt=function(Gr){return D.inputType.kind==="number"?Number(Gr):Gr},Yt=0,fr=pe;Yt<fr.length;Yt+=1){var tr=fr[Yt],Mt=tr[0],wr=tr[1];wr.length===1?W.push(Lt(wr[0])):W.push(wr.map(Lt)),W.push(this.outputs[outputIndex$1].serialize())}return W.push(this.otherwise.serialize()),W};var _i=function(D,W,ae){this.type=D,this.branches=W,this.otherwise=ae};_i.parse=function(D,W){if(D.length<4)return W.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!==0)return W.error("Expected an odd number of arguments.");var ae;W.expectedType&&W.expectedType.kind!=="value"&&(ae=W.expectedType);for(var pe=[],Me=1;Me<D.length-1;Me+=2){var _e=W.parse(D[Me],Me,xn);if(!_e)return null;var Qe=W.parse(D[Me+1],Me+1,ae);if(!Qe)return null;pe.push([_e,Qe]),ae=ae||Qe.type}var dt=W.parse(D[D.length-1],D.length-1,ae);return dt?new _i(ae,pe,dt):null},_i.prototype.evaluate=function(D){for(var W=0,ae=this.branches;W<ae.length;W+=1){var pe=ae[W],Me=pe[0],_e=pe[1];if(Me.evaluate(D))return _e.evaluate(D)}return this.otherwise.evaluate(D)},_i.prototype.eachChild=function(D){for(var W=0,ae=this.branches;W<ae.length;W+=1){var pe=ae[W],Me=pe[0],_e=pe[1];D(Me),D(_e)}D(this.otherwise)},_i.prototype.outputDefined=function(){return this.branches.every(function(D){D[0];var W=D[1];return W.outputDefined()})&&this.otherwise.outputDefined()},_i.prototype.serialize=function(){var D=["case"];return this.eachChild(function(W){D.push(W.serialize())}),D};var Po=function(D,W,ae,pe){this.type=D,this.input=W,this.beginIndex=ae,this.endIndex=pe};Po.parse=function(D,W){if(D.length<=2||D.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ae=W.parse(D[1],1,An),pe=W.parse(D[2],2,Rr);if(!ae||!pe)return null;if(!Go(ae.type,[pa(An),Nr,An]))return W.error("Expected first argument to be of type array or string, but found "+ba(ae.type)+" instead");if(D.length===4){var Me=W.parse(D[3],3,Rr);return Me?new Po(ae.type,ae,pe,Me):null}else return new Po(ae.type,ae,pe)},Po.prototype.evaluate=function(D){var W=this.input.evaluate(D),ae=this.beginIndex.evaluate(D);if(!Ko(W,["string","array"]))throw new wo("Expected first argument to be of type array or string, but found "+ba(Xi(W))+" instead.");if(this.endIndex){var pe=this.endIndex.evaluate(D);return W.slice(ae,pe)}return W.slice(ae)},Po.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},Po.prototype.outputDefined=function(){return!1},Po.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function ls(_,D){return _==="=="||_==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function Gs(_,D,W){return D===W}function yo(_,D,W){return D!==W}function Vi(_,D,W){return D<W}function $o(_,D,W){return D>W}function As(_,D,W){return D<=W}function bl(_,D,W){return D>=W}function Bl(_,D,W,ae){return ae.compare(D,W)===0}function pf(_,D,W,ae){return!Bl(_,D,W,ae)}function Ul(_,D,W,ae){return ae.compare(D,W)<0}function Ao(_,D,W,ae){return ae.compare(D,W)>0}function us(_,D,W,ae){return ae.compare(D,W)<=0}function mu(_,D,W,ae){return ae.compare(D,W)>=0}function nl(_,D,W){var ae=_!=="=="&&_!=="!=";return function(){function pe(Me,_e,Qe){this.type=xn,this.lhs=Me,this.rhs=_e,this.collator=Qe,this.hasUntypedArgument=Me.type.kind==="value"||_e.type.kind==="value"}return pe.parse=function(_e,Qe){if(_e.length!==3&&_e.length!==4)return Qe.error("Expected two or three arguments.");var dt=_e[0],Mt=Qe.parse(_e[1],1,An);if(!Mt)return null;if(!ls(dt,Mt.type))return Qe.concat(1).error('"'+dt+`" comparisons are not supported for type '`+ba(Mt.type)+"'.");var Lt=Qe.parse(_e[2],2,An);if(!Lt)return null;if(!ls(dt,Lt.type))return Qe.concat(2).error('"'+dt+`" comparisons are not supported for type '`+ba(Lt.type)+"'.");if(Mt.type.kind!==Lt.type.kind&&Mt.type.kind!=="value"&&Lt.type.kind!=="value")return Qe.error("Cannot compare types '"+ba(Mt.type)+"' and '"+ba(Lt.type)+"'.");ae&&(Mt.type.kind==="value"&&Lt.type.kind!=="value"?Mt=new jo(Lt.type,[Mt]):Mt.type.kind!=="value"&&Lt.type.kind==="value"&&(Lt=new jo(Mt.type,[Lt])));var Yt=null;if(_e.length===4){if(Mt.type.kind!=="string"&&Lt.type.kind!=="string"&&Mt.type.kind!=="value"&&Lt.type.kind!=="value")return Qe.error("Cannot use collator to compare non-string types.");if(Yt=Qe.parse(_e[3],3,ua),!Yt)return null}return new pe(Mt,Lt,Yt)},pe.prototype.evaluate=function(_e){var Qe=this.lhs.evaluate(_e),dt=this.rhs.evaluate(_e);if(ae&&this.hasUntypedArgument){var Mt=Xi(Qe),Lt=Xi(dt);if(Mt.kind!==Lt.kind||!(Mt.kind==="string"||Mt.kind==="number"))throw new wo('Expected arguments for "'+_+'" to be (string, string) or (number, number), but found ('+Mt.kind+", "+Lt.kind+") instead.")}if(this.collator&&!ae&&this.hasUntypedArgument){var Yt=Xi(Qe),fr=Xi(dt);if(Yt.kind!=="string"||fr.kind!=="string")return D(_e,Qe,dt)}return this.collator?W(_e,Qe,dt,this.collator.evaluate(_e)):D(_e,Qe,dt)},pe.prototype.eachChild=function(_e){_e(this.lhs),_e(this.rhs),this.collator&&_e(this.collator)},pe.prototype.outputDefined=function(){return!0},pe.prototype.serialize=function(){var _e=[_];return this.eachChild(function(Qe){_e.push(Qe.serialize())}),_e},pe}()}var xu=nl("==",Gs,Bl),bu=nl("!=",yo,pf),bc=nl("<",Vi,Ul),gf=nl(">",$o,Ao),yf=nl("<=",As,us),mf=nl(">=",bl,mu),wl=function(D,W,ae,pe,Me){this.type=Nr,this.number=D,this.locale=W,this.currency=ae,this.minFractionDigits=pe,this.maxFractionDigits=Me};wl.parse=function(D,W){if(D.length!==3)return W.error("Expected two arguments.");var ae=W.parse(D[1],1,Rr);if(!ae)return null;var pe=D[2];if(typeof pe!="object"||Array.isArray(pe))return W.error("NumberFormat options argument must be an object.");var Me=null;if(pe.locale&&(Me=W.parse(pe.locale,1,Nr),!Me))return null;var _e=null;if(pe.currency&&(_e=W.parse(pe.currency,1,Nr),!_e))return null;var Qe=null;if(pe["min-fraction-digits"]&&(Qe=W.parse(pe["min-fraction-digits"],1,Rr),!Qe))return null;var dt=null;return pe["max-fraction-digits"]&&(dt=W.parse(pe["max-fraction-digits"],1,Rr),!dt)?null:new wl(ae,Me,_e,Qe,dt)},wl.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},wl.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},wl.prototype.outputDefined=function(){return!1},wl.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var Gi=function(D){this.type=Rr,this.input=D};Gi.parse=function(D,W){if(D.length!==2)return W.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var ae=W.parse(D[1],1);return ae?ae.type.kind!=="array"&&ae.type.kind!=="string"&&ae.type.kind!=="value"?W.error("Expected argument of type string or array, but found "+ba(ae.type)+" instead."):new Gi(ae):null},Gi.prototype.evaluate=function(D){var W=this.input.evaluate(D);if(typeof W=="string")return W.length;if(Array.isArray(W))return W.length;throw new wo("Expected value to be of type string or array, but found "+ba(Xi(W))+" instead.")},Gi.prototype.eachChild=function(D){D(this.input)},Gi.prototype.outputDefined=function(){return!1},Gi.prototype.serialize=function(){var D=["length"];return this.eachChild(function(W){D.push(W.serialize())}),D};var gs={"==":xu,"!=":bu,">":gf,"<":bc,">=":mf,"<=":yf,array:jo,at:Eo,boolean:jo,case:_i,coalesce:wi,collator:el,format:To,image:_s,in:ho,"index-of":Co,interpolate:oi,"interpolate-hcl":oi,"interpolate-lab":oi,length:Gi,let:go,literal:ss,match:Lo,number:jo,"number-format":wl,object:jo,slice:Po,step:ks,string:jo,"to-boolean":Oo,"to-color":Oo,"to-number":Oo,"to-string":Oo,var:Ts,within:Jo};function Yu(_,D){var W=D[0],ae=D[1],pe=D[2],Me=D[3];W=W.evaluate(_),ae=ae.evaluate(_),pe=pe.evaluate(_);var _e=Me?Me.evaluate(_):1,Qe=uf(W,ae,pe,_e);if(Qe)throw new wo(Qe);return new xi(W/255*_e,ae/255*_e,pe/255*_e,_e)}function xf(_,D){return _ in D}function al(_,D){var W=D[_];return typeof W>"u"?null:W}function wu(_,D,W,ae){for(;W<=ae;){var pe=W+ae>>1;if(D[pe]===_)return!0;D[pe]>_?ae=pe-1:W=pe+1}return!1}function Ms(_){return{type:_}}No.register(gs,{error:[Wn,[Nr],function(_,D){var W=D[0];throw new wo(W.evaluate(_))}],typeof:[Nr,[An],function(_,D){var W=D[0];return ba(Xi(W.evaluate(_)))}],"to-rgba":[pa(Rr,4),[Hn],function(_,D){var W=D[0];return W.evaluate(_).toArray()}],rgb:[Hn,[Rr,Rr,Rr],Yu],rgba:[Hn,[Rr,Rr,Rr,Rr],Yu],has:{type:xn,overloads:[[[Nr],function(_,D){var W=D[0];return xf(W.evaluate(_),_.properties())}],[[Nr,Qn],function(_,D){var W=D[0],ae=D[1];return xf(W.evaluate(_),ae.evaluate(_))}]]},get:{type:An,overloads:[[[Nr],function(_,D){var W=D[0];return al(W.evaluate(_),_.properties())}],[[Nr,Qn],function(_,D){var W=D[0],ae=D[1];return al(W.evaluate(_),ae.evaluate(_))}]]},"feature-state":[An,[Nr],function(_,D){var W=D[0];return al(W.evaluate(_),_.featureState||{})}],properties:[Qn,[],function(_){return _.properties()}],"geometry-type":[Nr,[],function(_){return _.geometryType()}],id:[An,[],function(_){return _.id()}],zoom:[Rr,[],function(_){return _.globals.zoom}],"heatmap-density":[Rr,[],function(_){return _.globals.heatmapDensity||0}],"line-progress":[Rr,[],function(_){return _.globals.lineProgress||0}],accumulated:[An,[],function(_){return _.globals.accumulated===void 0?null:_.globals.accumulated}],"+":[Rr,Ms(Rr),function(_,D){for(var W=0,ae=0,pe=D;ae<pe.length;ae+=1){var Me=pe[ae];W+=Me.evaluate(_)}return W}],"*":[Rr,Ms(Rr),function(_,D){for(var W=1,ae=0,pe=D;ae<pe.length;ae+=1){var Me=pe[ae];W*=Me.evaluate(_)}return W}],"-":{type:Rr,overloads:[[[Rr,Rr],function(_,D){var W=D[0],ae=D[1];return W.evaluate(_)-ae.evaluate(_)}],[[Rr],function(_,D){var W=D[0];return-W.evaluate(_)}]]},"/":[Rr,[Rr,Rr],function(_,D){var W=D[0],ae=D[1];return W.evaluate(_)/ae.evaluate(_)}],"%":[Rr,[Rr,Rr],function(_,D){var W=D[0],ae=D[1];return W.evaluate(_)%ae.evaluate(_)}],ln2:[Rr,[],function(){return Math.LN2}],pi:[Rr,[],function(){return Math.PI}],e:[Rr,[],function(){return Math.E}],"^":[Rr,[Rr,Rr],function(_,D){var W=D[0],ae=D[1];return Math.pow(W.evaluate(_),ae.evaluate(_))}],sqrt:[Rr,[Rr],function(_,D){var W=D[0];return Math.sqrt(W.evaluate(_))}],log10:[Rr,[Rr],function(_,D){var W=D[0];return Math.log(W.evaluate(_))/Math.LN10}],ln:[Rr,[Rr],function(_,D){var W=D[0];return Math.log(W.evaluate(_))}],log2:[Rr,[Rr],function(_,D){var W=D[0];return Math.log(W.evaluate(_))/Math.LN2}],sin:[Rr,[Rr],function(_,D){var W=D[0];return Math.sin(W.evaluate(_))}],cos:[Rr,[Rr],function(_,D){var W=D[0];return Math.cos(W.evaluate(_))}],tan:[Rr,[Rr],function(_,D){var W=D[0];return Math.tan(W.evaluate(_))}],asin:[Rr,[Rr],function(_,D){var W=D[0];return Math.asin(W.evaluate(_))}],acos:[Rr,[Rr],function(_,D){var W=D[0];return Math.acos(W.evaluate(_))}],atan:[Rr,[Rr],function(_,D){var W=D[0];return Math.atan(W.evaluate(_))}],min:[Rr,Ms(Rr),function(_,D){return Math.min.apply(Math,D.map(function(W){return W.evaluate(_)}))}],max:[Rr,Ms(Rr),function(_,D){return Math.max.apply(Math,D.map(function(W){return W.evaluate(_)}))}],abs:[Rr,[Rr],function(_,D){var W=D[0];return Math.abs(W.evaluate(_))}],round:[Rr,[Rr],function(_,D){var W=D[0],ae=W.evaluate(_);return ae<0?-Math.round(-ae):Math.round(ae)}],floor:[Rr,[Rr],function(_,D){var W=D[0];return Math.floor(W.evaluate(_))}],ceil:[Rr,[Rr],function(_,D){var W=D[0];return Math.ceil(W.evaluate(_))}],"filter-==":[xn,[Nr,An],function(_,D){var W=D[0],ae=D[1];return _.properties()[W.value]===ae.value}],"filter-id-==":[xn,[An],function(_,D){var W=D[0];return _.id()===W.value}],"filter-type-==":[xn,[Nr],function(_,D){var W=D[0];return _.geometryType()===W.value}],"filter-<":[xn,[Nr,An],function(_,D){var W=D[0],ae=D[1],pe=_.properties()[W.value],Me=ae.value;return typeof pe==typeof Me&&pe<Me}],"filter-id-<":[xn,[An],function(_,D){var W=D[0],ae=_.id(),pe=W.value;return typeof ae==typeof pe&&ae<pe}],"filter->":[xn,[Nr,An],function(_,D){var W=D[0],ae=D[1],pe=_.properties()[W.value],Me=ae.value;return typeof pe==typeof Me&&pe>Me}],"filter-id->":[xn,[An],function(_,D){var W=D[0],ae=_.id(),pe=W.value;return typeof ae==typeof pe&&ae>pe}],"filter-<=":[xn,[Nr,An],function(_,D){var W=D[0],ae=D[1],pe=_.properties()[W.value],Me=ae.value;return typeof pe==typeof Me&&pe<=Me}],"filter-id-<=":[xn,[An],function(_,D){var W=D[0],ae=_.id(),pe=W.value;return typeof ae==typeof pe&&ae<=pe}],"filter->=":[xn,[Nr,An],function(_,D){var W=D[0],ae=D[1],pe=_.properties()[W.value],Me=ae.value;return typeof pe==typeof Me&&pe>=Me}],"filter-id->=":[xn,[An],function(_,D){var W=D[0],ae=_.id(),pe=W.value;return typeof ae==typeof pe&&ae>=pe}],"filter-has":[xn,[An],function(_,D){var W=D[0];return W.value in _.properties()}],"filter-has-id":[xn,[],function(_){return _.id()!==null&&_.id()!==void 0}],"filter-type-in":[xn,[pa(Nr)],function(_,D){var W=D[0];return W.value.indexOf(_.geometryType())>=0}],"filter-id-in":[xn,[pa(An)],function(_,D){var W=D[0];return W.value.indexOf(_.id())>=0}],"filter-in-small":[xn,[Nr,pa(An)],function(_,D){var W=D[0],ae=D[1];return ae.value.indexOf(_.properties()[W.value])>=0}],"filter-in-large":[xn,[Nr,pa(An)],function(_,D){var W=D[0],ae=D[1];return wu(_.properties()[W.value],ae.value,0,ae.value.length-1)}],all:{type:xn,overloads:[[[xn,xn],function(_,D){var W=D[0],ae=D[1];return W.evaluate(_)&&ae.evaluate(_)}],[Ms(xn),function(_,D){for(var W=0,ae=D;W<ae.length;W+=1){var pe=ae[W];if(!pe.evaluate(_))return!1}return!0}]]},any:{type:xn,overloads:[[[xn,xn],function(_,D){var W=D[0],ae=D[1];return W.evaluate(_)||ae.evaluate(_)}],[Ms(xn),function(_,D){for(var W=0,ae=D;W<ae.length;W+=1){var pe=ae[W];if(pe.evaluate(_))return!0}return!1}]]},"!":[xn,[xn],function(_,D){var W=D[0];return!W.evaluate(_)}],"is-supported-script":[xn,[Nr],function(_,D){var W=D[0],ae=_.globals&&_.globals.isSupportedScript;return ae?ae(W.evaluate(_)):!0}],upcase:[Nr,[Nr],function(_,D){var W=D[0];return W.evaluate(_).toUpperCase()}],downcase:[Nr,[Nr],function(_,D){var W=D[0];return W.evaluate(_).toLowerCase()}],concat:[Nr,Ms(An),function(_,D){return D.map(function(W){return $l(W.evaluate(_))}).join("")}],"resolved-locale":[Nr,[ua],function(_,D){var W=D[0];return W.evaluate(_).resolvedLocale()}]});function Tu(_){return{result:"success",value:_}}function Ws(_){return{result:"error",value:_}}function il(_){return _["property-type"]==="data-driven"||_["property-type"]==="cross-faded-data-driven"}function bf(_){return!!_.expression&&_.expression.parameters.indexOf("zoom")>-1}function Tl(_){return!!_.expression&&_.expression.interpolated}function Ei(_){return _ instanceof Number?"number":_ instanceof String?"string":_ instanceof Boolean?"boolean":Array.isArray(_)?"array":_===null?"null":typeof _}function Au(_){return typeof _=="object"&&_!==null&&!Array.isArray(_)}function Yf(_){return _}function Zf(_,D){var W=D.type==="color",ae=_.stops&&typeof _.stops[0][0]=="object",pe=ae||_.property!==void 0,Me=ae||!pe,_e=_.type||(Tl(D)?"exponential":"interval");if(W&&(_=gn({},_),_.stops&&(_.stops=_.stops.map(function(sa){return[sa[0],xi.parse(sa[1])]})),_.default?_.default=xi.parse(_.default):_.default=xi.parse(D.default)),_.colorSpace&&_.colorSpace!=="rgb"&&!Fi[_.colorSpace])throw new Error("Unknown color space: "+_.colorSpace);var Qe,dt,Mt;if(_e==="exponential")Qe=Zu;else if(_e==="interval")Qe=wc;else if(_e==="categorical"){Qe=Hh,dt=Object.create(null);for(var Lt=0,Yt=_.stops;Lt<Yt.length;Lt+=1){var fr=Yt[Lt];dt[fr[0]]=fr[1]}Mt=typeof _.stops[0][0]}else if(_e==="identity")Qe=Tc;else throw new Error('Unknown function type "'+_e+'"');if(ae){for(var tr={},wr=[],Gr=0;Gr<_.stops.length;Gr++){var cn=_.stops[Gr],rn=cn[0].zoom;tr[rn]===void 0&&(tr[rn]={zoom:rn,type:_.type,property:_.property,default:_.default,stops:[]},wr.push(rn)),tr[rn].stops.push([cn[0].value,cn[1]])}for(var _n=[],En=0,Rn=wr;En<Rn.length;En+=1){var Un=Rn[En];_n.push([tr[Un].zoom,Zf(tr[Un],D)])}var Kn={name:"linear"};return{kind:"composite",interpolationType:Kn,interpolationFactor:oi.interpolationFactor.bind(void 0,Kn),zoomStops:_n.map(function(sa){return sa[0]}),evaluate:function(Oa,Ta){var La=Oa.zoom;return Zu({stops:_n,base:_.base},D,La).evaluate(La,Ta)}}}else if(Me){var fa=_e==="exponential"?{name:"exponential",base:_.base!==void 0?_.base:1}:null;return{kind:"camera",interpolationType:fa,interpolationFactor:oi.interpolationFactor.bind(void 0,fa),zoomStops:_.stops.map(function(sa){return sa[0]}),evaluate:function(sa){var Oa=sa.zoom;return Qe(_,D,Oa,dt,Mt)}}}else return{kind:"source",evaluate:function(Oa,Ta){var La=Ta&&Ta.properties?Ta.properties[_.property]:void 0;return La===void 0?ru(_.default,D.default):Qe(_,D,La,dt,Mt)}}}function ru(_,D,W){if(_!==void 0)return _;if(D!==void 0)return D;if(W!==void 0)return W}function Hh(_,D,W,ae,pe){var Me=typeof W===pe?ae[W]:void 0;return ru(Me,_.default,D.default)}function wc(_,D,W){if(Ei(W)!=="number")return ru(_.default,D.default);var ae=_.stops.length;if(ae===1||W<=_.stops[0][0])return _.stops[0][1];if(W>=_.stops[ae-1][0])return _.stops[ae-1][1];var pe=rl(_.stops.map(function(Me){return Me[0]}),W);return _.stops[pe][1]}function Zu(_,D,W){var ae=_.base!==void 0?_.base:1;if(Ei(W)!=="number")return ru(_.default,D.default);var pe=_.stops.length;if(pe===1||W<=_.stops[0][0])return _.stops[0][1];if(W>=_.stops[pe-1][0])return _.stops[pe-1][1];var Me=rl(_.stops.map(function(Yt){return Yt[0]}),W),_e=$c(W,ae,_.stops[Me][0],_.stops[Me+1][0]),Qe=_.stops[Me][1],dt=_.stops[Me+1][1],Mt=ir[D.type]||Yf;if(_.colorSpace&&_.colorSpace!=="rgb"){var Lt=Fi[_.colorSpace];Mt=function(Yt,fr){return Lt.reverse(Lt.interpolate(Lt.forward(Yt),Lt.forward(fr),_e))}}return typeof Qe.evaluate=="function"?{evaluate:function(){for(var fr=[],tr=arguments.length;tr--;)fr[tr]=arguments[tr];var wr=Qe.evaluate.apply(void 0,fr),Gr=dt.evaluate.apply(void 0,fr);if(!(wr===void 0||Gr===void 0))return Mt(wr,Gr,_e)}}:Mt(Qe,dt,_e)}function Tc(_,D,W){return D.type==="color"?W=xi.parse(W):D.type==="formatted"?W=Do.fromString(W.toString()):D.type==="resolvedImage"?W=bo.fromString(W.toString()):Ei(W)!==D.type&&(D.type!=="enum"||!D.values[W])&&(W=void 0),ru(W,_.default,D.default)}function $c(_,D,W,ae){var pe=ae-W,Me=_-W;return pe===0?0:D===1?Me/pe:(Math.pow(D,Me)-1)/(Math.pow(D,pe)-1)}var Hl=function(D,W){this.expression=D,this._warningHistory={},this._evaluator=new Hs,this._defaultValue=W?eh(W):null,this._enumValues=W&&W.type==="enum"?W.values:null};Hl.prototype.evaluateWithoutErrorHandling=function(D,W,ae,pe,Me,_e){return this._evaluator.globals=D,this._evaluator.feature=W,this._evaluator.featureState=ae,this._evaluator.canonical=pe,this._evaluator.availableImages=Me||null,this._evaluator.formattedSection=_e,this.expression.evaluate(this._evaluator)},Hl.prototype.evaluate=function(D,W,ae,pe,Me,_e){this._evaluator.globals=D,this._evaluator.feature=W||null,this._evaluator.featureState=ae||null,this._evaluator.canonical=pe,this._evaluator.availableImages=Me||null,this._evaluator.formattedSection=_e||null;try{var Qe=this.expression.evaluate(this._evaluator);if(Qe==null||typeof Qe=="number"&&Qe!==Qe)return this._defaultValue;if(this._enumValues&&!(Qe in this._enumValues))throw new wo("Expected value to be one of "+Object.keys(this._enumValues).map(function(dt){return JSON.stringify(dt)}).join(", ")+", but found "+JSON.stringify(Qe)+" instead.");return Qe}catch(dt){return this._warningHistory[dt.message]||(this._warningHistory[dt.message]=!0,typeof console<"u"&&console.warn(dt.message)),this._defaultValue}};function nu(_){return Array.isArray(_)&&_.length>0&&typeof _[0]=="string"&&_[0]in gs}function Mu(_,D){var W=new Qo(gs,[],D?Xf(D):void 0),ae=W.parse(_,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return ae?Tu(new Hl(ae,D)):Ws(W.errors)}var Su=function(D,W){this.kind=D,this._styleExpression=W,this.isStateDependent=D!=="constant"&&!Ol(W.expression)};Su.prototype.evaluateWithoutErrorHandling=function(D,W,ae,pe,Me,_e){return this._styleExpression.evaluateWithoutErrorHandling(D,W,ae,pe,Me,_e)},Su.prototype.evaluate=function(D,W,ae,pe,Me,_e){return this._styleExpression.evaluate(D,W,ae,pe,Me,_e)};var Ss=function(D,W,ae,pe){this.kind=D,this.zoomStops=ae,this._styleExpression=W,this.isStateDependent=D!=="camera"&&!Ol(W.expression),this.interpolationType=pe};Ss.prototype.evaluateWithoutErrorHandling=function(D,W,ae,pe,Me,_e){return this._styleExpression.evaluateWithoutErrorHandling(D,W,ae,pe,Me,_e)},Ss.prototype.evaluate=function(D,W,ae,pe,Me,_e){return this._styleExpression.evaluate(D,W,ae,pe,Me,_e)},Ss.prototype.interpolationFactor=function(D,W,ae){return this.interpolationType?oi.interpolationFactor(this.interpolationType,D,W,ae):0};function Is(_,D){if(_=Mu(_,D),_.result==="error")return _;var W=_.value.expression,ae=ml(W);if(!ae&&!il(D))return Ws([new Ln("","data expressions not supported")]);var pe=Nl(W,["zoom"]);if(!pe&&!bf(D))return Ws([new Ln("","zoom expressions not supported")]);var Me=Xu(W);if(!Me&&!pe)return Ws([new Ln("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Me instanceof Ln)return Ws([Me]);if(Me instanceof oi&&!Tl(D))return Ws([new Ln("",'"interpolate" expressions cannot be used with this property')]);if(!Me)return Tu(ae?new Su("constant",_.value):new Su("source",_.value));var _e=Me instanceof oi?Me.interpolation:void 0;return Tu(ae?new Ss("camera",_.value,Me.labels,_e):new Ss("composite",_.value,Me.labels,_e))}var Eu=function(D,W){this._parameters=D,this._specification=W,gn(this,Zf(this._parameters,this._specification))};Eu.deserialize=function(D){return new Eu(D._parameters,D._specification)},Eu.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};function qc(_,D){if(Au(_))return new Eu(_,D);if(nu(_)){var W=Is(_,D);if(W.result==="error")throw new Error(W.value.map(function(pe){return pe.key+": "+pe.message}).join(", "));return W.value}else{var ae=_;return typeof _=="string"&&D.type==="color"&&(ae=xi.parse(_)),{kind:"constant",evaluate:function(){return ae}}}}function Xu(_){var D=null;if(_ instanceof go)D=Xu(_.result);else if(_ instanceof wi)for(var W=0,ae=_.args;W<ae.length;W+=1){var pe=ae[W];if(D=Xu(pe),D)break}else(_ instanceof ks||_ instanceof oi)&&_.input instanceof No&&_.input.name==="zoom"&&(D=_);return D instanceof Ln||_.eachChild(function(Me){var _e=Xu(Me);_e instanceof Ln?D=_e:!D&&_e?D=new Ln("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&_e&&D!==_e&&(D=new Ln("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function Xf(_){var D={color:Hn,string:Nr,number:Rr,enum:Nr,boolean:xn,formatted:ma,resolvedImage:da};return _.type==="array"?pa(D[_.value]||An,_.length):D[_.type]}function eh(_){return _.type==="color"&&Au(_.default)?new xi(0,0,0,0):_.type==="color"?xi.parse(_.default)||null:_.default===void 0?null:_.default}function ol(_){var D=_.key,W=_.value,ae=_.valueSpec||{},pe=_.objectElementValidators||{},Me=_.style,_e=_.styleSpec,Qe=[],dt=Ei(W);if(dt!=="object")return[new Sr(D,W,"object expected, "+dt+" found")];for(var Mt in W){var Lt=Mt.split(".")[0],Yt=ae[Lt]||ae["*"],fr=void 0;if(pe[Lt])fr=pe[Lt];else if(ae[Lt])fr=ur;else if(pe["*"])fr=pe["*"];else if(ae["*"])fr=ur;else{Qe.push(new Sr(D,W[Mt],'unknown property "'+Mt+'"'));continue}Qe=Qe.concat(fr({key:(D&&D+".")+Mt,value:W[Mt],valueSpec:Yt,style:Me,styleSpec:_e,object:W,objectKey:Mt},W))}for(var tr in ae)pe[tr]||ae[tr].required&&ae[tr].default===void 0&&W[tr]===void 0&&Qe.push(new Sr(D,W,'missing required property "'+tr+'"'));return Qe}function Ac(_){var D=_.value,W=_.valueSpec,ae=_.style,pe=_.styleSpec,Me=_.key,_e=_.arrayElementValidator||ur;if(Ei(D)!=="array")return[new Sr(Me,D,"array expected, "+Ei(D)+" found")];if(W.length&&D.length!==W.length)return[new Sr(Me,D,"array length "+W.length+" expected, length "+D.length+" found")];if(W["min-length"]&&D.length<W["min-length"])return[new Sr(Me,D,"array length at least "+W["min-length"]+" expected, length "+D.length+" found")];var Qe={type:W.value,values:W.values};pe.$version<7&&(Qe.function=W.function),Ei(W.value)==="object"&&(Qe=W.value);for(var dt=[],Mt=0;Mt<D.length;Mt++)dt=dt.concat(_e({array:D,arrayIndex:Mt,value:D[Mt],valueSpec:Qe,style:ae,styleSpec:pe,key:Me+"["+Mt+"]"}));return dt}function au(_){var D=_.key,W=_.value,ae=_.valueSpec,pe=Ei(W);return pe==="number"&&W!==W&&(pe="NaN"),pe!=="number"?[new Sr(D,W,"number expected, "+pe+" found")]:"minimum"in ae&&W<ae.minimum?[new Sr(D,W,W+" is less than the minimum value "+ae.minimum)]:"maximum"in ae&&W>ae.maximum?[new Sr(D,W,W+" is greater than the maximum value "+ae.maximum)]:[]}function wf(_){var D=_.valueSpec,W=yn(_.value.type),ae,pe={},Me,_e,Qe=W!=="categorical"&&_.value.property===void 0,dt=!Qe,Mt=Ei(_.value.stops)==="array"&&Ei(_.value.stops[0])==="array"&&Ei(_.value.stops[0][0])==="object",Lt=ol({key:_.key,value:_.value,valueSpec:_.styleSpec.function,style:_.style,styleSpec:_.styleSpec,objectElementValidators:{stops:Yt,default:wr}});return W==="identity"&&Qe&&Lt.push(new Sr(_.key,_.value,'missing required property "property"')),W!=="identity"&&!_.value.stops&&Lt.push(new Sr(_.key,_.value,'missing required property "stops"')),W==="exponential"&&_.valueSpec.expression&&!Tl(_.valueSpec)&&Lt.push(new Sr(_.key,_.value,"exponential functions not supported")),_.styleSpec.$version>=8&&(dt&&!il(_.valueSpec)?Lt.push(new Sr(_.key,_.value,"property functions not supported")):Qe&&!bf(_.valueSpec)&&Lt.push(new Sr(_.key,_.value,"zoom functions not supported"))),(W==="categorical"||Mt)&&_.value.property===void 0&&Lt.push(new Sr(_.key,_.value,'"property" property is required')),Lt;function Yt(Gr){if(W==="identity")return[new Sr(Gr.key,Gr.value,'identity function may not have a "stops" property')];var cn=[],rn=Gr.value;return cn=cn.concat(Ac({key:Gr.key,value:rn,valueSpec:Gr.valueSpec,style:Gr.style,styleSpec:Gr.styleSpec,arrayElementValidator:fr})),Ei(rn)==="array"&&rn.length===0&&cn.push(new Sr(Gr.key,rn,"array must have at least one stop")),cn}function fr(Gr){var cn=[],rn=Gr.value,_n=Gr.key;if(Ei(rn)!=="array")return[new Sr(_n,rn,"array expected, "+Ei(rn)+" found")];if(rn.length!==2)return[new Sr(_n,rn,"array length 2 expected, length "+rn.length+" found")];if(Mt){if(Ei(rn[0])!=="object")return[new Sr(_n,rn,"object expected, "+Ei(rn[0])+" found")];if(rn[0].zoom===void 0)return[new Sr(_n,rn,"object stop key must have zoom")];if(rn[0].value===void 0)return[new Sr(_n,rn,"object stop key must have value")];if(_e&&_e>yn(rn[0].zoom))return[new Sr(_n,rn[0].zoom,"stop zoom values must appear in ascending order")];yn(rn[0].zoom)!==_e&&(_e=yn(rn[0].zoom),Me=void 0,pe={}),cn=cn.concat(ol({key:_n+"[0]",value:rn[0],valueSpec:{zoom:{}},style:Gr.style,styleSpec:Gr.styleSpec,objectElementValidators:{zoom:au,value:tr}}))}else cn=cn.concat(tr({key:_n+"[0]",value:rn[0],valueSpec:{},style:Gr.style,styleSpec:Gr.styleSpec},rn));return nu(Fn(rn[1]))?cn.concat([new Sr(_n+"[1]",rn[1],"expressions are not allowed in function stops.")]):cn.concat(ur({key:_n+"[1]",value:rn[1],valueSpec:D,style:Gr.style,styleSpec:Gr.styleSpec}))}function tr(Gr,cn){var rn=Ei(Gr.value),_n=yn(Gr.value),En=Gr.value!==null?Gr.value:cn;if(!ae)ae=rn;else if(rn!==ae)return[new Sr(Gr.key,En,rn+" stop domain type must match previous stop domain type "+ae)];if(rn!=="number"&&rn!=="string"&&rn!=="boolean")return[new Sr(Gr.key,En,"stop domain value must be a number, string, or boolean")];if(rn!=="number"&&W!=="categorical"){var Rn="number expected, "+rn+" found";return il(D)&&W===void 0&&(Rn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Sr(Gr.key,En,Rn)]}return W==="categorical"&&rn==="number"&&(!isFinite(_n)||Math.floor(_n)!==_n)?[new Sr(Gr.key,En,"integer expected, found "+_n)]:W!=="categorical"&&rn==="number"&&Me!==void 0&&_n<Me?[new Sr(Gr.key,En,"stop domain values must appear in ascending order")]:(Me=_n,W==="categorical"&&_n in pe?[new Sr(Gr.key,En,"stop domain values must be unique")]:(pe[_n]=!0,[]))}function wr(Gr){return ur({key:Gr.key,value:Gr.value,valueSpec:D,style:Gr.style,styleSpec:Gr.styleSpec})}}function Vl(_){var D=(_.expressionContext==="property"?Is:Mu)(Fn(_.value),_.valueSpec);if(D.result==="error")return D.value.map(function(ae){return new Sr(""+_.key+ae.key,_.value,ae.message)});var W=D.value.expression||D.value._styleExpression.expression;if(_.expressionContext==="property"&&_.propertyKey==="text-font"&&!W.outputDefined())return[new Sr(_.key,_.value,'Invalid data expression for "'+_.propertyKey+'". Output values must be contained as literals within the expression.')];if(_.expressionContext==="property"&&_.propertyType==="layout"&&!Ol(W))return[new Sr(_.key,_.value,'"feature-state" data expressions are not supported with layout properties.')];if(_.expressionContext==="filter"&&!Ol(W))return[new Sr(_.key,_.value,'"feature-state" data expressions are not supported with filters.')];if(_.expressionContext&&_.expressionContext.indexOf("cluster")===0){if(!Nl(W,["zoom","feature-state"]))return[new Sr(_.key,_.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(_.expressionContext==="cluster-initial"&&!ml(W))return[new Sr(_.key,_.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Vh(_){var D=_.value,W=_.key,ae=Ei(D);return ae!=="boolean"?[new Sr(W,D,"boolean expected, "+ae+" found")]:[]}function Mc(_){var D=_.key,W=_.value,ae=Ei(W);return ae!=="string"?[new Sr(D,W,"color expected, "+ae+" found")]:Uu(W)===null?[new Sr(D,W,'color expected, "'+W+'" found')]:[]}function Kf(_){var D=_.key,W=_.value,ae=_.valueSpec,pe=[];return Array.isArray(ae.values)?ae.values.indexOf(yn(W))===-1&&pe.push(new Sr(D,W,"expected one of ["+ae.values.join(", ")+"], "+JSON.stringify(W)+" found")):Object.keys(ae.values).indexOf(yn(W))===-1&&pe.push(new Sr(D,W,"expected one of ["+Object.keys(ae.values).join(", ")+"], "+JSON.stringify(W)+" found")),pe}function fs(_){if(_===!0||_===!1)return!0;if(!Array.isArray(_)||_.length===0)return!1;switch(_[0]){case"has":return _.length>=2&&_[1]!=="$id"&&_[1]!=="$type";case"in":return _.length>=3&&(typeof _[1]!="string"||Array.isArray(_[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return _.length!==3||Array.isArray(_[1])||Array.isArray(_[2]);case"any":case"all":for(var D=0,W=_.slice(1);D<W.length;D+=1){var ae=W[D];if(!fs(ae)&&typeof ae!="boolean")return!1}return!0;default:return!0}}var th={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Tf(_){if(_==null)return{filter:function(){return!0},needGeometry:!1};fs(_)||(_=iu(_));var D=Mu(_,th);if(D.result==="error")throw new Error(D.value.map(function(ae){return ae.key+": "+ae.message}).join(", "));var W=Af(_);return{filter:function(ae,pe,Me){return D.value.evaluate(ae,pe,{},Me)},needGeometry:W}}function Al(_,D){return _<D?-1:_>D?1:0}function Af(_){if(!Array.isArray(_))return!1;if(_[0]==="within")return!0;for(var D=1;D<_.length;D++)if(Af(_[D]))return!0;return!1}function iu(_){if(!_)return!0;var D=_[0];if(_.length<=1)return D!=="any";var W=D==="=="?Jf(_[1],_[2],"=="):D==="!="?Cu(Jf(_[1],_[2],"==")):D==="<"||D===">"||D==="<="||D===">="?Jf(_[1],_[2],D):D==="any"?rh(_.slice(1)):D==="all"?["all"].concat(_.slice(1).map(iu)):D==="none"?["all"].concat(_.slice(1).map(iu).map(Cu)):D==="in"?Sc(_[1],_.slice(2)):D==="!in"?Cu(Sc(_[1],_.slice(2))):D==="has"?Ec(_[1]):D==="!has"?Cu(Ec(_[1])):D==="within"?_:!0;return W}function Jf(_,D,W){switch(_){case"$type":return["filter-type-"+W,D];case"$id":return["filter-id-"+W,D];default:return["filter-"+W,_,D]}}function rh(_){return["any"].concat(_.map(iu))}function Sc(_,D){if(D.length===0)return!1;switch(_){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(W){return typeof W!=typeof D[0]})?["filter-in-large",_,["literal",D.sort(Al)]]:["filter-in-small",_,["literal",D]]}}function Ec(_){switch(_){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",_]}}function Cu(_){return["!",_]}function Qf(_){return fs(Fn(_.value))?Vl(gn({},_,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Mf(_)}function Mf(_){var D=_.value,W=_.key;if(Ei(D)!=="array")return[new Sr(W,D,"array expected, "+Ei(D)+" found")];var ae=_.styleSpec,pe,Me=[];if(D.length<1)return[new Sr(W,D,"filter array must have at least 1 element")];switch(Me=Me.concat(Kf({key:W+"[0]",value:D[0],valueSpec:ae.filter_operator,style:_.style,styleSpec:_.styleSpec})),yn(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&yn(D[1])==="$type"&&Me.push(new Sr(W,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&Me.push(new Sr(W,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(pe=Ei(D[1]),pe!=="string"&&Me.push(new Sr(W+"[1]",D[1],"string expected, "+pe+" found")));for(var _e=2;_e<D.length;_e++)pe=Ei(D[_e]),yn(D[1])==="$type"?Me=Me.concat(Kf({key:W+"["+_e+"]",value:D[_e],valueSpec:ae.geometry_type,style:_.style,styleSpec:_.styleSpec})):pe!=="string"&&pe!=="number"&&pe!=="boolean"&&Me.push(new Sr(W+"["+_e+"]",D[_e],"string, number, or boolean expected, "+pe+" found"));break;case"any":case"all":case"none":for(var Qe=1;Qe<D.length;Qe++)Me=Me.concat(Mf({key:W+"["+Qe+"]",value:D[Qe],style:_.style,styleSpec:_.styleSpec}));break;case"has":case"!has":pe=Ei(D[1]),D.length!==2?Me.push(new Sr(W,D,'filter array for "'+D[0]+'" operator must have 2 elements')):pe!=="string"&&Me.push(new Sr(W+"[1]",D[1],"string expected, "+pe+" found"));break;case"within":pe=Ei(D[1]),D.length!==2?Me.push(new Sr(W,D,'filter array for "'+D[0]+'" operator must have 2 elements')):pe!=="object"&&Me.push(new Sr(W+"[1]",D[1],"object expected, "+pe+" found"));break}return Me}function nh(_,D){var W=_.key,ae=_.style,pe=_.styleSpec,Me=_.value,_e=_.objectKey,Qe=pe[D+"_"+_.layerType];if(!Qe)return[];var dt=_e.match(/^(.*)-transition$/);if(D==="paint"&&dt&&Qe[dt[1]]&&Qe[dt[1]].transition)return ur({key:W,value:Me,valueSpec:pe.transition,style:ae,styleSpec:pe});var Mt=_.valueSpec||Qe[_e];if(!Mt)return[new Sr(W,Me,'unknown property "'+_e+'"')];var Lt;if(Ei(Me)==="string"&&il(Mt)&&!Mt.tokens&&(Lt=/^{([^}]+)}$/.exec(Me)))return[new Sr(W,Me,'"'+_e+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Lt[1])+" }`.")];var Yt=[];return _.layerType==="symbol"&&(_e==="text-field"&&ae&&!ae.glyphs&&Yt.push(new Sr(W,Me,'use of "text-field" requires a style "glyphs" property')),_e==="text-font"&&Au(Fn(Me))&&yn(Me.type)==="identity"&&Yt.push(new Sr(W,Me,'"text-font" does not support identity functions'))),Yt.concat(ur({key:_.key,value:Me,valueSpec:Mt,style:ae,styleSpec:pe,expressionContext:"property",propertyType:D,propertyKey:_e}))}function Sf(_){return nh(_,"paint")}function ah(_){return nh(_,"layout")}function Je(_){var D=[],W=_.value,ae=_.key,pe=_.style,Me=_.styleSpec;!W.type&&!W.ref&&D.push(new Sr(ae,W,'either "type" or "ref" is required'));var _e=yn(W.type),Qe=yn(W.ref);if(W.id)for(var dt=yn(W.id),Mt=0;Mt<_.arrayIndex;Mt++){var Lt=pe.layers[Mt];yn(Lt.id)===dt&&D.push(new Sr(ae,W.id,'duplicate layer id "'+W.id+'", previously used at line '+Lt.id.__line__))}if("ref"in W){["type","source","source-layer","filter","layout"].forEach(function(wr){wr in W&&D.push(new Sr(ae,W[wr],'"'+wr+'" is prohibited for ref layers'))});var Yt;pe.layers.forEach(function(wr){yn(wr.id)===Qe&&(Yt=wr)}),Yt?Yt.ref?D.push(new Sr(ae,W.ref,"ref cannot reference another ref layer")):_e=yn(Yt.type):D.push(new Sr(ae,W.ref,'ref layer "'+Qe+'" not found'))}else if(_e!=="background")if(!W.source)D.push(new Sr(ae,W,'missing required property "source"'));else{var fr=pe.sources&&pe.sources[W.source],tr=fr&&yn(fr.type);fr?tr==="vector"&&_e==="raster"?D.push(new Sr(ae,W.source,'layer "'+W.id+'" requires a raster source')):tr==="raster"&&_e!=="raster"?D.push(new Sr(ae,W.source,'layer "'+W.id+'" requires a vector source')):tr==="vector"&&!W["source-layer"]?D.push(new Sr(ae,W,'layer "'+W.id+'" must specify a "source-layer"')):tr==="raster-dem"&&_e!=="hillshade"?D.push(new Sr(ae,W.source,"raster-dem source can only be used with layer type 'hillshade'.")):_e==="line"&&W.paint&&W.paint["line-gradient"]&&(tr!=="geojson"||!fr.lineMetrics)&&D.push(new Sr(ae,W,'layer "'+W.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new Sr(ae,W.source,'source "'+W.source+'" not found'))}return D=D.concat(ol({key:ae,value:W,valueSpec:Me.layer,style:_.style,styleSpec:_.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ur({key:ae+".type",value:W.type,valueSpec:Me.layer.type,style:_.style,styleSpec:_.styleSpec,object:W,objectKey:"type"})},filter:Qf,layout:function(Gr){return ol({layer:W,key:Gr.key,value:Gr.value,style:Gr.style,styleSpec:Gr.styleSpec,objectElementValidators:{"*":function(rn){return ah(gn({layerType:_e},rn))}}})},paint:function(Gr){return ol({layer:W,key:Gr.key,value:Gr.value,style:Gr.style,styleSpec:Gr.styleSpec,objectElementValidators:{"*":function(rn){return Sf(gn({layerType:_e},rn))}}})}}})),D}function ot(_){var D=_.value,W=_.key,ae=Ei(D);return ae!=="string"?[new Sr(W,D,"string expected, "+ae+" found")]:[]}var gt={promoteId:Ft};function xt(_){var D=_.value,W=_.key,ae=_.styleSpec,pe=_.style;if(!D.type)return[new Sr(W,D,'"type" is required')];var Me=yn(D.type),_e;switch(Me){case"vector":case"raster":case"raster-dem":return _e=ol({key:W,value:D,valueSpec:ae["source_"+Me.replace("-","_")],style:_.style,styleSpec:ae,objectElementValidators:gt}),_e;case"geojson":if(_e=ol({key:W,value:D,valueSpec:ae.source_geojson,style:pe,styleSpec:ae,objectElementValidators:gt}),D.cluster)for(var Qe in D.clusterProperties){var dt=D.clusterProperties[Qe],Mt=dt[0],Lt=dt[1],Yt=typeof Mt=="string"?[Mt,["accumulated"],["get",Qe]]:Mt;_e.push.apply(_e,Vl({key:W+"."+Qe+".map",value:Lt,expressionContext:"cluster-map"})),_e.push.apply(_e,Vl({key:W+"."+Qe+".reduce",value:Yt,expressionContext:"cluster-reduce"}))}return _e;case"video":return ol({key:W,value:D,valueSpec:ae.source_video,style:pe,styleSpec:ae});case"image":return ol({key:W,value:D,valueSpec:ae.source_image,style:pe,styleSpec:ae});case"canvas":return[new Sr(W,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Kf({key:W+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:pe,styleSpec:ae})}}function Ft(_){var D=_.key,W=_.value;if(Ei(W)==="string")return ot({key:D,value:W});var ae=[];for(var pe in W)ae.push.apply(ae,ot({key:D+"."+pe,value:W[pe]}));return ae}function _t(_){var D=_.value,W=_.styleSpec,ae=W.light,pe=_.style,Me=[],_e=Ei(D);if(D===void 0)return Me;if(_e!=="object")return Me=Me.concat([new Sr("light",D,"object expected, "+_e+" found")]),Me;for(var Qe in D){var dt=Qe.match(/^(.*)-transition$/);dt&&ae[dt[1]]&&ae[dt[1]].transition?Me=Me.concat(ur({key:Qe,value:D[Qe],valueSpec:W.transition,style:pe,styleSpec:W})):ae[Qe]?Me=Me.concat(ur({key:Qe,value:D[Qe],valueSpec:ae[Qe],style:pe,styleSpec:W})):Me=Me.concat([new Sr(Qe,D[Qe],'unknown property "'+Qe+'"')])}return Me}function Nt(_){return ot(_).length===0?[]:Vl(_)}function pr(_){return ot(_).length===0?[]:Vl(_)}var xr={"*":function(){return[]},array:Ac,boolean:Vh,number:au,color:Mc,constants:fn,enum:Kf,filter:Qf,function:wf,layer:Je,object:ol,source:xt,light:_t,string:ot,formatted:Nt,resolvedImage:pr};function ur(_){var D=_.value,W=_.valueSpec,ae=_.styleSpec;if(W.expression&&Au(yn(D)))return wf(_);if(W.expression&&nu(Fn(D)))return Vl(_);if(W.type&&xr[W.type])return xr[W.type](_);var pe=ol(gn({},_,{valueSpec:W.type?ae[W.type]:W}));return pe}function Er(_){var D=_.value,W=_.key,ae=ot(_);return ae.length||(D.indexOf("{fontstack}")===-1&&ae.push(new Sr(W,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&ae.push(new Sr(W,D,'"glyphs" url must include a "{range}" token'))),ae}function kr(_,D){D===void 0&&(D=Kt);var W=[];return W=W.concat(ur({key:"",value:_,valueSpec:D.$root,styleSpec:D,style:_,objectElementValidators:{glyphs:Er,"*":function(){return[]}}})),_.constants&&(W=W.concat(fn({key:"constants",value:_.constants,style:_,styleSpec:D}))),Jr(W)}kr.source=en(xt),kr.light=en(_t),kr.layer=en(Je),kr.filter=en(Qf),kr.paintProperty=en(Sf),kr.layoutProperty=en(ah);function Jr(_){return[].concat(_).sort(function(D,W){return D.line-W.line})}function en(_){return function(){for(var D=[],W=arguments.length;W--;)D[W]=arguments[W];return Jr(_.apply(this,D))}}var Sn=kr,Cn=Sn.light,Nn=Sn.paintProperty,Aa=Sn.layoutProperty;function Ba(_,D){var W=!1;if(D&&D.length)for(var ae=0,pe=D;ae<pe.length;ae+=1){var Me=pe[ae];_.fire(new lr(new Error(Me.message))),W=!0}return W}var Ga=Ya,Wa=3;function Ya(_,D,W){var ae=this.cells=[];if(_ instanceof ArrayBuffer){this.arrayBuffer=_;var pe=new Int32Array(this.arrayBuffer);_=pe[0],D=pe[1],W=pe[2],this.d=D+2*W;for(var Me=0;Me<this.d*this.d;Me++){var _e=pe[Wa+Me],Qe=pe[Wa+Me+1];ae.push(_e===Qe?null:pe.subarray(_e,Qe))}var dt=pe[Wa+ae.length],Mt=pe[Wa+ae.length+1];this.keys=pe.subarray(dt,Mt),this.bboxes=pe.subarray(Mt),this.insert=this._insertReadonly}else{this.d=D+2*W;for(var Lt=0;Lt<this.d*this.d;Lt++)ae.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=_,this.padding=W,this.scale=D/_,this.uid=0;var Yt=W/D*_;this.min=-Yt,this.max=_+Yt}Ya.prototype.insert=function(_,D,W,ae,pe){this._forEachCell(D,W,ae,pe,this._insertCell,this.uid++),this.keys.push(_),this.bboxes.push(D),this.bboxes.push(W),this.bboxes.push(ae),this.bboxes.push(pe)},Ya.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ya.prototype._insertCell=function(_,D,W,ae,pe,Me){this.cells[pe].push(Me)},Ya.prototype.query=function(_,D,W,ae,pe){var Me=this.min,_e=this.max;if(_<=Me&&D<=Me&&_e<=W&&_e<=ae&&!pe)return Array.prototype.slice.call(this.keys);var Qe=[],dt={};return this._forEachCell(_,D,W,ae,this._queryCell,Qe,dt,pe),Qe},Ya.prototype._queryCell=function(_,D,W,ae,pe,Me,_e,Qe){var dt=this.cells[pe];if(dt!==null)for(var Mt=this.keys,Lt=this.bboxes,Yt=0;Yt<dt.length;Yt++){var fr=dt[Yt];if(_e[fr]===void 0){var tr=fr*4;(Qe?Qe(Lt[tr+0],Lt[tr+1],Lt[tr+2],Lt[tr+3]):_<=Lt[tr+2]&&D<=Lt[tr+3]&&W>=Lt[tr+0]&&ae>=Lt[tr+1])?(_e[fr]=!0,Me.push(Mt[fr])):_e[fr]=!1}}},Ya.prototype._forEachCell=function(_,D,W,ae,pe,Me,_e,Qe){for(var dt=this._convertToCellCoord(_),Mt=this._convertToCellCoord(D),Lt=this._convertToCellCoord(W),Yt=this._convertToCellCoord(ae),fr=dt;fr<=Lt;fr++)for(var tr=Mt;tr<=Yt;tr++){var wr=this.d*tr+fr;if(!(Qe&&!Qe(this._convertFromCellCoord(fr),this._convertFromCellCoord(tr),this._convertFromCellCoord(fr+1),this._convertFromCellCoord(tr+1)))&&pe.call(this,_,D,W,ae,wr,Me,_e,Qe))return}},Ya.prototype._convertFromCellCoord=function(_){return(_-this.padding)/this.scale},Ya.prototype._convertToCellCoord=function(_){return Math.max(0,Math.min(this.d-1,Math.floor(_*this.scale)+this.padding))},Ya.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var _=this.cells,D=Wa+this.cells.length+1+1,W=0,ae=0;ae<this.cells.length;ae++)W+=this.cells[ae].length;var pe=new Int32Array(D+W+this.keys.length+this.bboxes.length);pe[0]=this.extent,pe[1]=this.n,pe[2]=this.padding;for(var Me=D,_e=0;_e<_.length;_e++){var Qe=_[_e];pe[Wa+_e]=Me,pe.set(Qe,Me),Me+=Qe.length}return pe[Wa+_.length]=Me,pe.set(this.keys,Me),Me+=this.keys.length,pe[Wa+_.length+1]=Me,pe.set(this.bboxes,Me),Me+=this.bboxes.length,pe.buffer};var Di=self.ImageData,vo=self.ImageBitmap,Wi={};function ue(_,D,W){W===void 0&&(W={}),Object.defineProperty(D,"_classRegistryKey",{value:_,writeable:!1}),Wi[_]={klass:D,omit:W.omit||[],shallow:W.shallow||[]}}ue("Object",Object),Ga.serialize=function(D,W){var ae=D.toArrayBuffer();return W&&W.push(ae),{buffer:ae}},Ga.deserialize=function(D){return new Ga(D.buffer)},ue("Grid",Ga),ue("Color",xi),ue("Error",Error),ue("ResolvedImage",bo),ue("StylePropertyFunction",Eu),ue("StyleExpression",Hl,{omit:["_evaluator"]}),ue("ZoomDependentExpression",Ss),ue("ZoomConstantExpression",Su),ue("CompoundExpression",No,{omit:["_evaluate"]});for(var Le in gs)gs[Le]._classRegistryKey||ue("Expression_"+Le,gs[Le]);function Ve(_){return _&&typeof ArrayBuffer<"u"&&(_ instanceof ArrayBuffer||_.constructor&&_.constructor.name==="ArrayBuffer")}function et(_){return vo&&_ instanceof vo}function at(_,D){if(_==null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||_ instanceof Boolean||_ instanceof Number||_ instanceof String||_ instanceof Date||_ instanceof RegExp)return _;if(Ve(_)||et(_))return D&&D.push(_),_;if(ArrayBuffer.isView(_)){var W=_;return D&&D.push(W.buffer),W}if(_ instanceof Di)return D&&D.push(_.data.buffer),_;if(Array.isArray(_)){for(var ae=[],pe=0,Me=_;pe<Me.length;pe+=1){var _e=Me[pe];ae.push(at(_e,D))}return ae}if(typeof _=="object"){var Qe=_.constructor,dt=Qe._classRegistryKey;if(!dt)throw new Error("can't serialize object of unregistered class");var Mt=Qe.serialize?Qe.serialize(_,D):{};if(!Qe.serialize){for(var Lt in _)if(_.hasOwnProperty(Lt)&&!(Wi[dt].omit.indexOf(Lt)>=0)){var Yt=_[Lt];Mt[Lt]=Wi[dt].shallow.indexOf(Lt)>=0?Yt:at(Yt,D)}_ instanceof Error&&(Mt.message=_.message)}if(Mt.$name)throw new Error("$name property is reserved for worker serialization logic.");return dt!=="Object"&&(Mt.$name=dt),Mt}throw new Error("can't serialize object of type "+typeof _)}function lt(_){if(_==null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||_ instanceof Boolean||_ instanceof Number||_ instanceof String||_ instanceof Date||_ instanceof RegExp||Ve(_)||et(_)||ArrayBuffer.isView(_)||_ instanceof Di)return _;if(Array.isArray(_))return _.map(lt);if(typeof _=="object"){var D=_.$name||"Object",W=Wi[D],ae=W.klass;if(!ae)throw new Error("can't deserialize unregistered class "+D);if(ae.deserialize)return ae.deserialize(_);for(var pe=Object.create(ae.prototype),Me=0,_e=Object.keys(_);Me<_e.length;Me+=1){var Qe=_e[Me];if(Qe!=="$name"){var dt=_[Qe];pe[Qe]=Wi[D].shallow.indexOf(Qe)>=0?dt:lt(dt)}}return pe}throw new Error("can't deserialize object of type "+typeof _)}var Dt=function(){this.first=!0};Dt.prototype.update=function(D,W){var ae=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=ae,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=ae,!0):(this.lastFloorZoom>ae?(this.lastIntegerZoom=ae+1,this.lastIntegerZoomTime=W):this.lastFloorZoom<ae&&(this.lastIntegerZoom=ae,this.lastIntegerZoomTime=W),D!==this.lastZoom?(this.lastZoom=D,this.lastFloorZoom=ae,!0):!1)};var pt={"Latin-1 Supplement":function(_){return _>=128&&_<=255},Arabic:function(_){return _>=1536&&_<=1791},"Arabic Supplement":function(_){return _>=1872&&_<=1919},"Arabic Extended-A":function(_){return _>=2208&&_<=2303},"Hangul Jamo":function(_){return _>=4352&&_<=4607},"Unified Canadian Aboriginal Syllabics":function(_){return _>=5120&&_<=5759},Khmer:function(_){return _>=6016&&_<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(_){return _>=6320&&_<=6399},"General Punctuation":function(_){return _>=8192&&_<=8303},"Letterlike Symbols":function(_){return _>=8448&&_<=8527},"Number Forms":function(_){return _>=8528&&_<=8591},"Miscellaneous Technical":function(_){return _>=8960&&_<=9215},"Control Pictures":function(_){return _>=9216&&_<=9279},"Optical Character Recognition":function(_){return _>=9280&&_<=9311},"Enclosed Alphanumerics":function(_){return _>=9312&&_<=9471},"Geometric Shapes":function(_){return _>=9632&&_<=9727},"Miscellaneous Symbols":function(_){return _>=9728&&_<=9983},"Miscellaneous Symbols and Arrows":function(_){return _>=11008&&_<=11263},"CJK Radicals Supplement":function(_){return _>=11904&&_<=12031},"Kangxi Radicals":function(_){return _>=12032&&_<=12255},"Ideographic Description Characters":function(_){return _>=12272&&_<=12287},"CJK Symbols and Punctuation":function(_){return _>=12288&&_<=12351},Hiragana:function(_){return _>=12352&&_<=12447},Katakana:function(_){return _>=12448&&_<=12543},Bopomofo:function(_){return _>=12544&&_<=12591},"Hangul Compatibility Jamo":function(_){return _>=12592&&_<=12687},Kanbun:function(_){return _>=12688&&_<=12703},"Bopomofo Extended":function(_){return _>=12704&&_<=12735},"CJK Strokes":function(_){return _>=12736&&_<=12783},"Katakana Phonetic Extensions":function(_){return _>=12784&&_<=12799},"Enclosed CJK Letters and Months":function(_){return _>=12800&&_<=13055},"CJK Compatibility":function(_){return _>=13056&&_<=13311},"CJK Unified Ideographs Extension A":function(_){return _>=13312&&_<=19903},"Yijing Hexagram Symbols":function(_){return _>=19904&&_<=19967},"CJK Unified Ideographs":function(_){return _>=19968&&_<=40959},"Yi Syllables":function(_){return _>=40960&&_<=42127},"Yi Radicals":function(_){return _>=42128&&_<=42191},"Hangul Jamo Extended-A":function(_){return _>=43360&&_<=43391},"Hangul Syllables":function(_){return _>=44032&&_<=55215},"Hangul Jamo Extended-B":function(_){return _>=55216&&_<=55295},"Private Use Area":function(_){return _>=57344&&_<=63743},"CJK Compatibility Ideographs":function(_){return _>=63744&&_<=64255},"Arabic Presentation Forms-A":function(_){return _>=64336&&_<=65023},"Vertical Forms":function(_){return _>=65040&&_<=65055},"CJK Compatibility Forms":function(_){return _>=65072&&_<=65103},"Small Form Variants":function(_){return _>=65104&&_<=65135},"Arabic Presentation Forms-B":function(_){return _>=65136&&_<=65279},"Halfwidth and Fullwidth Forms":function(_){return _>=65280&&_<=65519}};function Vt(_){for(var D=0,W=_;D<W.length;D+=1){var ae=W[D];if(_r(ae.charCodeAt(0)))return!0}return!1}function rr(_){for(var D=0,W=_;D<W.length;D+=1){var ae=W[D];if(!ar(ae.charCodeAt(0)))return!1}return!0}function ar(_){return!(pt.Arabic(_)||pt["Arabic Supplement"](_)||pt["Arabic Extended-A"](_)||pt["Arabic Presentation Forms-A"](_)||pt["Arabic Presentation Forms-B"](_))}function Dr(_){return _<11904?!1:!!(pt["Bopomofo Extended"](_)||pt.Bopomofo(_)||pt["CJK Compatibility Forms"](_)||pt["CJK Compatibility Ideographs"](_)||pt["CJK Compatibility"](_)||pt["CJK Radicals Supplement"](_)||pt["CJK Strokes"](_)||pt["CJK Symbols and Punctuation"](_)||pt["CJK Unified Ideographs Extension A"](_)||pt["CJK Unified Ideographs"](_)||pt["Enclosed CJK Letters and Months"](_)||pt["Halfwidth and Fullwidth Forms"](_)||pt.Hiragana(_)||pt["Ideographic Description Characters"](_)||pt["Kangxi Radicals"](_)||pt["Katakana Phonetic Extensions"](_)||pt.Katakana(_)||pt["Vertical Forms"](_)||pt["Yi Radicals"](_)||pt["Yi Syllables"](_))}function _r(_){return _===746||_===747?!0:_<4352?!1:!!(pt["Bopomofo Extended"](_)||pt.Bopomofo(_)||pt["CJK Compatibility Forms"](_)&&!(_>=65097&&_<=65103)||pt["CJK Compatibility Ideographs"](_)||pt["CJK Compatibility"](_)||pt["CJK Radicals Supplement"](_)||pt["CJK Strokes"](_)||pt["CJK Symbols and Punctuation"](_)&&!(_>=12296&&_<=12305)&&!(_>=12308&&_<=12319)&&_!==12336||pt["CJK Unified Ideographs Extension A"](_)||pt["CJK Unified Ideographs"](_)||pt["Enclosed CJK Letters and Months"](_)||pt["Hangul Compatibility Jamo"](_)||pt["Hangul Jamo Extended-A"](_)||pt["Hangul Jamo Extended-B"](_)||pt["Hangul Jamo"](_)||pt["Hangul Syllables"](_)||pt.Hiragana(_)||pt["Ideographic Description Characters"](_)||pt.Kanbun(_)||pt["Kangxi Radicals"](_)||pt["Katakana Phonetic Extensions"](_)||pt.Katakana(_)&&_!==12540||pt["Halfwidth and Fullwidth Forms"](_)&&_!==65288&&_!==65289&&_!==65293&&!(_>=65306&&_<=65310)&&_!==65339&&_!==65341&&_!==65343&&!(_>=65371&&_<=65503)&&_!==65507&&!(_>=65512&&_<=65519)||pt["Small Form Variants"](_)&&!(_>=65112&&_<=65118)&&!(_>=65123&&_<=65126)||pt["Unified Canadian Aboriginal Syllabics"](_)||pt["Unified Canadian Aboriginal Syllabics Extended"](_)||pt["Vertical Forms"](_)||pt["Yijing Hexagram Symbols"](_)||pt["Yi Syllables"](_)||pt["Yi Radicals"](_))}function qr(_){return!!(pt["Latin-1 Supplement"](_)&&(_===167||_===169||_===174||_===177||_===188||_===189||_===190||_===215||_===247)||pt["General Punctuation"](_)&&(_===8214||_===8224||_===8225||_===8240||_===8241||_===8251||_===8252||_===8258||_===8263||_===8264||_===8265||_===8273)||pt["Letterlike Symbols"](_)||pt["Number Forms"](_)||pt["Miscellaneous Technical"](_)&&(_>=8960&&_<=8967||_>=8972&&_<=8991||_>=8996&&_<=9e3||_===9003||_>=9085&&_<=9114||_>=9150&&_<=9165||_===9167||_>=9169&&_<=9179||_>=9186&&_<=9215)||pt["Control Pictures"](_)&&_!==9251||pt["Optical Character Recognition"](_)||pt["Enclosed Alphanumerics"](_)||pt["Geometric Shapes"](_)||pt["Miscellaneous Symbols"](_)&&!(_>=9754&&_<=9759)||pt["Miscellaneous Symbols and Arrows"](_)&&(_>=11026&&_<=11055||_>=11088&&_<=11097||_>=11192&&_<=11243)||pt["CJK Symbols and Punctuation"](_)||pt.Katakana(_)||pt["Private Use Area"](_)||pt["CJK Compatibility Forms"](_)||pt["Small Form Variants"](_)||pt["Halfwidth and Fullwidth Forms"](_)||_===8734||_===8756||_===8757||_>=9984&&_<=10087||_>=10102&&_<=10131||_===65532||_===65533)}function on(_){return!(_r(_)||qr(_))}function Fr(_){return pt.Arabic(_)||pt["Arabic Supplement"](_)||pt["Arabic Extended-A"](_)||pt["Arabic Presentation Forms-A"](_)||pt["Arabic Presentation Forms-B"](_)}function Wr(_){return _>=1424&&_<=2303||pt["Arabic Presentation Forms-A"](_)||pt["Arabic Presentation Forms-B"](_)}function Qr(_,D){return!(!D&&Wr(_)||_>=2304&&_<=3583||_>=3840&&_<=4255||pt.Khmer(_))}function sn(_){for(var D=0,W=_;D<W.length;D+=1){var ae=W[D];if(Wr(ae.charCodeAt(0)))return!0}return!1}function pn(_,D){for(var W=0,ae=_;W<ae.length;W+=1){var pe=ae[W];if(!Qr(pe.charCodeAt(0),D))return!1}return!0}var $r={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},Yn=null,Jn=$r.unavailable,ia=null,ga=function(_){_&&typeof _=="string"&&_.indexOf("NetworkError")>-1&&(Jn=$r.error),Yn&&Yn(_)};function Ra(){Pa.fire(new Xt("pluginStateChange",{pluginStatus:Jn,pluginURL:ia}))}var Pa=new cr,ei=function(){return Jn},Na=function(_){return _({pluginStatus:Jn,pluginURL:ia}),Pa.on("pluginStateChange",_),_},Ja=function(_,D,W){if(W===void 0&&(W=!1),Jn===$r.deferred||Jn===$r.loading||Jn===$r.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");ia=se.resolveURL(_),Jn=$r.deferred,Yn=D,Ra(),W||Ti()},Ti=function(){if(Jn!==$r.deferred||!ia)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Jn=$r.loading,Ra(),ia&&St({url:ia},function(_){_?ga(_):(Jn=$r.loaded,Ra())})},Ci={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Jn===$r.loaded||Ci.applyArabicShaping!=null},isLoading:function(){return Jn===$r.loading},setState:function(D){Jn=D.pluginStatus,ia=D.pluginURL},isParsed:function(){return Ci.applyArabicShaping!=null&&Ci.processBidirectionalText!=null&&Ci.processStyledBidirectionalText!=null},getPluginURL:function(){return ia}},Oi=function(){!Ci.isLoading()&&!Ci.isLoaded()&&ei()==="deferred"&&Ti()},Xn=function(D,W){this.zoom=D,W?(this.now=W.now,this.fadeDuration=W.fadeDuration,this.zoomHistory=W.zoomHistory,this.transition=W.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Dt,this.transition={})};Xn.prototype.isSupportedScript=function(D){return pn(D,Ci.isLoaded())},Xn.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Xn.prototype.getCrossfadeParameters=function(){var D=this.zoom,W=D-Math.floor(D),ae=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:W+(1-W)*ae}:{fromScale:.5,toScale:1,t:1-(1-ae)*W}};var Qa=function(D,W){this.property=D,this.value=W,this.expression=qc(W===void 0?D.specification.default:W,D.specification)};Qa.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Qa.prototype.possiblyEvaluate=function(D,W,ae){return this.property.possiblyEvaluate(this,D,W,ae)};var Xa=function(D){this.property=D,this.value=new Qa(D,void 0)};Xa.prototype.transitioned=function(D,W){return new ro(this.property,this.value,W,o({},D.transition,this.transition),D.now)},Xa.prototype.untransitioned=function(){return new ro(this.property,this.value,null,{},0)};var pi=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};pi.prototype.getValue=function(D){return w(this._values[D].value.value)},pi.prototype.setValue=function(D,W){this._values.hasOwnProperty(D)||(this._values[D]=new Xa(this._values[D].property)),this._values[D].value=new Qa(this._values[D].property,W===null?void 0:w(W))},pi.prototype.getTransition=function(D){return w(this._values[D].transition)},pi.prototype.setTransition=function(D,W){this._values.hasOwnProperty(D)||(this._values[D]=new Xa(this._values[D].property)),this._values[D].transition=w(W)||void 0},pi.prototype.serialize=function(){for(var D={},W=0,ae=Object.keys(this._values);W<ae.length;W+=1){var pe=ae[W],Me=this.getValue(pe);Me!==void 0&&(D[pe]=Me);var _e=this.getTransition(pe);_e!==void 0&&(D[pe+"-transition"]=_e)}return D},pi.prototype.transitioned=function(D,W){for(var ae=new Mo(this._properties),pe=0,Me=Object.keys(this._values);pe<Me.length;pe+=1){var _e=Me[pe];ae._values[_e]=this._values[_e].transitioned(D,W._values[_e])}return ae},pi.prototype.untransitioned=function(){for(var D=new Mo(this._properties),W=0,ae=Object.keys(this._values);W<ae.length;W+=1){var pe=ae[W];D._values[pe]=this._values[pe].untransitioned()}return D};var ro=function(D,W,ae,pe,Me){this.property=D,this.value=W,this.begin=Me+pe.delay||0,this.end=this.begin+pe.duration||0,D.specification.transition&&(pe.delay||pe.duration)&&(this.prior=ae)};ro.prototype.possiblyEvaluate=function(D,W,ae){var pe=D.now||0,Me=this.value.possiblyEvaluate(D,W,ae),_e=this.prior;if(_e){if(pe>this.end)return this.prior=null,Me;if(this.value.isDataDriven())return this.prior=null,Me;if(pe<this.begin)return _e.possiblyEvaluate(D,W,ae);var Qe=(pe-this.begin)/(this.end-this.begin);return this.property.interpolate(_e.possiblyEvaluate(D,W,ae),Me,n(Qe))}else return Me};var Mo=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};Mo.prototype.possiblyEvaluate=function(D,W,ae){for(var pe=new Bi(this._properties),Me=0,_e=Object.keys(this._values);Me<_e.length;Me+=1){var Qe=_e[Me];pe._values[Qe]=this._values[Qe].possiblyEvaluate(D,W,ae)}return pe},Mo.prototype.hasTransition=function(){for(var D=0,W=Object.keys(this._values);D<W.length;D+=1){var ae=W[D];if(this._values[ae].prior)return!0}return!1};var ko=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};ko.prototype.getValue=function(D){return w(this._values[D].value)},ko.prototype.setValue=function(D,W){this._values[D]=new Qa(this._values[D].property,W===null?void 0:w(W))},ko.prototype.serialize=function(){for(var D={},W=0,ae=Object.keys(this._values);W<ae.length;W+=1){var pe=ae[W],Me=this.getValue(pe);Me!==void 0&&(D[pe]=Me)}return D},ko.prototype.possiblyEvaluate=function(D,W,ae){for(var pe=new Bi(this._properties),Me=0,_e=Object.keys(this._values);Me<_e.length;Me+=1){var Qe=_e[Me];pe._values[Qe]=this._values[Qe].possiblyEvaluate(D,W,ae)}return pe};var Ki=function(D,W,ae){this.property=D,this.value=W,this.parameters=ae};Ki.prototype.isConstant=function(){return this.value.kind==="constant"},Ki.prototype.constantOr=function(D){return this.value.kind==="constant"?this.value.value:D},Ki.prototype.evaluate=function(D,W,ae,pe){return this.property.evaluate(this.value,this.parameters,D,W,ae,pe)};var Bi=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};Bi.prototype.get=function(D){return this._values[D]};var Ca=function(D){this.specification=D};Ca.prototype.possiblyEvaluate=function(D,W){return D.expression.evaluate(W)},Ca.prototype.interpolate=function(D,W,ae){var pe=ir[this.specification.type];return pe?pe(D,W,ae):D};var za=function(D,W){this.specification=D,this.overrides=W};za.prototype.possiblyEvaluate=function(D,W,ae,pe){return D.expression.kind==="constant"||D.expression.kind==="camera"?new Ki(this,{kind:"constant",value:D.expression.evaluate(W,null,{},ae,pe)},W):new Ki(this,D.expression,W)},za.prototype.interpolate=function(D,W,ae){if(D.value.kind!=="constant"||W.value.kind!=="constant")return D;if(D.value.value===void 0||W.value.value===void 0)return new Ki(this,{kind:"constant",value:void 0},D.parameters);var pe=ir[this.specification.type];return pe?new Ki(this,{kind:"constant",value:pe(D.value.value,W.value.value,ae)},D.parameters):D},za.prototype.evaluate=function(D,W,ae,pe,Me,_e){return D.kind==="constant"?D.value:D.evaluate(W,ae,pe,Me,_e)};var Ji=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ae,pe,Me,_e){if(ae.value===void 0)return new Ki(this,{kind:"constant",value:void 0},pe);if(ae.expression.kind==="constant"){var Qe=ae.expression.evaluate(pe,null,{},Me,_e),dt=ae.property.specification.type==="resolvedImage",Mt=dt&&typeof Qe!="string"?Qe.name:Qe,Lt=this._calculate(Mt,Mt,Mt,pe);return new Ki(this,{kind:"constant",value:Lt},pe)}else if(ae.expression.kind==="camera"){var Yt=this._calculate(ae.expression.evaluate({zoom:pe.zoom-1}),ae.expression.evaluate({zoom:pe.zoom}),ae.expression.evaluate({zoom:pe.zoom+1}),pe);return new Ki(this,{kind:"constant",value:Yt},pe)}else return new Ki(this,ae.expression,pe)},D.prototype.evaluate=function(ae,pe,Me,_e,Qe,dt){if(ae.kind==="source"){var Mt=ae.evaluate(pe,Me,_e,Qe,dt);return this._calculate(Mt,Mt,Mt,pe)}else return ae.kind==="composite"?this._calculate(ae.evaluate({zoom:Math.floor(pe.zoom)-1},Me,_e),ae.evaluate({zoom:Math.floor(pe.zoom)},Me,_e),ae.evaluate({zoom:Math.floor(pe.zoom)+1},Me,_e),pe):ae.value},D.prototype._calculate=function(ae,pe,Me,_e){var Qe=_e.zoom;return Qe>_e.zoomHistory.lastIntegerZoom?{from:ae,to:pe}:{from:Me,to:pe}},D.prototype.interpolate=function(ae){return ae},D}(za),Ro=function(D){this.specification=D};Ro.prototype.possiblyEvaluate=function(D,W,ae,pe){if(D.value!==void 0)if(D.expression.kind==="constant"){var Me=D.expression.evaluate(W,null,{},ae,pe);return this._calculate(Me,Me,Me,W)}else return this._calculate(D.expression.evaluate(new Xn(Math.floor(W.zoom-1),W)),D.expression.evaluate(new Xn(Math.floor(W.zoom),W)),D.expression.evaluate(new Xn(Math.floor(W.zoom+1),W)),W)},Ro.prototype._calculate=function(D,W,ae,pe){var Me=pe.zoom;return Me>pe.zoomHistory.lastIntegerZoom?{from:D,to:W}:{from:ae,to:W}},Ro.prototype.interpolate=function(D){return D};var Fs=function(D){this.specification=D};Fs.prototype.possiblyEvaluate=function(D,W,ae,pe){return!!D.expression.evaluate(W,null,{},ae,pe)},Fs.prototype.interpolate=function(){return!1};var Yo=function(D){this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var W in D){var ae=D[W];ae.specification.overridable&&this.overridableProperties.push(W);var pe=this.defaultPropertyValues[W]=new Qa(ae,void 0),Me=this.defaultTransitionablePropertyValues[W]=new Xa(ae);this.defaultTransitioningPropertyValues[W]=Me.untransitioned(),this.defaultPossiblyEvaluatedValues[W]=pe.possiblyEvaluate({})}};ue("DataDrivenProperty",za),ue("DataConstantProperty",Ca),ue("CrossFadedDataDrivenProperty",Ji),ue("CrossFadedProperty",Ro),ue("ColorRampProperty",Fs);var ys="-transition",io=function(_){function D(W,ae){if(_.call(this),this.id=W.id,this.type=W.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},W.type!=="custom"&&(W=W,this.metadata=W.metadata,this.minzoom=W.minzoom,this.maxzoom=W.maxzoom,W.type!=="background"&&(this.source=W.source,this.sourceLayer=W["source-layer"],this.filter=W.filter),ae.layout&&(this._unevaluatedLayout=new ko(ae.layout)),ae.paint)){this._transitionablePaint=new pi(ae.paint);for(var pe in W.paint)this.setPaintProperty(pe,W.paint[pe],{validate:!1});for(var Me in W.layout)this.setLayoutProperty(Me,W.layout[Me],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Bi(ae.paint)}}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(ae){return ae==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ae)},D.prototype.setLayoutProperty=function(ae,pe,Me){if(Me===void 0&&(Me={}),pe!=null){var _e="layers."+this.id+".layout."+ae;if(this._validate(Aa,_e,ae,pe,Me))return}if(ae==="visibility"){this.visibility=pe;return}this._unevaluatedLayout.setValue(ae,pe)},D.prototype.getPaintProperty=function(ae){return x(ae,ys)?this._transitionablePaint.getTransition(ae.slice(0,-ys.length)):this._transitionablePaint.getValue(ae)},D.prototype.setPaintProperty=function(ae,pe,Me){if(Me===void 0&&(Me={}),pe!=null){var _e="layers."+this.id+".paint."+ae;if(this._validate(Nn,_e,ae,pe,Me))return!1}if(x(ae,ys))return this._transitionablePaint.setTransition(ae.slice(0,-ys.length),pe||void 0),!1;var Qe=this._transitionablePaint._values[ae],dt=Qe.property.specification["property-type"]==="cross-faded-data-driven",Mt=Qe.value.isDataDriven(),Lt=Qe.value;this._transitionablePaint.setValue(ae,pe),this._handleSpecialPaintPropertyUpdate(ae);var Yt=this._transitionablePaint._values[ae].value,fr=Yt.isDataDriven();return fr||Mt||dt||this._handleOverridablePaintPropertyUpdate(ae,Lt,Yt)},D.prototype._handleSpecialPaintPropertyUpdate=function(ae){},D.prototype._handleOverridablePaintPropertyUpdate=function(ae,pe,Me){return!1},D.prototype.isHidden=function(ae){return this.minzoom&&ae<this.minzoom||this.maxzoom&&ae>=this.maxzoom?!0:this.visibility==="none"},D.prototype.updateTransitions=function(ae){this._transitioningPaint=this._transitionablePaint.transitioned(ae,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(ae,pe){ae.getCrossfadeParameters&&(this._crossfadeParameters=ae.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ae,void 0,pe)),this.paint=this._transitioningPaint.possiblyEvaluate(ae,void 0,pe)},D.prototype.serialize=function(){var ae={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ae.layout=ae.layout||{},ae.layout.visibility=this.visibility),E(ae,function(pe,Me){return pe!==void 0&&!(Me==="layout"&&!Object.keys(pe).length)&&!(Me==="paint"&&!Object.keys(pe).length)})},D.prototype._validate=function(ae,pe,Me,_e,Qe){return Qe===void 0&&(Qe={}),Qe&&Qe.validate===!1?!1:Ba(this,ae.call(Sn,{key:pe,layerType:this.type,objectKey:Me,value:_e,styleSpec:Kt,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var ae in this.paint._values){var pe=this.paint.get(ae);if(!(!(pe instanceof Ki)||!il(pe.property.specification))&&(pe.value.kind==="source"||pe.value.kind==="composite")&&pe.value.isStateDependent)return!0}return!1},D}(cr),js={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ji=function(D,W){this._structArray=D,this._pos1=W*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Ml=128,Ys=5,yi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};yi.serialize=function(D,W){return D._trim(),W&&(D.isTransferred=!0,W.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},yi.deserialize=function(D){var W=Object.create(this.prototype);return W.arrayBuffer=D.arrayBuffer,W.length=D.length,W.capacity=D.arrayBuffer.byteLength/W.bytesPerElement,W._refreshViews(),W},yi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},yi.prototype.clear=function(){this.length=0},yi.prototype.resize=function(D){this.reserve(D),this.length=D},yi.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(this.capacity*Ys),Ml),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var W=this.uint8;this._refreshViews(),W&&this.uint8.set(W)}},yi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Qi(_,D){D===void 0&&(D=1);var W=0,ae=0,pe=_.map(function(_e){var Qe=ih(_e.type),dt=W=Cc(W,Math.max(D,Qe)),Mt=_e.components||1;return ae=Math.max(ae,Qe),W+=Qe*Mt,{name:_e.name,type:_e.type,components:Mt,offset:dt}}),Me=Cc(W,Math.max(ae,D));return{members:pe,size:Me,alignment:D}}function ih(_){return js[_].BYTES_PER_ELEMENT}function Cc(_,D){return Math.ceil(_/D)*D}var Gh=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe){var Me=this.length;return this.resize(Me+1),this.emplace(Me,ae,pe)},D.prototype.emplace=function(ae,pe,Me){var _e=ae*2;return this.int16[_e+0]=pe,this.int16[_e+1]=Me,ae},D}(yi);Gh.prototype.bytesPerElement=4,ue("StructArrayLayout2i4",Gh);var $f=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me,_e){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ae,pe,Me,_e)},D.prototype.emplace=function(ae,pe,Me,_e,Qe){var dt=ae*4;return this.int16[dt+0]=pe,this.int16[dt+1]=Me,this.int16[dt+2]=_e,this.int16[dt+3]=Qe,ae},D}(yi);$f.prototype.bytesPerElement=8,ue("StructArrayLayout4i8",$f);var oh=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me,_e,Qe,dt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ae,pe,Me,_e,Qe,dt)},D.prototype.emplace=function(ae,pe,Me,_e,Qe,dt,Mt){var Lt=ae*6;return this.int16[Lt+0]=pe,this.int16[Lt+1]=Me,this.int16[Lt+2]=_e,this.int16[Lt+3]=Qe,this.int16[Lt+4]=dt,this.int16[Lt+5]=Mt,ae},D}(yi);oh.prototype.bytesPerElement=12,ue("StructArrayLayout2i4i12",oh);var mv=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me,_e,Qe,dt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ae,pe,Me,_e,Qe,dt)},D.prototype.emplace=function(ae,pe,Me,_e,Qe,dt,Mt){var Lt=ae*4,Yt=ae*8;return this.int16[Lt+0]=pe,this.int16[Lt+1]=Me,this.uint8[Yt+4]=_e,this.uint8[Yt+5]=Qe,this.uint8[Yt+6]=dt,this.uint8[Yt+7]=Mt,ae},D}(yi);mv.prototype.bytesPerElement=8,ue("StructArrayLayout2i4ub8",mv);var sl=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr){var tr=this.length;return this.resize(tr+1),this.emplace(tr,ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr)},D.prototype.emplace=function(ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr,tr){var wr=ae*9,Gr=ae*18;return this.uint16[wr+0]=pe,this.uint16[wr+1]=Me,this.uint16[wr+2]=_e,this.uint16[wr+3]=Qe,this.uint16[wr+4]=dt,this.uint16[wr+5]=Mt,this.uint16[wr+6]=Lt,this.uint16[wr+7]=Yt,this.uint8[Gr+16]=fr,this.uint8[Gr+17]=tr,ae},D}(yi);sl.prototype.bytesPerElement=18,ue("StructArrayLayout8ui2ub18",sl);var qf=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr,tr,wr){var Gr=this.length;return this.resize(Gr+1),this.emplace(Gr,ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr,tr,wr)},D.prototype.emplace=function(ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr,tr,wr,Gr){var cn=ae*12;return this.int16[cn+0]=pe,this.int16[cn+1]=Me,this.int16[cn+2]=_e,this.int16[cn+3]=Qe,this.uint16[cn+4]=dt,this.uint16[cn+5]=Mt,this.uint16[cn+6]=Lt,this.uint16[cn+7]=Yt,this.int16[cn+8]=fr,this.int16[cn+9]=tr,this.int16[cn+10]=wr,this.int16[cn+11]=Gr,ae},D}(yi);qf.prototype.bytesPerElement=24,ue("StructArrayLayout4i4ui4i24",qf);var Nd=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me){var _e=this.length;return this.resize(_e+1),this.emplace(_e,ae,pe,Me)},D.prototype.emplace=function(ae,pe,Me,_e){var Qe=ae*3;return this.float32[Qe+0]=pe,this.float32[Qe+1]=Me,this.float32[Qe+2]=_e,ae},D}(yi);Nd.prototype.bytesPerElement=12,ue("StructArrayLayout3f12",Nd);var Bd=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ae)},D.prototype.emplace=function(ae,pe){var Me=ae*1;return this.uint32[Me+0]=pe,ae},D}(yi);Bd.prototype.bytesPerElement=4,ue("StructArrayLayout1ul4",Bd);var Wh=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt){var fr=this.length;return this.resize(fr+1),this.emplace(fr,ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt)},D.prototype.emplace=function(ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr){var tr=ae*10,wr=ae*5;return this.int16[tr+0]=pe,this.int16[tr+1]=Me,this.int16[tr+2]=_e,this.int16[tr+3]=Qe,this.int16[tr+4]=dt,this.int16[tr+5]=Mt,this.uint32[wr+3]=Lt,this.uint16[tr+8]=Yt,this.uint16[tr+9]=fr,ae},D}(yi);Wh.prototype.bytesPerElement=20,ue("StructArrayLayout6i1ul2ui20",Wh);var xv=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me,_e,Qe,dt){var Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,ae,pe,Me,_e,Qe,dt)},D.prototype.emplace=function(ae,pe,Me,_e,Qe,dt,Mt){var Lt=ae*6;return this.int16[Lt+0]=pe,this.int16[Lt+1]=Me,this.int16[Lt+2]=_e,this.int16[Lt+3]=Qe,this.int16[Lt+4]=dt,this.int16[Lt+5]=Mt,ae},D}(yi);xv.prototype.bytesPerElement=12,ue("StructArrayLayout2i2i2i12",xv);var Ef=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me,_e,Qe){var dt=this.length;return this.resize(dt+1),this.emplace(dt,ae,pe,Me,_e,Qe)},D.prototype.emplace=function(ae,pe,Me,_e,Qe,dt){var Mt=ae*4,Lt=ae*8;return this.float32[Mt+0]=pe,this.float32[Mt+1]=Me,this.float32[Mt+2]=_e,this.int16[Lt+6]=Qe,this.int16[Lt+7]=dt,ae},D}(yi);Ef.prototype.bytesPerElement=16,ue("StructArrayLayout2f1f2i16",Ef);var Sl=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me,_e){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ae,pe,Me,_e)},D.prototype.emplace=function(ae,pe,Me,_e,Qe){var dt=ae*12,Mt=ae*3;return this.uint8[dt+0]=pe,this.uint8[dt+1]=Me,this.float32[Mt+1]=_e,this.float32[Mt+2]=Qe,ae},D}(yi);Sl.prototype.bytesPerElement=12,ue("StructArrayLayout2ub2f12",Sl);var Cf=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me){var _e=this.length;return this.resize(_e+1),this.emplace(_e,ae,pe,Me)},D.prototype.emplace=function(ae,pe,Me,_e){var Qe=ae*3;return this.uint16[Qe+0]=pe,this.uint16[Qe+1]=Me,this.uint16[Qe+2]=_e,ae},D}(yi);Cf.prototype.bytesPerElement=6,ue("StructArrayLayout3ui6",Cf);var jh=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr,tr,wr,Gr,cn,rn,_n,En){var Rn=this.length;return this.resize(Rn+1),this.emplace(Rn,ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr,tr,wr,Gr,cn,rn,_n,En)},D.prototype.emplace=function(ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr,tr,wr,Gr,cn,rn,_n,En,Rn){var Un=ae*24,Kn=ae*12,fa=ae*48;return this.int16[Un+0]=pe,this.int16[Un+1]=Me,this.uint16[Un+2]=_e,this.uint16[Un+3]=Qe,this.uint32[Kn+2]=dt,this.uint32[Kn+3]=Mt,this.uint32[Kn+4]=Lt,this.uint16[Un+10]=Yt,this.uint16[Un+11]=fr,this.uint16[Un+12]=tr,this.float32[Kn+7]=wr,this.float32[Kn+8]=Gr,this.uint8[fa+36]=cn,this.uint8[fa+37]=rn,this.uint8[fa+38]=_n,this.uint32[Kn+10]=En,this.int16[Un+22]=Rn,ae},D}(yi);jh.prototype.bytesPerElement=48,ue("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",jh);var bv=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr,tr,wr,Gr,cn,rn,_n,En,Rn,Un,Kn,fa,sa,Oa,Ta,La,qa,Da,Fa){var fi=this.length;return this.resize(fi+1),this.emplace(fi,ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr,tr,wr,Gr,cn,rn,_n,En,Rn,Un,Kn,fa,sa,Oa,Ta,La,qa,Da,Fa)},D.prototype.emplace=function(ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr,tr,wr,Gr,cn,rn,_n,En,Rn,Un,Kn,fa,sa,Oa,Ta,La,qa,Da,Fa,fi){var Ka=ae*34,Li=ae*17;return this.int16[Ka+0]=pe,this.int16[Ka+1]=Me,this.int16[Ka+2]=_e,this.int16[Ka+3]=Qe,this.int16[Ka+4]=dt,this.int16[Ka+5]=Mt,this.int16[Ka+6]=Lt,this.int16[Ka+7]=Yt,this.uint16[Ka+8]=fr,this.uint16[Ka+9]=tr,this.uint16[Ka+10]=wr,this.uint16[Ka+11]=Gr,this.uint16[Ka+12]=cn,this.uint16[Ka+13]=rn,this.uint16[Ka+14]=_n,this.uint16[Ka+15]=En,this.uint16[Ka+16]=Rn,this.uint16[Ka+17]=Un,this.uint16[Ka+18]=Kn,this.uint16[Ka+19]=fa,this.uint16[Ka+20]=sa,this.uint16[Ka+21]=Oa,this.uint16[Ka+22]=Ta,this.uint32[Li+12]=La,this.float32[Li+13]=qa,this.float32[Li+14]=Da,this.float32[Li+15]=Fa,this.float32[Li+16]=fi,ae},D}(yi);bv.prototype.bytesPerElement=68,ue("StructArrayLayout8i15ui1ul4f68",bv);var sh=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ae)},D.prototype.emplace=function(ae,pe){var Me=ae*1;return this.float32[Me+0]=pe,ae},D}(yi);sh.prototype.bytesPerElement=4,ue("StructArrayLayout1f4",sh);var Ud=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me){var _e=this.length;return this.resize(_e+1),this.emplace(_e,ae,pe,Me)},D.prototype.emplace=function(ae,pe,Me,_e){var Qe=ae*3;return this.int16[Qe+0]=pe,this.int16[Qe+1]=Me,this.int16[Qe+2]=_e,ae},D}(yi);Ud.prototype.bytesPerElement=6,ue("StructArrayLayout3i6",Ud);var ec=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me){var _e=this.length;return this.resize(_e+1),this.emplace(_e,ae,pe,Me)},D.prototype.emplace=function(ae,pe,Me,_e){var Qe=ae*2,dt=ae*4;return this.uint32[Qe+0]=pe,this.uint16[dt+2]=Me,this.uint16[dt+3]=_e,ae},D}(yi);ec.prototype.bytesPerElement=8,ue("StructArrayLayout1ul2ui8",ec);var Yh=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe){var Me=this.length;return this.resize(Me+1),this.emplace(Me,ae,pe)},D.prototype.emplace=function(ae,pe,Me){var _e=ae*2;return this.uint16[_e+0]=pe,this.uint16[_e+1]=Me,ae},D}(yi);Yh.prototype.bytesPerElement=4,ue("StructArrayLayout2ui4",Yh);var lh=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ae)},D.prototype.emplace=function(ae,pe){var Me=ae*1;return this.uint16[Me+0]=pe,ae},D}(yi);lh.prototype.bytesPerElement=2,ue("StructArrayLayout1ui2",lh);var tc=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe){var Me=this.length;return this.resize(Me+1),this.emplace(Me,ae,pe)},D.prototype.emplace=function(ae,pe,Me){var _e=ae*2;return this.float32[_e+0]=pe,this.float32[_e+1]=Me,ae},D}(yi);tc.prototype.bytesPerElement=8,ue("StructArrayLayout2f8",tc);var Hd=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ae,pe,Me,_e){var Qe=this.length;return this.resize(Qe+1),this.emplace(Qe,ae,pe,Me,_e)},D.prototype.emplace=function(ae,pe,Me,_e,Qe){var dt=ae*4;return this.float32[dt+0]=pe,this.float32[dt+1]=Me,this.float32[dt+2]=_e,this.float32[dt+3]=Qe,ae},D}(yi);Hd.prototype.bytesPerElement=16,ue("StructArrayLayout4f16",Hd);var x0=function(_){function D(){_.apply(this,arguments)}_&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D;var W={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return W.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},W.x1.get=function(){return this._structArray.int16[this._pos2+2]},W.y1.get=function(){return this._structArray.int16[this._pos2+3]},W.x2.get=function(){return this._structArray.int16[this._pos2+4]},W.y2.get=function(){return this._structArray.int16[this._pos2+5]},W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,W),D}(ji);x0.prototype.size=20;var rc=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new x0(this,ae)},D}(Wh);ue("CollisionBoxArray",rc);var Vd=function(_){function D(){_.apply(this,arguments)}_&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},W.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},W.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},W.segment.get=function(){return this._structArray.uint16[this._pos2+10]},W.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},W.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},W.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},W.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},W.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},W.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},W.placedOrientation.set=function(ae){this._structArray.uint8[this._pos1+37]=ae},W.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},W.hidden.set=function(ae){this._structArray.uint8[this._pos1+38]=ae},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},W.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+10]=ae},W.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,W),D}(ji);Vd.prototype.size=48;var uh=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new Vd(this,ae)},D}(jh);ue("PlacedSymbolArray",uh);var b0=function(_){function D(){_.apply(this,arguments)}_&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},W.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},W.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},W.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},W.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},W.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},W.key.get=function(){return this._structArray.uint16[this._pos2+8]},W.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},W.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},W.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},W.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},W.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},W.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},W.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},W.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},W.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},W.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},W.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},W.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},W.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},W.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+12]=ae},W.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},W.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},W.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},W.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,W),D}(ji);b0.prototype.size=68;var w0=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new b0(this,ae)},D}(bv);ue("SymbolInstanceArray",w0);var Lu=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(ae){return this.float32[ae*1+0]},D}(sh);ue("GlyphOffsetArray",Lu);var T0=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.getx=function(ae){return this.int16[ae*3+0]},D.prototype.gety=function(ae){return this.int16[ae*3+1]},D.prototype.gettileUnitDistanceFromAnchor=function(ae){return this.int16[ae*3+2]},D}(Ud);ue("SymbolLineVertexArray",T0);var A0=function(_){function D(){_.apply(this,arguments)}_&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D;var W={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,W),D}(ji);A0.prototype.size=8;var Gd=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.get=function(ae){return new A0(this,ae)},D}(ec);ue("FeatureIndexArray",Gd);var M0=Qi([{name:"a_pos",components:2,type:"Int16"}],4),de=M0.members,Z=function(D){D===void 0&&(D=[]),this.segments=D};Z.prototype.prepareSegment=function(D,W,ae,pe){var Me=this.segments[this.segments.length-1];return D>Z.MAX_VERTEX_ARRAY_LENGTH&&U("Max vertices per segment is "+Z.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!Me||Me.vertexLength+D>Z.MAX_VERTEX_ARRAY_LENGTH||Me.sortKey!==pe)&&(Me={vertexOffset:W.length,primitiveOffset:ae.length,vertexLength:0,primitiveLength:0},pe!==void 0&&(Me.sortKey=pe),this.segments.push(Me)),Me},Z.prototype.get=function(){return this.segments},Z.prototype.destroy=function(){for(var D=0,W=this.segments;D<W.length;D+=1){var ae=W[D];for(var pe in ae.vaos)ae.vaos[pe].destroy()}},Z.simpleSegment=function(D,W,ae,pe){return new Z([{vertexOffset:D,primitiveOffset:W,vertexLength:ae,primitiveLength:pe,vaos:{},sortKey:0}])},Z.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ue("SegmentVector",Z);function ge(_,D){return _=u(Math.floor(_),0,255),D=u(Math.floor(D),0,255),256*_+D}var re=Qi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),ye=L(function(_){function D(W,ae){var pe,Me,_e,Qe,dt,Mt,Lt,Yt;for(pe=W.length&3,Me=W.length-pe,_e=ae,dt=3432918353,Mt=461845907,Yt=0;Yt<Me;)Lt=W.charCodeAt(Yt)&255|(W.charCodeAt(++Yt)&255)<<8|(W.charCodeAt(++Yt)&255)<<16|(W.charCodeAt(++Yt)&255)<<24,++Yt,Lt=(Lt&65535)*dt+(((Lt>>>16)*dt&65535)<<16)&4294967295,Lt=Lt<<15|Lt>>>17,Lt=(Lt&65535)*Mt+(((Lt>>>16)*Mt&65535)<<16)&4294967295,_e^=Lt,_e=_e<<13|_e>>>19,Qe=(_e&65535)*5+(((_e>>>16)*5&65535)<<16)&4294967295,_e=(Qe&65535)+27492+(((Qe>>>16)+58964&65535)<<16);switch(Lt=0,pe){case 3:Lt^=(W.charCodeAt(Yt+2)&255)<<16;case 2:Lt^=(W.charCodeAt(Yt+1)&255)<<8;case 1:Lt^=W.charCodeAt(Yt)&255,Lt=(Lt&65535)*dt+(((Lt>>>16)*dt&65535)<<16)&4294967295,Lt=Lt<<15|Lt>>>17,Lt=(Lt&65535)*Mt+(((Lt>>>16)*Mt&65535)<<16)&4294967295,_e^=Lt}return _e^=W.length,_e^=_e>>>16,_e=(_e&65535)*2246822507+(((_e>>>16)*2246822507&65535)<<16)&4294967295,_e^=_e>>>13,_e=(_e&65535)*3266489909+(((_e>>>16)*3266489909&65535)<<16)&4294967295,_e^=_e>>>16,_e>>>0}_.exports=D}),Ie=L(function(_){function D(W,ae){for(var pe=W.length,Me=ae^pe,_e=0,Qe;pe>=4;)Qe=W.charCodeAt(_e)&255|(W.charCodeAt(++_e)&255)<<8|(W.charCodeAt(++_e)&255)<<16|(W.charCodeAt(++_e)&255)<<24,Qe=(Qe&65535)*1540483477+(((Qe>>>16)*1540483477&65535)<<16),Qe^=Qe>>>24,Qe=(Qe&65535)*1540483477+(((Qe>>>16)*1540483477&65535)<<16),Me=(Me&65535)*1540483477+(((Me>>>16)*1540483477&65535)<<16)^Qe,pe-=4,++_e;switch(pe){case 3:Me^=(W.charCodeAt(_e+2)&255)<<16;case 2:Me^=(W.charCodeAt(_e+1)&255)<<8;case 1:Me^=W.charCodeAt(_e)&255,Me=(Me&65535)*1540483477+(((Me>>>16)*1540483477&65535)<<16)}return Me^=Me>>>13,Me=(Me&65535)*1540483477+(((Me>>>16)*1540483477&65535)<<16),Me^=Me>>>15,Me>>>0}_.exports=D}),Ze=ye,ft=ye,At=Ie;Ze.murmur3=ft,Ze.murmur2=At;var Ht=function(){this.ids=[],this.positions=[],this.indexed=!1};Ht.prototype.add=function(D,W,ae,pe){this.ids.push(hr(D)),this.positions.push(W,ae,pe)},Ht.prototype.getPositions=function(D){for(var W=hr(D),ae=0,pe=this.ids.length-1;ae<pe;){var Me=ae+pe>>1;this.ids[Me]>=W?pe=Me:ae=Me+1}for(var _e=[];this.ids[ae]===W;){var Qe=this.positions[3*ae],dt=this.positions[3*ae+1],Mt=this.positions[3*ae+2];_e.push({index:Qe,start:dt,end:Mt}),ae++}return _e},Ht.serialize=function(D,W){var ae=new Float64Array(D.ids),pe=new Uint32Array(D.positions);return br(ae,pe,0,ae.length-1),W&&W.push(ae.buffer,pe.buffer),{ids:ae,positions:pe}},Ht.deserialize=function(D){var W=new Ht;return W.ids=D.ids,W.positions=D.positions,W.indexed=!0,W};var qt=Math.pow(2,53)-1;function hr(_){var D=+_;return!isNaN(D)&&D<=qt?D:Ze(String(_))}function br(_,D,W,ae){for(;W<ae;){for(var pe=_[W+ae>>1],Me=W-1,_e=ae+1;;){do Me++;while(_[Me]<pe);do _e--;while(_[_e]>pe);if(Me>=_e)break;Or(_,Me,_e),Or(D,3*Me,3*_e),Or(D,3*Me+1,3*_e+1),Or(D,3*Me+2,3*_e+2)}_e-W<ae-_e?(br(_,D,W,_e),W=_e+1):(br(_,D,_e+1,ae),ae=_e)}}function Or(_,D,W){var ae=_[D];_[D]=_[W],_[W]=ae}ue("FeaturePositionMap",Ht);var Yr=function(D,W){this.gl=D.gl,this.location=W},Xr=function(_){function D(W,ae){_.call(this,W,ae),this.current=0}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1i(this.location,ae))},D}(Yr),jr=function(_){function D(W,ae){_.call(this,W,ae),this.current=0}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1f(this.location,ae))},D}(Yr),tn=function(_){function D(W,ae){_.call(this,W,ae),this.current=[0,0]}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1])&&(this.current=ae,this.gl.uniform2f(this.location,ae[0],ae[1]))},D}(Yr),vn=function(_){function D(W,ae){_.call(this,W,ae),this.current=[0,0,0]}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2])&&(this.current=ae,this.gl.uniform3f(this.location,ae[0],ae[1],ae[2]))},D}(Yr),kn=function(_){function D(W,ae){_.call(this,W,ae),this.current=[0,0,0,0]}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2]||ae[3]!==this.current[3])&&(this.current=ae,this.gl.uniform4f(this.location,ae[0],ae[1],ae[2],ae[3]))},D}(Yr),Gn=function(_){function D(W,ae){_.call(this,W,ae),this.current=xi.transparent}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){(ae.r!==this.current.r||ae.g!==this.current.g||ae.b!==this.current.b||ae.a!==this.current.a)&&(this.current=ae,this.gl.uniform4f(this.location,ae.r,ae.g,ae.b,ae.a))},D}(Yr),$n=new Float32Array(16),ra=function(_){function D(W,ae){_.call(this,W,ae),this.current=$n}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.set=function(ae){if(ae[12]!==this.current[12]||ae[0]!==this.current[0]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);return}for(var pe=1;pe<16;pe++)if(ae[pe]!==this.current[pe]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);break}},D}(Yr);function ea(_){return[ge(255*_.r,255*_.g),ge(255*_.b,255*_.a)]}var ha=function(D,W,ae){this.value=D,this.uniformNames=W.map(function(pe){return"u_"+pe}),this.type=ae};ha.prototype.setUniform=function(D,W,ae){D.set(ae.constantOr(this.value))},ha.prototype.getBinding=function(D,W,ae){return this.type==="color"?new Gn(D,W):new jr(D,W)};var wa=function(D,W){this.uniformNames=W.map(function(ae){return"u_"+ae}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};wa.prototype.setConstantPatternPositions=function(D,W){this.pixelRatioFrom=W.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=W.tlbr,this.patternTo=D.tlbr},wa.prototype.setUniform=function(D,W,ae,pe){var Me=pe==="u_pattern_to"?this.patternTo:pe==="u_pattern_from"?this.patternFrom:pe==="u_pixel_ratio_to"?this.pixelRatioTo:pe==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Me&&D.set(Me)},wa.prototype.getBinding=function(D,W,ae){return ae.substr(0,9)==="u_pattern"?new kn(D,W):new jr(D,W)};var xa=function(D,W,ae,pe){this.expression=D,this.type=ae,this.maxValue=0,this.paintVertexAttributes=W.map(function(Me){return{name:"a_"+Me,type:"Float32",components:ae==="color"?2:1,offset:0}}),this.paintVertexArray=new pe};xa.prototype.populatePaintArray=function(D,W,ae,pe,Me){var _e=this.paintVertexArray.length,Qe=this.expression.evaluate(new Xn(0),W,{},pe,[],Me);this.paintVertexArray.resize(D),this._setPaintValue(_e,D,Qe)},xa.prototype.updatePaintArray=function(D,W,ae,pe){var Me=this.expression.evaluate({zoom:0},ae,pe);this._setPaintValue(D,W,Me)},xa.prototype._setPaintValue=function(D,W,ae){if(this.type==="color")for(var pe=ea(ae),Me=D;Me<W;Me++)this.paintVertexArray.emplace(Me,pe[0],pe[1]);else{for(var _e=D;_e<W;_e++)this.paintVertexArray.emplace(_e,ae);this.maxValue=Math.max(this.maxValue,Math.abs(ae))}},xa.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},xa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Ea=function(D,W,ae,pe,Me,_e){this.expression=D,this.uniformNames=W.map(function(Qe){return"u_"+Qe+"_t"}),this.type=ae,this.useIntegerZoom=pe,this.zoom=Me,this.maxValue=0,this.paintVertexAttributes=W.map(function(Qe){return{name:"a_"+Qe,type:"Float32",components:ae==="color"?4:2,offset:0}}),this.paintVertexArray=new _e};Ea.prototype.populatePaintArray=function(D,W,ae,pe,Me){var _e=this.expression.evaluate(new Xn(this.zoom),W,{},pe,[],Me),Qe=this.expression.evaluate(new Xn(this.zoom+1),W,{},pe,[],Me),dt=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(dt,D,_e,Qe)},Ea.prototype.updatePaintArray=function(D,W,ae,pe){var Me=this.expression.evaluate({zoom:this.zoom},ae,pe),_e=this.expression.evaluate({zoom:this.zoom+1},ae,pe);this._setPaintValue(D,W,Me,_e)},Ea.prototype._setPaintValue=function(D,W,ae,pe){if(this.type==="color")for(var Me=ea(ae),_e=ea(pe),Qe=D;Qe<W;Qe++)this.paintVertexArray.emplace(Qe,Me[0],Me[1],_e[0],_e[1]);else{for(var dt=D;dt<W;dt++)this.paintVertexArray.emplace(dt,ae,pe);this.maxValue=Math.max(this.maxValue,Math.abs(ae),Math.abs(pe))}},Ea.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ea.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ea.prototype.setUniform=function(D,W){var ae=this.useIntegerZoom?Math.floor(W.zoom):W.zoom,pe=u(this.expression.interpolationFactor(ae,this.zoom,this.zoom+1),0,1);D.set(pe)},Ea.prototype.getBinding=function(D,W,ae){return new jr(D,W)};var _a=function(D,W,ae,pe,Me,_e){this.expression=D,this.type=W,this.useIntegerZoom=ae,this.zoom=pe,this.layerId=_e,this.zoomInPaintVertexArray=new Me,this.zoomOutPaintVertexArray=new Me};_a.prototype.populatePaintArray=function(D,W,ae){var pe=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(pe,D,W.patterns&&W.patterns[this.layerId],ae)},_a.prototype.updatePaintArray=function(D,W,ae,pe,Me){this._setPaintValues(D,W,ae.patterns&&ae.patterns[this.layerId],Me)},_a.prototype._setPaintValues=function(D,W,ae,pe){if(!(!pe||!ae)){var Me=ae.min,_e=ae.mid,Qe=ae.max,dt=pe[Me],Mt=pe[_e],Lt=pe[Qe];if(!(!dt||!Mt||!Lt))for(var Yt=D;Yt<W;Yt++)this.zoomInPaintVertexArray.emplace(Yt,Mt.tl[0],Mt.tl[1],Mt.br[0],Mt.br[1],dt.tl[0],dt.tl[1],dt.br[0],dt.br[1],Mt.pixelRatio,dt.pixelRatio),this.zoomOutPaintVertexArray.emplace(Yt,Mt.tl[0],Mt.tl[1],Mt.br[0],Mt.br[1],Lt.tl[0],Lt.tl[1],Lt.br[0],Lt.br[1],Mt.pixelRatio,Lt.pixelRatio)}},_a.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,re.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,re.members,this.expression.isStateDependent))},_a.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ja=function(D,W,ae,pe){this.binders={},this.layoutAttributes=pe,this._buffers=[];var Me=[];for(var _e in D.paint._values)if(ae(_e)){var Qe=D.paint.get(_e);if(!(!(Qe instanceof Ki)||!il(Qe.property.specification))){var dt=ki(_e,D.type),Mt=Qe.value,Lt=Qe.property.specification.type,Yt=Qe.property.useIntegerZoom,fr=Qe.property.specification["property-type"],tr=fr==="cross-faded"||fr==="cross-faded-data-driven";if(Mt.kind==="constant")this.binders[_e]=tr?new wa(Mt.value,dt):new ha(Mt.value,dt,Lt),Me.push("/u_"+_e);else if(Mt.kind==="source"||tr){var wr=mi(_e,Lt,"source");this.binders[_e]=tr?new _a(Mt,Lt,Yt,W,wr,D.id):new xa(Mt,dt,Lt,wr),Me.push("/a_"+_e)}else{var Gr=mi(_e,Lt,"composite");this.binders[_e]=new Ea(Mt,dt,Lt,Yt,W,Gr),Me.push("/z_"+_e)}}}this.cacheKey=Me.sort().join("")};ja.prototype.getMaxValue=function(D){var W=this.binders[D];return W instanceof xa||W instanceof Ea?W.maxValue:0},ja.prototype.populatePaintArrays=function(D,W,ae,pe,Me){for(var _e in this.binders){var Qe=this.binders[_e];(Qe instanceof xa||Qe instanceof Ea||Qe instanceof _a)&&Qe.populatePaintArray(D,W,ae,pe,Me)}},ja.prototype.setConstantPatternPositions=function(D,W){for(var ae in this.binders){var pe=this.binders[ae];pe instanceof wa&&pe.setConstantPatternPositions(D,W)}},ja.prototype.updatePaintArrays=function(D,W,ae,pe,Me){var _e=!1;for(var Qe in D)for(var dt=W.getPositions(Qe),Mt=0,Lt=dt;Mt<Lt.length;Mt+=1){var Yt=Lt[Mt],fr=ae.feature(Yt.index);for(var tr in this.binders){var wr=this.binders[tr];if((wr instanceof xa||wr instanceof Ea||wr instanceof _a)&&wr.expression.isStateDependent===!0){var Gr=pe.paint.get(tr);wr.expression=Gr.value,wr.updatePaintArray(Yt.start,Yt.end,fr,D[Qe],Me),_e=!0}}}return _e},ja.prototype.defines=function(){var D=[];for(var W in this.binders){var ae=this.binders[W];(ae instanceof ha||ae instanceof wa)&&D.push.apply(D,ae.uniformNames.map(function(pe){return"#define HAS_UNIFORM_"+pe}))}return D},ja.prototype.getPaintVertexBuffers=function(){return this._buffers},ja.prototype.getUniforms=function(D,W){var ae=[];for(var pe in this.binders){var Me=this.binders[pe];if(Me instanceof ha||Me instanceof wa||Me instanceof Ea)for(var _e=0,Qe=Me.uniformNames;_e<Qe.length;_e+=1){var dt=Qe[_e];if(W[dt]){var Mt=Me.getBinding(D,W[dt],dt);ae.push({name:dt,property:pe,binding:Mt})}}}return ae},ja.prototype.setUniforms=function(D,W,ae,pe){for(var Me=0,_e=W;Me<_e.length;Me+=1){var Qe=_e[Me],dt=Qe.name,Mt=Qe.property,Lt=Qe.binding;this.binders[Mt].setUniform(Lt,pe,ae.get(Mt),dt)}},ja.prototype.updatePaintBuffers=function(D){this._buffers=[];for(var W in this.binders){var ae=this.binders[W];if(D&&ae instanceof _a){var pe=D.fromScale===2?ae.zoomInPaintVertexBuffer:ae.zoomOutPaintVertexBuffer;pe&&this._buffers.push(pe)}else(ae instanceof xa||ae instanceof Ea)&&ae.paintVertexBuffer&&this._buffers.push(ae.paintVertexBuffer)}},ja.prototype.upload=function(D){for(var W in this.binders){var ae=this.binders[W];(ae instanceof xa||ae instanceof Ea||ae instanceof _a)&&ae.upload(D)}this.updatePaintBuffers()},ja.prototype.destroy=function(){for(var D in this.binders){var W=this.binders[D];(W instanceof xa||W instanceof Ea||W instanceof _a)&&W.destroy()}};var ti=function(D,W,ae,pe){pe===void 0&&(pe=function(){return!0}),this.programConfigurations={};for(var Me=0,_e=W;Me<_e.length;Me+=1){var Qe=_e[Me];this.programConfigurations[Qe.id]=new ja(Qe,ae,pe,D)}this.needsUpload=!1,this._featureMap=new Ht,this._bufferOffset=0};ti.prototype.populatePaintArrays=function(D,W,ae,pe,Me,_e){for(var Qe in this.programConfigurations)this.programConfigurations[Qe].populatePaintArrays(D,W,pe,Me,_e);W.id!==void 0&&this._featureMap.add(W.id,ae,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},ti.prototype.updatePaintArrays=function(D,W,ae,pe){for(var Me=0,_e=ae;Me<_e.length;Me+=1){var Qe=_e[Me];this.needsUpload=this.programConfigurations[Qe.id].updatePaintArrays(D,this._featureMap,W,Qe,pe)||this.needsUpload}},ti.prototype.get=function(D){return this.programConfigurations[D]},ti.prototype.upload=function(D){if(this.needsUpload){for(var W in this.programConfigurations)this.programConfigurations[W].upload(D);this.needsUpload=!1}},ti.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()};function ki(_,D){var W={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return W[_]||[_.replace(D+"-","").replace(/-/g,"_")]}function li(_){var D={"line-pattern":{source:sl,composite:sl},"fill-pattern":{source:sl,composite:sl},"fill-extrusion-pattern":{source:sl,composite:sl}};return D[_]}function mi(_,D,W){var ae={color:{source:tc,composite:Hd},number:{source:sh,composite:tc}},pe=li(_);return pe&&pe[W]||ae[D][W]}ue("ConstantBinder",ha),ue("CrossFadedConstantBinder",wa),ue("SourceExpressionBinder",xa),ue("CrossFadedCompositeBinder",_a),ue("CompositeExpressionBinder",Ea),ue("ProgramConfiguration",ja,{omit:["_buffers"]}),ue("ProgramConfigurationSet",ti);var Ua=8192;function Ii(_){return{min:-1*Math.pow(2,_-1),max:Math.pow(2,_-1)-1}}var Ni=Ii(15);function Ui(_){for(var D=Ua/_.extent,W=_.loadGeometry(),ae=0;ae<W.length;ae++)for(var pe=W[ae],Me=0;Me<pe.length;Me++){var _e=pe[Me];_e.x=Math.round(_e.x*D),_e.y=Math.round(_e.y*D),(_e.x<Ni.min||_e.x>Ni.max||_e.y<Ni.min||_e.y>Ni.max)&&(U("Geometry exceeds allowed extent, reduce your vector tile buffer size"),_e.x=u(_e.x,Ni.min,Ni.max),_e.y=u(_e.y,Ni.min,Ni.max))}return W}function bi(_,D,W,ae,pe){_.emplaceBack(D*2+(ae+1)/2,W*2+(pe+1)/2)}var $i=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Gh,this.indexArray=new Cf,this.segments=new Z,this.programConfigurations=new ti(de,D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};$i.prototype.populate=function(D,W,ae){var pe=this.layers[0],Me=[],_e=null;pe.type==="circle"&&(_e=pe.layout.get("circle-sort-key"));for(var Qe=0,dt=D;Qe<dt.length;Qe+=1){var Mt=dt[Qe],Lt=Mt.feature,Yt=Mt.id,fr=Mt.index,tr=Mt.sourceLayerIndex,wr=this.layers[0]._featureFilter.needGeometry,Gr={type:Lt.type,id:Yt,properties:Lt.properties,geometry:wr?Ui(Lt):[]};if(this.layers[0]._featureFilter.filter(new Xn(this.zoom),Gr,ae)){wr||(Gr.geometry=Ui(Lt));var cn=_e?_e.evaluate(Gr,{},ae):void 0,rn={id:Yt,properties:Lt.properties,type:Lt.type,sourceLayerIndex:tr,index:fr,geometry:Gr.geometry,patterns:{},sortKey:cn};Me.push(rn)}}_e&&Me.sort(function(Ta,La){return Ta.sortKey-La.sortKey});for(var _n=0,En=Me;_n<En.length;_n+=1){var Rn=En[_n],Un=Rn,Kn=Un.geometry,fa=Un.index,sa=Un.sourceLayerIndex,Oa=D[fa].feature;this.addFeature(Rn,Kn,fa,ae),W.featureIndex.insert(Oa,Kn,fa,sa,this.index)}},$i.prototype.update=function(D,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,W,this.stateDependentLayers,ae)},$i.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},$i.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},$i.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,de),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},$i.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},$i.prototype.addFeature=function(D,W,ae,pe){for(var Me=0,_e=W;Me<_e.length;Me+=1)for(var Qe=_e[Me],dt=0,Mt=Qe;dt<Mt.length;dt+=1){var Lt=Mt[dt],Yt=Lt.x,fr=Lt.y;if(!(Yt<0||Yt>=Ua||fr<0||fr>=Ua)){var tr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),wr=tr.vertexLength;bi(this.layoutVertexArray,Yt,fr,-1,-1),bi(this.layoutVertexArray,Yt,fr,1,-1),bi(this.layoutVertexArray,Yt,fr,1,1),bi(this.layoutVertexArray,Yt,fr,-1,1),this.indexArray.emplaceBack(wr,wr+1,wr+2),this.indexArray.emplaceBack(wr,wr+3,wr+2),tr.vertexLength+=4,tr.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,{},pe)},ue("CircleBucket",$i,{omit:["layers"]});function ni(_,D){for(var W=0;W<_.length;W++)if(ll(D,_[W]))return!0;for(var ae=0;ae<D.length;ae++)if(ll(_,D[ae]))return!0;return!!su(_,D)}function Ai(_,D,W){return!!(ll(_,D)||Ju(D,_,W))}function Io(_,D){if(_.length===1)return Qu(D,_[0]);for(var W=0;W<D.length;W++)for(var ae=D[W],pe=0;pe<ae.length;pe++)if(ll(_,ae[pe]))return!0;for(var Me=0;Me<_.length;Me++)if(Qu(D,_[Me]))return!0;for(var _e=0;_e<D.length;_e++)if(su(_,D[_e]))return!0;return!1}function qo(_,D,W){for(var ae=0;ae<D.length;ae++){var pe=D[ae];if(_.length>=3){for(var Me=0;Me<pe.length;Me++)if(ll(_,pe[Me]))return!0}if(ou(_,pe,W))return!0}return!1}function ou(_,D,W){if(_.length>1){if(su(_,D))return!0;for(var ae=0;ae<D.length;ae++)if(Ju(D[ae],_,W))return!0}for(var pe=0;pe<_.length;pe++)if(Ju(_[pe],D,W))return!0;return!1}function su(_,D){if(_.length===0||D.length===0)return!1;for(var W=0;W<_.length-1;W++)for(var ae=_[W],pe=_[W+1],Me=0;Me<D.length-1;Me++){var _e=D[Me],Qe=D[Me+1];if(Ku(ae,pe,_e,Qe))return!0}return!1}function Ku(_,D,W,ae){return z(_,W,ae)!==z(D,W,ae)&&z(_,D,W)!==z(_,D,ae)}function Ju(_,D,W){var ae=W*W;if(D.length===1)return _.distSqr(D[0])<ae;for(var pe=1;pe<D.length;pe++){var Me=D[pe-1],_e=D[pe];if(Lf(_,Me,_e)<ae)return!0}return!1}function Lf(_,D,W){var ae=D.distSqr(W);if(ae===0)return _.distSqr(D);var pe=((_.x-D.x)*(W.x-D.x)+(_.y-D.y)*(W.y-D.y))/ae;return pe<0?_.distSqr(D):pe>1?_.distSqr(W):_.distSqr(W.sub(D)._mult(pe)._add(D))}function Qu(_,D){for(var W=!1,ae,pe,Me,_e=0;_e<_.length;_e++){ae=_[_e];for(var Qe=0,dt=ae.length-1;Qe<ae.length;dt=Qe++)pe=ae[Qe],Me=ae[dt],pe.y>D.y!=Me.y>D.y&&D.x<(Me.x-pe.x)*(D.y-pe.y)/(Me.y-pe.y)+pe.x&&(W=!W)}return W}function ll(_,D){for(var W=!1,ae=0,pe=_.length-1;ae<_.length;pe=ae++){var Me=_[ae],_e=_[pe];Me.y>D.y!=_e.y>D.y&&D.x<(_e.x-Me.x)*(D.y-Me.y)/(_e.y-Me.y)+Me.x&&(W=!W)}return W}function nc(_,D,W,ae,pe){for(var Me=0,_e=_;Me<_e.length;Me+=1){var Qe=_e[Me];if(D<=Qe.x&&W<=Qe.y&&ae>=Qe.x&&pe>=Qe.y)return!0}var dt=[new t(D,W),new t(D,pe),new t(ae,pe),new t(ae,W)];if(_.length>2)for(var Mt=0,Lt=dt;Mt<Lt.length;Mt+=1){var Yt=Lt[Mt];if(ll(_,Yt))return!0}for(var fr=0;fr<_.length-1;fr++){var tr=_[fr],wr=_[fr+1];if(zs(tr,wr,dt))return!0}return!1}function zs(_,D,W){var ae=W[0],pe=W[2];if(_.x<ae.x&&D.x<ae.x||_.x>pe.x&&D.x>pe.x||_.y<ae.y&&D.y<ae.y||_.y>pe.y&&D.y>pe.y)return!1;var Me=z(_,D,W[0]);return Me!==z(_,D,W[1])||Me!==z(_,D,W[2])||Me!==z(_,D,W[3])}function Gl(_,D,W){var ae=D.paint.get(_).value;return ae.kind==="constant"?ae.value:W.programConfigurations.get(D.id).getMaxValue(_)}function $u(_){return Math.sqrt(_[0]*_[0]+_[1]*_[1])}function Pu(_,D,W,ae,pe){if(!D[0]&&!D[1])return _;var Me=t.convert(D)._mult(pe);W==="viewport"&&Me._rotate(-ae);for(var _e=[],Qe=0;Qe<_.length;Qe++){var dt=_[Qe];_e.push(dt.sub(Me))}return _e}var qu=new Yo({"circle-sort-key":new za(Kt.layout_circle["circle-sort-key"])}),wv=new Yo({"circle-radius":new za(Kt.paint_circle["circle-radius"]),"circle-color":new za(Kt.paint_circle["circle-color"]),"circle-blur":new za(Kt.paint_circle["circle-blur"]),"circle-opacity":new za(Kt.paint_circle["circle-opacity"]),"circle-translate":new Ca(Kt.paint_circle["circle-translate"]),"circle-translate-anchor":new Ca(Kt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ca(Kt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ca(Kt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new za(Kt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new za(Kt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new za(Kt.paint_circle["circle-stroke-opacity"])}),Lc={paint:wv,layout:qu},Es=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var _=arguments,D=0,W=arguments.length;W--;)D+=_[W]*_[W];return Math.sqrt(D)});function Zh(){var _=new Es(4);return Es!=Float32Array&&(_[1]=0,_[2]=0),_[0]=1,_[3]=1,_}function Zs(_,D,W){var ae=D[0],pe=D[1],Me=D[2],_e=D[3],Qe=Math.sin(W),dt=Math.cos(W);return _[0]=ae*dt+Me*Qe,_[1]=pe*dt+_e*Qe,_[2]=ae*-Qe+Me*dt,_[3]=pe*-Qe+_e*dt,_}function Xh(){var _=new Es(9);return Es!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[5]=0,_[6]=0,_[7]=0),_[0]=1,_[4]=1,_[8]=1,_}function Tv(_,D){var W=Math.sin(D),ae=Math.cos(D);return _[0]=ae,_[1]=W,_[2]=0,_[3]=-W,_[4]=ae,_[5]=0,_[6]=0,_[7]=0,_[8]=1,_}function Av(){var _=new Es(16);return Es!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[11]=0,_[12]=0,_[13]=0,_[14]=0),_[0]=1,_[5]=1,_[10]=1,_[15]=1,_}function S0(_){var D=new Es(16);return D[0]=_[0],D[1]=_[1],D[2]=_[2],D[3]=_[3],D[4]=_[4],D[5]=_[5],D[6]=_[6],D[7]=_[7],D[8]=_[8],D[9]=_[9],D[10]=_[10],D[11]=_[11],D[12]=_[12],D[13]=_[13],D[14]=_[14],D[15]=_[15],D}function Mv(_){return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=1,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=1,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_}function fh(_,D){var W=D[0],ae=D[1],pe=D[2],Me=D[3],_e=D[4],Qe=D[5],dt=D[6],Mt=D[7],Lt=D[8],Yt=D[9],fr=D[10],tr=D[11],wr=D[12],Gr=D[13],cn=D[14],rn=D[15],_n=W*Qe-ae*_e,En=W*dt-pe*_e,Rn=W*Mt-Me*_e,Un=ae*dt-pe*Qe,Kn=ae*Mt-Me*Qe,fa=pe*Mt-Me*dt,sa=Lt*Gr-Yt*wr,Oa=Lt*cn-fr*wr,Ta=Lt*rn-tr*wr,La=Yt*cn-fr*Gr,qa=Yt*rn-tr*Gr,Da=fr*rn-tr*cn,Fa=_n*Da-En*qa+Rn*La+Un*Ta-Kn*Oa+fa*sa;return Fa?(Fa=1/Fa,_[0]=(Qe*Da-dt*qa+Mt*La)*Fa,_[1]=(pe*qa-ae*Da-Me*La)*Fa,_[2]=(Gr*fa-cn*Kn+rn*Un)*Fa,_[3]=(fr*Kn-Yt*fa-tr*Un)*Fa,_[4]=(dt*Ta-_e*Da-Mt*Oa)*Fa,_[5]=(W*Da-pe*Ta+Me*Oa)*Fa,_[6]=(cn*Rn-wr*fa-rn*En)*Fa,_[7]=(Lt*fa-fr*Rn+tr*En)*Fa,_[8]=(_e*qa-Qe*Ta+Mt*sa)*Fa,_[9]=(ae*Ta-W*qa-Me*sa)*Fa,_[10]=(wr*Kn-Gr*Rn+rn*_n)*Fa,_[11]=(Yt*Rn-Lt*Kn-tr*_n)*Fa,_[12]=(Qe*Oa-_e*La-dt*sa)*Fa,_[13]=(W*La-ae*Oa+pe*sa)*Fa,_[14]=(Gr*En-wr*Un-cn*_n)*Fa,_[15]=(Lt*Un-Yt*En+fr*_n)*Fa,_):null}function ch(_,D,W){var ae=D[0],pe=D[1],Me=D[2],_e=D[3],Qe=D[4],dt=D[5],Mt=D[6],Lt=D[7],Yt=D[8],fr=D[9],tr=D[10],wr=D[11],Gr=D[12],cn=D[13],rn=D[14],_n=D[15],En=W[0],Rn=W[1],Un=W[2],Kn=W[3];return _[0]=En*ae+Rn*Qe+Un*Yt+Kn*Gr,_[1]=En*pe+Rn*dt+Un*fr+Kn*cn,_[2]=En*Me+Rn*Mt+Un*tr+Kn*rn,_[3]=En*_e+Rn*Lt+Un*wr+Kn*_n,En=W[4],Rn=W[5],Un=W[6],Kn=W[7],_[4]=En*ae+Rn*Qe+Un*Yt+Kn*Gr,_[5]=En*pe+Rn*dt+Un*fr+Kn*cn,_[6]=En*Me+Rn*Mt+Un*tr+Kn*rn,_[7]=En*_e+Rn*Lt+Un*wr+Kn*_n,En=W[8],Rn=W[9],Un=W[10],Kn=W[11],_[8]=En*ae+Rn*Qe+Un*Yt+Kn*Gr,_[9]=En*pe+Rn*dt+Un*fr+Kn*cn,_[10]=En*Me+Rn*Mt+Un*tr+Kn*rn,_[11]=En*_e+Rn*Lt+Un*wr+Kn*_n,En=W[12],Rn=W[13],Un=W[14],Kn=W[15],_[12]=En*ae+Rn*Qe+Un*Yt+Kn*Gr,_[13]=En*pe+Rn*dt+Un*fr+Kn*cn,_[14]=En*Me+Rn*Mt+Un*tr+Kn*rn,_[15]=En*_e+Rn*Lt+Un*wr+Kn*_n,_}function Bo(_,D,W){var ae=W[0],pe=W[1],Me=W[2],_e,Qe,dt,Mt,Lt,Yt,fr,tr,wr,Gr,cn,rn;return D===_?(_[12]=D[0]*ae+D[4]*pe+D[8]*Me+D[12],_[13]=D[1]*ae+D[5]*pe+D[9]*Me+D[13],_[14]=D[2]*ae+D[6]*pe+D[10]*Me+D[14],_[15]=D[3]*ae+D[7]*pe+D[11]*Me+D[15]):(_e=D[0],Qe=D[1],dt=D[2],Mt=D[3],Lt=D[4],Yt=D[5],fr=D[6],tr=D[7],wr=D[8],Gr=D[9],cn=D[10],rn=D[11],_[0]=_e,_[1]=Qe,_[2]=dt,_[3]=Mt,_[4]=Lt,_[5]=Yt,_[6]=fr,_[7]=tr,_[8]=wr,_[9]=Gr,_[10]=cn,_[11]=rn,_[12]=_e*ae+Lt*pe+wr*Me+D[12],_[13]=Qe*ae+Yt*pe+Gr*Me+D[13],_[14]=dt*ae+fr*pe+cn*Me+D[14],_[15]=Mt*ae+tr*pe+rn*Me+D[15]),_}function El(_,D,W){var ae=W[0],pe=W[1],Me=W[2];return _[0]=D[0]*ae,_[1]=D[1]*ae,_[2]=D[2]*ae,_[3]=D[3]*ae,_[4]=D[4]*pe,_[5]=D[5]*pe,_[6]=D[6]*pe,_[7]=D[7]*pe,_[8]=D[8]*Me,_[9]=D[9]*Me,_[10]=D[10]*Me,_[11]=D[11]*Me,_[12]=D[12],_[13]=D[13],_[14]=D[14],_[15]=D[15],_}function Cl(_,D,W){var ae=Math.sin(W),pe=Math.cos(W),Me=D[4],_e=D[5],Qe=D[6],dt=D[7],Mt=D[8],Lt=D[9],Yt=D[10],fr=D[11];return D!==_&&(_[0]=D[0],_[1]=D[1],_[2]=D[2],_[3]=D[3],_[12]=D[12],_[13]=D[13],_[14]=D[14],_[15]=D[15]),_[4]=Me*pe+Mt*ae,_[5]=_e*pe+Lt*ae,_[6]=Qe*pe+Yt*ae,_[7]=dt*pe+fr*ae,_[8]=Mt*pe-Me*ae,_[9]=Lt*pe-_e*ae,_[10]=Yt*pe-Qe*ae,_[11]=fr*pe-dt*ae,_}function Sv(_,D,W){var ae=Math.sin(W),pe=Math.cos(W),Me=D[0],_e=D[1],Qe=D[2],dt=D[3],Mt=D[4],Lt=D[5],Yt=D[6],fr=D[7];return D!==_&&(_[8]=D[8],_[9]=D[9],_[10]=D[10],_[11]=D[11],_[12]=D[12],_[13]=D[13],_[14]=D[14],_[15]=D[15]),_[0]=Me*pe+Mt*ae,_[1]=_e*pe+Lt*ae,_[2]=Qe*pe+Yt*ae,_[3]=dt*pe+fr*ae,_[4]=Mt*pe-Me*ae,_[5]=Lt*pe-_e*ae,_[6]=Yt*pe-Qe*ae,_[7]=fr*pe-dt*ae,_}function Wd(_,D,W,ae,pe){var Me=1/Math.tan(D/2),_e;return _[0]=Me/W,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=Me,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[11]=-1,_[12]=0,_[13]=0,_[15]=0,pe!=null&&pe!==1/0?(_e=1/(ae-pe),_[10]=(pe+ae)*_e,_[14]=2*pe*ae*_e):(_[10]=-1,_[14]=-2*ae),_}function jy(_,D,W,ae,pe,Me,_e){var Qe=1/(D-W),dt=1/(ae-pe),Mt=1/(Me-_e);return _[0]=-2*Qe,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=-2*dt,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=2*Mt,_[11]=0,_[12]=(D+W)*Qe,_[13]=(pe+ae)*dt,_[14]=(_e+Me)*Mt,_[15]=1,_}var Yy=ch;function Kh(){var _=new Es(3);return Es!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0),_}function Zy(_){var D=new Es(3);return D[0]=_[0],D[1]=_[1],D[2]=_[2],D}function Ev(_,D,W){return _[0]=D[0]+W[0],_[1]=D[1]+W[1],_[2]=D[2]+W[2],_}function Xy(_,D,W){return _[0]=D[0]-W[0],_[1]=D[1]-W[1],_[2]=D[2]-W[2],_}function Ky(_,D,W){return _[0]=D[0]*W,_[1]=D[1]*W,_[2]=D[2]*W,_}function jd(_,D){var W=D[0],ae=D[1],pe=D[2],Me=W*W+ae*ae+pe*pe;return Me>0&&(Me=1/Math.sqrt(Me)),_[0]=D[0]*Me,_[1]=D[1]*Me,_[2]=D[2]*Me,_}function _4(_,D){return _[0]*D[0]+_[1]*D[1]+_[2]*D[2]}function D4(_,D,W){var ae=D[0],pe=D[1],Me=D[2],_e=W[0],Qe=W[1],dt=W[2];return _[0]=pe*dt-Me*Qe,_[1]=Me*_e-ae*dt,_[2]=ae*Qe-pe*_e,_}function k4(_,D,W){var ae=D[0],pe=D[1],Me=D[2];return _[0]=ae*W[0]+pe*W[3]+Me*W[6],_[1]=ae*W[1]+pe*W[4]+Me*W[7],_[2]=ae*W[2]+pe*W[5]+Me*W[8],_}var I4=Xy;(function(){var _=Kh();return function(D,W,ae,pe,Me,_e){var Qe,dt;for(W||(W=3),ae||(ae=0),pe?dt=Math.min(pe*W+ae,D.length):dt=D.length,Qe=ae;Qe<dt;Qe+=W)_[0]=D[Qe],_[1]=D[Qe+1],_[2]=D[Qe+2],Me(_,_,_e),D[Qe]=_[0],D[Qe+1]=_[1],D[Qe+2]=_[2];return D}})();function F4(){var _=new Es(4);return Es!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0,_[3]=0),_}function z4(_,D,W){return _[0]=D[0]*W,_[1]=D[1]*W,_[2]=D[2]*W,_[3]=D[3]*W,_}function O4(_,D){return _[0]*D[0]+_[1]*D[1]+_[2]*D[2]+_[3]*D[3]}function E0(_,D,W){var ae=D[0],pe=D[1],Me=D[2],_e=D[3];return _[0]=W[0]*ae+W[4]*pe+W[8]*Me+W[12]*_e,_[1]=W[1]*ae+W[5]*pe+W[9]*Me+W[13]*_e,_[2]=W[2]*ae+W[6]*pe+W[10]*Me+W[14]*_e,_[3]=W[3]*ae+W[7]*pe+W[11]*Me+W[15]*_e,_}(function(){var _=F4();return function(D,W,ae,pe,Me,_e){var Qe,dt;for(W||(W=4),ae||(ae=0),pe?dt=Math.min(pe*W+ae,D.length):dt=D.length,Qe=ae;Qe<dt;Qe+=W)_[0]=D[Qe],_[1]=D[Qe+1],_[2]=D[Qe+2],_[3]=D[Qe+3],Me(_,_,_e),D[Qe]=_[0],D[Qe+1]=_[1],D[Qe+2]=_[2],D[Qe+3]=_[3];return D}})();function N4(){var _=new Es(2);return Es!=Float32Array&&(_[0]=0,_[1]=0),_}function B4(_){var D=_[0],W=_[1];return D*D+W*W}var U4=B4;(function(){var _=N4();return function(D,W,ae,pe,Me,_e){var Qe,dt;for(W||(W=2),ae||(ae=0),pe?dt=Math.min(pe*W+ae,D.length):dt=D.length,Qe=ae;Qe<dt;Qe+=W)_[0]=D[Qe],_[1]=D[Qe+1],Me(_,_,_e),D[Qe]=_[0],D[Qe+1]=_[1];return D}})();var H4=function(_){function D(W){_.call(this,W,Lc)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ae){return new $i(ae)},D.prototype.queryRadius=function(ae){var pe=ae;return Gl("circle-radius",this,pe)+Gl("circle-stroke-width",this,pe)+$u(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(ae,pe,Me,_e,Qe,dt,Mt,Lt){for(var Yt=Pu(ae,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),dt.angle,Mt),fr=this.paint.get("circle-radius").evaluate(pe,Me),tr=this.paint.get("circle-stroke-width").evaluate(pe,Me),wr=fr+tr,Gr=this.paint.get("circle-pitch-alignment")==="map",cn=Gr?Yt:V4(Yt,Lt),rn=Gr?wr*Mt:wr,_n=0,En=_e;_n<En.length;_n+=1)for(var Rn=En[_n],Un=0,Kn=Rn;Un<Kn.length;Un+=1){var fa=Kn[Un],sa=Gr?fa:I2(fa,Lt),Oa=rn,Ta=E0([],[fa.x,fa.y,0,1],Lt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Oa*=Ta[3]/dt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Oa*=dt.cameraToCenterDistance/Ta[3]),Ai(cn,sa,Oa))return!0}return!1},D}(io);function I2(_,D){var W=E0([],[_.x,_.y,0,1],D);return new t(W[0]/W[3],W[1]/W[3])}function V4(_,D){return _.map(function(W){return I2(W,D)})}var F2=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D}($i);ue("HeatmapBucket",F2,{omit:["layers"]});function Jy(_,D,W,ae){var pe=D.width,Me=D.height;if(!ae)ae=new Uint8Array(pe*Me*W);else if(ae instanceof Uint8ClampedArray)ae=new Uint8Array(ae.buffer);else if(ae.length!==pe*Me*W)throw new RangeError("mismatched image size");return _.width=pe,_.height=Me,_.data=ae,_}function z2(_,D,W){var ae=D.width,pe=D.height;if(!(ae===_.width&&pe===_.height)){var Me=Jy({},{width:ae,height:pe},W);Qy(_,Me,{x:0,y:0},{x:0,y:0},{width:Math.min(_.width,ae),height:Math.min(_.height,pe)},W),_.width=ae,_.height=pe,_.data=Me.data}}function Qy(_,D,W,ae,pe,Me){if(pe.width===0||pe.height===0)return D;if(pe.width>_.width||pe.height>_.height||W.x>_.width-pe.width||W.y>_.height-pe.height)throw new RangeError("out of range source coordinates for image copy");if(pe.width>D.width||pe.height>D.height||ae.x>D.width-pe.width||ae.y>D.height-pe.height)throw new RangeError("out of range destination coordinates for image copy");for(var _e=_.data,Qe=D.data,dt=0;dt<pe.height;dt++)for(var Mt=((W.y+dt)*_.width+W.x)*Me,Lt=((ae.y+dt)*D.width+ae.x)*Me,Yt=0;Yt<pe.width*Me;Yt++)Qe[Lt+Yt]=_e[Mt+Yt];return D}var Jh=function(D,W){Jy(this,D,1,W)};Jh.prototype.resize=function(D){z2(this,D,1)},Jh.prototype.clone=function(){return new Jh({width:this.width,height:this.height},new Uint8Array(this.data))},Jh.copy=function(D,W,ae,pe,Me){Qy(D,W,ae,pe,Me,1)};var Ll=function(D,W){Jy(this,D,4,W)};Ll.prototype.resize=function(D){z2(this,D,4)},Ll.prototype.replace=function(D,W){W?this.data.set(D):D instanceof Uint8ClampedArray?this.data=new Uint8Array(D.buffer):this.data=D},Ll.prototype.clone=function(){return new Ll({width:this.width,height:this.height},new Uint8Array(this.data))},Ll.copy=function(D,W,ae,pe,Me){Qy(D,W,ae,pe,Me,4)},ue("AlphaImage",Jh),ue("RGBAImage",Ll);var G4=new Yo({"heatmap-radius":new za(Kt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new za(Kt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ca(Kt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Fs(Kt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ca(Kt.paint_heatmap["heatmap-opacity"])}),W4={paint:G4};function O2(_,D){for(var W=new Uint8Array(1024),ae={},pe=0,Me=0;pe<256;pe++,Me+=4){ae[D]=pe/255;var _e=_.evaluate(ae);W[Me+0]=Math.floor(_e.r*255/_e.a),W[Me+1]=Math.floor(_e.g*255/_e.a),W[Me+2]=Math.floor(_e.b*255/_e.a),W[Me+3]=Math.floor(_e.a*255)}return new Ll({width:256,height:1},W)}var j4=function(_){function D(W){_.call(this,W,W4),this._updateColorRamp()}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ae){return new F2(ae)},D.prototype._handleSpecialPaintPropertyUpdate=function(ae){ae==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var ae=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=O2(ae,"heatmapDensity"),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(io),Y4=new Yo({"hillshade-illumination-direction":new Ca(Kt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ca(Kt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ca(Kt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ca(Kt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ca(Kt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ca(Kt.paint_hillshade["hillshade-accent-color"])}),Z4={paint:Y4},X4=function(_){function D(W){_.call(this,W,Z4)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(io),K4=Qi([{name:"a_pos",components:2,type:"Int16"}],4),N2=K4.members,$y=C0,J4=C0;function C0(_,D,W){W=W||2;var ae=D&&D.length,pe=ae?D[0]*W:_.length,Me=B2(_,0,pe,W,!0),_e=[];if(!Me||Me.next===Me.prev)return _e;var Qe,dt,Mt,Lt,Yt,fr,tr;if(ae&&(Me=tM(_,D,Me,W)),_.length>80*W){Qe=Mt=_[0],dt=Lt=_[1];for(var wr=W;wr<pe;wr+=W)Yt=_[wr],fr=_[wr+1],Yt<Qe&&(Qe=Yt),fr<dt&&(dt=fr),Yt>Mt&&(Mt=Yt),fr>Lt&&(Lt=fr);tr=Math.max(Mt-Qe,Lt-dt),tr=tr!==0?1/tr:0}return Yd(Me,_e,W,Qe,dt,tr),_e}function B2(_,D,W,ae,pe){var Me,_e;if(pe===tm(_,D,W,ae)>0)for(Me=D;Me<W;Me+=ae)_e=V2(Me,_[Me],_[Me+1],_e);else for(Me=W-ae;Me>=D;Me-=ae)_e=V2(Me,_[Me],_[Me+1],_e);return _e&&L0(_e,_e.next)&&(Xd(_e),_e=_e.next),_e}function hh(_,D){if(!_)return _;D||(D=_);var W=_,ae;do if(ae=!1,!W.steiner&&(L0(W,W.next)||es(W.prev,W,W.next)===0)){if(Xd(W),W=D=W.prev,W===W.next)break;ae=!0}else W=W.next;while(ae||W!==D);return D}function Yd(_,D,W,ae,pe,Me,_e){if(_){!_e&&Me&&oM(_,ae,pe,Me);for(var Qe=_,dt,Mt;_.prev!==_.next;){if(dt=_.prev,Mt=_.next,Me?$4(_,ae,pe,Me):Q4(_)){D.push(dt.i/W),D.push(_.i/W),D.push(Mt.i/W),Xd(_),_=Mt.next,Qe=Mt.next;continue}if(_=Mt,_===Qe){_e?_e===1?(_=q4(hh(_),D,W),Yd(_,D,W,ae,pe,Me,2)):_e===2&&eM(_,D,W,ae,pe,Me):Yd(hh(_),D,W,ae,pe,Me,1);break}}}}function Q4(_){var D=_.prev,W=_,ae=_.next;if(es(D,W,ae)>=0)return!1;for(var pe=_.next.next;pe!==_.prev;){if(Cv(D.x,D.y,W.x,W.y,ae.x,ae.y,pe.x,pe.y)&&es(pe.prev,pe,pe.next)>=0)return!1;pe=pe.next}return!0}function $4(_,D,W,ae){var pe=_.prev,Me=_,_e=_.next;if(es(pe,Me,_e)>=0)return!1;for(var Qe=pe.x<Me.x?pe.x<_e.x?pe.x:_e.x:Me.x<_e.x?Me.x:_e.x,dt=pe.y<Me.y?pe.y<_e.y?pe.y:_e.y:Me.y<_e.y?Me.y:_e.y,Mt=pe.x>Me.x?pe.x>_e.x?pe.x:_e.x:Me.x>_e.x?Me.x:_e.x,Lt=pe.y>Me.y?pe.y>_e.y?pe.y:_e.y:Me.y>_e.y?Me.y:_e.y,Yt=qy(Qe,dt,D,W,ae),fr=qy(Mt,Lt,D,W,ae),tr=_.prevZ,wr=_.nextZ;tr&&tr.z>=Yt&&wr&&wr.z<=fr;){if(tr!==_.prev&&tr!==_.next&&Cv(pe.x,pe.y,Me.x,Me.y,_e.x,_e.y,tr.x,tr.y)&&es(tr.prev,tr,tr.next)>=0||(tr=tr.prevZ,wr!==_.prev&&wr!==_.next&&Cv(pe.x,pe.y,Me.x,Me.y,_e.x,_e.y,wr.x,wr.y)&&es(wr.prev,wr,wr.next)>=0))return!1;wr=wr.nextZ}for(;tr&&tr.z>=Yt;){if(tr!==_.prev&&tr!==_.next&&Cv(pe.x,pe.y,Me.x,Me.y,_e.x,_e.y,tr.x,tr.y)&&es(tr.prev,tr,tr.next)>=0)return!1;tr=tr.prevZ}for(;wr&&wr.z<=fr;){if(wr!==_.prev&&wr!==_.next&&Cv(pe.x,pe.y,Me.x,Me.y,_e.x,_e.y,wr.x,wr.y)&&es(wr.prev,wr,wr.next)>=0)return!1;wr=wr.nextZ}return!0}function q4(_,D,W){var ae=_;do{var pe=ae.prev,Me=ae.next.next;!L0(pe,Me)&&U2(pe,ae,ae.next,Me)&&Zd(pe,Me)&&Zd(Me,pe)&&(D.push(pe.i/W),D.push(ae.i/W),D.push(Me.i/W),Xd(ae),Xd(ae.next),ae=_=Me),ae=ae.next}while(ae!==_);return hh(ae)}function eM(_,D,W,ae,pe,Me){var _e=_;do{for(var Qe=_e.next.next;Qe!==_e.prev;){if(_e.i!==Qe.i&&uM(_e,Qe)){var dt=H2(_e,Qe);_e=hh(_e,_e.next),dt=hh(dt,dt.next),Yd(_e,D,W,ae,pe,Me),Yd(dt,D,W,ae,pe,Me);return}Qe=Qe.next}_e=_e.next}while(_e!==_)}function tM(_,D,W,ae){var pe=[],Me,_e,Qe,dt,Mt;for(Me=0,_e=D.length;Me<_e;Me++)Qe=D[Me]*ae,dt=Me<_e-1?D[Me+1]*ae:_.length,Mt=B2(_,Qe,dt,ae,!1),Mt===Mt.next&&(Mt.steiner=!0),pe.push(lM(Mt));for(pe.sort(rM),Me=0;Me<pe.length;Me++)nM(pe[Me],W),W=hh(W,W.next);return W}function rM(_,D){return _.x-D.x}function nM(_,D){if(D=aM(_,D),D){var W=H2(D,_);hh(D,D.next),hh(W,W.next)}}function aM(_,D){var W=D,ae=_.x,pe=_.y,Me=-1/0,_e;do{if(pe<=W.y&&pe>=W.next.y&&W.next.y!==W.y){var Qe=W.x+(pe-W.y)*(W.next.x-W.x)/(W.next.y-W.y);if(Qe<=ae&&Qe>Me){if(Me=Qe,Qe===ae){if(pe===W.y)return W;if(pe===W.next.y)return W.next}_e=W.x<W.next.x?W:W.next}}W=W.next}while(W!==D);if(!_e)return null;if(ae===Me)return _e;var dt=_e,Mt=_e.x,Lt=_e.y,Yt=1/0,fr;W=_e;do ae>=W.x&&W.x>=Mt&&ae!==W.x&&Cv(pe<Lt?ae:Me,pe,Mt,Lt,pe<Lt?Me:ae,pe,W.x,W.y)&&(fr=Math.abs(pe-W.y)/(ae-W.x),Zd(W,_)&&(fr<Yt||fr===Yt&&(W.x>_e.x||W.x===_e.x&&iM(_e,W)))&&(_e=W,Yt=fr)),W=W.next;while(W!==dt);return _e}function iM(_,D){return es(_.prev,_,D.prev)<0&&es(D.next,_,_.next)<0}function oM(_,D,W,ae){var pe=_;do pe.z===null&&(pe.z=qy(pe.x,pe.y,D,W,ae)),pe.prevZ=pe.prev,pe.nextZ=pe.next,pe=pe.next;while(pe!==_);pe.prevZ.nextZ=null,pe.prevZ=null,sM(pe)}function sM(_){var D,W,ae,pe,Me,_e,Qe,dt,Mt=1;do{for(W=_,_=null,Me=null,_e=0;W;){for(_e++,ae=W,Qe=0,D=0;D<Mt&&(Qe++,ae=ae.nextZ,!!ae);D++);for(dt=Mt;Qe>0||dt>0&&ae;)Qe!==0&&(dt===0||!ae||W.z<=ae.z)?(pe=W,W=W.nextZ,Qe--):(pe=ae,ae=ae.nextZ,dt--),Me?Me.nextZ=pe:_=pe,pe.prevZ=Me,Me=pe;W=ae}Me.nextZ=null,Mt*=2}while(_e>1);return _}function qy(_,D,W,ae,pe){return _=32767*(_-W)*pe,D=32767*(D-ae)*pe,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,_|D<<1}function lM(_){var D=_,W=_;do(D.x<W.x||D.x===W.x&&D.y<W.y)&&(W=D),D=D.next;while(D!==_);return W}function Cv(_,D,W,ae,pe,Me,_e,Qe){return(pe-_e)*(D-Qe)-(_-_e)*(Me-Qe)>=0&&(_-_e)*(ae-Qe)-(W-_e)*(D-Qe)>=0&&(W-_e)*(Me-Qe)-(pe-_e)*(ae-Qe)>=0}function uM(_,D){return _.next.i!==D.i&&_.prev.i!==D.i&&!fM(_,D)&&(Zd(_,D)&&Zd(D,_)&&cM(_,D)&&(es(_.prev,_,D.prev)||es(_,D.prev,D))||L0(_,D)&&es(_.prev,_,_.next)>0&&es(D.prev,D,D.next)>0)}function es(_,D,W){return(D.y-_.y)*(W.x-D.x)-(D.x-_.x)*(W.y-D.y)}function L0(_,D){return _.x===D.x&&_.y===D.y}function U2(_,D,W,ae){var pe=R0(es(_,D,W)),Me=R0(es(_,D,ae)),_e=R0(es(W,ae,_)),Qe=R0(es(W,ae,D));return!!(pe!==Me&&_e!==Qe||pe===0&&P0(_,W,D)||Me===0&&P0(_,ae,D)||_e===0&&P0(W,_,ae)||Qe===0&&P0(W,D,ae))}function P0(_,D,W){return D.x<=Math.max(_.x,W.x)&&D.x>=Math.min(_.x,W.x)&&D.y<=Math.max(_.y,W.y)&&D.y>=Math.min(_.y,W.y)}function R0(_){return _>0?1:_<0?-1:0}function fM(_,D){var W=_;do{if(W.i!==_.i&&W.next.i!==_.i&&W.i!==D.i&&W.next.i!==D.i&&U2(W,W.next,_,D))return!0;W=W.next}while(W!==_);return!1}function Zd(_,D){return es(_.prev,_,_.next)<0?es(_,D,_.next)>=0&&es(_,_.prev,D)>=0:es(_,D,_.prev)<0||es(_,_.next,D)<0}function cM(_,D){var W=_,ae=!1,pe=(_.x+D.x)/2,Me=(_.y+D.y)/2;do W.y>Me!=W.next.y>Me&&W.next.y!==W.y&&pe<(W.next.x-W.x)*(Me-W.y)/(W.next.y-W.y)+W.x&&(ae=!ae),W=W.next;while(W!==_);return ae}function H2(_,D){var W=new em(_.i,_.x,_.y),ae=new em(D.i,D.x,D.y),pe=_.next,Me=D.prev;return _.next=D,D.prev=_,W.next=pe,pe.prev=W,ae.next=W,W.prev=ae,Me.next=ae,ae.prev=Me,ae}function V2(_,D,W,ae){var pe=new em(_,D,W);return ae?(pe.next=ae.next,pe.prev=ae,ae.next.prev=pe,ae.next=pe):(pe.prev=pe,pe.next=pe),pe}function Xd(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function em(_,D,W){this.i=_,this.x=D,this.y=W,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}C0.deviation=function(_,D,W,ae){var pe=D&&D.length,Me=pe?D[0]*W:_.length,_e=Math.abs(tm(_,0,Me,W));if(pe)for(var Qe=0,dt=D.length;Qe<dt;Qe++){var Mt=D[Qe]*W,Lt=Qe<dt-1?D[Qe+1]*W:_.length;_e-=Math.abs(tm(_,Mt,Lt,W))}var Yt=0;for(Qe=0;Qe<ae.length;Qe+=3){var fr=ae[Qe]*W,tr=ae[Qe+1]*W,wr=ae[Qe+2]*W;Yt+=Math.abs((_[fr]-_[wr])*(_[tr+1]-_[fr+1])-(_[fr]-_[tr])*(_[wr+1]-_[fr+1]))}return _e===0&&Yt===0?0:Math.abs((Yt-_e)/_e)};function tm(_,D,W,ae){for(var pe=0,Me=D,_e=W-ae;Me<W;Me+=ae)pe+=(_[_e]-_[Me])*(_[Me+1]+_[_e+1]),_e=Me;return pe}C0.flatten=function(_){for(var D=_[0][0].length,W={vertices:[],holes:[],dimensions:D},ae=0,pe=0;pe<_.length;pe++){for(var Me=0;Me<_[pe].length;Me++)for(var _e=0;_e<D;_e++)W.vertices.push(_[pe][Me][_e]);pe>0&&(ae+=_[pe-1].length,W.holes.push(ae))}return W},$y.default=J4;function hM(_,D,W,ae,pe){G2(_,D,W||0,ae||_.length-1,pe||vM)}function G2(_,D,W,ae,pe){for(;ae>W;){if(ae-W>600){var Me=ae-W+1,_e=D-W+1,Qe=Math.log(Me),dt=.5*Math.exp(2*Qe/3),Mt=.5*Math.sqrt(Qe*dt*(Me-dt)/Me)*(_e-Me/2<0?-1:1),Lt=Math.max(W,Math.floor(D-_e*dt/Me+Mt)),Yt=Math.min(ae,Math.floor(D+(Me-_e)*dt/Me+Mt));G2(_,D,Lt,Yt,pe)}var fr=_[D],tr=W,wr=ae;for(Kd(_,W,D),pe(_[ae],fr)>0&&Kd(_,W,ae);tr<wr;){for(Kd(_,tr,wr),tr++,wr--;pe(_[tr],fr)<0;)tr++;for(;pe(_[wr],fr)>0;)wr--}pe(_[W],fr)===0?Kd(_,W,wr):(wr++,Kd(_,wr,ae)),wr<=D&&(W=wr+1),D<=wr&&(ae=wr-1)}}function Kd(_,D,W){var ae=_[D];_[D]=_[W],_[W]=ae}function vM(_,D){return _<D?-1:_>D?1:0}function rm(_,D){var W=_.length;if(W<=1)return[_];for(var ae=[],pe,Me,_e=0;_e<W;_e++){var Qe=N(_[_e]);Qe!==0&&(_[_e].area=Math.abs(Qe),Me===void 0&&(Me=Qe<0),Me===Qe<0?(pe&&ae.push(pe),pe=[_[_e]]):pe.push(_[_e]))}if(pe&&ae.push(pe),D>1)for(var dt=0;dt<ae.length;dt++)ae[dt].length<=D||(hM(ae[dt],D,1,ae[dt].length-1,dM),ae[dt]=ae[dt].slice(0,D));return ae}function dM(_,D){return D.area-_.area}function nm(_,D,W){for(var ae=W.patternDependencies,pe=!1,Me=0,_e=D;Me<_e.length;Me+=1){var Qe=_e[Me],dt=Qe.paint.get(_+"-pattern");dt.isConstant()||(pe=!0);var Mt=dt.constantOr(null);Mt&&(pe=!0,ae[Mt.to]=!0,ae[Mt.from]=!0)}return pe}function am(_,D,W,ae,pe){for(var Me=pe.patternDependencies,_e=0,Qe=D;_e<Qe.length;_e+=1){var dt=Qe[_e],Mt=dt.paint.get(_+"-pattern"),Lt=Mt.value;if(Lt.kind!=="constant"){var Yt=Lt.evaluate({zoom:ae-1},W,{},pe.availableImages),fr=Lt.evaluate({zoom:ae},W,{},pe.availableImages),tr=Lt.evaluate({zoom:ae+1},W,{},pe.availableImages);Yt=Yt&&Yt.name?Yt.name:Yt,fr=fr&&fr.name?fr.name:fr,tr=tr&&tr.name?tr.name:tr,Me[Yt]=!0,Me[fr]=!0,Me[tr]=!0,W.patterns[dt.id]={min:Yt,mid:fr,max:tr}}}return W}var pM=500,Pf=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Gh,this.indexArray=new Cf,this.indexArray2=new Yh,this.programConfigurations=new ti(N2,D.layers,D.zoom),this.segments=new Z,this.segments2=new Z,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};Pf.prototype.populate=function(D,W,ae){this.hasPattern=nm("fill",this.layers,W);for(var pe=this.layers[0].layout.get("fill-sort-key"),Me=[],_e=0,Qe=D;_e<Qe.length;_e+=1){var dt=Qe[_e],Mt=dt.feature,Lt=dt.id,Yt=dt.index,fr=dt.sourceLayerIndex,tr=this.layers[0]._featureFilter.needGeometry,wr={type:Mt.type,id:Lt,properties:Mt.properties,geometry:tr?Ui(Mt):[]};if(this.layers[0]._featureFilter.filter(new Xn(this.zoom),wr,ae)){tr||(wr.geometry=Ui(Mt));var Gr=pe?pe.evaluate(wr,{},ae,W.availableImages):void 0,cn={id:Lt,properties:Mt.properties,type:Mt.type,sourceLayerIndex:fr,index:Yt,geometry:wr.geometry,patterns:{},sortKey:Gr};Me.push(cn)}}pe&&Me.sort(function(Ta,La){return Ta.sortKey-La.sortKey});for(var rn=0,_n=Me;rn<_n.length;rn+=1){var En=_n[rn],Rn=En,Un=Rn.geometry,Kn=Rn.index,fa=Rn.sourceLayerIndex;if(this.hasPattern){var sa=am("fill",this.layers,En,this.zoom,W);this.patternFeatures.push(sa)}else this.addFeature(En,Un,Kn,ae,{});var Oa=D[Kn].feature;W.featureIndex.insert(Oa,Un,Kn,fa,this.index)}},Pf.prototype.update=function(D,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,W,this.stateDependentLayers,ae)},Pf.prototype.addFeatures=function(D,W,ae){for(var pe=0,Me=this.patternFeatures;pe<Me.length;pe+=1){var _e=Me[pe];this.addFeature(_e,_e.geometry,_e.index,W,ae)}},Pf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Pf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Pf.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,N2),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},Pf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Pf.prototype.addFeature=function(D,W,ae,pe,Me){for(var _e=0,Qe=rm(W,pM);_e<Qe.length;_e+=1){for(var dt=Qe[_e],Mt=0,Lt=0,Yt=dt;Lt<Yt.length;Lt+=1){var fr=Yt[Lt];Mt+=fr.length}for(var tr=this.segments.prepareSegment(Mt,this.layoutVertexArray,this.indexArray),wr=tr.vertexLength,Gr=[],cn=[],rn=0,_n=dt;rn<_n.length;rn+=1){var En=_n[rn];if(En.length!==0){En!==dt[0]&&cn.push(Gr.length/2);var Rn=this.segments2.prepareSegment(En.length,this.layoutVertexArray,this.indexArray2),Un=Rn.vertexLength;this.layoutVertexArray.emplaceBack(En[0].x,En[0].y),this.indexArray2.emplaceBack(Un+En.length-1,Un),Gr.push(En[0].x),Gr.push(En[0].y);for(var Kn=1;Kn<En.length;Kn++)this.layoutVertexArray.emplaceBack(En[Kn].x,En[Kn].y),this.indexArray2.emplaceBack(Un+Kn-1,Un+Kn),Gr.push(En[Kn].x),Gr.push(En[Kn].y);Rn.vertexLength+=En.length,Rn.primitiveLength+=En.length}}for(var fa=$y(Gr,cn),sa=0;sa<fa.length;sa+=3)this.indexArray.emplaceBack(wr+fa[sa],wr+fa[sa+1],wr+fa[sa+2]);tr.vertexLength+=Mt,tr.primitiveLength+=fa.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,Me,pe)},ue("FillBucket",Pf,{omit:["layers","patternFeatures"]});var gM=new Yo({"fill-sort-key":new za(Kt.layout_fill["fill-sort-key"])}),yM=new Yo({"fill-antialias":new Ca(Kt.paint_fill["fill-antialias"]),"fill-opacity":new za(Kt.paint_fill["fill-opacity"]),"fill-color":new za(Kt.paint_fill["fill-color"]),"fill-outline-color":new za(Kt.paint_fill["fill-outline-color"]),"fill-translate":new Ca(Kt.paint_fill["fill-translate"]),"fill-translate-anchor":new Ca(Kt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ji(Kt.paint_fill["fill-pattern"])}),mM={paint:yM,layout:gM},xM=function(_){function D(W){_.call(this,W,mM)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ae,pe){_.prototype.recalculate.call(this,ae,pe);var Me=this.paint._values["fill-outline-color"];Me.value.kind==="constant"&&Me.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(ae){return new Pf(ae)},D.prototype.queryRadius=function(){return $u(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(ae,pe,Me,_e,Qe,dt,Mt){var Lt=Pu(ae,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),dt.angle,Mt);return Io(Lt,_e)},D.prototype.isTileClipped=function(){return!0},D}(io),bM=Qi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),W2=bM.members,j2=Lv;function Lv(_,D,W,ae,pe){this.properties={},this.extent=W,this.type=0,this._pbf=_,this._geometry=-1,this._keys=ae,this._values=pe,_.readFields(wM,this,D)}function wM(_,D,W){_==1?D.id=W.readVarint():_==2?TM(W,D):_==3?D.type=W.readVarint():_==4&&(D._geometry=W.pos)}function TM(_,D){for(var W=_.readVarint()+_.pos;_.pos<W;){var ae=D._keys[_.readVarint()],pe=D._values[_.readVarint()];D.properties[ae]=pe}}Lv.types=["Unknown","Point","LineString","Polygon"],Lv.prototype.loadGeometry=function(){var _=this._pbf;_.pos=this._geometry;for(var D=_.readVarint()+_.pos,W=1,ae=0,pe=0,Me=0,_e=[],Qe;_.pos<D;){if(ae<=0){var dt=_.readVarint();W=dt&7,ae=dt>>3}if(ae--,W===1||W===2)pe+=_.readSVarint(),Me+=_.readSVarint(),W===1&&(Qe&&_e.push(Qe),Qe=[]),Qe.push(new t(pe,Me));else if(W===7)Qe&&Qe.push(Qe[0].clone());else throw new Error("unknown command "+W)}return Qe&&_e.push(Qe),_e},Lv.prototype.bbox=function(){var _=this._pbf;_.pos=this._geometry;for(var D=_.readVarint()+_.pos,W=1,ae=0,pe=0,Me=0,_e=1/0,Qe=-1/0,dt=1/0,Mt=-1/0;_.pos<D;){if(ae<=0){var Lt=_.readVarint();W=Lt&7,ae=Lt>>3}if(ae--,W===1||W===2)pe+=_.readSVarint(),Me+=_.readSVarint(),pe<_e&&(_e=pe),pe>Qe&&(Qe=pe),Me<dt&&(dt=Me),Me>Mt&&(Mt=Me);else if(W!==7)throw new Error("unknown command "+W)}return[_e,dt,Qe,Mt]},Lv.prototype.toGeoJSON=function(_,D,W){var ae=this.extent*Math.pow(2,W),pe=this.extent*_,Me=this.extent*D,_e=this.loadGeometry(),Qe=Lv.types[this.type],dt,Mt;function Lt(tr){for(var wr=0;wr<tr.length;wr++){var Gr=tr[wr],cn=180-(Gr.y+Me)*360/ae;tr[wr]=[(Gr.x+pe)*360/ae-180,360/Math.PI*Math.atan(Math.exp(cn*Math.PI/180))-90]}}switch(this.type){case 1:var Yt=[];for(dt=0;dt<_e.length;dt++)Yt[dt]=_e[dt][0];_e=Yt,Lt(_e);break;case 2:for(dt=0;dt<_e.length;dt++)Lt(_e[dt]);break;case 3:for(_e=AM(_e),dt=0;dt<_e.length;dt++)for(Mt=0;Mt<_e[dt].length;Mt++)Lt(_e[dt][Mt]);break}_e.length===1?_e=_e[0]:Qe="Multi"+Qe;var fr={type:"Feature",geometry:{type:Qe,coordinates:_e},properties:this.properties};return"id"in this&&(fr.id=this.id),fr};function AM(_){var D=_.length;if(D<=1)return[_];for(var W=[],ae,pe,Me=0;Me<D;Me++){var _e=MM(_[Me]);_e!==0&&(pe===void 0&&(pe=_e<0),pe===_e<0?(ae&&W.push(ae),ae=[_[Me]]):ae.push(_[Me]))}return ae&&W.push(ae),W}function MM(_){for(var D=0,W=0,ae=_.length,pe=ae-1,Me,_e;W<ae;pe=W++)Me=_[W],_e=_[pe],D+=(_e.x-Me.x)*(Me.y+_e.y);return D}var Y2=Z2;function Z2(_,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=_,this._keys=[],this._values=[],this._features=[],_.readFields(SM,this,D),this.length=this._features.length}function SM(_,D,W){_===15?D.version=W.readVarint():_===1?D.name=W.readString():_===5?D.extent=W.readVarint():_===2?D._features.push(W.pos):_===3?D._keys.push(W.readString()):_===4&&D._values.push(EM(W))}function EM(_){for(var D=null,W=_.readVarint()+_.pos;_.pos<W;){var ae=_.readVarint()>>3;D=ae===1?_.readString():ae===2?_.readFloat():ae===3?_.readDouble():ae===4?_.readVarint64():ae===5?_.readVarint():ae===6?_.readSVarint():ae===7?_.readBoolean():null}return D}Z2.prototype.feature=function(_){if(_<0||_>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[_];var D=this._pbf.readVarint()+this._pbf.pos;return new j2(this._pbf,D,this.extent,this._keys,this._values)};var CM=LM;function LM(_,D){this.layers=_.readFields(PM,{},D)}function PM(_,D,W){if(_===3){var ae=new Y2(W,W.readVarint()+W.pos);ae.length&&(D[ae.name]=ae)}}var RM=CM,_M=j2,DM=Y2,Pv={VectorTile:RM,VectorTileFeature:_M,VectorTileLayer:DM},kM=Pv.VectorTileFeature.types,IM=500,im=Math.pow(2,13);function Jd(_,D,W,ae,pe,Me,_e,Qe){_.emplaceBack(D,W,Math.floor(ae*im)*2+_e,pe*im*2,Me*im*2,Math.round(Qe))}var Rf=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new oh,this.indexArray=new Cf,this.programConfigurations=new ti(W2,D.layers,D.zoom),this.segments=new Z,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};Rf.prototype.populate=function(D,W,ae){this.features=[],this.hasPattern=nm("fill-extrusion",this.layers,W);for(var pe=0,Me=D;pe<Me.length;pe+=1){var _e=Me[pe],Qe=_e.feature,dt=_e.id,Mt=_e.index,Lt=_e.sourceLayerIndex,Yt=this.layers[0]._featureFilter.needGeometry,fr={type:Qe.type,id:dt,properties:Qe.properties,geometry:Yt?Ui(Qe):[]};if(this.layers[0]._featureFilter.filter(new Xn(this.zoom),fr,ae)){var tr={id:dt,sourceLayerIndex:Lt,index:Mt,geometry:Yt?fr.geometry:Ui(Qe),properties:Qe.properties,type:Qe.type,patterns:{}};typeof Qe.id<"u"&&(tr.id=Qe.id),this.hasPattern?this.features.push(am("fill-extrusion",this.layers,tr,this.zoom,W)):this.addFeature(tr,tr.geometry,Mt,ae,{}),W.featureIndex.insert(Qe,tr.geometry,Mt,Lt,this.index,!0)}}},Rf.prototype.addFeatures=function(D,W,ae){for(var pe=0,Me=this.features;pe<Me.length;pe+=1){var _e=Me[pe],Qe=_e.geometry;this.addFeature(_e,Qe,_e.index,W,ae)}},Rf.prototype.update=function(D,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,W,this.stateDependentLayers,ae)},Rf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Rf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Rf.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,W2),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Rf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Rf.prototype.addFeature=function(D,W,ae,pe,Me){for(var _e=0,Qe=rm(W,IM);_e<Qe.length;_e+=1){for(var dt=Qe[_e],Mt=0,Lt=0,Yt=dt;Lt<Yt.length;Lt+=1){var fr=Yt[Lt];Mt+=fr.length}for(var tr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),wr=0,Gr=dt;wr<Gr.length;wr+=1){var cn=Gr[wr];if(cn.length!==0&&!zM(cn))for(var rn=0,_n=0;_n<cn.length;_n++){var En=cn[_n];if(_n>=1){var Rn=cn[_n-1];if(!FM(En,Rn)){tr.vertexLength+4>Z.MAX_VERTEX_ARRAY_LENGTH&&(tr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Un=En.sub(Rn)._perp()._unit(),Kn=Rn.dist(En);rn+Kn>32768&&(rn=0),Jd(this.layoutVertexArray,En.x,En.y,Un.x,Un.y,0,0,rn),Jd(this.layoutVertexArray,En.x,En.y,Un.x,Un.y,0,1,rn),rn+=Kn,Jd(this.layoutVertexArray,Rn.x,Rn.y,Un.x,Un.y,0,0,rn),Jd(this.layoutVertexArray,Rn.x,Rn.y,Un.x,Un.y,0,1,rn);var fa=tr.vertexLength;this.indexArray.emplaceBack(fa,fa+2,fa+1),this.indexArray.emplaceBack(fa+1,fa+2,fa+3),tr.vertexLength+=4,tr.primitiveLength+=2}}}}if(tr.vertexLength+Mt>Z.MAX_VERTEX_ARRAY_LENGTH&&(tr=this.segments.prepareSegment(Mt,this.layoutVertexArray,this.indexArray)),kM[D.type]==="Polygon"){for(var sa=[],Oa=[],Ta=tr.vertexLength,La=0,qa=dt;La<qa.length;La+=1){var Da=qa[La];if(Da.length!==0){Da!==dt[0]&&Oa.push(sa.length/2);for(var Fa=0;Fa<Da.length;Fa++){var fi=Da[Fa];Jd(this.layoutVertexArray,fi.x,fi.y,0,0,1,1,0),sa.push(fi.x),sa.push(fi.y)}}}for(var Ka=$y(sa,Oa),Li=0;Li<Ka.length;Li+=3)this.indexArray.emplaceBack(Ta+Ka[Li],Ta+Ka[Li+2],Ta+Ka[Li+1]);tr.primitiveLength+=Ka.length/3,tr.vertexLength+=Mt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,Me,pe)},ue("FillExtrusionBucket",Rf,{omit:["layers","features"]});function FM(_,D){return _.x===D.x&&(_.x<0||_.x>Ua)||_.y===D.y&&(_.y<0||_.y>Ua)}function zM(_){return _.every(function(D){return D.x<0})||_.every(function(D){return D.x>Ua})||_.every(function(D){return D.y<0})||_.every(function(D){return D.y>Ua})}var OM=new Yo({"fill-extrusion-opacity":new Ca(Kt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new za(Kt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ca(Kt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ca(Kt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ji(Kt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new za(Kt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new za(Kt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ca(Kt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),NM={paint:OM},BM=function(_){function D(W){_.call(this,W,NM)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ae){return new Rf(ae)},D.prototype.queryRadius=function(){return $u(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(ae,pe,Me,_e,Qe,dt,Mt,Lt){var Yt=Pu(ae,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),dt.angle,Mt),fr=this.paint.get("fill-extrusion-height").evaluate(pe,Me),tr=this.paint.get("fill-extrusion-base").evaluate(pe,Me),wr=VM(Yt,Lt,dt,0),Gr=HM(_e,tr,fr,Lt),cn=Gr[0],rn=Gr[1];return UM(cn,rn,wr)},D}(io);function Qd(_,D){return _.x*D.x+_.y*D.y}function X2(_,D){if(_.length===1){for(var W=0,ae=D[W++],pe;!pe||ae.equals(pe);)if(pe=D[W++],!pe)return 1/0;for(;W<D.length;W++){var Me=D[W],_e=_[0],Qe=pe.sub(ae),dt=Me.sub(ae),Mt=_e.sub(ae),Lt=Qd(Qe,Qe),Yt=Qd(Qe,dt),fr=Qd(dt,dt),tr=Qd(Mt,Qe),wr=Qd(Mt,dt),Gr=Lt*fr-Yt*Yt,cn=(fr*tr-Yt*wr)/Gr,rn=(Lt*wr-Yt*tr)/Gr,_n=1-cn-rn,En=ae.z*_n+pe.z*cn+Me.z*rn;if(isFinite(En))return En}return 1/0}else{for(var Rn=1/0,Un=0,Kn=D;Un<Kn.length;Un+=1){var fa=Kn[Un];Rn=Math.min(Rn,fa.z)}return Rn}}function UM(_,D,W){var ae=1/0;Io(W,D)&&(ae=X2(W,D[0]));for(var pe=0;pe<D.length;pe++)for(var Me=D[pe],_e=_[pe],Qe=0;Qe<Me.length-1;Qe++){var dt=Me[Qe],Mt=Me[Qe+1],Lt=_e[Qe],Yt=_e[Qe+1],fr=[dt,Mt,Yt,Lt,dt];ni(W,fr)&&(ae=Math.min(ae,X2(W,fr)))}return ae===1/0?!1:ae}function HM(_,D,W,ae){for(var pe=[],Me=[],_e=ae[8]*D,Qe=ae[9]*D,dt=ae[10]*D,Mt=ae[11]*D,Lt=ae[8]*W,Yt=ae[9]*W,fr=ae[10]*W,tr=ae[11]*W,wr=0,Gr=_;wr<Gr.length;wr+=1){for(var cn=Gr[wr],rn=[],_n=[],En=0,Rn=cn;En<Rn.length;En+=1){var Un=Rn[En],Kn=Un.x,fa=Un.y,sa=ae[0]*Kn+ae[4]*fa+ae[12],Oa=ae[1]*Kn+ae[5]*fa+ae[13],Ta=ae[2]*Kn+ae[6]*fa+ae[14],La=ae[3]*Kn+ae[7]*fa+ae[15],qa=sa+_e,Da=Oa+Qe,Fa=Ta+dt,fi=La+Mt,Ka=sa+Lt,Li=Oa+Yt,Zi=Ta+fr,Pi=La+tr,Ri=new t(qa/fi,Da/fi);Ri.z=Fa/fi,rn.push(Ri);var Mi=new t(Ka/Pi,Li/Pi);Mi.z=Zi/Pi,_n.push(Mi)}pe.push(rn),Me.push(_n)}return[pe,Me]}function VM(_,D,W,ae){for(var pe=[],Me=0,_e=_;Me<_e.length;Me+=1){var Qe=_e[Me],dt=[Qe.x,Qe.y,ae,1];E0(dt,dt,D),pe.push(new t(dt[0]/dt[3],dt[1]/dt[3]))}return pe}var GM=Qi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),K2=GM.members,WM=Pv.VectorTileFeature.types,J2=63,jM=Math.cos(75/2*(Math.PI/180)),YM=15,ZM=20,XM=15,Q2=1/2,$2=Math.pow(2,XM-1)/Q2,Pl=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new mv,this.indexArray=new Cf,this.programConfigurations=new ti(K2,D.layers,D.zoom),this.segments=new Z,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};Pl.prototype.populate=function(D,W,ae){this.hasPattern=nm("line",this.layers,W);for(var pe=this.layers[0].layout.get("line-sort-key"),Me=[],_e=0,Qe=D;_e<Qe.length;_e+=1){var dt=Qe[_e],Mt=dt.feature,Lt=dt.id,Yt=dt.index,fr=dt.sourceLayerIndex,tr=this.layers[0]._featureFilter.needGeometry,wr={type:Mt.type,id:Lt,properties:Mt.properties,geometry:tr?Ui(Mt):[]};if(this.layers[0]._featureFilter.filter(new Xn(this.zoom),wr,ae)){tr||(wr.geometry=Ui(Mt));var Gr=pe?pe.evaluate(wr,{},ae):void 0,cn={id:Lt,properties:Mt.properties,type:Mt.type,sourceLayerIndex:fr,index:Yt,geometry:wr.geometry,patterns:{},sortKey:Gr};Me.push(cn)}}pe&&Me.sort(function(Ta,La){return Ta.sortKey-La.sortKey});for(var rn=0,_n=Me;rn<_n.length;rn+=1){var En=_n[rn],Rn=En,Un=Rn.geometry,Kn=Rn.index,fa=Rn.sourceLayerIndex;if(this.hasPattern){var sa=am("line",this.layers,En,this.zoom,W);this.patternFeatures.push(sa)}else this.addFeature(En,Un,Kn,ae,{});var Oa=D[Kn].feature;W.featureIndex.insert(Oa,Un,Kn,fa,this.index)}},Pl.prototype.update=function(D,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,W,this.stateDependentLayers,ae)},Pl.prototype.addFeatures=function(D,W,ae){for(var pe=0,Me=this.patternFeatures;pe<Me.length;pe+=1){var _e=Me[pe];this.addFeature(_e,_e.geometry,_e.index,W,ae)}},Pl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Pl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Pl.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,K2),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Pl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Pl.prototype.addFeature=function(D,W,ae,pe,Me){for(var _e=this.layers[0].layout,Qe=_e.get("line-join").evaluate(D,{}),dt=_e.get("line-cap"),Mt=_e.get("line-miter-limit"),Lt=_e.get("line-round-limit"),Yt=0,fr=W;Yt<fr.length;Yt+=1){var tr=fr[Yt];this.addLine(tr,D,Qe,dt,Mt,Lt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ae,Me,pe)},Pl.prototype.addLine=function(D,W,ae,pe,Me,_e){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,W.properties&&W.properties.hasOwnProperty("mapbox_clip_start")&&W.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+W.properties.mapbox_clip_start,this.clipEnd=+W.properties.mapbox_clip_end;for(var Qe=0;Qe<D.length-1;Qe++)this.totalDistance+=D[Qe].dist(D[Qe+1]);this.updateScaledDistance()}for(var dt=WM[W.type]==="Polygon",Mt=D.length;Mt>=2&&D[Mt-1].equals(D[Mt-2]);)Mt--;for(var Lt=0;Lt<Mt-1&&D[Lt].equals(D[Lt+1]);)Lt++;if(!(Mt<(dt?3:2))){ae==="bevel"&&(Me=1.05);var Yt=this.overscaling<=16?YM*Ua/(512*this.overscaling):0,fr=this.segments.prepareSegment(Mt*10,this.layoutVertexArray,this.indexArray),tr,wr=void 0,Gr=void 0,cn=void 0,rn=void 0;this.e1=this.e2=-1,dt&&(tr=D[Mt-2],rn=D[Lt].sub(tr)._unit()._perp());for(var _n=Lt;_n<Mt;_n++)if(Gr=_n===Mt-1?dt?D[Lt+1]:void 0:D[_n+1],!(Gr&&D[_n].equals(Gr))){rn&&(cn=rn),tr&&(wr=tr),tr=D[_n],rn=Gr?Gr.sub(tr)._unit()._perp():cn,cn=cn||rn;var En=cn.add(rn);(En.x!==0||En.y!==0)&&En._unit();var Rn=cn.x*rn.x+cn.y*rn.y,Un=En.x*rn.x+En.y*rn.y,Kn=Un!==0?1/Un:1/0,fa=2*Math.sqrt(2-2*Un),sa=Un<jM&&wr&&Gr,Oa=cn.x*rn.y-cn.y*rn.x>0;if(sa&&_n>Lt){var Ta=tr.dist(wr);if(Ta>2*Yt){var La=tr.sub(tr.sub(wr)._mult(Yt/Ta)._round());this.updateDistance(wr,La),this.addCurrentVertex(La,cn,0,0,fr),wr=La}}var qa=wr&&Gr,Da=qa?ae:dt?"butt":pe;if(qa&&Da==="round"&&(Kn<_e?Da="miter":Kn<=2&&(Da="fakeround")),Da==="miter"&&Kn>Me&&(Da="bevel"),Da==="bevel"&&(Kn>2&&(Da="flipbevel"),Kn<Me&&(Da="miter")),wr&&this.updateDistance(wr,tr),Da==="miter")En._mult(Kn),this.addCurrentVertex(tr,En,0,0,fr);else if(Da==="flipbevel"){if(Kn>100)En=rn.mult(-1);else{var Fa=Kn*cn.add(rn).mag()/cn.sub(rn).mag();En._perp()._mult(Fa*(Oa?-1:1))}this.addCurrentVertex(tr,En,0,0,fr),this.addCurrentVertex(tr,En.mult(-1),0,0,fr)}else if(Da==="bevel"||Da==="fakeround"){var fi=-Math.sqrt(Kn*Kn-1),Ka=Oa?fi:0,Li=Oa?0:fi;if(wr&&this.addCurrentVertex(tr,cn,Ka,Li,fr),Da==="fakeround")for(var Zi=Math.round(fa*180/Math.PI/ZM),Pi=1;Pi<Zi;Pi++){var Ri=Pi/Zi;if(Ri!==.5){var Mi=Ri-.5,no=1.0904+Rn*(-3.2452+Rn*(3.55645-Rn*1.43519)),so=.848013+Rn*(-1.06021+Rn*.215638);Ri=Ri+Ri*Mi*(Ri-1)*(no*Mi*Mi+so)}var Fo=rn.sub(cn)._mult(Ri)._add(cn)._unit()._mult(Oa?-1:1);this.addHalfVertex(tr,Fo.x,Fo.y,!1,Oa,0,fr)}Gr&&this.addCurrentVertex(tr,rn,-Ka,-Li,fr)}else if(Da==="butt")this.addCurrentVertex(tr,En,0,0,fr);else if(Da==="square"){var Uo=wr?1:-1;this.addCurrentVertex(tr,En,Uo,Uo,fr)}else Da==="round"&&(wr&&(this.addCurrentVertex(tr,cn,0,0,fr),this.addCurrentVertex(tr,cn,1,1,fr,!0)),Gr&&(this.addCurrentVertex(tr,rn,-1,-1,fr,!0),this.addCurrentVertex(tr,rn,0,0,fr)));if(sa&&_n<Mt-1){var xs=tr.dist(Gr);if(xs>2*Yt){var ns=tr.add(Gr.sub(tr)._mult(Yt/xs)._round());this.updateDistance(tr,ns),this.addCurrentVertex(ns,rn,0,0,fr),tr=ns}}}}},Pl.prototype.addCurrentVertex=function(D,W,ae,pe,Me,_e){_e===void 0&&(_e=!1);var Qe=W.x+W.y*ae,dt=W.y-W.x*ae,Mt=-W.x+W.y*pe,Lt=-W.y-W.x*pe;this.addHalfVertex(D,Qe,dt,_e,!1,ae,Me),this.addHalfVertex(D,Mt,Lt,_e,!0,-pe,Me),this.distance>$2/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(D,W,ae,pe,Me,_e))},Pl.prototype.addHalfVertex=function(D,W,ae,pe,Me,_e,Qe){var dt=D.x,Mt=D.y,Lt=this.scaledDistance*Q2;this.layoutVertexArray.emplaceBack((dt<<1)+(pe?1:0),(Mt<<1)+(Me?1:0),Math.round(J2*W)+128,Math.round(J2*ae)+128,(_e===0?0:_e<0?-1:1)+1|(Lt&63)<<2,Lt>>6);var Yt=Qe.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Yt),Qe.primitiveLength++),Me?this.e2=Yt:this.e1=Yt},Pl.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*($2-1):this.distance},Pl.prototype.updateDistance=function(D,W){this.distance+=D.dist(W),this.updateScaledDistance()},ue("LineBucket",Pl,{omit:["layers","patternFeatures"]});var KM=new Yo({"line-cap":new Ca(Kt.layout_line["line-cap"]),"line-join":new za(Kt.layout_line["line-join"]),"line-miter-limit":new Ca(Kt.layout_line["line-miter-limit"]),"line-round-limit":new Ca(Kt.layout_line["line-round-limit"]),"line-sort-key":new za(Kt.layout_line["line-sort-key"])}),JM=new Yo({"line-opacity":new za(Kt.paint_line["line-opacity"]),"line-color":new za(Kt.paint_line["line-color"]),"line-translate":new Ca(Kt.paint_line["line-translate"]),"line-translate-anchor":new Ca(Kt.paint_line["line-translate-anchor"]),"line-width":new za(Kt.paint_line["line-width"]),"line-gap-width":new za(Kt.paint_line["line-gap-width"]),"line-offset":new za(Kt.paint_line["line-offset"]),"line-blur":new za(Kt.paint_line["line-blur"]),"line-dasharray":new Ro(Kt.paint_line["line-dasharray"]),"line-pattern":new Ji(Kt.paint_line["line-pattern"]),"line-gradient":new Fs(Kt.paint_line["line-gradient"])}),q2={paint:JM,layout:KM},QM=function(_){function D(){_.apply(this,arguments)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ae,pe){return pe=new Xn(Math.floor(pe.zoom),{now:pe.now,fadeDuration:pe.fadeDuration,zoomHistory:pe.zoomHistory,transition:pe.transition}),_.prototype.possiblyEvaluate.call(this,ae,pe)},D.prototype.evaluate=function(ae,pe,Me,_e){return pe=o({},pe,{zoom:Math.floor(pe.zoom)}),_.prototype.evaluate.call(this,ae,pe,Me,_e)},D}(za),eb=new QM(q2.paint.properties["line-width"].specification);eb.useIntegerZoom=!0;var $M=function(_){function D(W){_.call(this,W,q2)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(ae){ae==="line-gradient"&&this._updateGradient()},D.prototype._updateGradient=function(){var ae=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=O2(ae,"lineProgress"),this.gradientTexture=null},D.prototype.recalculate=function(ae,pe){_.prototype.recalculate.call(this,ae,pe),this.paint._values["line-floorwidth"]=eb.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ae)},D.prototype.createBucket=function(ae){return new Pl(ae)},D.prototype.queryRadius=function(ae){var pe=ae,Me=tb(Gl("line-width",this,pe),Gl("line-gap-width",this,pe)),_e=Gl("line-offset",this,pe);return Me/2+Math.abs(_e)+$u(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(ae,pe,Me,_e,Qe,dt,Mt){var Lt=Pu(ae,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),dt.angle,Mt),Yt=Mt/2*tb(this.paint.get("line-width").evaluate(pe,Me),this.paint.get("line-gap-width").evaluate(pe,Me)),fr=this.paint.get("line-offset").evaluate(pe,Me);return fr&&(_e=qM(_e,fr*Mt)),qo(Lt,_e,Yt)},D.prototype.isTileClipped=function(){return!0},D}(io);function tb(_,D){return D>0?D+2*_:_}function qM(_,D){for(var W=[],ae=new t(0,0),pe=0;pe<_.length;pe++){for(var Me=_[pe],_e=[],Qe=0;Qe<Me.length;Qe++){var dt=Me[Qe-1],Mt=Me[Qe],Lt=Me[Qe+1],Yt=Qe===0?ae:Mt.sub(dt)._unit()._perp(),fr=Qe===Me.length-1?ae:Lt.sub(Mt)._unit()._perp(),tr=Yt._add(fr)._unit(),wr=tr.x*fr.x+tr.y*fr.y;tr._mult(1/wr),_e.push(tr._mult(D)._add(Mt))}W.push(_e)}return W}var om=Qi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),eS=Qi([{name:"a_projected_pos",components:3,type:"Float32"}],4);Qi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var tS=Qi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Qi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var rb=Qi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),rS=Qi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Qi([{name:"triangle",components:3,type:"Uint16"}]),Qi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Qi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Qi([{type:"Float32",name:"offsetX"}]),Qi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function nS(_,D,W){var ae=D.layout.get("text-transform").evaluate(W,{});return ae==="uppercase"?_=_.toLocaleUpperCase():ae==="lowercase"&&(_=_.toLocaleLowerCase()),Ci.applyArabicShaping&&(_=Ci.applyArabicShaping(_)),_}function aS(_,D,W){return _.sections.forEach(function(ae){ae.text=nS(ae.text,D,W)}),_}function iS(_){var D={},W={},ae=[],pe=0;function Me(rn){ae.push(_[rn]),pe++}function _e(rn,_n,En){var Rn=W[rn];return delete W[rn],W[_n]=Rn,ae[Rn].geometry[0].pop(),ae[Rn].geometry[0]=ae[Rn].geometry[0].concat(En[0]),Rn}function Qe(rn,_n,En){var Rn=D[_n];return delete D[_n],D[rn]=Rn,ae[Rn].geometry[0].shift(),ae[Rn].geometry[0]=En[0].concat(ae[Rn].geometry[0]),Rn}function dt(rn,_n,En){var Rn=En?_n[0][_n[0].length-1]:_n[0][0];return rn+":"+Rn.x+":"+Rn.y}for(var Mt=0;Mt<_.length;Mt++){var Lt=_[Mt],Yt=Lt.geometry,fr=Lt.text?Lt.text.toString():null;if(!fr){Me(Mt);continue}var tr=dt(fr,Yt),wr=dt(fr,Yt,!0);if(tr in W&&wr in D&&W[tr]!==D[wr]){var Gr=Qe(tr,wr,Yt),cn=_e(tr,wr,ae[Gr].geometry);delete D[tr],delete W[wr],W[dt(fr,ae[cn].geometry,!0)]=cn,ae[Gr].geometry=null}else tr in W?_e(tr,wr,Yt):wr in D?Qe(tr,wr,Yt):(Me(Mt),D[tr]=pe-1,W[wr]=pe-1)}return ae.filter(function(rn){return rn.geometry})}var $d={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function oS(_){for(var D="",W=0;W<_.length;W++){var ae=_.charCodeAt(W+1)||null,pe=_.charCodeAt(W-1)||null,Me=(!ae||!on(ae)||$d[_[W+1]])&&(!pe||!on(pe)||$d[_[W-1]]);Me&&$d[_[W]]?D+=$d[_[W]]:D+=_[W]}return D}var Cs=24,sS=function(_,D,W,ae,pe){var Me,_e,Qe=pe*8-ae-1,dt=(1<<Qe)-1,Mt=dt>>1,Lt=-7,Yt=W?pe-1:0,fr=W?-1:1,tr=_[D+Yt];for(Yt+=fr,Me=tr&(1<<-Lt)-1,tr>>=-Lt,Lt+=Qe;Lt>0;Me=Me*256+_[D+Yt],Yt+=fr,Lt-=8);for(_e=Me&(1<<-Lt)-1,Me>>=-Lt,Lt+=ae;Lt>0;_e=_e*256+_[D+Yt],Yt+=fr,Lt-=8);if(Me===0)Me=1-Mt;else{if(Me===dt)return _e?NaN:(tr?-1:1)*(1/0);_e=_e+Math.pow(2,ae),Me=Me-Mt}return(tr?-1:1)*_e*Math.pow(2,Me-ae)},lS=function(_,D,W,ae,pe,Me){var _e,Qe,dt,Mt=Me*8-pe-1,Lt=(1<<Mt)-1,Yt=Lt>>1,fr=pe===23?Math.pow(2,-24)-Math.pow(2,-77):0,tr=ae?0:Me-1,wr=ae?1:-1,Gr=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(Qe=isNaN(D)?1:0,_e=Lt):(_e=Math.floor(Math.log(D)/Math.LN2),D*(dt=Math.pow(2,-_e))<1&&(_e--,dt*=2),_e+Yt>=1?D+=fr/dt:D+=fr*Math.pow(2,1-Yt),D*dt>=2&&(_e++,dt/=2),_e+Yt>=Lt?(Qe=0,_e=Lt):_e+Yt>=1?(Qe=(D*dt-1)*Math.pow(2,pe),_e=_e+Yt):(Qe=D*Math.pow(2,Yt-1)*Math.pow(2,pe),_e=0));pe>=8;_[W+tr]=Qe&255,tr+=wr,Qe/=256,pe-=8);for(_e=_e<<pe|Qe,Mt+=pe;Mt>0;_[W+tr]=_e&255,tr+=wr,_e/=256,Mt-=8);_[W+tr-wr]|=Gr*128},_0={read:sS,write:lS},D0=oo;function oo(_){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(_)?_:new Uint8Array(_||0),this.pos=0,this.type=0,this.length=this.buf.length}oo.Varint=0,oo.Fixed64=1,oo.Bytes=2,oo.Fixed32=5;var sm=65536*65536,nb=1/sm,uS=12,ab=typeof TextDecoder>"u"?null:new TextDecoder("utf8");oo.prototype={destroy:function(){this.buf=null},readFields:function(_,D,W){for(W=W||this.length;this.pos<W;){var ae=this.readVarint(),pe=ae>>3,Me=this.pos;this.type=ae&7,_(pe,D,this),this.pos===Me&&this.skip(ae)}return D},readMessage:function(_,D){return this.readFields(_,D,this.readVarint()+this.pos)},readFixed32:function(){var _=k0(this.buf,this.pos);return this.pos+=4,_},readSFixed32:function(){var _=ob(this.buf,this.pos);return this.pos+=4,_},readFixed64:function(){var _=k0(this.buf,this.pos)+k0(this.buf,this.pos+4)*sm;return this.pos+=8,_},readSFixed64:function(){var _=k0(this.buf,this.pos)+ob(this.buf,this.pos+4)*sm;return this.pos+=8,_},readFloat:function(){var _=_0.read(this.buf,this.pos,!0,23,4);return this.pos+=4,_},readDouble:function(){var _=_0.read(this.buf,this.pos,!0,52,8);return this.pos+=8,_},readVarint:function(_){var D=this.buf,W,ae;return ae=D[this.pos++],W=ae&127,ae<128||(ae=D[this.pos++],W|=(ae&127)<<7,ae<128)||(ae=D[this.pos++],W|=(ae&127)<<14,ae<128)||(ae=D[this.pos++],W|=(ae&127)<<21,ae<128)?W:(ae=D[this.pos],W|=(ae&15)<<28,fS(W,_,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var _=this.readVarint();return _%2===1?(_+1)/-2:_/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var _=this.readVarint()+this.pos,D=this.pos;return this.pos=_,_-D>=uS&&ab?MS(this.buf,D,_):AS(this.buf,D,_)},readBytes:function(){var _=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,_);return this.pos=_,D},readPackedVarint:function(_,D){if(this.type!==oo.Bytes)return _.push(this.readVarint(D));var W=Pc(this);for(_=_||[];this.pos<W;)_.push(this.readVarint(D));return _},readPackedSVarint:function(_){if(this.type!==oo.Bytes)return _.push(this.readSVarint());var D=Pc(this);for(_=_||[];this.pos<D;)_.push(this.readSVarint());return _},readPackedBoolean:function(_){if(this.type!==oo.Bytes)return _.push(this.readBoolean());var D=Pc(this);for(_=_||[];this.pos<D;)_.push(this.readBoolean());return _},readPackedFloat:function(_){if(this.type!==oo.Bytes)return _.push(this.readFloat());var D=Pc(this);for(_=_||[];this.pos<D;)_.push(this.readFloat());return _},readPackedDouble:function(_){if(this.type!==oo.Bytes)return _.push(this.readDouble());var D=Pc(this);for(_=_||[];this.pos<D;)_.push(this.readDouble());return _},readPackedFixed32:function(_){if(this.type!==oo.Bytes)return _.push(this.readFixed32());var D=Pc(this);for(_=_||[];this.pos<D;)_.push(this.readFixed32());return _},readPackedSFixed32:function(_){if(this.type!==oo.Bytes)return _.push(this.readSFixed32());var D=Pc(this);for(_=_||[];this.pos<D;)_.push(this.readSFixed32());return _},readPackedFixed64:function(_){if(this.type!==oo.Bytes)return _.push(this.readFixed64());var D=Pc(this);for(_=_||[];this.pos<D;)_.push(this.readFixed64());return _},readPackedSFixed64:function(_){if(this.type!==oo.Bytes)return _.push(this.readSFixed64());var D=Pc(this);for(_=_||[];this.pos<D;)_.push(this.readSFixed64());return _},skip:function(_){var D=_&7;if(D===oo.Varint)for(;this.buf[this.pos++]>127;);else if(D===oo.Bytes)this.pos=this.readVarint()+this.pos;else if(D===oo.Fixed32)this.pos+=4;else if(D===oo.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+D)},writeTag:function(_,D){this.writeVarint(_<<3|D)},realloc:function(_){for(var D=this.length||16;D<this.pos+_;)D*=2;if(D!==this.length){var W=new Uint8Array(D);W.set(this.buf),this.buf=W,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(_){this.realloc(4),_v(this.buf,_,this.pos),this.pos+=4},writeSFixed32:function(_){this.realloc(4),_v(this.buf,_,this.pos),this.pos+=4},writeFixed64:function(_){this.realloc(8),_v(this.buf,_&-1,this.pos),_v(this.buf,Math.floor(_*nb),this.pos+4),this.pos+=8},writeSFixed64:function(_){this.realloc(8),_v(this.buf,_&-1,this.pos),_v(this.buf,Math.floor(_*nb),this.pos+4),this.pos+=8},writeVarint:function(_){if(_=+_||0,_>268435455||_<0){cS(_,this);return}this.realloc(4),this.buf[this.pos++]=_&127|(_>127?128:0),!(_<=127)&&(this.buf[this.pos++]=(_>>>=7)&127|(_>127?128:0),!(_<=127)&&(this.buf[this.pos++]=(_>>>=7)&127|(_>127?128:0),!(_<=127)&&(this.buf[this.pos++]=_>>>7&127)))},writeSVarint:function(_){this.writeVarint(_<0?-_*2-1:_*2)},writeBoolean:function(_){this.writeVarint(!!_)},writeString:function(_){_=String(_),this.realloc(_.length*4),this.pos++;var D=this.pos;this.pos=SS(this.buf,_,this.pos);var W=this.pos-D;W>=128&&ib(D,W,this),this.pos=D-1,this.writeVarint(W),this.pos+=W},writeFloat:function(_){this.realloc(4),_0.write(this.buf,_,this.pos,!0,23,4),this.pos+=4},writeDouble:function(_){this.realloc(8),_0.write(this.buf,_,this.pos,!0,52,8),this.pos+=8},writeBytes:function(_){var D=_.length;this.writeVarint(D),this.realloc(D);for(var W=0;W<D;W++)this.buf[this.pos++]=_[W]},writeRawMessage:function(_,D){this.pos++;var W=this.pos;_(D,this);var ae=this.pos-W;ae>=128&&ib(W,ae,this),this.pos=W-1,this.writeVarint(ae),this.pos+=ae},writeMessage:function(_,D,W){this.writeTag(_,oo.Bytes),this.writeRawMessage(D,W)},writePackedVarint:function(_,D){D.length&&this.writeMessage(_,dS,D)},writePackedSVarint:function(_,D){D.length&&this.writeMessage(_,pS,D)},writePackedBoolean:function(_,D){D.length&&this.writeMessage(_,mS,D)},writePackedFloat:function(_,D){D.length&&this.writeMessage(_,gS,D)},writePackedDouble:function(_,D){D.length&&this.writeMessage(_,yS,D)},writePackedFixed32:function(_,D){D.length&&this.writeMessage(_,xS,D)},writePackedSFixed32:function(_,D){D.length&&this.writeMessage(_,bS,D)},writePackedFixed64:function(_,D){D.length&&this.writeMessage(_,wS,D)},writePackedSFixed64:function(_,D){D.length&&this.writeMessage(_,TS,D)},writeBytesField:function(_,D){this.writeTag(_,oo.Bytes),this.writeBytes(D)},writeFixed32Field:function(_,D){this.writeTag(_,oo.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(_,D){this.writeTag(_,oo.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(_,D){this.writeTag(_,oo.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(_,D){this.writeTag(_,oo.Fixed64),this.writeSFixed64(D)},writeVarintField:function(_,D){this.writeTag(_,oo.Varint),this.writeVarint(D)},writeSVarintField:function(_,D){this.writeTag(_,oo.Varint),this.writeSVarint(D)},writeStringField:function(_,D){this.writeTag(_,oo.Bytes),this.writeString(D)},writeFloatField:function(_,D){this.writeTag(_,oo.Fixed32),this.writeFloat(D)},writeDoubleField:function(_,D){this.writeTag(_,oo.Fixed64),this.writeDouble(D)},writeBooleanField:function(_,D){this.writeVarintField(_,!!D)}};function fS(_,D,W){var ae=W.buf,pe,Me;if(Me=ae[W.pos++],pe=(Me&112)>>4,Me<128||(Me=ae[W.pos++],pe|=(Me&127)<<3,Me<128)||(Me=ae[W.pos++],pe|=(Me&127)<<10,Me<128)||(Me=ae[W.pos++],pe|=(Me&127)<<17,Me<128)||(Me=ae[W.pos++],pe|=(Me&127)<<24,Me<128)||(Me=ae[W.pos++],pe|=(Me&1)<<31,Me<128))return Rv(_,pe,D);throw new Error("Expected varint not more than 10 bytes")}function Pc(_){return _.type===oo.Bytes?_.readVarint()+_.pos:_.pos+1}function Rv(_,D,W){return W?D*4294967296+(_>>>0):(D>>>0)*4294967296+(_>>>0)}function cS(_,D){var W,ae;if(_>=0?(W=_%4294967296|0,ae=_/4294967296|0):(W=~(-_%4294967296),ae=~(-_/4294967296),W^4294967295?W=W+1|0:(W=0,ae=ae+1|0)),_>=18446744073709552e3||_<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");D.realloc(10),hS(W,ae,D),vS(ae,D)}function hS(_,D,W){W.buf[W.pos++]=_&127|128,_>>>=7,W.buf[W.pos++]=_&127|128,_>>>=7,W.buf[W.pos++]=_&127|128,_>>>=7,W.buf[W.pos++]=_&127|128,_>>>=7,W.buf[W.pos]=_&127}function vS(_,D){var W=(_&7)<<4;D.buf[D.pos++]|=W|((_>>>=3)?128:0),_&&(D.buf[D.pos++]=_&127|((_>>>=7)?128:0),_&&(D.buf[D.pos++]=_&127|((_>>>=7)?128:0),_&&(D.buf[D.pos++]=_&127|((_>>>=7)?128:0),_&&(D.buf[D.pos++]=_&127|((_>>>=7)?128:0),_&&(D.buf[D.pos++]=_&127)))))}function ib(_,D,W){var ae=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(Math.LN2*7));W.realloc(ae);for(var pe=W.pos-1;pe>=_;pe--)W.buf[pe+ae]=W.buf[pe]}function dS(_,D){for(var W=0;W<_.length;W++)D.writeVarint(_[W])}function pS(_,D){for(var W=0;W<_.length;W++)D.writeSVarint(_[W])}function gS(_,D){for(var W=0;W<_.length;W++)D.writeFloat(_[W])}function yS(_,D){for(var W=0;W<_.length;W++)D.writeDouble(_[W])}function mS(_,D){for(var W=0;W<_.length;W++)D.writeBoolean(_[W])}function xS(_,D){for(var W=0;W<_.length;W++)D.writeFixed32(_[W])}function bS(_,D){for(var W=0;W<_.length;W++)D.writeSFixed32(_[W])}function wS(_,D){for(var W=0;W<_.length;W++)D.writeFixed64(_[W])}function TS(_,D){for(var W=0;W<_.length;W++)D.writeSFixed64(_[W])}function k0(_,D){return(_[D]|_[D+1]<<8|_[D+2]<<16)+_[D+3]*16777216}function _v(_,D,W){_[W]=D,_[W+1]=D>>>8,_[W+2]=D>>>16,_[W+3]=D>>>24}function ob(_,D){return(_[D]|_[D+1]<<8|_[D+2]<<16)+(_[D+3]<<24)}function AS(_,D,W){for(var ae="",pe=D;pe<W;){var Me=_[pe],_e=null,Qe=Me>239?4:Me>223?3:Me>191?2:1;if(pe+Qe>W)break;var dt,Mt,Lt;Qe===1?Me<128&&(_e=Me):Qe===2?(dt=_[pe+1],(dt&192)===128&&(_e=(Me&31)<<6|dt&63,_e<=127&&(_e=null))):Qe===3?(dt=_[pe+1],Mt=_[pe+2],(dt&192)===128&&(Mt&192)===128&&(_e=(Me&15)<<12|(dt&63)<<6|Mt&63,(_e<=2047||_e>=55296&&_e<=57343)&&(_e=null))):Qe===4&&(dt=_[pe+1],Mt=_[pe+2],Lt=_[pe+3],(dt&192)===128&&(Mt&192)===128&&(Lt&192)===128&&(_e=(Me&15)<<18|(dt&63)<<12|(Mt&63)<<6|Lt&63,(_e<=65535||_e>=1114112)&&(_e=null))),_e===null?(_e=65533,Qe=1):_e>65535&&(_e-=65536,ae+=String.fromCharCode(_e>>>10&1023|55296),_e=56320|_e&1023),ae+=String.fromCharCode(_e),pe+=Qe}return ae}function MS(_,D,W){return ab.decode(_.subarray(D,W))}function SS(_,D,W){for(var ae=0,pe,Me;ae<D.length;ae++){if(pe=D.charCodeAt(ae),pe>55295&&pe<57344)if(Me)if(pe<56320){_[W++]=239,_[W++]=191,_[W++]=189,Me=pe;continue}else pe=Me-55296<<10|pe-56320|65536,Me=null;else{pe>56319||ae+1===D.length?(_[W++]=239,_[W++]=191,_[W++]=189):Me=pe;continue}else Me&&(_[W++]=239,_[W++]=191,_[W++]=189,Me=null);pe<128?_[W++]=pe:(pe<2048?_[W++]=pe>>6|192:(pe<65536?_[W++]=pe>>12|224:(_[W++]=pe>>18|240,_[W++]=pe>>12&63|128),_[W++]=pe>>6&63|128),_[W++]=pe&63|128)}return W}var lm=3;function ES(_,D,W){_===1&&W.readMessage(CS,D)}function CS(_,D,W){if(_===3){var ae=W.readMessage(LS,{}),pe=ae.id,Me=ae.bitmap,_e=ae.width,Qe=ae.height,dt=ae.left,Mt=ae.top,Lt=ae.advance;D.push({id:pe,bitmap:new Jh({width:_e+2*lm,height:Qe+2*lm},Me),metrics:{width:_e,height:Qe,left:dt,top:Mt,advance:Lt}})}}function LS(_,D,W){_===1?D.id=W.readVarint():_===2?D.bitmap=W.readBytes():_===3?D.width=W.readVarint():_===4?D.height=W.readVarint():_===5?D.left=W.readSVarint():_===6?D.top=W.readSVarint():_===7&&(D.advance=W.readVarint())}function PS(_){return new D0(_).readFields(ES,[])}var sb=lm;function lb(_){for(var D=0,W=0,ae=0,pe=_;ae<pe.length;ae+=1){var Me=pe[ae];D+=Me.w*Me.h,W=Math.max(W,Me.w)}_.sort(function(cn,rn){return rn.h-cn.h});for(var _e=Math.max(Math.ceil(Math.sqrt(D/.95)),W),Qe=[{x:0,y:0,w:_e,h:1/0}],dt=0,Mt=0,Lt=0,Yt=_;Lt<Yt.length;Lt+=1)for(var fr=Yt[Lt],tr=Qe.length-1;tr>=0;tr--){var wr=Qe[tr];if(!(fr.w>wr.w||fr.h>wr.h)){if(fr.x=wr.x,fr.y=wr.y,Mt=Math.max(Mt,fr.y+fr.h),dt=Math.max(dt,fr.x+fr.w),fr.w===wr.w&&fr.h===wr.h){var Gr=Qe.pop();tr<Qe.length&&(Qe[tr]=Gr)}else fr.h===wr.h?(wr.x+=fr.w,wr.w-=fr.w):fr.w===wr.w?(wr.y+=fr.h,wr.h-=fr.h):(Qe.push({x:wr.x+fr.w,y:wr.y,w:wr.w-fr.w,h:fr.h}),wr.y+=fr.h,wr.h-=fr.h);break}}return{w:dt,h:Mt,fill:D/(dt*Mt)||0}}var Wl=1,I0=function(D,W){var ae=W.pixelRatio,pe=W.version,Me=W.stretchX,_e=W.stretchY,Qe=W.content;this.paddedRect=D,this.pixelRatio=ae,this.stretchX=Me,this.stretchY=_e,this.content=Qe,this.version=pe},qd={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};qd.tl.get=function(){return[this.paddedRect.x+Wl,this.paddedRect.y+Wl]},qd.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Wl,this.paddedRect.y+this.paddedRect.h-Wl]},qd.tlbr.get=function(){return this.tl.concat(this.br)},qd.displaySize.get=function(){return[(this.paddedRect.w-Wl*2)/this.pixelRatio,(this.paddedRect.h-Wl*2)/this.pixelRatio]},Object.defineProperties(I0.prototype,qd);var ep=function(D,W){var ae={},pe={};this.haveRenderCallbacks=[];var Me=[];this.addImages(D,ae,Me),this.addImages(W,pe,Me);var _e=lb(Me),Qe=_e.w,dt=_e.h,Mt=new Ll({width:Qe||1,height:dt||1});for(var Lt in D){var Yt=D[Lt],fr=ae[Lt].paddedRect;Ll.copy(Yt.data,Mt,{x:0,y:0},{x:fr.x+Wl,y:fr.y+Wl},Yt.data)}for(var tr in W){var wr=W[tr],Gr=pe[tr].paddedRect,cn=Gr.x+Wl,rn=Gr.y+Wl,_n=wr.data.width,En=wr.data.height;Ll.copy(wr.data,Mt,{x:0,y:0},{x:cn,y:rn},wr.data),Ll.copy(wr.data,Mt,{x:0,y:En-1},{x:cn,y:rn-1},{width:_n,height:1}),Ll.copy(wr.data,Mt,{x:0,y:0},{x:cn,y:rn+En},{width:_n,height:1}),Ll.copy(wr.data,Mt,{x:_n-1,y:0},{x:cn-1,y:rn},{width:1,height:En}),Ll.copy(wr.data,Mt,{x:0,y:0},{x:cn+_n,y:rn},{width:1,height:En})}this.image=Mt,this.iconPositions=ae,this.patternPositions=pe};ep.prototype.addImages=function(D,W,ae){for(var pe in D){var Me=D[pe],_e={x:0,y:0,w:Me.data.width+2*Wl,h:Me.data.height+2*Wl};ae.push(_e),W[pe]=new I0(_e,Me),Me.hasRenderCallback&&this.haveRenderCallbacks.push(pe)}},ep.prototype.patchUpdatedImages=function(D,W){D.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ae in D.updatedImages)this.patchUpdatedImage(this.iconPositions[ae],D.getImage(ae),W),this.patchUpdatedImage(this.patternPositions[ae],D.getImage(ae),W)},ep.prototype.patchUpdatedImage=function(D,W,ae){if(!(!D||!W)&&D.version!==W.version){D.version=W.version;var pe=D.tl,Me=pe[0],_e=pe[1];ae.update(W.data,void 0,{x:Me,y:_e})}},ue("ImagePosition",I0),ue("ImageAtlas",ep);var lu={horizontal:1,vertical:2,horizontalOnly:3},tp=-17;function RS(_){for(var D=0,W=_;D<W.length;D+=1){var ae=W[D];if(ae.positionedGlyphs.length!==0)return!1}return!0}var ub=57344,fb=63743,Dv=function(){this.scale=1,this.fontStack="",this.imageName=null};Dv.forText=function(D,W){var ae=new Dv;return ae.scale=D||1,ae.fontStack=W,ae},Dv.forImage=function(D){var W=new Dv;return W.imageName=D,W};var Xs=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Xs.fromFeature=function(D,W){for(var ae=new Xs,pe=0;pe<D.sections.length;pe++){var Me=D.sections[pe];Me.image?ae.addImageSection(Me):ae.addTextSection(Me,W)}return ae},Xs.prototype.length=function(){return this.text.length},Xs.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},Xs.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},Xs.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},Xs.prototype.verticalizePunctuation=function(){this.text=oS(this.text)},Xs.prototype.trim=function(){for(var D=0,W=0;W<this.text.length&&ac[this.text.charCodeAt(W)];W++)D++;for(var ae=this.text.length,pe=this.text.length-1;pe>=0&&pe>=D&&ac[this.text.charCodeAt(pe)];pe--)ae--;this.text=this.text.substring(D,ae),this.sectionIndex=this.sectionIndex.slice(D,ae)},Xs.prototype.substring=function(D,W){var ae=new Xs;return ae.text=this.text.substring(D,W),ae.sectionIndex=this.sectionIndex.slice(D,W),ae.sections=this.sections,ae},Xs.prototype.toString=function(){return this.text},Xs.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(W,ae){return Math.max(W,D.sections[ae].scale)},0)},Xs.prototype.addTextSection=function(D,W){this.text+=D.text,this.sections.push(Dv.forText(D.scale,D.fontStack||W));for(var ae=this.sections.length-1,pe=0;pe<D.text.length;++pe)this.sectionIndex.push(ae)},Xs.prototype.addImageSection=function(D){var W=D.image?D.image.name:"";if(W.length===0){U("Can't add FormattedSection with an empty image.");return}var ae=this.getNextImageSectionCharCode();if(!ae){U("Reached maximum number of images "+(fb-ub+2));return}this.text+=String.fromCharCode(ae),this.sections.push(Dv.forImage(W)),this.sectionIndex.push(this.sections.length-1)},Xs.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=fb?null:++this.imageSectionID:(this.imageSectionID=ub,this.imageSectionID)};function _S(_,D){for(var W=[],ae=_.text,pe=0,Me=0,_e=D;Me<_e.length;Me+=1){var Qe=_e[Me];W.push(_.substring(pe,Qe)),pe=Qe}return pe<ae.length&&W.push(_.substring(pe,ae.length)),W}function F0(_,D,W,ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr,tr,wr,Gr){var cn=Xs.fromFeature(_,pe);Yt===lu.vertical&&cn.verticalizePunctuation();var rn,_n=Ci.processBidirectionalText,En=Ci.processStyledBidirectionalText;if(_n&&cn.sections.length===1){rn=[];for(var Rn=_n(cn.toString(),um(cn,Mt,Me,D,ae,tr,wr)),Un=0,Kn=Rn;Un<Kn.length;Un+=1){var fa=Kn[Un],sa=new Xs;sa.text=fa,sa.sections=cn.sections;for(var Oa=0;Oa<fa.length;Oa++)sa.sectionIndex.push(0);rn.push(sa)}}else if(En){rn=[];for(var Ta=En(cn.text,cn.sectionIndex,um(cn,Mt,Me,D,ae,tr,wr)),La=0,qa=Ta;La<qa.length;La+=1){var Da=qa[La],Fa=new Xs;Fa.text=Da[0],Fa.sectionIndex=Da[1],Fa.sections=cn.sections,rn.push(Fa)}}else rn=_S(cn,um(cn,Mt,Me,D,ae,tr,wr));var fi=[],Ka={positionedLines:fi,text:cn.toString(),top:Lt[1],bottom:Lt[1],left:Lt[0],right:Lt[0],writingMode:Yt,iconsInText:!1,verticalizable:!1};return IS(Ka,D,W,ae,rn,_e,Qe,dt,Yt,Mt,fr,Gr),RS(fi)?!1:Ka}var ac={};ac[9]=!0,ac[10]=!0,ac[11]=!0,ac[12]=!0,ac[13]=!0,ac[32]=!0;var jl={};jl[10]=!0,jl[32]=!0,jl[38]=!0,jl[40]=!0,jl[41]=!0,jl[43]=!0,jl[45]=!0,jl[47]=!0,jl[173]=!0,jl[183]=!0,jl[8203]=!0,jl[8208]=!0,jl[8211]=!0,jl[8231]=!0;function cb(_,D,W,ae,pe,Me){if(D.imageName){var dt=ae[D.imageName];return dt?dt.displaySize[0]*D.scale*Cs/Me+pe:0}else{var _e=W[D.fontStack],Qe=_e&&_e[_];return Qe?Qe.metrics.advance*D.scale+pe:0}}function DS(_,D,W,ae,pe,Me){for(var _e=0,Qe=0;Qe<_.length();Qe++){var dt=_.getSection(Qe);_e+=cb(_.getCharCode(Qe),dt,ae,pe,D,Me)}var Mt=Math.max(1,Math.ceil(_e/W));return _e/Mt}function hb(_,D,W,ae){var pe=Math.pow(_-D,2);return ae?_<D?pe/2:pe*2:pe+Math.abs(W)*W}function kS(_,D,W){var ae=0;return _===10&&(ae-=1e4),W&&(ae+=150),(_===40||_===65288)&&(ae+=50),(D===41||D===65289)&&(ae+=50),ae}function vb(_,D,W,ae,pe,Me){for(var _e=null,Qe=hb(D,W,pe,Me),dt=0,Mt=ae;dt<Mt.length;dt+=1){var Lt=Mt[dt],Yt=D-Lt.x,fr=hb(Yt,W,pe,Me)+Lt.badness;fr<=Qe&&(_e=Lt,Qe=fr)}return{index:_,x:D,priorBreak:_e,badness:Qe}}function db(_){return _?db(_.priorBreak).concat(_.index):[]}function um(_,D,W,ae,pe,Me,_e){if(Me!=="point")return[];if(!_)return[];for(var Qe=[],dt=DS(_,D,W,ae,pe,_e),Mt=_.text.indexOf("")>=0,Lt=0,Yt=0;Yt<_.length();Yt++){var fr=_.getSection(Yt),tr=_.getCharCode(Yt);if(ac[tr]||(Lt+=cb(tr,fr,ae,pe,D,_e)),Yt<_.length()-1){var wr=Dr(tr);(jl[tr]||wr||fr.imageName)&&Qe.push(vb(Yt+1,Lt,dt,Qe,kS(tr,_.getCharCode(Yt+1),wr&&Mt),!1))}}return db(vb(_.length(),Lt,dt,Qe,0,!0))}function fm(_){var D=.5,W=.5;switch(_){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0;break}switch(_){case"bottom":case"bottom-right":case"bottom-left":W=1;break;case"top":case"top-right":case"top-left":W=0;break}return{horizontalAlign:D,verticalAlign:W}}function IS(_,D,W,ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt){for(var fr=0,tr=tp,wr=0,Gr=0,cn=Qe==="right"?1:Qe==="left"?0:.5,rn=0,_n=0,En=pe;_n<En.length;_n+=1){var Rn=En[_n];Rn.trim();var Un=Rn.getMaxScale(),Kn=(Un-1)*Cs,fa={positionedGlyphs:[],lineOffset:0};_.positionedLines[rn]=fa;var sa=fa.positionedGlyphs,Oa=0;if(!Rn.length()){tr+=Me,++rn;continue}for(var Ta=0;Ta<Rn.length();Ta++){var La=Rn.getSection(Ta),qa=Rn.getSectionIndex(Ta),Da=Rn.getCharCode(Ta),Fa=0,fi=null,Ka=null,Li=null,Zi=Cs,Pi=!(dt===lu.horizontal||!Lt&&!_r(Da)||Lt&&(ac[Da]||Fr(Da)));if(La.imageName){var Fo=ae[La.imageName];if(!Fo)continue;Li=La.imageName,_.iconsInText=_.iconsInText||!0,Ka=Fo.paddedRect;var Uo=Fo.displaySize;La.scale=La.scale*Cs/Yt,fi={width:Uo[0],height:Uo[1],left:Wl,top:-sb,advance:Pi?Uo[1]:Uo[0]};var xs=Cs-Uo[1]*La.scale;Fa=Kn+xs,Zi=fi.advance;var ns=Pi?Uo[0]*La.scale-Cs*Un:Uo[1]*La.scale-Cs*Un;ns>0&&ns>Oa&&(Oa=ns)}else{var Ri=W[La.fontStack],Mi=Ri&&Ri[Da];if(Mi&&Mi.rect)Ka=Mi.rect,fi=Mi.metrics;else{var no=D[La.fontStack],so=no&&no[Da];if(!so)continue;fi=so.metrics}Fa=(Un-La.scale)*Cs}Pi?(_.verticalizable=!0,sa.push({glyph:Da,imageName:Li,x:fr,y:tr+Fa,vertical:Pi,scale:La.scale,fontStack:La.fontStack,sectionIndex:qa,metrics:fi,rect:Ka}),fr+=Zi*La.scale+Mt):(sa.push({glyph:Da,imageName:Li,x:fr,y:tr+Fa,vertical:Pi,scale:La.scale,fontStack:La.fontStack,sectionIndex:qa,metrics:fi,rect:Ka}),fr+=fi.advance*La.scale+Mt)}if(sa.length!==0){var Ks=fr-Mt;wr=Math.max(Ks,wr),FS(sa,0,sa.length-1,cn,Oa)}fr=0;var Js=Me*Un+Oa;fa.lineOffset=Math.max(Oa,Kn),tr+=Js,Gr=Math.max(Js,Gr),++rn}var bs=tr-tp,ul=fm(_e),fl=ul.horizontalAlign,cs=ul.verticalAlign;zS(_.positionedLines,cn,fl,cs,wr,Gr,Me,bs,pe.length),_.top+=-cs*bs,_.bottom=_.top+bs,_.left+=-fl*wr,_.right=_.left+wr}function FS(_,D,W,ae,pe){if(!(!ae&&!pe))for(var Me=_[W],_e=Me.metrics.advance*Me.scale,Qe=(_[W].x+_e)*ae,dt=D;dt<=W;dt++)_[dt].x-=Qe,_[dt].y+=pe}function zS(_,D,W,ae,pe,Me,_e,Qe,dt){var Mt=(D-W)*pe,Lt=0;Me!==_e?Lt=-Qe*ae-tp:Lt=(-ae*dt+.5)*_e;for(var Yt=0,fr=_;Yt<fr.length;Yt+=1)for(var tr=fr[Yt],wr=0,Gr=tr.positionedGlyphs;wr<Gr.length;wr+=1){var cn=Gr[wr];cn.x+=Mt,cn.y+=Lt}}function OS(_,D,W){var ae=fm(W),pe=ae.horizontalAlign,Me=ae.verticalAlign,_e=D[0],Qe=D[1],dt=_e-_.displaySize[0]*pe,Mt=dt+_.displaySize[0],Lt=Qe-_.displaySize[1]*Me,Yt=Lt+_.displaySize[1];return{image:_,top:Lt,bottom:Yt,left:dt,right:Mt}}function pb(_,D,W,ae,pe,Me){var _e=_.image,Qe;if(_e.content){var dt=_e.content,Mt=_e.pixelRatio||1;Qe=[dt[0]/Mt,dt[1]/Mt,_e.displaySize[0]-dt[2]/Mt,_e.displaySize[1]-dt[3]/Mt]}var Lt=D.left*Me,Yt=D.right*Me,fr,tr,wr,Gr;W==="width"||W==="both"?(Gr=pe[0]+Lt-ae[3],tr=pe[0]+Yt+ae[1]):(Gr=pe[0]+(Lt+Yt-_e.displaySize[0])/2,tr=Gr+_e.displaySize[0]);var cn=D.top*Me,rn=D.bottom*Me;return W==="height"||W==="both"?(fr=pe[1]+cn-ae[0],wr=pe[1]+rn+ae[2]):(fr=pe[1]+(cn+rn-_e.displaySize[1])/2,wr=fr+_e.displaySize[1]),{image:_e,top:fr,right:tr,bottom:wr,left:Gr,collisionPadding:Qe}}var kv=function(_){function D(W,ae,pe,Me){_.call(this,W,ae),this.angle=pe,Me!==void 0&&(this.segment=Me)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(t);ue("Anchor",kv);var _f=128;function cm(_,D){var W=D.expression;if(W.kind==="constant"){var ae=W.evaluate(new Xn(_+1));return{kind:"constant",layoutSize:ae}}else{if(W.kind==="source")return{kind:"source"};for(var pe=W.zoomStops,Me=W.interpolationType,_e=0;_e<pe.length&&pe[_e]<=_;)_e++;_e=Math.max(0,_e-1);for(var Qe=_e;Qe<pe.length&&pe[Qe]<_+1;)Qe++;Qe=Math.min(pe.length-1,Qe);var dt=pe[_e],Mt=pe[Qe];if(W.kind==="composite")return{kind:"composite",minZoom:dt,maxZoom:Mt,interpolationType:Me};var Lt=W.evaluate(new Xn(dt)),Yt=W.evaluate(new Xn(Mt));return{kind:"camera",minZoom:dt,maxZoom:Mt,minSize:Lt,maxSize:Yt,interpolationType:Me}}}function gb(_,D,W){var ae=D.uSize,pe=D.uSizeT,Me=W.lowerSize,_e=W.upperSize;return _.kind==="source"?Me/_f:_.kind==="composite"?co(Me/_f,_e/_f,pe):ae}function yb(_,D){var W=0,ae=0;if(_.kind==="constant")ae=_.layoutSize;else if(_.kind!=="source"){var pe=_.interpolationType,Me=_.minZoom,_e=_.maxZoom,Qe=pe?u(oi.interpolationFactor(pe,D,Me,_e),0,1):0;_.kind==="camera"?ae=co(_.minSize,_.maxSize,Qe):W=Qe}return{uSizeT:W,uSize:ae}}var NS=Object.freeze({__proto__:null,getSizeData:cm,evaluateSizeForFeature:gb,evaluateSizeForZoom:yb,SIZE_PACK_FACTOR:_f});function mb(_,D,W,ae,pe){if(D.segment===void 0)return!0;for(var Me=D,_e=D.segment+1,Qe=0;Qe>-W/2;){if(_e--,_e<0)return!1;Qe-=_[_e].dist(Me),Me=_[_e]}Qe+=_[_e].dist(_[_e+1]),_e++;for(var dt=[],Mt=0;Qe<W/2;){var Lt=_[_e-1],Yt=_[_e],fr=_[_e+1];if(!fr)return!1;var tr=Lt.angleTo(Yt)-Yt.angleTo(fr);for(tr=Math.abs((tr+3*Math.PI)%(Math.PI*2)-Math.PI),dt.push({distance:Qe,angleDelta:tr}),Mt+=tr;Qe-dt[0].distance>ae;)Mt-=dt.shift().angleDelta;if(Mt>pe)return!1;_e++,Qe+=Yt.dist(fr)}return!0}function xb(_){for(var D=0,W=0;W<_.length-1;W++)D+=_[W].dist(_[W+1]);return D}function bb(_,D,W){return _?.6*D*W:0}function wb(_,D){return Math.max(_?_.right-_.left:0,D?D.right-D.left:0)}function BS(_,D,W,ae,pe,Me){for(var _e=bb(W,pe,Me),Qe=wb(W,ae)*Me,dt=0,Mt=xb(_)/2,Lt=0;Lt<_.length-1;Lt++){var Yt=_[Lt],fr=_[Lt+1],tr=Yt.dist(fr);if(dt+tr>Mt){var wr=(Mt-dt)/tr,Gr=co(Yt.x,fr.x,wr),cn=co(Yt.y,fr.y,wr),rn=new kv(Gr,cn,fr.angleTo(Yt),Lt);return rn._round(),!_e||mb(_,rn,Qe,_e,D)?rn:void 0}dt+=tr}}function US(_,D,W,ae,pe,Me,_e,Qe,dt){var Mt=bb(ae,Me,_e),Lt=wb(ae,pe),Yt=Lt*_e,fr=_[0].x===0||_[0].x===dt||_[0].y===0||_[0].y===dt;D-Yt<D/4&&(D=Yt+D/4);var tr=Me*2,wr=fr?D/2*Qe%D:(Lt/2+tr)*_e*Qe%D;return Tb(_,wr,D,Mt,W,Yt,fr,!1,dt)}function Tb(_,D,W,ae,pe,Me,_e,Qe,dt){for(var Mt=Me/2,Lt=xb(_),Yt=0,fr=D-W,tr=[],wr=0;wr<_.length-1;wr++){for(var Gr=_[wr],cn=_[wr+1],rn=Gr.dist(cn),_n=cn.angleTo(Gr);fr+W<Yt+rn;){fr+=W;var En=(fr-Yt)/rn,Rn=co(Gr.x,cn.x,En),Un=co(Gr.y,cn.y,En);if(Rn>=0&&Rn<dt&&Un>=0&&Un<dt&&fr-Mt>=0&&fr+Mt<=Lt){var Kn=new kv(Rn,Un,_n,wr);Kn._round(),(!ae||mb(_,Kn,Me,ae,pe))&&tr.push(Kn)}}Yt+=rn}return!Qe&&!tr.length&&!_e&&(tr=Tb(_,Yt/2,W,ae,pe,Me,_e,!0,dt)),tr}function Ab(_,D,W,ae,pe){for(var Me=[],_e=0;_e<_.length;_e++)for(var Qe=_[_e],dt=void 0,Mt=0;Mt<Qe.length-1;Mt++){var Lt=Qe[Mt],Yt=Qe[Mt+1];Lt.x<D&&Yt.x<D||(Lt.x<D?Lt=new t(D,Lt.y+(Yt.y-Lt.y)*((D-Lt.x)/(Yt.x-Lt.x)))._round():Yt.x<D&&(Yt=new t(D,Lt.y+(Yt.y-Lt.y)*((D-Lt.x)/(Yt.x-Lt.x)))._round()),!(Lt.y<W&&Yt.y<W)&&(Lt.y<W?Lt=new t(Lt.x+(Yt.x-Lt.x)*((W-Lt.y)/(Yt.y-Lt.y)),W)._round():Yt.y<W&&(Yt=new t(Lt.x+(Yt.x-Lt.x)*((W-Lt.y)/(Yt.y-Lt.y)),W)._round()),!(Lt.x>=ae&&Yt.x>=ae)&&(Lt.x>=ae?Lt=new t(ae,Lt.y+(Yt.y-Lt.y)*((ae-Lt.x)/(Yt.x-Lt.x)))._round():Yt.x>=ae&&(Yt=new t(ae,Lt.y+(Yt.y-Lt.y)*((ae-Lt.x)/(Yt.x-Lt.x)))._round()),!(Lt.y>=pe&&Yt.y>=pe)&&(Lt.y>=pe?Lt=new t(Lt.x+(Yt.x-Lt.x)*((pe-Lt.y)/(Yt.y-Lt.y)),pe)._round():Yt.y>=pe&&(Yt=new t(Lt.x+(Yt.x-Lt.x)*((pe-Lt.y)/(Yt.y-Lt.y)),pe)._round()),(!dt||!Lt.equals(dt[dt.length-1]))&&(dt=[Lt],Me.push(dt)),dt.push(Yt)))))}return Me}var Iv=Wl;function Mb(_,D,W,ae){var pe=[],Me=_.image,_e=Me.pixelRatio,Qe=Me.paddedRect.w-2*Iv,dt=Me.paddedRect.h-2*Iv,Mt=_.right-_.left,Lt=_.bottom-_.top,Yt=Me.stretchX||[[0,Qe]],fr=Me.stretchY||[[0,dt]],tr=function(Ri,Mi){return Ri+Mi[1]-Mi[0]},wr=Yt.reduce(tr,0),Gr=fr.reduce(tr,0),cn=Qe-wr,rn=dt-Gr,_n=0,En=wr,Rn=0,Un=Gr,Kn=0,fa=cn,sa=0,Oa=rn;if(Me.content&&ae){var Ta=Me.content;_n=z0(Yt,0,Ta[0]),Rn=z0(fr,0,Ta[1]),En=z0(Yt,Ta[0],Ta[2]),Un=z0(fr,Ta[1],Ta[3]),Kn=Ta[0]-_n,sa=Ta[1]-Rn,fa=Ta[2]-Ta[0]-En,Oa=Ta[3]-Ta[1]-Un}var La=function(Ri,Mi,no,so){var Fo=O0(Ri.stretch-_n,En,Mt,_.left),Uo=N0(Ri.fixed-Kn,fa,Ri.stretch,wr),xs=O0(Mi.stretch-Rn,Un,Lt,_.top),ns=N0(Mi.fixed-sa,Oa,Mi.stretch,Gr),Ks=O0(no.stretch-_n,En,Mt,_.left),Js=N0(no.fixed-Kn,fa,no.stretch,wr),bs=O0(so.stretch-Rn,Un,Lt,_.top),ul=N0(so.fixed-sa,Oa,so.stretch,Gr),fl=new t(Fo,xs),cs=new t(Ks,xs),cl=new t(Ks,bs),uu=new t(Fo,bs),Dc=new t(Uo/_e,ns/_e),ph=new t(Js/_e,ul/_e),gh=D*Math.PI/180;if(gh){var yh=Math.sin(gh),Vv=Math.cos(gh),ef=[Vv,-yh,yh,Vv];fl._matMult(ef),cs._matMult(ef),uu._matMult(ef),cl._matMult(ef)}var W0=Ri.stretch+Ri.fixed,xm=no.stretch+no.fixed,j0=Mi.stretch+Mi.fixed,bm=so.stretch+so.fixed,Ru={x:Me.paddedRect.x+Iv+W0,y:Me.paddedRect.y+Iv+j0,w:xm-W0,h:bm-j0},Gv=fa/_e/Mt,Y0=Oa/_e/Lt;return{tl:fl,tr:cs,bl:uu,br:cl,tex:Ru,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Dc,pixelOffsetBR:ph,minFontScaleX:Gv,minFontScaleY:Y0,isSDF:W}};if(!ae||!Me.stretchX&&!Me.stretchY)pe.push(La({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Qe+1},{fixed:0,stretch:dt+1}));else for(var qa=Sb(Yt,cn,wr),Da=Sb(fr,rn,Gr),Fa=0;Fa<qa.length-1;Fa++)for(var fi=qa[Fa],Ka=qa[Fa+1],Li=0;Li<Da.length-1;Li++){var Zi=Da[Li],Pi=Da[Li+1];pe.push(La(fi,Zi,Ka,Pi))}return pe}function z0(_,D,W){for(var ae=0,pe=0,Me=_;pe<Me.length;pe+=1){var _e=Me[pe];ae+=Math.max(D,Math.min(W,_e[1]))-Math.max(D,Math.min(W,_e[0]))}return ae}function Sb(_,D,W){for(var ae=[{fixed:-Iv,stretch:0}],pe=0,Me=_;pe<Me.length;pe+=1){var _e=Me[pe],Qe=_e[0],dt=_e[1],Mt=ae[ae.length-1];ae.push({fixed:Qe-Mt.stretch,stretch:Mt.stretch}),ae.push({fixed:Qe-Mt.stretch,stretch:Mt.stretch+(dt-Qe)})}return ae.push({fixed:D+Iv,stretch:W}),ae}function O0(_,D,W,ae){return _/D*W+ae}function N0(_,D,W,ae){return _-D*W/ae}function HS(_,D,W,ae,pe,Me,_e,Qe){for(var dt=ae.layout.get("text-rotate").evaluate(Me,{})*Math.PI/180,Mt=[],Lt=0,Yt=D.positionedLines;Lt<Yt.length;Lt+=1)for(var fr=Yt[Lt],tr=0,wr=fr.positionedGlyphs;tr<wr.length;tr+=1){var Gr=wr[tr];if(Gr.rect){var cn=Gr.rect||{},rn=1,_n=sb+rn,En=!0,Rn=1,Un=0,Kn=(pe||Qe)&&Gr.vertical,fa=Gr.metrics.advance*Gr.scale/2;if(Qe&&D.verticalizable){var sa=(Gr.scale-1)*Cs,Oa=(Cs-Gr.metrics.width*Gr.scale)/2;Un=fr.lineOffset/2-(Gr.imageName?-Oa:sa)}if(Gr.imageName){var Ta=_e[Gr.imageName];En=Ta.sdf,Rn=Ta.pixelRatio,_n=Wl/Rn}var La=pe?[Gr.x+fa,Gr.y]:[0,0],qa=pe?[0,0]:[Gr.x+fa+W[0],Gr.y+W[1]-Un],Da=[0,0];Kn&&(Da=qa,qa=[0,0]);var Fa=(Gr.metrics.left-_n)*Gr.scale-fa+qa[0],fi=(-Gr.metrics.top-_n)*Gr.scale+qa[1],Ka=Fa+cn.w*Gr.scale/Rn,Li=fi+cn.h*Gr.scale/Rn,Zi=new t(Fa,fi),Pi=new t(Ka,fi),Ri=new t(Fa,Li),Mi=new t(Ka,Li);if(Kn){var no=new t(-fa,fa-tp),so=-Math.PI/2,Fo=Cs/2-fa,Uo=Gr.imageName?Fo:0,xs=new t(5-tp-Fo,-Uo),ns=new(Function.prototype.bind.apply(t,[null].concat(Da)));Zi._rotateAround(so,no)._add(xs)._add(ns),Pi._rotateAround(so,no)._add(xs)._add(ns),Ri._rotateAround(so,no)._add(xs)._add(ns),Mi._rotateAround(so,no)._add(xs)._add(ns)}if(dt){var Ks=Math.sin(dt),Js=Math.cos(dt),bs=[Js,-Ks,Ks,Js];Zi._matMult(bs),Pi._matMult(bs),Ri._matMult(bs),Mi._matMult(bs)}var ul=new t(0,0),fl=new t(0,0),cs=0,cl=0;Mt.push({tl:Zi,tr:Pi,bl:Ri,br:Mi,tex:cn,writingMode:D.writingMode,glyphOffset:La,sectionIndex:Gr.sectionIndex,isSDF:En,pixelOffsetTL:ul,pixelOffsetBR:fl,minFontScaleX:cs,minFontScaleY:cl})}}return Mt}var B0=function(D,W,ae,pe,Me,_e,Qe,dt,Mt,Lt){if(this.boxStartIndex=D.length,Mt){var Yt=_e.top,fr=_e.bottom,tr=_e.collisionPadding;tr&&(Yt-=tr[1],fr+=tr[3]);var wr=fr-Yt;wr>0&&(wr=Math.max(10,wr),this.circleDiameter=wr)}else{var Gr=_e.top*Qe-dt,cn=_e.bottom*Qe+dt,rn=_e.left*Qe-dt,_n=_e.right*Qe+dt,En=_e.collisionPadding;if(En&&(rn-=En[0]*Qe,Gr-=En[1]*Qe,_n+=En[2]*Qe,cn+=En[3]*Qe),Lt){var Rn=new t(rn,Gr),Un=new t(_n,Gr),Kn=new t(rn,cn),fa=new t(_n,cn),sa=Lt*Math.PI/180;Rn._rotate(sa),Un._rotate(sa),Kn._rotate(sa),fa._rotate(sa),rn=Math.min(Rn.x,Un.x,Kn.x,fa.x),_n=Math.max(Rn.x,Un.x,Kn.x,fa.x),Gr=Math.min(Rn.y,Un.y,Kn.y,fa.y),cn=Math.max(Rn.y,Un.y,Kn.y,fa.y)}D.emplaceBack(W.x,W.y,rn,Gr,_n,cn,ae,pe,Me)}this.boxEndIndex=D.length},Fv=function(D,W){if(D===void 0&&(D=[]),W===void 0&&(W=VS),this.data=D,this.length=this.data.length,this.compare=W,this.length>0)for(var ae=(this.length>>1)-1;ae>=0;ae--)this._down(ae)};Fv.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},Fv.prototype.pop=function(){if(this.length!==0){var D=this.data[0],W=this.data.pop();return this.length--,this.length>0&&(this.data[0]=W,this._down(0)),D}},Fv.prototype.peek=function(){return this.data[0]},Fv.prototype._up=function(D){for(var W=this,ae=W.data,pe=W.compare,Me=ae[D];D>0;){var _e=D-1>>1,Qe=ae[_e];if(pe(Me,Qe)>=0)break;ae[D]=Qe,D=_e}ae[D]=Me},Fv.prototype._down=function(D){for(var W=this,ae=W.data,pe=W.compare,Me=this.length>>1,_e=ae[D];D<Me;){var Qe=(D<<1)+1,dt=ae[Qe],Mt=Qe+1;if(Mt<this.length&&pe(ae[Mt],dt)<0&&(Qe=Mt,dt=ae[Mt]),pe(dt,_e)>=0)break;ae[D]=dt,D=Qe}ae[D]=_e};function VS(_,D){return _<D?-1:_>D?1:0}function GS(_,D,W){D===void 0&&(D=1),W===void 0&&(W=!1);for(var ae=1/0,pe=1/0,Me=-1/0,_e=-1/0,Qe=_[0],dt=0;dt<Qe.length;dt++){var Mt=Qe[dt];(!dt||Mt.x<ae)&&(ae=Mt.x),(!dt||Mt.y<pe)&&(pe=Mt.y),(!dt||Mt.x>Me)&&(Me=Mt.x),(!dt||Mt.y>_e)&&(_e=Mt.y)}var Lt=Me-ae,Yt=_e-pe,fr=Math.min(Lt,Yt),tr=fr/2,wr=new Fv([],WS);if(fr===0)return new t(ae,pe);for(var Gr=ae;Gr<Me;Gr+=fr)for(var cn=pe;cn<_e;cn+=fr)wr.push(new zv(Gr+tr,cn+tr,tr,_));for(var rn=YS(_),_n=wr.length;wr.length;){var En=wr.pop();(En.d>rn.d||!rn.d)&&(rn=En,W&&console.log("found best %d after %d probes",Math.round(1e4*En.d)/1e4,_n)),!(En.max-rn.d<=D)&&(tr=En.h/2,wr.push(new zv(En.p.x-tr,En.p.y-tr,tr,_)),wr.push(new zv(En.p.x+tr,En.p.y-tr,tr,_)),wr.push(new zv(En.p.x-tr,En.p.y+tr,tr,_)),wr.push(new zv(En.p.x+tr,En.p.y+tr,tr,_)),_n+=4)}return W&&(console.log("num probes: "+_n),console.log("best distance: "+rn.d)),rn.p}function WS(_,D){return D.max-_.max}function zv(_,D,W,ae){this.p=new t(_,D),this.h=W,this.d=jS(this.p,ae),this.max=this.d+this.h*Math.SQRT2}function jS(_,D){for(var W=!1,ae=1/0,pe=0;pe<D.length;pe++)for(var Me=D[pe],_e=0,Qe=Me.length,dt=Qe-1;_e<Qe;dt=_e++){var Mt=Me[_e],Lt=Me[dt];Mt.y>_.y!=Lt.y>_.y&&_.x<(Lt.x-Mt.x)*(_.y-Mt.y)/(Lt.y-Mt.y)+Mt.x&&(W=!W),ae=Math.min(ae,Lf(_,Mt,Lt))}return(W?1:-1)*Math.sqrt(ae)}function YS(_){for(var D=0,W=0,ae=0,pe=_[0],Me=0,_e=pe.length,Qe=_e-1;Me<_e;Qe=Me++){var dt=pe[Me],Mt=pe[Qe],Lt=dt.x*Mt.y-Mt.x*dt.y;W+=(dt.x+Mt.x)*Lt,ae+=(dt.y+Mt.y)*Lt,D+=Lt*3}return new zv(W/D,ae/D,0,_)}var Ov=7,hm=Number.POSITIVE_INFINITY;function Eb(_,D){function W(pe,Me){var _e=0,Qe=0;Me<0&&(Me=0);var dt=Me/Math.sqrt(2);switch(pe){case"top-right":case"top-left":Qe=dt-Ov;break;case"bottom-right":case"bottom-left":Qe=-dt+Ov;break;case"bottom":Qe=-Me+Ov;break;case"top":Qe=Me-Ov;break}switch(pe){case"top-right":case"bottom-right":_e=-dt;break;case"top-left":case"bottom-left":_e=dt;break;case"left":_e=Me;break;case"right":_e=-Me;break}return[_e,Qe]}function ae(pe,Me,_e){var Qe=0,dt=0;switch(Me=Math.abs(Me),_e=Math.abs(_e),pe){case"top-right":case"top-left":case"top":dt=_e-Ov;break;case"bottom-right":case"bottom-left":case"bottom":dt=-_e+Ov;break}switch(pe){case"top-right":case"bottom-right":case"right":Qe=-Me;break;case"top-left":case"bottom-left":case"left":Qe=Me;break}return[Qe,dt]}return D[1]!==hm?ae(_,D[0],D[1]):W(_,D[0])}function ZS(_,D,W,ae,pe,Me,_e){_.createArrays();var Qe=512*_.overscaling;_.tilePixelRatio=Ua/Qe,_.compareText={},_.iconsNeedLinear=!1;var dt=_.layers[0].layout,Mt=_.layers[0]._unevaluatedLayout._values,Lt={};if(_.textSizeData.kind==="composite"){var Yt=_.textSizeData,fr=Yt.minZoom,tr=Yt.maxZoom;Lt.compositeTextSizes=[Mt["text-size"].possiblyEvaluate(new Xn(fr),_e),Mt["text-size"].possiblyEvaluate(new Xn(tr),_e)]}if(_.iconSizeData.kind==="composite"){var wr=_.iconSizeData,Gr=wr.minZoom,cn=wr.maxZoom;Lt.compositeIconSizes=[Mt["icon-size"].possiblyEvaluate(new Xn(Gr),_e),Mt["icon-size"].possiblyEvaluate(new Xn(cn),_e)]}Lt.layoutTextSize=Mt["text-size"].possiblyEvaluate(new Xn(_.zoom+1),_e),Lt.layoutIconSize=Mt["icon-size"].possiblyEvaluate(new Xn(_.zoom+1),_e),Lt.textMaxSize=Mt["text-size"].possiblyEvaluate(new Xn(18));for(var rn=dt.get("text-line-height")*Cs,_n=dt.get("text-rotation-alignment")==="map"&&dt.get("symbol-placement")!=="point",En=dt.get("text-keep-upright"),Rn=dt.get("text-size"),Un=function(){var sa=fa[Kn],Oa=dt.get("text-font").evaluate(sa,{},_e).join(","),Ta=Rn.evaluate(sa,{},_e),La=Lt.layoutTextSize.evaluate(sa,{},_e),qa=Lt.layoutIconSize.evaluate(sa,{},_e),Da={horizontal:{},vertical:void 0},Fa=sa.text,fi=[0,0];if(Fa){var Ka=Fa.toString(),Li=dt.get("text-letter-spacing").evaluate(sa,{},_e)*Cs,Zi=rr(Ka)?Li:0,Pi=dt.get("text-anchor").evaluate(sa,{},_e),Ri=dt.get("text-variable-anchor");if(!Ri){var Mi=dt.get("text-radial-offset").evaluate(sa,{},_e);Mi?fi=Eb(Pi,[Mi*Cs,hm]):fi=dt.get("text-offset").evaluate(sa,{},_e).map(function(Dc){return Dc*Cs})}var no=_n?"center":dt.get("text-justify").evaluate(sa,{},_e),so=dt.get("symbol-placement"),Fo=so==="point"?dt.get("text-max-width").evaluate(sa,{},_e)*Cs:0,Uo=function(){_.allowVerticalPlacement&&Vt(Ka)&&(Da.vertical=F0(Fa,D,W,pe,Oa,Fo,rn,Pi,"left",Zi,fi,lu.vertical,!0,so,La,Ta))};if(!_n&&Ri){for(var xs=no==="auto"?Ri.map(function(Dc){return vm(Dc)}):[no],ns=!1,Ks=0;Ks<xs.length;Ks++){var Js=xs[Ks];if(!Da.horizontal[Js])if(ns)Da.horizontal[Js]=Da.horizontal[0];else{var bs=F0(Fa,D,W,pe,Oa,Fo,rn,"center",Js,Zi,fi,lu.horizontal,!1,so,La,Ta);bs&&(Da.horizontal[Js]=bs,ns=bs.positionedLines.length===1)}}Uo()}else{no==="auto"&&(no=vm(Pi));var ul=F0(Fa,D,W,pe,Oa,Fo,rn,Pi,no,Zi,fi,lu.horizontal,!1,so,La,Ta);ul&&(Da.horizontal[no]=ul),Uo(),Vt(Ka)&&_n&&En&&(Da.vertical=F0(Fa,D,W,pe,Oa,Fo,rn,Pi,no,Zi,fi,lu.vertical,!1,so,La,Ta))}}var fl=void 0,cs=!1;if(sa.icon&&sa.icon.name){var cl=ae[sa.icon.name];cl&&(fl=OS(pe[sa.icon.name],dt.get("icon-offset").evaluate(sa,{},_e),dt.get("icon-anchor").evaluate(sa,{},_e)),cs=cl.sdf,_.sdfIcons===void 0?_.sdfIcons=cl.sdf:_.sdfIcons!==cl.sdf&&U("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(cl.pixelRatio!==_.pixelRatio||dt.get("icon-rotate").constantOr(1)!==0)&&(_.iconsNeedLinear=!0))}var uu=Lb(Da.horizontal)||Da.vertical;_.iconsInText=uu?uu.iconsInText:!1,(uu||fl)&&XS(_,sa,Da,fl,ae,Lt,La,qa,fi,cs,_e)},Kn=0,fa=_.features;Kn<fa.length;Kn+=1)Un();Me&&_.generateCollisionDebugBuffers()}function vm(_){switch(_){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function XS(_,D,W,ae,pe,Me,_e,Qe,dt,Mt,Lt){var Yt=Me.textMaxSize.evaluate(D,{});Yt===void 0&&(Yt=_e);var fr=_.layers[0].layout,tr=fr.get("icon-offset").evaluate(D,{},Lt),wr=Lb(W.horizontal),Gr=24,cn=_e/Gr,rn=_.tilePixelRatio*cn,_n=_.tilePixelRatio*Yt/Gr,En=_.tilePixelRatio*Qe,Rn=_.tilePixelRatio*fr.get("symbol-spacing"),Un=fr.get("text-padding")*_.tilePixelRatio,Kn=fr.get("icon-padding")*_.tilePixelRatio,fa=fr.get("text-max-angle")/180*Math.PI,sa=fr.get("text-rotation-alignment")==="map"&&fr.get("symbol-placement")!=="point",Oa=fr.get("icon-rotation-alignment")==="map"&&fr.get("symbol-placement")!=="point",Ta=fr.get("symbol-placement"),La=Rn/2,qa=fr.get("icon-text-fit"),Da;ae&&qa!=="none"&&(_.allowVerticalPlacement&&W.vertical&&(Da=pb(ae,W.vertical,qa,fr.get("icon-text-fit-padding"),tr,cn)),wr&&(ae=pb(ae,wr,qa,fr.get("icon-text-fit-padding"),tr,cn)));var Fa=function(Vv,ef){ef.x<0||ef.x>=Ua||ef.y<0||ef.y>=Ua||KS(_,ef,Vv,W,ae,pe,Da,_.layers[0],_.collisionBoxArray,D.index,D.sourceLayerIndex,_.index,rn,Un,sa,dt,En,Kn,Oa,tr,D,Me,Mt,Lt,_e)};if(Ta==="line")for(var fi=0,Ka=Ab(D.geometry,0,0,Ua,Ua);fi<Ka.length;fi+=1)for(var Li=Ka[fi],Zi=US(Li,Rn,fa,W.vertical||wr,ae,Gr,_n,_.overscaling,Ua),Pi=0,Ri=Zi;Pi<Ri.length;Pi+=1){var Mi=Ri[Pi],no=wr;(!no||!JS(_,no.text,La,Mi))&&Fa(Li,Mi)}else if(Ta==="line-center")for(var so=0,Fo=D.geometry;so<Fo.length;so+=1){var Uo=Fo[so];if(Uo.length>1){var xs=BS(Uo,fa,W.vertical||wr,ae,Gr,_n);xs&&Fa(Uo,xs)}}else if(D.type==="Polygon")for(var ns=0,Ks=rm(D.geometry,0);ns<Ks.length;ns+=1){var Js=Ks[ns],bs=GS(Js,16);Fa(Js[0],new kv(bs.x,bs.y,0))}else if(D.type==="LineString")for(var ul=0,fl=D.geometry;ul<fl.length;ul+=1){var cs=fl[ul];Fa(cs,new kv(cs[0].x,cs[0].y,0))}else if(D.type==="Point")for(var cl=0,uu=D.geometry;cl<uu.length;cl+=1)for(var Dc=uu[cl],ph=0,gh=Dc;ph<gh.length;ph+=1){var yh=gh[ph];Fa([yh],new kv(yh.x,yh.y,0))}}var rp=255,vh=rp*_f;function Cb(_,D,W,ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr,tr,wr){var Gr=HS(D,W,Qe,pe,Me,_e,ae,_.allowVerticalPlacement),cn=_.textSizeData,rn=null;cn.kind==="source"?(rn=[_f*pe.layout.get("text-size").evaluate(_e,{})],rn[0]>vh&&U(_.layerIds[0]+': Value for "text-size" is >= '+rp+'. Reduce your "text-size".')):cn.kind==="composite"&&(rn=[_f*tr.compositeTextSizes[0].evaluate(_e,{},wr),_f*tr.compositeTextSizes[1].evaluate(_e,{},wr)],(rn[0]>vh||rn[1]>vh)&&U(_.layerIds[0]+': Value for "text-size" is >= '+rp+'. Reduce your "text-size".')),_.addSymbols(_.text,Gr,rn,Qe,Me,_e,Mt,D,dt.lineStartIndex,dt.lineLength,fr,wr);for(var _n=0,En=Lt;_n<En.length;_n+=1){var Rn=En[_n];Yt[Rn]=_.text.placedSymbolArray.length-1}return Gr.length*4}function Lb(_){for(var D in _)return _[D];return null}function KS(_,D,W,ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr,tr,wr,Gr,cn,rn,_n,En,Rn,Un,Kn,fa,sa){var Oa,Ta=_.addToLineVertexArray(D,W),La,qa,Da,Fa,fi=0,Ka=0,Li=0,Zi=0,Pi=-1,Ri=-1,Mi={},no=Ze(""),so=0,Fo=0;if(Qe._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Oa=Qe.layout.get("text-offset").evaluate(Rn,{},fa).map(function(ip){return ip*Cs}),so=Oa[0],Fo=Oa[1]):(so=Qe.layout.get("text-radial-offset").evaluate(Rn,{},fa)*Cs,Fo=hm),_.allowVerticalPlacement&&ae.vertical){var Uo=Qe.layout.get("text-rotate").evaluate(Rn,{},fa),xs=Uo+90,ns=ae.vertical;Da=new B0(dt,D,Mt,Lt,Yt,ns,fr,tr,wr,xs),_e&&(Fa=new B0(dt,D,Mt,Lt,Yt,_e,cn,rn,wr,xs))}if(pe){var Ks=Qe.layout.get("icon-rotate").evaluate(Rn,{}),Js=Qe.layout.get("icon-text-fit")!=="none",bs=Mb(pe,Ks,Kn,Js),ul=_e?Mb(_e,Ks,Kn,Js):void 0;qa=new B0(dt,D,Mt,Lt,Yt,pe,cn,rn,!1,Ks),fi=bs.length*4;var fl=_.iconSizeData,cs=null;fl.kind==="source"?(cs=[_f*Qe.layout.get("icon-size").evaluate(Rn,{})],cs[0]>vh&&U(_.layerIds[0]+': Value for "icon-size" is >= '+rp+'. Reduce your "icon-size".')):fl.kind==="composite"&&(cs=[_f*Un.compositeIconSizes[0].evaluate(Rn,{},fa),_f*Un.compositeIconSizes[1].evaluate(Rn,{},fa)],(cs[0]>vh||cs[1]>vh)&&U(_.layerIds[0]+': Value for "icon-size" is >= '+rp+'. Reduce your "icon-size".')),_.addSymbols(_.icon,bs,cs,En,_n,Rn,!1,D,Ta.lineStartIndex,Ta.lineLength,-1,fa),Pi=_.icon.placedSymbolArray.length-1,ul&&(Ka=ul.length*4,_.addSymbols(_.icon,ul,cs,En,_n,Rn,lu.vertical,D,Ta.lineStartIndex,Ta.lineLength,-1,fa),Ri=_.icon.placedSymbolArray.length-1)}for(var cl in ae.horizontal){var uu=ae.horizontal[cl];if(!La){no=Ze(uu.text);var Dc=Qe.layout.get("text-rotate").evaluate(Rn,{},fa);La=new B0(dt,D,Mt,Lt,Yt,uu,fr,tr,wr,Dc)}var ph=uu.positionedLines.length===1;if(Li+=Cb(_,D,uu,Me,Qe,wr,Rn,Gr,Ta,ae.vertical?lu.horizontal:lu.horizontalOnly,ph?Object.keys(ae.horizontal):[cl],Mi,Pi,Un,fa),ph)break}ae.vertical&&(Zi+=Cb(_,D,ae.vertical,Me,Qe,wr,Rn,Gr,Ta,lu.vertical,["vertical"],Mi,Ri,Un,fa));var gh=La?La.boxStartIndex:_.collisionBoxArray.length,yh=La?La.boxEndIndex:_.collisionBoxArray.length,Vv=Da?Da.boxStartIndex:_.collisionBoxArray.length,ef=Da?Da.boxEndIndex:_.collisionBoxArray.length,W0=qa?qa.boxStartIndex:_.collisionBoxArray.length,xm=qa?qa.boxEndIndex:_.collisionBoxArray.length,j0=Fa?Fa.boxStartIndex:_.collisionBoxArray.length,bm=Fa?Fa.boxEndIndex:_.collisionBoxArray.length,Ru=-1,Gv=function(ip,Wb){return ip&&ip.circleDiameter?Math.max(ip.circleDiameter,Wb):Wb};Ru=Gv(La,Ru),Ru=Gv(Da,Ru),Ru=Gv(qa,Ru),Ru=Gv(Fa,Ru);var Y0=Ru>-1?1:0;Y0&&(Ru*=sa/Cs),_.glyphOffsetArray.length>=Yi.MAX_GLYPHS&&U("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Rn.sortKey!==void 0&&_.addToSortKeyRanges(_.symbolInstances.length,Rn.sortKey),_.symbolInstances.emplaceBack(D.x,D.y,Mi.right>=0?Mi.right:-1,Mi.center>=0?Mi.center:-1,Mi.left>=0?Mi.left:-1,Mi.vertical||-1,Pi,Ri,no,gh,yh,Vv,ef,W0,xm,j0,bm,Mt,Li,Zi,fi,Ka,Y0,0,fr,so,Fo,Ru)}function JS(_,D,W,ae){var pe=_.compareText;if(!(D in pe))pe[D]=[];else for(var Me=pe[D],_e=Me.length-1;_e>=0;_e--)if(ae.dist(Me[_e])<W)return!0;return pe[D].push(ae),!1}var QS=Pv.VectorTileFeature.types,$S=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function U0(_,D,W,ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr){var tr=Qe?Math.min(vh,Math.round(Qe[0])):0,wr=Qe?Math.min(vh,Math.round(Qe[1])):0;_.emplaceBack(D,W,Math.round(ae*32),Math.round(pe*32),Me,_e,(tr<<1)+(dt?1:0),wr,Mt*16,Lt*16,Yt*256,fr*256)}function dm(_,D,W){_.emplaceBack(D.x,D.y,W),_.emplaceBack(D.x,D.y,W),_.emplaceBack(D.x,D.y,W),_.emplaceBack(D.x,D.y,W)}function qS(_){for(var D=0,W=_.sections;D<W.length;D+=1){var ae=W[D];if(sn(ae.text))return!0}return!1}var Nv=function(D){this.layoutVertexArray=new qf,this.indexArray=new Cf,this.programConfigurations=D,this.segments=new Z,this.dynamicLayoutVertexArray=new Nd,this.opacityVertexArray=new Bd,this.placedSymbolArray=new uh};Nv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Nv.prototype.upload=function(D,W,ae,pe){this.isEmpty()||(ae&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,om.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,W),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,eS.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,$S,!0),this.opacityVertexBuffer.itemSize=1),(ae||pe)&&this.programConfigurations.upload(D))},Nv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},ue("SymbolBuffers",Nv);var np=function(D,W,ae){this.layoutVertexArray=new D,this.layoutAttributes=W,this.indexArray=new ae,this.segments=new Z,this.collisionVertexArray=new Sl};np.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,tS.members,!0)},np.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},ue("CollisionBuffers",np);var Yi=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(dt){return dt.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Mv([]),this.placementViewportMatrix=Mv([]);var W=this.layers[0],ae=W._unevaluatedLayout._values;this.textSizeData=cm(this.zoom,ae["text-size"]),this.iconSizeData=cm(this.zoom,ae["icon-size"]);var pe=this.layers[0].layout,Me=pe.get("symbol-sort-key"),_e=pe.get("symbol-z-order");this.sortFeaturesByKey=_e!=="viewport-y"&&Me.constantOr(1)!==void 0;var Qe=_e==="viewport-y"||_e==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Qe&&(pe.get("text-allow-overlap")||pe.get("icon-allow-overlap")||pe.get("text-ignore-placement")||pe.get("icon-ignore-placement")),pe.get("symbol-placement")==="point"&&(this.writingModes=pe.get("text-writing-mode").map(function(dt){return lu[dt]})),this.stateDependentLayerIds=this.layers.filter(function(dt){return dt.isStateDependent()}).map(function(dt){return dt.id}),this.sourceID=D.sourceID};Yi.prototype.createArrays=function(){this.text=new Nv(new ti(om.members,this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new Nv(new ti(om.members,this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new Lu,this.lineVertexArray=new T0,this.symbolInstances=new w0},Yi.prototype.calculateGlyphDependencies=function(D,W,ae,pe,Me){for(var _e=0;_e<D.length;_e++)if(W[D.charCodeAt(_e)]=!0,(ae||pe)&&Me){var Qe=$d[D.charAt(_e)];Qe&&(W[Qe.charCodeAt(0)]=!0)}},Yi.prototype.populate=function(D,W,ae){var pe=this.layers[0],Me=pe.layout,_e=Me.get("text-font"),Qe=Me.get("text-field"),dt=Me.get("icon-image"),Mt=(Qe.value.kind!=="constant"||Qe.value.value instanceof Do&&!Qe.value.value.isEmpty()||Qe.value.value.toString().length>0)&&(_e.value.kind!=="constant"||_e.value.value.length>0),Lt=dt.value.kind!=="constant"||!!dt.value.value||Object.keys(dt.parameters).length>0,Yt=Me.get("symbol-sort-key");if(this.features=[],!(!Mt&&!Lt)){for(var fr=W.iconDependencies,tr=W.glyphDependencies,wr=W.availableImages,Gr=new Xn(this.zoom),cn=0,rn=D;cn<rn.length;cn+=1){var _n=rn[cn],En=_n.feature,Rn=_n.id,Un=_n.index,Kn=_n.sourceLayerIndex,fa=pe._featureFilter.needGeometry,sa={type:En.type,id:Rn,properties:En.properties,geometry:fa?Ui(En):[]};if(pe._featureFilter.filter(Gr,sa,ae)){fa||(sa.geometry=Ui(En));var Oa=void 0;if(Mt){var Ta=pe.getValueAndResolveTokens("text-field",sa,ae,wr),La=Do.factory(Ta);qS(La)&&(this.hasRTLText=!0),(!this.hasRTLText||ei()==="unavailable"||this.hasRTLText&&Ci.isParsed())&&(Oa=aS(La,pe,sa))}var qa=void 0;if(Lt){var Da=pe.getValueAndResolveTokens("icon-image",sa,ae,wr);Da instanceof bo?qa=Da:qa=bo.fromString(Da)}if(!(!Oa&&!qa)){var Fa=this.sortFeaturesByKey?Yt.evaluate(sa,{},ae):void 0,fi={id:Rn,text:Oa,icon:qa,index:Un,sourceLayerIndex:Kn,geometry:Ui(En),properties:En.properties,type:QS[En.type],sortKey:Fa};if(this.features.push(fi),qa&&(fr[qa.name]=!0),Oa){var Ka=_e.evaluate(sa,{},ae).join(","),Li=Me.get("text-rotation-alignment")==="map"&&Me.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(lu.vertical)>=0;for(var Zi=0,Pi=Oa.sections;Zi<Pi.length;Zi+=1){var Ri=Pi[Zi];if(Ri.image)fr[Ri.image.name]=!0;else{var Mi=Vt(Oa.toString()),no=Ri.fontStack||Ka,so=tr[no]=tr[no]||{};this.calculateGlyphDependencies(Ri.text,so,Li,this.allowVerticalPlacement,Mi)}}}}}}Me.get("symbol-placement")==="line"&&(this.features=iS(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Fo,Uo){return Fo.sortKey-Uo.sortKey})}},Yi.prototype.update=function(D,W,ae){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,W,this.layers,ae),this.icon.programConfigurations.updatePaintArrays(D,W,this.layers,ae))},Yi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Yi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Yi.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Yi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Yi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Yi.prototype.addToLineVertexArray=function(D,W){var ae=this.lineVertexArray.length;if(D.segment!==void 0){for(var pe=D.dist(W[D.segment+1]),Me=D.dist(W[D.segment]),_e={},Qe=D.segment+1;Qe<W.length;Qe++)_e[Qe]={x:W[Qe].x,y:W[Qe].y,tileUnitDistanceFromAnchor:pe},Qe<W.length-1&&(pe+=W[Qe+1].dist(W[Qe]));for(var dt=D.segment||0;dt>=0;dt--)_e[dt]={x:W[dt].x,y:W[dt].y,tileUnitDistanceFromAnchor:Me},dt>0&&(Me+=W[dt-1].dist(W[dt]));for(var Mt=0;Mt<W.length;Mt++){var Lt=_e[Mt];this.lineVertexArray.emplaceBack(Lt.x,Lt.y,Lt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ae,lineLength:this.lineVertexArray.length-ae}},Yi.prototype.addSymbols=function(D,W,ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt,fr){for(var tr=D.indexArray,wr=D.layoutVertexArray,Gr=D.segments.prepareSegment(4*W.length,wr,tr,_e.sortKey),cn=this.glyphOffsetArray.length,rn=Gr.vertexLength,_n=this.allowVerticalPlacement&&Qe===lu.vertical?Math.PI/2:0,En=_e.text&&_e.text.sections,Rn=0;Rn<W.length;Rn++){var Un=W[Rn],Kn=Un.tl,fa=Un.tr,sa=Un.bl,Oa=Un.br,Ta=Un.tex,La=Un.pixelOffsetTL,qa=Un.pixelOffsetBR,Da=Un.minFontScaleX,Fa=Un.minFontScaleY,fi=Un.glyphOffset,Ka=Un.isSDF,Li=Un.sectionIndex,Zi=Gr.vertexLength,Pi=fi[1];U0(wr,dt.x,dt.y,Kn.x,Pi+Kn.y,Ta.x,Ta.y,ae,Ka,La.x,La.y,Da,Fa),U0(wr,dt.x,dt.y,fa.x,Pi+fa.y,Ta.x+Ta.w,Ta.y,ae,Ka,qa.x,La.y,Da,Fa),U0(wr,dt.x,dt.y,sa.x,Pi+sa.y,Ta.x,Ta.y+Ta.h,ae,Ka,La.x,qa.y,Da,Fa),U0(wr,dt.x,dt.y,Oa.x,Pi+Oa.y,Ta.x+Ta.w,Ta.y+Ta.h,ae,Ka,qa.x,qa.y,Da,Fa),dm(D.dynamicLayoutVertexArray,dt,_n),tr.emplaceBack(Zi,Zi+1,Zi+2),tr.emplaceBack(Zi+1,Zi+2,Zi+3),Gr.vertexLength+=4,Gr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(fi[0]),(Rn===W.length-1||Li!==W[Rn+1].sectionIndex)&&D.programConfigurations.populatePaintArrays(wr.length,_e,_e.index,{},fr,En&&En[Li])}D.placedSymbolArray.emplaceBack(dt.x,dt.y,cn,this.glyphOffsetArray.length-cn,rn,Mt,Lt,dt.segment,ae?ae[0]:0,ae?ae[1]:0,pe[0],pe[1],Qe,0,!1,0,Yt)},Yi.prototype._addCollisionDebugVertex=function(D,W,ae,pe,Me,_e){return W.emplaceBack(0,0),D.emplaceBack(ae.x,ae.y,pe,Me,Math.round(_e.x),Math.round(_e.y))},Yi.prototype.addCollisionDebugVertices=function(D,W,ae,pe,Me,_e,Qe){var dt=Me.segments.prepareSegment(4,Me.layoutVertexArray,Me.indexArray),Mt=dt.vertexLength,Lt=Me.layoutVertexArray,Yt=Me.collisionVertexArray,fr=Qe.anchorX,tr=Qe.anchorY;this._addCollisionDebugVertex(Lt,Yt,_e,fr,tr,new t(D,W)),this._addCollisionDebugVertex(Lt,Yt,_e,fr,tr,new t(ae,W)),this._addCollisionDebugVertex(Lt,Yt,_e,fr,tr,new t(ae,pe)),this._addCollisionDebugVertex(Lt,Yt,_e,fr,tr,new t(D,pe)),dt.vertexLength+=4;var wr=Me.indexArray;wr.emplaceBack(Mt,Mt+1),wr.emplaceBack(Mt+1,Mt+2),wr.emplaceBack(Mt+2,Mt+3),wr.emplaceBack(Mt+3,Mt),dt.primitiveLength+=4},Yi.prototype.addDebugCollisionBoxes=function(D,W,ae,pe){for(var Me=D;Me<W;Me++){var _e=this.collisionBoxArray.get(Me),Qe=_e.x1,dt=_e.y1,Mt=_e.x2,Lt=_e.y2;this.addCollisionDebugVertices(Qe,dt,Mt,Lt,pe?this.textCollisionBox:this.iconCollisionBox,_e.anchorPoint,ae)}},Yi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new np(xv,rb.members,Yh),this.iconCollisionBox=new np(xv,rb.members,Yh);for(var D=0;D<this.symbolInstances.length;D++){var W=this.symbolInstances.get(D);this.addDebugCollisionBoxes(W.textBoxStartIndex,W.textBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.verticalTextBoxStartIndex,W.verticalTextBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.iconBoxStartIndex,W.iconBoxEndIndex,W,!1),this.addDebugCollisionBoxes(W.verticalIconBoxStartIndex,W.verticalIconBoxEndIndex,W,!1)}},Yi.prototype._deserializeCollisionBoxesForSymbol=function(D,W,ae,pe,Me,_e,Qe,dt,Mt){for(var Lt={},Yt=W;Yt<ae;Yt++){var fr=D.get(Yt);Lt.textBox={x1:fr.x1,y1:fr.y1,x2:fr.x2,y2:fr.y2,anchorPointX:fr.anchorPointX,anchorPointY:fr.anchorPointY},Lt.textFeatureIndex=fr.featureIndex;break}for(var tr=pe;tr<Me;tr++){var wr=D.get(tr);Lt.verticalTextBox={x1:wr.x1,y1:wr.y1,x2:wr.x2,y2:wr.y2,anchorPointX:wr.anchorPointX,anchorPointY:wr.anchorPointY},Lt.verticalTextFeatureIndex=wr.featureIndex;break}for(var Gr=_e;Gr<Qe;Gr++){var cn=D.get(Gr);Lt.iconBox={x1:cn.x1,y1:cn.y1,x2:cn.x2,y2:cn.y2,anchorPointX:cn.anchorPointX,anchorPointY:cn.anchorPointY},Lt.iconFeatureIndex=cn.featureIndex;break}for(var rn=dt;rn<Mt;rn++){var _n=D.get(rn);Lt.verticalIconBox={x1:_n.x1,y1:_n.y1,x2:_n.x2,y2:_n.y2,anchorPointX:_n.anchorPointX,anchorPointY:_n.anchorPointY},Lt.verticalIconFeatureIndex=_n.featureIndex;break}return Lt},Yi.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var W=0;W<this.symbolInstances.length;W++){var ae=this.symbolInstances.get(W);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,ae.textBoxStartIndex,ae.textBoxEndIndex,ae.verticalTextBoxStartIndex,ae.verticalTextBoxEndIndex,ae.iconBoxStartIndex,ae.iconBoxEndIndex,ae.verticalIconBoxStartIndex,ae.verticalIconBoxEndIndex))}},Yi.prototype.hasTextData=function(){return this.text.segments.get().length>0},Yi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Yi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Yi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Yi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Yi.prototype.addIndicesForPlacedSymbol=function(D,W){for(var ae=D.placedSymbolArray.get(W),pe=ae.vertexStartIndex+ae.numGlyphs*4,Me=ae.vertexStartIndex;Me<pe;Me+=4)D.indexArray.emplaceBack(Me,Me+1,Me+2),D.indexArray.emplaceBack(Me+1,Me+2,Me+3)},Yi.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var W=Math.sin(D),ae=Math.cos(D),pe=[],Me=[],_e=[],Qe=0;Qe<this.symbolInstances.length;++Qe){_e.push(Qe);var dt=this.symbolInstances.get(Qe);pe.push(Math.round(W*dt.anchorX+ae*dt.anchorY)|0),Me.push(dt.featureIndex)}return _e.sort(function(Mt,Lt){return pe[Mt]-pe[Lt]||Me[Lt]-Me[Mt]}),_e},Yi.prototype.addToSortKeyRanges=function(D,W){var ae=this.sortKeyRanges[this.sortKeyRanges.length-1];ae&&ae.sortKey===W?ae.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:W,symbolInstanceStart:D,symbolInstanceEnd:D+1})},Yi.prototype.sortFeatures=function(D){var W=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ae=0,pe=this.symbolInstanceIndexes;ae<pe.length;ae+=1){var Me=pe[ae],_e=this.symbolInstances.get(Me);this.featureSortOrder.push(_e.featureIndex),[_e.rightJustifiedTextSymbolIndex,_e.centerJustifiedTextSymbolIndex,_e.leftJustifiedTextSymbolIndex].forEach(function(Qe,dt,Mt){Qe>=0&&Mt.indexOf(Qe)===dt&&W.addIndicesForPlacedSymbol(W.text,Qe)}),_e.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,_e.verticalPlacedTextSymbolIndex),_e.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,_e.placedIconSymbolIndex),_e.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,_e.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},ue("SymbolBucket",Yi,{omit:["layers","collisionBoxArray","features","compareText"]}),Yi.MAX_GLYPHS=65535,Yi.addDynamicAttributes=dm;function e6(_,D){return D.replace(/{([^{}]+)}/g,function(W,ae){return ae in _?String(_[ae]):""})}var t6=new Yo({"symbol-placement":new Ca(Kt.layout_symbol["symbol-placement"]),"symbol-spacing":new Ca(Kt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ca(Kt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new za(Kt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ca(Kt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ca(Kt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Ca(Kt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ca(Kt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ca(Kt.layout_symbol["icon-rotation-alignment"]),"icon-size":new za(Kt.layout_symbol["icon-size"]),"icon-text-fit":new Ca(Kt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ca(Kt.layout_symbol["icon-text-fit-padding"]),"icon-image":new za(Kt.layout_symbol["icon-image"]),"icon-rotate":new za(Kt.layout_symbol["icon-rotate"]),"icon-padding":new Ca(Kt.layout_symbol["icon-padding"]),"icon-keep-upright":new Ca(Kt.layout_symbol["icon-keep-upright"]),"icon-offset":new za(Kt.layout_symbol["icon-offset"]),"icon-anchor":new za(Kt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ca(Kt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ca(Kt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ca(Kt.layout_symbol["text-rotation-alignment"]),"text-field":new za(Kt.layout_symbol["text-field"]),"text-font":new za(Kt.layout_symbol["text-font"]),"text-size":new za(Kt.layout_symbol["text-size"]),"text-max-width":new za(Kt.layout_symbol["text-max-width"]),"text-line-height":new Ca(Kt.layout_symbol["text-line-height"]),"text-letter-spacing":new za(Kt.layout_symbol["text-letter-spacing"]),"text-justify":new za(Kt.layout_symbol["text-justify"]),"text-radial-offset":new za(Kt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ca(Kt.layout_symbol["text-variable-anchor"]),"text-anchor":new za(Kt.layout_symbol["text-anchor"]),"text-max-angle":new Ca(Kt.layout_symbol["text-max-angle"]),"text-writing-mode":new Ca(Kt.layout_symbol["text-writing-mode"]),"text-rotate":new za(Kt.layout_symbol["text-rotate"]),"text-padding":new Ca(Kt.layout_symbol["text-padding"]),"text-keep-upright":new Ca(Kt.layout_symbol["text-keep-upright"]),"text-transform":new za(Kt.layout_symbol["text-transform"]),"text-offset":new za(Kt.layout_symbol["text-offset"]),"text-allow-overlap":new Ca(Kt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Ca(Kt.layout_symbol["text-ignore-placement"]),"text-optional":new Ca(Kt.layout_symbol["text-optional"])}),r6=new Yo({"icon-opacity":new za(Kt.paint_symbol["icon-opacity"]),"icon-color":new za(Kt.paint_symbol["icon-color"]),"icon-halo-color":new za(Kt.paint_symbol["icon-halo-color"]),"icon-halo-width":new za(Kt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new za(Kt.paint_symbol["icon-halo-blur"]),"icon-translate":new Ca(Kt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ca(Kt.paint_symbol["icon-translate-anchor"]),"text-opacity":new za(Kt.paint_symbol["text-opacity"]),"text-color":new za(Kt.paint_symbol["text-color"],{runtimeType:Hn,getOverride:function(_){return _.textColor},hasOverride:function(_){return!!_.textColor}}),"text-halo-color":new za(Kt.paint_symbol["text-halo-color"]),"text-halo-width":new za(Kt.paint_symbol["text-halo-width"]),"text-halo-blur":new za(Kt.paint_symbol["text-halo-blur"]),"text-translate":new Ca(Kt.paint_symbol["text-translate"]),"text-translate-anchor":new Ca(Kt.paint_symbol["text-translate-anchor"])}),pm={paint:r6,layout:t6},Bv=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:Ir,this.defaultValue=D};Bv.prototype.evaluate=function(D){if(D.formattedSection){var W=this.defaultValue.property.overrides;if(W&&W.hasOverride(D.formattedSection))return W.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},Bv.prototype.eachChild=function(D){if(!this.defaultValue.isConstant()){var W=this.defaultValue.value;D(W._styleExpression.expression)}},Bv.prototype.outputDefined=function(){return!1},Bv.prototype.serialize=function(){return null},ue("FormatSectionOverride",Bv,{omit:["defaultValue"]});var n6=function(_){function D(W){_.call(this,W,pm)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ae,pe){if(_.prototype.recalculate.call(this,ae,pe),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Me=this.layout.get("text-writing-mode");if(Me){for(var _e=[],Qe=0,dt=Me;Qe<dt.length;Qe+=1){var Mt=dt[Qe];_e.indexOf(Mt)<0&&_e.push(Mt)}this.layout._values["text-writing-mode"]=_e}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(ae,pe,Me,_e){var Qe=this.layout.get(ae).evaluate(pe,{},Me,_e),dt=this._unevaluatedLayout._values[ae];return!dt.isDataDriven()&&!nu(dt.value)&&Qe?e6(pe.properties,Qe):Qe},D.prototype.createBucket=function(ae){return new Yi(ae)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var ae=0,pe=pm.paint.overridableProperties;ae<pe.length;ae+=1){var Me=pe[ae];if(D.hasPaintOverride(this.layout,Me)){var _e=this.paint.get(Me),Qe=new Bv(_e),dt=new Hl(Qe,_e.property.specification),Mt=null;_e.value.kind==="constant"||_e.value.kind==="source"?Mt=new Su("source",dt):Mt=new Ss("composite",dt,_e.value.zoomStops,_e.value._interpolationType),this.paint._values[Me]=new Ki(_e.property,Mt,_e.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(ae,pe,Me){return!this.layout||pe.isDataDriven()||Me.isDataDriven()?!1:D.hasPaintOverride(this.layout,ae)},D.hasPaintOverride=function(ae,pe){var Me=ae.get("text-field"),_e=pm.paint.properties[pe],Qe=!1,dt=function(Yt){for(var fr=0,tr=Yt;fr<tr.length;fr+=1){var wr=tr[fr];if(_e.overrides&&_e.overrides.hasOverride(wr)){Qe=!0;return}}};if(Me.value.kind==="constant"&&Me.value.value instanceof Do)dt(Me.value.value.sections);else if(Me.value.kind==="source"){var Mt=function(Yt){if(!Qe)if(Yt instanceof ss&&Xi(Yt.value)===ma){var fr=Yt.value;dt(fr.sections)}else Yt instanceof To?dt(Yt.sections):Yt.eachChild(Mt)},Lt=Me.value;Lt._styleExpression&&Mt(Lt._styleExpression.expression)}return Qe},D}(io),a6=new Yo({"background-color":new Ca(Kt.paint_background["background-color"]),"background-pattern":new Ro(Kt.paint_background["background-pattern"]),"background-opacity":new Ca(Kt.paint_background["background-opacity"])}),i6={paint:a6},o6=function(_){function D(W){_.call(this,W,i6)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D}(io),s6=new Yo({"raster-opacity":new Ca(Kt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ca(Kt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ca(Kt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ca(Kt.paint_raster["raster-brightness-max"]),"raster-saturation":new Ca(Kt.paint_raster["raster-saturation"]),"raster-contrast":new Ca(Kt.paint_raster["raster-contrast"]),"raster-resampling":new Ca(Kt.paint_raster["raster-resampling"]),"raster-fade-duration":new Ca(Kt.paint_raster["raster-fade-duration"])}),l6={paint:s6},u6=function(_){function D(W){_.call(this,W,l6)}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D}(io);function f6(_){var D=[],W=_.id;return W===void 0&&D.push({message:"layers."+W+': missing required property "id"'}),_.render===void 0&&D.push({message:"layers."+W+': missing required method "render"'}),_.renderingMode&&_.renderingMode!=="2d"&&_.renderingMode!=="3d"&&D.push({message:"layers."+W+': property "renderingMode" must be either "2d" or "3d"'}),D}var c6=function(_){function D(W){_.call(this,W,{}),this.implementation=W}return _&&(D.__proto__=_),D.prototype=Object.create(_&&_.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(ae){this.implementation.onAdd&&this.implementation.onAdd(ae,ae.painter.context.gl)},D.prototype.onRemove=function(ae){this.implementation.onRemove&&this.implementation.onRemove(ae,ae.painter.context.gl)},D}(io),h6={circle:H4,heatmap:j4,hillshade:X4,fill:xM,"fill-extrusion":BM,line:$M,symbol:n6,background:o6,raster:u6};function v6(_){return _.type==="custom"?new c6(_):new h6[_.type](_)}var Pb=self.HTMLImageElement,Rb=self.HTMLCanvasElement,_b=self.HTMLVideoElement,Db=self.ImageData,H0=self.ImageBitmap,Qh=function(D,W,ae,pe){this.context=D,this.format=ae,this.texture=D.gl.createTexture(),this.update(W,pe)};Qh.prototype.update=function(D,W,ae){var pe=D.width,Me=D.height,_e=(!this.size||this.size[0]!==pe||this.size[1]!==Me)&&!ae,Qe=this,dt=Qe.context,Mt=dt.gl;if(this.useMipmap=!!(W&&W.useMipmap),Mt.bindTexture(Mt.TEXTURE_2D,this.texture),dt.pixelStoreUnpackFlipY.set(!1),dt.pixelStoreUnpack.set(1),dt.pixelStoreUnpackPremultiplyAlpha.set(this.format===Mt.RGBA&&(!W||W.premultiply!==!1)),_e)this.size=[pe,Me],D instanceof Pb||D instanceof Rb||D instanceof _b||D instanceof Db||H0&&D instanceof H0?Mt.texImage2D(Mt.TEXTURE_2D,0,this.format,this.format,Mt.UNSIGNED_BYTE,D):Mt.texImage2D(Mt.TEXTURE_2D,0,this.format,pe,Me,0,this.format,Mt.UNSIGNED_BYTE,D.data);else{var Lt=ae||{x:0,y:0},Yt=Lt.x,fr=Lt.y;D instanceof Pb||D instanceof Rb||D instanceof _b||D instanceof Db||H0&&D instanceof H0?Mt.texSubImage2D(Mt.TEXTURE_2D,0,Yt,fr,Mt.RGBA,Mt.UNSIGNED_BYTE,D):Mt.texSubImage2D(Mt.TEXTURE_2D,0,Yt,fr,pe,Me,Mt.RGBA,Mt.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Mt.generateMipmap(Mt.TEXTURE_2D)},Qh.prototype.bind=function(D,W,ae){var pe=this,Me=pe.context,_e=Me.gl;_e.bindTexture(_e.TEXTURE_2D,this.texture),ae===_e.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ae=_e.LINEAR),D!==this.filter&&(_e.texParameteri(_e.TEXTURE_2D,_e.TEXTURE_MAG_FILTER,D),_e.texParameteri(_e.TEXTURE_2D,_e.TEXTURE_MIN_FILTER,ae||D),this.filter=D),W!==this.wrap&&(_e.texParameteri(_e.TEXTURE_2D,_e.TEXTURE_WRAP_S,W),_e.texParameteri(_e.TEXTURE_2D,_e.TEXTURE_WRAP_T,W),this.wrap=W)},Qh.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Qh.prototype.destroy=function(){var D=this.context,W=D.gl;W.deleteTexture(this.texture),this.texture=null};var gm=function(D){var W=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){W._triggered=!1,W._callback()})};gm.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},gm.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Uv=function(D,W,ae){this.target=D,this.parent=W,this.mapId=ae,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},S(["receive","process"],this),this.invoker=new gm(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=F()?D:self};Uv.prototype.send=function(D,W,ae,pe,Me){var _e=this;Me===void 0&&(Me=!1);var Qe=Math.round(Math.random()*1e18).toString(36).substring(0,10);ae&&(this.callbacks[Qe]=ae);var dt=q(this.globalScope)?void 0:[];return this.target.postMessage({id:Qe,type:D,hasCallback:!!ae,targetMapId:pe,mustQueue:Me,sourceMapId:this.mapId,data:at(W,dt)},dt),{cancel:function(){ae&&delete _e.callbacks[Qe],_e.target.postMessage({id:Qe,type:"<cancel>",targetMapId:pe,sourceMapId:_e.mapId})}}},Uv.prototype.receive=function(D){var W=D.data,ae=W.id;if(ae&&!(W.targetMapId&&this.mapId!==W.targetMapId))if(W.type==="<cancel>"){delete this.tasks[ae];var pe=this.cancelCallbacks[ae];delete this.cancelCallbacks[ae],pe&&pe()}else F()||W.mustQueue?(this.tasks[ae]=W,this.taskQueue.push(ae),this.invoker.trigger()):this.processTask(ae,W)},Uv.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),W=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),W&&this.processTask(D,W)}},Uv.prototype.processTask=function(D,W){var ae=this;if(W.type==="<response>"){var pe=this.callbacks[D];delete this.callbacks[D],pe&&(W.error?pe(lt(W.error)):pe(null,lt(W.data)))}else{var Me=!1,_e=q(this.globalScope)?void 0:[],Qe=W.hasCallback?function(fr,tr){Me=!0,delete ae.cancelCallbacks[D],ae.target.postMessage({id:D,type:"<response>",sourceMapId:ae.mapId,error:fr?at(fr):null,data:at(tr,_e)},_e)}:function(fr){Me=!0},dt=null,Mt=lt(W.data);if(this.parent[W.type])dt=this.parent[W.type](W.sourceMapId,Mt,Qe);else if(this.parent.getWorkerSource){var Lt=W.type.split("."),Yt=this.parent.getWorkerSource(W.sourceMapId,Lt[0],Mt.source);dt=Yt[Lt[1]](Mt,Qe)}else Qe(new Error("Could not find function "+W.type));!Me&&dt&&dt.cancel&&(this.cancelCallbacks[D]=dt.cancel)}},Uv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function d6(_,D,W){D=Math.pow(2,W)-D-1;var ae=kb(_*256,D*256,W),pe=kb((_+1)*256,(D+1)*256,W);return ae[0]+","+ae[1]+","+pe[0]+","+pe[1]}function kb(_,D,W){var ae=2*Math.PI*6378137/256/Math.pow(2,W),pe=_*ae-2*Math.PI*6378137/2,Me=D*ae-2*Math.PI*6378137/2;return[pe,Me]}var ts=function(D,W){D&&(W?this.setSouthWest(D).setNorthEast(W):D.length===4?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};ts.prototype.setNorthEast=function(D){return this._ne=D instanceof mo?new mo(D.lng,D.lat):mo.convert(D),this},ts.prototype.setSouthWest=function(D){return this._sw=D instanceof mo?new mo(D.lng,D.lat):mo.convert(D),this},ts.prototype.extend=function(D){var W=this._sw,ae=this._ne,pe,Me;if(D instanceof mo)pe=D,Me=D;else if(D instanceof ts){if(pe=D._sw,Me=D._ne,!pe||!Me)return this}else{if(Array.isArray(D))if(D.length===4||D.every(Array.isArray)){var _e=D;return this.extend(ts.convert(_e))}else{var Qe=D;return this.extend(mo.convert(Qe))}return this}return!W&&!ae?(this._sw=new mo(pe.lng,pe.lat),this._ne=new mo(Me.lng,Me.lat)):(W.lng=Math.min(pe.lng,W.lng),W.lat=Math.min(pe.lat,W.lat),ae.lng=Math.max(Me.lng,ae.lng),ae.lat=Math.max(Me.lat,ae.lat)),this},ts.prototype.getCenter=function(){return new mo((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},ts.prototype.getSouthWest=function(){return this._sw},ts.prototype.getNorthEast=function(){return this._ne},ts.prototype.getNorthWest=function(){return new mo(this.getWest(),this.getNorth())},ts.prototype.getSouthEast=function(){return new mo(this.getEast(),this.getSouth())},ts.prototype.getWest=function(){return this._sw.lng},ts.prototype.getSouth=function(){return this._sw.lat},ts.prototype.getEast=function(){return this._ne.lng},ts.prototype.getNorth=function(){return this._ne.lat},ts.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},ts.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},ts.prototype.isEmpty=function(){return!(this._sw&&this._ne)},ts.prototype.contains=function(D){var W=mo.convert(D),ae=W.lng,pe=W.lat,Me=this._sw.lat<=pe&&pe<=this._ne.lat,_e=this._sw.lng<=ae&&ae<=this._ne.lng;return this._sw.lng>this._ne.lng&&(_e=this._sw.lng>=ae&&ae>=this._ne.lng),Me&&_e},ts.convert=function(D){return!D||D instanceof ts?D:new ts(D)};var Ib=63710088e-1,mo=function(D,W){if(isNaN(D)||isNaN(W))throw new Error("Invalid LngLat object: ("+D+", "+W+")");if(this.lng=+D,this.lat=+W,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};mo.prototype.wrap=function(){return new mo(y(this.lng,-180,180),this.lat)},mo.prototype.toArray=function(){return[this.lng,this.lat]},mo.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},mo.prototype.distanceTo=function(D){var W=Math.PI/180,ae=this.lat*W,pe=D.lat*W,Me=Math.sin(ae)*Math.sin(pe)+Math.cos(ae)*Math.cos(pe)*Math.cos((D.lng-this.lng)*W),_e=Ib*Math.acos(Math.min(Me,1));return _e},mo.prototype.toBounds=function(D){D===void 0&&(D=0);var W=40075017,ae=360*D/W,pe=ae/Math.cos(Math.PI/180*this.lat);return new ts(new mo(this.lng-pe,this.lat-ae),new mo(this.lng+pe,this.lat+ae))},mo.convert=function(D){if(D instanceof mo)return D;if(Array.isArray(D)&&(D.length===2||D.length===3))return new mo(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&typeof D=="object"&&D!==null)return new mo(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Fb=2*Math.PI*Ib;function zb(_){return Fb*Math.cos(_*Math.PI/180)}function Ob(_){return(180+_)/360}function Nb(_){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+_*Math.PI/360)))/360}function Bb(_,D){return _/zb(D)}function p6(_){return _*360-180}function ym(_){var D=180-_*360;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}function g6(_,D){return _*zb(ym(D))}function y6(_){return 1/Math.cos(_*Math.PI/180)}var $h=function(D,W,ae){ae===void 0&&(ae=0),this.x=+D,this.y=+W,this.z=+ae};$h.fromLngLat=function(D,W){W===void 0&&(W=0);var ae=mo.convert(D);return new $h(Ob(ae.lng),Nb(ae.lat),Bb(W,ae.lat))},$h.prototype.toLngLat=function(){return new mo(p6(this.x),ym(this.y))},$h.prototype.toAltitude=function(){return g6(this.z,this.y)},$h.prototype.meterInMercatorCoordinateUnits=function(){return 1/Fb*y6(ym(this.y))};var qh=function(D,W,ae){this.z=D,this.x=W,this.y=ae,this.key=ap(0,D,D,W,ae)};qh.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},qh.prototype.url=function(D,W){var ae=d6(this.x,this.y,this.z),pe=m6(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(W==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",pe).replace("{bbox-epsg-3857}",ae)},qh.prototype.getTilePoint=function(D){var W=Math.pow(2,this.z);return new t((D.x*W-this.x)*Ua,(D.y*W-this.y)*Ua)},qh.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Ub=function(D,W){this.wrap=D,this.canonical=W,this.key=ap(D,W.z,W.z,W.x,W.y)},rs=function(D,W,ae,pe,Me){this.overscaledZ=D,this.wrap=W,this.canonical=new qh(ae,+pe,+Me),this.key=ap(W,D,ae,pe,Me)};rs.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},rs.prototype.scaledTo=function(D){var W=this.canonical.z-D;return D>this.canonical.z?new rs(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new rs(D,this.wrap,D,this.canonical.x>>W,this.canonical.y>>W)},rs.prototype.calculateScaledKey=function(D,W){var ae=this.canonical.z-D;return D>this.canonical.z?ap(this.wrap*+W,D,this.canonical.z,this.canonical.x,this.canonical.y):ap(this.wrap*+W,D,D,this.canonical.x>>ae,this.canonical.y>>ae)},rs.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var W=this.canonical.z-D.canonical.z;return D.overscaledZ===0||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>W&&D.canonical.y===this.canonical.y>>W},rs.prototype.children=function(D){if(this.overscaledZ>=D)return[new rs(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var W=this.canonical.z+1,ae=this.canonical.x*2,pe=this.canonical.y*2;return[new rs(W,this.wrap,W,ae,pe),new rs(W,this.wrap,W,ae+1,pe),new rs(W,this.wrap,W,ae,pe+1),new rs(W,this.wrap,W,ae+1,pe+1)]},rs.prototype.isLessThan=function(D){return this.wrap<D.wrap?!0:this.wrap>D.wrap?!1:this.overscaledZ<D.overscaledZ?!0:this.overscaledZ>D.overscaledZ?!1:this.canonical.x<D.canonical.x?!0:this.canonical.x>D.canonical.x?!1:this.canonical.y<D.canonical.y},rs.prototype.wrapped=function(){return new rs(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},rs.prototype.unwrapTo=function(D){return new rs(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},rs.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},rs.prototype.toUnwrapped=function(){return new Ub(this.wrap,this.canonical)},rs.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},rs.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new $h(D.x-this.wrap,D.y))};function ap(_,D,W,ae,pe){_*=2,_<0&&(_=_*-1-1);var Me=1<<W;return(Me*Me*_+Me*pe+ae).toString(36)+W.toString(36)+D.toString(36)}function m6(_,D,W){for(var ae="",pe,Me=_;Me>0;Me--)pe=1<<Me-1,ae+=(D&pe?1:0)+(W&pe?2:0);return ae}ue("CanonicalTileID",qh),ue("OverscaledTileID",rs,{omit:["posMatrix"]});var Rc=function(D,W,ae){if(this.uid=D,W.height!==W.width)throw new RangeError("DEM tiles must be square");if(ae&&ae!=="mapbox"&&ae!=="terrarium")return U('"'+ae+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=W.height;var pe=this.dim=W.height-2;this.data=new Uint32Array(W.data.buffer),this.encoding=ae||"mapbox";for(var Me=0;Me<pe;Me++)this.data[this._idx(-1,Me)]=this.data[this._idx(0,Me)],this.data[this._idx(pe,Me)]=this.data[this._idx(pe-1,Me)],this.data[this._idx(Me,-1)]=this.data[this._idx(Me,0)],this.data[this._idx(Me,pe)]=this.data[this._idx(Me,pe-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(pe,-1)]=this.data[this._idx(pe-1,0)],this.data[this._idx(-1,pe)]=this.data[this._idx(0,pe-1)],this.data[this._idx(pe,pe)]=this.data[this._idx(pe-1,pe-1)]};Rc.prototype.get=function(D,W){var ae=new Uint8Array(this.data.buffer),pe=this._idx(D,W)*4,Me=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Me(ae[pe],ae[pe+1],ae[pe+2])},Rc.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Rc.prototype._idx=function(D,W){if(D<-1||D>=this.dim+1||W<-1||W>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(W+1)*this.stride+(D+1)},Rc.prototype._unpackMapbox=function(D,W,ae){return(D*256*256+W*256+ae)/10-1e4},Rc.prototype._unpackTerrarium=function(D,W,ae){return D*256+W+ae/256-32768},Rc.prototype.getPixels=function(){return new Ll({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Rc.prototype.backfillBorder=function(D,W,ae){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var pe=W*this.dim,Me=W*this.dim+this.dim,_e=ae*this.dim,Qe=ae*this.dim+this.dim;switch(W){case-1:pe=Me-1;break;case 1:Me=pe+1;break}switch(ae){case-1:_e=Qe-1;break;case 1:Qe=_e+1;break}for(var dt=-W*this.dim,Mt=-ae*this.dim,Lt=_e;Lt<Qe;Lt++)for(var Yt=pe;Yt<Me;Yt++)this.data[this._idx(Yt,Lt)]=D.data[this._idx(Yt+dt,Lt+Mt)]},ue("DEMData",Rc);function x6(_,D){var W={};if(!D)return W;for(var ae=function(){var _e=Me[pe],Qe=_e.layerIds.map(function(Yt){return D.getLayer(Yt)}).filter(Boolean);if(Qe.length!==0){_e.layers=Qe,_e.stateDependentLayerIds&&(_e.stateDependentLayers=_e.stateDependentLayerIds.map(function(Yt){return Qe.filter(function(fr){return fr.id===Yt})[0]}));for(var dt=0,Mt=Qe;dt<Mt.length;dt+=1){var Lt=Mt[dt];W[Lt.id]=_e}}},pe=0,Me=_;pe<Me.length;pe+=1)ae();return W}var V0=function(D){this._stringToNumber={},this._numberToString=[];for(var W=0;W<D.length;W++){var ae=D[W];this._stringToNumber[ae]=W,this._numberToString[W]=ae}};V0.prototype.encode=function(D){return this._stringToNumber[D]},V0.prototype.decode=function(D){return this._numberToString[D]};var G0=function(D,W,ae,pe,Me){this.type="Feature",this._vectorTileFeature=D,D._z=W,D._x=ae,D._y=pe,this.properties=D.properties,this.id=Me},mm={geometry:{configurable:!0}};mm.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},mm.geometry.set=function(_){this._geometry=_},G0.prototype.toJSON=function(){var D={geometry:this.geometry};for(var W in this)W==="_geometry"||W==="_vectorTileFeature"||(D[W]=this[W]);return D},Object.defineProperties(G0.prototype,mm);var Hv=function(){this.state={},this.stateChanges={},this.deletedStates={}};Hv.prototype.updateState=function(D,W,ae){var pe=String(W);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][pe]=this.stateChanges[D][pe]||{},o(this.stateChanges[D][pe],ae),this.deletedStates[D]===null){this.deletedStates[D]={};for(var Me in this.state[D])Me!==pe&&(this.deletedStates[D][Me]=null)}else{var _e=this.deletedStates[D]&&this.deletedStates[D][pe]===null;if(_e){this.deletedStates[D][pe]={};for(var Qe in this.state[D][pe])ae[Qe]||(this.deletedStates[D][pe][Qe]=null)}else for(var dt in ae){var Mt=this.deletedStates[D]&&this.deletedStates[D][pe]&&this.deletedStates[D][pe][dt]===null;Mt&&delete this.deletedStates[D][pe][dt]}}},Hv.prototype.removeFeatureState=function(D,W,ae){var pe=this.deletedStates[D]===null;if(!pe){var Me=String(W);if(this.deletedStates[D]=this.deletedStates[D]||{},ae&&W!==void 0)this.deletedStates[D][Me]!==null&&(this.deletedStates[D][Me]=this.deletedStates[D][Me]||{},this.deletedStates[D][Me][ae]=null);else if(W!==void 0){var _e=this.stateChanges[D]&&this.stateChanges[D][Me];if(_e){this.deletedStates[D][Me]={};for(ae in this.stateChanges[D][Me])this.deletedStates[D][Me][ae]=null}else this.deletedStates[D][Me]=null}else this.deletedStates[D]=null}},Hv.prototype.getState=function(D,W){var ae=String(W),pe=this.state[D]||{},Me=this.stateChanges[D]||{},_e=o({},pe[ae],Me[ae]);if(this.deletedStates[D]===null)return{};if(this.deletedStates[D]){var Qe=this.deletedStates[D][W];if(Qe===null)return{};for(var dt in Qe)delete _e[dt]}return _e},Hv.prototype.initializeTileState=function(D,W){D.setFeatureState(this.state,W)},Hv.prototype.coalesceChanges=function(D,W){var ae={};for(var pe in this.stateChanges){this.state[pe]=this.state[pe]||{};var Me={};for(var _e in this.stateChanges[pe])this.state[pe][_e]||(this.state[pe][_e]={}),o(this.state[pe][_e],this.stateChanges[pe][_e]),Me[_e]=this.state[pe][_e];ae[pe]=Me}for(var Qe in this.deletedStates){this.state[Qe]=this.state[Qe]||{};var dt={};if(this.deletedStates[Qe]===null)for(var Mt in this.state[Qe])dt[Mt]={},this.state[Qe][Mt]={};else for(var Lt in this.deletedStates[Qe]){var Yt=this.deletedStates[Qe][Lt]===null;if(Yt)this.state[Qe][Lt]={};else for(var fr=0,tr=Object.keys(this.deletedStates[Qe][Lt]);fr<tr.length;fr+=1){var wr=tr[fr];delete this.state[Qe][Lt][wr]}dt[Lt]=this.state[Qe][Lt]}ae[Qe]=ae[Qe]||{},o(ae[Qe],dt)}if(this.stateChanges={},this.deletedStates={},Object.keys(ae).length!==0)for(var Gr in D){var cn=D[Gr];cn.setFeatureState(ae,W)}};var _c=function(D,W){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new Ga(Ua,16,0),this.grid3D=new Ga(Ua,16,0),this.featureIndexArray=new Gd,this.promoteId=W};_c.prototype.insert=function(D,W,ae,pe,Me,_e){var Qe=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ae,pe,Me);for(var dt=_e?this.grid3D:this.grid,Mt=0;Mt<W.length;Mt++){for(var Lt=W[Mt],Yt=[1/0,1/0,-1/0,-1/0],fr=0;fr<Lt.length;fr++){var tr=Lt[fr];Yt[0]=Math.min(Yt[0],tr.x),Yt[1]=Math.min(Yt[1],tr.y),Yt[2]=Math.max(Yt[2],tr.x),Yt[3]=Math.max(Yt[3],tr.y)}Yt[0]<Ua&&Yt[1]<Ua&&Yt[2]>=0&&Yt[3]>=0&&dt.insert(Qe,Yt[0],Yt[1],Yt[2],Yt[3])}},_c.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Pv.VectorTile(new D0(this.rawTileData)).layers,this.sourceLayerCoder=new V0(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},_c.prototype.query=function(D,W,ae,pe){var Me=this;this.loadVTLayers();for(var _e=D.params||{},Qe=Ua/D.tileSize/D.scale,dt=Tf(_e.filter),Mt=D.queryGeometry,Lt=D.queryPadding*Qe,Yt=Vb(Mt),fr=this.grid.query(Yt.minX-Lt,Yt.minY-Lt,Yt.maxX+Lt,Yt.maxY+Lt),tr=Vb(D.cameraQueryGeometry),wr=this.grid3D.query(tr.minX-Lt,tr.minY-Lt,tr.maxX+Lt,tr.maxY+Lt,function(Kn,fa,sa,Oa){return nc(D.cameraQueryGeometry,Kn-Lt,fa-Lt,sa+Lt,Oa+Lt)}),Gr=0,cn=wr;Gr<cn.length;Gr+=1){var rn=cn[Gr];fr.push(rn)}fr.sort(b6);for(var _n={},En,Rn=function(Kn){var fa=fr[Kn];if(fa!==En){En=fa;var sa=Me.featureIndexArray.get(fa),Oa=null;Me.loadMatchingFeature(_n,sa.bucketIndex,sa.sourceLayerIndex,sa.featureIndex,dt,_e.layers,_e.availableImages,W,ae,pe,function(Ta,La,qa){return Oa||(Oa=Ui(Ta)),La.queryIntersectsFeature(Mt,Ta,qa,Oa,Me.z,D.transform,Qe,D.pixelPosMatrix)})}},Un=0;Un<fr.length;Un++)Rn(Un);return _n},_c.prototype.loadMatchingFeature=function(D,W,ae,pe,Me,_e,Qe,dt,Mt,Lt,Yt){var fr=this.bucketLayerIDs[W];if(!(_e&&!k(_e,fr))){var tr=this.sourceLayerCoder.decode(ae),wr=this.vtLayers[tr],Gr=wr.feature(pe);if(Me.filter(new Xn(this.tileID.overscaledZ),Gr))for(var cn=this.getId(Gr,tr),rn=0;rn<fr.length;rn++){var _n=fr[rn];if(!(_e&&_e.indexOf(_n)<0)){var En=dt[_n];if(En){var Rn={};cn!==void 0&&Lt&&(Rn=Lt.getState(En.sourceLayer||"_geojsonTileLayer",cn));var Un=Mt[_n];Un.paint=Hb(Un.paint,En.paint,Gr,Rn,Qe),Un.layout=Hb(Un.layout,En.layout,Gr,Rn,Qe);var Kn=!Yt||Yt(Gr,En,Rn);if(Kn){var fa=new G0(Gr,this.z,this.x,this.y,cn);fa.layer=Un;var sa=D[_n];sa===void 0&&(sa=D[_n]=[]),sa.push({featureIndex:pe,feature:fa,intersectionZ:Kn})}}}}}},_c.prototype.lookupSymbolFeatures=function(D,W,ae,pe,Me,_e,Qe,dt){var Mt={};this.loadVTLayers();for(var Lt=Tf(Me),Yt=0,fr=D;Yt<fr.length;Yt+=1){var tr=fr[Yt];this.loadMatchingFeature(Mt,ae,pe,tr,Lt,_e,Qe,dt,W)}return Mt},_c.prototype.hasLayer=function(D){for(var W=0,ae=this.bucketLayerIDs;W<ae.length;W+=1)for(var pe=ae[W],Me=0,_e=pe;Me<_e.length;Me+=1){var Qe=_e[Me];if(D===Qe)return!0}return!1},_c.prototype.getId=function(D,W){var ae=D.id;if(this.promoteId){var pe=typeof this.promoteId=="string"?this.promoteId:this.promoteId[W];ae=D.properties[pe],typeof ae=="boolean"&&(ae=Number(ae))}return ae},ue("FeatureIndex",_c,{omit:["rawTileData","sourceLayerCoder"]});function Hb(_,D,W,ae,pe){return a(_,function(Me,_e){var Qe=D instanceof Bi?D.get(_e):null;return Qe&&Qe.evaluate?Qe.evaluate(W,ae,pe):Qe})}function Vb(_){for(var D=1/0,W=1/0,ae=-1/0,pe=-1/0,Me=0,_e=_;Me<_e.length;Me+=1){var Qe=_e[Me];D=Math.min(D,Qe.x),W=Math.min(W,Qe.y),ae=Math.max(ae,Qe.x),pe=Math.max(pe,Qe.y)}return{minX:D,minY:W,maxX:ae,maxY:pe}}function b6(_,D){return D-_}var w6=3e4,ms=function(D,W){this.tileID=D,this.uid=M(),this.uses=0,this.tileSize=W,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};ms.prototype.registerFadeDuration=function(D){var W=D+this.timeAdded;W<se.now()||this.fadeEndTime&&W<this.fadeEndTime||(this.fadeEndTime=W)},ms.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},ms.prototype.loadVectorData=function(D,W,ae){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!D){this.collisionBoxArray=new rc;return}D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=x6(D.buckets,W.style),this.hasSymbolBuckets=!1;for(var pe in this.buckets){var Me=this.buckets[pe];if(Me instanceof Yi)if(this.hasSymbolBuckets=!0,ae)Me.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var _e in this.buckets){var Qe=this.buckets[_e];if(Qe instanceof Yi&&Qe.hasRTLText){this.hasRTLText=!0,Oi();break}}this.queryPadding=0;for(var dt in this.buckets){var Mt=this.buckets[dt];this.queryPadding=Math.max(this.queryPadding,W.style.getLayer(dt).queryRadius(Mt))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)},ms.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},ms.prototype.getBucket=function(D){return this.buckets[D.id]},ms.prototype.upload=function(D){for(var W in this.buckets){var ae=this.buckets[W];ae.uploadPending()&&ae.upload(D)}var pe=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Qh(D,this.imageAtlas.image,pe.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Qh(D,this.glyphAtlasImage,pe.ALPHA),this.glyphAtlasImage=null)},ms.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},ms.prototype.queryRenderedFeatures=function(D,W,ae,pe,Me,_e,Qe,dt,Mt,Lt){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:pe,cameraQueryGeometry:Me,scale:_e,tileSize:this.tileSize,pixelPosMatrix:Lt,transform:dt,params:Qe,queryPadding:this.queryPadding*Mt},D,W,ae)},ms.prototype.querySourceFeatures=function(D,W){var ae=this.latestFeatureIndex;if(!(!ae||!ae.rawTileData)){var pe=ae.loadVTLayers(),Me=W?W.sourceLayer:"",_e=pe._geojsonTileLayer||pe[Me];if(_e)for(var Qe=Tf(W&&W.filter),dt=this.tileID.canonical,Mt=dt.z,Lt=dt.x,Yt=dt.y,fr={z:Mt,x:Lt,y:Yt},tr=0;tr<_e.length;tr++){var wr=_e.feature(tr);if(Qe.filter(new Xn(this.tileID.overscaledZ),wr)){var Gr=ae.getId(wr,Me),cn=new G0(wr,Mt,Lt,Yt,Gr);cn.tile=fr,D.push(cn)}}}},ms.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},ms.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},ms.prototype.setExpiryData=function(D){var W=this.expirationTime;if(D.cacheControl){var ae=H(D.cacheControl);ae["max-age"]&&(this.expirationTime=Date.now()+ae["max-age"]*1e3)}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var pe=Date.now(),Me=!1;if(this.expirationTime>pe)Me=!1;else if(!W)Me=!0;else if(this.expirationTime<W)Me=!0;else{var _e=this.expirationTime-W;_e?this.expirationTime=pe+Math.max(_e,w6):Me=!0}Me?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},ms.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},ms.prototype.setFeatureState=function(D,W){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(D).length===0)){var ae=this.latestFeatureIndex.loadVTLayers();for(var pe in this.buckets)if(W.style.hasLayer(pe)){var Me=this.buckets[pe],_e=Me.layers[0].sourceLayer||"_geojsonTileLayer",Qe=ae[_e],dt=D[_e];if(!(!Qe||!dt||Object.keys(dt).length===0)){Me.update(dt,Qe,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Mt=W&&W.style&&W.style.getLayer(pe);Mt&&(this.queryPadding=Math.max(this.queryPadding,Mt.queryRadius(Me)))}}}},ms.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},ms.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},ms.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},ms.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=se.now()+D},ms.prototype.setDependencies=function(D,W){for(var ae={},pe=0,Me=W;pe<Me.length;pe+=1){var _e=Me[pe];ae[_e]=!0}this.dependencies[D]=ae},ms.prototype.hasDependency=function(D,W){for(var ae=0,pe=D;ae<pe.length;ae+=1){var Me=pe[ae],_e=this.dependencies[Me];if(_e)for(var Qe=0,dt=W;Qe<dt.length;Qe+=1){var Mt=dt[Qe];if(_e[Mt])return!0}}return!1};var T6=["type","source","source-layer","minzoom","maxzoom","filter","layout"],dh=self.performance,Gb=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},dh.mark(this._marks.start)};Gb.prototype.finish=function(){dh.mark(this._marks.end);var D=dh.getEntriesByName(this._marks.measure);return D.length===0&&(dh.measure(this._marks.measure,this._marks.start,this._marks.end),D=dh.getEntriesByName(this._marks.measure),dh.clearMarks(this._marks.start),dh.clearMarks(this._marks.end),dh.clearMeasures(this._marks.measure)),D},i.Actor=Uv,i.AlphaImage=Jh,i.CanonicalTileID=qh,i.CollisionBoxArray=rc,i.Color=xi,i.DEMData=Rc,i.DataConstantProperty=Ca,i.DictionaryCoder=V0,i.EXTENT=Ua,i.ErrorEvent=lr,i.EvaluationParameters=Xn,i.Event=Xt,i.Evented=cr,i.FeatureIndex=_c,i.FillBucket=Pf,i.FillExtrusionBucket=Rf,i.ImageAtlas=ep,i.ImagePosition=I0,i.LineBucket=Pl,i.LngLat=mo,i.LngLatBounds=ts,i.MercatorCoordinate=$h,i.ONE_EM=Cs,i.OverscaledTileID=rs,i.Point=t,i.Point$1=t,i.Properties=Yo,i.Protobuf=D0,i.RGBAImage=Ll,i.RequestManager=Ce,i.RequestPerformance=Gb,i.ResourceType=bt,i.SegmentVector=Z,i.SourceFeatureState=Hv,i.StructArrayLayout1ui2=lh,i.StructArrayLayout2f1f2i16=Ef,i.StructArrayLayout2i4=Gh,i.StructArrayLayout3ui6=Cf,i.StructArrayLayout4i8=$f,i.SymbolBucket=Yi,i.Texture=Qh,i.Tile=ms,i.Transitionable=pi,i.Uniform1f=jr,i.Uniform1i=Xr,i.Uniform2f=tn,i.Uniform3f=vn,i.Uniform4f=kn,i.UniformColor=Gn,i.UniformMatrix4f=ra,i.UnwrappedTileID=Ub,i.ValidationError=Sr,i.WritingMode=lu,i.ZoomHistory=Dt,i.add=Ev,i.addDynamicAttributes=dm,i.asyncAll=h,i.bezier=s,i.bindAll=S,i.browser=se,i.cacheEntryPossiblyAdded=Gt,i.clamp=u,i.clearTileCache=Pt,i.clipLine=Ab,i.clone=S0,i.clone$1=w,i.clone$2=Zy,i.collisionCircleLayout=rS,i.config=Q,i.create=Av,i.create$1=Xh,i.create$2=Zh,i.createCommonjsModule=L,i.createExpression=Mu,i.createLayout=Qi,i.createStyleLayer=v6,i.cross=D4,i.deepEqual=l,i.dot=_4,i.dot$1=O4,i.ease=c,i.emitValidationErrors=Ba,i.endsWith=x,i.enforceCacheSizeLimit=jt,i.evaluateSizeForFeature=gb,i.evaluateSizeForZoom=yb,i.evaluateVariableOffset=Eb,i.evented=Pa,i.extend=o,i.featureFilter=Tf,i.filterObject=E,i.fromRotation=Tv,i.getAnchorAlignment=fm,i.getAnchorJustification=vm,i.getArrayBuffer=St,i.getImage=je,i.getJSON=wt,i.getRTLTextPluginStatus=ei,i.getReferrer=Zt,i.getVideo=We,i.identity=Mv,i.invert=fh,i.isChar=pt,i.isMapboxURL=be,i.keysDifference=f,i.makeRequest=ct,i.mapObject=a,i.mercatorXfromLng=Ob,i.mercatorYfromLat=Nb,i.mercatorZfromAltitude=Bb,i.mul=Yy,i.multiply=ch,i.mvt=Pv,i.normalize=jd,i.number=co,i.offscreenCanvasSupported=zr,i.ortho=jy,i.parseGlyphPBF=PS,i.pbf=D0,i.performSymbolLayout=ZS,i.perspective=Wd,i.pick=d,i.plugin=Ci,i.polygonIntersectsPolygon=ni,i.postMapLoadEvent=Be,i.postTurnstileEvent=Xe,i.potpack=lb,i.refProperties=T6,i.register=ue,i.registerForPluginStateChange=Na,i.rotate=Zs,i.rotateX=Cl,i.rotateZ=Sv,i.scale=El,i.scale$1=z4,i.scale$2=Ky,i.setCacheLimits=Qt,i.setRTLTextPlugin=Ja,i.sphericalToCartesian=B,i.sqrLen=U4,i.styleSpec=Kt,i.sub=I4,i.symbolSize=NS,i.transformMat3=k4,i.transformMat4=E0,i.translate=Bo,i.triggerPluginCompletionEvent=ga,i.uniqueId=M,i.validateCustomStyleLayer=f6,i.validateLight=Cn,i.validateStyle=Sn,i.values=b,i.vectorTile=Pv,i.version=T,i.warnOnce=U,i.webpSupported=ee,i.window=self,i.wrap=y}),R(["./shared"],function(i){function L(ht){var ct=typeof ht;if(ct==="number"||ct==="boolean"||ct==="string"||ht===void 0||ht===null)return JSON.stringify(ht);if(Array.isArray(ht)){for(var wt="[",St=0,Rt=ht;St<Rt.length;St+=1){var Ct=Rt[St];wt+=L(Ct)+","}return wt+"]"}for(var Ot=Object.keys(ht).sort(),Wt="{",er=0;er<Ot.length;er++)Wt+=JSON.stringify(Ot[er])+":"+L(ht[Ot[er]])+",";return Wt+"}"}function T(ht){for(var ct="",wt=0,St=i.refProperties;wt<St.length;wt+=1){var Rt=St[wt];ct+="/"+L(ht[Rt])}return ct}function v(ht,ct){for(var wt={},St=0;St<ht.length;St++){var Rt=ct&&ct[ht[St].id]||T(ht[St]);ct&&(ct[ht[St].id]=Rt);var Ct=wt[Rt];Ct||(Ct=wt[Rt]=[]),Ct.push(ht[St])}var Ot=[];for(var Wt in wt)Ot.push(wt[Wt]);return Ot}var p=function(ct){this.keyCache={},ct&&this.replace(ct)};p.prototype.replace=function(ct){this._layerConfigs={},this._layers={},this.update(ct,[])},p.prototype.update=function(ct,wt){for(var St=this,Rt=0,Ct=ct;Rt<Ct.length;Rt+=1){var Ot=Ct[Rt];this._layerConfigs[Ot.id]=Ot;var Wt=this._layers[Ot.id]=i.createStyleLayer(Ot);Wt._featureFilter=i.featureFilter(Wt.filter),this.keyCache[Ot.id]&&delete this.keyCache[Ot.id]}for(var er=0,$t=wt;er<$t.length;er+=1){var sr=$t[er];delete this.keyCache[sr],delete this._layerConfigs[sr],delete this._layers[sr]}this.familiesBySource={};for(var Cr=v(i.values(this._layerConfigs),this.keyCache),je=0,We=Cr;je<We.length;je+=1){var kt=We[je],zt=kt.map(function(vr){return St._layers[vr.id]}),Xt=zt[0];if(Xt.visibility!=="none"){var lr=Xt.source||"",cr=this.familiesBySource[lr];cr||(cr=this.familiesBySource[lr]={});var nr=Xt.sourceLayer||"_geojsonTileLayer",Bt=cr[nr];Bt||(Bt=cr[nr]=[]),Bt.push(zt)}}};var t=1,r=function(ct){var wt={},St=[];for(var Rt in ct){var Ct=ct[Rt],Ot=wt[Rt]={};for(var Wt in Ct){var er=Ct[+Wt];if(!(!er||er.bitmap.width===0||er.bitmap.height===0)){var $t={x:0,y:0,w:er.bitmap.width+2*t,h:er.bitmap.height+2*t};St.push($t),Ot[Wt]={rect:$t,metrics:er.metrics}}}}var sr=i.potpack(St),Cr=sr.w,je=sr.h,We=new i.AlphaImage({width:Cr||1,height:je||1});for(var kt in ct){var zt=ct[kt];for(var Xt in zt){var lr=zt[+Xt];if(!(!lr||lr.bitmap.width===0||lr.bitmap.height===0)){var cr=wt[kt][Xt].rect;i.AlphaImage.copy(lr.bitmap,We,{x:0,y:0},{x:cr.x+t,y:cr.y+t},lr.bitmap)}}}this.image=We,this.positions=wt};i.register("GlyphAtlas",r);var l=function(ct){this.tileID=new i.OverscaledTileID(ct.tileID.overscaledZ,ct.tileID.wrap,ct.tileID.canonical.z,ct.tileID.canonical.x,ct.tileID.canonical.y),this.uid=ct.uid,this.zoom=ct.zoom,this.pixelRatio=ct.pixelRatio,this.tileSize=ct.tileSize,this.source=ct.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ct.showCollisionBoxes,this.collectResourceTiming=!!ct.collectResourceTiming,this.returnDependencies=!!ct.returnDependencies,this.promoteId=ct.promoteId};l.prototype.parse=function(ct,wt,St,Rt,Ct){var Ot=this;this.status="parsing",this.data=ct,this.collisionBoxArray=new i.CollisionBoxArray;var Wt=new i.DictionaryCoder(Object.keys(ct.layers).sort()),er=new i.FeatureIndex(this.tileID,this.promoteId);er.bucketLayerIDs=[];var $t={},sr={featureIndex:er,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:St},Cr=wt.familiesBySource[this.source];for(var je in Cr){var We=ct.layers[je];if(We){We.version===1&&i.warnOnce('Vector tile source "'+this.source+'" layer "'+je+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var kt=Wt.encode(je),zt=[],Xt=0;Xt<We.length;Xt++){var lr=We.feature(Xt),cr=er.getId(lr,je);zt.push({feature:lr,id:cr,index:Xt,sourceLayerIndex:kt})}for(var nr=0,Bt=Cr[je];nr<Bt.length;nr+=1){var vr=Bt[nr],yr=vr[0];if(!(yr.minzoom&&this.zoom<Math.floor(yr.minzoom))&&!(yr.maxzoom&&this.zoom>=yr.maxzoom)&&yr.visibility!=="none"){n(vr,this.zoom,St);var mr=$t[yr.id]=yr.createBucket({index:er.bucketLayerIDs.length,layers:vr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:kt,sourceID:this.source});mr.populate(zt,sr,this.tileID.canonical),er.bucketLayerIDs.push(vr.map(function(Tr){return Tr.id}))}}}}var gr,Zr,Ur,Br,Tn=i.mapObject(sr.glyphDependencies,function(Tr){return Object.keys(Tr).map(Number)});Object.keys(Tn).length?Rt.send("getGlyphs",{uid:this.uid,stacks:Tn},function(Tr,Mr){gr||(gr=Tr,Zr=Mr,On.call(Ot))}):Zr={};var Kr=Object.keys(sr.iconDependencies);Kr.length?Rt.send("getImages",{icons:Kr,source:this.source,tileID:this.tileID,type:"icons"},function(Tr,Mr){gr||(gr=Tr,Ur=Mr,On.call(Ot))}):Ur={};var Bn=Object.keys(sr.patternDependencies);Bn.length?Rt.send("getImages",{icons:Bn,source:this.source,tileID:this.tileID,type:"patterns"},function(Tr,Mr){gr||(gr=Tr,Br=Mr,On.call(Ot))}):Br={},On.call(this);function On(){if(gr)return Ct(gr);if(Zr&&Ur&&Br){var Tr=new r(Zr),Mr=new i.ImageAtlas(Ur,Br);for(var Hr in $t){var Vr=$t[Hr];Vr instanceof i.SymbolBucket?(n(Vr.layers,this.zoom,St),i.performSymbolLayout(Vr,Zr,Tr.positions,Ur,Mr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Vr.hasPattern&&(Vr instanceof i.LineBucket||Vr instanceof i.FillBucket||Vr instanceof i.FillExtrusionBucket)&&(n(Vr.layers,this.zoom,St),Vr.addFeatures(sr,this.tileID.canonical,Mr.patternPositions))}this.status="done",Ct(null,{buckets:i.values($t).filter(function(nn){return!nn.isEmpty()}),featureIndex:er,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Tr.image,imageAtlas:Mr,glyphMap:this.returnDependencies?Zr:null,iconMap:this.returnDependencies?Ur:null,glyphPositions:this.returnDependencies?Tr.positions:null})}}};function n(ht,ct,wt){for(var St=new i.EvaluationParameters(ct),Rt=0,Ct=ht;Rt<Ct.length;Rt+=1){var Ot=Ct[Rt];Ot.recalculate(St,wt)}}function s(ht,ct){var wt=i.getArrayBuffer(ht.request,function(St,Rt,Ct,Ot){St?ct(St):Rt&&ct(null,{vectorTile:new i.vectorTile.VectorTile(new i.pbf(Rt)),rawData:Rt,cacheControl:Ct,expires:Ot})});return function(){wt.cancel(),ct()}}var c=function(ct,wt,St,Rt){this.actor=ct,this.layerIndex=wt,this.availableImages=St,this.loadVectorData=Rt||s,this.loading={},this.loaded={}};c.prototype.loadTile=function(ct,wt){var St=this,Rt=ct.uid;this.loading||(this.loading={});var Ct=ct&&ct.request&&ct.request.collectResourceTiming?new i.RequestPerformance(ct.request):!1,Ot=this.loading[Rt]=new l(ct);Ot.abort=this.loadVectorData(ct,function(Wt,er){if(delete St.loading[Rt],Wt||!er)return Ot.status="done",St.loaded[Rt]=Ot,wt(Wt);var $t=er.rawData,sr={};er.expires&&(sr.expires=er.expires),er.cacheControl&&(sr.cacheControl=er.cacheControl);var Cr={};if(Ct){var je=Ct.finish();je&&(Cr.resourceTiming=JSON.parse(JSON.stringify(je)))}Ot.vectorTile=er.vectorTile,Ot.parse(er.vectorTile,St.layerIndex,St.availableImages,St.actor,function(We,kt){if(We||!kt)return wt(We);wt(null,i.extend({rawTileData:$t.slice(0)},kt,sr,Cr))}),St.loaded=St.loaded||{},St.loaded[Rt]=Ot})},c.prototype.reloadTile=function(ct,wt){var St=this,Rt=this.loaded,Ct=ct.uid,Ot=this;if(Rt&&Rt[Ct]){var Wt=Rt[Ct];Wt.showCollisionBoxes=ct.showCollisionBoxes;var er=function($t,sr){var Cr=Wt.reloadCallback;Cr&&(delete Wt.reloadCallback,Wt.parse(Wt.vectorTile,Ot.layerIndex,St.availableImages,Ot.actor,Cr)),wt($t,sr)};Wt.status==="parsing"?Wt.reloadCallback=er:Wt.status==="done"&&(Wt.vectorTile?Wt.parse(Wt.vectorTile,this.layerIndex,this.availableImages,this.actor,er):er())}},c.prototype.abortTile=function(ct,wt){var St=this.loading,Rt=ct.uid;St&&St[Rt]&&St[Rt].abort&&(St[Rt].abort(),delete St[Rt]),wt()},c.prototype.removeTile=function(ct,wt){var St=this.loaded,Rt=ct.uid;St&&St[Rt]&&delete St[Rt],wt()};var u=i.window.ImageBitmap,y=function(){this.loaded={}};y.prototype.loadTile=function(ct,wt){var St=ct.uid,Rt=ct.encoding,Ct=ct.rawImageData,Ot=u&&Ct instanceof u?this.getImageData(Ct):Ct,Wt=new i.DEMData(St,Ot,Rt);this.loaded=this.loaded||{},this.loaded[St]=Wt,wt(null,Wt)},y.prototype.getImageData=function(ct){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(ct.width,ct.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=ct.width,this.offscreenCanvas.height=ct.height,this.offscreenCanvasContext.drawImage(ct,0,0,ct.width,ct.height);var wt=this.offscreenCanvasContext.getImageData(-1,-1,ct.width+2,ct.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new i.RGBAImage({width:wt.width,height:wt.height},wt.data)},y.prototype.removeTile=function(ct){var wt=this.loaded,St=ct.uid;wt&&wt[St]&&delete wt[St]};var h=b;function b(ht,ct){var wt=ht&&ht.type,St;if(wt==="FeatureCollection")for(St=0;St<ht.features.length;St++)b(ht.features[St],ct);else if(wt==="GeometryCollection")for(St=0;St<ht.geometries.length;St++)b(ht.geometries[St],ct);else if(wt==="Feature")b(ht.geometry,ct);else if(wt==="Polygon")f(ht.coordinates,ct);else if(wt==="MultiPolygon")for(St=0;St<ht.coordinates.length;St++)f(ht.coordinates[St],ct);return ht}function f(ht,ct){if(ht.length!==0){o(ht[0],ct);for(var wt=1;wt<ht.length;wt++)o(ht[wt],!ct)}}function o(ht,ct){for(var wt=0,St=0,Rt=ht.length,Ct=Rt-1;St<Rt;Ct=St++)wt+=(ht[St][0]-ht[Ct][0])*(ht[Ct][1]+ht[St][1]);wt>=0!=!!ct&&ht.reverse()}var d=i.vectorTile.VectorTileFeature.prototype.toGeoJSON,A=function(ct){this._feature=ct,this.extent=i.EXTENT,this.type=ct.type,this.properties=ct.tags,"id"in ct&&!isNaN(ct.id)&&(this.id=parseInt(ct.id,10))};A.prototype.loadGeometry=function(){if(this._feature.type===1){for(var ct=[],wt=0,St=this._feature.geometry;wt<St.length;wt+=1){var Rt=St[wt];ct.push([new i.Point$1(Rt[0],Rt[1])])}return ct}else{for(var Ct=[],Ot=0,Wt=this._feature.geometry;Ot<Wt.length;Ot+=1){for(var er=Wt[Ot],$t=[],sr=0,Cr=er;sr<Cr.length;sr+=1){var je=Cr[sr];$t.push(new i.Point$1(je[0],je[1]))}Ct.push($t)}return Ct}},A.prototype.toGeoJSON=function(ct,wt,St){return d.call(this,ct,wt,St)};var M=function(ct){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=i.EXTENT,this.length=ct.length,this._features=ct};M.prototype.feature=function(ct){return new A(this._features[ct])};var C=i.vectorTile.VectorTileFeature,m=S;function S(ht,ct){this.options=ct||{},this.features=ht,this.length=ht.length}S.prototype.feature=function(ht){return new x(this.features[ht],this.options.extent)};function x(ht,ct){this.id=typeof ht.id=="number"?ht.id:void 0,this.type=ht.type,this.rawGeometry=ht.type===1?[ht.geometry]:ht.geometry,this.properties=ht.tags,this.extent=ct||4096}x.prototype.loadGeometry=function(){var ht=this.rawGeometry;this.geometry=[];for(var ct=0;ct<ht.length;ct++){for(var wt=ht[ct],St=[],Rt=0;Rt<wt.length;Rt++)St.push(new i.Point$1(wt[Rt][0],wt[Rt][1]));this.geometry.push(St)}return this.geometry},x.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ht=this.geometry,ct=1/0,wt=-1/0,St=1/0,Rt=-1/0,Ct=0;Ct<ht.length;Ct++)for(var Ot=ht[Ct],Wt=0;Wt<Ot.length;Wt++){var er=Ot[Wt];ct=Math.min(ct,er.x),wt=Math.max(wt,er.x),St=Math.min(St,er.y),Rt=Math.max(Rt,er.y)}return[ct,St,wt,Rt]},x.prototype.toGeoJSON=C.prototype.toGeoJSON;var a=I,E=I,w=U,k=m;function I(ht){var ct=new i.pbf;return z(ht,ct),ct.finish()}function U(ht,ct){ct=ct||{};var wt={};for(var St in ht)wt[St]=new m(ht[St].features,ct),wt[St].name=St,wt[St].version=ct.version,wt[St].extent=ct.extent;return I({layers:wt})}function z(ht,ct){for(var wt in ht.layers)ct.writeMessage(3,N,ht.layers[wt])}function N(ht,ct){ct.writeVarintField(15,ht.version||1),ct.writeStringField(1,ht.name||""),ct.writeVarintField(5,ht.extent||4096);var wt,St={keys:[],values:[],keycache:{},valuecache:{}};for(wt=0;wt<ht.length;wt++)St.feature=ht.feature(wt),ct.writeMessage(2,B,St);var Rt=St.keys;for(wt=0;wt<Rt.length;wt++)ct.writeStringField(3,Rt[wt]);var Ct=St.values;for(wt=0;wt<Ct.length;wt++)ct.writeMessage(4,ne,Ct[wt])}function B(ht,ct){var wt=ht.feature;wt.id!==void 0&&ct.writeVarintField(1,wt.id),ct.writeMessage(2,F,ht),ct.writeVarintField(3,wt.type),ct.writeMessage(4,q,wt)}function F(ht,ct){var wt=ht.feature,St=ht.keys,Rt=ht.values,Ct=ht.keycache,Ot=ht.valuecache;for(var Wt in wt.properties){var er=Ct[Wt];typeof er>"u"&&(St.push(Wt),er=St.length-1,Ct[Wt]=er),ct.writeVarint(er);var $t=wt.properties[Wt],sr=typeof $t;sr!=="string"&&sr!=="boolean"&&sr!=="number"&&($t=JSON.stringify($t));var Cr=sr+":"+$t,je=Ot[Cr];typeof je>"u"&&(Rt.push($t),je=Rt.length-1,Ot[Cr]=je),ct.writeVarint(je)}}function H(ht,ct){return(ct<<3)+(ht&7)}function X(ht){return ht<<1^ht>>31}function q(ht,ct){for(var wt=ht.loadGeometry(),St=ht.type,Rt=0,Ct=0,Ot=wt.length,Wt=0;Wt<Ot;Wt++){var er=wt[Wt],$t=1;St===1&&($t=er.length),ct.writeVarint(H(1,$t));for(var sr=St===3?er.length-1:er.length,Cr=0;Cr<sr;Cr++){Cr===1&&St!==1&&ct.writeVarint(H(2,sr-1));var je=er[Cr].x-Rt,We=er[Cr].y-Ct;ct.writeVarint(X(je)),ct.writeVarint(X(We)),Rt+=je,Ct+=We}St===3&&ct.writeVarint(H(7,1))}}function ne(ht,ct){var wt=typeof ht;wt==="string"?ct.writeStringField(1,ht):wt==="boolean"?ct.writeBooleanField(7,ht):wt==="number"&&(ht%1!==0?ct.writeDoubleField(3,ht):ht<0?ct.writeSVarintField(6,ht):ct.writeVarintField(5,ht))}a.fromVectorTileJs=E,a.fromGeojsonVt=w,a.GeoJSONWrapper=k;function oe(ht,ct,wt,St,Rt,Ct){if(!(Rt-St<=wt)){var Ot=St+Rt>>1;ve(ht,ct,Ot,St,Rt,Ct%2),oe(ht,ct,wt,St,Ot-1,Ct+1),oe(ht,ct,wt,Ot+1,Rt,Ct+1)}}function ve(ht,ct,wt,St,Rt,Ct){for(;Rt>St;){if(Rt-St>600){var Ot=Rt-St+1,Wt=wt-St+1,er=Math.log(Ot),$t=.5*Math.exp(2*er/3),sr=.5*Math.sqrt(er*$t*(Ot-$t)/Ot)*(Wt-Ot/2<0?-1:1),Cr=Math.max(St,Math.floor(wt-Wt*$t/Ot+sr)),je=Math.min(Rt,Math.floor(wt+(Ot-Wt)*$t/Ot+sr));ve(ht,ct,wt,Cr,je,Ct)}var We=ct[2*wt+Ct],kt=St,zt=Rt;for(J(ht,ct,St,wt),ct[2*Rt+Ct]>We&&J(ht,ct,St,Rt);kt<zt;){for(J(ht,ct,kt,zt),kt++,zt--;ct[2*kt+Ct]<We;)kt++;for(;ct[2*zt+Ct]>We;)zt--}ct[2*St+Ct]===We?J(ht,ct,St,zt):(zt++,J(ht,ct,zt,Rt)),zt<=wt&&(St=zt+1),wt<=zt&&(Rt=zt-1)}}function J(ht,ct,wt,St){Y(ht,wt,St),Y(ct,2*wt,2*St),Y(ct,2*wt+1,2*St+1)}function Y(ht,ct,wt){var St=ht[ct];ht[ct]=ht[wt],ht[wt]=St}function j(ht,ct,wt,St,Rt,Ct,Ot){for(var Wt=[0,ht.length-1,0],er=[],$t,sr;Wt.length;){var Cr=Wt.pop(),je=Wt.pop(),We=Wt.pop();if(je-We<=Ot){for(var kt=We;kt<=je;kt++)$t=ct[2*kt],sr=ct[2*kt+1],$t>=wt&&$t<=Rt&&sr>=St&&sr<=Ct&&er.push(ht[kt]);continue}var zt=Math.floor((We+je)/2);$t=ct[2*zt],sr=ct[2*zt+1],$t>=wt&&$t<=Rt&&sr>=St&&sr<=Ct&&er.push(ht[zt]);var Xt=(Cr+1)%2;(Cr===0?wt<=$t:St<=sr)&&(Wt.push(We),Wt.push(zt-1),Wt.push(Xt)),(Cr===0?Rt>=$t:Ct>=sr)&&(Wt.push(zt+1),Wt.push(je),Wt.push(Xt))}return er}function K(ht,ct,wt,St,Rt,Ct){for(var Ot=[0,ht.length-1,0],Wt=[],er=Rt*Rt;Ot.length;){var $t=Ot.pop(),sr=Ot.pop(),Cr=Ot.pop();if(sr-Cr<=Ct){for(var je=Cr;je<=sr;je++)te(ct[2*je],ct[2*je+1],wt,St)<=er&&Wt.push(ht[je]);continue}var We=Math.floor((Cr+sr)/2),kt=ct[2*We],zt=ct[2*We+1];te(kt,zt,wt,St)<=er&&Wt.push(ht[We]);var Xt=($t+1)%2;($t===0?wt-Rt<=kt:St-Rt<=zt)&&(Ot.push(Cr),Ot.push(We-1),Ot.push(Xt)),($t===0?wt+Rt>=kt:St+Rt>=zt)&&(Ot.push(We+1),Ot.push(sr),Ot.push(Xt))}return Wt}function te(ht,ct,wt,St){var Rt=ht-wt,Ct=ct-St;return Rt*Rt+Ct*Ct}var se=function(ht){return ht[0]},Q=function(ht){return ht[1]},ee=function(ct,wt,St,Rt,Ct){wt===void 0&&(wt=se),St===void 0&&(St=Q),Rt===void 0&&(Rt=64),Ct===void 0&&(Ct=Float64Array),this.nodeSize=Rt,this.points=ct;for(var Ot=ct.length<65536?Uint16Array:Uint32Array,Wt=this.ids=new Ot(ct.length),er=this.coords=new Ct(ct.length*2),$t=0;$t<ct.length;$t++)Wt[$t]=$t,er[2*$t]=wt(ct[$t]),er[2*$t+1]=St(ct[$t]);oe(Wt,er,Rt,0,Wt.length-1,0)};ee.prototype.range=function(ct,wt,St,Rt){return j(this.ids,this.coords,ct,wt,St,Rt,this.nodeSize)},ee.prototype.within=function(ct,wt,St){return K(this.ids,this.coords,ct,wt,St,this.nodeSize)};var le={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(ht){return ht}},ie=function(ct){this.options=we(Object.create(le),ct),this.trees=new Array(this.options.maxZoom+1)};ie.prototype.load=function(ct){var wt=this.options,St=wt.log,Rt=wt.minZoom,Ct=wt.maxZoom,Ot=wt.nodeSize;St&&console.time("total time");var Wt="prepare "+ct.length+" points";St&&console.time(Wt),this.points=ct;for(var er=[],$t=0;$t<ct.length;$t++)ct[$t].geometry&&er.push(xe(ct[$t],$t));this.trees[Ct+1]=new ee(er,ke,Fe,Ot,Float32Array),St&&console.timeEnd(Wt);for(var sr=Ct;sr>=Rt;sr--){var Cr=+Date.now();er=this._cluster(er,sr),this.trees[sr]=new ee(er,ke,Fe,Ot,Float32Array),St&&console.log("z%d: %d clusters in %dms",sr,er.length,+Date.now()-Cr)}return St&&console.timeEnd("total time"),this},ie.prototype.getClusters=function(ct,wt){var St=((ct[0]+180)%360+360)%360-180,Rt=Math.max(-90,Math.min(90,ct[1])),Ct=ct[2]===180?180:((ct[2]+180)%360+360)%360-180,Ot=Math.max(-90,Math.min(90,ct[3]));if(ct[2]-ct[0]>=360)St=-180,Ct=180;else if(St>Ct){var Wt=this.getClusters([St,Rt,180,Ot],wt),er=this.getClusters([-180,Rt,Ct,Ot],wt);return Wt.concat(er)}for(var $t=this.trees[this._limitZoom(wt)],sr=$t.range(Ne(St),He(Ot),Ne(Ct),He(Rt)),Cr=[],je=0,We=sr;je<We.length;je+=1){var kt=We[je],zt=$t.points[kt];Cr.push(zt.numPoints?Se(zt):this.points[zt.index])}return Cr},ie.prototype.getChildren=function(ct){var wt=this._getOriginId(ct),St=this._getOriginZoom(ct),Rt="No cluster with the specified id.",Ct=this.trees[St];if(!Ct)throw new Error(Rt);var Ot=Ct.points[wt];if(!Ot)throw new Error(Rt);for(var Wt=this.options.radius/(this.options.extent*Math.pow(2,St-1)),er=Ct.within(Ot.x,Ot.y,Wt),$t=[],sr=0,Cr=er;sr<Cr.length;sr+=1){var je=Cr[sr],We=Ct.points[je];We.parentId===ct&&$t.push(We.numPoints?Se(We):this.points[We.index])}if($t.length===0)throw new Error(Rt);return $t},ie.prototype.getLeaves=function(ct,wt,St){wt=wt||10,St=St||0;var Rt=[];return this._appendLeaves(Rt,ct,wt,St,0),Rt},ie.prototype.getTile=function(ct,wt,St){var Rt=this.trees[this._limitZoom(ct)],Ct=Math.pow(2,ct),Ot=this.options,Wt=Ot.extent,er=Ot.radius,$t=er/Wt,sr=(St-$t)/Ct,Cr=(St+1+$t)/Ct,je={features:[]};return this._addTileFeatures(Rt.range((wt-$t)/Ct,sr,(wt+1+$t)/Ct,Cr),Rt.points,wt,St,Ct,je),wt===0&&this._addTileFeatures(Rt.range(1-$t/Ct,sr,1,Cr),Rt.points,Ct,St,Ct,je),wt===Ct-1&&this._addTileFeatures(Rt.range(0,sr,$t/Ct,Cr),Rt.points,-1,St,Ct,je),je.features.length?je:null},ie.prototype.getClusterExpansionZoom=function(ct){for(var wt=this._getOriginZoom(ct)-1;wt<=this.options.maxZoom;){var St=this.getChildren(ct);if(wt++,St.length!==1)break;ct=St[0].properties.cluster_id}return wt},ie.prototype._appendLeaves=function(ct,wt,St,Rt,Ct){for(var Ot=this.getChildren(wt),Wt=0,er=Ot;Wt<er.length;Wt+=1){var $t=er[Wt],sr=$t.properties;if(sr&&sr.cluster?Ct+sr.point_count<=Rt?Ct+=sr.point_count:Ct=this._appendLeaves(ct,sr.cluster_id,St,Rt,Ct):Ct<Rt?Ct++:ct.push($t),ct.length===St)break}return Ct},ie.prototype._addTileFeatures=function(ct,wt,St,Rt,Ct,Ot){for(var Wt=0,er=ct;Wt<er.length;Wt+=1){var $t=er[Wt],sr=wt[$t],Cr=sr.numPoints,je={type:1,geometry:[[Math.round(this.options.extent*(sr.x*Ct-St)),Math.round(this.options.extent*(sr.y*Ct-Rt))]],tags:Cr?Ee(sr):this.points[sr.index].properties},We=void 0;Cr?We=sr.id:this.options.generateId?We=sr.index:this.points[sr.index].id&&(We=this.points[sr.index].id),We!==void 0&&(je.id=We),Ot.features.push(je)}},ie.prototype._limitZoom=function(ct){return Math.max(this.options.minZoom,Math.min(ct,this.options.maxZoom+1))},ie.prototype._cluster=function(ct,wt){for(var St=[],Rt=this.options,Ct=Rt.radius,Ot=Rt.extent,Wt=Rt.reduce,er=Ct/(Ot*Math.pow(2,wt)),$t=0;$t<ct.length;$t++){var sr=ct[$t];if(!(sr.zoom<=wt)){sr.zoom=wt;for(var Cr=this.trees[wt+1],je=Cr.within(sr.x,sr.y,er),We=sr.numPoints||1,kt=sr.x*We,zt=sr.y*We,Xt=Wt&&We>1?this._map(sr,!0):null,lr=($t<<5)+(wt+1)+this.points.length,cr=0,nr=je;cr<nr.length;cr+=1){var Bt=nr[cr],vr=Cr.points[Bt];if(!(vr.zoom<=wt)){vr.zoom=wt;var yr=vr.numPoints||1;kt+=vr.x*yr,zt+=vr.y*yr,We+=yr,vr.parentId=lr,Wt&&(Xt||(Xt=this._map(sr,!0)),Wt(Xt,this._map(vr)))}}We===1?St.push(sr):(sr.parentId=lr,St.push(he(kt/We,zt/We,lr,We,Xt)))}}return St},ie.prototype._getOriginId=function(ct){return ct-this.points.length>>5},ie.prototype._getOriginZoom=function(ct){return(ct-this.points.length)%32},ie.prototype._map=function(ct,wt){if(ct.numPoints)return wt?we({},ct.properties):ct.properties;var St=this.points[ct.index].properties,Rt=this.options.map(St);return wt&&Rt===St?we({},Rt):Rt};function he(ht,ct,wt,St,Rt){return{x:ht,y:ct,zoom:1/0,id:wt,parentId:-1,numPoints:St,properties:Rt}}function xe(ht,ct){var wt=ht.geometry.coordinates,St=wt[0],Rt=wt[1];return{x:Ne(St),y:He(Rt),zoom:1/0,index:ct,parentId:-1}}function Se(ht){return{type:"Feature",id:ht.id,properties:Ee(ht),geometry:{type:"Point",coordinates:[Ce(ht.x),be(ht.y)]}}}function Ee(ht){var ct=ht.numPoints,wt=ct>=1e4?Math.round(ct/1e3)+"k":ct>=1e3?Math.round(ct/100)/10+"k":ct;return we(we({},ht.properties),{cluster:!0,cluster_id:ht.id,point_count:ct,point_count_abbreviated:wt})}function Ne(ht){return ht/360+.5}function He(ht){var ct=Math.sin(ht*Math.PI/180),wt=.5-.25*Math.log((1+ct)/(1-ct))/Math.PI;return wt<0?0:wt>1?1:wt}function Ce(ht){return(ht-.5)*360}function be(ht){var ct=(180-ht*360)*Math.PI/180;return 360*Math.atan(Math.exp(ct))/Math.PI-90}function we(ht,ct){for(var wt in ct)ht[wt]=ct[wt];return ht}function ke(ht){return ht.x}function Fe(ht){return ht.y}function Pe(ht,ct,wt,St){for(var Rt=St,Ct=wt-ct>>1,Ot=wt-ct,Wt,er=ht[ct],$t=ht[ct+1],sr=ht[wt],Cr=ht[wt+1],je=ct+3;je<wt;je+=3){var We=Ge(ht[je],ht[je+1],er,$t,sr,Cr);if(We>Rt)Wt=je,Rt=We;else if(We===Rt){var kt=Math.abs(je-Ct);kt<Ot&&(Wt=je,Ot=kt)}}Rt>St&&(Wt-ct>3&&Pe(ht,ct,Wt,St),ht[Wt+2]=Rt,wt-Wt>3&&Pe(ht,Wt,wt,St))}function Ge(ht,ct,wt,St,Rt,Ct){var Ot=Rt-wt,Wt=Ct-St;if(Ot!==0||Wt!==0){var er=((ht-wt)*Ot+(ct-St)*Wt)/(Ot*Ot+Wt*Wt);er>1?(wt=Rt,St=Ct):er>0&&(wt+=Ot*er,St+=Wt*er)}return Ot=ht-wt,Wt=ct-St,Ot*Ot+Wt*Wt}function nt(ht,ct,wt,St){var Rt={id:typeof ht>"u"?null:ht,type:ct,geometry:wt,tags:St,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return qe(Rt),Rt}function qe(ht){var ct=ht.geometry,wt=ht.type;if(wt==="Point"||wt==="MultiPoint"||wt==="LineString")Ke(ht,ct);else if(wt==="Polygon"||wt==="MultiLineString")for(var St=0;St<ct.length;St++)Ke(ht,ct[St]);else if(wt==="MultiPolygon")for(St=0;St<ct.length;St++)for(var Rt=0;Rt<ct[St].length;Rt++)Ke(ht,ct[St][Rt])}function Ke(ht,ct){for(var wt=0;wt<ct.length;wt+=3)ht.minX=Math.min(ht.minX,ct[wt]),ht.minY=Math.min(ht.minY,ct[wt+1]),ht.maxX=Math.max(ht.maxX,ct[wt]),ht.maxY=Math.max(ht.maxY,ct[wt+1])}function $e(ht,ct){var wt=[];if(ht.type==="FeatureCollection")for(var St=0;St<ht.features.length;St++)vt(wt,ht.features[St],ct,St);else ht.type==="Feature"?vt(wt,ht,ct):vt(wt,{geometry:ht},ct);return wt}function vt(ht,ct,wt,St){if(ct.geometry){var Rt=ct.geometry.coordinates,Ct=ct.geometry.type,Ot=Math.pow(wt.tolerance/((1<<wt.maxZoom)*wt.extent),2),Wt=[],er=ct.id;if(wt.promoteId?er=ct.properties[wt.promoteId]:wt.generateId&&(er=St||0),Ct==="Point")yt(Rt,Wt);else if(Ct==="MultiPoint")for(var $t=0;$t<Rt.length;$t++)yt(Rt[$t],Wt);else if(Ct==="LineString")mt(Rt,Wt,Ot,!1);else if(Ct==="MultiLineString")if(wt.lineMetrics){for($t=0;$t<Rt.length;$t++)Wt=[],mt(Rt[$t],Wt,Ot,!1),ht.push(nt(er,"LineString",Wt,ct.properties));return}else Et(Rt,Wt,Ot,!1);else if(Ct==="Polygon")Et(Rt,Wt,Ot,!0);else if(Ct==="MultiPolygon")for($t=0;$t<Rt.length;$t++){var sr=[];Et(Rt[$t],sr,Ot,!0),Wt.push(sr)}else if(Ct==="GeometryCollection"){for($t=0;$t<ct.geometry.geometries.length;$t++)vt(ht,{id:er,geometry:ct.geometry.geometries[$t],properties:ct.properties},wt,St);return}else throw new Error("Input data is not a valid GeoJSON object.");ht.push(nt(er,Ct,Wt,ct.properties))}}function yt(ht,ct){ct.push(Xe(ht[0])),ct.push(Ue(ht[1])),ct.push(0)}function mt(ht,ct,wt,St){for(var Rt,Ct,Ot=0,Wt=0;Wt<ht.length;Wt++){var er=Xe(ht[Wt][0]),$t=Ue(ht[Wt][1]);ct.push(er),ct.push($t),ct.push(0),Wt>0&&(St?Ot+=(Rt*$t-er*Ct)/2:Ot+=Math.sqrt(Math.pow(er-Rt,2)+Math.pow($t-Ct,2))),Rt=er,Ct=$t}var sr=ct.length-3;ct[2]=1,Pe(ct,0,sr,wt),ct[sr+2]=1,ct.size=Math.abs(Ot),ct.start=0,ct.end=ct.size}function Et(ht,ct,wt,St){for(var Rt=0;Rt<ht.length;Rt++){var Ct=[];mt(ht[Rt],Ct,wt,St),ct.push(Ct)}}function Xe(ht){return ht/360+.5}function Ue(ht){var ct=Math.sin(ht*Math.PI/180),wt=.5-.25*Math.log((1+ct)/(1-ct))/Math.PI;return wt<0?0:wt>1?1:wt}function Be(ht,ct,wt,St,Rt,Ct,Ot,Wt){if(wt/=ct,St/=ct,Ct>=wt&&Ot<St)return ht;if(Ot<wt||Ct>=St)return null;for(var er=[],$t=0;$t<ht.length;$t++){var sr=ht[$t],Cr=sr.geometry,je=sr.type,We=Rt===0?sr.minX:sr.minY,kt=Rt===0?sr.maxX:sr.maxY;if(We>=wt&&kt<St){er.push(sr);continue}else if(kt<wt||We>=St)continue;var zt=[];if(je==="Point"||je==="MultiPoint")rt(Cr,zt,wt,St,Rt);else if(je==="LineString")it(Cr,zt,wt,St,Rt,!1,Wt.lineMetrics);else if(je==="MultiLineString")De(Cr,zt,wt,St,Rt,!1);else if(je==="Polygon")De(Cr,zt,wt,St,Rt,!0);else if(je==="MultiPolygon")for(var Xt=0;Xt<Cr.length;Xt++){var lr=[];De(Cr[Xt],lr,wt,St,Rt,!0),lr.length&&zt.push(lr)}if(zt.length){if(Wt.lineMetrics&&je==="LineString"){for(Xt=0;Xt<zt.length;Xt++)er.push(nt(sr.id,je,zt[Xt],sr.tags));continue}(je==="LineString"||je==="MultiLineString")&&(zt.length===1?(je="LineString",zt=zt[0]):je="MultiLineString"),(je==="Point"||je==="MultiPoint")&&(je=zt.length===3?"Point":"MultiPoint"),er.push(nt(sr.id,je,zt,sr.tags))}}return er.length?er:null}function rt(ht,ct,wt,St,Rt){for(var Ct=0;Ct<ht.length;Ct+=3){var Ot=ht[Ct+Rt];Ot>=wt&&Ot<=St&&(ct.push(ht[Ct]),ct.push(ht[Ct+1]),ct.push(ht[Ct+2]))}}function it(ht,ct,wt,St,Rt,Ct,Ot){for(var Wt=Ye(ht),er=Rt===0?fe:me,$t=ht.start,sr,Cr,je=0;je<ht.length-3;je+=3){var We=ht[je],kt=ht[je+1],zt=ht[je+2],Xt=ht[je+3],lr=ht[je+4],cr=Rt===0?We:kt,nr=Rt===0?Xt:lr,Bt=!1;Ot&&(sr=Math.sqrt(Math.pow(We-Xt,2)+Math.pow(kt-lr,2))),cr<wt?nr>wt&&(Cr=er(Wt,We,kt,Xt,lr,wt),Ot&&(Wt.start=$t+sr*Cr)):cr>St?nr<St&&(Cr=er(Wt,We,kt,Xt,lr,St),Ot&&(Wt.start=$t+sr*Cr)):Te(Wt,We,kt,zt),nr<wt&&cr>=wt&&(Cr=er(Wt,We,kt,Xt,lr,wt),Bt=!0),nr>St&&cr<=St&&(Cr=er(Wt,We,kt,Xt,lr,St),Bt=!0),!Ct&&Bt&&(Ot&&(Wt.end=$t+sr*Cr),ct.push(Wt),Wt=Ye(ht)),Ot&&($t+=sr)}var vr=ht.length-3;We=ht[vr],kt=ht[vr+1],zt=ht[vr+2],cr=Rt===0?We:kt,cr>=wt&&cr<=St&&Te(Wt,We,kt,zt),vr=Wt.length-3,Ct&&vr>=3&&(Wt[vr]!==Wt[0]||Wt[vr+1]!==Wt[1])&&Te(Wt,Wt[0],Wt[1],Wt[2]),Wt.length&&ct.push(Wt)}function Ye(ht){var ct=[];return ct.size=ht.size,ct.start=ht.start,ct.end=ht.end,ct}function De(ht,ct,wt,St,Rt,Ct){for(var Ot=0;Ot<ht.length;Ot++)it(ht[Ot],ct,wt,St,Rt,Ct,!1)}function Te(ht,ct,wt,St){ht.push(ct),ht.push(wt),ht.push(St)}function fe(ht,ct,wt,St,Rt,Ct){var Ot=(Ct-ct)/(St-ct);return ht.push(Ct),ht.push(wt+(Rt-wt)*Ot),ht.push(1),Ot}function me(ht,ct,wt,St,Rt,Ct){var Ot=(Ct-wt)/(Rt-wt);return ht.push(ct+(St-ct)*Ot),ht.push(Ct),ht.push(1),Ot}function Re(ht,ct){var wt=ct.buffer/ct.extent,St=ht,Rt=Be(ht,1,-1-wt,wt,0,-1,2,ct),Ct=Be(ht,1,1-wt,2+wt,0,-1,2,ct);return(Rt||Ct)&&(St=Be(ht,1,-wt,1+wt,0,-1,2,ct)||[],Rt&&(St=Oe(Rt,1).concat(St)),Ct&&(St=St.concat(Oe(Ct,-1)))),St}function Oe(ht,ct){for(var wt=[],St=0;St<ht.length;St++){var Rt=ht[St],Ct=Rt.type,Ot;if(Ct==="Point"||Ct==="MultiPoint"||Ct==="LineString")Ot=st(Rt.geometry,ct);else if(Ct==="MultiLineString"||Ct==="Polygon"){Ot=[];for(var Wt=0;Wt<Rt.geometry.length;Wt++)Ot.push(st(Rt.geometry[Wt],ct))}else if(Ct==="MultiPolygon")for(Ot=[],Wt=0;Wt<Rt.geometry.length;Wt++){for(var er=[],$t=0;$t<Rt.geometry[Wt].length;$t++)er.push(st(Rt.geometry[Wt][$t],ct));Ot.push(er)}wt.push(nt(Rt.id,Ct,Ot,Rt.tags))}return wt}function st(ht,ct){var wt=[];wt.size=ht.size,ht.start!==void 0&&(wt.start=ht.start,wt.end=ht.end);for(var St=0;St<ht.length;St+=3)wt.push(ht[St]+ct,ht[St+1],ht[St+2]);return wt}function ut(ht,ct){if(ht.transformed)return ht;var wt=1<<ht.z,St=ht.x,Rt=ht.y,Ct,Ot,Wt;for(Ct=0;Ct<ht.features.length;Ct++){var er=ht.features[Ct],$t=er.geometry,sr=er.type;if(er.geometry=[],sr===1)for(Ot=0;Ot<$t.length;Ot+=2)er.geometry.push(Tt($t[Ot],$t[Ot+1],ct,wt,St,Rt));else for(Ot=0;Ot<$t.length;Ot++){var Cr=[];for(Wt=0;Wt<$t[Ot].length;Wt+=2)Cr.push(Tt($t[Ot][Wt],$t[Ot][Wt+1],ct,wt,St,Rt));er.geometry.push(Cr)}}return ht.transformed=!0,ht}function Tt(ht,ct,wt,St,Rt,Ct){return[Math.round(wt*(ht*St-Rt)),Math.round(wt*(ct*St-Ct))]}function It(ht,ct,wt,St,Rt){for(var Ct=ct===Rt.maxZoom?0:Rt.tolerance/((1<<ct)*Rt.extent),Ot={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:wt,y:St,z:ct,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Wt=0;Wt<ht.length;Wt++){Ot.numFeatures++,Gt(Ot,ht[Wt],Ct,Rt);var er=ht[Wt].minX,$t=ht[Wt].minY,sr=ht[Wt].maxX,Cr=ht[Wt].maxY;er<Ot.minX&&(Ot.minX=er),$t<Ot.minY&&(Ot.minY=$t),sr>Ot.maxX&&(Ot.maxX=sr),Cr>Ot.maxY&&(Ot.maxY=Cr)}return Ot}function Gt(ht,ct,wt,St){var Rt=ct.geometry,Ct=ct.type,Ot=[];if(Ct==="Point"||Ct==="MultiPoint")for(var Wt=0;Wt<Rt.length;Wt+=3)Ot.push(Rt[Wt]),Ot.push(Rt[Wt+1]),ht.numPoints++,ht.numSimplified++;else if(Ct==="LineString")jt(Ot,Rt,ht,wt,!1,!1);else if(Ct==="MultiLineString"||Ct==="Polygon")for(Wt=0;Wt<Rt.length;Wt++)jt(Ot,Rt[Wt],ht,wt,Ct==="Polygon",Wt===0);else if(Ct==="MultiPolygon")for(var er=0;er<Rt.length;er++){var $t=Rt[er];for(Wt=0;Wt<$t.length;Wt++)jt(Ot,$t[Wt],ht,wt,!0,Wt===0)}if(Ot.length){var sr=ct.tags||null;if(Ct==="LineString"&&St.lineMetrics){sr={};for(var Cr in ct.tags)sr[Cr]=ct.tags[Cr];sr.mapbox_clip_start=Rt.start/Rt.size,sr.mapbox_clip_end=Rt.end/Rt.size}var je={geometry:Ot,type:Ct==="Polygon"||Ct==="MultiPolygon"?3:Ct==="LineString"||Ct==="MultiLineString"?2:1,tags:sr};ct.id!==null&&(je.id=ct.id),ht.features.push(je)}}function jt(ht,ct,wt,St,Rt,Ct){var Ot=St*St;if(St>0&&ct.size<(Rt?Ot:St)){wt.numPoints+=ct.length/3;return}for(var Wt=[],er=0;er<ct.length;er+=3)(St===0||ct[er+2]>Ot)&&(wt.numSimplified++,Wt.push(ct[er]),Wt.push(ct[er+1])),wt.numPoints++;Rt&&Pt(Wt,Ct),ht.push(Wt)}function Pt(ht,ct){for(var wt=0,St=0,Rt=ht.length,Ct=Rt-2;St<Rt;Ct=St,St+=2)wt+=(ht[St]-ht[Ct])*(ht[St+1]+ht[Ct+1]);if(wt>0===ct)for(St=0,Rt=ht.length;St<Rt/2;St+=2){var Ot=ht[St],Wt=ht[St+1];ht[St]=ht[Rt-2-St],ht[St+1]=ht[Rt-1-St],ht[Rt-2-St]=Ot,ht[Rt-1-St]=Wt}}function Qt(ht,ct){return new or(ht,ct)}function or(ht,ct){ct=this.options=bt(Object.create(this.options),ct);var wt=ct.debug;if(wt&&console.time("preprocess data"),ct.maxZoom<0||ct.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ct.promoteId&&ct.generateId)throw new Error("promoteId and generateId cannot be used together.");var St=$e(ht,ct);this.tiles={},this.tileCoords=[],wt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ct.indexMaxZoom,ct.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),St=Re(St,ct),St.length&&this.splitTile(St,0,0,0),wt&&(St.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}or.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},or.prototype.splitTile=function(ht,ct,wt,St,Rt,Ct,Ot){for(var Wt=[ht,ct,wt,St],er=this.options,$t=er.debug;Wt.length;){St=Wt.pop(),wt=Wt.pop(),ct=Wt.pop(),ht=Wt.pop();var sr=1<<ct,Cr=zr(ct,wt,St),je=this.tiles[Cr];if(!je&&($t>1&&console.time("creation"),je=this.tiles[Cr]=It(ht,ct,wt,St,er),this.tileCoords.push({z:ct,x:wt,y:St}),$t)){$t>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ct,wt,St,je.numFeatures,je.numPoints,je.numSimplified),console.timeEnd("creation"));var We="z"+ct;this.stats[We]=(this.stats[We]||0)+1,this.total++}if(je.source=ht,Rt){if(ct===er.maxZoom||ct===Rt)continue;var kt=1<<Rt-ct;if(wt!==Math.floor(Ct/kt)||St!==Math.floor(Ot/kt))continue}else if(ct===er.indexMaxZoom||je.numPoints<=er.indexMaxPoints)continue;if(je.source=null,ht.length!==0){$t>1&&console.time("clipping");var zt=.5*er.buffer/er.extent,Xt=.5-zt,lr=.5+zt,cr=1+zt,nr,Bt,vr,yr,mr,gr;nr=Bt=vr=yr=null,mr=Be(ht,sr,wt-zt,wt+lr,0,je.minX,je.maxX,er),gr=Be(ht,sr,wt+Xt,wt+cr,0,je.minX,je.maxX,er),ht=null,mr&&(nr=Be(mr,sr,St-zt,St+lr,1,je.minY,je.maxY,er),Bt=Be(mr,sr,St+Xt,St+cr,1,je.minY,je.maxY,er),mr=null),gr&&(vr=Be(gr,sr,St-zt,St+lr,1,je.minY,je.maxY,er),yr=Be(gr,sr,St+Xt,St+cr,1,je.minY,je.maxY,er),gr=null),$t>1&&console.timeEnd("clipping"),Wt.push(nr||[],ct+1,wt*2,St*2),Wt.push(Bt||[],ct+1,wt*2,St*2+1),Wt.push(vr||[],ct+1,wt*2+1,St*2),Wt.push(yr||[],ct+1,wt*2+1,St*2+1)}}},or.prototype.getTile=function(ht,ct,wt){var St=this.options,Rt=St.extent,Ct=St.debug;if(ht<0||ht>24)return null;var Ot=1<<ht;ct=(ct%Ot+Ot)%Ot;var Wt=zr(ht,ct,wt);if(this.tiles[Wt])return ut(this.tiles[Wt],Rt);Ct>1&&console.log("drilling down to z%d-%d-%d",ht,ct,wt);for(var er=ht,$t=ct,sr=wt,Cr;!Cr&&er>0;)er--,$t=Math.floor($t/2),sr=Math.floor(sr/2),Cr=this.tiles[zr(er,$t,sr)];return!Cr||!Cr.source?null:(Ct>1&&console.log("found parent tile z%d-%d-%d",er,$t,sr),Ct>1&&console.time("drilling down"),this.splitTile(Cr.source,er,$t,sr,ht,ct,wt),Ct>1&&console.timeEnd("drilling down"),this.tiles[Wt]?ut(this.tiles[Wt],Rt):null)};function zr(ht,ct,wt){return((1<<ht)*wt+ct)*32+ht}function bt(ht,ct){for(var wt in ct)ht[wt]=ct[wt];return ht}function Jt(ht,ct){var wt=ht.tileID.canonical;if(!this._geoJSONIndex)return ct(null,null);var St=this._geoJSONIndex.getTile(wt.z,wt.x,wt.y);if(!St)return ct(null,null);var Rt=new M(St.features),Ct=a(Rt);(Ct.byteOffset!==0||Ct.byteLength!==Ct.buffer.byteLength)&&(Ct=new Uint8Array(Ct)),ct(null,{vectorTile:Rt,rawData:Ct.buffer})}var Zt=function(ht){function ct(wt,St,Rt,Ct){ht.call(this,wt,St,Rt,Jt),Ct&&(this.loadGeoJSON=Ct)}return ht&&(ct.__proto__=ht),ct.prototype=Object.create(ht&&ht.prototype),ct.prototype.constructor=ct,ct.prototype.loadData=function(St,Rt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Rt,this._pendingLoadDataParams=St,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},ct.prototype._loadData=function(){var St=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Rt=this._pendingCallback,Ct=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ot=Ct&&Ct.request&&Ct.request.collectResourceTiming?new i.RequestPerformance(Ct.request):!1;this.loadGeoJSON(Ct,function(Wt,er){if(Wt||!er)return Rt(Wt);if(typeof er!="object")return Rt(new Error("Input data given to '"+Ct.source+"' is not a valid GeoJSON object."));h(er,!0);try{St._geoJSONIndex=Ct.cluster?new ie(Ar(Ct)).load(er.features):Qt(er,Ct.geojsonVtOptions)}catch(Cr){return Rt(Cr)}St.loaded={};var $t={};if(Ot){var sr=Ot.finish();sr&&($t.resourceTiming={},$t.resourceTiming[Ct.source]=JSON.parse(JSON.stringify(sr)))}Rt(null,$t)})}},ct.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},ct.prototype.reloadTile=function(St,Rt){var Ct=this.loaded,Ot=St.uid;return Ct&&Ct[Ot]?ht.prototype.reloadTile.call(this,St,Rt):this.loadTile(St,Rt)},ct.prototype.loadGeoJSON=function(St,Rt){if(St.request)i.getJSON(St.request,Rt);else if(typeof St.data=="string")try{return Rt(null,JSON.parse(St.data))}catch{return Rt(new Error("Input data given to '"+St.source+"' is not a valid GeoJSON object."))}else return Rt(new Error("Input data given to '"+St.source+"' is not a valid GeoJSON object."))},ct.prototype.removeSource=function(St,Rt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Rt()},ct.prototype.getClusterExpansionZoom=function(St,Rt){try{Rt(null,this._geoJSONIndex.getClusterExpansionZoom(St.clusterId))}catch(Ct){Rt(Ct)}},ct.prototype.getClusterChildren=function(St,Rt){try{Rt(null,this._geoJSONIndex.getChildren(St.clusterId))}catch(Ct){Rt(Ct)}},ct.prototype.getClusterLeaves=function(St,Rt){try{Rt(null,this._geoJSONIndex.getLeaves(St.clusterId,St.limit,St.offset))}catch(Ct){Rt(Ct)}},ct}(c);function Ar(ht){var ct=ht.superclusterOptions,wt=ht.clusterProperties;if(!wt||!ct)return ct;for(var St={},Rt={},Ct={accumulated:null,zoom:0},Ot={properties:null},Wt=Object.keys(wt),er=0,$t=Wt;er<$t.length;er+=1){var sr=$t[er],Cr=wt[sr],je=Cr[0],We=Cr[1],kt=i.createExpression(We),zt=i.createExpression(typeof je=="string"?[je,["accumulated"],["get",sr]]:je);St[sr]=kt.value,Rt[sr]=zt.value}return ct.map=function(Xt){Ot.properties=Xt;for(var lr={},cr=0,nr=Wt;cr<nr.length;cr+=1){var Bt=nr[cr];lr[Bt]=St[Bt].evaluate(Ct,Ot)}return lr},ct.reduce=function(Xt,lr){Ot.properties=lr;for(var cr=0,nr=Wt;cr<nr.length;cr+=1){var Bt=nr[cr];Ct.accumulated=Xt[Bt],Xt[Bt]=Rt[Bt].evaluate(Ct,Ot)}},ct}var dr=function(ct){var wt=this;this.self=ct,this.actor=new i.Actor(ct,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:c,geojson:Zt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(St,Rt){if(wt.workerSourceTypes[St])throw new Error('Worker source with name "'+St+'" already registered.');wt.workerSourceTypes[St]=Rt},this.self.registerRTLTextPlugin=function(St){if(i.plugin.isParsed())throw new Error("RTL text plugin already registered.");i.plugin.applyArabicShaping=St.applyArabicShaping,i.plugin.processBidirectionalText=St.processBidirectionalText,i.plugin.processStyledBidirectionalText=St.processStyledBidirectionalText}};return dr.prototype.setReferrer=function(ct,wt){this.referrer=wt},dr.prototype.setImages=function(ct,wt,St){this.availableImages[ct]=wt;for(var Rt in this.workerSources[ct]){var Ct=this.workerSources[ct][Rt];for(var Ot in Ct)Ct[Ot].availableImages=wt}St()},dr.prototype.setLayers=function(ct,wt,St){this.getLayerIndex(ct).replace(wt),St()},dr.prototype.updateLayers=function(ct,wt,St){this.getLayerIndex(ct).update(wt.layers,wt.removedIds),St()},dr.prototype.loadTile=function(ct,wt,St){this.getWorkerSource(ct,wt.type,wt.source).loadTile(wt,St)},dr.prototype.loadDEMTile=function(ct,wt,St){this.getDEMWorkerSource(ct,wt.source).loadTile(wt,St)},dr.prototype.reloadTile=function(ct,wt,St){this.getWorkerSource(ct,wt.type,wt.source).reloadTile(wt,St)},dr.prototype.abortTile=function(ct,wt,St){this.getWorkerSource(ct,wt.type,wt.source).abortTile(wt,St)},dr.prototype.removeTile=function(ct,wt,St){this.getWorkerSource(ct,wt.type,wt.source).removeTile(wt,St)},dr.prototype.removeDEMTile=function(ct,wt){this.getDEMWorkerSource(ct,wt.source).removeTile(wt)},dr.prototype.removeSource=function(ct,wt,St){if(!(!this.workerSources[ct]||!this.workerSources[ct][wt.type]||!this.workerSources[ct][wt.type][wt.source])){var Rt=this.workerSources[ct][wt.type][wt.source];delete this.workerSources[ct][wt.type][wt.source],Rt.removeSource!==void 0?Rt.removeSource(wt,St):St()}},dr.prototype.loadWorkerSource=function(ct,wt,St){try{this.self.importScripts(wt.url),St()}catch(Rt){St(Rt.toString())}},dr.prototype.syncRTLPluginState=function(ct,wt,St){try{i.plugin.setState(wt);var Rt=i.plugin.getPluginURL();if(i.plugin.isLoaded()&&!i.plugin.isParsed()&&Rt!=null){this.self.importScripts(Rt);var Ct=i.plugin.isParsed(),Ot=Ct?void 0:new Error("RTL Text Plugin failed to import scripts from "+Rt);St(Ot,Ct)}}catch(Wt){St(Wt.toString())}},dr.prototype.getAvailableImages=function(ct){var wt=this.availableImages[ct];return wt||(wt=[]),wt},dr.prototype.getLayerIndex=function(ct){var wt=this.layerIndexes[ct];return wt||(wt=this.layerIndexes[ct]=new p),wt},dr.prototype.getWorkerSource=function(ct,wt,St){var Rt=this;if(this.workerSources[ct]||(this.workerSources[ct]={}),this.workerSources[ct][wt]||(this.workerSources[ct][wt]={}),!this.workerSources[ct][wt][St]){var Ct={send:function(Ot,Wt,er){Rt.actor.send(Ot,Wt,er,ct)}};this.workerSources[ct][wt][St]=new this.workerSourceTypes[wt](Ct,this.getLayerIndex(ct),this.getAvailableImages(ct))}return this.workerSources[ct][wt][St]},dr.prototype.getDEMWorkerSource=function(ct,wt){return this.demWorkerSources[ct]||(this.demWorkerSources[ct]={}),this.demWorkerSources[ct][wt]||(this.demWorkerSources[ct][wt]=new y),this.demWorkerSources[ct][wt]},dr.prototype.enforceCacheSizeLimit=function(ct,wt){i.enforceCacheSizeLimit(wt)},typeof WorkerGlobalScope<"u"&&typeof i.window<"u"&&i.window instanceof WorkerGlobalScope&&(i.window.worker=new dr(i.window)),dr}),R(["./shared"],function(i){var L=i.createCommonjsModule(function(de){de.exports?de.exports=Z:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=Z,window.mapboxgl.notSupportedReason=ge);function Z(jr){return!ge(jr)}function ge(jr){if(!re())return"not a browser";if(!ye())return"insufficent Array support";if(!Ie())return"insufficient Function support";if(!Ze())return"insufficient Object support";if(!ft())return"insufficient JSON support";if(!At())return"insufficient worker support";if(!Ht())return"insufficient Uint8ClampedArray support";if(!qt())return"insufficient ArrayBuffer support";if(!hr())return"insufficient Canvas/getImageData support";if(!Or(jr&&jr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function re(){return typeof window<"u"&&typeof document<"u"}function ye(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Ie(){return Function.prototype&&Function.prototype.bind}function Ze(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ft(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function At(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var jr=new Blob([""],{type:"text/javascript"}),tn=URL.createObjectURL(jr),vn,kn;try{kn=new Worker(tn),vn=!0}catch{vn=!1}return kn&&kn.terminate(),URL.revokeObjectURL(tn),vn}function Ht(){return"Uint8ClampedArray"in window}function qt(){return ArrayBuffer.isView}function hr(){var jr=document.createElement("canvas");jr.width=jr.height=1;var tn=jr.getContext("2d");if(!tn)return!1;var vn=tn.getImageData(0,0,1,1);return vn&&vn.width===jr.width}var br={};function Or(jr){return br[jr]===void 0&&(br[jr]=Xr(jr)),br[jr]}Z.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Yr(jr){var tn=document.createElement("canvas"),vn=Object.create(Z.webGLContextAttributes);return vn.failIfMajorPerformanceCaveat=jr,tn.probablySupportsContext?tn.probablySupportsContext("webgl",vn)||tn.probablySupportsContext("experimental-webgl",vn):tn.supportsContext?tn.supportsContext("webgl",vn)||tn.supportsContext("experimental-webgl",vn):tn.getContext("webgl",vn)||tn.getContext("experimental-webgl",vn)}function Xr(jr){var tn=Yr(jr);if(!tn)return!1;var vn=tn.createShader(tn.VERTEX_SHADER);return!vn||tn.isContextLost()?!1:(tn.shaderSource(vn,"void main() {}"),tn.compileShader(vn),tn.getShaderParameter(vn,tn.COMPILE_STATUS)===!0)}}),T={};T.create=function(de,Z,ge){var re=i.window.document.createElement(de);return Z!==void 0&&(re.className=Z),ge&&ge.appendChild(re),re},T.createNS=function(de,Z){var ge=i.window.document.createElementNS(de,Z);return ge};var v=i.window.document.documentElement.style;function p(de){if(!v)return de[0];for(var Z=0;Z<de.length;Z++)if(de[Z]in v)return de[Z];return de[0]}var t=p(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),r;T.disableDrag=function(){v&&t&&(r=v[t],v[t]="none")},T.enableDrag=function(){v&&t&&(v[t]=r)};var l=p(["transform","WebkitTransform"]);T.setTransform=function(de,Z){de.style[l]=Z};var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});i.window.addEventListener("test",s,s),i.window.removeEventListener("test",s,s)}catch{n=!1}T.addEventListener=function(de,Z,ge,re){re===void 0&&(re={}),"passive"in re&&n?de.addEventListener(Z,ge,re):de.addEventListener(Z,ge,re.capture)},T.removeEventListener=function(de,Z,ge,re){re===void 0&&(re={}),"passive"in re&&n?de.removeEventListener(Z,ge,re):de.removeEventListener(Z,ge,re.capture)};var c=function(de){de.preventDefault(),de.stopPropagation(),i.window.removeEventListener("click",c,!0)};T.suppressClick=function(){i.window.addEventListener("click",c,!0),i.window.setTimeout(function(){i.window.removeEventListener("click",c,!0)},0)},T.mousePos=function(de,Z){var ge=de.getBoundingClientRect();return new i.Point(Z.clientX-ge.left-de.clientLeft,Z.clientY-ge.top-de.clientTop)},T.touchPos=function(de,Z){for(var ge=de.getBoundingClientRect(),re=[],ye=0;ye<Z.length;ye++)re.push(new i.Point(Z[ye].clientX-ge.left-de.clientLeft,Z[ye].clientY-ge.top-de.clientTop));return re},T.mouseButton=function(de){return typeof i.window.InstallTrigger<"u"&&de.button===2&&de.ctrlKey&&i.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:de.button},T.remove=function(de){de.parentNode&&de.parentNode.removeChild(de)};function u(de,Z,ge){var re,ye,Ie,Ze=i.browser.devicePixelRatio>1?"@2x":"",ft=i.getJSON(Z.transformRequest(Z.normalizeSpriteURL(de,Ze,".json"),i.ResourceType.SpriteJSON),function(qt,hr){ft=null,Ie||(Ie=qt,re=hr,Ht())}),At=i.getImage(Z.transformRequest(Z.normalizeSpriteURL(de,Ze,".png"),i.ResourceType.SpriteImage),function(qt,hr){At=null,Ie||(Ie=qt,ye=hr,Ht())});function Ht(){if(Ie)ge(Ie);else if(re&&ye){var qt=i.browser.getImageData(ye),hr={};for(var br in re){var Or=re[br],Yr=Or.width,Xr=Or.height,jr=Or.x,tn=Or.y,vn=Or.sdf,kn=Or.pixelRatio,Gn=Or.stretchX,$n=Or.stretchY,ra=Or.content,ea=new i.RGBAImage({width:Yr,height:Xr});i.RGBAImage.copy(qt,ea,{x:jr,y:tn},{x:0,y:0},{width:Yr,height:Xr}),hr[br]={data:ea,pixelRatio:kn,sdf:vn,stretchX:Gn,stretchY:$n,content:ra}}ge(null,hr)}}return{cancel:function(){ft&&(ft.cancel(),ft=null),At&&(At.cancel(),At=null)}}}function y(de){var Z=de.userImage;if(Z&&Z.render){var ge=Z.render();if(ge)return de.data.replace(new Uint8Array(Z.data.buffer)),!0}return!1}var h=1,b=function(de){function Z(){de.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.RGBAImage({width:1,height:1}),this.dirty=!0}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.isLoaded=function(){return this.loaded},Z.prototype.setLoaded=function(re){if(this.loaded!==re&&(this.loaded=re,re)){for(var ye=0,Ie=this.requestors;ye<Ie.length;ye+=1){var Ze=Ie[ye],ft=Ze.ids,At=Ze.callback;this._notify(ft,At)}this.requestors=[]}},Z.prototype.getImage=function(re){return this.images[re]},Z.prototype.addImage=function(re,ye){this._validate(re,ye)&&(this.images[re]=ye)},Z.prototype._validate=function(re,ye){var Ie=!0;return this._validateStretch(ye.stretchX,ye.data&&ye.data.width)||(this.fire(new i.ErrorEvent(new Error('Image "'+re+'" has invalid "stretchX" value'))),Ie=!1),this._validateStretch(ye.stretchY,ye.data&&ye.data.height)||(this.fire(new i.ErrorEvent(new Error('Image "'+re+'" has invalid "stretchY" value'))),Ie=!1),this._validateContent(ye.content,ye)||(this.fire(new i.ErrorEvent(new Error('Image "'+re+'" has invalid "content" value'))),Ie=!1),Ie},Z.prototype._validateStretch=function(re,ye){if(!re)return!0;for(var Ie=0,Ze=0,ft=re;Ze<ft.length;Ze+=1){var At=ft[Ze];if(At[0]<Ie||At[1]<At[0]||ye<At[1])return!1;Ie=At[1]}return!0},Z.prototype._validateContent=function(re,ye){return re?!(re.length!==4||re[0]<0||ye.data.width<re[0]||re[1]<0||ye.data.height<re[1]||re[2]<0||ye.data.width<re[2]||re[3]<0||ye.data.height<re[3]||re[2]<re[0]||re[3]<re[1]):!0},Z.prototype.updateImage=function(re,ye){var Ie=this.images[re];ye.version=Ie.version+1,this.images[re]=ye,this.updatedImages[re]=!0},Z.prototype.removeImage=function(re){var ye=this.images[re];delete this.images[re],delete this.patterns[re],ye.userImage&&ye.userImage.onRemove&&ye.userImage.onRemove()},Z.prototype.listImages=function(){return Object.keys(this.images)},Z.prototype.getImages=function(re,ye){var Ie=!0;if(!this.isLoaded())for(var Ze=0,ft=re;Ze<ft.length;Ze+=1){var At=ft[Ze];this.images[At]||(Ie=!1)}this.isLoaded()||Ie?this._notify(re,ye):this.requestors.push({ids:re,callback:ye})},Z.prototype._notify=function(re,ye){for(var Ie={},Ze=0,ft=re;Ze<ft.length;Ze+=1){var At=ft[Ze];this.images[At]||this.fire(new i.Event("styleimagemissing",{id:At}));var Ht=this.images[At];Ht?Ie[At]={data:Ht.data.clone(),pixelRatio:Ht.pixelRatio,sdf:Ht.sdf,version:Ht.version,stretchX:Ht.stretchX,stretchY:Ht.stretchY,content:Ht.content,hasRenderCallback:!!(Ht.userImage&&Ht.userImage.render)}:i.warnOnce('Image "'+At+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ye(null,Ie)},Z.prototype.getPixelSize=function(){var re=this.atlasImage,ye=re.width,Ie=re.height;return{width:ye,height:Ie}},Z.prototype.getPattern=function(re){var ye=this.patterns[re],Ie=this.getImage(re);if(!Ie)return null;if(ye&&ye.position.version===Ie.version)return ye.position;if(ye)ye.position.version=Ie.version;else{var Ze=Ie.data.width+h*2,ft=Ie.data.height+h*2,At={w:Ze,h:ft,x:0,y:0},Ht=new i.ImagePosition(At,Ie);this.patterns[re]={bin:At,position:Ht}}return this._updatePatternAtlas(),this.patterns[re].position},Z.prototype.bind=function(re){var ye=re.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.Texture(re,this.atlasImage,ye.RGBA),this.atlasTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE)},Z.prototype._updatePatternAtlas=function(){var re=[];for(var ye in this.patterns)re.push(this.patterns[ye].bin);var Ie=i.potpack(re),Ze=Ie.w,ft=Ie.h,At=this.atlasImage;At.resize({width:Ze||1,height:ft||1});for(var Ht in this.patterns){var qt=this.patterns[Ht],hr=qt.bin,br=hr.x+h,Or=hr.y+h,Yr=this.images[Ht].data,Xr=Yr.width,jr=Yr.height;i.RGBAImage.copy(Yr,At,{x:0,y:0},{x:br,y:Or},{width:Xr,height:jr}),i.RGBAImage.copy(Yr,At,{x:0,y:jr-1},{x:br,y:Or-1},{width:Xr,height:1}),i.RGBAImage.copy(Yr,At,{x:0,y:0},{x:br,y:Or+jr},{width:Xr,height:1}),i.RGBAImage.copy(Yr,At,{x:Xr-1,y:0},{x:br-1,y:Or},{width:1,height:jr}),i.RGBAImage.copy(Yr,At,{x:0,y:0},{x:br+Xr,y:Or},{width:1,height:jr})}this.dirty=!0},Z.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},Z.prototype.dispatchRenderCallbacks=function(re){for(var ye=0,Ie=re;ye<Ie.length;ye+=1){var Ze=Ie[ye];if(!this.callbackDispatchedThisFrame[Ze]){this.callbackDispatchedThisFrame[Ze]=!0;var ft=this.images[Ze],At=y(ft);At&&this.updateImage(Ze,ft)}}},Z}(i.Evented);function f(de,Z,ge,re,ye){var Ie=Z*256,Ze=Ie+255,ft=re.transformRequest(re.normalizeGlyphsURL(ge).replace("{fontstack}",de).replace("{range}",Ie+"-"+Ze),i.ResourceType.Glyphs);i.getArrayBuffer(ft,function(At,Ht){if(At)ye(At);else if(Ht){for(var qt={},hr=0,br=i.parseGlyphPBF(Ht);hr<br.length;hr+=1){var Or=br[hr];qt[Or.id]=Or}ye(null,qt)}})}var o=M,d=M,A=1e20;function M(de,Z,ge,re,ye,Ie){this.fontSize=de||24,this.buffer=Z===void 0?3:Z,this.cutoff=re||.25,this.fontFamily=ye||"sans-serif",this.fontWeight=Ie||"normal",this.radius=ge||8;var Ze=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ze,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ze*Ze),this.gridInner=new Float64Array(Ze*Ze),this.f=new Float64Array(Ze),this.d=new Float64Array(Ze),this.z=new Float64Array(Ze+1),this.v=new Int16Array(Ze),this.middle=Math.round(Ze/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}M.prototype.draw=function(de){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(de,this.buffer,this.middle);for(var Z=this.ctx.getImageData(0,0,this.size,this.size),ge=new Uint8ClampedArray(this.size*this.size),re=0;re<this.size*this.size;re++){var ye=Z.data[re*4+3]/255;this.gridOuter[re]=ye===1?0:ye===0?A:Math.pow(Math.max(0,.5-ye),2),this.gridInner[re]=ye===1?A:ye===0?0:Math.pow(Math.max(0,ye-.5),2)}for(C(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),C(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),re=0;re<this.size*this.size;re++){var Ie=this.gridOuter[re]-this.gridInner[re];ge[re]=Math.max(0,Math.min(255,Math.round(255-255*(Ie/this.radius+this.cutoff))))}return ge};function C(de,Z,ge,re,ye,Ie,Ze){for(var ft=0;ft<Z;ft++){for(var At=0;At<ge;At++)re[At]=de[At*Z+ft];for(m(re,ye,Ie,Ze,ge),At=0;At<ge;At++)de[At*Z+ft]=ye[At]}for(At=0;At<ge;At++){for(ft=0;ft<Z;ft++)re[ft]=de[At*Z+ft];for(m(re,ye,Ie,Ze,Z),ft=0;ft<Z;ft++)de[At*Z+ft]=Math.sqrt(ye[ft])}}function m(de,Z,ge,re,ye){ge[0]=0,re[0]=-A,re[1]=+A;for(var Ie=1,Ze=0;Ie<ye;Ie++){for(var ft=(de[Ie]+Ie*Ie-(de[ge[Ze]]+ge[Ze]*ge[Ze]))/(2*Ie-2*ge[Ze]);ft<=re[Ze];)Ze--,ft=(de[Ie]+Ie*Ie-(de[ge[Ze]]+ge[Ze]*ge[Ze]))/(2*Ie-2*ge[Ze]);Ze++,ge[Ze]=Ie,re[Ze]=ft,re[Ze+1]=+A}for(Ie=0,Ze=0;Ie<ye;Ie++){for(;re[Ze+1]<Ie;)Ze++;Z[Ie]=(Ie-ge[Ze])*(Ie-ge[Ze])+de[ge[Ze]]}}o.default=d;var S=function(Z,ge){this.requestManager=Z,this.localIdeographFontFamily=ge,this.entries={}};S.prototype.setURL=function(Z){this.url=Z},S.prototype.getGlyphs=function(Z,ge){var re=this,ye=[];for(var Ie in Z)for(var Ze=0,ft=Z[Ie];Ze<ft.length;Ze+=1){var At=ft[Ze];ye.push({stack:Ie,id:At})}i.asyncAll(ye,function(Ht,qt){var hr=Ht.stack,br=Ht.id,Or=re.entries[hr];Or||(Or=re.entries[hr]={glyphs:{},requests:{},ranges:{}});var Yr=Or.glyphs[br];if(Yr!==void 0){qt(null,{stack:hr,id:br,glyph:Yr});return}if(Yr=re._tinySDF(Or,hr,br),Yr){Or.glyphs[br]=Yr,qt(null,{stack:hr,id:br,glyph:Yr});return}var Xr=Math.floor(br/256);if(Xr*256>65535){qt(new Error("glyphs > 65535 not supported"));return}if(Or.ranges[Xr]){qt(null,{stack:hr,id:br,glyph:Yr});return}var jr=Or.requests[Xr];jr||(jr=Or.requests[Xr]=[],S.loadGlyphRange(hr,Xr,re.url,re.requestManager,function(tn,vn){if(vn){for(var kn in vn)re._doesCharSupportLocalGlyph(+kn)||(Or.glyphs[+kn]=vn[+kn]);Or.ranges[Xr]=!0}for(var Gn=0,$n=jr;Gn<$n.length;Gn+=1){var ra=$n[Gn];ra(tn,vn)}delete Or.requests[Xr]})),jr.push(function(tn,vn){tn?qt(tn):vn&&qt(null,{stack:hr,id:br,glyph:vn[br]||null})})},function(Ht,qt){if(Ht)ge(Ht);else if(qt){for(var hr={},br=0,Or=qt;br<Or.length;br+=1){var Yr=Or[br],Xr=Yr.stack,jr=Yr.id,tn=Yr.glyph;(hr[Xr]||(hr[Xr]={}))[jr]=tn&&{id:tn.id,bitmap:tn.bitmap.clone(),metrics:tn.metrics}}ge(null,hr)}})},S.prototype._doesCharSupportLocalGlyph=function(Z){return!!this.localIdeographFontFamily&&(i.isChar["CJK Unified Ideographs"](Z)||i.isChar["Hangul Syllables"](Z)||i.isChar.Hiragana(Z)||i.isChar.Katakana(Z))},S.prototype._tinySDF=function(Z,ge,re){var ye=this.localIdeographFontFamily;if(ye&&this._doesCharSupportLocalGlyph(re)){var Ie=Z.tinySDF;if(!Ie){var Ze="400";/bold/i.test(ge)?Ze="900":/medium/i.test(ge)?Ze="500":/light/i.test(ge)&&(Ze="200"),Ie=Z.tinySDF=new S.TinySDF(24,3,8,.25,ye,Ze)}return{id:re,bitmap:new i.AlphaImage({width:30,height:30},Ie.draw(String.fromCharCode(re))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},S.loadGlyphRange=f,S.TinySDF=o;var x=function(){this.specification=i.styleSpec.light.position};x.prototype.possiblyEvaluate=function(Z,ge){return i.sphericalToCartesian(Z.expression.evaluate(ge))},x.prototype.interpolate=function(Z,ge,re){return{x:i.number(Z.x,ge.x,re),y:i.number(Z.y,ge.y,re),z:i.number(Z.z,ge.z,re)}};var a=new i.Properties({anchor:new i.DataConstantProperty(i.styleSpec.light.anchor),position:new x,color:new i.DataConstantProperty(i.styleSpec.light.color),intensity:new i.DataConstantProperty(i.styleSpec.light.intensity)}),E="-transition",w=function(de){function Z(ge){de.call(this),this._transitionable=new i.Transitionable(a),this.setLight(ge),this._transitioning=this._transitionable.untransitioned()}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getLight=function(){return this._transitionable.serialize()},Z.prototype.setLight=function(re,ye){if(ye===void 0&&(ye={}),!this._validate(i.validateLight,re,ye))for(var Ie in re){var Ze=re[Ie];i.endsWith(Ie,E)?this._transitionable.setTransition(Ie.slice(0,-E.length),Ze):this._transitionable.setValue(Ie,Ze)}},Z.prototype.updateTransitions=function(re){this._transitioning=this._transitionable.transitioned(re,this._transitioning)},Z.prototype.hasTransition=function(){return this._transitioning.hasTransition()},Z.prototype.recalculate=function(re){this.properties=this._transitioning.possiblyEvaluate(re)},Z.prototype._validate=function(re,ye,Ie){return Ie&&Ie.validate===!1?!1:i.emitValidationErrors(this,re.call(i.validateStyle,i.extend({value:ye,style:{glyphs:!0,sprite:!0},styleSpec:i.styleSpec})))},Z}(i.Evented),k=function(Z,ge){this.width=Z,this.height=ge,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};k.prototype.getDash=function(Z,ge){var re=Z.join(",")+String(ge);return this.dashEntry[re]||(this.dashEntry[re]=this.addDash(Z,ge)),this.dashEntry[re]},k.prototype.getDashRanges=function(Z,ge,re){var ye=Z.length%2===1,Ie=[],Ze=ye?-Z[Z.length-1]*re:0,ft=Z[0]*re,At=!0;Ie.push({left:Ze,right:ft,isDash:At,zeroLength:Z[0]===0});for(var Ht=Z[0],qt=1;qt<Z.length;qt++){At=!At;var hr=Z[qt];Ze=Ht*re,Ht+=hr,ft=Ht*re,Ie.push({left:Ze,right:ft,isDash:At,zeroLength:hr===0})}return Ie},k.prototype.addRoundDash=function(Z,ge,re){for(var ye=ge/2,Ie=-re;Ie<=re;Ie++)for(var Ze=this.nextRow+re+Ie,ft=this.width*Ze,At=0,Ht=Z[At],qt=0;qt<this.width;qt++){qt/Ht.right>1&&(Ht=Z[++At]);var hr=Math.abs(qt-Ht.left),br=Math.abs(qt-Ht.right),Or=Math.min(hr,br),Yr=void 0,Xr=Ie/re*(ye+1);if(Ht.isDash){var jr=ye-Math.abs(Xr);Yr=Math.sqrt(Or*Or+jr*jr)}else Yr=ye-Math.sqrt(Or*Or+Xr*Xr);this.data[ft+qt]=Math.max(0,Math.min(255,Yr+128))}},k.prototype.addRegularDash=function(Z){for(var ge=Z.length-1;ge>=0;--ge){var re=Z[ge],ye=Z[ge+1];re.zeroLength?Z.splice(ge,1):ye&&ye.isDash===re.isDash&&(ye.left=re.left,Z.splice(ge,1))}var Ie=Z[0],Ze=Z[Z.length-1];Ie.isDash===Ze.isDash&&(Ie.left=Ze.left-this.width,Ze.right=Ie.right+this.width);for(var ft=this.width*this.nextRow,At=0,Ht=Z[At],qt=0;qt<this.width;qt++){qt/Ht.right>1&&(Ht=Z[++At]);var hr=Math.abs(qt-Ht.left),br=Math.abs(qt-Ht.right),Or=Math.min(hr,br),Yr=Ht.isDash?Or:-Or;this.data[ft+qt]=Math.max(0,Math.min(255,Yr+128))}},k.prototype.addDash=function(Z,ge){var re=ge?7:0,ye=2*re+1;if(this.nextRow+ye>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var Ie=0,Ze=0;Ze<Z.length;Ze++)Ie+=Z[Ze];if(Ie!==0){var ft=this.width/Ie,At=this.getDashRanges(Z,this.width,ft);ge?this.addRoundDash(At,ft,re):this.addRegularDash(At)}var Ht={y:(this.nextRow+re+.5)/this.height,height:2*re/this.height,width:Ie};return this.nextRow+=ye,this.dirty=!0,Ht},k.prototype.bind=function(Z){var ge=Z.gl;this.texture?(ge.bindTexture(ge.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ge.texSubImage2D(ge.TEXTURE_2D,0,0,0,this.width,this.height,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))):(this.texture=ge.createTexture(),ge.bindTexture(ge.TEXTURE_2D,this.texture),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_S,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_T,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MIN_FILTER,ge.LINEAR),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MAG_FILTER,ge.LINEAR),ge.texImage2D(ge.TEXTURE_2D,0,ge.ALPHA,this.width,this.height,0,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))};var I=function de(Z,ge){this.workerPool=Z,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var re=this.workerPool.acquire(this.id),ye=0;ye<re.length;ye++){var Ie=re[ye],Ze=new de.Actor(Ie,ge,this.id);Ze.name="Worker "+ye,this.actors.push(Ze)}};I.prototype.broadcast=function(Z,ge,re){re=re||function(){},i.asyncAll(this.actors,function(ye,Ie){ye.send(Z,ge,Ie)},re)},I.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},I.prototype.remove=function(){this.actors.forEach(function(Z){Z.remove()}),this.actors=[],this.workerPool.release(this.id)},I.Actor=i.Actor;function U(de,Z,ge){var re=function(ye,Ie){if(ye)return ge(ye);if(Ie){var Ze=i.pick(i.extend(Ie,de),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Ie.vector_layers&&(Ze.vectorLayers=Ie.vector_layers,Ze.vectorLayerIds=Ze.vectorLayers.map(function(ft){return ft.id})),Ze.tiles=Z.canonicalizeTileset(Ze,de.url),ge(null,Ze)}};return de.url?i.getJSON(Z.transformRequest(Z.normalizeSourceURL(de.url),i.ResourceType.Source),re):i.browser.frame(function(){return re(null,de)})}var z=function(Z,ge,re){this.bounds=i.LngLatBounds.convert(this.validateBounds(Z)),this.minzoom=ge||0,this.maxzoom=re||24};z.prototype.validateBounds=function(Z){return!Array.isArray(Z)||Z.length!==4?[-180,-90,180,90]:[Math.max(-180,Z[0]),Math.max(-90,Z[1]),Math.min(180,Z[2]),Math.min(90,Z[3])]},z.prototype.contains=function(Z){var ge=Math.pow(2,Z.z),re={minX:Math.floor(i.mercatorXfromLng(this.bounds.getWest())*ge),minY:Math.floor(i.mercatorYfromLat(this.bounds.getNorth())*ge),maxX:Math.ceil(i.mercatorXfromLng(this.bounds.getEast())*ge),maxY:Math.ceil(i.mercatorYfromLat(this.bounds.getSouth())*ge)},ye=Z.x>=re.minX&&Z.x<re.maxX&&Z.y>=re.minY&&Z.y<re.maxY;return ye};var N=function(de){function Z(ge,re,ye,Ie){if(de.call(this),this.id=ge,this.dispatcher=ye,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.extend(this,i.pick(re,["url","scheme","tileSize","promoteId"])),this._options=i.extend({type:"vector"},re),this._collectResourceTiming=re.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Ie)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var re=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._requestManager,function(ye,Ie){re._tileJSONRequest=null,re._loaded=!0,ye?re.fire(new i.ErrorEvent(ye)):Ie&&(i.extend(re,Ie),Ie.bounds&&(re.tileBounds=new z(Ie.bounds,re.minzoom,re.maxzoom)),i.postTurnstileEvent(Ie.tiles,re.map._requestManager._customAccessToken),i.postMapLoadEvent(Ie.tiles,re.map._getMapId(),re.map._requestManager._skuToken,re.map._requestManager._customAccessToken),re.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),re.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.hasTile=function(re){return!this.tileBounds||this.tileBounds.contains(re.canonical)},Z.prototype.onAdd=function(re){this.map=re,this.load()},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return i.extend({},this._options)},Z.prototype.loadTile=function(re,ye){var Ie=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme)),Ze={request:this.map._requestManager.transformRequest(Ie,i.ResourceType.Tile),uid:re.uid,tileID:re.tileID,zoom:re.tileID.overscaledZ,tileSize:this.tileSize*re.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Ze.request.collectResourceTiming=this._collectResourceTiming,!re.actor||re.state==="expired"?(re.actor=this.dispatcher.getActor(),re.request=re.actor.send("loadTile",Ze,ft.bind(this))):re.state==="loading"?re.reloadCallback=ye:re.request=re.actor.send("reloadTile",Ze,ft.bind(this));function ft(At,Ht){if(delete re.request,re.aborted)return ye(null);if(At&&At.status!==404)return ye(At);Ht&&Ht.resourceTiming&&(re.resourceTiming=Ht.resourceTiming),this.map._refreshExpiredTiles&&Ht&&re.setExpiryData(Ht),re.loadVectorData(Ht,this.map.painter),i.cacheEntryPossiblyAdded(this.dispatcher),ye(null),re.reloadCallback&&(this.loadTile(re,re.reloadCallback),re.reloadCallback=null)}},Z.prototype.abortTile=function(re){re.request&&(re.request.cancel(),delete re.request),re.actor&&re.actor.send("abortTile",{uid:re.uid,type:this.type,source:this.id},void 0)},Z.prototype.unloadTile=function(re){re.unloadVectorData(),re.actor&&re.actor.send("removeTile",{uid:re.uid,type:this.type,source:this.id},void 0)},Z.prototype.hasTransition=function(){return!1},Z}(i.Evented),B=function(de){function Z(ge,re,ye,Ie){de.call(this),this.id=ge,this.dispatcher=ye,this.setEventedParent(Ie),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({type:"raster"},re),i.extend(this,i.pick(re,["url","scheme","tileSize"]))}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var re=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=U(this._options,this.map._requestManager,function(ye,Ie){re._tileJSONRequest=null,re._loaded=!0,ye?re.fire(new i.ErrorEvent(ye)):Ie&&(i.extend(re,Ie),Ie.bounds&&(re.tileBounds=new z(Ie.bounds,re.minzoom,re.maxzoom)),i.postTurnstileEvent(Ie.tiles),i.postMapLoadEvent(Ie.tiles,re.map._getMapId(),re.map._requestManager._skuToken),re.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})),re.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.onAdd=function(re){this.map=re,this.load()},Z.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},Z.prototype.serialize=function(){return i.extend({},this._options)},Z.prototype.hasTile=function(re){return!this.tileBounds||this.tileBounds.contains(re.canonical)},Z.prototype.loadTile=function(re,ye){var Ie=this,Ze=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);re.request=i.getImage(this.map._requestManager.transformRequest(Ze,i.ResourceType.Tile),function(ft,At){if(delete re.request,re.aborted)re.state="unloaded",ye(null);else if(ft)re.state="errored",ye(ft);else if(At){Ie.map._refreshExpiredTiles&&re.setExpiryData(At),delete At.cacheControl,delete At.expires;var Ht=Ie.map.painter.context,qt=Ht.gl;re.texture=Ie.map.painter.getTileTexture(At.width),re.texture?re.texture.update(At,{useMipmap:!0}):(re.texture=new i.Texture(Ht,At,qt.RGBA,{useMipmap:!0}),re.texture.bind(qt.LINEAR,qt.CLAMP_TO_EDGE,qt.LINEAR_MIPMAP_NEAREST),Ht.extTextureFilterAnisotropic&&qt.texParameterf(qt.TEXTURE_2D,Ht.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ht.extTextureFilterAnisotropicMax)),re.state="loaded",i.cacheEntryPossiblyAdded(Ie.dispatcher),ye(null)}})},Z.prototype.abortTile=function(re,ye){re.request&&(re.request.cancel(),delete re.request),ye()},Z.prototype.unloadTile=function(re,ye){re.texture&&this.map.painter.saveTileTexture(re.texture),ye()},Z.prototype.hasTransition=function(){return!1},Z}(i.Evented),F=function(de){function Z(ge,re,ye,Ie){de.call(this,ge,re,ye,Ie),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({type:"raster-dem"},re),this.encoding=re.encoding||"mapbox"}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},Z.prototype.loadTile=function(re,ye){var Ie=this.map._requestManager.normalizeTileURL(re.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);re.request=i.getImage(this.map._requestManager.transformRequest(Ie,i.ResourceType.Tile),Ze.bind(this)),re.neighboringTiles=this._getNeighboringTiles(re.tileID);function Ze(At,Ht){if(delete re.request,re.aborted)re.state="unloaded",ye(null);else if(At)re.state="errored",ye(At);else if(Ht){this.map._refreshExpiredTiles&&re.setExpiryData(Ht),delete Ht.cacheControl,delete Ht.expires;var qt=i.window.ImageBitmap&&Ht instanceof i.window.ImageBitmap&&i.offscreenCanvasSupported(),hr=qt?Ht:i.browser.getImageData(Ht,1),br={uid:re.uid,coord:re.tileID,source:this.id,rawImageData:hr,encoding:this.encoding};(!re.actor||re.state==="expired")&&(re.actor=this.dispatcher.getActor(),re.actor.send("loadDEMTile",br,ft.bind(this)))}}function ft(At,Ht){At&&(re.state="errored",ye(At)),Ht&&(re.dem=Ht,re.needsHillshadePrepare=!0,re.state="loaded",ye(null))}},Z.prototype._getNeighboringTiles=function(re){var ye=re.canonical,Ie=Math.pow(2,ye.z),Ze=(ye.x-1+Ie)%Ie,ft=ye.x===0?re.wrap-1:re.wrap,At=(ye.x+1+Ie)%Ie,Ht=ye.x+1===Ie?re.wrap+1:re.wrap,qt={};return qt[new i.OverscaledTileID(re.overscaledZ,ft,ye.z,Ze,ye.y).key]={backfilled:!1},qt[new i.OverscaledTileID(re.overscaledZ,Ht,ye.z,At,ye.y).key]={backfilled:!1},ye.y>0&&(qt[new i.OverscaledTileID(re.overscaledZ,ft,ye.z,Ze,ye.y-1).key]={backfilled:!1},qt[new i.OverscaledTileID(re.overscaledZ,re.wrap,ye.z,ye.x,ye.y-1).key]={backfilled:!1},qt[new i.OverscaledTileID(re.overscaledZ,Ht,ye.z,At,ye.y-1).key]={backfilled:!1}),ye.y+1<Ie&&(qt[new i.OverscaledTileID(re.overscaledZ,ft,ye.z,Ze,ye.y+1).key]={backfilled:!1},qt[new i.OverscaledTileID(re.overscaledZ,re.wrap,ye.z,ye.x,ye.y+1).key]={backfilled:!1},qt[new i.OverscaledTileID(re.overscaledZ,Ht,ye.z,At,ye.y+1).key]={backfilled:!1}),qt},Z.prototype.unloadTile=function(re){re.demTexture&&this.map.painter.saveTileTexture(re.demTexture),re.fbo&&(re.fbo.destroy(),delete re.fbo),re.dem&&delete re.dem,delete re.neighboringTiles,re.state="unloaded",re.actor&&re.actor.send("removeDEMTile",{uid:re.uid,source:this.id})},Z}(B),H=function(de){function Z(ge,re,ye,Ie){de.call(this),this.id=ge,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ye.getActor(),this.setEventedParent(Ie),this._data=re.data,this._options=i.extend({},re),this._collectResourceTiming=re.collectResourceTiming,this._resourceTiming=[],re.maxzoom!==void 0&&(this.maxzoom=re.maxzoom),re.type&&(this.type=re.type),re.attribution&&(this.attribution=re.attribution),this.promoteId=re.promoteId;var Ze=i.EXTENT/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:re.cluster||!1,geojsonVtOptions:{buffer:(re.buffer!==void 0?re.buffer:128)*Ze,tolerance:(re.tolerance!==void 0?re.tolerance:.375)*Ze,extent:i.EXTENT,maxZoom:this.maxzoom,lineMetrics:re.lineMetrics||!1,generateId:re.generateId||!1},superclusterOptions:{maxZoom:re.clusterMaxZoom!==void 0?Math.min(re.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:i.EXTENT,radius:(re.clusterRadius||50)*Ze,log:!1,generateId:re.generateId||!1},clusterProperties:re.clusterProperties},re.workerOptions)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var re=this;this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ye){if(ye){re.fire(new i.ErrorEvent(ye));return}var Ie={dataType:"source",sourceDataType:"metadata"};re._collectResourceTiming&&re._resourceTiming&&re._resourceTiming.length>0&&(Ie.resourceTiming=re._resourceTiming,re._resourceTiming=[]),re.fire(new i.Event("data",Ie))})},Z.prototype.onAdd=function(re){this.map=re,this.load()},Z.prototype.setData=function(re){var ye=this;return this._data=re,this.fire(new i.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Ie){if(Ie){ye.fire(new i.ErrorEvent(Ie));return}var Ze={dataType:"source",sourceDataType:"content"};ye._collectResourceTiming&&ye._resourceTiming&&ye._resourceTiming.length>0&&(Ze.resourceTiming=ye._resourceTiming,ye._resourceTiming=[]),ye.fire(new i.Event("data",Ze))}),this},Z.prototype.getClusterExpansionZoom=function(re,ye){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:re,source:this.id},ye),this},Z.prototype.getClusterChildren=function(re,ye){return this.actor.send("geojson.getClusterChildren",{clusterId:re,source:this.id},ye),this},Z.prototype.getClusterLeaves=function(re,ye,Ie,Ze){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:re,limit:ye,offset:Ie},Ze),this},Z.prototype._updateWorkerData=function(re){var ye=this;this._loaded=!1;var Ie=i.extend({},this.workerOptions),Ze=this._data;typeof Ze=="string"?(Ie.request=this.map._requestManager.transformRequest(i.browser.resolveURL(Ze),i.ResourceType.Source),Ie.request.collectResourceTiming=this._collectResourceTiming):Ie.data=JSON.stringify(Ze),this.actor.send(this.type+".loadData",Ie,function(ft,At){ye._removed||At&&At.abandoned||(ye._loaded=!0,At&&At.resourceTiming&&At.resourceTiming[ye.id]&&(ye._resourceTiming=At.resourceTiming[ye.id].slice(0)),ye.actor.send(ye.type+".coalesce",{source:Ie.source},null),re(ft))})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.loadTile=function(re,ye){var Ie=this,Ze=re.actor?"reloadTile":"loadTile";re.actor=this.actor;var ft={type:this.type,uid:re.uid,tileID:re.tileID,zoom:re.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:i.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};re.request=this.actor.send(Ze,ft,function(At,Ht){return delete re.request,re.unloadVectorData(),re.aborted?ye(null):At?ye(At):(re.loadVectorData(Ht,Ie.map.painter,Ze==="reloadTile"),ye(null))})},Z.prototype.abortTile=function(re){re.request&&(re.request.cancel(),delete re.request),re.aborted=!0},Z.prototype.unloadTile=function(re){re.unloadVectorData(),this.actor.send("removeTile",{uid:re.uid,type:this.type,source:this.id})},Z.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},Z.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},Z.prototype.hasTransition=function(){return!1},Z}(i.Evented),X=i.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),q=function(de){function Z(ge,re,ye,Ie){de.call(this),this.id=ge,this.dispatcher=ye,this.coordinates=re.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Ie),this.options=re}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(re,ye){var Ie=this;this._loaded=!1,this.fire(new i.Event("dataloading",{dataType:"source"})),this.url=this.options.url,i.getImage(this.map._requestManager.transformRequest(this.url,i.ResourceType.Image),function(Ze,ft){Ie._loaded=!0,Ze?Ie.fire(new i.ErrorEvent(Ze)):ft&&(Ie.image=ft,re&&(Ie.coordinates=re),ye&&ye(),Ie._finishLoading())})},Z.prototype.loaded=function(){return this._loaded},Z.prototype.updateImage=function(re){var ye=this;return!this.image||!re.url?this:(this.options.url=re.url,this.load(re.coordinates,function(){ye.texture=null}),this)},Z.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"metadata"})))},Z.prototype.onAdd=function(re){this.map=re,this.load()},Z.prototype.setCoordinates=function(re){var ye=this;this.coordinates=re;var Ie=re.map(i.MercatorCoordinate.fromLngLat);this.tileID=ne(Ie),this.minzoom=this.maxzoom=this.tileID.z;var Ze=Ie.map(function(ft){return ye.tileID.getTilePoint(ft)._round()});return this._boundsArray=new i.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ze[0].x,Ze[0].y,0,0),this._boundsArray.emplaceBack(Ze[1].x,Ze[1].y,i.EXTENT,0),this._boundsArray.emplaceBack(Ze[3].x,Ze[3].y,0,i.EXTENT),this._boundsArray.emplaceBack(Ze[2].x,Ze[2].y,i.EXTENT,i.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new i.Event("data",{dataType:"source",sourceDataType:"content"})),this},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var re=this.map.painter.context,ye=re.gl;this.boundsBuffer||(this.boundsBuffer=re.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new i.Texture(re,this.image,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var Ie in this.tiles){var Ze=this.tiles[Ie];Ze.state!=="loaded"&&(Ze.state="loaded",Ze.texture=this.texture)}}},Z.prototype.loadTile=function(re,ye){this.tileID&&this.tileID.equals(re.tileID.canonical)?(this.tiles[String(re.tileID.wrap)]=re,re.buckets={},ye(null)):(re.state="errored",ye(null))},Z.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return!1},Z}(i.Evented);function ne(de){for(var Z=1/0,ge=1/0,re=-1/0,ye=-1/0,Ie=0,Ze=de;Ie<Ze.length;Ie+=1){var ft=Ze[Ie];Z=Math.min(Z,ft.x),ge=Math.min(ge,ft.y),re=Math.max(re,ft.x),ye=Math.max(ye,ft.y)}var At=re-Z,Ht=ye-ge,qt=Math.max(At,Ht),hr=Math.max(0,Math.floor(-Math.log(qt)/Math.LN2)),br=Math.pow(2,hr);return new i.CanonicalTileID(hr,Math.floor((Z+re)/2*br),Math.floor((ge+ye)/2*br))}var oe=function(de){function Z(ge,re,ye,Ie){de.call(this,ge,re,ye,Ie),this.roundZoom=!0,this.type="video",this.options=re}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){var re=this;this._loaded=!1;var ye=this.options;this.urls=[];for(var Ie=0,Ze=ye.urls;Ie<Ze.length;Ie+=1){var ft=Ze[Ie];this.urls.push(this.map._requestManager.transformRequest(ft,i.ResourceType.Source).url)}i.getVideo(this.urls,function(At,Ht){re._loaded=!0,At?re.fire(new i.ErrorEvent(At)):Ht&&(re.video=Ht,re.video.loop=!0,re.video.addEventListener("playing",function(){re.map.triggerRepaint()}),re.map&&re.video.play(),re._finishLoading())})},Z.prototype.pause=function(){this.video&&this.video.pause()},Z.prototype.play=function(){this.video&&this.video.play()},Z.prototype.seek=function(re){if(this.video){var ye=this.video.seekable;re<ye.start(0)||re>ye.end(0)?this.fire(new i.ErrorEvent(new i.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ye.start(0)+" and "+ye.end(0)+"-second mark."))):this.video.currentTime=re}},Z.prototype.getVideo=function(){return this.video},Z.prototype.onAdd=function(re){this.map||(this.map=re,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},Z.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var re=this.map.painter.context,ye=re.gl;this.boundsBuffer||(this.boundsBuffer=re.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),ye.texSubImage2D(ye.TEXTURE_2D,0,0,0,ye.RGBA,ye.UNSIGNED_BYTE,this.video)):(this.texture=new i.Texture(re,this.video,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var Ie in this.tiles){var Ze=this.tiles[Ie];Ze.state!=="loaded"&&(Ze.state="loaded",Ze.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this.video&&!this.video.paused},Z}(q),ve=function(de){function Z(ge,re,ye,Ie){de.call(this,ge,re,ye,Ie),re.coordinates?(!Array.isArray(re.coordinates)||re.coordinates.length!==4||re.coordinates.some(function(Ze){return!Array.isArray(Ze)||Ze.length!==2||Ze.some(function(ft){return typeof ft!="number"})}))&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ge,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ge,null,'missing required property "coordinates"'))),re.animate&&typeof re.animate!="boolean"&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ge,null,'optional "animate" property must be a boolean value'))),re.canvas?typeof re.canvas!="string"&&!(re.canvas instanceof i.window.HTMLCanvasElement)&&this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ge,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.ErrorEvent(new i.ValidationError("sources."+ge,null,'missing required property "canvas"'))),this.options=re,this.animate=re.animate!==void 0?re.animate:!0}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof i.window.HTMLCanvasElement?this.options.canvas:i.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new i.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},Z.prototype.getCanvas=function(){return this.canvas},Z.prototype.onAdd=function(re){this.map=re,this.load(),this.canvas&&this.animate&&this.play()},Z.prototype.onRemove=function(){this.pause()},Z.prototype.prepare=function(){var re=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,re=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,re=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ye=this.map.painter.context,Ie=ye.gl;this.boundsBuffer||(this.boundsBuffer=ye.createVertexBuffer(this._boundsArray,X.members)),this.boundsSegments||(this.boundsSegments=i.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(re||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new i.Texture(ye,this.canvas,Ie.RGBA,{premultiply:!0});for(var Ze in this.tiles){var ft=this.tiles[Ze];ft.state!=="loaded"&&(ft.state="loaded",ft.texture=this.texture)}}},Z.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},Z.prototype.hasTransition=function(){return this._playing},Z.prototype._hasInvalidDimensions=function(){for(var re=0,ye=[this.canvas.width,this.canvas.height];re<ye.length;re+=1){var Ie=ye[re];if(isNaN(Ie)||Ie<=0)return!0}return!1},Z}(q),J={vector:N,raster:B,"raster-dem":F,geojson:H,video:oe,image:q,canvas:ve},Y=function(de,Z,ge,re){var ye=new J[Z.type](de,Z,ge,re);if(ye.id!==de)throw new Error("Expected Source id to be "+de+" instead of "+ye.id);return i.bindAll(["load","abort","unload","serialize","prepare"],ye),ye},j=function(de){return J[de]},K=function(de,Z){J[de]=Z};function te(de,Z){var ge=i.identity([]);return i.translate(ge,ge,[1,1,0]),i.scale(ge,ge,[de.width*.5,de.height*.5,1]),i.multiply(ge,ge,de.calculatePosMatrix(Z.toUnwrapped()))}function se(de,Z,ge){if(de)for(var re=0,ye=de;re<ye.length;re+=1){var Ie=ye[re],Ze=Z[Ie];if(Ze&&Ze.source===ge&&Ze.type==="fill-extrusion")return!0}else for(var ft in Z){var At=Z[ft];if(At.source===ge&&At.type==="fill-extrusion")return!0}return!1}function Q(de,Z,ge,re,ye,Ie){var Ze=se(ye&&ye.layers,Z,de.id),ft=Ie.maxPitchScaleFactor(),At=de.tilesIn(re,ft,Ze);At.sort(ie);for(var Ht=[],qt=0,hr=At;qt<hr.length;qt+=1){var br=hr[qt];Ht.push({wrappedTileID:br.tileID.wrapped().key,queryResults:br.tile.queryRenderedFeatures(Z,ge,de._state,br.queryGeometry,br.cameraQueryGeometry,br.scale,ye,Ie,ft,te(de.transform,br.tileID))})}var Or=he(Ht);for(var Yr in Or)Or[Yr].forEach(function(Xr){var jr=Xr.feature,tn=de.getFeatureState(jr.layer["source-layer"],jr.id);jr.source=jr.layer.source,jr.layer["source-layer"]&&(jr.sourceLayer=jr.layer["source-layer"]),jr.state=tn});return Or}function ee(de,Z,ge,re,ye,Ie,Ze){for(var ft={},At=Ie.queryRenderedSymbols(re),Ht=[],qt=0,hr=Object.keys(At).map(Number);qt<hr.length;qt+=1){var br=hr[qt];Ht.push(Ze[br])}Ht.sort(ie);for(var Or=function(){var vn=Xr[Yr],kn=vn.featureIndex.lookupSymbolFeatures(At[vn.bucketInstanceId],Z,vn.bucketIndex,vn.sourceLayerIndex,ye.filter,ye.layers,ye.availableImages,de);for(var Gn in kn){var $n=ft[Gn]=ft[Gn]||[],ra=kn[Gn];ra.sort(function(xa,Ea){var _a=vn.featureSortOrder;if(_a){var ja=_a.indexOf(xa.featureIndex),ti=_a.indexOf(Ea.featureIndex);return ti-ja}else return Ea.featureIndex-xa.featureIndex});for(var ea=0,ha=ra;ea<ha.length;ea+=1){var wa=ha[ea];$n.push(wa)}}},Yr=0,Xr=Ht;Yr<Xr.length;Yr+=1)Or();var jr=function(vn){ft[vn].forEach(function(kn){var Gn=kn.feature,$n=de[vn],ra=ge[$n.source],ea=ra.getFeatureState(Gn.layer["source-layer"],Gn.id);Gn.source=Gn.layer.source,Gn.layer["source-layer"]&&(Gn.sourceLayer=Gn.layer["source-layer"]),Gn.state=ea})};for(var tn in ft)jr(tn);return ft}function le(de,Z){for(var ge=de.getRenderableIds().map(function(At){return de.getTileByID(At)}),re=[],ye={},Ie=0;Ie<ge.length;Ie++){var Ze=ge[Ie],ft=Ze.tileID.canonical.key;ye[ft]||(ye[ft]=!0,Ze.querySourceFeatures(re,Z))}return re}function ie(de,Z){var ge=de.tileID,re=Z.tileID;return ge.overscaledZ-re.overscaledZ||ge.canonical.y-re.canonical.y||ge.wrap-re.wrap||ge.canonical.x-re.canonical.x}function he(de){for(var Z={},ge={},re=0,ye=de;re<ye.length;re+=1){var Ie=ye[re],Ze=Ie.queryResults,ft=Ie.wrappedTileID,At=ge[ft]=ge[ft]||{};for(var Ht in Ze)for(var qt=Ze[Ht],hr=At[Ht]=At[Ht]||{},br=Z[Ht]=Z[Ht]||[],Or=0,Yr=qt;Or<Yr.length;Or+=1){var Xr=Yr[Or];hr[Xr.featureIndex]||(hr[Xr.featureIndex]=!0,br.push(Xr))}}return Z}var xe=function(Z,ge){this.max=Z,this.onRemove=ge,this.reset()};xe.prototype.reset=function(){for(var Z in this.data)for(var ge=0,re=this.data[Z];ge<re.length;ge+=1){var ye=re[ge];ye.timeout&&clearTimeout(ye.timeout),this.onRemove(ye.value)}return this.data={},this.order=[],this},xe.prototype.add=function(Z,ge,re){var ye=this,Ie=Z.wrapped().key;this.data[Ie]===void 0&&(this.data[Ie]=[]);var Ze={value:ge,timeout:void 0};if(re!==void 0&&(Ze.timeout=setTimeout(function(){ye.remove(Z,Ze)},re)),this.data[Ie].push(Ze),this.order.push(Ie),this.order.length>this.max){var ft=this._getAndRemoveByKey(this.order[0]);ft&&this.onRemove(ft)}return this},xe.prototype.has=function(Z){return Z.wrapped().key in this.data},xe.prototype.getAndRemove=function(Z){return this.has(Z)?this._getAndRemoveByKey(Z.wrapped().key):null},xe.prototype._getAndRemoveByKey=function(Z){var ge=this.data[Z].shift();return ge.timeout&&clearTimeout(ge.timeout),this.data[Z].length===0&&delete this.data[Z],this.order.splice(this.order.indexOf(Z),1),ge.value},xe.prototype.getByKey=function(Z){var ge=this.data[Z];return ge?ge[0].value:null},xe.prototype.get=function(Z){if(!this.has(Z))return null;var ge=this.data[Z.wrapped().key][0];return ge.value},xe.prototype.remove=function(Z,ge){if(!this.has(Z))return this;var re=Z.wrapped().key,ye=ge===void 0?0:this.data[re].indexOf(ge),Ie=this.data[re][ye];return this.data[re].splice(ye,1),Ie.timeout&&clearTimeout(Ie.timeout),this.data[re].length===0&&delete this.data[re],this.onRemove(Ie.value),this.order.splice(this.order.indexOf(re),1),this},xe.prototype.setMaxSize=function(Z){for(this.max=Z;this.order.length>this.max;){var ge=this._getAndRemoveByKey(this.order[0]);ge&&this.onRemove(ge)}return this},xe.prototype.filter=function(Z){var ge=[];for(var re in this.data)for(var ye=0,Ie=this.data[re];ye<Ie.length;ye+=1){var Ze=Ie[ye];Z(Ze.value)||ge.push(Ze)}for(var ft=0,At=ge;ft<At.length;ft+=1){var Ht=At[ft];this.remove(Ht.value.tileID,Ht)}};var Se=function(Z,ge,re){this.context=Z;var ye=Z.gl;this.buffer=ye.createBuffer(),this.dynamicDraw=!!re,this.context.unbindVAO(),Z.bindElementBuffer.set(this.buffer),ye.bufferData(ye.ELEMENT_ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?ye.DYNAMIC_DRAW:ye.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};Se.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Se.prototype.updateData=function(Z){var ge=this.context.gl;this.context.unbindVAO(),this.bind(),ge.bufferSubData(ge.ELEMENT_ARRAY_BUFFER,0,Z.arrayBuffer)},Se.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var Ee={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Ne=function(Z,ge,re,ye){this.length=ge.length,this.attributes=re,this.itemSize=ge.bytesPerElement,this.dynamicDraw=ye,this.context=Z;var Ie=Z.gl;this.buffer=Ie.createBuffer(),Z.bindVertexBuffer.set(this.buffer),Ie.bufferData(Ie.ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?Ie.DYNAMIC_DRAW:Ie.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};Ne.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Ne.prototype.updateData=function(Z){var ge=this.context.gl;this.bind(),ge.bufferSubData(ge.ARRAY_BUFFER,0,Z.arrayBuffer)},Ne.prototype.enableAttributes=function(Z,ge){for(var re=0;re<this.attributes.length;re++){var ye=this.attributes[re],Ie=ge.attributes[ye.name];Ie!==void 0&&Z.enableVertexAttribArray(Ie)}},Ne.prototype.setVertexAttribPointers=function(Z,ge,re){for(var ye=0;ye<this.attributes.length;ye++){var Ie=this.attributes[ye],Ze=ge.attributes[Ie.name];Ze!==void 0&&Z.vertexAttribPointer(Ze,Ie.components,Z[Ee[Ie.type]],!1,this.itemSize,Ie.offset+this.itemSize*(re||0))}},Ne.prototype.destroy=function(){var Z=this.context.gl;this.buffer&&(Z.deleteBuffer(this.buffer),delete this.buffer)};var He=function(Z){this.gl=Z.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};He.prototype.get=function(){return this.current},He.prototype.set=function(Z){},He.prototype.getDefault=function(){return this.default},He.prototype.setDefault=function(){this.set(this.default)};var Ce=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return i.Color.transparent},Z.prototype.set=function(re){var ye=this.current;re.r===ye.r&&re.g===ye.g&&re.b===ye.b&&re.a===ye.a&&!this.dirty||(this.gl.clearColor(re.r,re.g,re.b,re.a),this.current=re,this.dirty=!1)},Z}(He),be=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 1},Z.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.clearDepth(re),this.current=re,this.dirty=!1)},Z}(He),we=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 0},Z.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.clearStencil(re),this.current=re,this.dirty=!1)},Z}(He),ke=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[!0,!0,!0,!0]},Z.prototype.set=function(re){var ye=this.current;re[0]===ye[0]&&re[1]===ye[1]&&re[2]===ye[2]&&re[3]===ye[3]&&!this.dirty||(this.gl.colorMask(re[0],re[1],re[2],re[3]),this.current=re,this.dirty=!1)},Z}(He),Fe=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!0},Z.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.depthMask(re),this.current=re,this.dirty=!1)},Z}(He),Pe=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 255},Z.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.stencilMask(re),this.current=re,this.dirty=!1)},Z}(He),Ge=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},Z.prototype.set=function(re){var ye=this.current;re.func===ye.func&&re.ref===ye.ref&&re.mask===ye.mask&&!this.dirty||(this.gl.stencilFunc(re.func,re.ref,re.mask),this.current=re,this.dirty=!1)},Z}(He),nt=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var re=this.gl;return[re.KEEP,re.KEEP,re.KEEP]},Z.prototype.set=function(re){var ye=this.current;re[0]===ye[0]&&re[1]===ye[1]&&re[2]===ye[2]&&!this.dirty||(this.gl.stencilOp(re[0],re[1],re[2]),this.current=re,this.dirty=!1)},Z}(He),qe=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;re?ye.enable(ye.STENCIL_TEST):ye.disable(ye.STENCIL_TEST),this.current=re,this.dirty=!1}},Z}(He),Ke=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return[0,1]},Z.prototype.set=function(re){var ye=this.current;re[0]===ye[0]&&re[1]===ye[1]&&!this.dirty||(this.gl.depthRange(re[0],re[1]),this.current=re,this.dirty=!1)},Z}(He),$e=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;re?ye.enable(ye.DEPTH_TEST):ye.disable(ye.DEPTH_TEST),this.current=re,this.dirty=!1}},Z}(He),vt=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.LESS},Z.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.depthFunc(re),this.current=re,this.dirty=!1)},Z}(He),yt=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;re?ye.enable(ye.BLEND):ye.disable(ye.BLEND),this.current=re,this.dirty=!1}},Z}(He),mt=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var re=this.gl;return[re.ONE,re.ZERO]},Z.prototype.set=function(re){var ye=this.current;re[0]===ye[0]&&re[1]===ye[1]&&!this.dirty||(this.gl.blendFunc(re[0],re[1]),this.current=re,this.dirty=!1)},Z}(He),Et=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return i.Color.transparent},Z.prototype.set=function(re){var ye=this.current;re.r===ye.r&&re.g===ye.g&&re.b===ye.b&&re.a===ye.a&&!this.dirty||(this.gl.blendColor(re.r,re.g,re.b,re.a),this.current=re,this.dirty=!1)},Z}(He),Xe=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.FUNC_ADD},Z.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.blendEquation(re),this.current=re,this.dirty=!1)},Z}(He),Ue=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;re?ye.enable(ye.CULL_FACE):ye.disable(ye.CULL_FACE),this.current=re,this.dirty=!1}},Z}(He),Be=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.BACK},Z.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.cullFace(re),this.current=re,this.dirty=!1)},Z}(He),rt=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.CCW},Z.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.frontFace(re),this.current=re,this.dirty=!1)},Z}(He),it=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.useProgram(re),this.current=re,this.dirty=!1)},Z}(He),Ye=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return this.gl.TEXTURE0},Z.prototype.set=function(re){re===this.current&&!this.dirty||(this.gl.activeTexture(re),this.current=re,this.dirty=!1)},Z}(He),De=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){var re=this.gl;return[0,0,re.drawingBufferWidth,re.drawingBufferHeight]},Z.prototype.set=function(re){var ye=this.current;re[0]===ye[0]&&re[1]===ye[1]&&re[2]===ye[2]&&re[3]===ye[3]&&!this.dirty||(this.gl.viewport(re[0],re[1],re[2],re[3]),this.current=re,this.dirty=!1)},Z}(He),Te=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;ye.bindFramebuffer(ye.FRAMEBUFFER,re),this.current=re,this.dirty=!1}},Z}(He),fe=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;ye.bindRenderbuffer(ye.RENDERBUFFER,re),this.current=re,this.dirty=!1}},Z}(He),me=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;ye.bindTexture(ye.TEXTURE_2D,re),this.current=re,this.dirty=!1}},Z}(He),Re=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;ye.bindBuffer(ye.ARRAY_BUFFER,re),this.current=re,this.dirty=!1}},Z}(He),Oe=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(re){var ye=this.gl;ye.bindBuffer(ye.ELEMENT_ARRAY_BUFFER,re),this.current=re,this.dirty=!1},Z}(He),st=function(de){function Z(ge){de.call(this,ge),this.vao=ge.extVertexArrayObject}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z.prototype.set=function(re){!this.vao||re===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(re),this.current=re,this.dirty=!1)},Z}(He),ut=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return 4},Z.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_ALIGNMENT,re),this.current=re,this.dirty=!1}},Z}(He),Tt=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re),this.current=re,this.dirty=!1}},Z}(He),It=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return!1},Z.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_FLIP_Y_WEBGL,re),this.current=re,this.dirty=!1}},Z}(He),Gt=function(de){function Z(ge,re){de.call(this,ge),this.context=ge,this.parent=re}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getDefault=function(){return null},Z}(He),jt=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.setDirty=function(){this.dirty=!0},Z.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,re,0),this.current=re,this.dirty=!1}},Z}(Gt),Pt=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.set=function(re){if(!(re===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferRenderbuffer(ye.FRAMEBUFFER,ye.DEPTH_ATTACHMENT,ye.RENDERBUFFER,re),this.current=re,this.dirty=!1}},Z}(Gt),Qt=function(Z,ge,re,ye){this.context=Z,this.width=ge,this.height=re;var Ie=Z.gl,Ze=this.framebuffer=Ie.createFramebuffer();this.colorAttachment=new jt(Z,Ze),ye&&(this.depthAttachment=new Pt(Z,Ze))};Qt.prototype.destroy=function(){var Z=this.context.gl,ge=this.colorAttachment.get();if(ge&&Z.deleteTexture(ge),this.depthAttachment){var re=this.depthAttachment.get();re&&Z.deleteRenderbuffer(re)}Z.deleteFramebuffer(this.framebuffer)};var or=519,zr=function(Z,ge,re){this.func=Z,this.mask=ge,this.range=re};zr.ReadOnly=!1,zr.ReadWrite=!0,zr.disabled=new zr(or,zr.ReadOnly,[0,1]);var bt=519,Jt=7680,Zt=function(Z,ge,re,ye,Ie,Ze){this.test=Z,this.ref=ge,this.mask=re,this.fail=ye,this.depthFail=Ie,this.pass=Ze};Zt.disabled=new Zt({func:bt,mask:0},0,0,Jt,Jt,Jt);var Ar=0,dr=1,ht=771,ct=function(Z,ge,re){this.blendFunction=Z,this.blendColor=ge,this.mask=re};ct.Replace=[dr,Ar],ct.disabled=new ct(ct.Replace,i.Color.transparent,[!1,!1,!1,!1]),ct.unblended=new ct(ct.Replace,i.Color.transparent,[!0,!0,!0,!0]),ct.alphaBlended=new ct([dr,ht],i.Color.transparent,[!0,!0,!0,!0]);var wt=1029,St=2305,Rt=function(Z,ge,re){this.enable=Z,this.mode=ge,this.frontFace=re};Rt.disabled=new Rt(!1,wt,St),Rt.backCCW=new Rt(!0,wt,St);var Ct=function(Z){this.gl=Z,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ce(this),this.clearDepth=new be(this),this.clearStencil=new we(this),this.colorMask=new ke(this),this.depthMask=new Fe(this),this.stencilMask=new Pe(this),this.stencilFunc=new Ge(this),this.stencilOp=new nt(this),this.stencilTest=new qe(this),this.depthRange=new Ke(this),this.depthTest=new $e(this),this.depthFunc=new vt(this),this.blend=new yt(this),this.blendFunc=new mt(this),this.blendColor=new Et(this),this.blendEquation=new Xe(this),this.cullFace=new Ue(this),this.cullFaceSide=new Be(this),this.frontFace=new rt(this),this.program=new it(this),this.activeTexture=new Ye(this),this.viewport=new De(this),this.bindFramebuffer=new Te(this),this.bindRenderbuffer=new fe(this),this.bindTexture=new me(this),this.bindVertexBuffer=new Re(this),this.bindElementBuffer=new Oe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new st(this),this.pixelStoreUnpack=new ut(this),this.pixelStoreUnpackPremultiplyAlpha=new Tt(this),this.pixelStoreUnpackFlipY=new It(this),this.extTextureFilterAnisotropic=Z.getExtension("EXT_texture_filter_anisotropic")||Z.getExtension("MOZ_EXT_texture_filter_anisotropic")||Z.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=Z.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=Z.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(Z.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=Z.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=Z.getExtension("EXT_disjoint_timer_query")};Ct.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ct.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ct.prototype.createIndexBuffer=function(Z,ge){return new Se(this,Z,ge)},Ct.prototype.createVertexBuffer=function(Z,ge,re){return new Ne(this,Z,ge,re)},Ct.prototype.createRenderbuffer=function(Z,ge,re){var ye=this.gl,Ie=ye.createRenderbuffer();return this.bindRenderbuffer.set(Ie),ye.renderbufferStorage(ye.RENDERBUFFER,Z,ge,re),this.bindRenderbuffer.set(null),Ie},Ct.prototype.createFramebuffer=function(Z,ge,re){return new Qt(this,Z,ge,re)},Ct.prototype.clear=function(Z){var ge=Z.color,re=Z.depth,ye=this.gl,Ie=0;ge&&(Ie|=ye.COLOR_BUFFER_BIT,this.clearColor.set(ge),this.colorMask.set([!0,!0,!0,!0])),typeof re<"u"&&(Ie|=ye.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(re),this.depthMask.set(!0)),ye.clear(Ie)},Ct.prototype.setCullFace=function(Z){Z.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(Z.mode),this.frontFace.set(Z.frontFace))},Ct.prototype.setDepthMode=function(Z){Z.func===this.gl.ALWAYS&&!Z.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(Z.func),this.depthMask.set(Z.mask),this.depthRange.set(Z.range))},Ct.prototype.setStencilMode=function(Z){Z.test.func===this.gl.ALWAYS&&!Z.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(Z.mask),this.stencilOp.set([Z.fail,Z.depthFail,Z.pass]),this.stencilFunc.set({func:Z.test.func,ref:Z.ref,mask:Z.test.mask}))},Ct.prototype.setColorMode=function(Z){i.deepEqual(Z.blendFunction,ct.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(Z.blendFunction),this.blendColor.set(Z.blendColor)),this.colorMask.set(Z.mask)},Ct.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ot=function(de){function Z(ge,re,ye){var Ie=this;de.call(this),this.id=ge,this.dispatcher=ye,this.on("data",function(Ze){Ze.dataType==="source"&&Ze.sourceDataType==="metadata"&&(Ie._sourceLoaded=!0),Ie._sourceLoaded&&!Ie._paused&&Ze.dataType==="source"&&Ze.sourceDataType==="content"&&(Ie.reload(),Ie.transform&&Ie.update(Ie.transform))}),this.on("error",function(){Ie._sourceErrored=!0}),this._source=Y(ge,re,ye,this),this._tiles={},this._cache=new xe(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new i.SourceFeatureState}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(re){this.map=re,this._maxTileCacheSize=re?re._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(re)},Z.prototype.onRemove=function(re){this._source&&this._source.onRemove&&this._source.onRemove(re)},Z.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var re in this._tiles){var ye=this._tiles[re];if(ye.state!=="loaded"&&ye.state!=="errored")return!1}return!0},Z.prototype.getSource=function(){return this._source},Z.prototype.pause=function(){this._paused=!0},Z.prototype.resume=function(){if(this._paused){var re=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,re&&this.reload(),this.transform&&this.update(this.transform)}},Z.prototype._loadTile=function(re,ye){return this._source.loadTile(re,ye)},Z.prototype._unloadTile=function(re){if(this._source.unloadTile)return this._source.unloadTile(re,function(){})},Z.prototype._abortTile=function(re){if(this._source.abortTile)return this._source.abortTile(re,function(){})},Z.prototype.serialize=function(){return this._source.serialize()},Z.prototype.prepare=function(re){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ye in this._tiles){var Ie=this._tiles[ye];Ie.upload(re),Ie.prepare(this.map.style.imageManager)}},Z.prototype.getIds=function(){return i.values(this._tiles).map(function(re){return re.tileID}).sort(Wt).map(function(re){return re.key})},Z.prototype.getRenderableIds=function(re){var ye=this,Ie=[];for(var Ze in this._tiles)this._isIdRenderable(Ze,re)&&Ie.push(this._tiles[Ze]);return re?Ie.sort(function(ft,At){var Ht=ft.tileID,qt=At.tileID,hr=new i.Point(Ht.canonical.x,Ht.canonical.y)._rotate(ye.transform.angle),br=new i.Point(qt.canonical.x,qt.canonical.y)._rotate(ye.transform.angle);return Ht.overscaledZ-qt.overscaledZ||br.y-hr.y||br.x-hr.x}).map(function(ft){return ft.tileID.key}):Ie.map(function(ft){return ft.tileID}).sort(Wt).map(function(ft){return ft.key})},Z.prototype.hasRenderableParent=function(re){var ye=this.findLoadedParent(re,0);return ye?this._isIdRenderable(ye.tileID.key):!1},Z.prototype._isIdRenderable=function(re,ye){return this._tiles[re]&&this._tiles[re].hasData()&&!this._coveredTiles[re]&&(ye||!this._tiles[re].holdingForFade())},Z.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var re in this._tiles)this._tiles[re].state!=="errored"&&this._reloadTile(re,"reloading")},Z.prototype._reloadTile=function(re,ye){var Ie=this._tiles[re];Ie&&(Ie.state!=="loading"&&(Ie.state=ye),this._loadTile(Ie,this._tileLoaded.bind(this,Ie,re,ye)))},Z.prototype._tileLoaded=function(re,ye,Ie,Ze){if(Ze){re.state="errored",Ze.status!==404?this._source.fire(new i.ErrorEvent(Ze,{tile:re})):this.update(this.transform);return}re.timeAdded=i.browser.now(),Ie==="expired"&&(re.refreshedUponExpiration=!0),this._setTileReloadTimer(ye,re),this.getSource().type==="raster-dem"&&re.dem&&this._backfillDEM(re),this._state.initializeTileState(re,this.map?this.map.painter:null),this._source.fire(new i.Event("data",{dataType:"source",tile:re,coord:re.tileID}))},Z.prototype._backfillDEM=function(re){for(var ye=this.getRenderableIds(),Ie=0;Ie<ye.length;Ie++){var Ze=ye[Ie];if(re.neighboringTiles&&re.neighboringTiles[Ze]){var ft=this.getTileByID(Ze);At(re,ft),At(ft,re)}}function At(Ht,qt){Ht.needsHillshadePrepare=!0;var hr=qt.tileID.canonical.x-Ht.tileID.canonical.x,br=qt.tileID.canonical.y-Ht.tileID.canonical.y,Or=Math.pow(2,Ht.tileID.canonical.z),Yr=qt.tileID.key;hr===0&&br===0||Math.abs(br)>1||(Math.abs(hr)>1&&(Math.abs(hr+Or)===1?hr+=Or:Math.abs(hr-Or)===1&&(hr-=Or)),!(!qt.dem||!Ht.dem)&&(Ht.dem.backfillBorder(qt.dem,hr,br),Ht.neighboringTiles&&Ht.neighboringTiles[Yr]&&(Ht.neighboringTiles[Yr].backfilled=!0)))}},Z.prototype.getTile=function(re){return this.getTileByID(re.key)},Z.prototype.getTileByID=function(re){return this._tiles[re]},Z.prototype._retainLoadedChildren=function(re,ye,Ie,Ze){for(var ft in this._tiles){var At=this._tiles[ft];if(!(Ze[ft]||!At.hasData()||At.tileID.overscaledZ<=ye||At.tileID.overscaledZ>Ie)){for(var Ht=At.tileID;At&&At.tileID.overscaledZ>ye+1;){var qt=At.tileID.scaledTo(At.tileID.overscaledZ-1);At=this._tiles[qt.key],At&&At.hasData()&&(Ht=qt)}for(var hr=Ht;hr.overscaledZ>ye;)if(hr=hr.scaledTo(hr.overscaledZ-1),re[hr.key]){Ze[Ht.key]=Ht;break}}}},Z.prototype.findLoadedParent=function(re,ye){if(re.key in this._loadedParentTiles){var Ie=this._loadedParentTiles[re.key];return Ie&&Ie.tileID.overscaledZ>=ye?Ie:null}for(var Ze=re.overscaledZ-1;Ze>=ye;Ze--){var ft=re.scaledTo(Ze),At=this._getLoadedTile(ft);if(At)return At}},Z.prototype._getLoadedTile=function(re){var ye=this._tiles[re.key];if(ye&&ye.hasData())return ye;var Ie=this._cache.getByKey(re.wrapped().key);return Ie},Z.prototype.updateCacheSize=function(re){var ye=Math.ceil(re.width/this._source.tileSize)+1,Ie=Math.ceil(re.height/this._source.tileSize)+1,Ze=ye*Ie,ft=5,At=Math.floor(Ze*ft),Ht=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,At):At;this._cache.setMaxSize(Ht)},Z.prototype.handleWrapJump=function(re){var ye=this._prevLng===void 0?re:this._prevLng,Ie=re-ye,Ze=Ie/360,ft=Math.round(Ze);if(this._prevLng=re,ft){var At={};for(var Ht in this._tiles){var qt=this._tiles[Ht];qt.tileID=qt.tileID.unwrapTo(qt.tileID.wrap+ft),At[qt.tileID.key]=qt}this._tiles=At;for(var hr in this._timers)clearTimeout(this._timers[hr]),delete this._timers[hr];for(var br in this._tiles){var Or=this._tiles[br];this._setTileReloadTimer(br,Or)}}},Z.prototype.update=function(re){var ye=this;if(this.transform=re,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(re),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Ie;this.used?this._source.tileID?Ie=re.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(xa){return new i.OverscaledTileID(xa.canonical.z,xa.wrap,xa.canonical.z,xa.canonical.x,xa.canonical.y)}):(Ie=re.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Ie=Ie.filter(function(xa){return ye._source.hasTile(xa)}))):Ie=[];var Ze=re.coveringZoomLevel(this._source),ft=Math.max(Ze-Z.maxOverzooming,this._source.minzoom),At=Math.max(Ze+Z.maxUnderzooming,this._source.minzoom),Ht=this._updateRetainedTiles(Ie,Ze);if(er(this._source.type)){for(var qt={},hr={},br=Object.keys(Ht),Or=0,Yr=br;Or<Yr.length;Or+=1){var Xr=Yr[Or],jr=Ht[Xr],tn=this._tiles[Xr];if(!(!tn||tn.fadeEndTime&&tn.fadeEndTime<=i.browser.now())){var vn=this.findLoadedParent(jr,ft);vn&&(this._addTile(vn.tileID),qt[vn.tileID.key]=vn.tileID),hr[Xr]=jr}}this._retainLoadedChildren(hr,Ze,At,Ht);for(var kn in qt)Ht[kn]||(this._coveredTiles[kn]=!0,Ht[kn]=qt[kn])}for(var Gn in Ht)this._tiles[Gn].clearFadeHold();for(var $n=i.keysDifference(this._tiles,Ht),ra=0,ea=$n;ra<ea.length;ra+=1){var ha=ea[ra],wa=this._tiles[ha];wa.hasSymbolBuckets&&!wa.holdingForFade()?wa.setHoldDuration(this.map._fadeDuration):(!wa.hasSymbolBuckets||wa.symbolFadeFinished())&&this._removeTile(ha)}this._updateLoadedParentTileCache()}},Z.prototype.releaseSymbolFadeTiles=function(){for(var re in this._tiles)this._tiles[re].holdingForFade()&&this._removeTile(re)},Z.prototype._updateRetainedTiles=function(re,ye){for(var Ie={},Ze={},ft=Math.max(ye-Z.maxOverzooming,this._source.minzoom),At=Math.max(ye+Z.maxUnderzooming,this._source.minzoom),Ht={},qt=0,hr=re;qt<hr.length;qt+=1){var br=hr[qt],Or=this._addTile(br);Ie[br.key]=br,!Or.hasData()&&ye<this._source.maxzoom&&(Ht[br.key]=br)}this._retainLoadedChildren(Ht,ye,At,Ie);for(var Yr=0,Xr=re;Yr<Xr.length;Yr+=1){var jr=Xr[Yr],tn=this._tiles[jr.key];if(!tn.hasData()){if(ye+1>this._source.maxzoom){var vn=jr.children(this._source.maxzoom)[0],kn=this.getTile(vn);if(kn&&kn.hasData()){Ie[vn.key]=vn;continue}}else{var Gn=jr.children(this._source.maxzoom);if(Ie[Gn[0].key]&&Ie[Gn[1].key]&&Ie[Gn[2].key]&&Ie[Gn[3].key])continue}for(var $n=tn.wasRequested(),ra=jr.overscaledZ-1;ra>=ft;--ra){var ea=jr.scaledTo(ra);if(Ze[ea.key]||(Ze[ea.key]=!0,tn=this.getTile(ea),!tn&&$n&&(tn=this._addTile(ea)),tn&&(Ie[ea.key]=ea,$n=tn.wasRequested(),tn.hasData())))break}}}return Ie},Z.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var re in this._tiles){for(var ye=[],Ie=void 0,Ze=this._tiles[re].tileID;Ze.overscaledZ>0;){if(Ze.key in this._loadedParentTiles){Ie=this._loadedParentTiles[Ze.key];break}ye.push(Ze.key);var ft=Ze.scaledTo(Ze.overscaledZ-1);if(Ie=this._getLoadedTile(ft),Ie)break;Ze=ft}for(var At=0,Ht=ye;At<Ht.length;At+=1){var qt=Ht[At];this._loadedParentTiles[qt]=Ie}}},Z.prototype._addTile=function(re){var ye=this._tiles[re.key];if(ye)return ye;ye=this._cache.getAndRemove(re),ye&&(this._setTileReloadTimer(re.key,ye),ye.tileID=re,this._state.initializeTileState(ye,this.map?this.map.painter:null),this._cacheTimers[re.key]&&(clearTimeout(this._cacheTimers[re.key]),delete this._cacheTimers[re.key],this._setTileReloadTimer(re.key,ye)));var Ie=!!ye;return Ie||(ye=new i.Tile(re,this._source.tileSize*re.overscaleFactor()),this._loadTile(ye,this._tileLoaded.bind(this,ye,re.key,ye.state))),ye?(ye.uses++,this._tiles[re.key]=ye,Ie||this._source.fire(new i.Event("dataloading",{tile:ye,coord:ye.tileID,dataType:"source"})),ye):null},Z.prototype._setTileReloadTimer=function(re,ye){var Ie=this;re in this._timers&&(clearTimeout(this._timers[re]),delete this._timers[re]);var Ze=ye.getExpiryTimeout();Ze&&(this._timers[re]=setTimeout(function(){Ie._reloadTile(re,"expired"),delete Ie._timers[re]},Ze))},Z.prototype._removeTile=function(re){var ye=this._tiles[re];ye&&(ye.uses--,delete this._tiles[re],this._timers[re]&&(clearTimeout(this._timers[re]),delete this._timers[re]),!(ye.uses>0)&&(ye.hasData()&&ye.state!=="reloading"?this._cache.add(ye.tileID,ye,ye.getExpiryTimeout()):(ye.aborted=!0,this._abortTile(ye),this._unloadTile(ye))))},Z.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var re in this._tiles)this._removeTile(re);this._cache.reset()},Z.prototype.tilesIn=function(re,ye,Ie){var Ze=this,ft=[],At=this.transform;if(!At)return ft;for(var Ht=Ie?At.getCameraQueryGeometry(re):re,qt=re.map(function(ra){return At.pointCoordinate(ra)}),hr=Ht.map(function(ra){return At.pointCoordinate(ra)}),br=this.getIds(),Or=1/0,Yr=1/0,Xr=-1/0,jr=-1/0,tn=0,vn=hr;tn<vn.length;tn+=1){var kn=vn[tn];Or=Math.min(Or,kn.x),Yr=Math.min(Yr,kn.y),Xr=Math.max(Xr,kn.x),jr=Math.max(jr,kn.y)}for(var Gn=function(ra){var ea=Ze._tiles[br[ra]];if(!ea.holdingForFade()){var ha=ea.tileID,wa=Math.pow(2,At.zoom-ea.tileID.overscaledZ),xa=ye*ea.queryPadding*i.EXTENT/ea.tileSize/wa,Ea=[ha.getTilePoint(new i.MercatorCoordinate(Or,Yr)),ha.getTilePoint(new i.MercatorCoordinate(Xr,jr))];if(Ea[0].x-xa<i.EXTENT&&Ea[0].y-xa<i.EXTENT&&Ea[1].x+xa>=0&&Ea[1].y+xa>=0){var _a=qt.map(function(ti){return ha.getTilePoint(ti)}),ja=hr.map(function(ti){return ha.getTilePoint(ti)});ft.push({tile:ea,tileID:ha,queryGeometry:_a,cameraQueryGeometry:ja,scale:wa})}}},$n=0;$n<br.length;$n++)Gn($n);return ft},Z.prototype.getVisibleCoordinates=function(re){for(var ye=this,Ie=this.getRenderableIds(re).map(function(Ht){return ye._tiles[Ht].tileID}),Ze=0,ft=Ie;Ze<ft.length;Ze+=1){var At=ft[Ze];At.posMatrix=this.transform.calculatePosMatrix(At.toUnwrapped())}return Ie},Z.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(er(this._source.type))for(var re in this._tiles){var ye=this._tiles[re];if(ye.fadeEndTime!==void 0&&ye.fadeEndTime>=i.browser.now())return!0}return!1},Z.prototype.setFeatureState=function(re,ye,Ie){re=re||"_geojsonTileLayer",this._state.updateState(re,ye,Ie)},Z.prototype.removeFeatureState=function(re,ye,Ie){re=re||"_geojsonTileLayer",this._state.removeFeatureState(re,ye,Ie)},Z.prototype.getFeatureState=function(re,ye){return re=re||"_geojsonTileLayer",this._state.getState(re,ye)},Z.prototype.setDependencies=function(re,ye,Ie){var Ze=this._tiles[re];Ze&&Ze.setDependencies(ye,Ie)},Z.prototype.reloadTilesForDependencies=function(re,ye){for(var Ie in this._tiles){var Ze=this._tiles[Ie];Ze.hasDependency(re,ye)&&this._reloadTile(Ie,"reloading")}this._cache.filter(function(ft){return!ft.hasDependency(re,ye)})},Z}(i.Evented);Ot.maxOverzooming=10,Ot.maxUnderzooming=3;function Wt(de,Z){var ge=Math.abs(de.wrap*2)-+(de.wrap<0),re=Math.abs(Z.wrap*2)-+(Z.wrap<0);return de.overscaledZ-Z.overscaledZ||re-ge||Z.canonical.y-de.canonical.y||Z.canonical.x-de.canonical.x}function er(de){return de==="raster"||de==="image"||de==="video"}function $t(){return new i.window.Worker(M0.workerUrl)}var sr="mapboxgl_preloaded_worker_pool",Cr=function(){this.active={}};Cr.prototype.acquire=function(Z){if(!this.workers)for(this.workers=[];this.workers.length<Cr.workerCount;)this.workers.push(new $t);return this.active[Z]=!0,this.workers.slice()},Cr.prototype.release=function(Z){delete this.active[Z],this.numActive()===0&&(this.workers.forEach(function(ge){ge.terminate()}),this.workers=null)},Cr.prototype.isPreloaded=function(){return!!this.active[sr]},Cr.prototype.numActive=function(){return Object.keys(this.active).length};var je=Math.floor(i.browser.hardwareConcurrency/2);Cr.workerCount=Math.max(Math.min(je,6),1);var We;function kt(){return We||(We=new Cr),We}function zt(){var de=kt();de.acquire(sr)}function Xt(){var de=We;de&&(de.isPreloaded()&&de.numActive()===1?(de.release(sr),We=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function lr(de,Z){var ge={};for(var re in de)re!=="ref"&&(ge[re]=de[re]);return i.refProperties.forEach(function(ye){ye in Z&&(ge[ye]=Z[ye])}),ge}function cr(de){de=de.slice();for(var Z=Object.create(null),ge=0;ge<de.length;ge++)Z[de[ge].id]=de[ge];for(var re=0;re<de.length;re++)"ref"in de[re]&&(de[re]=lr(de[re],Z[de[re].ref]));return de}function nr(){var de={},Z=i.styleSpec.$version;for(var ge in i.styleSpec.$root){var re=i.styleSpec.$root[ge];if(re.required){var ye=null;ge==="version"?ye=Z:re.type==="array"?ye=[]:ye={},ye!=null&&(de[ge]=ye)}}return de}var Bt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function vr(de,Z,ge){ge.push({command:Bt.addSource,args:[de,Z[de]]})}function yr(de,Z,ge){Z.push({command:Bt.removeSource,args:[de]}),ge[de]=!0}function mr(de,Z,ge,re){yr(de,ge,re),vr(de,Z,ge)}function gr(de,Z,ge){var re;for(re in de[ge])if(de[ge].hasOwnProperty(re)&&re!=="data"&&!i.deepEqual(de[ge][re],Z[ge][re]))return!1;for(re in Z[ge])if(Z[ge].hasOwnProperty(re)&&re!=="data"&&!i.deepEqual(de[ge][re],Z[ge][re]))return!1;return!0}function Zr(de,Z,ge,re){de=de||{},Z=Z||{};var ye;for(ye in de)de.hasOwnProperty(ye)&&(Z.hasOwnProperty(ye)||yr(ye,ge,re));for(ye in Z)Z.hasOwnProperty(ye)&&(de.hasOwnProperty(ye)?i.deepEqual(de[ye],Z[ye])||(de[ye].type==="geojson"&&Z[ye].type==="geojson"&&gr(de,Z,ye)?ge.push({command:Bt.setGeoJSONSourceData,args:[ye,Z[ye].data]}):mr(ye,Z,ge,re)):vr(ye,Z,ge))}function Ur(de,Z,ge,re,ye,Ie){de=de||{},Z=Z||{};var Ze;for(Ze in de)de.hasOwnProperty(Ze)&&(i.deepEqual(de[Ze],Z[Ze])||ge.push({command:Ie,args:[re,Ze,Z[Ze],ye]}));for(Ze in Z)!Z.hasOwnProperty(Ze)||de.hasOwnProperty(Ze)||i.deepEqual(de[Ze],Z[Ze])||ge.push({command:Ie,args:[re,Ze,Z[Ze],ye]})}function Br(de){return de.id}function Tn(de,Z){return de[Z.id]=Z,de}function Kr(de,Z,ge){de=de||[],Z=Z||[];var re=de.map(Br),ye=Z.map(Br),Ie=de.reduce(Tn,{}),Ze=Z.reduce(Tn,{}),ft=re.slice(),At=Object.create(null),Ht,qt,hr,br,Or,Yr,Xr;for(Ht=0,qt=0;Ht<re.length;Ht++)hr=re[Ht],Ze.hasOwnProperty(hr)?qt++:(ge.push({command:Bt.removeLayer,args:[hr]}),ft.splice(ft.indexOf(hr,qt),1));for(Ht=0,qt=0;Ht<ye.length;Ht++)hr=ye[ye.length-1-Ht],ft[ft.length-1-Ht]!==hr&&(Ie.hasOwnProperty(hr)?(ge.push({command:Bt.removeLayer,args:[hr]}),ft.splice(ft.lastIndexOf(hr,ft.length-qt),1)):qt++,Yr=ft[ft.length-Ht],ge.push({command:Bt.addLayer,args:[Ze[hr],Yr]}),ft.splice(ft.length-Ht,0,hr),At[hr]=!0);for(Ht=0;Ht<ye.length;Ht++)if(hr=ye[Ht],br=Ie[hr],Or=Ze[hr],!(At[hr]||i.deepEqual(br,Or))){if(!i.deepEqual(br.source,Or.source)||!i.deepEqual(br["source-layer"],Or["source-layer"])||!i.deepEqual(br.type,Or.type)){ge.push({command:Bt.removeLayer,args:[hr]}),Yr=ft[ft.lastIndexOf(hr)+1],ge.push({command:Bt.addLayer,args:[Or,Yr]});continue}Ur(br.layout,Or.layout,ge,hr,null,Bt.setLayoutProperty),Ur(br.paint,Or.paint,ge,hr,null,Bt.setPaintProperty),i.deepEqual(br.filter,Or.filter)||ge.push({command:Bt.setFilter,args:[hr,Or.filter]}),(!i.deepEqual(br.minzoom,Or.minzoom)||!i.deepEqual(br.maxzoom,Or.maxzoom))&&ge.push({command:Bt.setLayerZoomRange,args:[hr,Or.minzoom,Or.maxzoom]});for(Xr in br)br.hasOwnProperty(Xr)&&(Xr==="layout"||Xr==="paint"||Xr==="filter"||Xr==="metadata"||Xr==="minzoom"||Xr==="maxzoom"||(Xr.indexOf("paint.")===0?Ur(br[Xr],Or[Xr],ge,hr,Xr.slice(6),Bt.setPaintProperty):i.deepEqual(br[Xr],Or[Xr])||ge.push({command:Bt.setLayerProperty,args:[hr,Xr,Or[Xr]]})));for(Xr in Or)!Or.hasOwnProperty(Xr)||br.hasOwnProperty(Xr)||Xr==="layout"||Xr==="paint"||Xr==="filter"||Xr==="metadata"||Xr==="minzoom"||Xr==="maxzoom"||(Xr.indexOf("paint.")===0?Ur(br[Xr],Or[Xr],ge,hr,Xr.slice(6),Bt.setPaintProperty):i.deepEqual(br[Xr],Or[Xr])||ge.push({command:Bt.setLayerProperty,args:[hr,Xr,Or[Xr]]}))}}function Bn(de,Z){if(!de)return[{command:Bt.setStyle,args:[Z]}];var ge=[];try{if(!i.deepEqual(de.version,Z.version))return[{command:Bt.setStyle,args:[Z]}];i.deepEqual(de.center,Z.center)||ge.push({command:Bt.setCenter,args:[Z.center]}),i.deepEqual(de.zoom,Z.zoom)||ge.push({command:Bt.setZoom,args:[Z.zoom]}),i.deepEqual(de.bearing,Z.bearing)||ge.push({command:Bt.setBearing,args:[Z.bearing]}),i.deepEqual(de.pitch,Z.pitch)||ge.push({command:Bt.setPitch,args:[Z.pitch]}),i.deepEqual(de.sprite,Z.sprite)||ge.push({command:Bt.setSprite,args:[Z.sprite]}),i.deepEqual(de.glyphs,Z.glyphs)||ge.push({command:Bt.setGlyphs,args:[Z.glyphs]}),i.deepEqual(de.transition,Z.transition)||ge.push({command:Bt.setTransition,args:[Z.transition]}),i.deepEqual(de.light,Z.light)||ge.push({command:Bt.setLight,args:[Z.light]});var re={},ye=[];Zr(de.sources,Z.sources,ye,re);var Ie=[];de.layers&&de.layers.forEach(function(Ze){re[Ze.source]?ge.push({command:Bt.removeLayer,args:[Ze.id]}):Ie.push(Ze)}),ge=ge.concat(ye),Kr(Ie,Z.layers,ge)}catch(Ze){console.warn("Unable to compute style diff:",Ze),ge=[{command:Bt.setStyle,args:[Z]}]}return ge}var On=function(Z,ge){this.reset(Z,ge)};On.prototype.reset=function(Z,ge){this.points=Z||[],this._distances=[0];for(var re=1;re<this.points.length;re++)this._distances[re]=this._distances[re-1]+this.points[re].dist(this.points[re-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ge||0,this.length*.5),this.paddedLength=this.length-this.padding*2},On.prototype.lerp=function(Z){if(this.points.length===1)return this.points[0];Z=i.clamp(Z,0,1);for(var ge=1,re=this._distances[ge],ye=Z*this.paddedLength+this.padding;re<ye&&ge<this._distances.length;)re=this._distances[++ge];var Ie=ge-1,Ze=this._distances[Ie],ft=re-Ze,At=ft>0?(ye-Ze)/ft:0;return this.points[Ie].mult(1-At).add(this.points[ge].mult(At))};var Tr=function(Z,ge,re){var ye=this.boxCells=[],Ie=this.circleCells=[];this.xCellCount=Math.ceil(Z/re),this.yCellCount=Math.ceil(ge/re);for(var Ze=0;Ze<this.xCellCount*this.yCellCount;Ze++)ye.push([]),Ie.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=Z,this.height=ge,this.xScale=this.xCellCount/Z,this.yScale=this.yCellCount/ge,this.boxUid=0,this.circleUid=0};Tr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Tr.prototype.insert=function(Z,ge,re,ye,Ie){this._forEachCell(ge,re,ye,Ie,this._insertBoxCell,this.boxUid++),this.boxKeys.push(Z),this.bboxes.push(ge),this.bboxes.push(re),this.bboxes.push(ye),this.bboxes.push(Ie)},Tr.prototype.insertCircle=function(Z,ge,re,ye){this._forEachCell(ge-ye,re-ye,ge+ye,re+ye,this._insertCircleCell,this.circleUid++),this.circleKeys.push(Z),this.circles.push(ge),this.circles.push(re),this.circles.push(ye)},Tr.prototype._insertBoxCell=function(Z,ge,re,ye,Ie,Ze){this.boxCells[Ie].push(Ze)},Tr.prototype._insertCircleCell=function(Z,ge,re,ye,Ie,Ze){this.circleCells[Ie].push(Ze)},Tr.prototype._query=function(Z,ge,re,ye,Ie,Ze){if(re<0||Z>this.width||ye<0||ge>this.height)return Ie?!1:[];var ft=[];if(Z<=0&&ge<=0&&this.width<=re&&this.height<=ye){if(Ie)return!0;for(var At=0;At<this.boxKeys.length;At++)ft.push({key:this.boxKeys[At],x1:this.bboxes[At*4],y1:this.bboxes[At*4+1],x2:this.bboxes[At*4+2],y2:this.bboxes[At*4+3]});for(var Ht=0;Ht<this.circleKeys.length;Ht++){var qt=this.circles[Ht*3],hr=this.circles[Ht*3+1],br=this.circles[Ht*3+2];ft.push({key:this.circleKeys[Ht],x1:qt-br,y1:hr-br,x2:qt+br,y2:hr+br})}return Ze?ft.filter(Ze):ft}else{var Or={hitTest:Ie,seenUids:{box:{},circle:{}}};return this._forEachCell(Z,ge,re,ye,this._queryCell,ft,Or,Ze),Ie?ft.length>0:ft}},Tr.prototype._queryCircle=function(Z,ge,re,ye,Ie){var Ze=Z-re,ft=Z+re,At=ge-re,Ht=ge+re;if(ft<0||Ze>this.width||Ht<0||At>this.height)return ye?!1:[];var qt=[],hr={hitTest:ye,circle:{x:Z,y:ge,radius:re},seenUids:{box:{},circle:{}}};return this._forEachCell(Ze,At,ft,Ht,this._queryCellCircle,qt,hr,Ie),ye?qt.length>0:qt},Tr.prototype.query=function(Z,ge,re,ye,Ie){return this._query(Z,ge,re,ye,!1,Ie)},Tr.prototype.hitTest=function(Z,ge,re,ye,Ie){return this._query(Z,ge,re,ye,!0,Ie)},Tr.prototype.hitTestCircle=function(Z,ge,re,ye){return this._queryCircle(Z,ge,re,!0,ye)},Tr.prototype._queryCell=function(Z,ge,re,ye,Ie,Ze,ft,At){var Ht=ft.seenUids,qt=this.boxCells[Ie];if(qt!==null)for(var hr=this.bboxes,br=0,Or=qt;br<Or.length;br+=1){var Yr=Or[br];if(!Ht.box[Yr]){Ht.box[Yr]=!0;var Xr=Yr*4;if(Z<=hr[Xr+2]&&ge<=hr[Xr+3]&&re>=hr[Xr+0]&&ye>=hr[Xr+1]&&(!At||At(this.boxKeys[Yr]))){if(ft.hitTest)return Ze.push(!0),!0;Ze.push({key:this.boxKeys[Yr],x1:hr[Xr],y1:hr[Xr+1],x2:hr[Xr+2],y2:hr[Xr+3]})}}}var jr=this.circleCells[Ie];if(jr!==null)for(var tn=this.circles,vn=0,kn=jr;vn<kn.length;vn+=1){var Gn=kn[vn];if(!Ht.circle[Gn]){Ht.circle[Gn]=!0;var $n=Gn*3;if(this._circleAndRectCollide(tn[$n],tn[$n+1],tn[$n+2],Z,ge,re,ye)&&(!At||At(this.circleKeys[Gn]))){if(ft.hitTest)return Ze.push(!0),!0;var ra=tn[$n],ea=tn[$n+1],ha=tn[$n+2];Ze.push({key:this.circleKeys[Gn],x1:ra-ha,y1:ea-ha,x2:ra+ha,y2:ea+ha})}}}},Tr.prototype._queryCellCircle=function(Z,ge,re,ye,Ie,Ze,ft,At){var Ht=ft.circle,qt=ft.seenUids,hr=this.boxCells[Ie];if(hr!==null)for(var br=this.bboxes,Or=0,Yr=hr;Or<Yr.length;Or+=1){var Xr=Yr[Or];if(!qt.box[Xr]){qt.box[Xr]=!0;var jr=Xr*4;if(this._circleAndRectCollide(Ht.x,Ht.y,Ht.radius,br[jr+0],br[jr+1],br[jr+2],br[jr+3])&&(!At||At(this.boxKeys[Xr])))return Ze.push(!0),!0}}var tn=this.circleCells[Ie];if(tn!==null)for(var vn=this.circles,kn=0,Gn=tn;kn<Gn.length;kn+=1){var $n=Gn[kn];if(!qt.circle[$n]){qt.circle[$n]=!0;var ra=$n*3;if(this._circlesCollide(vn[ra],vn[ra+1],vn[ra+2],Ht.x,Ht.y,Ht.radius)&&(!At||At(this.circleKeys[$n])))return Ze.push(!0),!0}}},Tr.prototype._forEachCell=function(Z,ge,re,ye,Ie,Ze,ft,At){for(var Ht=this._convertToXCellCoord(Z),qt=this._convertToYCellCoord(ge),hr=this._convertToXCellCoord(re),br=this._convertToYCellCoord(ye),Or=Ht;Or<=hr;Or++)for(var Yr=qt;Yr<=br;Yr++){var Xr=this.xCellCount*Yr+Or;if(Ie.call(this,Z,ge,re,ye,Xr,Ze,ft,At))return}},Tr.prototype._convertToXCellCoord=function(Z){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(Z*this.xScale)))},Tr.prototype._convertToYCellCoord=function(Z){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(Z*this.yScale)))},Tr.prototype._circlesCollide=function(Z,ge,re,ye,Ie,Ze){var ft=ye-Z,At=Ie-ge,Ht=re+Ze;return Ht*Ht>ft*ft+At*At},Tr.prototype._circleAndRectCollide=function(Z,ge,re,ye,Ie,Ze,ft){var At=(Ze-ye)/2,Ht=Math.abs(Z-(ye+At));if(Ht>At+re)return!1;var qt=(ft-Ie)/2,hr=Math.abs(ge-(Ie+qt));if(hr>qt+re)return!1;if(Ht<=At||hr<=qt)return!0;var br=Ht-At,Or=hr-qt;return br*br+Or*Or<=re*re};function Mr(de,Z,ge,re,ye){var Ie=i.create();return Z?(i.scale(Ie,Ie,[1/ye,1/ye,1]),ge||i.rotateZ(Ie,Ie,re.angle)):i.multiply(Ie,re.labelPlaneMatrix,de),Ie}function Hr(de,Z,ge,re,ye){if(Z){var Ie=i.clone(de);return i.scale(Ie,Ie,[ye,ye,1]),ge||i.rotateZ(Ie,Ie,-re.angle),Ie}else return re.glCoordMatrix}function Vr(de,Z){var ge=[de.x,de.y,0,1];Pr(ge,ge,Z);var re=ge[3];return{point:new i.Point(ge[0]/re,ge[1]/re),signedDistanceFromCamera:re}}function nn(de,Z){return .5+.5*(de/Z)}function bn(de,Z){var ge=de[0]/de[3],re=de[1]/de[3],ye=ge>=-Z[0]&&ge<=Z[0]&&re>=-Z[1]&&re<=Z[1];return ye}function dn(de,Z,ge,re,ye,Ie,Ze,ft){var At=re?de.textSizeData:de.iconSizeData,Ht=i.evaluateSizeForZoom(At,ge.transform.zoom),qt=[256/ge.width*2+1,256/ge.height*2+1],hr=re?de.text.dynamicLayoutVertexArray:de.icon.dynamicLayoutVertexArray;hr.clear();for(var br=de.lineVertexArray,Or=re?de.text.placedSymbolArray:de.icon.placedSymbolArray,Yr=ge.transform.width/ge.transform.height,Xr=!1,jr=0;jr<Or.length;jr++){var tn=Or.get(jr);if(tn.hidden||tn.writingMode===i.WritingMode.vertical&&!Xr){la(tn.numGlyphs,hr);continue}Xr=!1;var vn=[tn.anchorX,tn.anchorY,0,1];if(i.transformMat4(vn,vn,Z),!bn(vn,qt)){la(tn.numGlyphs,hr);continue}var kn=vn[3],Gn=nn(ge.transform.cameraToCenterDistance,kn),$n=i.evaluateSizeForFeature(At,Ht,tn),ra=Ze?$n/Gn:$n*Gn,ea=new i.Point(tn.anchorX,tn.anchorY),ha=Vr(ea,ye).point,wa={},xa=ta(tn,ra,!1,ft,Z,ye,Ie,de.glyphOffsetArray,br,hr,ha,ea,wa,Yr);Xr=xa.useVertical,(xa.notEnoughRoom||Xr||xa.needsFlipping&&ta(tn,ra,!0,ft,Z,ye,Ie,de.glyphOffsetArray,br,hr,ha,ea,wa,Yr).notEnoughRoom)&&la(tn.numGlyphs,hr)}re?de.text.dynamicLayoutVertexBuffer.updateData(hr):de.icon.dynamicLayoutVertexBuffer.updateData(hr)}function Pn(de,Z,ge,re,ye,Ie,Ze,ft,At,Ht,qt){var hr=ft.glyphStartIndex+ft.numGlyphs,br=ft.lineStartIndex,Or=ft.lineStartIndex+ft.lineLength,Yr=Z.getoffsetX(ft.glyphStartIndex),Xr=Z.getoffsetX(hr-1),jr=ya(de*Yr,ge,re,ye,Ie,Ze,ft.segment,br,Or,At,Ht,qt);if(!jr)return null;var tn=ya(de*Xr,ge,re,ye,Ie,Ze,ft.segment,br,Or,At,Ht,qt);return tn?{first:jr,last:tn}:null}function zn(de,Z,ge,re){if(de===i.WritingMode.horizontal){var ye=Math.abs(ge.y-Z.y),Ie=Math.abs(ge.x-Z.x)*re;if(ye>Ie)return{useVertical:!0}}return(de===i.WritingMode.vertical?Z.y<ge.y:Z.x>ge.x)?{needsFlipping:!0}:null}function ta(de,Z,ge,re,ye,Ie,Ze,ft,At,Ht,qt,hr,br,Or){var Yr=Z/24,Xr=de.lineOffsetX*Yr,jr=de.lineOffsetY*Yr,tn;if(de.numGlyphs>1){var vn=de.glyphStartIndex+de.numGlyphs,kn=de.lineStartIndex,Gn=de.lineStartIndex+de.lineLength,$n=Pn(Yr,ft,Xr,jr,ge,qt,hr,de,At,Ie,br);if(!$n)return{notEnoughRoom:!0};var ra=Vr($n.first.point,Ze).point,ea=Vr($n.last.point,Ze).point;if(re&&!ge){var ha=zn(de.writingMode,ra,ea,Or);if(ha)return ha}tn=[$n.first];for(var wa=de.glyphStartIndex+1;wa<vn-1;wa++)tn.push(ya(Yr*ft.getoffsetX(wa),Xr,jr,ge,qt,hr,de.segment,kn,Gn,At,Ie,br));tn.push($n.last)}else{if(re&&!ge){var xa=Vr(hr,ye).point,Ea=de.lineStartIndex+de.segment+1,_a=new i.Point(At.getx(Ea),At.gety(Ea)),ja=Vr(_a,ye),ti=ja.signedDistanceFromCamera>0?ja.point:oa(hr,_a,xa,1,ye),ki=zn(de.writingMode,xa,ti,Or);if(ki)return ki}var li=ya(Yr*ft.getoffsetX(de.glyphStartIndex),Xr,jr,ge,qt,hr,de.segment,de.lineStartIndex,de.lineStartIndex+de.lineLength,At,Ie,br);if(!li)return{notEnoughRoom:!0};tn=[li]}for(var mi=0,Ua=tn;mi<Ua.length;mi+=1){var Ii=Ua[mi];i.addDynamicAttributes(Ht,Ii.point,Ii.angle)}return{}}function oa(de,Z,ge,re,ye){var Ie=Vr(de.add(de.sub(Z)._unit()),ye).point,Ze=ge.sub(Ie);return ge.add(Ze._mult(re/Ze.mag()))}function ya(de,Z,ge,re,ye,Ie,Ze,ft,At,Ht,qt,hr){var br=re?de-Z:de+Z,Or=br>0?1:-1,Yr=0;re&&(Or*=-1,Yr=Math.PI),Or<0&&(Yr+=Math.PI);for(var Xr=Or>0?ft+Ze:ft+Ze+1,jr=ye,tn=ye,vn=0,kn=0,Gn=Math.abs(br),$n=[];vn+kn<=Gn;){if(Xr+=Or,Xr<ft||Xr>=At)return null;if(tn=jr,$n.push(jr),jr=hr[Xr],jr===void 0){var ra=new i.Point(Ht.getx(Xr),Ht.gety(Xr)),ea=Vr(ra,qt);if(ea.signedDistanceFromCamera>0)jr=hr[Xr]=ea.point;else{var ha=Xr-Or,wa=vn===0?Ie:new i.Point(Ht.getx(ha),Ht.gety(ha));jr=oa(wa,ra,tn,Gn-vn+1,qt)}}vn+=kn,kn=tn.dist(jr)}var xa=(Gn-vn)/kn,Ea=jr.sub(tn),_a=Ea.mult(xa)._add(tn);_a._add(Ea._unit()._perp()._mult(ge*Or));var ja=Yr+Math.atan2(jr.y-tn.y,jr.x-tn.x);return $n.push(_a),{point:_a,angle:ja,path:$n}}var ca=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function la(de,Z){for(var ge=0;ge<de;ge++){var re=Z.length;Z.resize(re+4),Z.float32.set(ca,re*3)}}function Pr(de,Z,ge){var re=Z[0],ye=Z[1];return de[0]=ge[0]*re+ge[4]*ye+ge[12],de[1]=ge[1]*re+ge[5]*ye+ge[13],de[3]=ge[3]*re+ge[7]*ye+ge[15],de}var hn=100,un=function(Z,ge,re){ge===void 0&&(ge=new Tr(Z.width+2*hn,Z.height+2*hn,25)),re===void 0&&(re=new Tr(Z.width+2*hn,Z.height+2*hn,25)),this.transform=Z,this.grid=ge,this.ignoredGrid=re,this.pitchfactor=Math.cos(Z._pitch)*Z.cameraToCenterDistance,this.screenRightBoundary=Z.width+hn,this.screenBottomBoundary=Z.height+hn,this.gridRightBoundary=Z.width+2*hn,this.gridBottomBoundary=Z.height+2*hn};un.prototype.placeCollisionBox=function(Z,ge,re,ye,Ie){var Ze=this.projectAndGetPerspectiveRatio(ye,Z.anchorPointX,Z.anchorPointY),ft=re*Ze.perspectiveRatio,At=Z.x1*ft+Ze.point.x,Ht=Z.y1*ft+Ze.point.y,qt=Z.x2*ft+Ze.point.x,hr=Z.y2*ft+Ze.point.y;return!this.isInsideGrid(At,Ht,qt,hr)||!ge&&this.grid.hitTest(At,Ht,qt,hr,Ie)?{box:[],offscreen:!1}:{box:[At,Ht,qt,hr],offscreen:this.isOffscreen(At,Ht,qt,hr)}},un.prototype.placeCollisionCircles=function(Z,ge,re,ye,Ie,Ze,ft,At,Ht,qt,hr,br,Or){var Yr=[],Xr=new i.Point(ge.anchorX,ge.anchorY),jr=Vr(Xr,Ze),tn=nn(this.transform.cameraToCenterDistance,jr.signedDistanceFromCamera),vn=qt?Ie/tn:Ie*tn,kn=vn/i.ONE_EM,Gn=Vr(Xr,ft).point,$n={},ra=ge.lineOffsetX*kn,ea=ge.lineOffsetY*kn,ha=Pn(kn,ye,ra,ea,!1,Gn,Xr,ge,re,ft,$n),wa=!1,xa=!1,Ea=!0;if(ha){for(var _a=br*.5*tn+Or,ja=new i.Point(-hn,-hn),ti=new i.Point(this.screenRightBoundary,this.screenBottomBoundary),ki=new On,li=ha.first,mi=ha.last,Ua=[],Ii=li.path.length-1;Ii>=1;Ii--)Ua.push(li.path[Ii]);for(var Ni=1;Ni<mi.path.length;Ni++)Ua.push(mi.path[Ni]);var Ui=_a*2.5;if(At){var bi=Ua.map(function(qu){return Vr(qu,At)});bi.some(function(qu){return qu.signedDistanceFromCamera<=0})?Ua=[]:Ua=bi.map(function(qu){return qu.point})}var $i=[];if(Ua.length>0){for(var ni=Ua[0].clone(),Ai=Ua[0].clone(),Io=1;Io<Ua.length;Io++)ni.x=Math.min(ni.x,Ua[Io].x),ni.y=Math.min(ni.y,Ua[Io].y),Ai.x=Math.max(Ai.x,Ua[Io].x),Ai.y=Math.max(Ai.y,Ua[Io].y);ni.x>=ja.x&&Ai.x<=ti.x&&ni.y>=ja.y&&Ai.y<=ti.y?$i=[Ua]:Ai.x<ja.x||ni.x>ti.x||Ai.y<ja.y||ni.y>ti.y?$i=[]:$i=i.clipLine([Ua],ja.x,ja.y,ti.x,ti.y)}for(var qo=0,ou=$i;qo<ou.length;qo+=1){var su=ou[qo];ki.reset(su,_a*.25);var Ku=0;ki.length<=.5*_a?Ku=1:Ku=Math.ceil(ki.paddedLength/Ui)+1;for(var Ju=0;Ju<Ku;Ju++){var Lf=Ju/Math.max(Ku-1,1),Qu=ki.lerp(Lf),ll=Qu.x+hn,nc=Qu.y+hn;Yr.push(ll,nc,_a,0);var zs=ll-_a,Gl=nc-_a,$u=ll+_a,Pu=nc+_a;if(Ea=Ea&&this.isOffscreen(zs,Gl,$u,Pu),xa=xa||this.isInsideGrid(zs,Gl,$u,Pu),!Z&&this.grid.hitTestCircle(ll,nc,_a,hr)&&(wa=!0,!Ht))return{circles:[],offscreen:!1,collisionDetected:wa}}}}return{circles:!Ht&&wa||!xa?[]:Yr,offscreen:Ea,collisionDetected:wa}},un.prototype.queryRenderedSymbols=function(Z){if(Z.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var ge=[],re=1/0,ye=1/0,Ie=-1/0,Ze=-1/0,ft=0,At=Z;ft<At.length;ft+=1){var Ht=At[ft],qt=new i.Point(Ht.x+hn,Ht.y+hn);re=Math.min(re,qt.x),ye=Math.min(ye,qt.y),Ie=Math.max(Ie,qt.x),Ze=Math.max(Ze,qt.y),ge.push(qt)}for(var hr=this.grid.query(re,ye,Ie,Ze).concat(this.ignoredGrid.query(re,ye,Ie,Ze)),br={},Or={},Yr=0,Xr=hr;Yr<Xr.length;Yr+=1){var jr=Xr[Yr],tn=jr.key;if(br[tn.bucketInstanceId]===void 0&&(br[tn.bucketInstanceId]={}),!br[tn.bucketInstanceId][tn.featureIndex]){var vn=[new i.Point(jr.x1,jr.y1),new i.Point(jr.x2,jr.y1),new i.Point(jr.x2,jr.y2),new i.Point(jr.x1,jr.y2)];i.polygonIntersectsPolygon(ge,vn)&&(br[tn.bucketInstanceId][tn.featureIndex]=!0,Or[tn.bucketInstanceId]===void 0&&(Or[tn.bucketInstanceId]=[]),Or[tn.bucketInstanceId].push(tn.featureIndex))}}return Or},un.prototype.insertCollisionBox=function(Z,ge,re,ye,Ie){var Ze=ge?this.ignoredGrid:this.grid,ft={bucketInstanceId:re,featureIndex:ye,collisionGroupID:Ie};Ze.insert(ft,Z[0],Z[1],Z[2],Z[3])},un.prototype.insertCollisionCircles=function(Z,ge,re,ye,Ie){for(var Ze=ge?this.ignoredGrid:this.grid,ft={bucketInstanceId:re,featureIndex:ye,collisionGroupID:Ie},At=0;At<Z.length;At+=4)Ze.insertCircle(ft,Z[At],Z[At+1],Z[At+2])},un.prototype.projectAndGetPerspectiveRatio=function(Z,ge,re){var ye=[ge,re,0,1];Pr(ye,ye,Z);var Ie=new i.Point((ye[0]/ye[3]+1)/2*this.transform.width+hn,(-ye[1]/ye[3]+1)/2*this.transform.height+hn);return{point:Ie,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ye[3])}},un.prototype.isOffscreen=function(Z,ge,re,ye){return re<hn||Z>=this.screenRightBoundary||ye<hn||ge>this.screenBottomBoundary},un.prototype.isInsideGrid=function(Z,ge,re,ye){return re>=0&&Z<this.gridRightBoundary&&ye>=0&&ge<this.gridBottomBoundary},un.prototype.getViewportMatrix=function(){var Z=i.identity([]);return i.translate(Z,Z,[-hn,-hn,0]),Z};function wn(de,Z,ge){return Z*(i.EXTENT/(de.tileSize*Math.pow(2,ge-de.tileID.overscaledZ)))}var Zn=function(Z,ge,re,ye){Z?this.opacity=Math.max(0,Math.min(1,Z.opacity+(Z.placed?ge:-ge))):this.opacity=ye&&re?1:0,this.placed=re};Zn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var In=function(Z,ge,re,ye,Ie){this.text=new Zn(Z?Z.text:null,ge,re,Ie),this.icon=new Zn(Z?Z.icon:null,ge,ye,Ie)};In.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Dn=function(Z,ge,re){this.text=Z,this.icon=ge,this.skipFade=re},jn=function(){this.invProjMatrix=i.create(),this.viewportMatrix=i.create(),this.circles=[]},va=function(Z,ge,re,ye,Ie){this.bucketInstanceId=Z,this.featureIndex=ge,this.sourceLayerIndex=re,this.bucketIndex=ye,this.tileID=Ie},Ia=function(Z){this.crossSourceCollisions=Z,this.maxGroupID=0,this.collisionGroups={}};Ia.prototype.get=function(Z){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[Z]){var ge=++this.maxGroupID;this.collisionGroups[Z]={ID:ge,predicate:function(re){return re.collisionGroupID===ge}}}return this.collisionGroups[Z]};function hi(de,Z,ge,re,ye){var Ie=i.getAnchorAlignment(de),Ze=Ie.horizontalAlign,ft=Ie.verticalAlign,At=-(Ze-.5)*Z,Ht=-(ft-.5)*ge,qt=i.evaluateVariableOffset(de,re);return new i.Point(At+qt[0]*ye,Ht+qt[1]*ye)}function Kt(de,Z,ge,re,ye,Ie){var Ze=de.x1,ft=de.x2,At=de.y1,Ht=de.y2,qt=de.anchorPointX,hr=de.anchorPointY,br=new i.Point(Z,ge);return re&&br._rotate(ye?Ie:-Ie),{x1:Ze+br.x,y1:At+br.y,x2:ft+br.x,y2:Ht+br.y,anchorPointX:qt,anchorPointY:hr}}var Sr=function(Z,ge,re,ye){this.transform=Z.clone(),this.collisionIndex=new un(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ge,this.retainedQueryData={},this.collisionGroups=new Ia(re),this.collisionCircleArrays={},this.prevPlacement=ye,ye&&(ye.prevPlacement=void 0),this.placedOrientations={}};Sr.prototype.getBucketParts=function(Z,ge,re,ye){var Ie=re.getBucket(ge),Ze=re.latestFeatureIndex;if(!(!Ie||!Ze||ge.id!==Ie.layerIds[0])){var ft=re.collisionBoxArray,At=Ie.layers[0].layout,Ht=Math.pow(2,this.transform.zoom-re.tileID.overscaledZ),qt=re.tileSize/i.EXTENT,hr=this.transform.calculatePosMatrix(re.tileID.toUnwrapped()),br=At.get("text-pitch-alignment")==="map",Or=At.get("text-rotation-alignment")==="map",Yr=wn(re,1,this.transform.zoom),Xr=Mr(hr,br,Or,this.transform,Yr),jr=null;if(br){var tn=Hr(hr,br,Or,this.transform,Yr);jr=i.multiply([],this.transform.labelPlaneMatrix,tn)}this.retainedQueryData[Ie.bucketInstanceId]=new va(Ie.bucketInstanceId,Ze,Ie.sourceLayerIndex,Ie.index,re.tileID);var vn={bucket:Ie,layout:At,posMatrix:hr,textLabelPlaneMatrix:Xr,labelToScreenMatrix:jr,scale:Ht,textPixelRatio:qt,holdingForFade:re.holdingForFade(),collisionBoxArray:ft,partiallyEvaluatedTextSize:i.evaluateSizeForZoom(Ie.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Ie.sourceID)};if(ye)for(var kn=0,Gn=Ie.sortKeyRanges;kn<Gn.length;kn+=1){var $n=Gn[kn],ra=$n.sortKey,ea=$n.symbolInstanceStart,ha=$n.symbolInstanceEnd;Z.push({sortKey:ra,symbolInstanceStart:ea,symbolInstanceEnd:ha,parameters:vn})}else Z.push({symbolInstanceStart:0,symbolInstanceEnd:Ie.symbolInstances.length,parameters:vn})}},Sr.prototype.attemptAnchorPlacement=function(Z,ge,re,ye,Ie,Ze,ft,At,Ht,qt,hr,br,Or,Yr,Xr){var jr=[br.textOffset0,br.textOffset1],tn=hi(Z,re,ye,jr,Ie),vn=this.collisionIndex.placeCollisionBox(Kt(ge,tn.x,tn.y,Ze,ft,this.transform.angle),hr,At,Ht,qt.predicate);if(Xr){var kn=this.collisionIndex.placeCollisionBox(Kt(Xr,tn.x,tn.y,Ze,ft,this.transform.angle),hr,At,Ht,qt.predicate);if(kn.box.length===0)return}if(vn.box.length>0){var Gn;return this.prevPlacement&&this.prevPlacement.variableOffsets[br.crossTileID]&&this.prevPlacement.placements[br.crossTileID]&&this.prevPlacement.placements[br.crossTileID].text&&(Gn=this.prevPlacement.variableOffsets[br.crossTileID].anchor),this.variableOffsets[br.crossTileID]={textOffset:jr,width:re,height:ye,anchor:Z,textBoxScale:Ie,prevAnchor:Gn},this.markUsedJustification(Or,Z,br,Yr),Or.allowVerticalPlacement&&(this.markUsedOrientation(Or,Yr,br),this.placedOrientations[br.crossTileID]=Yr),{shift:tn,placedGlyphBoxes:vn}}},Sr.prototype.placeLayerBucketPart=function(Z,ge,re){var ye=this,Ie=Z.parameters,Ze=Ie.bucket,ft=Ie.layout,At=Ie.posMatrix,Ht=Ie.textLabelPlaneMatrix,qt=Ie.labelToScreenMatrix,hr=Ie.textPixelRatio,br=Ie.holdingForFade,Or=Ie.collisionBoxArray,Yr=Ie.partiallyEvaluatedTextSize,Xr=Ie.collisionGroup,jr=ft.get("text-optional"),tn=ft.get("icon-optional"),vn=ft.get("text-allow-overlap"),kn=ft.get("icon-allow-overlap"),Gn=ft.get("text-rotation-alignment")==="map",$n=ft.get("text-pitch-alignment")==="map",ra=ft.get("icon-text-fit")!=="none",ea=ft.get("symbol-z-order")==="viewport-y",ha=vn&&(kn||!Ze.hasIconData()||tn),wa=kn&&(vn||!Ze.hasTextData()||jr);!Ze.collisionArrays&&Or&&Ze.deserializeCollisionBoxes(Or);var xa=function(li,mi){if(!ge[li.crossTileID]){if(br){ye.placements[li.crossTileID]=new Dn(!1,!1,!1);return}var Ua=!1,Ii=!1,Ni=!0,Ui=null,bi={box:null,offscreen:null},$i={box:null,offscreen:null},ni=null,Ai=null,Io=null,qo=0,ou=0,su=0;mi.textFeatureIndex?qo=mi.textFeatureIndex:li.useRuntimeCollisionCircles&&(qo=li.featureIndex),mi.verticalTextFeatureIndex&&(ou=mi.verticalTextFeatureIndex);var Ku=mi.textBox;if(Ku){var Ju=function(Bo){var El=i.WritingMode.horizontal;if(Ze.allowVerticalPlacement&&!Bo&&ye.prevPlacement){var Cl=ye.prevPlacement.placedOrientations[li.crossTileID];Cl&&(ye.placedOrientations[li.crossTileID]=Cl,El=Cl,ye.markUsedOrientation(Ze,El,li))}return El},Lf=function(Bo,El){if(Ze.allowVerticalPlacement&&li.numVerticalGlyphVertices>0&&mi.verticalTextBox)for(var Cl=0,Sv=Ze.writingModes;Cl<Sv.length;Cl+=1){var Wd=Sv[Cl];if(Wd===i.WritingMode.vertical?(bi=El(),$i=bi):bi=Bo(),bi&&bi.box&&bi.box.length)break}else bi=Bo()};if(ft.get("text-variable-anchor")){var zs=ft.get("text-variable-anchor");if(ye.prevPlacement&&ye.prevPlacement.variableOffsets[li.crossTileID]){var Gl=ye.prevPlacement.variableOffsets[li.crossTileID];zs.indexOf(Gl.anchor)>0&&(zs=zs.filter(function(Bo){return Bo!==Gl.anchor}),zs.unshift(Gl.anchor))}var $u=function(Bo,El,Cl){for(var Sv=Bo.x2-Bo.x1,Wd=Bo.y2-Bo.y1,jy=li.textBoxScale,Yy=ra&&!kn?El:null,Kh={box:[],offscreen:!1},Zy=vn?zs.length*2:zs.length,Ev=0;Ev<Zy;++Ev){var Xy=zs[Ev%zs.length],Ky=Ev>=zs.length,jd=ye.attemptAnchorPlacement(Xy,Bo,Sv,Wd,jy,Gn,$n,hr,At,Xr,Ky,li,Ze,Cl,Yy);if(jd&&(Kh=jd.placedGlyphBoxes,Kh&&Kh.box&&Kh.box.length)){Ua=!0,Ui=jd.shift;break}}return Kh},Pu=function(){return $u(Ku,mi.iconBox,i.WritingMode.horizontal)},qu=function(){var Bo=mi.verticalTextBox,El=bi&&bi.box&&bi.box.length;return Ze.allowVerticalPlacement&&!El&&li.numVerticalGlyphVertices>0&&Bo?$u(Bo,mi.verticalIconBox,i.WritingMode.vertical):{box:null,offscreen:null}};Lf(Pu,qu),bi&&(Ua=bi.box,Ni=bi.offscreen);var wv=Ju(bi&&bi.box);if(!Ua&&ye.prevPlacement){var Lc=ye.prevPlacement.variableOffsets[li.crossTileID];Lc&&(ye.variableOffsets[li.crossTileID]=Lc,ye.markUsedJustification(Ze,Lc.anchor,li,wv))}}else{var Qu=function(Bo,El){var Cl=ye.collisionIndex.placeCollisionBox(Bo,vn,hr,At,Xr.predicate);return Cl&&Cl.box&&Cl.box.length&&(ye.markUsedOrientation(Ze,El,li),ye.placedOrientations[li.crossTileID]=El),Cl},ll=function(){return Qu(Ku,i.WritingMode.horizontal)},nc=function(){var Bo=mi.verticalTextBox;return Ze.allowVerticalPlacement&&li.numVerticalGlyphVertices>0&&Bo?Qu(Bo,i.WritingMode.vertical):{box:null,offscreen:null}};Lf(ll,nc),Ju(bi&&bi.box&&bi.box.length)}}if(ni=bi,Ua=ni&&ni.box&&ni.box.length>0,Ni=ni&&ni.offscreen,li.useRuntimeCollisionCircles){var Es=Ze.text.placedSymbolArray.get(li.centerJustifiedTextSymbolIndex),Zh=i.evaluateSizeForFeature(Ze.textSizeData,Yr,Es),Zs=ft.get("text-padding"),Xh=li.collisionCircleDiameter;Ai=ye.collisionIndex.placeCollisionCircles(vn,Es,Ze.lineVertexArray,Ze.glyphOffsetArray,Zh,At,Ht,qt,re,$n,Xr.predicate,Xh,Zs),Ua=vn||Ai.circles.length>0&&!Ai.collisionDetected,Ni=Ni&&Ai.offscreen}if(mi.iconFeatureIndex&&(su=mi.iconFeatureIndex),mi.iconBox){var Tv=function(Bo){var El=ra&&Ui?Kt(Bo,Ui.x,Ui.y,Gn,$n,ye.transform.angle):Bo;return ye.collisionIndex.placeCollisionBox(El,kn,hr,At,Xr.predicate)};$i&&$i.box&&$i.box.length&&mi.verticalIconBox?(Io=Tv(mi.verticalIconBox),Ii=Io.box.length>0):(Io=Tv(mi.iconBox),Ii=Io.box.length>0),Ni=Ni&&Io.offscreen}var Av=jr||li.numHorizontalGlyphVertices===0&&li.numVerticalGlyphVertices===0,S0=tn||li.numIconVertices===0;if(!Av&&!S0?Ii=Ua=Ii&&Ua:S0?Av||(Ii=Ii&&Ua):Ua=Ii&&Ua,Ua&&ni&&ni.box&&($i&&$i.box&&ou?ye.collisionIndex.insertCollisionBox(ni.box,ft.get("text-ignore-placement"),Ze.bucketInstanceId,ou,Xr.ID):ye.collisionIndex.insertCollisionBox(ni.box,ft.get("text-ignore-placement"),Ze.bucketInstanceId,qo,Xr.ID)),Ii&&Io&&ye.collisionIndex.insertCollisionBox(Io.box,ft.get("icon-ignore-placement"),Ze.bucketInstanceId,su,Xr.ID),Ai&&(Ua&&ye.collisionIndex.insertCollisionCircles(Ai.circles,ft.get("text-ignore-placement"),Ze.bucketInstanceId,qo,Xr.ID),re)){var Mv=Ze.bucketInstanceId,fh=ye.collisionCircleArrays[Mv];fh===void 0&&(fh=ye.collisionCircleArrays[Mv]=new jn);for(var ch=0;ch<Ai.circles.length;ch+=4)fh.circles.push(Ai.circles[ch+0]),fh.circles.push(Ai.circles[ch+1]),fh.circles.push(Ai.circles[ch+2]),fh.circles.push(Ai.collisionDetected?1:0)}ye.placements[li.crossTileID]=new Dn(Ua||ha,Ii||wa,Ni||Ze.justReloaded),ge[li.crossTileID]=!0}};if(ea)for(var Ea=Ze.getSortedSymbolIndexes(this.transform.angle),_a=Ea.length-1;_a>=0;--_a){var ja=Ea[_a];xa(Ze.symbolInstances.get(ja),Ze.collisionArrays[ja])}else for(var ti=Z.symbolInstanceStart;ti<Z.symbolInstanceEnd;ti++)xa(Ze.symbolInstances.get(ti),Ze.collisionArrays[ti]);if(re&&Ze.bucketInstanceId in this.collisionCircleArrays){var ki=this.collisionCircleArrays[Ze.bucketInstanceId];i.invert(ki.invProjMatrix,At),ki.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ze.justReloaded=!1},Sr.prototype.markUsedJustification=function(Z,ge,re,ye){var Ie={left:re.leftJustifiedTextSymbolIndex,center:re.centerJustifiedTextSymbolIndex,right:re.rightJustifiedTextSymbolIndex},Ze;ye===i.WritingMode.vertical?Ze=re.verticalPlacedTextSymbolIndex:Ze=Ie[i.getAnchorJustification(ge)];for(var ft=[re.leftJustifiedTextSymbolIndex,re.centerJustifiedTextSymbolIndex,re.rightJustifiedTextSymbolIndex,re.verticalPlacedTextSymbolIndex],At=0,Ht=ft;At<Ht.length;At+=1){var qt=Ht[At];qt>=0&&(Ze>=0&&qt!==Ze?Z.text.placedSymbolArray.get(qt).crossTileID=0:Z.text.placedSymbolArray.get(qt).crossTileID=re.crossTileID)}},Sr.prototype.markUsedOrientation=function(Z,ge,re){for(var ye=ge===i.WritingMode.horizontal||ge===i.WritingMode.horizontalOnly?ge:0,Ie=ge===i.WritingMode.vertical?ge:0,Ze=[re.leftJustifiedTextSymbolIndex,re.centerJustifiedTextSymbolIndex,re.rightJustifiedTextSymbolIndex],ft=0,At=Ze;ft<At.length;ft+=1){var Ht=At[ft];Z.text.placedSymbolArray.get(Ht).placedOrientation=ye}re.verticalPlacedTextSymbolIndex&&(Z.text.placedSymbolArray.get(re.verticalPlacedTextSymbolIndex).placedOrientation=Ie)},Sr.prototype.commit=function(Z){this.commitTime=Z,this.zoomAtLastRecencyCheck=this.transform.zoom;var ge=this.prevPlacement,re=!1;this.prevZoomAdjustment=ge?ge.zoomAdjustment(this.transform.zoom):0;var ye=ge?ge.symbolFadeChange(Z):1,Ie=ge?ge.opacities:{},Ze=ge?ge.variableOffsets:{},ft=ge?ge.placedOrientations:{};for(var At in this.placements){var Ht=this.placements[At],qt=Ie[At];qt?(this.opacities[At]=new In(qt,ye,Ht.text,Ht.icon),re=re||Ht.text!==qt.text.placed||Ht.icon!==qt.icon.placed):(this.opacities[At]=new In(null,ye,Ht.text,Ht.icon,Ht.skipFade),re=re||Ht.text||Ht.icon)}for(var hr in Ie){var br=Ie[hr];if(!this.opacities[hr]){var Or=new In(br,ye,!1,!1);Or.isHidden()||(this.opacities[hr]=Or,re=re||br.text.placed||br.icon.placed)}}for(var Yr in Ze)!this.variableOffsets[Yr]&&this.opacities[Yr]&&!this.opacities[Yr].isHidden()&&(this.variableOffsets[Yr]=Ze[Yr]);for(var Xr in ft)!this.placedOrientations[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.placedOrientations[Xr]=ft[Xr]);re?this.lastPlacementChangeTime=Z:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=ge?ge.lastPlacementChangeTime:Z)},Sr.prototype.updateLayerOpacities=function(Z,ge){for(var re={},ye=0,Ie=ge;ye<Ie.length;ye+=1){var Ze=Ie[ye],ft=Ze.getBucket(Z);ft&&Ze.latestFeatureIndex&&Z.id===ft.layerIds[0]&&this.updateBucketOpacities(ft,re,Ze.collisionBoxArray)}},Sr.prototype.updateBucketOpacities=function(Z,ge,re){var ye=this;Z.hasTextData()&&Z.text.opacityVertexArray.clear(),Z.hasIconData()&&Z.icon.opacityVertexArray.clear(),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexArray.clear(),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexArray.clear();var Ie=Z.layers[0].layout,Ze=new In(null,0,!1,!1,!0),ft=Ie.get("text-allow-overlap"),At=Ie.get("icon-allow-overlap"),Ht=Ie.get("text-variable-anchor"),qt=Ie.get("text-rotation-alignment")==="map",hr=Ie.get("text-pitch-alignment")==="map",br=Ie.get("icon-text-fit")!=="none",Or=new In(null,0,ft&&(At||!Z.hasIconData()||Ie.get("icon-optional")),At&&(ft||!Z.hasTextData()||Ie.get("text-optional")),!0);!Z.collisionArrays&&re&&(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData())&&Z.deserializeCollisionBoxes(re);for(var Yr=function(vn,kn,Gn){for(var $n=0;$n<kn/4;$n++)vn.opacityVertexArray.emplaceBack(Gn)},Xr=function(vn){var kn=Z.symbolInstances.get(vn),Gn=kn.numHorizontalGlyphVertices,$n=kn.numVerticalGlyphVertices,ra=kn.crossTileID,ea=ge[ra],ha=ye.opacities[ra];ea?ha=Ze:ha||(ha=Or,ye.opacities[ra]=ha),ge[ra]=!0;var wa=Gn>0||$n>0,xa=kn.numIconVertices>0,Ea=ye.placedOrientations[kn.crossTileID],_a=Ea===i.WritingMode.vertical,ja=Ea===i.WritingMode.horizontal||Ea===i.WritingMode.horizontalOnly;if(wa){var ti=Nr(ha.text),ki=_a?xn:ti;Yr(Z.text,Gn,ki);var li=ja?xn:ti;Yr(Z.text,$n,li);var mi=ha.text.isHidden();[kn.rightJustifiedTextSymbolIndex,kn.centerJustifiedTextSymbolIndex,kn.leftJustifiedTextSymbolIndex].forEach(function(su){su>=0&&(Z.text.placedSymbolArray.get(su).hidden=mi||_a?1:0)}),kn.verticalPlacedTextSymbolIndex>=0&&(Z.text.placedSymbolArray.get(kn.verticalPlacedTextSymbolIndex).hidden=mi||ja?1:0);var Ua=ye.variableOffsets[kn.crossTileID];Ua&&ye.markUsedJustification(Z,Ua.anchor,kn,Ea);var Ii=ye.placedOrientations[kn.crossTileID];Ii&&(ye.markUsedJustification(Z,"left",kn,Ii),ye.markUsedOrientation(Z,Ii,kn))}if(xa){var Ni=Nr(ha.icon),Ui=!(br&&kn.verticalPlacedIconSymbolIndex&&_a);if(kn.placedIconSymbolIndex>=0){var bi=Ui?Ni:xn;Yr(Z.icon,kn.numIconVertices,bi),Z.icon.placedSymbolArray.get(kn.placedIconSymbolIndex).hidden=ha.icon.isHidden()}if(kn.verticalPlacedIconSymbolIndex>=0){var $i=Ui?xn:Ni;Yr(Z.icon,kn.numVerticalIconVertices,$i),Z.icon.placedSymbolArray.get(kn.verticalPlacedIconSymbolIndex).hidden=ha.icon.isHidden()}}if(Z.hasIconCollisionBoxData()||Z.hasTextCollisionBoxData()){var ni=Z.collisionArrays[vn];if(ni){var Ai=new i.Point(0,0);if(ni.textBox||ni.verticalTextBox){var Io=!0;if(Ht){var qo=ye.variableOffsets[ra];qo?(Ai=hi(qo.anchor,qo.width,qo.height,qo.textOffset,qo.textBoxScale),qt&&Ai._rotate(hr?ye.transform.angle:-ye.transform.angle)):Io=!1}ni.textBox&&fn(Z.textCollisionBox.collisionVertexArray,ha.text.placed,!Io||_a,Ai.x,Ai.y),ni.verticalTextBox&&fn(Z.textCollisionBox.collisionVertexArray,ha.text.placed,!Io||ja,Ai.x,Ai.y)}var ou=!!(!ja&&ni.verticalIconBox);ni.iconBox&&fn(Z.iconCollisionBox.collisionVertexArray,ha.icon.placed,ou,br?Ai.x:0,br?Ai.y:0),ni.verticalIconBox&&fn(Z.iconCollisionBox.collisionVertexArray,ha.icon.placed,!ou,br?Ai.x:0,br?Ai.y:0)}}},jr=0;jr<Z.symbolInstances.length;jr++)Xr(jr);if(Z.sortFeatures(this.transform.angle),this.retainedQueryData[Z.bucketInstanceId]&&(this.retainedQueryData[Z.bucketInstanceId].featureSortOrder=Z.featureSortOrder),Z.hasTextData()&&Z.text.opacityVertexBuffer&&Z.text.opacityVertexBuffer.updateData(Z.text.opacityVertexArray),Z.hasIconData()&&Z.icon.opacityVertexBuffer&&Z.icon.opacityVertexBuffer.updateData(Z.icon.opacityVertexArray),Z.hasIconCollisionBoxData()&&Z.iconCollisionBox.collisionVertexBuffer&&Z.iconCollisionBox.collisionVertexBuffer.updateData(Z.iconCollisionBox.collisionVertexArray),Z.hasTextCollisionBoxData()&&Z.textCollisionBox.collisionVertexBuffer&&Z.textCollisionBox.collisionVertexBuffer.updateData(Z.textCollisionBox.collisionVertexArray),Z.bucketInstanceId in this.collisionCircleArrays){var tn=this.collisionCircleArrays[Z.bucketInstanceId];Z.placementInvProjMatrix=tn.invProjMatrix,Z.placementViewportMatrix=tn.viewportMatrix,Z.collisionCircleArray=tn.circles,delete this.collisionCircleArrays[Z.bucketInstanceId]}},Sr.prototype.symbolFadeChange=function(Z){return this.fadeDuration===0?1:(Z-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Sr.prototype.zoomAdjustment=function(Z){return Math.max(0,(this.transform.zoom-Z)/1.5)},Sr.prototype.hasTransitions=function(Z){return this.stale||Z-this.lastPlacementChangeTime<this.fadeDuration},Sr.prototype.stillRecent=function(Z,ge){var re=this.zoomAtLastRecencyCheck===ge?1-this.zoomAdjustment(ge):1;return this.zoomAtLastRecencyCheck=ge,this.commitTime+this.fadeDuration*re>Z},Sr.prototype.setStale=function(){this.stale=!0};function fn(de,Z,ge,re,ye){de.emplaceBack(Z?1:0,ge?1:0,re||0,ye||0),de.emplaceBack(Z?1:0,ge?1:0,re||0,ye||0),de.emplaceBack(Z?1:0,ge?1:0,re||0,ye||0),de.emplaceBack(Z?1:0,ge?1:0,re||0,ye||0)}var gn=Math.pow(2,25),yn=Math.pow(2,24),Fn=Math.pow(2,17),Ln=Math.pow(2,16),ln=Math.pow(2,9),Ir=Math.pow(2,8),Rr=Math.pow(2,1);function Nr(de){if(de.opacity===0&&!de.placed)return 0;if(de.opacity===1&&de.placed)return 4294967295;var Z=de.placed?1:0,ge=Math.floor(de.opacity*127);return ge*gn+Z*yn+ge*Fn+Z*Ln+ge*ln+Z*Ir+ge*Rr+Z}var xn=0,Hn=function(Z){this._sortAcrossTiles=Z.layout.get("symbol-z-order")!=="viewport-y"&&Z.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Hn.prototype.continuePlacement=function(Z,ge,re,ye,Ie){for(var Ze=this._bucketParts;this._currentTileIndex<Z.length;){var ft=Z[this._currentTileIndex];if(ge.getBucketParts(Ze,ye,ft,this._sortAcrossTiles),this._currentTileIndex++,Ie())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ze.sort(function(Ht,qt){return Ht.sortKey-qt.sortKey}));this._currentPartIndex<Ze.length;){var At=Ze[this._currentPartIndex];if(ge.placeLayerBucketPart(At,this._seenCrossTileIDs,re),this._currentPartIndex++,Ie())return!0}return!1};var Qn=function(Z,ge,re,ye,Ie,Ze,ft){this.placement=new Sr(Z,Ie,Ze,ft),this._currentPlacementIndex=ge.length-1,this._forceFullPlacement=re,this._showCollisionBoxes=ye,this._done=!1};Qn.prototype.isDone=function(){return this._done},Qn.prototype.continuePlacement=function(Z,ge,re){for(var ye=this,Ie=i.browser.now(),Ze=function(){var hr=i.browser.now()-Ie;return ye._forceFullPlacement?!1:hr>2};this._currentPlacementIndex>=0;){var ft=Z[this._currentPlacementIndex],At=ge[ft],Ht=this.placement.collisionIndex.transform.zoom;if(At.type==="symbol"&&(!At.minzoom||At.minzoom<=Ht)&&(!At.maxzoom||At.maxzoom>Ht)){this._inProgressLayer||(this._inProgressLayer=new Hn(At));var qt=this._inProgressLayer.continuePlacement(re[At.source],this.placement,this._showCollisionBoxes,At,Ze);if(qt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Qn.prototype.commit=function(Z){return this.placement.commit(Z),this.placement};var An=512/i.EXTENT/2,Wn=function(Z,ge,re){this.tileID=Z,this.indexedSymbolInstances={},this.bucketInstanceId=re;for(var ye=0;ye<ge.length;ye++){var Ie=ge.get(ye),Ze=Ie.key;this.indexedSymbolInstances[Ze]||(this.indexedSymbolInstances[Ze]=[]),this.indexedSymbolInstances[Ze].push({crossTileID:Ie.crossTileID,coord:this.getScaledCoordinates(Ie,Z)})}};Wn.prototype.getScaledCoordinates=function(Z,ge){var re=ge.canonical.z-this.tileID.canonical.z,ye=An/Math.pow(2,re);return{x:Math.floor((ge.canonical.x*i.EXTENT+Z.anchorX)*ye),y:Math.floor((ge.canonical.y*i.EXTENT+Z.anchorY)*ye)}},Wn.prototype.findMatches=function(Z,ge,re){for(var ye=this.tileID.canonical.z<ge.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ge.canonical.z),Ie=0;Ie<Z.length;Ie++){var Ze=Z.get(Ie);if(!Ze.crossTileID){var ft=this.indexedSymbolInstances[Ze.key];if(ft)for(var At=this.getScaledCoordinates(Ze,ge),Ht=0,qt=ft;Ht<qt.length;Ht+=1){var hr=qt[Ht];if(Math.abs(hr.coord.x-At.x)<=ye&&Math.abs(hr.coord.y-At.y)<=ye&&!re[hr.crossTileID]){re[hr.crossTileID]=!0,Ze.crossTileID=hr.crossTileID;break}}}}};var ua=function(){this.maxCrossTileID=0};ua.prototype.generate=function(){return++this.maxCrossTileID};var ma=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ma.prototype.handleWrapJump=function(Z){var ge=Math.round((Z-this.lng)/360);if(ge!==0)for(var re in this.indexes){var ye=this.indexes[re],Ie={};for(var Ze in ye){var ft=ye[Ze];ft.tileID=ft.tileID.unwrapTo(ft.tileID.wrap+ge),Ie[ft.tileID.key]=ft}this.indexes[re]=Ie}this.lng=Z},ma.prototype.addBucket=function(Z,ge,re){if(this.indexes[Z.overscaledZ]&&this.indexes[Z.overscaledZ][Z.key]){if(this.indexes[Z.overscaledZ][Z.key].bucketInstanceId===ge.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(Z.overscaledZ,this.indexes[Z.overscaledZ][Z.key])}for(var ye=0;ye<ge.symbolInstances.length;ye++){var Ie=ge.symbolInstances.get(ye);Ie.crossTileID=0}this.usedCrossTileIDs[Z.overscaledZ]||(this.usedCrossTileIDs[Z.overscaledZ]={});var Ze=this.usedCrossTileIDs[Z.overscaledZ];for(var ft in this.indexes){var At=this.indexes[ft];if(Number(ft)>Z.overscaledZ)for(var Ht in At){var qt=At[Ht];qt.tileID.isChildOf(Z)&&qt.findMatches(ge.symbolInstances,Z,Ze)}else{var hr=Z.scaledTo(Number(ft)),br=At[hr.key];br&&br.findMatches(ge.symbolInstances,Z,Ze)}}for(var Or=0;Or<ge.symbolInstances.length;Or++){var Yr=ge.symbolInstances.get(Or);Yr.crossTileID||(Yr.crossTileID=re.generate(),Ze[Yr.crossTileID]=!0)}return this.indexes[Z.overscaledZ]===void 0&&(this.indexes[Z.overscaledZ]={}),this.indexes[Z.overscaledZ][Z.key]=new Wn(Z,ge.symbolInstances,ge.bucketInstanceId),!0},ma.prototype.removeBucketCrossTileIDs=function(Z,ge){for(var re in ge.indexedSymbolInstances)for(var ye=0,Ie=ge.indexedSymbolInstances[re];ye<Ie.length;ye+=1){var Ze=Ie[ye];delete this.usedCrossTileIDs[Z][Ze.crossTileID]}},ma.prototype.removeStaleBuckets=function(Z){var ge=!1;for(var re in this.indexes){var ye=this.indexes[re];for(var Ie in ye)Z[ye[Ie].bucketInstanceId]||(this.removeBucketCrossTileIDs(re,ye[Ie]),delete ye[Ie],ge=!0)}return ge};var da=function(){this.layerIndexes={},this.crossTileIDs=new ua,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};da.prototype.addLayer=function(Z,ge,re){var ye=this.layerIndexes[Z.id];ye===void 0&&(ye=this.layerIndexes[Z.id]=new ma);var Ie=!1,Ze={};ye.handleWrapJump(re);for(var ft=0,At=ge;ft<At.length;ft+=1){var Ht=At[ft],qt=Ht.getBucket(Z);!qt||Z.id!==qt.layerIds[0]||(qt.bucketInstanceId||(qt.bucketInstanceId=++this.maxBucketInstanceId),ye.addBucket(Ht.tileID,qt,this.crossTileIDs)&&(Ie=!0),Ze[qt.bucketInstanceId]=!0)}return ye.removeStaleBuckets(Ze)&&(Ie=!0),Ie},da.prototype.pruneUnusedLayers=function(Z){var ge={};Z.forEach(function(ye){ge[ye]=!0});for(var re in this.layerIndexes)ge[re]||delete this.layerIndexes[re]};var pa=function(de,Z){return i.emitValidationErrors(de,Z&&Z.filter(function(ge){return ge.identifier!=="source.canvas"}))},ba=i.pick(Bt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),So=i.pick(Bt,["setCenter","setZoom","setBearing","setPitch"]),_o=nr(),Go=function(de){function Z(ge,re){var ye=this;re===void 0&&(re={}),de.call(this),this.map=ge,this.dispatcher=new I(kt(),this),this.imageManager=new b,this.imageManager.setEventedParent(this),this.glyphManager=new S(ge._requestManager,re.localIdeographFontFamily),this.lineAtlas=new k(256,512),this.crossTileSymbolIndex=new da,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new i.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",i.getReferrer());var Ie=this;this._rtlTextPluginCallback=Z.registerForPluginStateChange(function(Ze){var ft={pluginStatus:Ze.pluginStatus,pluginURL:Ze.pluginURL};Ie.dispatcher.broadcast("syncRTLPluginState",ft,function(At,Ht){if(i.triggerPluginCompletionEvent(At),Ht){var qt=Ht.every(function(br){return br});if(qt)for(var hr in Ie.sourceCaches)Ie.sourceCaches[hr].reload()}})}),this.on("data",function(Ze){if(!(Ze.dataType!=="source"||Ze.sourceDataType!=="metadata")){var ft=ye.sourceCaches[Ze.sourceId];if(ft){var At=ft.getSource();if(!(!At||!At.vectorLayerIds))for(var Ht in ye._layers){var qt=ye._layers[Ht];qt.source===At.id&&ye._validateLayer(qt)}}}})}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.loadURL=function(re,ye){var Ie=this;ye===void 0&&(ye={}),this.fire(new i.Event("dataloading",{dataType:"style"}));var Ze=typeof ye.validate=="boolean"?ye.validate:!i.isMapboxURL(re);re=this.map._requestManager.normalizeStyleURL(re,ye.accessToken);var ft=this.map._requestManager.transformRequest(re,i.ResourceType.Style);this._request=i.getJSON(ft,function(At,Ht){Ie._request=null,At?Ie.fire(new i.ErrorEvent(At)):Ht&&Ie._load(Ht,Ze)})},Z.prototype.loadJSON=function(re,ye){var Ie=this;ye===void 0&&(ye={}),this.fire(new i.Event("dataloading",{dataType:"style"})),this._request=i.browser.frame(function(){Ie._request=null,Ie._load(re,ye.validate!==!1)})},Z.prototype.loadEmpty=function(){this.fire(new i.Event("dataloading",{dataType:"style"})),this._load(_o,!1)},Z.prototype._load=function(re,ye){if(!(ye&&pa(this,i.validateStyle(re)))){this._loaded=!0,this.stylesheet=re;for(var Ie in re.sources)this.addSource(Ie,re.sources[Ie],{validate:!1});re.sprite?this._loadSprite(re.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(re.glyphs);var Ze=cr(this.stylesheet.layers);this._order=Ze.map(function(qt){return qt.id}),this._layers={},this._serializedLayers={};for(var ft=0,At=Ze;ft<At.length;ft+=1){var Ht=At[ft];Ht=i.createStyleLayer(Ht),Ht.setEventedParent(this,{layer:{id:Ht.id}}),this._layers[Ht.id]=Ht,this._serializedLayers[Ht.id]=Ht.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new i.Event("data",{dataType:"style"})),this.fire(new i.Event("style.load"))}},Z.prototype._loadSprite=function(re){var ye=this;this._spriteRequest=u(re,this.map._requestManager,function(Ie,Ze){if(ye._spriteRequest=null,Ie)ye.fire(new i.ErrorEvent(Ie));else if(Ze)for(var ft in Ze)ye.imageManager.addImage(ft,Ze[ft]);ye.imageManager.setLoaded(!0),ye._availableImages=ye.imageManager.listImages(),ye.dispatcher.broadcast("setImages",ye._availableImages),ye.fire(new i.Event("data",{dataType:"style"}))})},Z.prototype._validateLayer=function(re){var ye=this.sourceCaches[re.source];if(ye){var Ie=re.sourceLayer;if(Ie){var Ze=ye.getSource();(Ze.type==="geojson"||Ze.vectorLayerIds&&Ze.vectorLayerIds.indexOf(Ie)===-1)&&this.fire(new i.ErrorEvent(new Error('Source layer "'+Ie+'" does not exist on source "'+Ze.id+'" as specified by style layer "'+re.id+'"')))}}},Z.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var re in this.sourceCaches)if(!this.sourceCaches[re].loaded())return!1;return!!this.imageManager.isLoaded()},Z.prototype._serializeLayers=function(re){for(var ye=[],Ie=0,Ze=re;Ie<Ze.length;Ie+=1){var ft=Ze[Ie],At=this._layers[ft];At.type!=="custom"&&ye.push(At.serialize())}return ye},Z.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var re in this.sourceCaches)if(this.sourceCaches[re].hasTransition())return!0;for(var ye in this._layers)if(this._layers[ye].hasTransition())return!0;return!1},Z.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},Z.prototype.update=function(re){if(this._loaded){var ye=this._changed;if(this._changed){var Ie=Object.keys(this._updatedLayers),Ze=Object.keys(this._removedLayers);(Ie.length||Ze.length)&&this._updateWorkerLayers(Ie,Ze);for(var ft in this._updatedSources){var At=this._updatedSources[ft];At==="reload"?this._reloadSource(ft):At==="clear"&&this._clearSource(ft)}this._updateTilesForChangedImages();for(var Ht in this._updatedPaintProps)this._layers[Ht].updateTransitions(re);this.light.updateTransitions(re),this._resetUpdates()}for(var qt in this.sourceCaches)this.sourceCaches[qt].used=!1;for(var hr=0,br=this._order;hr<br.length;hr+=1){var Or=br[hr],Yr=this._layers[Or];Yr.recalculate(re,this._availableImages),!Yr.isHidden(re.zoom)&&Yr.source&&(this.sourceCaches[Yr.source].used=!0)}this.light.recalculate(re),this.z=re.zoom,ye&&this.fire(new i.Event("data",{dataType:"style"}))}},Z.prototype._updateTilesForChangedImages=function(){var re=Object.keys(this._changedImages);if(re.length){for(var ye in this.sourceCaches)this.sourceCaches[ye].reloadTilesForDependencies(["icons","patterns"],re);this._changedImages={}}},Z.prototype._updateWorkerLayers=function(re,ye){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(re),removedIds:ye})},Z.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},Z.prototype.setState=function(re){var ye=this;if(this._checkLoaded(),pa(this,i.validateStyle(re)))return!1;re=i.clone$1(re),re.layers=cr(re.layers);var Ie=Bn(this.serialize(),re).filter(function(ft){return!(ft.command in So)});if(Ie.length===0)return!1;var Ze=Ie.filter(function(ft){return!(ft.command in ba)});if(Ze.length>0)throw new Error("Unimplemented: "+Ze.map(function(ft){return ft.command}).join(", ")+".");return Ie.forEach(function(ft){ft.command!=="setTransition"&&ye[ft.command].apply(ye,ft.args)}),this.stylesheet=re,!0},Z.prototype.addImage=function(re,ye){if(this.getImage(re))return this.fire(new i.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(re,ye),this._availableImages=this.imageManager.listImages(),this._changedImages[re]=!0,this._changed=!0,this.fire(new i.Event("data",{dataType:"style"}))},Z.prototype.updateImage=function(re,ye){this.imageManager.updateImage(re,ye)},Z.prototype.getImage=function(re){return this.imageManager.getImage(re)},Z.prototype.removeImage=function(re){if(!this.getImage(re))return this.fire(new i.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(re),this._availableImages=this.imageManager.listImages(),this._changedImages[re]=!0,this._changed=!0,this.fire(new i.Event("data",{dataType:"style"}))},Z.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},Z.prototype.addSource=function(re,ye,Ie){var Ze=this;if(Ie===void 0&&(Ie={}),this._checkLoaded(),this.sourceCaches[re]!==void 0)throw new Error("There is already a source with this ID");if(!ye.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(ye).join(", ")+".");var ft=["vector","raster","geojson","video","image"],At=ft.indexOf(ye.type)>=0;if(!(At&&this._validate(i.validateStyle.source,"sources."+re,ye,null,Ie))){this.map&&this.map._collectResourceTiming&&(ye.collectResourceTiming=!0);var Ht=this.sourceCaches[re]=new Ot(re,ye,this.dispatcher);Ht.style=this,Ht.setEventedParent(this,function(){return{isSourceLoaded:Ze.loaded(),source:Ht.serialize(),sourceId:re}}),Ht.onAdd(this.map),this._changed=!0}},Z.prototype.removeSource=function(re){if(this._checkLoaded(),this.sourceCaches[re]===void 0)throw new Error("There is no source with this ID");for(var ye in this._layers)if(this._layers[ye].source===re)return this.fire(new i.ErrorEvent(new Error('Source "'+re+'" cannot be removed while layer "'+ye+'" is using it.')));var Ie=this.sourceCaches[re];delete this.sourceCaches[re],delete this._updatedSources[re],Ie.fire(new i.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:re})),Ie.setEventedParent(null),Ie.clearTiles(),Ie.onRemove&&Ie.onRemove(this.map),this._changed=!0},Z.prototype.setGeoJSONSourceData=function(re,ye){this._checkLoaded();var Ie=this.sourceCaches[re].getSource();Ie.setData(ye),this._changed=!0},Z.prototype.getSource=function(re){return this.sourceCaches[re]&&this.sourceCaches[re].getSource()},Z.prototype.addLayer=function(re,ye,Ie){Ie===void 0&&(Ie={}),this._checkLoaded();var Ze=re.id;if(this.getLayer(Ze)){this.fire(new i.ErrorEvent(new Error('Layer with id "'+Ze+'" already exists on this map')));return}var ft;if(re.type==="custom"){if(pa(this,i.validateCustomStyleLayer(re)))return;ft=i.createStyleLayer(re)}else{if(typeof re.source=="object"&&(this.addSource(Ze,re.source),re=i.clone$1(re),re=i.extend(re,{source:Ze})),this._validate(i.validateStyle.layer,"layers."+Ze,re,{arrayIndex:-1},Ie))return;ft=i.createStyleLayer(re),this._validateLayer(ft),ft.setEventedParent(this,{layer:{id:Ze}}),this._serializedLayers[ft.id]=ft.serialize()}var At=ye?this._order.indexOf(ye):this._order.length;if(ye&&At===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}if(this._order.splice(At,0,Ze),this._layerOrderChanged=!0,this._layers[Ze]=ft,this._removedLayers[Ze]&&ft.source&&ft.type!=="custom"){var Ht=this._removedLayers[Ze];delete this._removedLayers[Ze],Ht.type!==ft.type?this._updatedSources[ft.source]="clear":(this._updatedSources[ft.source]="reload",this.sourceCaches[ft.source].pause())}this._updateLayer(ft),ft.onAdd&&ft.onAdd(this.map)},Z.prototype.moveLayer=function(re,ye){this._checkLoaded(),this._changed=!0;var Ie=this._layers[re];if(!Ie){this.fire(new i.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be moved.")));return}if(re!==ye){var Ze=this._order.indexOf(re);this._order.splice(Ze,1);var ft=ye?this._order.indexOf(ye):this._order.length;if(ye&&ft===-1){this.fire(new i.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}this._order.splice(ft,0,re),this._layerOrderChanged=!0}},Z.prototype.removeLayer=function(re){this._checkLoaded();var ye=this._layers[re];if(!ye){this.fire(new i.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be removed.")));return}ye.setEventedParent(null);var Ie=this._order.indexOf(re);this._order.splice(Ie,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[re]=ye,delete this._layers[re],delete this._serializedLayers[re],delete this._updatedLayers[re],delete this._updatedPaintProps[re],ye.onRemove&&ye.onRemove(this.map)},Z.prototype.getLayer=function(re){return this._layers[re]},Z.prototype.hasLayer=function(re){return re in this._layers},Z.prototype.setLayerZoomRange=function(re,ye,Ie){this._checkLoaded();var Ze=this.getLayer(re);if(!Ze){this.fire(new i.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot have zoom extent.")));return}Ze.minzoom===ye&&Ze.maxzoom===Ie||(ye!=null&&(Ze.minzoom=ye),Ie!=null&&(Ze.maxzoom=Ie),this._updateLayer(Ze))},Z.prototype.setFilter=function(re,ye,Ie){Ie===void 0&&(Ie={}),this._checkLoaded();var Ze=this.getLayer(re);if(!Ze){this.fire(new i.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be filtered.")));return}if(!i.deepEqual(Ze.filter,ye)){if(ye==null){Ze.filter=void 0,this._updateLayer(Ze);return}this._validate(i.validateStyle.filter,"layers."+Ze.id+".filter",ye,null,Ie)||(Ze.filter=i.clone$1(ye),this._updateLayer(Ze))}},Z.prototype.getFilter=function(re){return i.clone$1(this.getLayer(re).filter)},Z.prototype.setLayoutProperty=function(re,ye,Ie,Ze){Ze===void 0&&(Ze={}),this._checkLoaded();var ft=this.getLayer(re);if(!ft){this.fire(new i.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be styled.")));return}i.deepEqual(ft.getLayoutProperty(ye),Ie)||(ft.setLayoutProperty(ye,Ie,Ze),this._updateLayer(ft))},Z.prototype.getLayoutProperty=function(re,ye){var Ie=this.getLayer(re);if(!Ie){this.fire(new i.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style.")));return}return Ie.getLayoutProperty(ye)},Z.prototype.setPaintProperty=function(re,ye,Ie,Ze){Ze===void 0&&(Ze={}),this._checkLoaded();var ft=this.getLayer(re);if(!ft){this.fire(new i.ErrorEvent(new Error("The layer '"+re+"' does not exist in the map's style and cannot be styled.")));return}if(!i.deepEqual(ft.getPaintProperty(ye),Ie)){var At=ft.setPaintProperty(ye,Ie,Ze);At&&this._updateLayer(ft),this._changed=!0,this._updatedPaintProps[re]=!0}},Z.prototype.getPaintProperty=function(re,ye){return this.getLayer(re).getPaintProperty(ye)},Z.prototype.setFeatureState=function(re,ye){this._checkLoaded();var Ie=re.source,Ze=re.sourceLayer,ft=this.sourceCaches[Ie];if(ft===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+Ie+"' does not exist in the map's style.")));return}var At=ft.getSource().type;if(At==="geojson"&&Ze){this.fire(new i.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(At==="vector"&&!Ze){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}re.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),ft.setFeatureState(Ze,re.id,ye)},Z.prototype.removeFeatureState=function(re,ye){this._checkLoaded();var Ie=re.source,Ze=this.sourceCaches[Ie];if(Ze===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+Ie+"' does not exist in the map's style.")));return}var ft=Ze.getSource().type,At=ft==="vector"?re.sourceLayer:void 0;if(ft==="vector"&&!At){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ye&&typeof re.id!="string"&&typeof re.id!="number"){this.fire(new i.ErrorEvent(new Error("A feature id is requred to remove its specific state property.")));return}Ze.removeFeatureState(At,re.id,ye)},Z.prototype.getFeatureState=function(re){this._checkLoaded();var ye=re.source,Ie=re.sourceLayer,Ze=this.sourceCaches[ye];if(Ze===void 0){this.fire(new i.ErrorEvent(new Error("The source '"+ye+"' does not exist in the map's style.")));return}var ft=Ze.getSource().type;if(ft==="vector"&&!Ie){this.fire(new i.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return re.id===void 0&&this.fire(new i.ErrorEvent(new Error("The feature id parameter must be provided."))),Ze.getFeatureState(Ie,re.id)},Z.prototype.getTransition=function(){return i.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},Z.prototype.serialize=function(){return i.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:i.mapObject(this.sourceCaches,function(re){return re.serialize()}),layers:this._serializeLayers(this._order)},function(re){return re!==void 0})},Z.prototype._updateLayer=function(re){this._updatedLayers[re.id]=!0,re.source&&!this._updatedSources[re.source]&&this.sourceCaches[re.source].getSource().type!=="raster"&&(this._updatedSources[re.source]="reload",this.sourceCaches[re.source].pause()),this._changed=!0},Z.prototype._flattenAndSortRenderedFeatures=function(re){for(var ye=this,Ie=function(ja){return ye._layers[ja].type==="fill-extrusion"},Ze={},ft=[],At=this._order.length-1;At>=0;At--){var Ht=this._order[At];if(Ie(Ht)){Ze[Ht]=At;for(var qt=0,hr=re;qt<hr.length;qt+=1){var br=hr[qt],Or=br[Ht];if(Or)for(var Yr=0,Xr=Or;Yr<Xr.length;Yr+=1){var jr=Xr[Yr];ft.push(jr)}}}}ft.sort(function(ja,ti){return ti.intersectionZ-ja.intersectionZ});for(var tn=[],vn=this._order.length-1;vn>=0;vn--){var kn=this._order[vn];if(Ie(kn))for(var Gn=ft.length-1;Gn>=0;Gn--){var $n=ft[Gn].feature;if(Ze[$n.layer.id]<vn)break;tn.push($n),ft.pop()}else for(var ra=0,ea=re;ra<ea.length;ra+=1){var ha=ea[ra],wa=ha[kn];if(wa)for(var xa=0,Ea=wa;xa<Ea.length;xa+=1){var _a=Ea[xa];tn.push(_a.feature)}}}return tn},Z.prototype.queryRenderedFeatures=function(re,ye,Ie){ye&&ye.filter&&this._validate(i.validateStyle.filter,"queryRenderedFeatures.filter",ye.filter,null,ye);var Ze={};if(ye&&ye.layers){if(!Array.isArray(ye.layers))return this.fire(new i.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ft=0,At=ye.layers;ft<At.length;ft+=1){var Ht=At[ft],qt=this._layers[Ht];if(!qt)return this.fire(new i.ErrorEvent(new Error("The layer '"+Ht+"' does not exist in the map's style and cannot be queried for features."))),[];Ze[qt.source]=!0}}var hr=[];ye.availableImages=this._availableImages;for(var br in this.sourceCaches)ye.layers&&!Ze[br]||hr.push(Q(this.sourceCaches[br],this._layers,this._serializedLayers,re,ye,Ie));return this.placement&&hr.push(ee(this._layers,this._serializedLayers,this.sourceCaches,re,ye,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(hr)},Z.prototype.querySourceFeatures=function(re,ye){ye&&ye.filter&&this._validate(i.validateStyle.filter,"querySourceFeatures.filter",ye.filter,null,ye);var Ie=this.sourceCaches[re];return Ie?le(Ie,ye):[]},Z.prototype.addSourceType=function(re,ye,Ie){if(Z.getSourceType(re))return Ie(new Error('A source type called "'+re+'" already exists.'));if(Z.setSourceType(re,ye),!ye.workerSourceURL)return Ie(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:re,url:ye.workerSourceURL},Ie)},Z.prototype.getLight=function(){return this.light.getLight()},Z.prototype.setLight=function(re,ye){ye===void 0&&(ye={}),this._checkLoaded();var Ie=this.light.getLight(),Ze=!1;for(var ft in re)if(!i.deepEqual(re[ft],Ie[ft])){Ze=!0;break}if(Ze){var At={now:i.browser.now(),transition:i.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(re,ye),this.light.updateTransitions(At)}},Z.prototype._validate=function(re,ye,Ie,Ze,ft){return ft===void 0&&(ft={}),ft&&ft.validate===!1?!1:pa(this,re.call(i.validateStyle,i.extend({key:ye,style:this.serialize(),value:Ie,styleSpec:i.styleSpec},Ze)))},Z.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),i.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var re in this._layers){var ye=this._layers[re];ye.setEventedParent(null)}for(var Ie in this.sourceCaches)this.sourceCaches[Ie].clearTiles(),this.sourceCaches[Ie].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},Z.prototype._clearSource=function(re){this.sourceCaches[re].clearTiles()},Z.prototype._reloadSource=function(re){this.sourceCaches[re].resume(),this.sourceCaches[re].reload()},Z.prototype._updateSources=function(re){for(var ye in this.sourceCaches)this.sourceCaches[ye].update(re)},Z.prototype._generateCollisionBoxes=function(){for(var re in this.sourceCaches)this._reloadSource(re)},Z.prototype._updatePlacement=function(re,ye,Ie,Ze,ft){ft===void 0&&(ft=!1);for(var At=!1,Ht=!1,qt={},hr=0,br=this._order;hr<br.length;hr+=1){var Or=br[hr],Yr=this._layers[Or];if(Yr.type==="symbol"){if(!qt[Yr.source]){var Xr=this.sourceCaches[Yr.source];qt[Yr.source]=Xr.getRenderableIds(!0).map(function(ra){return Xr.getTileByID(ra)}).sort(function(ra,ea){return ea.tileID.overscaledZ-ra.tileID.overscaledZ||(ra.tileID.isLessThan(ea.tileID)?-1:1)})}var jr=this.crossTileSymbolIndex.addLayer(Yr,qt[Yr.source],re.center.lng);At=At||jr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ft=ft||this._layerOrderChanged||Ie===0,(ft||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(i.browser.now(),re.zoom))&&(this.pauseablePlacement=new Qn(re,this._order,ft,ye,Ie,Ze,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,qt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(i.browser.now()),Ht=!0),At&&this.pauseablePlacement.placement.setStale()),Ht||At)for(var tn=0,vn=this._order;tn<vn.length;tn+=1){var kn=vn[tn],Gn=this._layers[kn];Gn.type==="symbol"&&this.placement.updateLayerOpacities(Gn,qt[Gn.source])}var $n=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(i.browser.now());return $n},Z.prototype._releaseSymbolFadeTiles=function(){for(var re in this.sourceCaches)this.sourceCaches[re].releaseSymbolFadeTiles()},Z.prototype.getImages=function(re,ye,Ie){this.imageManager.getImages(ye.icons,Ie),this._updateTilesForChangedImages();var Ze=this.sourceCaches[ye.source];Ze&&Ze.setDependencies(ye.tileID.key,ye.type,ye.icons)},Z.prototype.getGlyphs=function(re,ye,Ie){this.glyphManager.getGlyphs(ye.stacks,Ie)},Z.prototype.getResource=function(re,ye,Ie){return i.makeRequest(ye,Ie)},Z}(i.Evented);Go.getSourceType=j,Go.setSourceType=K,Go.registerForPluginStateChange=i.registerForPluginStateChange;var Ko=i.createLayout([{name:"a_pos",type:"Int16",components:2}]),Wo=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Uu=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,xi=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Fl="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Jl=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Do="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",bo=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,uf=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,Ql="void main() {gl_FragColor=vec4(1.0);}",Xi="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",$l=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ss=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,wo=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,ps="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",jo="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",To="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",_s="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",qs="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",Oo="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Hf="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Hs=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,No=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,ff=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,el=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Vs=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gu=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,ql=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Vf=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,eu=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Hu=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Gf=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,yc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,cf=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mc="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",zl=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Wf="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",xc=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Vu=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Gu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ds=`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,yl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,Wu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,yu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,tl=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hf="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",vf=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,jf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,Jo=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ml=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Ol=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Nl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,Ts=$a(Wo,Uu),Qo=$a(xi,Fl),ju=$a(Jl,Do),rl=$a(bo,uf),ks=$a(Ql,Xi),co=$a($l,ss),df=$a(wo,ps),xl=$a(jo,To),ir=$a(_s,qs),tt=$a(Oo,Hf),Ut=$a(Hs,No),Lr=$a(ff,el),Mn=$a(Vs,gu),mn=$a(ql,Vf),Vn=$a(eu,Hu),aa=$a(Gf,yc),Sa=$a(cf,mc),Va=$a(zl,Wf),Ha=$a(xc,Vu),ka=$a(Gu,Ds),ci=$a(yl,tu),ri=$a(Wu,yu),ai=$a(tl,hf),ii=$a(vf,jf),si=$a(Jo,ml),zi=$a(Ol,Nl);function $a(de,Z){var ge=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,re={};return de=de.replace(ge,function(ye,Ie,Ze,ft,At){return re[At]=!0,Ie==="define"?`
#ifndef HAS_UNIFORM_u_`+At+`
varying `+Ze+" "+ft+" "+At+`;
#else
uniform `+Ze+" "+ft+" u_"+At+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+At+`
    `+Ze+" "+ft+" "+At+" = u_"+At+`;
#endif
`}),Z=Z.replace(ge,function(ye,Ie,Ze,ft,At){var Ht=ft==="float"?"vec2":"vec4",qt=At.match(/color/)?"color":Ht;return re[At]?Ie==="define"?`
#ifndef HAS_UNIFORM_u_`+At+`
uniform lowp float u_`+At+`_t;
attribute `+Ze+" "+Ht+" a_"+At+`;
varying `+Ze+" "+ft+" "+At+`;
#else
uniform `+Ze+" "+ft+" u_"+At+`;
#endif
`:qt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+At+`
    `+At+" = a_"+At+`;
#else
    `+Ze+" "+ft+" "+At+" = u_"+At+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+At+`
    `+At+" = unpack_mix_"+qt+"(a_"+At+", u_"+At+`_t);
#else
    `+Ze+" "+ft+" "+At+" = u_"+At+`;
#endif
`:Ie==="define"?`
#ifndef HAS_UNIFORM_u_`+At+`
uniform lowp float u_`+At+`_t;
attribute `+Ze+" "+Ht+" a_"+At+`;
#else
uniform `+Ze+" "+ft+" u_"+At+`;
#endif
`:qt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+At+`
    `+Ze+" "+ft+" "+At+" = a_"+At+`;
#else
    `+Ze+" "+ft+" "+At+" = u_"+At+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+At+`
    `+Ze+" "+ft+" "+At+" = unpack_mix_"+qt+"(a_"+At+", u_"+At+`_t);
#else
    `+Ze+" "+ft+" "+At+" = u_"+At+`;
#endif
`}),{fragmentSource:de,vertexSource:Z}}var gi=Object.freeze({__proto__:null,prelude:Ts,background:Qo,backgroundPattern:ju,circle:rl,clippingMask:ks,heatmap:co,heatmapTexture:df,collisionBox:xl,collisionCircle:ir,debug:tt,fill:Ut,fillOutline:Lr,fillOutlinePattern:Mn,fillPattern:mn,fillExtrusion:Vn,fillExtrusionPattern:aa,hillshadePrepare:Sa,hillshade:Va,line:Ha,lineGradient:ka,linePattern:ci,lineSDF:ri,raster:ai,symbolIcon:ii,symbolSDF:si,symbolTextAndIcon:zi}),vi=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};vi.prototype.bind=function(Z,ge,re,ye,Ie,Ze,ft,At){this.context=Z;for(var Ht=this.boundPaintVertexBuffers.length!==ye.length,qt=0;!Ht&&qt<ye.length;qt++)this.boundPaintVertexBuffers[qt]!==ye[qt]&&(Ht=!0);var hr=!this.vao||this.boundProgram!==ge||this.boundLayoutVertexBuffer!==re||Ht||this.boundIndexBuffer!==Ie||this.boundVertexOffset!==Ze||this.boundDynamicVertexBuffer!==ft||this.boundDynamicVertexBuffer2!==At;!Z.extVertexArrayObject||hr?this.freshBind(ge,re,ye,Ie,Ze,ft,At):(Z.bindVertexArrayOES.set(this.vao),ft&&ft.bind(),Ie&&Ie.dynamicDraw&&Ie.bind(),At&&At.bind())},vi.prototype.freshBind=function(Z,ge,re,ye,Ie,Ze,ft){var At,Ht=Z.numAttributes,qt=this.context,hr=qt.gl;if(qt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=qt.extVertexArrayObject.createVertexArrayOES(),qt.bindVertexArrayOES.set(this.vao),At=0,this.boundProgram=Z,this.boundLayoutVertexBuffer=ge,this.boundPaintVertexBuffers=re,this.boundIndexBuffer=ye,this.boundVertexOffset=Ie,this.boundDynamicVertexBuffer=Ze,this.boundDynamicVertexBuffer2=ft;else{At=qt.currentNumAttributes||0;for(var br=Ht;br<At;br++)hr.disableVertexAttribArray(br)}ge.enableAttributes(hr,Z);for(var Or=0,Yr=re;Or<Yr.length;Or+=1){var Xr=Yr[Or];Xr.enableAttributes(hr,Z)}Ze&&Ze.enableAttributes(hr,Z),ft&&ft.enableAttributes(hr,Z),ge.bind(),ge.setVertexAttribPointers(hr,Z,Ie);for(var jr=0,tn=re;jr<tn.length;jr+=1){var vn=tn[jr];vn.bind(),vn.setVertexAttribPointers(hr,Z,Ie)}Ze&&(Ze.bind(),Ze.setVertexAttribPointers(hr,Z,Ie)),ye&&ye.bind(),ft&&(ft.bind(),ft.setVertexAttribPointers(hr,Z,Ie)),qt.currentNumAttributes=Ht},vi.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var ui=function(Z,ge,re,ye,Ie){var Ze=Z.gl;this.program=Ze.createProgram();var ft=re?re.defines():[];Ie&&ft.push("#define OVERDRAW_INSPECTOR;");var At=ft.concat(Ts.fragmentSource,ge.fragmentSource).join(`
`),Ht=ft.concat(Ts.vertexSource,ge.vertexSource).join(`
`),qt=Ze.createShader(Ze.FRAGMENT_SHADER);if(Ze.isContextLost()){this.failedToCreate=!0;return}Ze.shaderSource(qt,At),Ze.compileShader(qt),Ze.attachShader(this.program,qt);var hr=Ze.createShader(Ze.VERTEX_SHADER);if(Ze.isContextLost()){this.failedToCreate=!0;return}Ze.shaderSource(hr,Ht),Ze.compileShader(hr),Ze.attachShader(this.program,hr);for(var br=re?re.layoutAttributes:[],Or=0;Or<br.length;Or++)Ze.bindAttribLocation(this.program,Or,br[Or].name);Ze.linkProgram(this.program),Ze.deleteShader(hr),Ze.deleteShader(qt),this.numAttributes=Ze.getProgramParameter(this.program,Ze.ACTIVE_ATTRIBUTES),this.attributes={};for(var Yr={},Xr=0;Xr<this.numAttributes;Xr++){var jr=Ze.getActiveAttrib(this.program,Xr);jr&&(this.attributes[jr.name]=Ze.getAttribLocation(this.program,jr.name))}for(var tn=Ze.getProgramParameter(this.program,Ze.ACTIVE_UNIFORMS),vn=0;vn<tn;vn++){var kn=Ze.getActiveUniform(this.program,vn);kn&&(Yr[kn.name]=Ze.getUniformLocation(this.program,kn.name))}this.fixedUniforms=ye(Z,Yr),this.binderUniforms=re?re.getUniforms(Z,Yr):[]};ui.prototype.draw=function(Z,ge,re,ye,Ie,Ze,ft,At,Ht,qt,hr,br,Or,Yr,Xr,jr){var tn,vn=Z.gl;if(!this.failedToCreate){Z.program.set(this.program),Z.setDepthMode(re),Z.setStencilMode(ye),Z.setColorMode(Ie),Z.setCullFace(Ze);for(var kn in this.fixedUniforms)this.fixedUniforms[kn].set(ft[kn]);Yr&&Yr.setUniforms(Z,this.binderUniforms,br,{zoom:Or});for(var Gn=(tn={},tn[vn.LINES]=2,tn[vn.TRIANGLES]=3,tn[vn.LINE_STRIP]=1,tn)[ge],$n=0,ra=hr.get();$n<ra.length;$n+=1){var ea=ra[$n],ha=ea.vaos||(ea.vaos={}),wa=ha[At]||(ha[At]=new vi);wa.bind(Z,this,Ht,Yr?Yr.getPaintVertexBuffers():[],qt,ea.vertexOffset,Xr,jr),vn.drawElements(ge,ea.primitiveLength*Gn,vn.UNSIGNED_SHORT,ea.primitiveOffset*Gn*2)}}};function di(de,Z,ge){var re=1/wn(ge,1,Z.transform.tileZoom),ye=Math.pow(2,ge.tileID.overscaledZ),Ie=ge.tileSize*Math.pow(2,Z.transform.tileZoom)/ye,Ze=Ie*(ge.tileID.canonical.x+ge.tileID.wrap*ye),ft=Ie*ge.tileID.canonical.y;return{u_image:0,u_texsize:ge.imageAtlasTexture.size,u_scale:[re,de.fromScale,de.toScale],u_fade:de.t,u_pixel_coord_upper:[Ze>>16,ft>>16],u_pixel_coord_lower:[Ze&65535,ft&65535]}}function Fi(de,Z,ge,re){var ye=ge.imageManager.getPattern(de.from.toString()),Ie=ge.imageManager.getPattern(de.to.toString()),Ze=ge.imageManager.getPixelSize(),ft=Ze.width,At=Ze.height,Ht=Math.pow(2,re.tileID.overscaledZ),qt=re.tileSize*Math.pow(2,ge.transform.tileZoom)/Ht,hr=qt*(re.tileID.canonical.x+re.tileID.wrap*Ht),br=qt*re.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ye.tl,u_pattern_br_a:ye.br,u_pattern_tl_b:Ie.tl,u_pattern_br_b:Ie.br,u_texsize:[ft,At],u_mix:Z.t,u_pattern_size_a:ye.displaySize,u_pattern_size_b:Ie.displaySize,u_scale_a:Z.fromScale,u_scale_b:Z.toScale,u_tile_units_to_pixels:1/wn(re,1,ge.transform.tileZoom),u_pixel_coord_upper:[hr>>16,br>>16],u_pixel_coord_lower:[hr&65535,br&65535]}}var oi=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_lightpos:new i.Uniform3f(de,Z.u_lightpos),u_lightintensity:new i.Uniform1f(de,Z.u_lightintensity),u_lightcolor:new i.Uniform3f(de,Z.u_lightcolor),u_vertical_gradient:new i.Uniform1f(de,Z.u_vertical_gradient),u_opacity:new i.Uniform1f(de,Z.u_opacity)}},Si=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_lightpos:new i.Uniform3f(de,Z.u_lightpos),u_lightintensity:new i.Uniform1f(de,Z.u_lightintensity),u_lightcolor:new i.Uniform3f(de,Z.u_lightcolor),u_vertical_gradient:new i.Uniform1f(de,Z.u_vertical_gradient),u_height_factor:new i.Uniform1f(de,Z.u_height_factor),u_image:new i.Uniform1i(de,Z.u_image),u_texsize:new i.Uniform2f(de,Z.u_texsize),u_pixel_coord_upper:new i.Uniform2f(de,Z.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(de,Z.u_pixel_coord_lower),u_scale:new i.Uniform3f(de,Z.u_scale),u_fade:new i.Uniform1f(de,Z.u_fade),u_opacity:new i.Uniform1f(de,Z.u_opacity)}},wi=function(de,Z,ge,re){var ye=Z.style.light,Ie=ye.properties.get("position"),Ze=[Ie.x,Ie.y,Ie.z],ft=i.create$1();ye.properties.get("anchor")==="viewport"&&i.fromRotation(ft,-Z.transform.angle),i.transformMat3(Ze,Ze,ft);var At=ye.properties.get("color");return{u_matrix:de,u_lightpos:Ze,u_lightintensity:ye.properties.get("intensity"),u_lightcolor:[At.r,At.g,At.b],u_vertical_gradient:+ge,u_opacity:re}},go=function(de,Z,ge,re,ye,Ie,Ze){return i.extend(wi(de,Z,ge,re),di(Ie,Z,Ze),{u_height_factor:-Math.pow(2,ye.overscaledZ)/Ze.tileSize/8})},Eo=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix)}},ho=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_image:new i.Uniform1i(de,Z.u_image),u_texsize:new i.Uniform2f(de,Z.u_texsize),u_pixel_coord_upper:new i.Uniform2f(de,Z.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(de,Z.u_pixel_coord_lower),u_scale:new i.Uniform3f(de,Z.u_scale),u_fade:new i.Uniform1f(de,Z.u_fade)}},Co=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_world:new i.Uniform2f(de,Z.u_world)}},Lo=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_world:new i.Uniform2f(de,Z.u_world),u_image:new i.Uniform1i(de,Z.u_image),u_texsize:new i.Uniform2f(de,Z.u_texsize),u_pixel_coord_upper:new i.Uniform2f(de,Z.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(de,Z.u_pixel_coord_lower),u_scale:new i.Uniform3f(de,Z.u_scale),u_fade:new i.Uniform1f(de,Z.u_fade)}},_i=function(de){return{u_matrix:de}},Po=function(de,Z,ge,re){return i.extend(_i(de),di(ge,Z,re))},ls=function(de,Z){return{u_matrix:de,u_world:Z}},Gs=function(de,Z,ge,re,ye){return i.extend(Po(de,Z,ge,re),{u_world:ye})},yo=function(de,Z){return{u_camera_to_center_distance:new i.Uniform1f(de,Z.u_camera_to_center_distance),u_scale_with_map:new i.Uniform1i(de,Z.u_scale_with_map),u_pitch_with_map:new i.Uniform1i(de,Z.u_pitch_with_map),u_extrude_scale:new i.Uniform2f(de,Z.u_extrude_scale),u_device_pixel_ratio:new i.Uniform1f(de,Z.u_device_pixel_ratio),u_matrix:new i.UniformMatrix4f(de,Z.u_matrix)}},Vi=function(de,Z,ge,re){var ye=de.transform,Ie,Ze;if(re.paint.get("circle-pitch-alignment")==="map"){var ft=wn(ge,1,ye.zoom);Ie=!0,Ze=[ft,ft]}else Ie=!1,Ze=ye.pixelsToGLUnits;return{u_camera_to_center_distance:ye.cameraToCenterDistance,u_scale_with_map:+(re.paint.get("circle-pitch-scale")==="map"),u_matrix:de.translatePosMatrix(Z.posMatrix,ge,re.paint.get("circle-translate"),re.paint.get("circle-translate-anchor")),u_pitch_with_map:+Ie,u_device_pixel_ratio:i.browser.devicePixelRatio,u_extrude_scale:Ze}},$o=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_camera_to_center_distance:new i.Uniform1f(de,Z.u_camera_to_center_distance),u_pixels_to_tile_units:new i.Uniform1f(de,Z.u_pixels_to_tile_units),u_extrude_scale:new i.Uniform2f(de,Z.u_extrude_scale),u_overscale_factor:new i.Uniform1f(de,Z.u_overscale_factor)}},As=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_inv_matrix:new i.UniformMatrix4f(de,Z.u_inv_matrix),u_camera_to_center_distance:new i.Uniform1f(de,Z.u_camera_to_center_distance),u_viewport_size:new i.Uniform2f(de,Z.u_viewport_size)}},bl=function(de,Z,ge){var re=wn(ge,1,Z.zoom),ye=Math.pow(2,Z.zoom-ge.tileID.overscaledZ),Ie=ge.tileID.overscaleFactor();return{u_matrix:de,u_camera_to_center_distance:Z.cameraToCenterDistance,u_pixels_to_tile_units:re,u_extrude_scale:[Z.pixelsToGLUnits[0]/(re*ye),Z.pixelsToGLUnits[1]/(re*ye)],u_overscale_factor:Ie}},Bl=function(de,Z,ge){return{u_matrix:de,u_inv_matrix:Z,u_camera_to_center_distance:ge.cameraToCenterDistance,u_viewport_size:[ge.width,ge.height]}},pf=function(de,Z){return{u_color:new i.UniformColor(de,Z.u_color),u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_overlay:new i.Uniform1i(de,Z.u_overlay),u_overlay_scale:new i.Uniform1f(de,Z.u_overlay_scale)}},Ul=function(de,Z,ge){return ge===void 0&&(ge=1),{u_matrix:de,u_color:Z,u_overlay:0,u_overlay_scale:ge}},Ao=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix)}},us=function(de){return{u_matrix:de}},mu=function(de,Z){return{u_extrude_scale:new i.Uniform1f(de,Z.u_extrude_scale),u_intensity:new i.Uniform1f(de,Z.u_intensity),u_matrix:new i.UniformMatrix4f(de,Z.u_matrix)}},nl=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_world:new i.Uniform2f(de,Z.u_world),u_image:new i.Uniform1i(de,Z.u_image),u_color_ramp:new i.Uniform1i(de,Z.u_color_ramp),u_opacity:new i.Uniform1f(de,Z.u_opacity)}},xu=function(de,Z,ge,re){return{u_matrix:de,u_extrude_scale:wn(Z,1,ge),u_intensity:re}},bu=function(de,Z,ge,re){var ye=i.create();i.ortho(ye,0,de.width,de.height,0,0,1);var Ie=de.context.gl;return{u_matrix:ye,u_world:[Ie.drawingBufferWidth,Ie.drawingBufferHeight],u_image:ge,u_color_ramp:re,u_opacity:Z.paint.get("heatmap-opacity")}},bc=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_image:new i.Uniform1i(de,Z.u_image),u_latrange:new i.Uniform2f(de,Z.u_latrange),u_light:new i.Uniform2f(de,Z.u_light),u_shadow:new i.UniformColor(de,Z.u_shadow),u_highlight:new i.UniformColor(de,Z.u_highlight),u_accent:new i.UniformColor(de,Z.u_accent)}},gf=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_image:new i.Uniform1i(de,Z.u_image),u_dimension:new i.Uniform2f(de,Z.u_dimension),u_zoom:new i.Uniform1f(de,Z.u_zoom),u_maxzoom:new i.Uniform1f(de,Z.u_maxzoom),u_unpack:new i.Uniform4f(de,Z.u_unpack)}},yf=function(de,Z,ge){var re=ge.paint.get("hillshade-shadow-color"),ye=ge.paint.get("hillshade-highlight-color"),Ie=ge.paint.get("hillshade-accent-color"),Ze=ge.paint.get("hillshade-illumination-direction")*(Math.PI/180);ge.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ze-=de.transform.angle);var ft=!de.options.moving;return{u_matrix:de.transform.calculatePosMatrix(Z.tileID.toUnwrapped(),ft),u_image:0,u_latrange:wl(de,Z.tileID),u_light:[ge.paint.get("hillshade-exaggeration"),Ze],u_shadow:re,u_highlight:ye,u_accent:Ie}},mf=function(de,Z,ge){var re=Z.stride,ye=i.create();return i.ortho(ye,0,i.EXTENT,-i.EXTENT,0,0,1),i.translate(ye,ye,[0,-i.EXTENT,0]),{u_matrix:ye,u_image:1,u_dimension:[re,re],u_zoom:de.overscaledZ,u_maxzoom:ge,u_unpack:Z.getUnpackVector()}};function wl(de,Z){var ge=Math.pow(2,Z.canonical.z),re=Z.canonical.y;return[new i.MercatorCoordinate(0,re/ge).toLngLat().lat,new i.MercatorCoordinate(0,(re+1)/ge).toLngLat().lat]}var Gi=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_ratio:new i.Uniform1f(de,Z.u_ratio),u_device_pixel_ratio:new i.Uniform1f(de,Z.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(de,Z.u_units_to_pixels)}},gs=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_ratio:new i.Uniform1f(de,Z.u_ratio),u_device_pixel_ratio:new i.Uniform1f(de,Z.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(de,Z.u_units_to_pixels),u_image:new i.Uniform1i(de,Z.u_image)}},Yu=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_texsize:new i.Uniform2f(de,Z.u_texsize),u_ratio:new i.Uniform1f(de,Z.u_ratio),u_device_pixel_ratio:new i.Uniform1f(de,Z.u_device_pixel_ratio),u_image:new i.Uniform1i(de,Z.u_image),u_units_to_pixels:new i.Uniform2f(de,Z.u_units_to_pixels),u_scale:new i.Uniform3f(de,Z.u_scale),u_fade:new i.Uniform1f(de,Z.u_fade)}},xf=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_ratio:new i.Uniform1f(de,Z.u_ratio),u_device_pixel_ratio:new i.Uniform1f(de,Z.u_device_pixel_ratio),u_units_to_pixels:new i.Uniform2f(de,Z.u_units_to_pixels),u_patternscale_a:new i.Uniform2f(de,Z.u_patternscale_a),u_patternscale_b:new i.Uniform2f(de,Z.u_patternscale_b),u_sdfgamma:new i.Uniform1f(de,Z.u_sdfgamma),u_image:new i.Uniform1i(de,Z.u_image),u_tex_y_a:new i.Uniform1f(de,Z.u_tex_y_a),u_tex_y_b:new i.Uniform1f(de,Z.u_tex_y_b),u_mix:new i.Uniform1f(de,Z.u_mix)}},al=function(de,Z,ge){var re=de.transform;return{u_matrix:il(de,Z,ge),u_ratio:1/wn(Z,1,re.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_units_to_pixels:[1/re.pixelsToGLUnits[0],1/re.pixelsToGLUnits[1]]}},wu=function(de,Z,ge){return i.extend(al(de,Z,ge),{u_image:0})},Ms=function(de,Z,ge,re){var ye=de.transform,Ie=Ws(Z,ye);return{u_matrix:il(de,Z,ge),u_texsize:Z.imageAtlasTexture.size,u_ratio:1/wn(Z,1,ye.zoom),u_device_pixel_ratio:i.browser.devicePixelRatio,u_image:0,u_scale:[Ie,re.fromScale,re.toScale],u_fade:re.t,u_units_to_pixels:[1/ye.pixelsToGLUnits[0],1/ye.pixelsToGLUnits[1]]}},Tu=function(de,Z,ge,re,ye){var Ie=de.transform,Ze=de.lineAtlas,ft=Ws(Z,Ie),At=ge.layout.get("line-cap")==="round",Ht=Ze.getDash(re.from,At),qt=Ze.getDash(re.to,At),hr=Ht.width*ye.fromScale,br=qt.width*ye.toScale;return i.extend(al(de,Z,ge),{u_patternscale_a:[ft/hr,-Ht.height/2],u_patternscale_b:[ft/br,-qt.height/2],u_sdfgamma:Ze.width/(Math.min(hr,br)*256*i.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ht.y,u_tex_y_b:qt.y,u_mix:ye.t})};function Ws(de,Z){return 1/wn(de,1,Z.tileZoom)}function il(de,Z,ge){return de.translatePosMatrix(Z.tileID.posMatrix,Z,ge.paint.get("line-translate"),ge.paint.get("line-translate-anchor"))}var bf=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_tl_parent:new i.Uniform2f(de,Z.u_tl_parent),u_scale_parent:new i.Uniform1f(de,Z.u_scale_parent),u_buffer_scale:new i.Uniform1f(de,Z.u_buffer_scale),u_fade_t:new i.Uniform1f(de,Z.u_fade_t),u_opacity:new i.Uniform1f(de,Z.u_opacity),u_image0:new i.Uniform1i(de,Z.u_image0),u_image1:new i.Uniform1i(de,Z.u_image1),u_brightness_low:new i.Uniform1f(de,Z.u_brightness_low),u_brightness_high:new i.Uniform1f(de,Z.u_brightness_high),u_saturation_factor:new i.Uniform1f(de,Z.u_saturation_factor),u_contrast_factor:new i.Uniform1f(de,Z.u_contrast_factor),u_spin_weights:new i.Uniform3f(de,Z.u_spin_weights)}},Tl=function(de,Z,ge,re,ye){return{u_matrix:de,u_tl_parent:Z,u_scale_parent:ge,u_buffer_scale:1,u_fade_t:re.mix,u_opacity:re.opacity*ye.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ye.paint.get("raster-brightness-min"),u_brightness_high:ye.paint.get("raster-brightness-max"),u_saturation_factor:Yf(ye.paint.get("raster-saturation")),u_contrast_factor:Au(ye.paint.get("raster-contrast")),u_spin_weights:Ei(ye.paint.get("raster-hue-rotate"))}};function Ei(de){de*=Math.PI/180;var Z=Math.sin(de),ge=Math.cos(de);return[(2*ge+1)/3,(-Math.sqrt(3)*Z-ge+1)/3,(Math.sqrt(3)*Z-ge+1)/3]}function Au(de){return de>0?1/(1-de):1+de}function Yf(de){return de>0?1-1/(1.001-de):-de}var Zf=function(de,Z){return{u_is_size_zoom_constant:new i.Uniform1i(de,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(de,Z.u_is_size_feature_constant),u_size_t:new i.Uniform1f(de,Z.u_size_t),u_size:new i.Uniform1f(de,Z.u_size),u_camera_to_center_distance:new i.Uniform1f(de,Z.u_camera_to_center_distance),u_pitch:new i.Uniform1f(de,Z.u_pitch),u_rotate_symbol:new i.Uniform1i(de,Z.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(de,Z.u_aspect_ratio),u_fade_change:new i.Uniform1f(de,Z.u_fade_change),u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(de,Z.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(de,Z.u_coord_matrix),u_is_text:new i.Uniform1i(de,Z.u_is_text),u_pitch_with_map:new i.Uniform1i(de,Z.u_pitch_with_map),u_texsize:new i.Uniform2f(de,Z.u_texsize),u_texture:new i.Uniform1i(de,Z.u_texture)}},ru=function(de,Z){return{u_is_size_zoom_constant:new i.Uniform1i(de,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(de,Z.u_is_size_feature_constant),u_size_t:new i.Uniform1f(de,Z.u_size_t),u_size:new i.Uniform1f(de,Z.u_size),u_camera_to_center_distance:new i.Uniform1f(de,Z.u_camera_to_center_distance),u_pitch:new i.Uniform1f(de,Z.u_pitch),u_rotate_symbol:new i.Uniform1i(de,Z.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(de,Z.u_aspect_ratio),u_fade_change:new i.Uniform1f(de,Z.u_fade_change),u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(de,Z.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(de,Z.u_coord_matrix),u_is_text:new i.Uniform1i(de,Z.u_is_text),u_pitch_with_map:new i.Uniform1i(de,Z.u_pitch_with_map),u_texsize:new i.Uniform2f(de,Z.u_texsize),u_texture:new i.Uniform1i(de,Z.u_texture),u_gamma_scale:new i.Uniform1f(de,Z.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(de,Z.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(de,Z.u_is_halo)}},Hh=function(de,Z){return{u_is_size_zoom_constant:new i.Uniform1i(de,Z.u_is_size_zoom_constant),u_is_size_feature_constant:new i.Uniform1i(de,Z.u_is_size_feature_constant),u_size_t:new i.Uniform1f(de,Z.u_size_t),u_size:new i.Uniform1f(de,Z.u_size),u_camera_to_center_distance:new i.Uniform1f(de,Z.u_camera_to_center_distance),u_pitch:new i.Uniform1f(de,Z.u_pitch),u_rotate_symbol:new i.Uniform1i(de,Z.u_rotate_symbol),u_aspect_ratio:new i.Uniform1f(de,Z.u_aspect_ratio),u_fade_change:new i.Uniform1f(de,Z.u_fade_change),u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_label_plane_matrix:new i.UniformMatrix4f(de,Z.u_label_plane_matrix),u_coord_matrix:new i.UniformMatrix4f(de,Z.u_coord_matrix),u_is_text:new i.Uniform1i(de,Z.u_is_text),u_pitch_with_map:new i.Uniform1i(de,Z.u_pitch_with_map),u_texsize:new i.Uniform2f(de,Z.u_texsize),u_texsize_icon:new i.Uniform2f(de,Z.u_texsize_icon),u_texture:new i.Uniform1i(de,Z.u_texture),u_texture_icon:new i.Uniform1i(de,Z.u_texture_icon),u_gamma_scale:new i.Uniform1f(de,Z.u_gamma_scale),u_device_pixel_ratio:new i.Uniform1f(de,Z.u_device_pixel_ratio),u_is_halo:new i.Uniform1i(de,Z.u_is_halo)}},wc=function(de,Z,ge,re,ye,Ie,Ze,ft,At,Ht){var qt=ye.transform;return{u_is_size_zoom_constant:+(de==="constant"||de==="source"),u_is_size_feature_constant:+(de==="constant"||de==="camera"),u_size_t:Z?Z.uSizeT:0,u_size:Z?Z.uSize:0,u_camera_to_center_distance:qt.cameraToCenterDistance,u_pitch:qt.pitch/360*2*Math.PI,u_rotate_symbol:+ge,u_aspect_ratio:qt.width/qt.height,u_fade_change:ye.options.fadeDuration?ye.symbolFadeChange:1,u_matrix:Ie,u_label_plane_matrix:Ze,u_coord_matrix:ft,u_is_text:+At,u_pitch_with_map:+re,u_texsize:Ht,u_texture:0}},Zu=function(de,Z,ge,re,ye,Ie,Ze,ft,At,Ht,qt){var hr=ye.transform;return i.extend(wc(de,Z,ge,re,ye,Ie,Ze,ft,At,Ht),{u_gamma_scale:re?Math.cos(hr._pitch)*hr.cameraToCenterDistance:1,u_device_pixel_ratio:i.browser.devicePixelRatio,u_is_halo:+qt})},Tc=function(de,Z,ge,re,ye,Ie,Ze,ft,At,Ht){return i.extend(Zu(de,Z,ge,re,ye,Ie,Ze,ft,!0,At,!0),{u_texsize_icon:Ht,u_texture_icon:1})},$c=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_opacity:new i.Uniform1f(de,Z.u_opacity),u_color:new i.UniformColor(de,Z.u_color)}},Hl=function(de,Z){return{u_matrix:new i.UniformMatrix4f(de,Z.u_matrix),u_opacity:new i.Uniform1f(de,Z.u_opacity),u_image:new i.Uniform1i(de,Z.u_image),u_pattern_tl_a:new i.Uniform2f(de,Z.u_pattern_tl_a),u_pattern_br_a:new i.Uniform2f(de,Z.u_pattern_br_a),u_pattern_tl_b:new i.Uniform2f(de,Z.u_pattern_tl_b),u_pattern_br_b:new i.Uniform2f(de,Z.u_pattern_br_b),u_texsize:new i.Uniform2f(de,Z.u_texsize),u_mix:new i.Uniform1f(de,Z.u_mix),u_pattern_size_a:new i.Uniform2f(de,Z.u_pattern_size_a),u_pattern_size_b:new i.Uniform2f(de,Z.u_pattern_size_b),u_scale_a:new i.Uniform1f(de,Z.u_scale_a),u_scale_b:new i.Uniform1f(de,Z.u_scale_b),u_pixel_coord_upper:new i.Uniform2f(de,Z.u_pixel_coord_upper),u_pixel_coord_lower:new i.Uniform2f(de,Z.u_pixel_coord_lower),u_tile_units_to_pixels:new i.Uniform1f(de,Z.u_tile_units_to_pixels)}},nu=function(de,Z,ge){return{u_matrix:de,u_opacity:Z,u_color:ge}},Mu=function(de,Z,ge,re,ye,Ie){return i.extend(Fi(re,Ie,ge,ye),{u_matrix:de,u_opacity:Z})},Su={fillExtrusion:oi,fillExtrusionPattern:Si,fill:Eo,fillPattern:ho,fillOutline:Co,fillOutlinePattern:Lo,circle:yo,collisionBox:$o,collisionCircle:As,debug:pf,clippingMask:Ao,heatmap:mu,heatmapTexture:nl,hillshade:bc,hillshadePrepare:gf,line:Gi,lineGradient:gs,linePattern:Yu,lineSDF:xf,raster:bf,symbolIcon:Zf,symbolSDF:ru,symbolTextAndIcon:Hh,background:$c,backgroundPattern:Hl},Ss;function Is(de,Z,ge,re,ye,Ie,Ze){for(var ft=de.context,At=ft.gl,Ht=de.useProgram("collisionBox"),qt=[],hr=0,br=0,Or=0;Or<re.length;Or++){var Yr=re[Or],Xr=Z.getTile(Yr),jr=Xr.getBucket(ge);if(jr){var tn=Yr.posMatrix;(ye[0]!==0||ye[1]!==0)&&(tn=de.translatePosMatrix(Yr.posMatrix,Xr,ye,Ie));var vn=Ze?jr.textCollisionBox:jr.iconCollisionBox,kn=jr.collisionCircleArray;if(kn.length>0){var Gn=i.create(),$n=tn;i.mul(Gn,jr.placementInvProjMatrix,de.transform.glCoordMatrix),i.mul(Gn,Gn,jr.placementViewportMatrix),qt.push({circleArray:kn,circleOffset:br,transform:$n,invTransform:Gn}),hr+=kn.length/4,br=hr}vn&&Ht.draw(ft,At.LINES,zr.disabled,Zt.disabled,de.colorModeForRenderPass(),Rt.disabled,bl(tn,de.transform,Xr),ge.id,vn.layoutVertexBuffer,vn.indexBuffer,vn.segments,null,de.transform.zoom,null,null,vn.collisionVertexBuffer)}}if(!(!Ze||!qt.length)){var ra=de.useProgram("collisionCircle"),ea=new i.StructArrayLayout2f1f2i16;ea.resize(hr*4),ea._trim();for(var ha=0,wa=0,xa=qt;wa<xa.length;wa+=1)for(var Ea=xa[wa],_a=0;_a<Ea.circleArray.length/4;_a++){var ja=_a*4,ti=Ea.circleArray[ja+0],ki=Ea.circleArray[ja+1],li=Ea.circleArray[ja+2],mi=Ea.circleArray[ja+3];ea.emplace(ha++,ti,ki,li,mi,0),ea.emplace(ha++,ti,ki,li,mi,1),ea.emplace(ha++,ti,ki,li,mi,2),ea.emplace(ha++,ti,ki,li,mi,3)}(!Ss||Ss.length<hr*2)&&(Ss=Eu(hr));for(var Ua=ft.createIndexBuffer(Ss,!0),Ii=ft.createVertexBuffer(ea,i.collisionCircleLayout.members,!0),Ni=0,Ui=qt;Ni<Ui.length;Ni+=1){var bi=Ui[Ni],$i=Bl(bi.transform,bi.invTransform,de.transform);ra.draw(ft,At.TRIANGLES,zr.disabled,Zt.disabled,de.colorModeForRenderPass(),Rt.disabled,$i,ge.id,Ii,Ua,i.SegmentVector.simpleSegment(0,bi.circleOffset*2,bi.circleArray.length,bi.circleArray.length/2),null,de.transform.zoom,null,null,null)}Ii.destroy(),Ua.destroy()}}function Eu(de){var Z=de*2,ge=new i.StructArrayLayout3ui6;ge.resize(Z),ge._trim();for(var re=0;re<Z;re++){var ye=re*6;ge.uint16[ye+0]=re*4+0,ge.uint16[ye+1]=re*4+1,ge.uint16[ye+2]=re*4+2,ge.uint16[ye+3]=re*4+2,ge.uint16[ye+4]=re*4+3,ge.uint16[ye+5]=re*4+0}return ge}var qc=i.identity(new Float32Array(16));function Xu(de,Z,ge,re,ye){if(de.renderPass==="translucent"){var Ie=Zt.disabled,Ze=de.colorModeForRenderPass(),ft=ge.layout.get("text-variable-anchor");ft&&eh(re,de,ge,Z,ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ye),ge.paint.get("icon-opacity").constantOr(1)!==0&&au(de,Z,ge,re,!1,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),ge.layout.get("icon-rotation-alignment"),ge.layout.get("icon-pitch-alignment"),ge.layout.get("icon-keep-upright"),Ie,Ze),ge.paint.get("text-opacity").constantOr(1)!==0&&au(de,Z,ge,re,!0,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ge.layout.get("text-keep-upright"),Ie,Ze),Z.map.showCollisionBoxes&&(Is(de,Z,ge,re,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),!0),Is(de,Z,ge,re,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),!1))}}function Xf(de,Z,ge,re,ye,Ie){var Ze=i.getAnchorAlignment(de),ft=Ze.horizontalAlign,At=Ze.verticalAlign,Ht=-(ft-.5)*Z,qt=-(At-.5)*ge,hr=i.evaluateVariableOffset(de,re);return new i.Point((Ht/ye+hr[0])*Ie,(qt/ye+hr[1])*Ie)}function eh(de,Z,ge,re,ye,Ie,Ze){for(var ft=Z.transform,At=ye==="map",Ht=Ie==="map",qt=0,hr=de;qt<hr.length;qt+=1){var br=hr[qt],Or=re.getTile(br),Yr=Or.getBucket(ge);if(!(!Yr||!Yr.text||!Yr.text.segments.get().length)){var Xr=Yr.textSizeData,jr=i.evaluateSizeForZoom(Xr,ft.zoom),tn=wn(Or,1,Z.transform.zoom),vn=Mr(br.posMatrix,Ht,At,Z.transform,tn),kn=ge.layout.get("icon-text-fit")!=="none"&&Yr.hasIconData();if(jr){var Gn=Math.pow(2,ft.zoom-Or.tileID.overscaledZ);ol(Yr,At,Ht,Ze,i.symbolSize,ft,vn,br.posMatrix,Gn,jr,kn)}}}}function ol(de,Z,ge,re,ye,Ie,Ze,ft,At,Ht,qt){var hr=de.text.placedSymbolArray,br=de.text.dynamicLayoutVertexArray,Or=de.icon.dynamicLayoutVertexArray,Yr={};br.clear();for(var Xr=0;Xr<hr.length;Xr++){var jr=hr.get(Xr),tn=de.allowVerticalPlacement&&!jr.placedOrientation,vn=!jr.hidden&&jr.crossTileID&&!tn?re[jr.crossTileID]:null;if(!vn)la(jr.numGlyphs,br);else{var kn=new i.Point(jr.anchorX,jr.anchorY),Gn=Vr(kn,ge?ft:Ze),$n=nn(Ie.cameraToCenterDistance,Gn.signedDistanceFromCamera),ra=ye.evaluateSizeForFeature(de.textSizeData,Ht,jr)*$n/i.ONE_EM;ge&&(ra*=de.tilePixelRatio/At);for(var ea=vn.width,ha=vn.height,wa=vn.anchor,xa=vn.textOffset,Ea=vn.textBoxScale,_a=Xf(wa,ea,ha,xa,Ea,ra),ja=ge?Vr(kn.add(_a),Ze).point:Gn.point.add(Z?_a.rotate(-Ie.angle):_a),ti=de.allowVerticalPlacement&&jr.placedOrientation===i.WritingMode.vertical?Math.PI/2:0,ki=0;ki<jr.numGlyphs;ki++)i.addDynamicAttributes(br,ja,ti);qt&&jr.associatedIconIndex>=0&&(Yr[jr.associatedIconIndex]={shiftedAnchor:ja,angle:ti})}}if(qt){Or.clear();for(var li=de.icon.placedSymbolArray,mi=0;mi<li.length;mi++){var Ua=li.get(mi);if(Ua.hidden)la(Ua.numGlyphs,Or);else{var Ii=Yr[mi];if(!Ii)la(Ua.numGlyphs,Or);else for(var Ni=0;Ni<Ua.numGlyphs;Ni++)i.addDynamicAttributes(Or,Ii.shiftedAnchor,Ii.angle)}}de.icon.dynamicLayoutVertexBuffer.updateData(Or)}de.text.dynamicLayoutVertexBuffer.updateData(br)}function Ac(de,Z,ge){return ge.iconsInText&&Z?"symbolTextAndIcon":de?"symbolSDF":"symbolIcon"}function au(de,Z,ge,re,ye,Ie,Ze,ft,At,Ht,qt,hr){for(var br=de.context,Or=br.gl,Yr=de.transform,Xr=ft==="map",jr=At==="map",tn=Xr&&ge.layout.get("symbol-placement")!=="point",vn=Xr&&!jr&&!tn,kn=ge.layout.get("symbol-sort-key").constantOr(1)!==void 0,Gn=de.depthModeForSublayer(0,zr.ReadOnly),$n=ge.layout.get("text-variable-anchor"),ra=[],ea=0,ha=re;ea<ha.length;ea+=1){var wa=ha[ea],xa=Z.getTile(wa),Ea=xa.getBucket(ge);if(Ea){var _a=ye?Ea.text:Ea.icon;if(!(!_a||!_a.segments.get().length)){var ja=_a.programConfigurations.get(ge.id),ti=ye||Ea.sdfIcons,ki=ye?Ea.textSizeData:Ea.iconSizeData,li=jr||Yr.pitch!==0,mi=de.useProgram(Ac(ti,ye,Ea),ja),Ua=i.evaluateSizeForZoom(ki,Yr.zoom),Ii=void 0,Ni=[0,0],Ui=void 0,bi=void 0,$i=null,ni=void 0;if(ye){if(Ui=xa.glyphAtlasTexture,bi=Or.LINEAR,Ii=xa.glyphAtlasTexture.size,Ea.iconsInText){Ni=xa.imageAtlasTexture.size,$i=xa.imageAtlasTexture;var Ai=ki.kind==="composite"||ki.kind==="camera";ni=li||de.options.rotating||de.options.zooming||Ai?Or.LINEAR:Or.NEAREST}}else{var Io=ge.layout.get("icon-size").constantOr(0)!==1||Ea.iconsNeedLinear;Ui=xa.imageAtlasTexture,bi=ti||de.options.rotating||de.options.zooming||Io||li?Or.LINEAR:Or.NEAREST,Ii=xa.imageAtlasTexture.size}var qo=wn(xa,1,de.transform.zoom),ou=Mr(wa.posMatrix,jr,Xr,de.transform,qo),su=Hr(wa.posMatrix,jr,Xr,de.transform,qo),Ku=$n&&Ea.hasTextData(),Ju=ge.layout.get("icon-text-fit")!=="none"&&Ku&&Ea.hasIconData();tn&&dn(Ea,wa.posMatrix,de,ye,ou,su,jr,Ht);var Lf=de.translatePosMatrix(wa.posMatrix,xa,Ie,Ze),Qu=tn||ye&&$n||Ju?qc:ou,ll=de.translatePosMatrix(su,xa,Ie,Ze,!0),nc=ti&&ge.paint.get(ye?"text-halo-width":"icon-halo-width").constantOr(1)!==0,zs=void 0;ti?Ea.iconsInText?zs=Tc(ki.kind,Ua,vn,jr,de,Lf,Qu,ll,Ii,Ni):zs=Zu(ki.kind,Ua,vn,jr,de,Lf,Qu,ll,ye,Ii,!0):zs=wc(ki.kind,Ua,vn,jr,de,Lf,Qu,ll,ye,Ii);var Gl={program:mi,buffers:_a,uniformValues:zs,atlasTexture:Ui,atlasTextureIcon:$i,atlasInterpolation:bi,atlasInterpolationIcon:ni,isSDF:ti,hasHalo:nc};if(kn)for(var $u=_a.segments.get(),Pu=0,qu=$u;Pu<qu.length;Pu+=1){var wv=qu[Pu];ra.push({segments:new i.SegmentVector([wv]),sortKey:wv.sortKey,state:Gl})}else ra.push({segments:_a.segments,sortKey:0,state:Gl})}}}kn&&ra.sort(function(Tv,Av){return Tv.sortKey-Av.sortKey});for(var Lc=0,Es=ra;Lc<Es.length;Lc+=1){var Zh=Es[Lc],Zs=Zh.state;if(br.activeTexture.set(Or.TEXTURE0),Zs.atlasTexture.bind(Zs.atlasInterpolation,Or.CLAMP_TO_EDGE),Zs.atlasTextureIcon&&(br.activeTexture.set(Or.TEXTURE1),Zs.atlasTextureIcon&&Zs.atlasTextureIcon.bind(Zs.atlasInterpolationIcon,Or.CLAMP_TO_EDGE)),Zs.isSDF){var Xh=Zs.uniformValues;Zs.hasHalo&&(Xh.u_is_halo=1,wf(Zs.buffers,Zh.segments,ge,de,Zs.program,Gn,qt,hr,Xh)),Xh.u_is_halo=0}wf(Zs.buffers,Zh.segments,ge,de,Zs.program,Gn,qt,hr,Zs.uniformValues)}}function wf(de,Z,ge,re,ye,Ie,Ze,ft,At){var Ht=re.context,qt=Ht.gl;ye.draw(Ht,qt.TRIANGLES,Ie,Ze,ft,Rt.disabled,At,ge.id,de.layoutVertexBuffer,de.indexBuffer,Z,ge.paint,re.transform.zoom,de.programConfigurations.get(ge.id),de.dynamicLayoutVertexBuffer,de.opacityVertexBuffer)}function Vl(de,Z,ge,re){if(de.renderPass==="translucent"){var ye=ge.paint.get("circle-opacity"),Ie=ge.paint.get("circle-stroke-width"),Ze=ge.paint.get("circle-stroke-opacity"),ft=ge.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(ye.constantOr(1)===0&&(Ie.constantOr(1)===0||Ze.constantOr(1)===0))){for(var At=de.context,Ht=At.gl,qt=de.depthModeForSublayer(0,zr.ReadOnly),hr=Zt.disabled,br=de.colorModeForRenderPass(),Or=[],Yr=0;Yr<re.length;Yr++){var Xr=re[Yr],jr=Z.getTile(Xr),tn=jr.getBucket(ge);if(tn){var vn=tn.programConfigurations.get(ge.id),kn=de.useProgram("circle",vn),Gn=tn.layoutVertexBuffer,$n=tn.indexBuffer,ra=Vi(de,Xr,jr,ge),ea={programConfiguration:vn,program:kn,layoutVertexBuffer:Gn,indexBuffer:$n,uniformValues:ra};if(ft)for(var ha=tn.segments.get(),wa=0,xa=ha;wa<xa.length;wa+=1){var Ea=xa[wa];Or.push({segments:new i.SegmentVector([Ea]),sortKey:Ea.sortKey,state:ea})}else Or.push({segments:tn.segments,sortKey:0,state:ea})}}ft&&Or.sort(function(bi,$i){return bi.sortKey-$i.sortKey});for(var _a=0,ja=Or;_a<ja.length;_a+=1){var ti=ja[_a],ki=ti.state,li=ki.programConfiguration,mi=ki.program,Ua=ki.layoutVertexBuffer,Ii=ki.indexBuffer,Ni=ki.uniformValues,Ui=ti.segments;mi.draw(At,Ht.TRIANGLES,qt,hr,br,Rt.disabled,Ni,ge.id,Ua,Ii,Ui,ge.paint,de.transform.zoom,li)}}}}function Vh(de,Z,ge,re){if(ge.paint.get("heatmap-opacity")!==0)if(de.renderPass==="offscreen"){var ye=de.context,Ie=ye.gl,Ze=Zt.disabled,ft=new ct([Ie.ONE,Ie.ONE],i.Color.transparent,[!0,!0,!0,!0]);Mc(ye,de,ge),ye.clear({color:i.Color.transparent});for(var At=0;At<re.length;At++){var Ht=re[At];if(!Z.hasRenderableParent(Ht)){var qt=Z.getTile(Ht),hr=qt.getBucket(ge);if(hr){var br=hr.programConfigurations.get(ge.id),Or=de.useProgram("heatmap",br),Yr=de.transform,Xr=Yr.zoom;Or.draw(ye,Ie.TRIANGLES,zr.disabled,Ze,ft,Rt.disabled,xu(Ht.posMatrix,qt,Xr,ge.paint.get("heatmap-intensity")),ge.id,hr.layoutVertexBuffer,hr.indexBuffer,hr.segments,ge.paint,de.transform.zoom,br)}}}ye.viewport.set([0,0,de.width,de.height])}else de.renderPass==="translucent"&&(de.context.setColorMode(de.colorModeForRenderPass()),fs(de,ge))}function Mc(de,Z,ge){var re=de.gl;de.activeTexture.set(re.TEXTURE1),de.viewport.set([0,0,Z.width/4,Z.height/4]);var ye=ge.heatmapFbo;if(ye)re.bindTexture(re.TEXTURE_2D,ye.colorAttachment.get()),de.bindFramebuffer.set(ye.framebuffer);else{var Ie=re.createTexture();re.bindTexture(re.TEXTURE_2D,Ie),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_S,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_WRAP_T,re.CLAMP_TO_EDGE),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MIN_FILTER,re.LINEAR),re.texParameteri(re.TEXTURE_2D,re.TEXTURE_MAG_FILTER,re.LINEAR),ye=ge.heatmapFbo=de.createFramebuffer(Z.width/4,Z.height/4,!1),Kf(de,Z,Ie,ye)}}function Kf(de,Z,ge,re){var ye=de.gl,Ie=de.extRenderToTextureHalfFloat?de.extTextureHalfFloat.HALF_FLOAT_OES:ye.UNSIGNED_BYTE;ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,Z.width/4,Z.height/4,0,ye.RGBA,Ie,null),re.colorAttachment.set(ge)}function fs(de,Z){var ge=de.context,re=ge.gl,ye=Z.heatmapFbo;if(ye){ge.activeTexture.set(re.TEXTURE0),re.bindTexture(re.TEXTURE_2D,ye.colorAttachment.get()),ge.activeTexture.set(re.TEXTURE1);var Ie=Z.colorRampTexture;Ie||(Ie=Z.colorRampTexture=new i.Texture(ge,Z.colorRamp,re.RGBA)),Ie.bind(re.LINEAR,re.CLAMP_TO_EDGE),de.useProgram("heatmapTexture").draw(ge,re.TRIANGLES,zr.disabled,Zt.disabled,de.colorModeForRenderPass(),Rt.disabled,bu(de,Z,0,1),Z.id,de.viewportBuffer,de.quadTriangleIndexBuffer,de.viewportSegments,Z.paint,de.transform.zoom)}}function th(de,Z,ge,re){if(de.renderPass==="translucent"){var ye=ge.paint.get("line-opacity"),Ie=ge.paint.get("line-width");if(!(ye.constantOr(1)===0||Ie.constantOr(1)===0)){var Ze=de.depthModeForSublayer(0,zr.ReadOnly),ft=de.colorModeForRenderPass(),At=ge.paint.get("line-dasharray"),Ht=ge.paint.get("line-pattern"),qt=Ht.constantOr(1),hr=ge.paint.get("line-gradient"),br=ge.getCrossfadeParameters(),Or=qt?"linePattern":At?"lineSDF":hr?"lineGradient":"line",Yr=de.context,Xr=Yr.gl,jr=!0;if(hr){Yr.activeTexture.set(Xr.TEXTURE0);var tn=ge.gradientTexture;if(!ge.gradient)return;tn||(tn=ge.gradientTexture=new i.Texture(Yr,ge.gradient,Xr.RGBA)),tn.bind(Xr.LINEAR,Xr.CLAMP_TO_EDGE)}for(var vn=0,kn=re;vn<kn.length;vn+=1){var Gn=kn[vn],$n=Z.getTile(Gn);if(!(qt&&!$n.patternsLoaded())){var ra=$n.getBucket(ge);if(ra){var ea=ra.programConfigurations.get(ge.id),ha=de.context.program.get(),wa=de.useProgram(Or,ea),xa=jr||wa.program!==ha,Ea=Ht.constantOr(null);if(Ea&&$n.imageAtlas){var _a=$n.imageAtlas,ja=_a.patternPositions[Ea.to.toString()],ti=_a.patternPositions[Ea.from.toString()];ja&&ti&&ea.setConstantPatternPositions(ja,ti)}var ki=qt?Ms(de,$n,ge,br):At?Tu(de,$n,ge,At,br):hr?wu(de,$n,ge):al(de,$n,ge);qt?(Yr.activeTexture.set(Xr.TEXTURE0),$n.imageAtlasTexture.bind(Xr.LINEAR,Xr.CLAMP_TO_EDGE),ea.updatePaintBuffers(br)):At&&(xa||de.lineAtlas.dirty)&&(Yr.activeTexture.set(Xr.TEXTURE0),de.lineAtlas.bind(Yr)),wa.draw(Yr,Xr.TRIANGLES,Ze,de.stencilModeForClipping(Gn),ft,Rt.disabled,ki,ge.id,ra.layoutVertexBuffer,ra.indexBuffer,ra.segments,ge.paint,de.transform.zoom,ea),jr=!1}}}}}}function Tf(de,Z,ge,re){var ye=ge.paint.get("fill-color"),Ie=ge.paint.get("fill-opacity");if(Ie.constantOr(1)!==0){var Ze=de.colorModeForRenderPass(),ft=ge.paint.get("fill-pattern"),At=de.opaquePassEnabledForLayer()&&!ft.constantOr(1)&&ye.constantOr(i.Color.transparent).a===1&&Ie.constantOr(0)===1?"opaque":"translucent";if(de.renderPass===At){var Ht=de.depthModeForSublayer(1,de.renderPass==="opaque"?zr.ReadWrite:zr.ReadOnly);Al(de,Z,ge,re,Ht,Ze,!1)}if(de.renderPass==="translucent"&&ge.paint.get("fill-antialias")){var qt=de.depthModeForSublayer(ge.getPaintProperty("fill-outline-color")?2:0,zr.ReadOnly);Al(de,Z,ge,re,qt,Ze,!0)}}}function Al(de,Z,ge,re,ye,Ie,Ze){var ft=de.context.gl,At=ge.paint.get("fill-pattern"),Ht=At&&At.constantOr(1),qt=ge.getCrossfadeParameters(),hr,br,Or,Yr,Xr;Ze?(br=Ht&&!ge.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",hr=ft.LINES):(br=Ht?"fillPattern":"fill",hr=ft.TRIANGLES);for(var jr=0,tn=re;jr<tn.length;jr+=1){var vn=tn[jr],kn=Z.getTile(vn);if(!(Ht&&!kn.patternsLoaded())){var Gn=kn.getBucket(ge);if(Gn){var $n=Gn.programConfigurations.get(ge.id),ra=de.useProgram(br,$n);Ht&&(de.context.activeTexture.set(ft.TEXTURE0),kn.imageAtlasTexture.bind(ft.LINEAR,ft.CLAMP_TO_EDGE),$n.updatePaintBuffers(qt));var ea=At.constantOr(null);if(ea&&kn.imageAtlas){var ha=kn.imageAtlas,wa=ha.patternPositions[ea.to.toString()],xa=ha.patternPositions[ea.from.toString()];wa&&xa&&$n.setConstantPatternPositions(wa,xa)}var Ea=de.translatePosMatrix(vn.posMatrix,kn,ge.paint.get("fill-translate"),ge.paint.get("fill-translate-anchor"));if(!Ze)Yr=Gn.indexBuffer,Xr=Gn.segments,Or=Ht?Po(Ea,de,qt,kn):_i(Ea);else{Yr=Gn.indexBuffer2,Xr=Gn.segments2;var _a=[ft.drawingBufferWidth,ft.drawingBufferHeight];Or=br==="fillOutlinePattern"&&Ht?Gs(Ea,de,qt,kn,_a):ls(Ea,_a)}ra.draw(de.context,hr,ye,de.stencilModeForClipping(vn),Ie,Rt.disabled,Or,ge.id,Gn.layoutVertexBuffer,Yr,Xr,ge.paint,de.transform.zoom,$n)}}}}function Af(de,Z,ge,re){var ye=ge.paint.get("fill-extrusion-opacity");if(ye!==0&&de.renderPass==="translucent"){var Ie=new zr(de.context.gl.LEQUAL,zr.ReadWrite,de.depthRangeFor3D);if(ye===1&&!ge.paint.get("fill-extrusion-pattern").constantOr(1)){var Ze=de.colorModeForRenderPass();iu(de,Z,ge,re,Ie,Zt.disabled,Ze)}else iu(de,Z,ge,re,Ie,Zt.disabled,ct.disabled),iu(de,Z,ge,re,Ie,de.stencilModeFor3D(),de.colorModeForRenderPass())}}function iu(de,Z,ge,re,ye,Ie,Ze){for(var ft=de.context,At=ft.gl,Ht=ge.paint.get("fill-extrusion-pattern"),qt=Ht.constantOr(1),hr=ge.getCrossfadeParameters(),br=ge.paint.get("fill-extrusion-opacity"),Or=0,Yr=re;Or<Yr.length;Or+=1){var Xr=Yr[Or],jr=Z.getTile(Xr),tn=jr.getBucket(ge);if(tn){var vn=tn.programConfigurations.get(ge.id),kn=de.useProgram(qt?"fillExtrusionPattern":"fillExtrusion",vn);qt&&(de.context.activeTexture.set(At.TEXTURE0),jr.imageAtlasTexture.bind(At.LINEAR,At.CLAMP_TO_EDGE),vn.updatePaintBuffers(hr));var Gn=Ht.constantOr(null);if(Gn&&jr.imageAtlas){var $n=jr.imageAtlas,ra=$n.patternPositions[Gn.to.toString()],ea=$n.patternPositions[Gn.from.toString()];ra&&ea&&vn.setConstantPatternPositions(ra,ea)}var ha=de.translatePosMatrix(Xr.posMatrix,jr,ge.paint.get("fill-extrusion-translate"),ge.paint.get("fill-extrusion-translate-anchor")),wa=ge.paint.get("fill-extrusion-vertical-gradient"),xa=qt?go(ha,de,wa,br,Xr,hr,jr):wi(ha,de,wa,br);kn.draw(ft,ft.gl.TRIANGLES,ye,Ie,Ze,Rt.backCCW,xa,ge.id,tn.layoutVertexBuffer,tn.indexBuffer,tn.segments,ge.paint,de.transform.zoom,vn)}}}function Jf(de,Z,ge,re){if(!(de.renderPass!=="offscreen"&&de.renderPass!=="translucent")){for(var ye=de.context,Ie=Z.getSource().maxzoom,Ze=de.depthModeForSublayer(0,zr.ReadOnly),ft=de.colorModeForRenderPass(),At=de.renderPass==="translucent"?de.stencilConfigForOverlap(re):[{},re],Ht=At[0],qt=At[1],hr=0,br=qt;hr<br.length;hr+=1){var Or=br[hr],Yr=Z.getTile(Or);Yr.needsHillshadePrepare&&de.renderPass==="offscreen"?Sc(de,Yr,ge,Ie,Ze,Zt.disabled,ft):de.renderPass==="translucent"&&rh(de,Yr,ge,Ze,Ht[Or.overscaledZ],ft)}ye.viewport.set([0,0,de.width,de.height])}}function rh(de,Z,ge,re,ye,Ie){var Ze=de.context,ft=Ze.gl,At=Z.fbo;if(At){var Ht=de.useProgram("hillshade");Ze.activeTexture.set(ft.TEXTURE0),ft.bindTexture(ft.TEXTURE_2D,At.colorAttachment.get());var qt=yf(de,Z,ge);Ht.draw(Ze,ft.TRIANGLES,re,ye,Ie,Rt.disabled,qt,ge.id,de.rasterBoundsBuffer,de.quadTriangleIndexBuffer,de.rasterBoundsSegments)}}function Sc(de,Z,ge,re,ye,Ie,Ze){var ft=de.context,At=ft.gl,Ht=Z.dem;if(Ht&&Ht.data){var qt=Ht.dim,hr=Ht.stride,br=Ht.getPixels();if(ft.activeTexture.set(At.TEXTURE1),ft.pixelStoreUnpackPremultiplyAlpha.set(!1),Z.demTexture=Z.demTexture||de.getTileTexture(hr),Z.demTexture){var Or=Z.demTexture;Or.update(br,{premultiply:!1}),Or.bind(At.NEAREST,At.CLAMP_TO_EDGE)}else Z.demTexture=new i.Texture(ft,br,At.RGBA,{premultiply:!1}),Z.demTexture.bind(At.NEAREST,At.CLAMP_TO_EDGE);ft.activeTexture.set(At.TEXTURE0);var Yr=Z.fbo;if(!Yr){var Xr=new i.Texture(ft,{width:qt,height:qt,data:null},At.RGBA);Xr.bind(At.LINEAR,At.CLAMP_TO_EDGE),Yr=Z.fbo=ft.createFramebuffer(qt,qt,!0),Yr.colorAttachment.set(Xr.texture)}ft.bindFramebuffer.set(Yr.framebuffer),ft.viewport.set([0,0,qt,qt]),de.useProgram("hillshadePrepare").draw(ft,At.TRIANGLES,ye,Ie,Ze,Rt.disabled,mf(Z.tileID,Ht,re),ge.id,de.rasterBoundsBuffer,de.quadTriangleIndexBuffer,de.rasterBoundsSegments),Z.needsHillshadePrepare=!1}}function Ec(de,Z,ge,re){if(de.renderPass==="translucent"&&ge.paint.get("raster-opacity")!==0&&re.length)for(var ye=de.context,Ie=ye.gl,Ze=Z.getSource(),ft=de.useProgram("raster"),At=de.colorModeForRenderPass(),Ht=Ze instanceof q?[{},re]:de.stencilConfigForOverlap(re),qt=Ht[0],hr=Ht[1],br=hr[hr.length-1].overscaledZ,Or=!de.options.moving,Yr=0,Xr=hr;Yr<Xr.length;Yr+=1){var jr=Xr[Yr],tn=de.depthModeForSublayer(jr.overscaledZ-br,ge.paint.get("raster-opacity")===1?zr.ReadWrite:zr.ReadOnly,Ie.LESS),vn=Z.getTile(jr),kn=de.transform.calculatePosMatrix(jr.toUnwrapped(),Or);vn.registerFadeDuration(ge.paint.get("raster-fade-duration"));var Gn=Z.findLoadedParent(jr,0),$n=Cu(vn,Gn,Z,ge,de.transform),ra=void 0,ea=void 0,ha=ge.paint.get("raster-resampling")==="nearest"?Ie.NEAREST:Ie.LINEAR;ye.activeTexture.set(Ie.TEXTURE0),vn.texture.bind(ha,Ie.CLAMP_TO_EDGE,Ie.LINEAR_MIPMAP_NEAREST),ye.activeTexture.set(Ie.TEXTURE1),Gn?(Gn.texture.bind(ha,Ie.CLAMP_TO_EDGE,Ie.LINEAR_MIPMAP_NEAREST),ra=Math.pow(2,Gn.tileID.overscaledZ-vn.tileID.overscaledZ),ea=[vn.tileID.canonical.x*ra%1,vn.tileID.canonical.y*ra%1]):vn.texture.bind(ha,Ie.CLAMP_TO_EDGE,Ie.LINEAR_MIPMAP_NEAREST);var wa=Tl(kn,ea||[0,0],ra||1,$n,ge);Ze instanceof q?ft.draw(ye,Ie.TRIANGLES,tn,Zt.disabled,At,Rt.disabled,wa,ge.id,Ze.boundsBuffer,de.quadTriangleIndexBuffer,Ze.boundsSegments):ft.draw(ye,Ie.TRIANGLES,tn,qt[jr.overscaledZ],At,Rt.disabled,wa,ge.id,de.rasterBoundsBuffer,de.quadTriangleIndexBuffer,de.rasterBoundsSegments)}}function Cu(de,Z,ge,re,ye){var Ie=re.paint.get("raster-fade-duration");if(Ie>0){var Ze=i.browser.now(),ft=(Ze-de.timeAdded)/Ie,At=Z?(Ze-Z.timeAdded)/Ie:-1,Ht=ge.getSource(),qt=ye.coveringZoomLevel({tileSize:Ht.tileSize,roundZoom:Ht.roundZoom}),hr=!Z||Math.abs(Z.tileID.overscaledZ-qt)>Math.abs(de.tileID.overscaledZ-qt),br=hr&&de.refreshedUponExpiration?1:i.clamp(hr?ft:1-At,0,1);return de.refreshedUponExpiration&&ft>=1&&(de.refreshedUponExpiration=!1),Z?{opacity:1,mix:1-br}:{opacity:br,mix:0}}else return{opacity:1,mix:0}}function Qf(de,Z,ge){var re=ge.paint.get("background-color"),ye=ge.paint.get("background-opacity");if(ye!==0){var Ie=de.context,Ze=Ie.gl,ft=de.transform,At=ft.tileSize,Ht=ge.paint.get("background-pattern");if(!de.isPatternMissing(Ht)){var qt=!Ht&&re.a===1&&ye===1&&de.opaquePassEnabledForLayer()?"opaque":"translucent";if(de.renderPass===qt){var hr=Zt.disabled,br=de.depthModeForSublayer(0,qt==="opaque"?zr.ReadWrite:zr.ReadOnly),Or=de.colorModeForRenderPass(),Yr=de.useProgram(Ht?"backgroundPattern":"background"),Xr=ft.coveringTiles({tileSize:At});Ht&&(Ie.activeTexture.set(Ze.TEXTURE0),de.imageManager.bind(de.context));for(var jr=ge.getCrossfadeParameters(),tn=0,vn=Xr;tn<vn.length;tn+=1){var kn=vn[tn],Gn=de.transform.calculatePosMatrix(kn.toUnwrapped()),$n=Ht?Mu(Gn,ye,de,Ht,{tileID:kn,tileSize:At},jr):nu(Gn,ye,re);Yr.draw(Ie,Ze.TRIANGLES,br,hr,Or,Rt.disabled,$n,ge.id,de.tileExtentBuffer,de.quadTriangleIndexBuffer,de.tileExtentSegments)}}}}}var Mf=new i.Color(1,0,0,1),nh=new i.Color(0,1,0,1),Sf=new i.Color(0,0,1,1),ah=new i.Color(1,0,1,1),Je=new i.Color(0,1,1,1);function ot(de){var Z=de.transform.padding,ge=3;xt(de,de.transform.height-(Z.top||0),ge,Mf),xt(de,Z.bottom||0,ge,nh),Ft(de,Z.left||0,ge,Sf),Ft(de,de.transform.width-(Z.right||0),ge,ah);var re=de.transform.centerPoint;gt(de,re.x,de.transform.height-re.y,Je)}function gt(de,Z,ge,re){var ye=20,Ie=2;_t(de,Z-Ie/2,ge-ye/2,Ie,ye,re),_t(de,Z-ye/2,ge-Ie/2,ye,Ie,re)}function xt(de,Z,ge,re){_t(de,0,Z+ge/2,de.transform.width,ge,re)}function Ft(de,Z,ge,re){_t(de,Z-ge/2,0,ge,de.transform.height,re)}function _t(de,Z,ge,re,ye,Ie){var Ze=de.context,ft=Ze.gl;ft.enable(ft.SCISSOR_TEST),ft.scissor(Z*i.browser.devicePixelRatio,ge*i.browser.devicePixelRatio,re*i.browser.devicePixelRatio,ye*i.browser.devicePixelRatio),Ze.clear({color:Ie}),ft.disable(ft.SCISSOR_TEST)}function Nt(de,Z,ge){for(var re=0;re<ge.length;re++)pr(de,Z,ge[re])}function pr(de,Z,ge){var re=de.context,ye=re.gl,Ie=ge.posMatrix,Ze=de.useProgram("debug"),ft=zr.disabled,At=Zt.disabled,Ht=de.colorModeForRenderPass(),qt="$debug";re.activeTexture.set(ye.TEXTURE0),de.emptyTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),Ze.draw(re,ye.LINE_STRIP,ft,At,Ht,Rt.disabled,Ul(Ie,i.Color.red),qt,de.debugBuffer,de.tileBorderIndexBuffer,de.debugSegments);var hr=Z.getTileByID(ge.key).latestRawTileData,br=hr&&hr.byteLength||0,Or=Math.floor(br/1024),Yr=Z.getTile(ge).tileSize,Xr=512/Math.min(Yr,512)*(ge.overscaledZ/de.transform.zoom)*.5,jr=ge.canonical.toString();ge.overscaledZ!==ge.canonical.z&&(jr+=" => "+ge.overscaledZ);var tn=jr+" "+Or+"kb";xr(de,tn),Ze.draw(re,ye.TRIANGLES,ft,At,ct.alphaBlended,Rt.disabled,Ul(Ie,i.Color.transparent,Xr),qt,de.debugBuffer,de.quadTriangleIndexBuffer,de.debugSegments)}function xr(de,Z){de.initDebugOverlayCanvas();var ge=de.debugOverlayCanvas,re=de.context.gl,ye=de.debugOverlayCanvas.getContext("2d");ye.clearRect(0,0,ge.width,ge.height),ye.shadowColor="white",ye.shadowBlur=2,ye.lineWidth=1.5,ye.strokeStyle="white",ye.textBaseline="top",ye.font="bold 36px Open Sans, sans-serif",ye.fillText(Z,5,5),ye.strokeText(Z,5,5),de.debugOverlayTexture.update(ge),de.debugOverlayTexture.bind(re.LINEAR,re.CLAMP_TO_EDGE)}function ur(de,Z,ge){var re=de.context,ye=ge.implementation;if(de.renderPass==="offscreen"){var Ie=ye.prerender;Ie&&(de.setCustomLayerDefaults(),re.setColorMode(de.colorModeForRenderPass()),Ie.call(ye,re.gl,de.transform.customLayerMatrix()),re.setDirty(),de.setBaseState())}else if(de.renderPass==="translucent"){de.setCustomLayerDefaults(),re.setColorMode(de.colorModeForRenderPass()),re.setStencilMode(Zt.disabled);var Ze=ye.renderingMode==="3d"?new zr(de.context.gl.LEQUAL,zr.ReadWrite,de.depthRangeFor3D):de.depthModeForSublayer(0,zr.ReadOnly);re.setDepthMode(Ze),ye.render(re.gl,de.transform.customLayerMatrix()),re.setDirty(),de.setBaseState(),re.bindFramebuffer.set(null)}}var Er={symbol:Xu,circle:Vl,heatmap:Vh,line:th,fill:Tf,"fill-extrusion":Af,hillshade:Jf,raster:Ec,background:Qf,debug:Nt,custom:ur},kr=function(Z,ge){this.context=new Ct(Z),this.transform=ge,this._tileTextures={},this.setup(),this.numSublayers=Ot.maxUnderzooming+Ot.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new da,this.gpuTimers={}};kr.prototype.resize=function(Z,ge){if(this.width=Z*i.browser.devicePixelRatio,this.height=ge*i.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var re=0,ye=this.style._order;re<ye.length;re+=1){var Ie=ye[re];this.style._layers[Ie].resize()}},kr.prototype.setup=function(){var Z=this.context,ge=new i.StructArrayLayout2i4;ge.emplaceBack(0,0),ge.emplaceBack(i.EXTENT,0),ge.emplaceBack(0,i.EXTENT),ge.emplaceBack(i.EXTENT,i.EXTENT),this.tileExtentBuffer=Z.createVertexBuffer(ge,Ko.members),this.tileExtentSegments=i.SegmentVector.simpleSegment(0,0,4,2);var re=new i.StructArrayLayout2i4;re.emplaceBack(0,0),re.emplaceBack(i.EXTENT,0),re.emplaceBack(0,i.EXTENT),re.emplaceBack(i.EXTENT,i.EXTENT),this.debugBuffer=Z.createVertexBuffer(re,Ko.members),this.debugSegments=i.SegmentVector.simpleSegment(0,0,4,5);var ye=new i.StructArrayLayout4i8;ye.emplaceBack(0,0,0,0),ye.emplaceBack(i.EXTENT,0,i.EXTENT,0),ye.emplaceBack(0,i.EXTENT,0,i.EXTENT),ye.emplaceBack(i.EXTENT,i.EXTENT,i.EXTENT,i.EXTENT),this.rasterBoundsBuffer=Z.createVertexBuffer(ye,X.members),this.rasterBoundsSegments=i.SegmentVector.simpleSegment(0,0,4,2);var Ie=new i.StructArrayLayout2i4;Ie.emplaceBack(0,0),Ie.emplaceBack(1,0),Ie.emplaceBack(0,1),Ie.emplaceBack(1,1),this.viewportBuffer=Z.createVertexBuffer(Ie,Ko.members),this.viewportSegments=i.SegmentVector.simpleSegment(0,0,4,2);var Ze=new i.StructArrayLayout1ui2;Ze.emplaceBack(0),Ze.emplaceBack(1),Ze.emplaceBack(3),Ze.emplaceBack(2),Ze.emplaceBack(0),this.tileBorderIndexBuffer=Z.createIndexBuffer(Ze);var ft=new i.StructArrayLayout3ui6;ft.emplaceBack(0,1,2),ft.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=Z.createIndexBuffer(ft),this.emptyTexture=new i.Texture(Z,{width:1,height:1,data:new Uint8Array([0,0,0,0])},Z.gl.RGBA);var At=this.context.gl;this.stencilClearMode=new Zt({func:At.ALWAYS,mask:0},0,255,At.ZERO,At.ZERO,At.ZERO)},kr.prototype.clearStencil=function(){var Z=this.context,ge=Z.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var re=i.create();i.ortho(re,0,this.width,this.height,0,0,1),i.scale(re,re,[ge.drawingBufferWidth,ge.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(Z,ge.TRIANGLES,zr.disabled,this.stencilClearMode,ct.disabled,Rt.disabled,us(re),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},kr.prototype._renderTileClippingMasks=function(Z,ge){if(!(this.currentStencilSource===Z.source||!Z.isTileClipped()||!ge||!ge.length)){this.currentStencilSource=Z.source;var re=this.context,ye=re.gl;this.nextStencilID+ge.length>256&&this.clearStencil(),re.setColorMode(ct.disabled),re.setDepthMode(zr.disabled);var Ie=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ze=0,ft=ge;Ze<ft.length;Ze+=1){var At=ft[Ze],Ht=this._tileClippingMaskIDs[At.key]=this.nextStencilID++;Ie.draw(re,ye.TRIANGLES,zr.disabled,new Zt({func:ye.ALWAYS,mask:0},Ht,255,ye.KEEP,ye.KEEP,ye.REPLACE),ct.disabled,Rt.disabled,us(At.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},kr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var Z=this.nextStencilID++,ge=this.context.gl;return new Zt({func:ge.NOTEQUAL,mask:255},Z,255,ge.KEEP,ge.KEEP,ge.REPLACE)},kr.prototype.stencilModeForClipping=function(Z){var ge=this.context.gl;return new Zt({func:ge.EQUAL,mask:255},this._tileClippingMaskIDs[Z.key],0,ge.KEEP,ge.KEEP,ge.REPLACE)},kr.prototype.stencilConfigForOverlap=function(Z){var ge,re=this.context.gl,ye=Z.sort(function(Ht,qt){return qt.overscaledZ-Ht.overscaledZ}),Ie=ye[ye.length-1].overscaledZ,Ze=ye[0].overscaledZ-Ie+1;if(Ze>1){this.currentStencilSource=void 0,this.nextStencilID+Ze>256&&this.clearStencil();for(var ft={},At=0;At<Ze;At++)ft[At+Ie]=new Zt({func:re.GEQUAL,mask:255},At+this.nextStencilID,255,re.KEEP,re.KEEP,re.REPLACE);return this.nextStencilID+=Ze,[ft,ye]}return[(ge={},ge[Ie]=Zt.disabled,ge),ye]},kr.prototype.colorModeForRenderPass=function(){var Z=this.context.gl;if(this._showOverdrawInspector){var ge=8,re=1/ge;return new ct([Z.CONSTANT_COLOR,Z.ONE],new i.Color(re,re,re,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?ct.unblended:ct.alphaBlended},kr.prototype.depthModeForSublayer=function(Z,ge,re){if(!this.opaquePassEnabledForLayer())return zr.disabled;var ye=1-((1+this.currentLayer)*this.numSublayers+Z)*this.depthEpsilon;return new zr(re||this.context.gl.LEQUAL,ge,[ye,ye])},kr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},kr.prototype.render=function(Z,ge){var re=this;this.style=Z,this.options=ge,this.lineAtlas=Z.lineAtlas,this.imageManager=Z.imageManager,this.glyphManager=Z.glyphManager,this.symbolFadeChange=Z.placement.symbolFadeChange(i.browser.now()),this.imageManager.beginFrame();var ye=this.style._order,Ie=this.style.sourceCaches;for(var Ze in Ie){var ft=Ie[Ze];ft.used&&ft.prepare(this.context)}var At={},Ht={},qt={};for(var hr in Ie){var br=Ie[hr];At[hr]=br.getVisibleCoordinates(),Ht[hr]=At[hr].slice().reverse(),qt[hr]=br.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Or=0;Or<ye.length;Or++){var Yr=ye[Or];if(this.style._layers[Yr].is3D()){this.opaquePassCutoff=Or;break}}this.renderPass="offscreen";for(var Xr=0,jr=ye;Xr<jr.length;Xr+=1){var tn=jr[Xr],vn=this.style._layers[tn];if(!(!vn.hasOffscreenPass()||vn.isHidden(this.transform.zoom))){var kn=Ht[vn.source];vn.type!=="custom"&&!kn.length||this.renderLayer(this,Ie[vn.source],vn,kn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:ge.showOverdrawInspector?i.Color.black:i.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ge.showOverdrawInspector,this.depthRangeFor3D=[0,1-(Z._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ye.length-1;this.currentLayer>=0;this.currentLayer--){var Gn=this.style._layers[ye[this.currentLayer]],$n=Ie[Gn.source],ra=At[Gn.source];this._renderTileClippingMasks(Gn,ra),this.renderLayer(this,$n,Gn,ra)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ye.length;this.currentLayer++){var ea=this.style._layers[ye[this.currentLayer]],ha=Ie[ea.source],wa=(ea.type==="symbol"?qt:Ht)[ea.source];this._renderTileClippingMasks(ea,At[ea.source]),this.renderLayer(this,ha,ea,wa)}if(this.options.showTileBoundaries){var xa,Ea,_a=i.values(this.style._layers);_a.forEach(function(ja){ja.source&&!ja.isHidden(re.transform.zoom)&&(ja.source!==(Ea&&Ea.id)&&(Ea=re.style.sourceCaches[ja.source]),(!xa||xa.getSource().maxzoom<Ea.getSource().maxzoom)&&(xa=Ea))}),xa&&Er.debug(this,xa,xa.getVisibleCoordinates())}this.options.showPadding&&ot(this),this.context.setDefault()},kr.prototype.renderLayer=function(Z,ge,re,ye){re.isHidden(this.transform.zoom)||re.type!=="background"&&re.type!=="custom"&&!ye.length||(this.id=re.id,this.gpuTimingStart(re),Er[re.type](Z,ge,re,ye,this.style.placement.variableOffsets),this.gpuTimingEnd())},kr.prototype.gpuTimingStart=function(Z){if(this.options.gpuTiming){var ge=this.context.extTimerQuery,re=this.gpuTimers[Z.id];re||(re=this.gpuTimers[Z.id]={calls:0,cpuTime:0,query:ge.createQueryEXT()}),re.calls++,ge.beginQueryEXT(ge.TIME_ELAPSED_EXT,re.query)}},kr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var Z=this.context.extTimerQuery;Z.endQueryEXT(Z.TIME_ELAPSED_EXT)}},kr.prototype.collectGpuTimers=function(){var Z=this.gpuTimers;return this.gpuTimers={},Z},kr.prototype.queryGpuTimers=function(Z){var ge={};for(var re in Z){var ye=Z[re],Ie=this.context.extTimerQuery,Ze=Ie.getQueryObjectEXT(ye.query,Ie.QUERY_RESULT_EXT)/(1e3*1e3);Ie.deleteQueryEXT(ye.query),ge[re]=Ze}return ge},kr.prototype.translatePosMatrix=function(Z,ge,re,ye,Ie){if(!re[0]&&!re[1])return Z;var Ze=Ie?ye==="map"?this.transform.angle:0:ye==="viewport"?-this.transform.angle:0;if(Ze){var ft=Math.sin(Ze),At=Math.cos(Ze);re=[re[0]*At-re[1]*ft,re[0]*ft+re[1]*At]}var Ht=[Ie?re[0]:wn(ge,re[0],this.transform.zoom),Ie?re[1]:wn(ge,re[1],this.transform.zoom),0],qt=new Float32Array(16);return i.translate(qt,Z,Ht),qt},kr.prototype.saveTileTexture=function(Z){var ge=this._tileTextures[Z.size[0]];ge?ge.push(Z):this._tileTextures[Z.size[0]]=[Z]},kr.prototype.getTileTexture=function(Z){var ge=this._tileTextures[Z];return ge&&ge.length>0?ge.pop():null},kr.prototype.isPatternMissing=function(Z){if(!Z)return!1;if(!Z.from||!Z.to)return!0;var ge=this.imageManager.getPattern(Z.from.toString()),re=this.imageManager.getPattern(Z.to.toString());return!ge||!re},kr.prototype.useProgram=function(Z,ge){this.cache=this.cache||{};var re=""+Z+(ge?ge.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[re]||(this.cache[re]=new ui(this.context,gi[Z],ge,Su[Z],this._showOverdrawInspector)),this.cache[re]},kr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},kr.prototype.setBaseState=function(){var Z=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(Z.FUNC_ADD)},kr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=i.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var Z=this.context.gl;this.debugOverlayTexture=new i.Texture(this.context,this.debugOverlayCanvas,Z.RGBA)}},kr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Jr=function(Z,ge){this.points=Z,this.planes=ge};Jr.fromInvProjectionMatrix=function(Z,ge,re){var ye=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Ie=Math.pow(2,re),Ze=ye.map(function(Ht){return i.transformMat4([],Ht,Z)}).map(function(Ht){return i.scale$1([],Ht,1/Ht[3]/ge*Ie)}),ft=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],At=ft.map(function(Ht){var qt=i.sub([],Ze[Ht[0]],Ze[Ht[1]]),hr=i.sub([],Ze[Ht[2]],Ze[Ht[1]]),br=i.normalize([],i.cross([],qt,hr)),Or=-i.dot(br,Ze[Ht[1]]);return br.concat(Or)});return new Jr(Ze,At)};var en=function(Z,ge){this.min=Z,this.max=ge,this.center=i.scale$2([],i.add([],this.min,this.max),.5)};en.prototype.quadrant=function(Z){for(var ge=[Z%2===0,Z<2],re=i.clone$2(this.min),ye=i.clone$2(this.max),Ie=0;Ie<ge.length;Ie++)re[Ie]=ge[Ie]?this.min[Ie]:this.center[Ie],ye[Ie]=ge[Ie]?this.center[Ie]:this.max[Ie];return ye[2]=this.max[2],new en(re,ye)},en.prototype.distanceX=function(Z){var ge=Math.max(Math.min(this.max[0],Z[0]),this.min[0]);return ge-Z[0]},en.prototype.distanceY=function(Z){var ge=Math.max(Math.min(this.max[1],Z[1]),this.min[1]);return ge-Z[1]},en.prototype.intersects=function(Z){for(var ge=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],re=!0,ye=0;ye<Z.planes.length;ye++){for(var Ie=Z.planes[ye],Ze=0,ft=0;ft<ge.length;ft++)Ze+=i.dot$1(Ie,ge[ft])>=0;if(Ze===0)return 0;Ze!==ge.length&&(re=!1)}if(re)return 2;for(var At=0;At<3;At++){for(var Ht=Number.MAX_VALUE,qt=-Number.MAX_VALUE,hr=0;hr<Z.points.length;hr++){var br=Z.points[hr][At]-this.min[At];Ht=Math.min(Ht,br),qt=Math.max(qt,br)}if(qt<0||Ht>this.max[At]-this.min[At])return 0}return 1};var Sn=function(Z,ge,re,ye){if(Z===void 0&&(Z=0),ge===void 0&&(ge=0),re===void 0&&(re=0),ye===void 0&&(ye=0),isNaN(Z)||Z<0||isNaN(ge)||ge<0||isNaN(re)||re<0||isNaN(ye)||ye<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=Z,this.bottom=ge,this.left=re,this.right=ye};Sn.prototype.interpolate=function(Z,ge,re){return ge.top!=null&&Z.top!=null&&(this.top=i.number(Z.top,ge.top,re)),ge.bottom!=null&&Z.bottom!=null&&(this.bottom=i.number(Z.bottom,ge.bottom,re)),ge.left!=null&&Z.left!=null&&(this.left=i.number(Z.left,ge.left,re)),ge.right!=null&&Z.right!=null&&(this.right=i.number(Z.right,ge.right,re)),this},Sn.prototype.getCenter=function(Z,ge){var re=i.clamp((this.left+Z-this.right)/2,0,Z),ye=i.clamp((this.top+ge-this.bottom)/2,0,ge);return new i.Point(re,ye)},Sn.prototype.equals=function(Z){return this.top===Z.top&&this.bottom===Z.bottom&&this.left===Z.left&&this.right===Z.right},Sn.prototype.clone=function(){return new Sn(this.top,this.bottom,this.left,this.right)},Sn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Cn=function(Z,ge,re,ye,Ie){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Ie===void 0?!0:Ie,this._minZoom=Z||0,this._maxZoom=ge||22,this._minPitch=re??0,this._maxPitch=ye??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new i.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Sn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Nn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Cn.prototype.clone=function(){var Z=new Cn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return Z.tileSize=this.tileSize,Z.latRange=this.latRange,Z.width=this.width,Z.height=this.height,Z._center=this._center,Z.zoom=this.zoom,Z.angle=this.angle,Z._fov=this._fov,Z._pitch=this._pitch,Z._unmodified=this._unmodified,Z._edgeInsets=this._edgeInsets.clone(),Z._calcMatrices(),Z},Nn.minZoom.get=function(){return this._minZoom},Nn.minZoom.set=function(de){this._minZoom!==de&&(this._minZoom=de,this.zoom=Math.max(this.zoom,de))},Nn.maxZoom.get=function(){return this._maxZoom},Nn.maxZoom.set=function(de){this._maxZoom!==de&&(this._maxZoom=de,this.zoom=Math.min(this.zoom,de))},Nn.minPitch.get=function(){return this._minPitch},Nn.minPitch.set=function(de){this._minPitch!==de&&(this._minPitch=de,this.pitch=Math.max(this.pitch,de))},Nn.maxPitch.get=function(){return this._maxPitch},Nn.maxPitch.set=function(de){this._maxPitch!==de&&(this._maxPitch=de,this.pitch=Math.min(this.pitch,de))},Nn.renderWorldCopies.get=function(){return this._renderWorldCopies},Nn.renderWorldCopies.set=function(de){de===void 0?de=!0:de===null&&(de=!1),this._renderWorldCopies=de},Nn.worldSize.get=function(){return this.tileSize*this.scale},Nn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Nn.size.get=function(){return new i.Point(this.width,this.height)},Nn.bearing.get=function(){return-this.angle/Math.PI*180},Nn.bearing.set=function(de){var Z=-i.wrap(de,-180,180)*Math.PI/180;this.angle!==Z&&(this._unmodified=!1,this.angle=Z,this._calcMatrices(),this.rotationMatrix=i.create$2(),i.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Nn.pitch.get=function(){return this._pitch/Math.PI*180},Nn.pitch.set=function(de){var Z=i.clamp(de,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==Z&&(this._unmodified=!1,this._pitch=Z,this._calcMatrices())},Nn.fov.get=function(){return this._fov/Math.PI*180},Nn.fov.set=function(de){de=Math.max(.01,Math.min(60,de)),this._fov!==de&&(this._unmodified=!1,this._fov=de/180*Math.PI,this._calcMatrices())},Nn.zoom.get=function(){return this._zoom},Nn.zoom.set=function(de){var Z=Math.min(Math.max(de,this.minZoom),this.maxZoom);this._zoom!==Z&&(this._unmodified=!1,this._zoom=Z,this.scale=this.zoomScale(Z),this.tileZoom=Math.floor(Z),this.zoomFraction=Z-this.tileZoom,this._constrain(),this._calcMatrices())},Nn.center.get=function(){return this._center},Nn.center.set=function(de){de.lat===this._center.lat&&de.lng===this._center.lng||(this._unmodified=!1,this._center=de,this._constrain(),this._calcMatrices())},Nn.padding.get=function(){return this._edgeInsets.toJSON()},Nn.padding.set=function(de){this._edgeInsets.equals(de)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,de,1),this._calcMatrices())},Nn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Cn.prototype.isPaddingEqual=function(Z){return this._edgeInsets.equals(Z)},Cn.prototype.interpolatePadding=function(Z,ge,re){this._unmodified=!1,this._edgeInsets.interpolate(Z,ge,re),this._constrain(),this._calcMatrices()},Cn.prototype.coveringZoomLevel=function(Z){var ge=(Z.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/Z.tileSize));return Math.max(0,ge)},Cn.prototype.getVisibleUnwrappedCoordinates=function(Z){var ge=[new i.UnwrappedTileID(0,Z)];if(this._renderWorldCopies)for(var re=this.pointCoordinate(new i.Point(0,0)),ye=this.pointCoordinate(new i.Point(this.width,0)),Ie=this.pointCoordinate(new i.Point(this.width,this.height)),Ze=this.pointCoordinate(new i.Point(0,this.height)),ft=Math.floor(Math.min(re.x,ye.x,Ie.x,Ze.x)),At=Math.floor(Math.max(re.x,ye.x,Ie.x,Ze.x)),Ht=1,qt=ft-Ht;qt<=At+Ht;qt++)qt!==0&&ge.push(new i.UnwrappedTileID(qt,Z));return ge},Cn.prototype.coveringTiles=function(Z){var ge=this.coveringZoomLevel(Z),re=ge;if(Z.minzoom!==void 0&&ge<Z.minzoom)return[];Z.maxzoom!==void 0&&ge>Z.maxzoom&&(ge=Z.maxzoom);var ye=i.MercatorCoordinate.fromLngLat(this.center),Ie=Math.pow(2,ge),Ze=[Ie*ye.x,Ie*ye.y,0],ft=Jr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ge),At=Z.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(At=ge);var Ht=3,qt=function(_a){return{aabb:new en([_a*Ie,0,0],[(_a+1)*Ie,Ie,0]),zoom:0,x:0,y:0,wrap:_a,fullyVisible:!1}},hr=[],br=[],Or=ge,Yr=Z.reparseOverscaled?re:ge;if(this._renderWorldCopies)for(var Xr=1;Xr<=3;Xr++)hr.push(qt(-Xr)),hr.push(qt(Xr));for(hr.push(qt(0));hr.length>0;){var jr=hr.pop(),tn=jr.x,vn=jr.y,kn=jr.fullyVisible;if(!kn){var Gn=jr.aabb.intersects(ft);if(Gn===0)continue;kn=Gn===2}var $n=jr.aabb.distanceX(Ze),ra=jr.aabb.distanceY(Ze),ea=Math.max(Math.abs($n),Math.abs(ra)),ha=Ht+(1<<Or-jr.zoom)-2;if(jr.zoom===Or||ea>ha&&jr.zoom>=At){br.push({tileID:new i.OverscaledTileID(jr.zoom===Or?Yr:jr.zoom,jr.wrap,jr.zoom,tn,vn),distanceSq:i.sqrLen([Ze[0]-.5-tn,Ze[1]-.5-vn])});continue}for(var wa=0;wa<4;wa++){var xa=(tn<<1)+wa%2,Ea=(vn<<1)+(wa>>1);hr.push({aabb:jr.aabb.quadrant(wa),zoom:jr.zoom+1,x:xa,y:Ea,wrap:jr.wrap,fullyVisible:kn})}}return br.sort(function(_a,ja){return _a.distanceSq-ja.distanceSq}).map(function(_a){return _a.tileID})},Cn.prototype.resize=function(Z,ge){this.width=Z,this.height=ge,this.pixelsToGLUnits=[2/Z,-2/ge],this._constrain(),this._calcMatrices()},Nn.unmodified.get=function(){return this._unmodified},Cn.prototype.zoomScale=function(Z){return Math.pow(2,Z)},Cn.prototype.scaleZoom=function(Z){return Math.log(Z)/Math.LN2},Cn.prototype.project=function(Z){var ge=i.clamp(Z.lat,-this.maxValidLatitude,this.maxValidLatitude);return new i.Point(i.mercatorXfromLng(Z.lng)*this.worldSize,i.mercatorYfromLat(ge)*this.worldSize)},Cn.prototype.unproject=function(Z){return new i.MercatorCoordinate(Z.x/this.worldSize,Z.y/this.worldSize).toLngLat()},Nn.point.get=function(){return this.project(this.center)},Cn.prototype.setLocationAtPoint=function(Z,ge){var re=this.pointCoordinate(ge),ye=this.pointCoordinate(this.centerPoint),Ie=this.locationCoordinate(Z),Ze=new i.MercatorCoordinate(Ie.x-(re.x-ye.x),Ie.y-(re.y-ye.y));this.center=this.coordinateLocation(Ze),this._renderWorldCopies&&(this.center=this.center.wrap())},Cn.prototype.locationPoint=function(Z){return this.coordinatePoint(this.locationCoordinate(Z))},Cn.prototype.pointLocation=function(Z){return this.coordinateLocation(this.pointCoordinate(Z))},Cn.prototype.locationCoordinate=function(Z){return i.MercatorCoordinate.fromLngLat(Z)},Cn.prototype.coordinateLocation=function(Z){return Z.toLngLat()},Cn.prototype.pointCoordinate=function(Z){var ge=0,re=[Z.x,Z.y,0,1],ye=[Z.x,Z.y,1,1];i.transformMat4(re,re,this.pixelMatrixInverse),i.transformMat4(ye,ye,this.pixelMatrixInverse);var Ie=re[3],Ze=ye[3],ft=re[0]/Ie,At=ye[0]/Ze,Ht=re[1]/Ie,qt=ye[1]/Ze,hr=re[2]/Ie,br=ye[2]/Ze,Or=hr===br?0:(ge-hr)/(br-hr);return new i.MercatorCoordinate(i.number(ft,At,Or)/this.worldSize,i.number(Ht,qt,Or)/this.worldSize)},Cn.prototype.coordinatePoint=function(Z){var ge=[Z.x*this.worldSize,Z.y*this.worldSize,0,1];return i.transformMat4(ge,ge,this.pixelMatrix),new i.Point(ge[0]/ge[3],ge[1]/ge[3])},Cn.prototype.getBounds=function(){return new i.LngLatBounds().extend(this.pointLocation(new i.Point(0,0))).extend(this.pointLocation(new i.Point(this.width,0))).extend(this.pointLocation(new i.Point(this.width,this.height))).extend(this.pointLocation(new i.Point(0,this.height)))},Cn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new i.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Cn.prototype.setMaxBounds=function(Z){Z?(this.lngRange=[Z.getWest(),Z.getEast()],this.latRange=[Z.getSouth(),Z.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Cn.prototype.calculatePosMatrix=function(Z,ge){ge===void 0&&(ge=!1);var re=Z.key,ye=ge?this._alignedPosMatrixCache:this._posMatrixCache;if(ye[re])return ye[re];var Ie=Z.canonical,Ze=this.worldSize/this.zoomScale(Ie.z),ft=Ie.x+Math.pow(2,Ie.z)*Z.wrap,At=i.identity(new Float64Array(16));return i.translate(At,At,[ft*Ze,Ie.y*Ze,0]),i.scale(At,At,[Ze/i.EXTENT,Ze/i.EXTENT,1]),i.multiply(At,ge?this.alignedProjMatrix:this.projMatrix,At),ye[re]=new Float32Array(At),ye[re]},Cn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Cn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var Z=-90,ge=90,re=-180,ye=180,Ie,Ze,ft,At,Ht=this.size,qt=this._unmodified;if(this.latRange){var hr=this.latRange;Z=i.mercatorYfromLat(hr[1])*this.worldSize,ge=i.mercatorYfromLat(hr[0])*this.worldSize,Ie=ge-Z<Ht.y?Ht.y/(ge-Z):0}if(this.lngRange){var br=this.lngRange;re=i.mercatorXfromLng(br[0])*this.worldSize,ye=i.mercatorXfromLng(br[1])*this.worldSize,Ze=ye-re<Ht.x?Ht.x/(ye-re):0}var Or=this.point,Yr=Math.max(Ze||0,Ie||0);if(Yr){this.center=this.unproject(new i.Point(Ze?(ye+re)/2:Or.x,Ie?(ge+Z)/2:Or.y)),this.zoom+=this.scaleZoom(Yr),this._unmodified=qt,this._constraining=!1;return}if(this.latRange){var Xr=Or.y,jr=Ht.y/2;Xr-jr<Z&&(At=Z+jr),Xr+jr>ge&&(At=ge-jr)}if(this.lngRange){var tn=Or.x,vn=Ht.x/2;tn-vn<re&&(ft=re+vn),tn+vn>ye&&(ft=ye-vn)}(ft!==void 0||At!==void 0)&&(this.center=this.unproject(new i.Point(ft!==void 0?ft:Or.x,At!==void 0?At:Or.y))),this._unmodified=qt,this._constraining=!1}},Cn.prototype._calcMatrices=function(){if(this.height){var Z=this._fov/2,ge=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(Z)*this.height;var re=Math.PI/2+this._pitch,ye=this._fov*(.5+ge.y/this.height),Ie=Math.sin(ye)*this.cameraToCenterDistance/Math.sin(i.clamp(Math.PI-re-ye,.01,Math.PI-.01)),Ze=this.point,ft=Ze.x,At=Ze.y,Ht=Math.cos(Math.PI/2-this._pitch)*Ie+this.cameraToCenterDistance,qt=Ht*1.01,hr=this.height/50,br=new Float64Array(16);i.perspective(br,this._fov,this.width/this.height,hr,qt),br[8]=-ge.x*2/this.width,br[9]=ge.y*2/this.height,i.scale(br,br,[1,-1,1]),i.translate(br,br,[0,0,-this.cameraToCenterDistance]),i.rotateX(br,br,this._pitch),i.rotateZ(br,br,this.angle),i.translate(br,br,[-ft,-At,0]),this.mercatorMatrix=i.scale([],br,[this.worldSize,this.worldSize,this.worldSize]),i.scale(br,br,[1,1,i.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=br,this.invProjMatrix=i.invert([],this.projMatrix);var Or=this.width%2/2,Yr=this.height%2/2,Xr=Math.cos(this.angle),jr=Math.sin(this.angle),tn=ft-Math.round(ft)+Xr*Or+jr*Yr,vn=At-Math.round(At)+Xr*Yr+jr*Or,kn=new Float64Array(br);if(i.translate(kn,kn,[tn>.5?tn-1:tn,vn>.5?vn-1:vn,0]),this.alignedProjMatrix=kn,br=i.create(),i.scale(br,br,[this.width/2,-this.height/2,1]),i.translate(br,br,[1,-1,0]),this.labelPlaneMatrix=br,br=i.create(),i.scale(br,br,[1,-1,1]),i.translate(br,br,[-1,-1,0]),i.scale(br,br,[2/this.width,2/this.height,1]),this.glCoordMatrix=br,this.pixelMatrix=i.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),br=i.invert(new Float64Array(16),this.pixelMatrix),!br)throw new Error("failed to invert matrix");this.pixelMatrixInverse=br,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Cn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var Z=this.pointCoordinate(new i.Point(0,0)),ge=[Z.x*this.worldSize,Z.y*this.worldSize,0,1],re=i.transformMat4(ge,ge,this.pixelMatrix);return re[3]/this.cameraToCenterDistance},Cn.prototype.getCameraPoint=function(){var Z=this._pitch,ge=Math.tan(Z)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.Point(0,ge))},Cn.prototype.getCameraQueryGeometry=function(Z){var ge=this.getCameraPoint();if(Z.length===1)return[Z[0],ge];for(var re=ge.x,ye=ge.y,Ie=ge.x,Ze=ge.y,ft=0,At=Z;ft<At.length;ft+=1){var Ht=At[ft];re=Math.min(re,Ht.x),ye=Math.min(ye,Ht.y),Ie=Math.max(Ie,Ht.x),Ze=Math.max(Ze,Ht.y)}return[new i.Point(re,ye),new i.Point(Ie,ye),new i.Point(Ie,Ze),new i.Point(re,Ze),new i.Point(re,ye)]},Object.defineProperties(Cn.prototype,Nn);function Aa(de,Z){var ge=!1,re=null,ye=function(){re=null,ge&&(de(),re=setTimeout(ye,Z),ge=!1)};return function(){return ge=!0,re||ye(),re}}var Ba=function(Z){this._hashName=Z&&encodeURIComponent(Z),i.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Aa(this._updateHashUnthrottled.bind(this),30*1e3/100)};Ba.prototype.addTo=function(Z){return this._map=Z,i.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ba.prototype.remove=function(){return i.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ba.prototype.getHashString=function(Z){var ge=this._map.getCenter(),re=Math.round(this._map.getZoom()*100)/100,ye=Math.ceil((re*Math.LN2+Math.log(512/360/.5))/Math.LN10),Ie=Math.pow(10,ye),Ze=Math.round(ge.lng*Ie)/Ie,ft=Math.round(ge.lat*Ie)/Ie,At=this._map.getBearing(),Ht=this._map.getPitch(),qt="";if(Z?qt+="/"+Ze+"/"+ft+"/"+re:qt+=re+"/"+ft+"/"+Ze,(At||Ht)&&(qt+="/"+Math.round(At*10)/10),Ht&&(qt+="/"+Math.round(Ht)),this._hashName){var hr=this._hashName,br=!1,Or=i.window.location.hash.slice(1).split("&").map(function(Yr){var Xr=Yr.split("=")[0];return Xr===hr?(br=!0,Xr+"="+qt):Yr}).filter(function(Yr){return Yr});return br||Or.push(hr+"="+qt),"#"+Or.join("&")}return"#"+qt},Ba.prototype._getCurrentHash=function(){var Z=this,ge=i.window.location.hash.replace("#","");if(this._hashName){var re;return ge.split("&").map(function(ye){return ye.split("=")}).forEach(function(ye){ye[0]===Z._hashName&&(re=ye)}),(re&&re[1]||"").split("/")}return ge.split("/")},Ba.prototype._onHashChange=function(){var Z=this._getCurrentHash();if(Z.length>=3&&!Z.some(function(re){return isNaN(re)})){var ge=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(Z[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+Z[2],+Z[1]],zoom:+Z[0],bearing:ge,pitch:+(Z[4]||0)}),!0}return!1},Ba.prototype._updateHashUnthrottled=function(){var Z=this.getHashString();try{i.window.history.replaceState(i.window.history.state,"",Z)}catch{}};var Ga={linearity:.3,easing:i.bezier(0,0,.3,1)},Wa=i.extend({deceleration:2500,maxSpeed:1400},Ga),Ya=i.extend({deceleration:20,maxSpeed:1400},Ga),Di=i.extend({deceleration:1e3,maxSpeed:360},Ga),vo=i.extend({deceleration:1e3,maxSpeed:90},Ga),Wi=function(Z){this._map=Z,this.clear()};Wi.prototype.clear=function(){this._inertiaBuffer=[]},Wi.prototype.record=function(Z){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:i.browser.now(),settings:Z})},Wi.prototype._drainInertiaBuffer=function(){for(var Z=this._inertiaBuffer,ge=i.browser.now(),re=160;Z.length>0&&ge-Z[0].time>re;)Z.shift()},Wi.prototype._onMoveEnd=function(Z){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var ge={zoom:0,bearing:0,pitch:0,pan:new i.Point(0,0),pinchAround:void 0,around:void 0},re=0,ye=this._inertiaBuffer;re<ye.length;re+=1){var Ie=ye[re],Ze=Ie.settings;ge.zoom+=Ze.zoomDelta||0,ge.bearing+=Ze.bearingDelta||0,ge.pitch+=Ze.pitchDelta||0,Ze.panDelta&&ge.pan._add(Ze.panDelta),Ze.around&&(ge.around=Ze.around),Ze.pinchAround&&(ge.pinchAround=Ze.pinchAround)}var ft=this._inertiaBuffer[this._inertiaBuffer.length-1],At=ft.time-this._inertiaBuffer[0].time,Ht={};if(ge.pan.mag()){var qt=Le(ge.pan.mag(),At,i.extend({},Wa,Z||{}));Ht.offset=ge.pan.mult(qt.amount/ge.pan.mag()),Ht.center=this._map.transform.center,ue(Ht,qt)}if(ge.zoom){var hr=Le(ge.zoom,At,Ya);Ht.zoom=this._map.transform.zoom+hr.amount,ue(Ht,hr)}if(ge.bearing){var br=Le(ge.bearing,At,Di);Ht.bearing=this._map.transform.bearing+i.clamp(br.amount,-179,179),ue(Ht,br)}if(ge.pitch){var Or=Le(ge.pitch,At,vo);Ht.pitch=this._map.transform.pitch+Or.amount,ue(Ht,Or)}if(Ht.zoom||Ht.bearing){var Yr=ge.pinchAround===void 0?ge.around:ge.pinchAround;Ht.around=Yr?this._map.unproject(Yr):this._map.getCenter()}return this.clear(),i.extend(Ht,{noMoveStart:!0})}};function ue(de,Z){(!de.duration||de.duration<Z.duration)&&(de.duration=Z.duration,de.easing=Z.easing)}function Le(de,Z,ge){var re=ge.maxSpeed,ye=ge.linearity,Ie=ge.deceleration,Ze=i.clamp(de*ye/(Z/1e3),-re,re),ft=Math.abs(Ze)/(Ie*ye);return{easing:ge.easing,duration:ft*1e3,amount:Ze*(ft/2)}}var Ve=function(de){function Z(re,ye,Ie,Ze){Ze===void 0&&(Ze={});var ft=T.mousePos(ye.getCanvasContainer(),Ie),At=ye.unproject(ft);de.call(this,re,i.extend({point:ft,lngLat:At,originalEvent:Ie},Ze)),this._defaultPrevented=!1,this.target=ye}de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z;var ge={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,ge),Z}(i.Event),et=function(de){function Z(re,ye,Ie){var Ze=re==="touchend"?Ie.changedTouches:Ie.touches,ft=T.touchPos(ye.getCanvasContainer(),Ze),At=ft.map(function(hr){return ye.unproject(hr)}),Ht=ft.reduce(function(hr,br,Or,Yr){return hr.add(br.div(Yr.length))},new i.Point(0,0)),qt=ye.unproject(Ht);de.call(this,re,{points:ft,point:Ht,lngLats:At,lngLat:qt,originalEvent:Ie}),this._defaultPrevented=!1}de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z;var ge={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,ge),Z}(i.Event),at=function(de){function Z(re,ye,Ie){de.call(this,re,{originalEvent:Ie}),this._defaultPrevented=!1}de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z;var ge={defaultPrevented:{configurable:!0}};return Z.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(Z.prototype,ge),Z}(i.Event),lt=function(Z,ge){this._map=Z,this._clickTolerance=ge.clickTolerance};lt.prototype.reset=function(){delete this._mousedownPos},lt.prototype.wheel=function(Z){return this._firePreventable(new at(Z.type,this._map,Z))},lt.prototype.mousedown=function(Z,ge){return this._mousedownPos=ge,this._firePreventable(new Ve(Z.type,this._map,Z))},lt.prototype.mouseup=function(Z){this._map.fire(new Ve(Z.type,this._map,Z))},lt.prototype.click=function(Z,ge){this._mousedownPos&&this._mousedownPos.dist(ge)>=this._clickTolerance||this._map.fire(new Ve(Z.type,this._map,Z))},lt.prototype.dblclick=function(Z){return this._firePreventable(new Ve(Z.type,this._map,Z))},lt.prototype.mouseover=function(Z){this._map.fire(new Ve(Z.type,this._map,Z))},lt.prototype.mouseout=function(Z){this._map.fire(new Ve(Z.type,this._map,Z))},lt.prototype.touchstart=function(Z){return this._firePreventable(new et(Z.type,this._map,Z))},lt.prototype.touchmove=function(Z){this._map.fire(new et(Z.type,this._map,Z))},lt.prototype.touchend=function(Z){this._map.fire(new et(Z.type,this._map,Z))},lt.prototype.touchcancel=function(Z){this._map.fire(new et(Z.type,this._map,Z))},lt.prototype._firePreventable=function(Z){if(this._map.fire(Z),Z.defaultPrevented)return{}},lt.prototype.isEnabled=function(){return!0},lt.prototype.isActive=function(){return!1},lt.prototype.enable=function(){},lt.prototype.disable=function(){};var Dt=function(Z){this._map=Z};Dt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Dt.prototype.mousemove=function(Z){this._map.fire(new Ve(Z.type,this._map,Z))},Dt.prototype.mousedown=function(){this._delayContextMenu=!0},Dt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ve("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Dt.prototype.contextmenu=function(Z){this._delayContextMenu?this._contextMenuEvent=Z:this._map.fire(new Ve(Z.type,this._map,Z)),this._map.listens("contextmenu")&&Z.preventDefault()},Dt.prototype.isEnabled=function(){return!0},Dt.prototype.isActive=function(){return!1},Dt.prototype.enable=function(){},Dt.prototype.disable=function(){};var pt=function(Z,ge){this._map=Z,this._el=Z.getCanvasContainer(),this._container=Z.getContainer(),this._clickTolerance=ge.clickTolerance||1};pt.prototype.isEnabled=function(){return!!this._enabled},pt.prototype.isActive=function(){return!!this._active},pt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},pt.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},pt.prototype.mousedown=function(Z,ge){this.isEnabled()&&Z.shiftKey&&Z.button===0&&(T.disableDrag(),this._startPos=this._lastPos=ge,this._active=!0)},pt.prototype.mousemoveWindow=function(Z,ge){if(this._active){var re=ge;if(!(this._lastPos.equals(re)||!this._box&&re.dist(this._startPos)<this._clickTolerance)){var ye=this._startPos;this._lastPos=re,this._box||(this._box=T.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",Z));var Ie=Math.min(ye.x,re.x),Ze=Math.max(ye.x,re.x),ft=Math.min(ye.y,re.y),At=Math.max(ye.y,re.y);T.setTransform(this._box,"translate("+Ie+"px,"+ft+"px)"),this._box.style.width=Ze-Ie+"px",this._box.style.height=At-ft+"px"}}},pt.prototype.mouseupWindow=function(Z,ge){var re=this;if(this._active&&Z.button===0){var ye=this._startPos,Ie=ge;if(this.reset(),T.suppressClick(),ye.x===Ie.x&&ye.y===Ie.y)this._fireEvent("boxzoomcancel",Z);else return this._map.fire(new i.Event("boxzoomend",{originalEvent:Z})),{cameraAnimation:function(Ze){return Ze.fitScreenCoordinates(ye,Ie,re._map.getBearing(),{linear:!0})}}}},pt.prototype.keydown=function(Z){this._active&&Z.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",Z))},pt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(T.remove(this._box),this._box=null),T.enableDrag(),delete this._startPos,delete this._lastPos},pt.prototype._fireEvent=function(Z,ge){return this._map.fire(new i.Event(Z,{originalEvent:ge}))};function Vt(de,Z){for(var ge={},re=0;re<de.length;re++)ge[de[re].identifier]=Z[re];return ge}function rr(de){for(var Z=new i.Point(0,0),ge=0,re=de;ge<re.length;ge+=1){var ye=re[ge];Z._add(ye)}return Z.div(de.length)}var ar=500,Dr=500,_r=30,qr=function(Z){this.reset(),this.numTouches=Z.numTouches};qr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},qr.prototype.touchstart=function(Z,ge,re){(this.centroid||re.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=Z.timeStamp),re.length===this.numTouches&&(this.centroid=rr(ge),this.touches=Vt(re,ge)))},qr.prototype.touchmove=function(Z,ge,re){if(!(this.aborted||!this.centroid)){var ye=Vt(re,ge);for(var Ie in this.touches){var Ze=this.touches[Ie],ft=ye[Ie];(!ft||ft.dist(Ze)>_r)&&(this.aborted=!0)}}},qr.prototype.touchend=function(Z,ge,re){if((!this.centroid||Z.timeStamp-this.startTime>Dr)&&(this.aborted=!0),re.length===0){var ye=!this.aborted&&this.centroid;if(this.reset(),ye)return ye}};var on=function(Z){this.singleTap=new qr(Z),this.numTaps=Z.numTaps,this.reset()};on.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},on.prototype.touchstart=function(Z,ge,re){this.singleTap.touchstart(Z,ge,re)},on.prototype.touchmove=function(Z,ge,re){this.singleTap.touchmove(Z,ge,re)},on.prototype.touchend=function(Z,ge,re){var ye=this.singleTap.touchend(Z,ge,re);if(ye){var Ie=Z.timeStamp-this.lastTime<ar,Ze=!this.lastTap||this.lastTap.dist(ye)<_r;if((!Ie||!Ze)&&this.reset(),this.count++,this.lastTime=Z.timeStamp,this.lastTap=ye,this.count===this.numTaps)return this.reset(),ye}};var Fr=function(){this._zoomIn=new on({numTouches:1,numTaps:2}),this._zoomOut=new on({numTouches:2,numTaps:1}),this.reset()};Fr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Fr.prototype.touchstart=function(Z,ge,re){this._zoomIn.touchstart(Z,ge,re),this._zoomOut.touchstart(Z,ge,re)},Fr.prototype.touchmove=function(Z,ge,re){this._zoomIn.touchmove(Z,ge,re),this._zoomOut.touchmove(Z,ge,re)},Fr.prototype.touchend=function(Z,ge,re){var ye=this,Ie=this._zoomIn.touchend(Z,ge,re),Ze=this._zoomOut.touchend(Z,ge,re);if(Ie)return this._active=!0,Z.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(ft){return ft.easeTo({duration:300,zoom:ft.getZoom()+1,around:ft.unproject(Ie)},{originalEvent:Z})}};if(Ze)return this._active=!0,Z.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(ft){return ft.easeTo({duration:300,zoom:ft.getZoom()-1,around:ft.unproject(Ze)},{originalEvent:Z})}}},Fr.prototype.touchcancel=function(){this.reset()},Fr.prototype.enable=function(){this._enabled=!0},Fr.prototype.disable=function(){this._enabled=!1,this.reset()},Fr.prototype.isEnabled=function(){return this._enabled},Fr.prototype.isActive=function(){return this._active};var Wr=0,Qr=2,sn=function(Z){this.reset(),this._clickTolerance=Z.clickTolerance||1};sn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},sn.prototype._correctButton=function(Z,ge){return!1},sn.prototype._move=function(Z,ge){return{}},sn.prototype.mousedown=function(Z,ge){if(!this._lastPoint){var re=T.mouseButton(Z);this._correctButton(Z,re)&&(this._lastPoint=ge,this._eventButton=re)}},sn.prototype.mousemoveWindow=function(Z,ge){var re=this._lastPoint;if(re&&(Z.preventDefault(),!(!this._moved&&ge.dist(re)<this._clickTolerance)))return this._moved=!0,this._lastPoint=ge,this._move(re,ge)},sn.prototype.mouseupWindow=function(Z){var ge=T.mouseButton(Z);ge===this._eventButton&&(this._moved&&T.suppressClick(),this.reset())},sn.prototype.enable=function(){this._enabled=!0},sn.prototype.disable=function(){this._enabled=!1,this.reset()},sn.prototype.isEnabled=function(){return this._enabled},sn.prototype.isActive=function(){return this._active};var pn=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.mousedown=function(re,ye){de.prototype.mousedown.call(this,re,ye),this._lastPoint&&(this._active=!0)},Z.prototype._correctButton=function(re,ye){return ye===Wr&&!re.ctrlKey},Z.prototype._move=function(re,ye){return{around:ye,panDelta:ye.sub(re)}},Z}(sn),$r=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(re,ye){return ye===Wr&&re.ctrlKey||ye===Qr},Z.prototype._move=function(re,ye){var Ie=.8,Ze=(ye.x-re.x)*Ie;if(Ze)return this._active=!0,{bearingDelta:Ze}},Z.prototype.contextmenu=function(re){re.preventDefault()},Z}(sn),Yn=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype._correctButton=function(re,ye){return ye===Wr&&re.ctrlKey||ye===Qr},Z.prototype._move=function(re,ye){var Ie=-.5,Ze=(ye.y-re.y)*Ie;if(Ze)return this._active=!0,{pitchDelta:Ze}},Z.prototype.contextmenu=function(re){re.preventDefault()},Z}(sn),Jn=function(Z){this._minTouches=1,this._clickTolerance=Z.clickTolerance||1,this.reset()};Jn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new i.Point(0,0)},Jn.prototype.touchstart=function(Z,ge,re){return this._calculateTransform(Z,ge,re)},Jn.prototype.touchmove=function(Z,ge,re){if(this._active)return Z.preventDefault(),this._calculateTransform(Z,ge,re)},Jn.prototype.touchend=function(Z,ge,re){this._calculateTransform(Z,ge,re),this._active&&re.length<this._minTouches&&this.reset()},Jn.prototype.touchcancel=function(){this.reset()},Jn.prototype._calculateTransform=function(Z,ge,re){re.length>0&&(this._active=!0);var ye=Vt(re,ge),Ie=new i.Point(0,0),Ze=new i.Point(0,0),ft=0;for(var At in ye){var Ht=ye[At],qt=this._touches[At];qt&&(Ie._add(Ht),Ze._add(Ht.sub(qt)),ft++,ye[At]=Ht)}if(this._touches=ye,!(ft<this._minTouches||!Ze.mag())){var hr=Ze.div(ft);if(this._sum._add(hr),!(this._sum.mag()<this._clickTolerance)){var br=Ie.div(ft);return{around:br,panDelta:hr}}}},Jn.prototype.enable=function(){this._enabled=!0},Jn.prototype.disable=function(){this._enabled=!1,this.reset()},Jn.prototype.isEnabled=function(){return this._enabled},Jn.prototype.isActive=function(){return this._active};var ia=function(){this.reset()};ia.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ia.prototype._start=function(Z){},ia.prototype._move=function(Z,ge,re){return{}},ia.prototype.touchstart=function(Z,ge,re){this._firstTwoTouches||re.length<2||(this._firstTwoTouches=[re[0].identifier,re[1].identifier],this._start([ge[0],ge[1]]))},ia.prototype.touchmove=function(Z,ge,re){if(this._firstTwoTouches){Z.preventDefault();var ye=this._firstTwoTouches,Ie=ye[0],Ze=ye[1],ft=ga(re,ge,Ie),At=ga(re,ge,Ze);if(!(!ft||!At)){var Ht=this._aroundCenter?null:ft.add(At).div(2);return this._move([ft,At],Ht,Z)}}},ia.prototype.touchend=function(Z,ge,re){if(this._firstTwoTouches){var ye=this._firstTwoTouches,Ie=ye[0],Ze=ye[1],ft=ga(re,ge,Ie),At=ga(re,ge,Ze);ft&&At||(this._active&&T.suppressClick(),this.reset())}},ia.prototype.touchcancel=function(){this.reset()},ia.prototype.enable=function(Z){this._enabled=!0,this._aroundCenter=!!Z&&Z.around==="center"},ia.prototype.disable=function(){this._enabled=!1,this.reset()},ia.prototype.isEnabled=function(){return this._enabled},ia.prototype.isActive=function(){return this._active};function ga(de,Z,ge){for(var re=0;re<de.length;re++)if(de[re].identifier===ge)return Z[re]}var Ra=.1;function Pa(de,Z){return Math.log(de/Z)/Math.LN2}var ei=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){de.prototype.reset.call(this),delete this._distance,delete this._startDistance},Z.prototype._start=function(re){this._startDistance=this._distance=re[0].dist(re[1])},Z.prototype._move=function(re,ye){var Ie=this._distance;if(this._distance=re[0].dist(re[1]),!(!this._active&&Math.abs(Pa(this._distance,this._startDistance))<Ra))return this._active=!0,{zoomDelta:Pa(this._distance,Ie),pinchAround:ye}},Z}(ia),Na=25;function Ja(de,Z){return de.angleWith(Z)*180/Math.PI}var Ti=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){de.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},Z.prototype._start=function(re){this._startVector=this._vector=re[0].sub(re[1]),this._minDiameter=re[0].dist(re[1])},Z.prototype._move=function(re,ye){var Ie=this._vector;if(this._vector=re[0].sub(re[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Ja(this._vector,Ie),pinchAround:ye}},Z.prototype._isBelowThreshold=function(re){this._minDiameter=Math.min(this._minDiameter,re.mag());var ye=Math.PI*this._minDiameter,Ie=Na/ye*360,Ze=Ja(re,this._startVector);return Math.abs(Ze)<Ie},Z}(ia);function Ci(de){return Math.abs(de.y)>Math.abs(de.x)}var Oi=100,Xn=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.reset=function(){de.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},Z.prototype._start=function(re){this._lastPoints=re,Ci(re[0].sub(re[1]))&&(this._valid=!1)},Z.prototype._move=function(re,ye,Ie){var Ze=re[0].sub(this._lastPoints[0]),ft=re[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ze,ft,Ie.timeStamp),!!this._valid){this._lastPoints=re,this._active=!0;var At=(Ze.y+ft.y)/2,Ht=-.5;return{pitchDelta:At*Ht}}},Z.prototype.gestureBeginsVertically=function(re,ye,Ie){if(this._valid!==void 0)return this._valid;var Ze=2,ft=re.mag()>=Ze,At=ye.mag()>=Ze;if(!(!ft&&!At)){if(!ft||!At)return this._firstMove===void 0&&(this._firstMove=Ie),Ie-this._firstMove<Oi?void 0:!1;var Ht=re.y>0==ye.y>0;return Ci(re)&&Ci(ye)&&Ht}},Z}(ia),Qa={panStep:100,bearingStep:15,pitchStep:10},Xa=function(){var Z=Qa;this._panStep=Z.panStep,this._bearingStep=Z.bearingStep,this._pitchStep=Z.pitchStep};Xa.prototype.reset=function(){this._active=!1},Xa.prototype.keydown=function(Z){var ge=this;if(!(Z.altKey||Z.ctrlKey||Z.metaKey)){var re=0,ye=0,Ie=0,Ze=0,ft=0;switch(Z.keyCode){case 61:case 107:case 171:case 187:re=1;break;case 189:case 109:case 173:re=-1;break;case 37:Z.shiftKey?ye=-1:(Z.preventDefault(),Ze=-1);break;case 39:Z.shiftKey?ye=1:(Z.preventDefault(),Ze=1);break;case 38:Z.shiftKey?Ie=1:(Z.preventDefault(),ft=-1);break;case 40:Z.shiftKey?Ie=-1:(Z.preventDefault(),ft=1);break;default:return}return{cameraAnimation:function(At){var Ht=At.getZoom();At.easeTo({duration:300,easeId:"keyboardHandler",easing:pi,zoom:re?Math.round(Ht)+re*(Z.shiftKey?2:1):Ht,bearing:At.getBearing()+ye*ge._bearingStep,pitch:At.getPitch()+Ie*ge._pitchStep,offset:[-Ze*ge._panStep,-ft*ge._panStep],center:At.getCenter()},{originalEvent:Z})}}}},Xa.prototype.enable=function(){this._enabled=!0},Xa.prototype.disable=function(){this._enabled=!1,this.reset()},Xa.prototype.isEnabled=function(){return this._enabled},Xa.prototype.isActive=function(){return this._active};function pi(de){return de*(2-de)}var ro=4.000244140625,Mo=1/100,ko=1/450,Ki=2,Bi=function(Z,ge){this._map=Z,this._el=Z.getCanvasContainer(),this._handler=ge,this._delta=0,this._defaultZoomRate=Mo,this._wheelZoomRate=ko,i.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Bi.prototype.setZoomRate=function(Z){this._defaultZoomRate=Z},Bi.prototype.setWheelZoomRate=function(Z){this._wheelZoomRate=Z},Bi.prototype.isEnabled=function(){return!!this._enabled},Bi.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},Bi.prototype.isZooming=function(){return!!this._zooming},Bi.prototype.enable=function(Z){this.isEnabled()||(this._enabled=!0,this._aroundCenter=Z&&Z.around==="center")},Bi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Bi.prototype.wheel=function(Z){if(this.isEnabled()){var ge=Z.deltaMode===i.window.WheelEvent.DOM_DELTA_LINE?Z.deltaY*40:Z.deltaY,re=i.browser.now(),ye=re-(this._lastWheelEventTime||0);this._lastWheelEventTime=re,ge!==0&&ge%ro===0?this._type="wheel":ge!==0&&Math.abs(ge)<4?this._type="trackpad":ye>400?(this._type=null,this._lastValue=ge,this._timeout=setTimeout(this._onTimeout,40,Z)):this._type||(this._type=Math.abs(ye*ge)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ge+=this._lastValue)),Z.shiftKey&&ge&&(ge=ge/4),this._type&&(this._lastWheelEvent=Z,this._delta-=ge,this._active||this._start(Z)),Z.preventDefault()}},Bi.prototype._onTimeout=function(Z){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(Z)},Bi.prototype._start=function(Z){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var ge=T.mousePos(this._el,Z);this._around=i.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(ge)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Bi.prototype.renderFrame=function(){return this._onScrollFrame()},Bi.prototype._onScrollFrame=function(){var Z=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var ge=this._map.transform;if(this._delta!==0){var re=this._type==="wheel"&&Math.abs(this._delta)>ro?this._wheelZoomRate:this._defaultZoomRate,ye=Ki/(1+Math.exp(-Math.abs(this._delta*re)));this._delta<0&&ye!==0&&(ye=1/ye);var Ie=typeof this._targetZoom=="number"?ge.zoomScale(this._targetZoom):ge.scale;this._targetZoom=Math.min(ge.maxZoom,Math.max(ge.minZoom,ge.scaleZoom(Ie*ye))),this._type==="wheel"&&(this._startZoom=ge.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ze=typeof this._targetZoom=="number"?this._targetZoom:ge.zoom,ft=this._startZoom,At=this._easing,Ht=!1,qt;if(this._type==="wheel"&&ft&&At){var hr=Math.min((i.browser.now()-this._lastWheelEventTime)/200,1),br=At(hr);qt=i.number(ft,Ze,br),hr<1?this._frameId||(this._frameId=!0):Ht=!0}else qt=Ze,Ht=!0;return this._active=!0,Ht&&(this._active=!1,this._finishTimeout=setTimeout(function(){Z._zooming=!1,Z._handler._triggerRenderFrame(),delete Z._targetZoom,delete Z._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ht,zoomDelta:qt-ge.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Bi.prototype._smoothOutEasing=function(Z){var ge=i.ease;if(this._prevEase){var re=this._prevEase,ye=(i.browser.now()-re.start)/re.duration,Ie=re.easing(ye+.01)-re.easing(ye),Ze=.27/Math.sqrt(Ie*Ie+1e-4)*.01,ft=Math.sqrt(.27*.27-Ze*Ze);ge=i.bezier(Ze,ft,.25,1)}return this._prevEase={start:i.browser.now(),duration:Z,easing:ge},ge},Bi.prototype.reset=function(){this._active=!1};var Ca=function(Z,ge){this._clickZoom=Z,this._tapZoom=ge};Ca.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ca.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ca.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ca.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var za=function(){this.reset()};za.prototype.reset=function(){this._active=!1},za.prototype.dblclick=function(Z,ge){return Z.preventDefault(),{cameraAnimation:function(re){re.easeTo({duration:300,zoom:re.getZoom()+(Z.shiftKey?-1:1),around:re.unproject(ge)},{originalEvent:Z})}}},za.prototype.enable=function(){this._enabled=!0},za.prototype.disable=function(){this._enabled=!1,this.reset()},za.prototype.isEnabled=function(){return this._enabled},za.prototype.isActive=function(){return this._active};var Ji=function(){this._tap=new on({numTouches:1,numTaps:1}),this.reset()};Ji.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Ji.prototype.touchstart=function(Z,ge,re){this._swipePoint||(this._tapTime&&Z.timeStamp-this._tapTime>ar&&this.reset(),this._tapTime?re.length>0&&(this._swipePoint=ge[0],this._swipeTouch=re[0].identifier):this._tap.touchstart(Z,ge,re))},Ji.prototype.touchmove=function(Z,ge,re){if(!this._tapTime)this._tap.touchmove(Z,ge,re);else if(this._swipePoint){if(re[0].identifier!==this._swipeTouch)return;var ye=ge[0],Ie=ye.y-this._swipePoint.y;return this._swipePoint=ye,Z.preventDefault(),this._active=!0,{zoomDelta:Ie/128}}},Ji.prototype.touchend=function(Z,ge,re){if(this._tapTime)this._swipePoint&&re.length===0&&this.reset();else{var ye=this._tap.touchend(Z,ge,re);ye&&(this._tapTime=Z.timeStamp)}},Ji.prototype.touchcancel=function(){this.reset()},Ji.prototype.enable=function(){this._enabled=!0},Ji.prototype.disable=function(){this._enabled=!1,this.reset()},Ji.prototype.isEnabled=function(){return this._enabled},Ji.prototype.isActive=function(){return this._active};var Ro=function(Z,ge,re){this._el=Z,this._mousePan=ge,this._touchPan=re};Ro.prototype.enable=function(Z){this._inertiaOptions=Z||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Ro.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Ro.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Ro.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Fs=function(Z,ge,re){this._pitchWithRotate=Z.pitchWithRotate,this._mouseRotate=ge,this._mousePitch=re};Fs.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Fs.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Fs.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Fs.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Yo=function(Z,ge,re,ye){this._el=Z,this._touchZoom=ge,this._touchRotate=re,this._tapDragZoom=ye,this._rotationDisabled=!1,this._enabled=!0};Yo.prototype.enable=function(Z){this._touchZoom.enable(Z),this._rotationDisabled||this._touchRotate.enable(Z),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Yo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Yo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Yo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Yo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Yo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var ys=function(de){return de.zoom||de.drag||de.pitch||de.rotate},io=function(de){function Z(){de.apply(this,arguments)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z}(i.Event);function js(de){return de.panDelta&&de.panDelta.mag()||de.zoomDelta||de.bearingDelta||de.pitchDelta}var ji=function(Z,ge){this._map=Z,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Wi(Z),this._bearingSnap=ge.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(ge),i.bindAll(["handleEvent","handleWindowEvent"],this);var re=this._el;this._listeners=[[re,"touchstart",{passive:!1}],[re,"touchmove",{passive:!1}],[re,"touchend",void 0],[re,"touchcancel",void 0],[re,"mousedown",void 0],[re,"mousemove",void 0],[re,"mouseup",void 0],[i.window.document,"mousemove",{capture:!0}],[i.window.document,"mouseup",void 0],[re,"mouseover",void 0],[re,"mouseout",void 0],[re,"dblclick",void 0],[re,"click",void 0],[re,"keydown",{capture:!1}],[re,"keyup",void 0],[re,"wheel",{passive:!1}],[re,"contextmenu",void 0],[i.window,"blur",void 0]];for(var ye=0,Ie=this._listeners;ye<Ie.length;ye+=1){var Ze=Ie[ye],ft=Ze[0],At=Ze[1],Ht=Ze[2];T.addEventListener(ft,At,ft===i.window.document?this.handleWindowEvent:this.handleEvent,Ht)}};ji.prototype.destroy=function(){for(var Z=0,ge=this._listeners;Z<ge.length;Z+=1){var re=ge[Z],ye=re[0],Ie=re[1],Ze=re[2];T.removeEventListener(ye,Ie,ye===i.window.document?this.handleWindowEvent:this.handleEvent,Ze)}},ji.prototype._addDefaultHandlers=function(Z){var ge=this._map,re=ge.getCanvasContainer();this._add("mapEvent",new lt(ge,Z));var ye=ge.boxZoom=new pt(ge,Z);this._add("boxZoom",ye);var Ie=new Fr,Ze=new za;ge.doubleClickZoom=new Ca(Ze,Ie),this._add("tapZoom",Ie),this._add("clickZoom",Ze);var ft=new Ji;this._add("tapDragZoom",ft);var At=ge.touchPitch=new Xn;this._add("touchPitch",At);var Ht=new $r(Z),qt=new Yn(Z);ge.dragRotate=new Fs(Z,Ht,qt),this._add("mouseRotate",Ht,["mousePitch"]),this._add("mousePitch",qt,["mouseRotate"]);var hr=new pn(Z),br=new Jn(Z);ge.dragPan=new Ro(re,hr,br),this._add("mousePan",hr),this._add("touchPan",br,["touchZoom","touchRotate"]);var Or=new Ti,Yr=new ei;ge.touchZoomRotate=new Yo(re,Yr,Or,ft),this._add("touchRotate",Or,["touchPan","touchZoom"]),this._add("touchZoom",Yr,["touchPan","touchRotate"]);var Xr=ge.scrollZoom=new Bi(ge,this);this._add("scrollZoom",Xr,["mousePan"]);var jr=ge.keyboard=new Xa;this._add("keyboard",jr),this._add("blockableMapEvent",new Dt(ge));for(var tn=0,vn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];tn<vn.length;tn+=1){var kn=vn[tn];Z.interactive&&Z[kn]&&ge[kn].enable(Z[kn])}},ji.prototype._add=function(Z,ge,re){this._handlers.push({handlerName:Z,handler:ge,allowed:re}),this._handlersById[Z]=ge},ji.prototype.stop=function(){if(!this._updatingCamera){for(var Z=0,ge=this._handlers;Z<ge.length;Z+=1){var re=ge[Z],ye=re.handler;ye.reset()}this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},ji.prototype.isActive=function(){for(var Z=0,ge=this._handlers;Z<ge.length;Z+=1){var re=ge[Z],ye=re.handler;if(ye.isActive())return!0}return!1},ji.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},ji.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},ji.prototype.isMoving=function(){return!!ys(this._eventsInProgress)||this.isZooming()},ji.prototype._blockedByActive=function(Z,ge,re){for(var ye in Z)if(ye!==re&&(!ge||ge.indexOf(ye)<0))return!0;return!1},ji.prototype.handleWindowEvent=function(Z){this.handleEvent(Z,Z.type+"Window")},ji.prototype._getMapTouches=function(Z){for(var ge=[],re=0,ye=Z;re<ye.length;re+=1){var Ie=ye[re],Ze=Ie.target;this._el.contains(Ze)&&ge.push(Ie)}return ge},ji.prototype.handleEvent=function(Z,ge){if(Z.type==="blur"){this.stop();return}this._updatingCamera=!0;for(var re=Z.type==="renderFrame"?void 0:Z,ye={needsRenderFrame:!1},Ie={},Ze={},ft=Z.touches?this._getMapTouches(Z.touches):void 0,At=ft?T.touchPos(this._el,ft):T.mousePos(this._el,Z),Ht=0,qt=this._handlers;Ht<qt.length;Ht+=1){var hr=qt[Ht],br=hr.handlerName,Or=hr.handler,Yr=hr.allowed;if(Or.isEnabled()){var Xr=void 0;this._blockedByActive(Ze,Yr,br)?Or.reset():Or[ge||Z.type]&&(Xr=Or[ge||Z.type](Z,At,ft),this.mergeHandlerResult(ye,Ie,Xr,br,re),Xr&&Xr.needsRenderFrame&&this._triggerRenderFrame()),(Xr||Or.isActive())&&(Ze[br]=Or)}}var jr={};for(var tn in this._previousActiveHandlers)Ze[tn]||(jr[tn]=re);this._previousActiveHandlers=Ze,(Object.keys(jr).length||js(ye))&&(this._changes.push([ye,Ie,jr]),this._triggerRenderFrame()),(Object.keys(Ze).length||js(ye))&&this._map._stop(!0),this._updatingCamera=!1;var vn=ye.cameraAnimation;vn&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],vn(this._map))},ji.prototype.mergeHandlerResult=function(Z,ge,re,ye,Ie){if(re){i.extend(Z,re);var Ze={handlerName:ye,originalEvent:re.originalEvent||Ie};re.zoomDelta!==void 0&&(ge.zoom=Ze),re.panDelta!==void 0&&(ge.drag=Ze),re.pitchDelta!==void 0&&(ge.pitch=Ze),re.bearingDelta!==void 0&&(ge.rotate=Ze)}},ji.prototype._applyChanges=function(){for(var Z={},ge={},re={},ye=0,Ie=this._changes;ye<Ie.length;ye+=1){var Ze=Ie[ye],ft=Ze[0],At=Ze[1],Ht=Ze[2];ft.panDelta&&(Z.panDelta=(Z.panDelta||new i.Point(0,0))._add(ft.panDelta)),ft.zoomDelta&&(Z.zoomDelta=(Z.zoomDelta||0)+ft.zoomDelta),ft.bearingDelta&&(Z.bearingDelta=(Z.bearingDelta||0)+ft.bearingDelta),ft.pitchDelta&&(Z.pitchDelta=(Z.pitchDelta||0)+ft.pitchDelta),ft.around!==void 0&&(Z.around=ft.around),ft.pinchAround!==void 0&&(Z.pinchAround=ft.pinchAround),ft.noInertia&&(Z.noInertia=ft.noInertia),i.extend(ge,At),i.extend(re,Ht)}this._updateMapTransform(Z,ge,re),this._changes=[]},ji.prototype._updateMapTransform=function(Z,ge,re){var ye=this._map,Ie=ye.transform;if(!js(Z))return this._fireEvents(ge,re);var Ze=Z.panDelta,ft=Z.zoomDelta,At=Z.bearingDelta,Ht=Z.pitchDelta,qt=Z.around,hr=Z.pinchAround;hr!==void 0&&(qt=hr),ye._stop(!0),qt=qt||ye.transform.centerPoint;var br=Ie.pointLocation(Ze?qt.sub(Ze):qt);At&&(Ie.bearing+=At),Ht&&(Ie.pitch+=Ht),ft&&(Ie.zoom+=ft),Ie.setLocationAtPoint(br,qt),this._map._update(),Z.noInertia||this._inertia.record(Z),this._fireEvents(ge,re)},ji.prototype._fireEvents=function(Z,ge){var re=this,ye=ys(this._eventsInProgress),Ie=ys(Z),Ze={};for(var ft in Z){var At=Z[ft],Ht=At.originalEvent;this._eventsInProgress[ft]||(Ze[ft+"start"]=Ht),this._eventsInProgress[ft]=Z[ft]}!ye&&Ie&&this._fireEvent("movestart",Ie.originalEvent);for(var qt in Ze)this._fireEvent(qt,Ze[qt]);Z.rotate&&(this._bearingChanged=!0),Ie&&this._fireEvent("move",Ie.originalEvent);for(var hr in Z){var br=Z[hr],Or=br.originalEvent;this._fireEvent(hr,Or)}var Yr={},Xr;for(var jr in this._eventsInProgress){var tn=this._eventsInProgress[jr],vn=tn.handlerName,kn=tn.originalEvent;this._handlersById[vn].isActive()||(delete this._eventsInProgress[jr],Xr=ge[vn]||kn,Yr[jr+"end"]=Xr)}for(var Gn in Yr)this._fireEvent(Gn,Yr[Gn]);var $n=ys(this._eventsInProgress);if((ye||Ie)&&!$n){this._updatingCamera=!0;var ra=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ea=function(ha){return ha!==0&&-re._bearingSnap<ha&&ha<re._bearingSnap};ra?(ea(ra.bearing||this._map.getBearing())&&(ra.bearing=0),this._map.easeTo(ra,{originalEvent:Xr})):(this._map.fire(new i.Event("moveend",{originalEvent:Xr})),ea(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},ji.prototype._fireEvent=function(Z,ge){this._map.fire(new i.Event(Z,ge?{originalEvent:ge}:{}))},ji.prototype._triggerRenderFrame=function(){var Z=this;this._frameId===void 0&&(this._frameId=this._map._requestRenderFrame(function(ge){delete Z._frameId,Z.handleEvent(new io("renderFrame",{timeStamp:ge})),Z._applyChanges()}))};var Ml=function(de){function Z(ge,re){de.call(this),this._moving=!1,this._zooming=!1,this.transform=ge,this._bearingSnap=re.bearingSnap,i.bindAll(["_renderFrameCallback"],this)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.getCenter=function(){return new i.LngLat(this.transform.center.lng,this.transform.center.lat)},Z.prototype.setCenter=function(re,ye){return this.jumpTo({center:re},ye)},Z.prototype.panBy=function(re,ye,Ie){return re=i.Point.convert(re).mult(-1),this.panTo(this.transform.center,i.extend({offset:re},ye),Ie)},Z.prototype.panTo=function(re,ye,Ie){return this.easeTo(i.extend({center:re},ye),Ie)},Z.prototype.getZoom=function(){return this.transform.zoom},Z.prototype.setZoom=function(re,ye){return this.jumpTo({zoom:re},ye),this},Z.prototype.zoomTo=function(re,ye,Ie){return this.easeTo(i.extend({zoom:re},ye),Ie)},Z.prototype.zoomIn=function(re,ye){return this.zoomTo(this.getZoom()+1,re,ye),this},Z.prototype.zoomOut=function(re,ye){return this.zoomTo(this.getZoom()-1,re,ye),this},Z.prototype.getBearing=function(){return this.transform.bearing},Z.prototype.setBearing=function(re,ye){return this.jumpTo({bearing:re},ye),this},Z.prototype.getPadding=function(){return this.transform.padding},Z.prototype.setPadding=function(re,ye){return this.jumpTo({padding:re},ye),this},Z.prototype.rotateTo=function(re,ye,Ie){return this.easeTo(i.extend({bearing:re},ye),Ie)},Z.prototype.resetNorth=function(re,ye){return this.rotateTo(0,i.extend({duration:1e3},re),ye),this},Z.prototype.resetNorthPitch=function(re,ye){return this.easeTo(i.extend({bearing:0,pitch:0,duration:1e3},re),ye),this},Z.prototype.snapToNorth=function(re,ye){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(re,ye):this},Z.prototype.getPitch=function(){return this.transform.pitch},Z.prototype.setPitch=function(re,ye){return this.jumpTo({pitch:re},ye),this},Z.prototype.cameraForBounds=function(re,ye){return re=i.LngLatBounds.convert(re),this._cameraForBoxAndBearing(re.getNorthWest(),re.getSouthEast(),0,ye)},Z.prototype._cameraForBoxAndBearing=function(re,ye,Ie,Ze){var ft={top:0,bottom:0,right:0,left:0};if(Ze=i.extend({padding:ft,offset:[0,0],maxZoom:this.transform.maxZoom},Ze),typeof Ze.padding=="number"){var At=Ze.padding;Ze.padding={top:At,bottom:At,right:At,left:At}}Ze.padding=i.extend(ft,Ze.padding);var Ht=this.transform,qt=Ht.padding,hr=Ht.project(i.LngLat.convert(re)),br=Ht.project(i.LngLat.convert(ye)),Or=hr.rotate(-Ie*Math.PI/180),Yr=br.rotate(-Ie*Math.PI/180),Xr=new i.Point(Math.max(Or.x,Yr.x),Math.max(Or.y,Yr.y)),jr=new i.Point(Math.min(Or.x,Yr.x),Math.min(Or.y,Yr.y)),tn=Xr.sub(jr),vn=(Ht.width-(qt.left+qt.right+Ze.padding.left+Ze.padding.right))/tn.x,kn=(Ht.height-(qt.top+qt.bottom+Ze.padding.top+Ze.padding.bottom))/tn.y;if(kn<0||vn<0){i.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Gn=Math.min(Ht.scaleZoom(Ht.scale*Math.min(vn,kn)),Ze.maxZoom),$n=i.Point.convert(Ze.offset),ra=(Ze.padding.left-Ze.padding.right)/2,ea=(Ze.padding.top-Ze.padding.bottom)/2,ha=new i.Point($n.x+ra,$n.y+ea),wa=ha.mult(Ht.scale/Ht.zoomScale(Gn)),xa=Ht.unproject(hr.add(br).div(2).sub(wa));return{center:xa,zoom:Gn,bearing:Ie}},Z.prototype.fitBounds=function(re,ye,Ie){return this._fitInternal(this.cameraForBounds(re,ye),ye,Ie)},Z.prototype.fitScreenCoordinates=function(re,ye,Ie,Ze,ft){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(i.Point.convert(re)),this.transform.pointLocation(i.Point.convert(ye)),Ie,Ze),Ze,ft)},Z.prototype._fitInternal=function(re,ye,Ie){return re?(ye=i.extend(re,ye),delete ye.padding,ye.linear?this.easeTo(ye,Ie):this.flyTo(ye,Ie)):this},Z.prototype.jumpTo=function(re,ye){this.stop();var Ie=this.transform,Ze=!1,ft=!1,At=!1;return"zoom"in re&&Ie.zoom!==+re.zoom&&(Ze=!0,Ie.zoom=+re.zoom),re.center!==void 0&&(Ie.center=i.LngLat.convert(re.center)),"bearing"in re&&Ie.bearing!==+re.bearing&&(ft=!0,Ie.bearing=+re.bearing),"pitch"in re&&Ie.pitch!==+re.pitch&&(At=!0,Ie.pitch=+re.pitch),re.padding!=null&&!Ie.isPaddingEqual(re.padding)&&(Ie.padding=re.padding),this.fire(new i.Event("movestart",ye)).fire(new i.Event("move",ye)),Ze&&this.fire(new i.Event("zoomstart",ye)).fire(new i.Event("zoom",ye)).fire(new i.Event("zoomend",ye)),ft&&this.fire(new i.Event("rotatestart",ye)).fire(new i.Event("rotate",ye)).fire(new i.Event("rotateend",ye)),At&&this.fire(new i.Event("pitchstart",ye)).fire(new i.Event("pitch",ye)).fire(new i.Event("pitchend",ye)),this.fire(new i.Event("moveend",ye))},Z.prototype.easeTo=function(re,ye){var Ie=this;this._stop(!1,re.easeId),re=i.extend({offset:[0,0],duration:500,easing:i.ease},re),(re.animate===!1||!re.essential&&i.browser.prefersReducedMotion)&&(re.duration=0);var Ze=this.transform,ft=this.getZoom(),At=this.getBearing(),Ht=this.getPitch(),qt=this.getPadding(),hr="zoom"in re?+re.zoom:ft,br="bearing"in re?this._normalizeBearing(re.bearing,At):At,Or="pitch"in re?+re.pitch:Ht,Yr="padding"in re?re.padding:Ze.padding,Xr=i.Point.convert(re.offset),jr=Ze.centerPoint.add(Xr),tn=Ze.pointLocation(jr),vn=i.LngLat.convert(re.center||tn);this._normalizeCenter(vn);var kn=Ze.project(tn),Gn=Ze.project(vn).sub(kn),$n=Ze.zoomScale(hr-ft),ra,ea;re.around&&(ra=i.LngLat.convert(re.around),ea=Ze.locationPoint(ra));var ha={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||hr!==ft,this._rotating=this._rotating||At!==br,this._pitching=this._pitching||Or!==Ht,this._padding=!Ze.isPaddingEqual(Yr),this._easeId=re.easeId,this._prepareEase(ye,re.noMoveStart,ha),clearTimeout(this._easeEndTimeoutID),this._ease(function(wa){if(Ie._zooming&&(Ze.zoom=i.number(ft,hr,wa)),Ie._rotating&&(Ze.bearing=i.number(At,br,wa)),Ie._pitching&&(Ze.pitch=i.number(Ht,Or,wa)),Ie._padding&&(Ze.interpolatePadding(qt,Yr,wa),jr=Ze.centerPoint.add(Xr)),ra)Ze.setLocationAtPoint(ra,ea);else{var xa=Ze.zoomScale(Ze.zoom-ft),Ea=hr>ft?Math.min(2,$n):Math.max(.5,$n),_a=Math.pow(Ea,1-wa),ja=Ze.unproject(kn.add(Gn.mult(wa*_a)).mult(xa));Ze.setLocationAtPoint(Ze.renderWorldCopies?ja.wrap():ja,jr)}Ie._fireMoveEvents(ye)},function(wa){Ie._afterEase(ye,wa)},re),this},Z.prototype._prepareEase=function(re,ye,Ie){Ie===void 0&&(Ie={}),this._moving=!0,!ye&&!Ie.moving&&this.fire(new i.Event("movestart",re)),this._zooming&&!Ie.zooming&&this.fire(new i.Event("zoomstart",re)),this._rotating&&!Ie.rotating&&this.fire(new i.Event("rotatestart",re)),this._pitching&&!Ie.pitching&&this.fire(new i.Event("pitchstart",re))},Z.prototype._fireMoveEvents=function(re){this.fire(new i.Event("move",re)),this._zooming&&this.fire(new i.Event("zoom",re)),this._rotating&&this.fire(new i.Event("rotate",re)),this._pitching&&this.fire(new i.Event("pitch",re))},Z.prototype._afterEase=function(re,ye){if(!(this._easeId&&ye&&this._easeId===ye)){delete this._easeId;var Ie=this._zooming,Ze=this._rotating,ft=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Ie&&this.fire(new i.Event("zoomend",re)),Ze&&this.fire(new i.Event("rotateend",re)),ft&&this.fire(new i.Event("pitchend",re)),this.fire(new i.Event("moveend",re))}},Z.prototype.flyTo=function(re,ye){var Ie=this;if(!re.essential&&i.browser.prefersReducedMotion){var Ze=i.pick(re,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ze,ye)}this.stop(),re=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},re);var ft=this.transform,At=this.getZoom(),Ht=this.getBearing(),qt=this.getPitch(),hr=this.getPadding(),br="zoom"in re?i.clamp(+re.zoom,ft.minZoom,ft.maxZoom):At,Or="bearing"in re?this._normalizeBearing(re.bearing,Ht):Ht,Yr="pitch"in re?+re.pitch:qt,Xr="padding"in re?re.padding:ft.padding,jr=ft.zoomScale(br-At),tn=i.Point.convert(re.offset),vn=ft.centerPoint.add(tn),kn=ft.pointLocation(vn),Gn=i.LngLat.convert(re.center||kn);this._normalizeCenter(Gn);var $n=ft.project(kn),ra=ft.project(Gn).sub($n),ea=re.curve,ha=Math.max(ft.width,ft.height),wa=ha/jr,xa=ra.mag();if("minZoom"in re){var Ea=i.clamp(Math.min(re.minZoom,At,br),ft.minZoom,ft.maxZoom),_a=ha/ft.zoomScale(Ea-At);ea=Math.sqrt(_a/xa*2)}var ja=ea*ea;function ti(ni){var Ai=(wa*wa-ha*ha+(ni?-1:1)*ja*ja*xa*xa)/(2*(ni?wa:ha)*ja*xa);return Math.log(Math.sqrt(Ai*Ai+1)-Ai)}function ki(ni){return(Math.exp(ni)-Math.exp(-ni))/2}function li(ni){return(Math.exp(ni)+Math.exp(-ni))/2}function mi(ni){return ki(ni)/li(ni)}var Ua=ti(0),Ii=function(ni){return li(Ua)/li(Ua+ea*ni)},Ni=function(ni){return ha*((li(Ua)*mi(Ua+ea*ni)-ki(Ua))/ja)/xa},Ui=(ti(1)-Ua)/ea;if(Math.abs(xa)<1e-6||!isFinite(Ui)){if(Math.abs(ha-wa)<1e-6)return this.easeTo(re,ye);var bi=wa<ha?-1:1;Ui=Math.abs(Math.log(wa/ha))/ea,Ni=function(){return 0},Ii=function(ni){return Math.exp(bi*ea*ni)}}if("duration"in re)re.duration=+re.duration;else{var $i="screenSpeed"in re?+re.screenSpeed/ea:+re.speed;re.duration=1e3*Ui/$i}return re.maxDuration&&re.duration>re.maxDuration&&(re.duration=0),this._zooming=!0,this._rotating=Ht!==Or,this._pitching=Yr!==qt,this._padding=!ft.isPaddingEqual(Xr),this._prepareEase(ye,!1),this._ease(function(ni){var Ai=ni*Ui,Io=1/Ii(Ai);ft.zoom=ni===1?br:At+ft.scaleZoom(Io),Ie._rotating&&(ft.bearing=i.number(Ht,Or,ni)),Ie._pitching&&(ft.pitch=i.number(qt,Yr,ni)),Ie._padding&&(ft.interpolatePadding(hr,Xr,ni),vn=ft.centerPoint.add(tn));var qo=ni===1?Gn:ft.unproject($n.add(ra.mult(Ni(Ai))).mult(Io));ft.setLocationAtPoint(ft.renderWorldCopies?qo.wrap():qo,vn),Ie._fireMoveEvents(ye)},function(){return Ie._afterEase(ye)},re),this},Z.prototype.isEasing=function(){return!!this._easeFrameId},Z.prototype.stop=function(){return this._stop()},Z.prototype._stop=function(re,ye){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Ie=this._onEaseEnd;delete this._onEaseEnd,Ie.call(this,ye)}if(!re){var Ze=this.handlers;Ze&&Ze.stop()}return this},Z.prototype._ease=function(re,ye,Ie){Ie.animate===!1||Ie.duration===0?(re(1),ye()):(this._easeStart=i.browser.now(),this._easeOptions=Ie,this._onEaseFrame=re,this._onEaseEnd=ye,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},Z.prototype._renderFrameCallback=function(){var re=Math.min((i.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(re)),re<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},Z.prototype._normalizeBearing=function(re,ye){re=i.wrap(re,-180,180);var Ie=Math.abs(re-ye);return Math.abs(re-360-ye)<Ie&&(re-=360),Math.abs(re+360-ye)<Ie&&(re+=360),re},Z.prototype._normalizeCenter=function(re){var ye=this.transform;if(!(!ye.renderWorldCopies||ye.lngRange)){var Ie=re.lng-ye.center.lng;re.lng+=Ie>180?-360:Ie<-180?360:0}},Z}(i.Evented),Ys=function(Z){Z===void 0&&(Z={}),this.options=Z,i.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Ys.prototype.getDefaultPosition=function(){return"bottom-right"},Ys.prototype.onAdd=function(Z){var ge=this.options&&this.options.compact;return this._map=Z,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=T.create("div","mapboxgl-ctrl-attrib-inner",this._container),ge&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),ge===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ys.prototype.onRemove=function(){T.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ys.prototype._updateEditLink=function(){var Z=this._editLink;Z||(Z=this._editLink=this._container.querySelector(".mapbox-improve-map"));var ge=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||i.config.ACCESS_TOKEN}];if(Z){var re=ge.reduce(function(ye,Ie,Ze){return Ie.value&&(ye+=Ie.key+"="+Ie.value+(Ze<ge.length-1?"&":"")),ye},"?");Z.href=i.config.FEEDBACK_URL+"/"+re+(this._map._hash?this._map._hash.getHashString(!0):""),Z.rel="noopener nofollow"}},Ys.prototype._updateData=function(Z){Z&&(Z.sourceDataType==="metadata"||Z.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},Ys.prototype._updateAttributions=function(){if(this._map.style){var Z=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?Z=Z.concat(this.options.customAttribution.map(function(At){return typeof At!="string"?"":At})):typeof this.options.customAttribution=="string"&&Z.push(this.options.customAttribution)),this._map.style.stylesheet){var ge=this._map.style.stylesheet;this.styleOwner=ge.owner,this.styleId=ge.id}var re=this._map.style.sourceCaches;for(var ye in re){var Ie=re[ye];if(Ie.used){var Ze=Ie.getSource();Ze.attribution&&Z.indexOf(Ze.attribution)<0&&Z.push(Ze.attribution)}}Z.sort(function(At,Ht){return At.length-Ht.length}),Z=Z.filter(function(At,Ht){for(var qt=Ht+1;qt<Z.length;qt++)if(Z[qt].indexOf(At)>=0)return!1;return!0});var ft=Z.join(" | ");ft!==this._attribHTML&&(this._attribHTML=ft,Z.length?(this._innerContainer.innerHTML=ft,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ys.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var yi=function(){i.bindAll(["_updateLogo"],this),i.bindAll(["_updateCompact"],this)};yi.prototype.onAdd=function(Z){this._map=Z,this._container=T.create("div","mapboxgl-ctrl");var ge=T.create("a","mapboxgl-ctrl-logo");return ge.target="_blank",ge.rel="noopener nofollow",ge.href="https://www.mapbox.com/",ge.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ge.setAttribute("rel","noopener nofollow"),this._container.appendChild(ge),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},yi.prototype.onRemove=function(){T.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},yi.prototype.getDefaultPosition=function(){return"bottom-left"},yi.prototype._updateLogo=function(Z){(!Z||Z.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},yi.prototype._logoRequired=function(){if(this._map.style){var Z=this._map.style.sourceCaches;for(var ge in Z){var re=Z[ge].getSource();if(re.mapbox_logo)return!0}return!1}},yi.prototype._updateCompact=function(){var Z=this._container.children;if(Z.length){var ge=Z[0];this._map.getCanvasContainer().offsetWidth<250?ge.classList.add("mapboxgl-compact"):ge.classList.remove("mapboxgl-compact")}};var Qi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Qi.prototype.add=function(Z){var ge=++this._id,re=this._queue;return re.push({callback:Z,id:ge,cancelled:!1}),ge},Qi.prototype.remove=function(Z){for(var ge=this._currentlyRunning,re=ge?this._queue.concat(ge):this._queue,ye=0,Ie=re;ye<Ie.length;ye+=1){var Ze=Ie[ye];if(Ze.id===Z){Ze.cancelled=!0;return}}},Qi.prototype.run=function(Z){Z===void 0&&(Z=0);var ge=this._currentlyRunning=this._queue;this._queue=[];for(var re=0,ye=ge;re<ye.length;re+=1){var Ie=ye[re];if(!Ie.cancelled&&(Ie.callback(Z),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Qi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var ih={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Cc=i.window.HTMLImageElement,Gh=i.window.HTMLElement,$f=i.window.ImageBitmap,oh=-2,mv=22,sl=0,qf=60,Nd={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:oh,maxZoom:mv,minPitch:sl,maxPitch:qf,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Bd=function(de){function Z(re){var ye=this;if(re=i.extend({},Nd,re),re.minZoom!=null&&re.maxZoom!=null&&re.minZoom>re.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(re.minPitch!=null&&re.maxPitch!=null&&re.minPitch>re.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(re.minPitch!=null&&re.minPitch<sl)throw new Error("minPitch must be greater than or equal to "+sl);if(re.maxPitch!=null&&re.maxPitch>qf)throw new Error("maxPitch must be less than or equal to "+qf);var Ie=new Cn(re.minZoom,re.maxZoom,re.minPitch,re.maxPitch,re.renderWorldCopies);if(de.call(this,Ie,re),this._interactive=re.interactive,this._maxTileCacheSize=re.maxTileCacheSize,this._failIfMajorPerformanceCaveat=re.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=re.preserveDrawingBuffer,this._antialias=re.antialias,this._trackResize=re.trackResize,this._bearingSnap=re.bearingSnap,this._refreshExpiredTiles=re.refreshExpiredTiles,this._fadeDuration=re.fadeDuration,this._crossSourceCollisions=re.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=re.collectResourceTiming,this._renderTaskQueue=new Qi,this._controls=[],this._mapId=i.uniqueId(),this._locale=i.extend({},ih,re.locale),this._requestManager=new i.RequestManager(re.transformRequest,re.accessToken),typeof re.container=="string"){if(this._container=i.window.document.getElementById(re.container),!this._container)throw new Error("Container '"+re.container+"' not found.")}else if(re.container instanceof Gh)this._container=re.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(re.maxBounds&&this.setMaxBounds(re.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ye._update(!1)}),this.on("moveend",function(){return ye._update(!1)}),this.on("zoom",function(){return ye._update(!0)}),typeof i.window<"u"&&(i.window.addEventListener("online",this._onWindowOnline,!1),i.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new ji(this,re);var Ze=typeof re.hash=="string"&&re.hash||void 0;this._hash=re.hash&&new Ba(Ze).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:re.center,zoom:re.zoom,bearing:re.bearing,pitch:re.pitch}),re.bounds&&(this.resize(),this.fitBounds(re.bounds,i.extend({},re.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=re.localIdeographFontFamily,re.style&&this.setStyle(re.style,{localIdeographFontFamily:re.localIdeographFontFamily}),re.attributionControl&&this.addControl(new Ys({customAttribution:re.customAttribution})),this.addControl(new yi,re.logoPosition),this.on("style.load",function(){ye.transform.unmodified&&ye.jumpTo(ye.style.stylesheet)}),this.on("data",function(ft){ye._update(ft.dataType==="style"),ye.fire(new i.Event(ft.dataType+"data",ft))}),this.on("dataloading",function(ft){ye.fire(new i.Event(ft.dataType+"dataloading",ft))})}de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z;var ge={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return Z.prototype._getMapId=function(){return this._mapId},Z.prototype.addControl=function(ye,Ie){if(Ie===void 0&&ye.getDefaultPosition&&(Ie=ye.getDefaultPosition()),Ie===void 0&&(Ie="top-right"),!ye||!ye.onAdd)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ze=ye.onAdd(this);this._controls.push(ye);var ft=this._controlPositions[Ie];return Ie.indexOf("bottom")!==-1?ft.insertBefore(Ze,ft.firstChild):ft.appendChild(Ze),this},Z.prototype.removeControl=function(ye){if(!ye||!ye.onRemove)return this.fire(new i.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Ie=this._controls.indexOf(ye);return Ie>-1&&this._controls.splice(Ie,1),ye.onRemove(this),this},Z.prototype.resize=function(ye){var Ie=this._containerDimensions(),Ze=Ie[0],ft=Ie[1];this._resizeCanvas(Ze,ft),this.transform.resize(Ze,ft),this.painter.resize(Ze,ft);var At=!this._moving;return At&&(this.stop(),this.fire(new i.Event("movestart",ye)).fire(new i.Event("move",ye))),this.fire(new i.Event("resize",ye)),At&&this.fire(new i.Event("moveend",ye)),this},Z.prototype.getBounds=function(){return this.transform.getBounds()},Z.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},Z.prototype.setMaxBounds=function(ye){return this.transform.setMaxBounds(i.LngLatBounds.convert(ye)),this._update()},Z.prototype.setMinZoom=function(ye){if(ye=ye??oh,ye>=oh&&ye<=this.transform.maxZoom)return this.transform.minZoom=ye,this._update(),this.getZoom()<ye&&this.setZoom(ye),this;throw new Error("minZoom must be between "+oh+" and the current maxZoom, inclusive")},Z.prototype.getMinZoom=function(){return this.transform.minZoom},Z.prototype.setMaxZoom=function(ye){if(ye=ye??mv,ye>=this.transform.minZoom)return this.transform.maxZoom=ye,this._update(),this.getZoom()>ye&&this.setZoom(ye),this;throw new Error("maxZoom must be greater than the current minZoom")},Z.prototype.getMaxZoom=function(){return this.transform.maxZoom},Z.prototype.setMinPitch=function(ye){if(ye=ye??sl,ye<sl)throw new Error("minPitch must be greater than or equal to "+sl);if(ye>=sl&&ye<=this.transform.maxPitch)return this.transform.minPitch=ye,this._update(),this.getPitch()<ye&&this.setPitch(ye),this;throw new Error("minPitch must be between "+sl+" and the current maxPitch, inclusive")},Z.prototype.getMinPitch=function(){return this.transform.minPitch},Z.prototype.setMaxPitch=function(ye){if(ye=ye??qf,ye>qf)throw new Error("maxPitch must be less than or equal to "+qf);if(ye>=this.transform.minPitch)return this.transform.maxPitch=ye,this._update(),this.getPitch()>ye&&this.setPitch(ye),this;throw new Error("maxPitch must be greater than the current minPitch")},Z.prototype.getMaxPitch=function(){return this.transform.maxPitch},Z.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},Z.prototype.setRenderWorldCopies=function(ye){return this.transform.renderWorldCopies=ye,this._update()},Z.prototype.project=function(ye){return this.transform.locationPoint(i.LngLat.convert(ye))},Z.prototype.unproject=function(ye){return this.transform.pointLocation(i.Point.convert(ye))},Z.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},Z.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},Z.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},Z.prototype._createDelegatedListener=function(ye,Ie,Ze){var ft=this,At;if(ye==="mouseenter"||ye==="mouseover"){var Ht=!1,qt=function(jr){var tn=ft.getLayer(Ie)?ft.queryRenderedFeatures(jr.point,{layers:[Ie]}):[];tn.length?Ht||(Ht=!0,Ze.call(ft,new Ve(ye,ft,jr.originalEvent,{features:tn}))):Ht=!1},hr=function(){Ht=!1};return{layer:Ie,listener:Ze,delegates:{mousemove:qt,mouseout:hr}}}else if(ye==="mouseleave"||ye==="mouseout"){var br=!1,Or=function(jr){var tn=ft.getLayer(Ie)?ft.queryRenderedFeatures(jr.point,{layers:[Ie]}):[];tn.length?br=!0:br&&(br=!1,Ze.call(ft,new Ve(ye,ft,jr.originalEvent)))},Yr=function(jr){br&&(br=!1,Ze.call(ft,new Ve(ye,ft,jr.originalEvent)))};return{layer:Ie,listener:Ze,delegates:{mousemove:Or,mouseout:Yr}}}else{var Xr=function(jr){var tn=ft.getLayer(Ie)?ft.queryRenderedFeatures(jr.point,{layers:[Ie]}):[];tn.length&&(jr.features=tn,Ze.call(ft,jr),delete jr.features)};return{layer:Ie,listener:Ze,delegates:(At={},At[ye]=Xr,At)}}},Z.prototype.on=function(ye,Ie,Ze){if(Ze===void 0)return de.prototype.on.call(this,ye,Ie);var ft=this._createDelegatedListener(ye,Ie,Ze);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ye]=this._delegatedListeners[ye]||[],this._delegatedListeners[ye].push(ft);for(var At in ft.delegates)this.on(At,ft.delegates[At]);return this},Z.prototype.once=function(ye,Ie,Ze){if(Ze===void 0)return de.prototype.once.call(this,ye,Ie);var ft=this._createDelegatedListener(ye,Ie,Ze);for(var At in ft.delegates)this.once(At,ft.delegates[At]);return this},Z.prototype.off=function(ye,Ie,Ze){var ft=this;if(Ze===void 0)return de.prototype.off.call(this,ye,Ie);var At=function(Ht){for(var qt=Ht[ye],hr=0;hr<qt.length;hr++){var br=qt[hr];if(br.layer===Ie&&br.listener===Ze){for(var Or in br.delegates)ft.off(Or,br.delegates[Or]);return qt.splice(hr,1),ft}}};return this._delegatedListeners&&this._delegatedListeners[ye]&&At(this._delegatedListeners),this},Z.prototype.queryRenderedFeatures=function(ye,Ie){if(!this.style)return[];Ie===void 0&&ye!==void 0&&!(ye instanceof i.Point)&&!Array.isArray(ye)&&(Ie=ye,ye=void 0),Ie=Ie||{},ye=ye||[[0,0],[this.transform.width,this.transform.height]];var Ze;if(ye instanceof i.Point||typeof ye[0]=="number")Ze=[i.Point.convert(ye)];else{var ft=i.Point.convert(ye[0]),At=i.Point.convert(ye[1]);Ze=[ft,new i.Point(At.x,ft.y),At,new i.Point(ft.x,At.y),ft]}return this.style.queryRenderedFeatures(Ze,Ie,this.transform)},Z.prototype.querySourceFeatures=function(ye,Ie){return this.style.querySourceFeatures(ye,Ie)},Z.prototype.setStyle=function(ye,Ie){return Ie=i.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Ie),Ie.diff!==!1&&Ie.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ye?(this._diffStyle(ye,Ie),this):(this._localIdeographFontFamily=Ie.localIdeographFontFamily,this._updateStyle(ye,Ie))},Z.prototype._getUIString=function(ye){var Ie=this._locale[ye];if(Ie==null)throw new Error("Missing UI string '"+ye+"'");return Ie},Z.prototype._updateStyle=function(ye,Ie){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ye)this.style=new Go(this,Ie||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ye=="string"?this.style.loadURL(ye):this.style.loadJSON(ye),this},Z.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Go(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},Z.prototype._diffStyle=function(ye,Ie){var Ze=this;if(typeof ye=="string"){var ft=this._requestManager.normalizeStyleURL(ye),At=this._requestManager.transformRequest(ft,i.ResourceType.Style);i.getJSON(At,function(Ht,qt){Ht?Ze.fire(new i.ErrorEvent(Ht)):qt&&Ze._updateDiff(qt,Ie)})}else typeof ye=="object"&&this._updateDiff(ye,Ie)},Z.prototype._updateDiff=function(ye,Ie){try{this.style.setState(ye)&&this._update(!0)}catch(Ze){i.warnOnce("Unable to perform style diff: "+(Ze.message||Ze.error||Ze)+".  Rebuilding the style from scratch."),this._updateStyle(ye,Ie)}},Z.prototype.getStyle=function(){if(this.style)return this.style.serialize()},Z.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},Z.prototype.addSource=function(ye,Ie){return this._lazyInitEmptyStyle(),this.style.addSource(ye,Ie),this._update(!0)},Z.prototype.isSourceLoaded=function(ye){var Ie=this.style&&this.style.sourceCaches[ye];if(Ie===void 0){this.fire(new i.ErrorEvent(new Error("There is no source with ID '"+ye+"'")));return}return Ie.loaded()},Z.prototype.areTilesLoaded=function(){var ye=this.style&&this.style.sourceCaches;for(var Ie in ye){var Ze=ye[Ie],ft=Ze._tiles;for(var At in ft){var Ht=ft[At];if(!(Ht.state==="loaded"||Ht.state==="errored"))return!1}}return!0},Z.prototype.addSourceType=function(ye,Ie,Ze){return this._lazyInitEmptyStyle(),this.style.addSourceType(ye,Ie,Ze)},Z.prototype.removeSource=function(ye){return this.style.removeSource(ye),this._update(!0)},Z.prototype.getSource=function(ye){return this.style.getSource(ye)},Z.prototype.addImage=function(ye,Ie,Ze){Ze===void 0&&(Ze={});var ft=Ze.pixelRatio;ft===void 0&&(ft=1);var At=Ze.sdf;At===void 0&&(At=!1);var Ht=Ze.stretchX,qt=Ze.stretchY,hr=Ze.content;this._lazyInitEmptyStyle();var br=0;if(Ie instanceof Cc||$f&&Ie instanceof $f){var Or=i.browser.getImageData(Ie),Yr=Or.width,Xr=Or.height,jr=Or.data;this.style.addImage(ye,{data:new i.RGBAImage({width:Yr,height:Xr},jr),pixelRatio:ft,stretchX:Ht,stretchY:qt,content:hr,sdf:At,version:br})}else{if(Ie.width===void 0||Ie.height===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var tn=Ie.width,vn=Ie.height,kn=Ie.data,Gn=Ie;this.style.addImage(ye,{data:new i.RGBAImage({width:tn,height:vn},new Uint8Array(kn)),pixelRatio:ft,stretchX:Ht,stretchY:qt,content:hr,sdf:At,version:br,userImage:Gn}),Gn.onAdd&&Gn.onAdd(this,ye)}},Z.prototype.updateImage=function(ye,Ie){var Ze=this.style.getImage(ye);if(!Ze)return this.fire(new i.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ft=Ie instanceof Cc||$f&&Ie instanceof $f?i.browser.getImageData(Ie):Ie,At=ft.width,Ht=ft.height,qt=ft.data;if(At===void 0||Ht===void 0)return this.fire(new i.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(At!==Ze.data.width||Ht!==Ze.data.height)return this.fire(new i.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var hr=!(Ie instanceof Cc||$f&&Ie instanceof $f);Ze.data.replace(qt,hr),this.style.updateImage(ye,Ze)},Z.prototype.hasImage=function(ye){return ye?!!this.style.getImage(ye):(this.fire(new i.ErrorEvent(new Error("Missing required image id"))),!1)},Z.prototype.removeImage=function(ye){this.style.removeImage(ye)},Z.prototype.loadImage=function(ye,Ie){i.getImage(this._requestManager.transformRequest(ye,i.ResourceType.Image),Ie)},Z.prototype.listImages=function(){return this.style.listImages()},Z.prototype.addLayer=function(ye,Ie){return this._lazyInitEmptyStyle(),this.style.addLayer(ye,Ie),this._update(!0)},Z.prototype.moveLayer=function(ye,Ie){return this.style.moveLayer(ye,Ie),this._update(!0)},Z.prototype.removeLayer=function(ye){return this.style.removeLayer(ye),this._update(!0)},Z.prototype.getLayer=function(ye){return this.style.getLayer(ye)},Z.prototype.setLayerZoomRange=function(ye,Ie,Ze){return this.style.setLayerZoomRange(ye,Ie,Ze),this._update(!0)},Z.prototype.setFilter=function(ye,Ie,Ze){return Ze===void 0&&(Ze={}),this.style.setFilter(ye,Ie,Ze),this._update(!0)},Z.prototype.getFilter=function(ye){return this.style.getFilter(ye)},Z.prototype.setPaintProperty=function(ye,Ie,Ze,ft){return ft===void 0&&(ft={}),this.style.setPaintProperty(ye,Ie,Ze,ft),this._update(!0)},Z.prototype.getPaintProperty=function(ye,Ie){return this.style.getPaintProperty(ye,Ie)},Z.prototype.setLayoutProperty=function(ye,Ie,Ze,ft){return ft===void 0&&(ft={}),this.style.setLayoutProperty(ye,Ie,Ze,ft),this._update(!0)},Z.prototype.getLayoutProperty=function(ye,Ie){return this.style.getLayoutProperty(ye,Ie)},Z.prototype.setLight=function(ye,Ie){return Ie===void 0&&(Ie={}),this._lazyInitEmptyStyle(),this.style.setLight(ye,Ie),this._update(!0)},Z.prototype.getLight=function(){return this.style.getLight()},Z.prototype.setFeatureState=function(ye,Ie){return this.style.setFeatureState(ye,Ie),this._update()},Z.prototype.removeFeatureState=function(ye,Ie){return this.style.removeFeatureState(ye,Ie),this._update()},Z.prototype.getFeatureState=function(ye){return this.style.getFeatureState(ye)},Z.prototype.getContainer=function(){return this._container},Z.prototype.getCanvasContainer=function(){return this._canvasContainer},Z.prototype.getCanvas=function(){return this._canvas},Z.prototype._containerDimensions=function(){var ye=0,Ie=0;return this._container&&(ye=this._container.clientWidth||400,Ie=this._container.clientHeight||300),[ye,Ie]},Z.prototype._detectMissingCSS=function(){var ye=i.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ye!=="rgb(250, 128, 114)"&&i.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},Z.prototype._setupContainer=function(){var ye=this._container;ye.classList.add("mapboxgl-map");var Ie=this._missingCSSCanary=T.create("div","mapboxgl-canary",ye);Ie.style.visibility="hidden",this._detectMissingCSS();var Ze=this._canvasContainer=T.create("div","mapboxgl-canvas-container",ye);this._interactive&&Ze.classList.add("mapboxgl-interactive"),this._canvas=T.create("canvas","mapboxgl-canvas",Ze),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var ft=this._containerDimensions();this._resizeCanvas(ft[0],ft[1]);var At=this._controlContainer=T.create("div","mapboxgl-control-container",ye),Ht=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(qt){Ht[qt]=T.create("div","mapboxgl-ctrl-"+qt,At)})},Z.prototype._resizeCanvas=function(ye,Ie){var Ze=i.browser.devicePixelRatio||1;this._canvas.width=Ze*ye,this._canvas.height=Ze*Ie,this._canvas.style.width=ye+"px",this._canvas.style.height=Ie+"px"},Z.prototype._setupPainter=function(){var ye=i.extend({},L.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Ie=this._canvas.getContext("webgl",ye)||this._canvas.getContext("experimental-webgl",ye);if(!Ie){this.fire(new i.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new kr(Ie,this.transform),i.webpSupported.testSupport(Ie)},Z.prototype._contextLost=function(ye){ye.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new i.Event("webglcontextlost",{originalEvent:ye}))},Z.prototype._contextRestored=function(ye){this._setupPainter(),this.resize(),this._update(),this.fire(new i.Event("webglcontextrestored",{originalEvent:ye}))},Z.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},Z.prototype._update=function(ye){return this.style?(this._styleDirty=this._styleDirty||ye,this._sourcesDirty=!0,this.triggerRepaint(),this):this},Z.prototype._requestRenderFrame=function(ye){return this._update(),this._renderTaskQueue.add(ye)},Z.prototype._cancelRenderFrame=function(ye){this._renderTaskQueue.remove(ye)},Z.prototype._render=function(ye){var Ie=this,Ze,ft=0,At=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Ze=At.createQueryEXT(),At.beginQueryEXT(At.TIME_ELAPSED_EXT,Ze),ft=i.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ye),!this._removed){var Ht=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var qt=this.transform.zoom,hr=i.browser.now();this.style.zoomHistory.update(qt,hr);var br=new i.EvaluationParameters(qt,{now:hr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Or=br.crossFadingFactor();(Or!==1||Or!==this._crossFadingFactor)&&(Ht=!0,this._crossFadingFactor=Or),this.style.update(br)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new i.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new i.Event("load"))),this.style&&(this.style.hasTransitions()||Ht)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Yr=i.browser.now()-ft;At.endQueryEXT(At.TIME_ELAPSED_EXT,Ze),setTimeout(function(){var tn=At.getQueryObjectEXT(Ze,At.QUERY_RESULT_EXT)/1e6;At.deleteQueryEXT(Ze),Ie.fire(new i.Event("gpu-timing-frame",{cpuTime:Yr,gpuTime:tn}))},50)}if(this.listens("gpu-timing-layer")){var Xr=this.painter.collectGpuTimers();setTimeout(function(){var tn=Ie.painter.queryGpuTimers(Xr);Ie.fire(new i.Event("gpu-timing-layer",{layerTimes:tn}))},50)}var jr=this._sourcesDirty||this._styleDirty||this._placementDirty;return jr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new i.Event("idle"))),this}},Z.prototype.remove=function(){this._hash&&this._hash.remove();for(var ye=0,Ie=this._controls;ye<Ie.length;ye+=1){var Ze=Ie[ye];Ze.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof i.window<"u"&&(i.window.removeEventListener("resize",this._onWindowResize,!1),i.window.removeEventListener("online",this._onWindowOnline,!1));var ft=this.painter.context.gl.getExtension("WEBGL_lose_context");ft&&ft.loseContext(),Wh(this._canvasContainer),Wh(this._controlContainer),Wh(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new i.Event("remove"))},Z.prototype.triggerRepaint=function(){var ye=this;this.style&&!this._frame&&(this._frame=i.browser.frame(function(Ie){ye._frame=null,ye._render(Ie)}))},Z.prototype._onWindowOnline=function(){this._update()},Z.prototype._onWindowResize=function(ye){this._trackResize&&this.resize({originalEvent:ye})._update()},ge.showTileBoundaries.get=function(){return!!this._showTileBoundaries},ge.showTileBoundaries.set=function(re){this._showTileBoundaries!==re&&(this._showTileBoundaries=re,this._update())},ge.showPadding.get=function(){return!!this._showPadding},ge.showPadding.set=function(re){this._showPadding!==re&&(this._showPadding=re,this._update())},ge.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},ge.showCollisionBoxes.set=function(re){this._showCollisionBoxes!==re&&(this._showCollisionBoxes=re,re?this.style._generateCollisionBoxes():this._update())},ge.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},ge.showOverdrawInspector.set=function(re){this._showOverdrawInspector!==re&&(this._showOverdrawInspector=re,this._update())},ge.repaint.get=function(){return!!this._repaint},ge.repaint.set=function(re){this._repaint!==re&&(this._repaint=re,this.triggerRepaint())},ge.vertices.get=function(){return!!this._vertices},ge.vertices.set=function(re){this._vertices=re,this._update()},Z.prototype._setCacheLimits=function(ye,Ie){i.setCacheLimits(ye,Ie)},ge.version.get=function(){return i.version},Object.defineProperties(Z.prototype,ge),Z}(Ml);function Wh(de){de.parentNode&&de.parentNode.removeChild(de)}var xv={showCompass:!0,showZoom:!0,visualizePitch:!1},Ef=function(Z){var ge=this;this.options=i.extend({},xv,Z),this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(re){return re.preventDefault()}),this.options.showZoom&&(i.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(re){return ge._map.zoomIn({},{originalEvent:re})}),T.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(re){return ge._map.zoomOut({},{originalEvent:re})}),T.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(re){ge.options.visualizePitch?ge._map.resetNorthPitch({},{originalEvent:re}):ge._map.resetNorth({},{originalEvent:re})}),this._compassIcon=T.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Ef.prototype._updateZoomButtons=function(){var Z=this._map.getZoom();this._zoomInButton.disabled=Z===this._map.getMaxZoom(),this._zoomOutButton.disabled=Z===this._map.getMinZoom()},Ef.prototype._rotateCompassArrow=function(){var Z=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=Z},Ef.prototype.onAdd=function(Z){return this._map=Z,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Sl(this._map,this._compass,this.options.visualizePitch)),this._container},Ef.prototype.onRemove=function(){T.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Ef.prototype._createButton=function(Z,ge){var re=T.create("button",Z,this._container);return re.type="button",re.addEventListener("click",ge),re},Ef.prototype._setButtonTitle=function(Z,ge){var re=this._map._getUIString("NavigationControl."+ge);Z.title=re,Z.setAttribute("aria-label",re)};var Sl=function(Z,ge,re){re===void 0&&(re=!1),this._clickTolerance=10,this.element=ge,this.mouseRotate=new $r({clickTolerance:Z.dragRotate._mouseRotate._clickTolerance}),this.map=Z,re&&(this.mousePitch=new Yn({clickTolerance:Z.dragRotate._mousePitch._clickTolerance})),i.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),T.addEventListener(ge,"mousedown",this.mousedown),T.addEventListener(ge,"touchstart",this.touchstart,{passive:!1}),T.addEventListener(ge,"touchmove",this.touchmove),T.addEventListener(ge,"touchend",this.touchend),T.addEventListener(ge,"touchcancel",this.reset)};Sl.prototype.down=function(Z,ge){this.mouseRotate.mousedown(Z,ge),this.mousePitch&&this.mousePitch.mousedown(Z,ge),T.disableDrag()},Sl.prototype.move=function(Z,ge){var re=this.map,ye=this.mouseRotate.mousemoveWindow(Z,ge);if(ye&&ye.bearingDelta&&re.setBearing(re.getBearing()+ye.bearingDelta),this.mousePitch){var Ie=this.mousePitch.mousemoveWindow(Z,ge);Ie&&Ie.pitchDelta&&re.setPitch(re.getPitch()+Ie.pitchDelta)}},Sl.prototype.off=function(){var Z=this.element;T.removeEventListener(Z,"mousedown",this.mousedown),T.removeEventListener(Z,"touchstart",this.touchstart,{passive:!1}),T.removeEventListener(Z,"touchmove",this.touchmove),T.removeEventListener(Z,"touchend",this.touchend),T.removeEventListener(Z,"touchcancel",this.reset),this.offTemp()},Sl.prototype.offTemp=function(){T.enableDrag(),T.removeEventListener(i.window,"mousemove",this.mousemove),T.removeEventListener(i.window,"mouseup",this.mouseup)},Sl.prototype.mousedown=function(Z){this.down(i.extend({},Z,{ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}}),T.mousePos(this.element,Z)),T.addEventListener(i.window,"mousemove",this.mousemove),T.addEventListener(i.window,"mouseup",this.mouseup)},Sl.prototype.mousemove=function(Z){this.move(Z,T.mousePos(this.element,Z))},Sl.prototype.mouseup=function(Z){this.mouseRotate.mouseupWindow(Z),this.mousePitch&&this.mousePitch.mouseupWindow(Z),this.offTemp()},Sl.prototype.touchstart=function(Z){Z.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=T.touchPos(this.element,Z.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return Z.preventDefault()}},this._startPos))},Sl.prototype.touchmove=function(Z){Z.targetTouches.length!==1?this.reset():(this._lastPos=T.touchPos(this.element,Z.targetTouches)[0],this.move({preventDefault:function(){return Z.preventDefault()}},this._lastPos))},Sl.prototype.touchend=function(Z){Z.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Sl.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Cf(de,Z,ge){if(de=new i.LngLat(de.lng,de.lat),Z){var re=new i.LngLat(de.lng-360,de.lat),ye=new i.LngLat(de.lng+360,de.lat),Ie=ge.locationPoint(de).distSqr(Z);ge.locationPoint(re).distSqr(Z)<Ie?de=re:ge.locationPoint(ye).distSqr(Z)<Ie&&(de=ye)}for(;Math.abs(de.lng-ge.center.lng)>180;){var Ze=ge.locationPoint(de);if(Ze.x>=0&&Ze.y>=0&&Ze.x<=ge.width&&Ze.y<=ge.height)break;de.lng>ge.center.lng?de.lng-=360:de.lng+=360}return de}var jh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function bv(de,Z,ge){var re=de.classList;for(var ye in jh)re.remove("mapboxgl-"+ge+"-anchor-"+ye);re.add("mapboxgl-"+ge+"-anchor-"+Z)}var sh=function(de){function Z(ge,re){var ye=this;if(de.call(this),(ge instanceof i.window.HTMLElement||re)&&(ge=i.extend({element:ge},re)),i.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=ge&&ge.anchor||"center",this._color=ge&&ge.color||"#3FB1CE",this._draggable=ge&&ge.draggable||!1,this._state="inactive",this._rotation=ge&&ge.rotation||0,this._rotationAlignment=ge&&ge.rotationAlignment||"auto",this._pitchAlignment=ge&&ge.pitchAlignment&&ge.pitchAlignment!=="auto"?ge.pitchAlignment:this._rotationAlignment,!ge||!ge.element){this._defaultMarker=!0,this._element=T.create("div"),this._element.setAttribute("aria-label","Map marker");var Ie=T.createNS("http://www.w3.org/2000/svg","svg");Ie.setAttributeNS(null,"display","block"),Ie.setAttributeNS(null,"height","41px"),Ie.setAttributeNS(null,"width","27px"),Ie.setAttributeNS(null,"viewBox","0 0 27 41");var Ze=T.createNS("http://www.w3.org/2000/svg","g");Ze.setAttributeNS(null,"stroke","none"),Ze.setAttributeNS(null,"stroke-width","1"),Ze.setAttributeNS(null,"fill","none"),Ze.setAttributeNS(null,"fill-rule","evenodd");var ft=T.createNS("http://www.w3.org/2000/svg","g");ft.setAttributeNS(null,"fill-rule","nonzero");var At=T.createNS("http://www.w3.org/2000/svg","g");At.setAttributeNS(null,"transform","translate(3.0, 29.0)"),At.setAttributeNS(null,"fill","#000000");for(var Ht=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],qt=0,hr=Ht;qt<hr.length;qt+=1){var br=hr[qt],Or=T.createNS("http://www.w3.org/2000/svg","ellipse");Or.setAttributeNS(null,"opacity","0.04"),Or.setAttributeNS(null,"cx","10.5"),Or.setAttributeNS(null,"cy","5.80029008"),Or.setAttributeNS(null,"rx",br.rx),Or.setAttributeNS(null,"ry",br.ry),At.appendChild(Or)}var Yr=T.createNS("http://www.w3.org/2000/svg","g");Yr.setAttributeNS(null,"fill",this._color);var Xr=T.createNS("http://www.w3.org/2000/svg","path");Xr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Yr.appendChild(Xr);var jr=T.createNS("http://www.w3.org/2000/svg","g");jr.setAttributeNS(null,"opacity","0.25"),jr.setAttributeNS(null,"fill","#000000");var tn=T.createNS("http://www.w3.org/2000/svg","path");tn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),jr.appendChild(tn);var vn=T.createNS("http://www.w3.org/2000/svg","g");vn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),vn.setAttributeNS(null,"fill","#FFFFFF");var kn=T.createNS("http://www.w3.org/2000/svg","g");kn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Gn=T.createNS("http://www.w3.org/2000/svg","circle");Gn.setAttributeNS(null,"fill","#000000"),Gn.setAttributeNS(null,"opacity","0.25"),Gn.setAttributeNS(null,"cx","5.5"),Gn.setAttributeNS(null,"cy","5.5"),Gn.setAttributeNS(null,"r","5.4999962");var $n=T.createNS("http://www.w3.org/2000/svg","circle");$n.setAttributeNS(null,"fill","#FFFFFF"),$n.setAttributeNS(null,"cx","5.5"),$n.setAttributeNS(null,"cy","5.5"),$n.setAttributeNS(null,"r","5.4999962"),kn.appendChild(Gn),kn.appendChild($n),ft.appendChild(At),ft.appendChild(Yr),ft.appendChild(jr),ft.appendChild(vn),ft.appendChild(kn),Ie.appendChild(ft),this._element.appendChild(Ie),this._offset=i.Point.convert(ge&&ge.offset||[0,-14])}else this._element=ge.element,this._offset=i.Point.convert(ge&&ge.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(ra){ra.preventDefault()}),this._element.addEventListener("mousedown",function(ra){ra.preventDefault()}),this._element.addEventListener("focus",function(){var ra=ye._map.getContainer();ra.scrollTop=0,ra.scrollLeft=0}),bv(this._element,this._anchor,"marker"),this._popup=null}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(re){return this.remove(),this._map=re,re.getCanvasContainer().appendChild(this._element),re.on("move",this._update),re.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},Z.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),T.remove(this._element),this._popup&&this._popup.remove(),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(re){return this._lngLat=i.LngLat.convert(re),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},Z.prototype.getElement=function(){return this._element},Z.prototype.setPopup=function(re){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),re){if(!("offset"in re.options)){var ye=38.1,Ie=13.5,Ze=Math.sqrt(Math.pow(Ie,2)/2);re.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ye],"bottom-left":[Ze,(ye-Ie+Ze)*-1],"bottom-right":[-Ze,(ye-Ie+Ze)*-1],left:[Ie,(ye-Ie)*-1],right:[-Ie,(ye-Ie)*-1]}:this._offset}this._popup=re,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},Z.prototype._onKeyPress=function(re){var ye=re.code,Ie=re.charCode||re.keyCode;(ye==="Space"||ye==="Enter"||Ie===32||Ie===13)&&this.togglePopup()},Z.prototype._onMapClick=function(re){var ye=re.originalEvent.target,Ie=this._element;this._popup&&(ye===Ie||Ie.contains(ye))&&this.togglePopup()},Z.prototype.getPopup=function(){return this._popup},Z.prototype.togglePopup=function(){var re=this._popup;if(re)re.isOpen()?re.remove():re.addTo(this._map);else return this;return this},Z.prototype._update=function(re){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Cf(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ye="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ye="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ye="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Ie="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Ie="rotateX(0deg)":this._pitchAlignment==="map"&&(Ie="rotateX("+this._map.getPitch()+"deg)"),(!re||re.type==="moveend")&&(this._pos=this._pos.round()),T.setTransform(this._element,jh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Ie+" "+ye)}},Z.prototype.getOffset=function(){return this._offset},Z.prototype.setOffset=function(re){return this._offset=i.Point.convert(re),this._update(),this},Z.prototype._onMove=function(re){this._pos=re.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new i.Event("dragstart"))),this.fire(new i.Event("drag"))},Z.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new i.Event("dragend")),this._state="inactive"},Z.prototype._addDragHandler=function(re){this._element.contains(re.originalEvent.target)&&(re.preventDefault(),this._positionDelta=re.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},Z.prototype.setDraggable=function(re){return this._draggable=!!re,this._map&&(re?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},Z.prototype.isDraggable=function(){return this._draggable},Z.prototype.setRotation=function(re){return this._rotation=re||0,this._update(),this},Z.prototype.getRotation=function(){return this._rotation},Z.prototype.setRotationAlignment=function(re){return this._rotationAlignment=re||"auto",this._update(),this},Z.prototype.getRotationAlignment=function(){return this._rotationAlignment},Z.prototype.setPitchAlignment=function(re){return this._pitchAlignment=re&&re!=="auto"?re:this._rotationAlignment,this._update(),this},Z.prototype.getPitchAlignment=function(){return this._pitchAlignment},Z}(i.Evented),Ud={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},ec;function Yh(de){ec!==void 0?de(ec):i.window.navigator.permissions!==void 0?i.window.navigator.permissions.query({name:"geolocation"}).then(function(Z){ec=Z.state!=="denied",de(ec)}):(ec=!!i.window.navigator.geolocation,de(ec))}var lh=0,tc=!1,Hd=function(de){function Z(ge){de.call(this),this.options=i.extend({},Ud,ge),i.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.onAdd=function(re){return this._map=re,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Yh(this._setupUI),this._container},Z.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),T.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,lh=0,tc=!1},Z.prototype._isOutOfMapMaxBounds=function(re){var ye=this._map.getMaxBounds(),Ie=re.coords;return ye&&(Ie.longitude<ye.getWest()||Ie.longitude>ye.getEast()||Ie.latitude<ye.getSouth()||Ie.latitude>ye.getNorth())},Z.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},Z.prototype._onSuccess=function(re){if(this._map){if(this._isOutOfMapMaxBounds(re)){this._setErrorState(),this.fire(new i.Event("outofmaxbounds",re)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=re,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(re),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(re),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("geolocate",re)),this._finish()}},Z.prototype._updateCamera=function(re){var ye=new i.LngLat(re.coords.longitude,re.coords.latitude),Ie=re.coords.accuracy,Ze=this._map.getBearing(),ft=i.extend({bearing:Ze},this.options.fitBoundsOptions);this._map.fitBounds(ye.toBounds(Ie),ft,{geolocateSource:!0})},Z.prototype._updateMarker=function(re){if(re){var ye=new i.LngLat(re.coords.longitude,re.coords.latitude);this._accuracyCircleMarker.setLngLat(ye).addTo(this._map),this._userLocationDotMarker.setLngLat(ye).addTo(this._map),this._accuracy=re.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},Z.prototype._updateCircleRadius=function(){var re=this._map._container.clientHeight/2,ye=this._map.unproject([0,re]),Ie=this._map.unproject([1,re]),Ze=ye.distanceTo(Ie),ft=Math.ceil(2*this._accuracy/Ze);this._circleElement.style.width=ft+"px",this._circleElement.style.height=ft+"px"},Z.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},Z.prototype._onError=function(re){if(this._map){if(this.options.trackUserLocation)if(re.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ye=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ye,this._geolocateButton.setAttribute("aria-label",ye),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(re.code===3&&tc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new i.Event("error",re)),this._finish()}},Z.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},Z.prototype._setupUI=function(re){var ye=this;if(this._container.addEventListener("contextmenu",function(ft){return ft.preventDefault()}),this._geolocateButton=T.create("button","mapboxgl-ctrl-geolocate",this._container),T.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",re===!1){i.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Ie=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Ie,this._geolocateButton.setAttribute("aria-label",Ie)}else{var Ze=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ze,this._geolocateButton.setAttribute("aria-label",Ze)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=T.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new sh(this._dotElement),this._circleElement=T.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new sh({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ft){var At=ft.originalEvent&&ft.originalEvent.type==="resize";!ft.geolocateSource&&ye._watchState==="ACTIVE_LOCK"&&!At&&(ye._watchState="BACKGROUND",ye._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ye._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ye.fire(new i.Event("trackuserlocationend")))})},Z.prototype.trigger=function(){if(!this._setup)return i.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":lh--,tc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new i.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),lh++;var re;lh>1?(re={maximumAge:6e5,timeout:0},tc=!0):(re=this.options.positionOptions,tc=!1),this._geolocationWatchID=i.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,re)}}else i.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},Z.prototype._clearWatch=function(){i.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},Z}(i.Evented),x0={maxWidth:100,unit:"metric"},rc=function(Z){this.options=i.extend({},x0,Z),i.bindAll(["_onMove","setUnit"],this)};rc.prototype.getDefaultPosition=function(){return"bottom-left"},rc.prototype._onMove=function(){Vd(this._map,this._container,this.options)},rc.prototype.onAdd=function(Z){return this._map=Z,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",Z.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},rc.prototype.onRemove=function(){T.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},rc.prototype.setUnit=function(Z){this.options.unit=Z,Vd(this._map,this._container,this.options)};function Vd(de,Z,ge){var re=ge&&ge.maxWidth||100,ye=de._container.clientHeight/2,Ie=de.unproject([0,ye]),Ze=de.unproject([re,ye]),ft=Ie.distanceTo(Ze);if(ge&&ge.unit==="imperial"){var At=3.2808*ft;if(At>5280){var Ht=At/5280;uh(Z,re,Ht,de._getUIString("ScaleControl.Miles"))}else uh(Z,re,At,de._getUIString("ScaleControl.Feet"))}else if(ge&&ge.unit==="nautical"){var qt=ft/1852;uh(Z,re,qt,de._getUIString("ScaleControl.NauticalMiles"))}else ft>=1e3?uh(Z,re,ft/1e3,de._getUIString("ScaleControl.Kilometers")):uh(Z,re,ft,de._getUIString("ScaleControl.Meters"))}function uh(de,Z,ge,re){var ye=w0(ge),Ie=ye/ge;de.style.width=Z*Ie+"px",de.innerHTML=ye+"&nbsp;"+re}function b0(de){var Z=Math.pow(10,Math.ceil(-Math.log(de)/Math.LN10));return Math.round(de*Z)/Z}function w0(de){var Z=Math.pow(10,(""+Math.floor(de)).length-1),ge=de/Z;return ge=ge>=10?10:ge>=5?5:ge>=3?3:ge>=2?2:ge>=1?1:b0(ge),Z*ge}var Lu=function(Z){this._fullscreen=!1,Z&&Z.container&&(Z.container instanceof i.window.HTMLElement?this._container=Z.container:i.warnOnce("Full screen control 'container' must be a DOM element.")),i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in i.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in i.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in i.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in i.window.document&&(this._fullscreenchange="MSFullscreenChange")};Lu.prototype.onAdd=function(Z){return this._map=Z,this._container||(this._container=this._map.getContainer()),this._controlContainer=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Lu.prototype.onRemove=function(){T.remove(this._controlContainer),this._map=null,i.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Lu.prototype._checkFullscreenSupport=function(){return!!(i.window.document.fullscreenEnabled||i.window.document.mozFullScreenEnabled||i.window.document.msFullscreenEnabled||i.window.document.webkitFullscreenEnabled)},Lu.prototype._setupUI=function(){var Z=this._fullscreenButton=T.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);T.create("span","mapboxgl-ctrl-icon",Z).setAttribute("aria-hidden",!0),Z.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),i.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Lu.prototype._updateTitle=function(){var Z=this._getTitle();this._fullscreenButton.setAttribute("aria-label",Z),this._fullscreenButton.title=Z},Lu.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Lu.prototype._isFullscreen=function(){return this._fullscreen},Lu.prototype._changeIcon=function(){var Z=i.window.document.fullscreenElement||i.window.document.mozFullScreenElement||i.window.document.webkitFullscreenElement||i.window.document.msFullscreenElement;Z===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Lu.prototype._onClickFullscreen=function(){this._isFullscreen()?i.window.document.exitFullscreen?i.window.document.exitFullscreen():i.window.document.mozCancelFullScreen?i.window.document.mozCancelFullScreen():i.window.document.msExitFullscreen?i.window.document.msExitFullscreen():i.window.document.webkitCancelFullScreen&&i.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var T0={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},A0=function(de){function Z(ge){de.call(this),this.options=i.extend(Object.create(T0),ge),i.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return de&&(Z.__proto__=de),Z.prototype=Object.create(de&&de.prototype),Z.prototype.constructor=Z,Z.prototype.addTo=function(re){return this._map&&this.remove(),this._map=re,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new i.Event("open")),this},Z.prototype.isOpen=function(){return!!this._map},Z.prototype.remove=function(){return this._content&&T.remove(this._content),this._container&&(T.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new i.Event("close")),this},Z.prototype.getLngLat=function(){return this._lngLat},Z.prototype.setLngLat=function(re){return this._lngLat=i.LngLat.convert(re),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},Z.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},Z.prototype.getElement=function(){return this._container},Z.prototype.setText=function(re){return this.setDOMContent(i.window.document.createTextNode(re))},Z.prototype.setHTML=function(re){var ye=i.window.document.createDocumentFragment(),Ie=i.window.document.createElement("body"),Ze;for(Ie.innerHTML=re;Ze=Ie.firstChild,!!Ze;)ye.appendChild(Ze);return this.setDOMContent(ye)},Z.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},Z.prototype.setMaxWidth=function(re){return this.options.maxWidth=re,this._update(),this},Z.prototype.setDOMContent=function(re){return this._createContent(),this._content.appendChild(re),this._update(),this},Z.prototype.addClassName=function(re){this._container&&this._container.classList.add(re)},Z.prototype.removeClassName=function(re){this._container&&this._container.classList.remove(re)},Z.prototype.toggleClassName=function(re){if(this._container)return this._container.classList.toggle(re)},Z.prototype._createContent=function(){this._content&&T.remove(this._content),this._content=T.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=T.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},Z.prototype._onMouseUp=function(re){this._update(re.point)},Z.prototype._onMouseMove=function(re){this._update(re.point)},Z.prototype._onDrag=function(re){this._update(re.point)},Z.prototype._update=function(re){var ye=this,Ie=this._lngLat||this._trackPointer;if(!(!this._map||!Ie||!this._content)&&(this._container||(this._container=T.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=T.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Or){return ye._container.classList.add(Or)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Cf(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!re))){var Ze=this._pos=this._trackPointer&&re?re:this._map.project(this._lngLat),ft=this.options.anchor,At=Gd(this.options.offset);if(!ft){var Ht=this._container.offsetWidth,qt=this._container.offsetHeight,hr;Ze.y+At.bottom.y<qt?hr=["top"]:Ze.y>this._map.transform.height-qt?hr=["bottom"]:hr=[],Ze.x<Ht/2?hr.push("left"):Ze.x>this._map.transform.width-Ht/2&&hr.push("right"),hr.length===0?ft="bottom":ft=hr.join("-")}var br=Ze.add(At[ft]).round();T.setTransform(this._container,jh[ft]+" translate("+br.x+"px,"+br.y+"px)"),bv(this._container,ft,"popup")}},Z.prototype._onClose=function(){this.remove()},Z}(i.Evented);function Gd(de){if(de)if(typeof de=="number"){var Z=Math.round(Math.sqrt(.5*Math.pow(de,2)));return{center:new i.Point(0,0),top:new i.Point(0,de),"top-left":new i.Point(Z,Z),"top-right":new i.Point(-Z,Z),bottom:new i.Point(0,-de),"bottom-left":new i.Point(Z,-Z),"bottom-right":new i.Point(-Z,-Z),left:new i.Point(de,0),right:new i.Point(-de,0)}}else if(de instanceof i.Point||Array.isArray(de)){var ge=i.Point.convert(de);return{center:ge,top:ge,"top-left":ge,"top-right":ge,bottom:ge,"bottom-left":ge,"bottom-right":ge,left:ge,right:ge}}else return{center:i.Point.convert(de.center||[0,0]),top:i.Point.convert(de.top||[0,0]),"top-left":i.Point.convert(de["top-left"]||[0,0]),"top-right":i.Point.convert(de["top-right"]||[0,0]),bottom:i.Point.convert(de.bottom||[0,0]),"bottom-left":i.Point.convert(de["bottom-left"]||[0,0]),"bottom-right":i.Point.convert(de["bottom-right"]||[0,0]),left:i.Point.convert(de.left||[0,0]),right:i.Point.convert(de.right||[0,0])};else return Gd(new i.Point(0,0))}var M0={version:i.version,supported:L,setRTLTextPlugin:i.setRTLTextPlugin,getRTLTextPluginStatus:i.getRTLTextPluginStatus,Map:Bd,NavigationControl:Ef,GeolocateControl:Hd,AttributionControl:Ys,ScaleControl:rc,FullscreenControl:Lu,Popup:A0,Marker:sh,Style:Go,LngLat:i.LngLat,LngLatBounds:i.LngLatBounds,Point:i.Point,MercatorCoordinate:i.MercatorCoordinate,Evented:i.Evented,config:i.config,prewarm:zt,clearPrewarmedResources:Xt,get accessToken(){return i.config.ACCESS_TOKEN},set accessToken(de){i.config.ACCESS_TOKEN=de},get baseApiUrl(){return i.config.API_URL},set baseApiUrl(de){i.config.API_URL=de},get workerCount(){return Cr.workerCount},set workerCount(de){Cr.workerCount=de},get maxParallelImageRequests(){return i.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(de){i.config.MAX_PARALLEL_IMAGE_REQUESTS=de},clearStorage:function(Z){i.clearTileCache(Z)},workerUrl:""};return M0}),g})},27084:function(G){G.exports=Math.log2||function(V){return Math.log(V)*Math.LOG2E}},16825:function(G,V,e){G.exports=R;var g=e(74311);function R(i,L){L||(L=i,i=window);var T=0,v=0,p=0,t={shift:!1,alt:!1,control:!1,meta:!1},r=!1;function l(A){var M=!1;return"altKey"in A&&(M=M||A.altKey!==t.alt,t.alt=!!A.altKey),"shiftKey"in A&&(M=M||A.shiftKey!==t.shift,t.shift=!!A.shiftKey),"ctrlKey"in A&&(M=M||A.ctrlKey!==t.control,t.control=!!A.ctrlKey),"metaKey"in A&&(M=M||A.metaKey!==t.meta,t.meta=!!A.metaKey),M}function n(A,M){var C=g.x(M),m=g.y(M);"buttons"in M&&(A=M.buttons|0),(A!==T||C!==v||m!==p||l(M))&&(T=A|0,v=C||0,p=m||0,L&&L(T,v,p,t))}function s(A){n(0,A)}function c(){(T||v||p||t.shift||t.alt||t.meta||t.control)&&(v=p=0,T=0,t.shift=t.alt=t.control=t.meta=!1,L&&L(0,0,0,t))}function u(A){l(A)&&L&&L(T,v,p,t)}function y(A){g.buttons(A)===0?n(0,A):n(T,A)}function h(A){n(T|g.buttons(A),A)}function b(A){n(T&~g.buttons(A),A)}function f(){r||(r=!0,i.addEventListener("mousemove",y),i.addEventListener("mousedown",h),i.addEventListener("mouseup",b),i.addEventListener("mouseleave",s),i.addEventListener("mouseenter",s),i.addEventListener("mouseout",s),i.addEventListener("mouseover",s),i.addEventListener("blur",c),i.addEventListener("keyup",u),i.addEventListener("keydown",u),i.addEventListener("keypress",u),i!==window&&(window.addEventListener("blur",c),window.addEventListener("keyup",u),window.addEventListener("keydown",u),window.addEventListener("keypress",u)))}function o(){r&&(r=!1,i.removeEventListener("mousemove",y),i.removeEventListener("mousedown",h),i.removeEventListener("mouseup",b),i.removeEventListener("mouseleave",s),i.removeEventListener("mouseenter",s),i.removeEventListener("mouseout",s),i.removeEventListener("mouseover",s),i.removeEventListener("blur",c),i.removeEventListener("keyup",u),i.removeEventListener("keydown",u),i.removeEventListener("keypress",u),i!==window&&(window.removeEventListener("blur",c),window.removeEventListener("keyup",u),window.removeEventListener("keydown",u),window.removeEventListener("keypress",u)))}f();var d={element:i};return Object.defineProperties(d,{enabled:{get:function(){return r},set:function(A){A?f():o()},enumerable:!0},buttons:{get:function(){return T},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return p},enumerable:!0},mods:{get:function(){return t},enumerable:!0}}),d}},48956:function(G){var V={left:0,top:0};G.exports=e;function e(R,i,L){i=i||R.currentTarget||R.srcElement,Array.isArray(L)||(L=[0,0]);var T=R.clientX||0,v=R.clientY||0,p=g(i);return L[0]=T-p.left,L[1]=v-p.top,L}function g(R){return R===window||R===document||R===document.body?V:R.getBoundingClientRect()}},74311:function(G,V){function e(L){if(typeof L=="object"){if("buttons"in L)return L.buttons;if("which"in L){var T=L.which;if(T===2)return 4;if(T===3)return 2;if(T>0)return 1<<T-1}else if("button"in L){var T=L.button;if(T===1)return 4;if(T===2)return 2;if(T>=0)return 1<<T}}return 0}V.buttons=e;function g(L){return L.target||L.srcElement||window}V.element=g;function R(L){if(typeof L=="object"){if("offsetX"in L)return L.offsetX;var T=g(L),v=T.getBoundingClientRect();return L.clientX-v.left}return 0}V.x=R;function i(L){if(typeof L=="object"){if("offsetY"in L)return L.offsetY;var T=g(L),v=T.getBoundingClientRect();return L.clientY-v.top}return 0}V.y=i},1195:function(G,V,e){var g=e(75686);G.exports=R;function R(i,L,T){typeof i=="function"&&(T=!!L,L=i,i=window);var v=g("ex",i),p=function(t){T&&t.preventDefault();var r=t.deltaX||0,l=t.deltaY||0,n=t.deltaZ||0,s=t.deltaMode,c=1;switch(s){case 1:c=v;break;case 2:c=window.innerHeight;break}if(r*=c,l*=c,n*=c,r||l||n)return L(r,l,n,t)};return i.addEventListener("wheel",p),p}},7417:function(G,V,e){var g;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(i,L,T){L[i]=L[i]||T(),G.exports?G.exports=L[i]:(g=function(){return L[i]}.call(V,e,V,G),g!==void 0&&(G.exports=g))})("Promise",typeof e.g<"u"?e.g:this,function(){var i,L,T,v=Object.prototype.toString,p=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),i=function(d,A,M,C){return Object.defineProperty(d,A,{value:M,writable:!0,configurable:C!==!1})}}catch{i=function(A,M,C){return A[M]=C,A}}T=function(){var d,A,M;function C(m,S){this.fn=m,this.self=S,this.next=void 0}return{add:function(S,x){M=new C(S,x),A?A.next=M:d=M,A=M,M=void 0},drain:function(){var S=d;for(d=A=L=void 0;S;)S.fn.call(S.self),S=S.next}}}();function t(o,d){T.add(o,d),L||(L=p(T.drain))}function r(o){var d,A=typeof o;return o!=null&&(A=="object"||A=="function")&&(d=o.then),typeof d=="function"?d:!1}function l(){for(var o=0;o<this.chain.length;o++)n(this,this.state===1?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function n(o,d,A){var M,C;try{d===!1?A.reject(o.msg):(d===!0?M=o.msg:M=d.call(void 0,o.msg),M===A.promise?A.reject(TypeError("Promise-chain cycle")):(C=r(M))?C.call(M,A.resolve,A.reject):A.resolve(M))}catch(m){A.reject(m)}}function s(o){var d,A=this;if(!A.triggered){A.triggered=!0,A.def&&(A=A.def);try{(d=r(o))?t(function(){var M=new y(A);try{d.call(o,function(){s.apply(M,arguments)},function(){c.apply(M,arguments)})}catch(C){c.call(M,C)}}):(A.msg=o,A.state=1,A.chain.length>0&&t(l,A))}catch(M){c.call(new y(A),M)}}}function c(o){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=o,d.state=2,d.chain.length>0&&t(l,d))}function u(o,d,A,M){for(var C=0;C<d.length;C++)(function(S){o.resolve(d[S]).then(function(a){A(S,a)},M)})(C)}function y(o){this.def=o,this.triggered=!1}function h(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function b(o){if(typeof o!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new h(this);this.then=function(M,C){var m={success:typeof M=="function"?M:!0,failure:typeof C=="function"?C:!1};return m.promise=new this.constructor(function(x,a){if(typeof x!="function"||typeof a!="function")throw TypeError("Not a function");m.resolve=x,m.reject=a}),d.chain.push(m),d.state!==0&&t(l,d),m.promise},this.catch=function(M){return this.then(void 0,M)};try{o.call(void 0,function(M){s.call(d,M)},function(M){c.call(d,M)})}catch(A){c.call(d,A)}}var f=i({},"constructor",b,!1);return b.prototype=f,i(f,"__NPO__",0,!1),i(b,"resolve",function(d){var A=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new A(function(C,m){if(typeof C!="function"||typeof m!="function")throw TypeError("Not a function");C(d)})}),i(b,"reject",function(d){return new this(function(M,C){if(typeof M!="function"||typeof C!="function")throw TypeError("Not a function");C(d)})}),i(b,"all",function(d){var A=this;return v.call(d)!="[object Array]"?A.reject(TypeError("Not an array")):d.length===0?A.resolve([]):new A(function(C,m){if(typeof C!="function"||typeof m!="function")throw TypeError("Not a function");var S=d.length,x=Array(S),a=0;u(A,d,function(w,k){x[w]=k,++a===S&&C(x)},m)})}),i(b,"race",function(d){var A=this;return v.call(d)!="[object Array]"?A.reject(TypeError("Not an array")):new A(function(C,m){if(typeof C!="function"||typeof m!="function")throw TypeError("Not a function");u(A,d,function(x,a){C(a)},m)})}),b})},18625:function(G){var V=Math.PI,e=v(120);G.exports=g;function g(p){for(var t,r=[],l=0,n=0,s=0,c=0,u=null,y=null,h=0,b=0,f=0,o=p.length;f<o;f++){var d=p[f],A=d[0];switch(A){case"M":s=d[1],c=d[2];break;case"A":d=L(h,b,d[1],d[2],v(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(r.push(d.splice(0,7)),d.unshift("C"));break;case"S":var M=h,C=b;(t=="C"||t=="S")&&(M+=M-l,C+=C-n),d=["C",M,C,d[1],d[2],d[3],d[4]];break;case"T":t=="Q"||t=="T"?(u=h*2-u,y=b*2-y):(u=h,y=b),d=i(h,b,u,y,d[1],d[2]);break;case"Q":u=d[1],y=d[2],d=i(h,b,d[1],d[2],d[3],d[4]);break;case"L":d=R(h,b,d[1],d[2]);break;case"H":d=R(h,b,d[1],b);break;case"V":d=R(h,b,h,d[1]);break;case"Z":d=R(h,b,s,c);break}t=A,h=d[d.length-2],b=d[d.length-1],d.length>4?(l=d[d.length-4],n=d[d.length-3]):(l=h,n=b),r.push(d)}return r}function R(p,t,r,l){return["C",p,t,r,l,r,l]}function i(p,t,r,l,n,s){return["C",p/3+.6666666666666666*r,t/3+.6666666666666666*l,n/3+.6666666666666666*r,s/3+.6666666666666666*l,n,s]}function L(p,t,r,l,n,s,c,u,y,h){if(h)x=h[0],a=h[1],m=h[2],S=h[3];else{var b=T(p,t,-n);p=b.x,t=b.y,b=T(u,y,-n),u=b.x,y=b.y;var f=(p-u)/2,o=(t-y)/2,d=f*f/(r*r)+o*o/(l*l);d>1&&(d=Math.sqrt(d),r=d*r,l=d*l);var A=r*r,M=l*l,C=(s==c?-1:1)*Math.sqrt(Math.abs((A*M-A*o*o-M*f*f)/(A*o*o+M*f*f)));C==1/0&&(C=1);var m=C*r*o/l+(p+u)/2,S=C*-l*f/r+(t+y)/2,x=Math.asin(((t-S)/l).toFixed(9)),a=Math.asin(((y-S)/l).toFixed(9));x=p<m?V-x:x,a=u<m?V-a:a,x<0&&(x=V*2+x),a<0&&(a=V*2+a),c&&x>a&&(x=x-V*2),!c&&a>x&&(a=a-V*2)}if(Math.abs(a-x)>e){var E=a,w=u,k=y;a=x+e*(c&&a>x?1:-1),u=m+r*Math.cos(a),y=S+l*Math.sin(a);var I=L(u,y,r,l,n,0,c,w,k,[a,E,m,S])}var U=Math.tan((a-x)/4),z=4/3*r*U,N=4/3*l*U,B=[2*p-(p+z*Math.sin(x)),2*t-(t-N*Math.cos(x)),u+z*Math.sin(a),y-N*Math.cos(a),u,y];if(h)return B;I&&(B=B.concat(I));for(var F=0;F<B.length;){var H=T(B[F],B[F+1],n);B[F++]=H.x,B[F++]=H.y}return B}function T(p,t,r){return{x:p*Math.cos(r)-t*Math.sin(r),y:p*Math.sin(r)+t*Math.cos(r)}}function v(p){return p*(V/180)}},56131:function(G){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var V=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function R(L){if(L==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(L)}function i(){try{if(!Object.assign)return!1;var L=new String("abc");if(L[5]="de",Object.getOwnPropertyNames(L)[0]==="5")return!1;for(var T={},v=0;v<10;v++)T["_"+String.fromCharCode(v)]=v;var p=Object.getOwnPropertyNames(T).map(function(r){return T[r]});if(p.join("")!=="0123456789")return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),Object.keys(Object.assign({},t)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}G.exports=i()?Object.assign:function(L,T){for(var v,p=R(L),t,r=1;r<arguments.length;r++){v=Object(arguments[r]);for(var l in v)e.call(v,l)&&(p[l]=v[l]);if(V){t=V(v);for(var n=0;n<t.length;n++)g.call(v,t[n])&&(p[t[n]]=v[t[n]])}}return p}},65848:function(G){var V=function(e){return e!==e};G.exports=function(g,R){return g===0&&R===0?1/g===1/R:!!(g===R||V(g)&&V(R))}},64003:function(G,V,e){var g=e(17045),R=e(68222),i=e(65848),L=e(27015),T=e(55572),v=R(L(),Object);g(v,{getPolyfill:L,implementation:i,shim:T}),G.exports=v},27015:function(G,V,e){var g=e(65848);G.exports=function(){return typeof Object.is=="function"?Object.is:g}},55572:function(G,V,e){var g=e(27015),R=e(17045);G.exports=function(){var L=g();return R(Object,{is:L},{is:function(){return Object.is!==L}}),L}},99019:function(G,V,e){var g;if(!Object.keys){var R=Object.prototype.hasOwnProperty,i=Object.prototype.toString,L=e(64178),T=Object.prototype.propertyIsEnumerable,v=!T.call({toString:null},"toString"),p=T.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(c){var u=c.constructor;return u&&u.prototype===c},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var c in window)try{if(!l["$"+c]&&R.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{r(window[c])}catch{return!0}}catch{return!0}return!1}(),s=function(c){if(typeof window>"u"||!n)return r(c);try{return r(c)}catch{return!1}};g=function(u){var y=u!==null&&typeof u=="object",h=i.call(u)==="[object Function]",b=L(u),f=y&&i.call(u)==="[object String]",o=[];if(!y&&!h&&!b)throw new TypeError("Object.keys called on a non-object");var d=p&&h;if(f&&u.length>0&&!R.call(u,0))for(var A=0;A<u.length;++A)o.push(String(A));if(b&&u.length>0)for(var M=0;M<u.length;++M)o.push(String(M));else for(var C in u)!(d&&C==="prototype")&&R.call(u,C)&&o.push(String(C));if(v)for(var m=s(u),S=0;S<t.length;++S)!(m&&t[S]==="constructor")&&R.call(u,t[S])&&o.push(t[S]);return o}}G.exports=g},8709:function(G,V,e){var g=Array.prototype.slice,R=e(64178),i=Object.keys,L=i?function(p){return i(p)}:e(99019),T=Object.keys;L.shim=function(){if(Object.keys){var p=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);p||(Object.keys=function(r){return R(r)?T(g.call(r)):T(r)})}else Object.keys=L;return Object.keys||L},G.exports=L},64178:function(G){var V=Object.prototype.toString;G.exports=function(g){var R=V.call(g),i=R==="[object Arguments]";return i||(i=R!=="[object Array]"&&g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&V.call(g.callee)==="[object Function]"),i}},88641:function(G){function V(R,i){if(typeof R!="string")return[R];var L=[R];typeof i=="string"||Array.isArray(i)?i={brackets:i}:i||(i={});var T=i.brackets?Array.isArray(i.brackets)?i.brackets:[i.brackets]:["{}","[]","()"],v=i.escape||"___",p=!!i.flat;T.forEach(function(l){var n=new RegExp(["\\",l[0],"[^\\",l[0],"\\",l[1],"]*\\",l[1]].join("")),s=[];function c(u,y,h){var b=L.push(u.slice(l[0].length,-l[1].length))-1;return s.push(b),v+b+v}L.forEach(function(u,y){for(var h,b=0;u!=h;)if(h=u,u=u.replace(n,c),b++>1e4)throw Error("References have circular dependency. Please, check them.");L[y]=u}),s=s.reverse(),L=L.map(function(u){return s.forEach(function(y){u=u.replace(new RegExp("(\\"+v+y+"\\"+v+")","g"),l[0]+"$1"+l[1])}),u})});var t=new RegExp("\\"+v+"([0-9]+)\\"+v);function r(l,n,s){for(var c=[],u,y=0;u=t.exec(l);){if(y++>1e4)throw Error("Circular references in parenthesis");c.push(l.slice(0,u.index)),c.push(r(n[u[1]],n)),l=l.slice(u.index+u[0].length)}return c.push(l),c}return p?L:r(L[0],L)}function e(R,i){if(i&&i.flat){var L=i&&i.escape||"___",T=R[0],v;if(!T)return"";for(var p=new RegExp("\\"+L+"([0-9]+)\\"+L),t=0;T!=v;){if(t++>1e4)throw Error("Circular references in "+R);v=T,T=T.replace(p,r)}return T}return R.reduce(function l(n,s){return Array.isArray(s)&&(s=s.reduce(l,"")),n+s},"");function r(l,n){if(R[n]==null)throw Error("Reference "+n+"is undefined");return R[n]}}function g(R,i){return Array.isArray(R)?e(R,i):V(R,i)}g.parse=V,g.stringify=e,G.exports=g},18863:function(G,V,e){var g=e(71299);G.exports=R;function R(i){var L;return arguments.length>1&&(i=arguments),typeof i=="string"?i=i.split(/\s/).map(parseFloat):typeof i=="number"&&(i=[i]),i.length&&typeof i[0]=="number"?i.length===1?L={width:i[0],height:i[0],x:0,y:0}:i.length===2?L={width:i[0],height:i[1],x:0,y:0}:L={x:i[0],y:i[1],width:i[2]-i[0]||0,height:i[3]-i[1]||0}:i&&(i=g(i,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),L={x:i.left||0,y:i.top||0},i.width==null?i.right?L.width=i.right-L.x:L.width=0:L.width=i.width,i.height==null?i.bottom?L.height=i.bottom-L.y:L.height=0:L.height=i.height),L}},95616:function(G){G.exports=g;var V={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g(L){var T=[];return L.replace(e,function(v,p,t){var r=p.toLowerCase();for(t=i(t),r=="m"&&t.length>2&&(T.push([p].concat(t.splice(0,2))),r="l",p=p=="m"?"l":"L");;){if(t.length==V[r])return t.unshift(p),T.push(t);if(t.length<V[r])throw new Error("malformed path data");T.push([p].concat(t.splice(0,V[r])))}}),T}var R=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function i(L){var T=L.match(R);return T?T.map(Number):[]}},25677:function(G){G.exports=function(e,g){g||(g=[0,""]),e=String(e);var R=parseFloat(e,10);return g[0]=R,g[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",g}},9748:function(G,V,e){var g=e(90386);(function(){var R,i,L,T,v,p;typeof performance<"u"&&performance!==null&&performance.now?G.exports=function(){return performance.now()}:typeof g<"u"&&g!==null&&g.hrtime?(G.exports=function(){return(R()-v)/1e6},i=g.hrtime,R=function(){var t;return t=i(),t[0]*1e9+t[1]},T=R(),p=g.uptime()*1e9,v=T-p):Date.now?(G.exports=function(){return Date.now()-L},L=Date.now()):(G.exports=function(){return new Date().getTime()-L},L=new Date().getTime())}).call(this)},71299:function(G){G.exports=function(R,i,L){var T={},v,p;if(typeof i=="string"&&(i=e(i)),Array.isArray(i)){var t={};for(p=0;p<i.length;p++)t[i[p]]=!0;i=t}for(v in i)i[v]=e(i[v]);var r={};for(v in i){var l=i[v];if(Array.isArray(l))for(p=0;p<l.length;p++){var n=l[p];if(L&&(r[n]=!0),n in R){if(T[v]=R[n],L)for(var s=p;s<l.length;s++)r[l[s]]=!0;break}}else v in R&&(i[v]&&(T[v]=R[v]),L&&(r[v]=!0))}if(L)for(v in R)r[v]||(T[v]=R[v]);return T};var V={};function e(g){return V[g]?V[g]:(typeof g=="string"&&(g=V[g]=g.split(/\s*,\s*|\s+/)),g)}},38258:function(G){G.exports=function(e,g,R,i){var L=e[0],T=e[1],v=!1;R===void 0&&(R=0),i===void 0&&(i=g.length);for(var p=i-R,t=0,r=p-1;t<p;r=t++){var l=g[t+R][0],n=g[t+R][1],s=g[r+R][0],c=g[r+R][1],u=n>T!=c>T&&L<(s-l)*(T-n)/(c-n)+l;u&&(v=!v)}return v}},52142:function(G,V,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var g=e(69444),R=e(29023),i=e(87263),L=e(11328),T=e(55968),v=e(10670),p=!1,t=R(),r;r={buildLog:function(n){return n===!0?p=g():n===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(n){return t.epsilon(n)},segments:function(n){var s=i(!0,t,p);return n.regions.forEach(s.addRegion),{segments:s.calculate(n.inverted),inverted:n.inverted}},combine:function(n,s){var c=i(!1,t,p);return{combined:c.calculate(n.segments,n.inverted,s.segments,s.inverted),inverted1:n.inverted,inverted2:s.inverted}},selectUnion:function(n){return{segments:T.union(n.combined,p),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:T.intersect(n.combined,p),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:T.difference(n.combined,p),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:T.differenceRev(n.combined,p),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:T.xor(n.combined,p),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:L(n.segments,t,p),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(r,n)},polygonToGeoJSON:function(n){return v.fromPolygon(r,t,n)},union:function(n,s){return l(n,s,r.selectUnion)},intersect:function(n,s){return l(n,s,r.selectIntersect)},difference:function(n,s){return l(n,s,r.selectDifference)},differenceRev:function(n,s){return l(n,s,r.selectDifferenceRev)},xor:function(n,s){return l(n,s,r.selectXor)}};function l(n,s,c){var u=r.segments(n),y=r.segments(s),h=r.combine(u,y),b=c(h);return r.polygon(b)}typeof window=="object"&&(window.PolyBool=r),G.exports=r},69444:function(G){function V(){var e,g=0,R=!1;function i(L,T){return e.list.push({type:L,data:T?JSON.parse(JSON.stringify(T)):void 0}),e}return e={list:[],segmentId:function(){return g++},checkIntersection:function(L,T){return i("check",{seg1:L,seg2:T})},segmentChop:function(L,T){return i("div_seg",{seg:L,pt:T}),i("chop",{seg:L,pt:T})},statusRemove:function(L){return i("pop_seg",{seg:L})},segmentUpdate:function(L){return i("seg_update",{seg:L})},segmentNew:function(L,T){return i("new_seg",{seg:L,primary:T})},segmentRemove:function(L){return i("rem_seg",{seg:L})},tempStatus:function(L,T,v){return i("temp_status",{seg:L,above:T,below:v})},rewind:function(L){return i("rewind",{seg:L})},status:function(L,T,v){return i("status",{seg:L,above:T,below:v})},vert:function(L){return L===R?e:(R=L,i("vert",{x:L}))},log:function(L){return typeof L!="string"&&(L=JSON.stringify(L,!1,"  ")),i("log",{txt:L})},reset:function(){return i("reset")},selected:function(L){return i("selected",{segs:L})},chainStart:function(L){return i("chain_start",{seg:L})},chainRemoveHead:function(L,T){return i("chain_rem_head",{index:L,pt:T})},chainRemoveTail:function(L,T){return i("chain_rem_tail",{index:L,pt:T})},chainNew:function(L,T){return i("chain_new",{pt1:L,pt2:T})},chainMatch:function(L){return i("chain_match",{index:L})},chainClose:function(L){return i("chain_close",{index:L})},chainAddHead:function(L,T){return i("chain_add_head",{index:L,pt:T})},chainAddTail:function(L,T){return i("chain_add_tail",{index:L,pt:T})},chainConnect:function(L,T){return i("chain_con",{index1:L,index2:T})},chainReverse:function(L){return i("chain_rev",{index:L})},chainJoin:function(L,T){return i("chain_join",{index1:L,index2:T})},done:function(){return i("done")}},e}G.exports=V},29023:function(G){function V(e){typeof e!="number"&&(e=1e-10);var g={epsilon:function(R){return typeof R=="number"&&(e=R),e},pointAboveOrOnLine:function(R,i,L){var T=i[0],v=i[1],p=L[0],t=L[1],r=R[0],l=R[1];return(p-T)*(l-v)-(t-v)*(r-T)>=-e},pointBetween:function(R,i,L){var T=R[1]-i[1],v=L[0]-i[0],p=R[0]-i[0],t=L[1]-i[1],r=p*v+T*t;if(r<e)return!1;var l=v*v+t*t;return!(r-l>-e)},pointsSameX:function(R,i){return Math.abs(R[0]-i[0])<e},pointsSameY:function(R,i){return Math.abs(R[1]-i[1])<e},pointsSame:function(R,i){return g.pointsSameX(R,i)&&g.pointsSameY(R,i)},pointsCompare:function(R,i){return g.pointsSameX(R,i)?g.pointsSameY(R,i)?0:R[1]<i[1]?-1:1:R[0]<i[0]?-1:1},pointsCollinear:function(R,i,L){var T=R[0]-i[0],v=R[1]-i[1],p=i[0]-L[0],t=i[1]-L[1];return Math.abs(T*t-p*v)<e},linesIntersect:function(R,i,L,T){var v=i[0]-R[0],p=i[1]-R[1],t=T[0]-L[0],r=T[1]-L[1],l=v*r-p*t;if(Math.abs(l)<e)return!1;var n=R[0]-L[0],s=R[1]-L[1],c=(t*s-r*n)/l,u=(v*s-p*n)/l,y={alongA:0,alongB:0,pt:[R[0]+c*v,R[1]+c*p]};return c<=-e?y.alongA=-2:c<e?y.alongA=-1:c-1<=-e?y.alongA=0:c-1<e?y.alongA=1:y.alongA=2,u<=-e?y.alongB=-2:u<e?y.alongB=-1:u-1<=-e?y.alongB=0:u-1<e?y.alongB=1:y.alongB=2,y},pointInsideRegion:function(R,i){for(var L=R[0],T=R[1],v=i[i.length-1][0],p=i[i.length-1][1],t=!1,r=0;r<i.length;r++){var l=i[r][0],n=i[r][1];n-T>e!=p-T>e&&(v-l)*(T-n)/(p-n)+l-L>e&&(t=!t),v=l,p=n}return t}};return g}G.exports=V},10670:function(G){var V={toPolygon:function(e,g){function R(T){if(T.length<=0)return e.segments({inverted:!1,regions:[]});function v(r){var l=r.slice(0,r.length-1);return e.segments({inverted:!1,regions:[l]})}for(var p=v(T[0]),t=1;t<T.length;t++)p=e.selectDifference(e.combine(p,v(T[t])));return p}if(g.type==="Polygon")return e.polygon(R(g.coordinates));if(g.type==="MultiPolygon"){for(var i=e.segments({inverted:!1,regions:[]}),L=0;L<g.coordinates.length;L++)i=e.selectUnion(e.combine(i,R(g.coordinates[L])));return e.polygon(i)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,g,R){R=e.polygon(e.segments(R));function i(c,u){return g.pointInsideRegion([(c[0][0]+c[1][0])*.5,(c[0][1]+c[1][1])*.5],u)}function L(c){return{region:c,children:[]}}var T=L(null);function v(c,u){for(var y=0;y<c.children.length;y++){var h=c.children[y];if(i(u,h.region)){v(h,u);return}}for(var b=L(u),y=0;y<c.children.length;y++){var h=c.children[y];i(h.region,u)&&(b.children.push(h),c.children.splice(y,1),y--)}c.children.push(b)}for(var p=0;p<R.regions.length;p++){var t=R.regions[p];t.length<3||v(T,t)}function r(c,u){for(var y=0,h=c[c.length-1][0],b=c[c.length-1][1],f=[],o=0;o<c.length;o++){var d=c[o][0],A=c[o][1];f.push([d,A]),y+=A*h-d*b,h=d,b=A}var M=y<0;return M!==u&&f.reverse(),f.push([f[0][0],f[0][1]]),f}var l=[];function n(c){var u=[r(c.region,!1)];l.push(u);for(var y=0;y<c.children.length;y++)u.push(s(c.children[y]))}function s(c){for(var u=0;u<c.children.length;u++)n(c.children[u]);return r(c.region,!0)}for(var p=0;p<T.children.length;p++)n(T.children[p]);return l.length<=0?{type:"Polygon",coordinates:[]}:l.length==1?{type:"Polygon",coordinates:l[0]}:{type:"MultiPolygon",coordinates:l}}};G.exports=V},87263:function(G,V,e){var g=e(26859);function R(i,L,T){function v(b,f){return{id:T?T.segmentId():-1,start:b,end:f,myFill:{above:null,below:null},otherFill:null}}function p(b,f,o){return{id:T?T.segmentId():-1,start:b,end:f,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var t=g.create();function r(b,f,o,d,A,M){var C=L.pointsCompare(f,A);return C!==0?C:L.pointsSame(o,M)?0:b!==d?b?1:-1:L.pointAboveOrOnLine(o,d?A:M,d?M:A)?1:-1}function l(b,f){t.insertBefore(b,function(o){var d=r(b.isStart,b.pt,f,o.isStart,o.pt,o.other.pt);return d<0})}function n(b,f){var o=g.node({isStart:!0,pt:b.start,seg:b,primary:f,other:null,status:null});return l(o,b.end),o}function s(b,f,o){var d=g.node({isStart:!1,pt:f.end,seg:f,primary:o,other:b,status:null});b.other=d,l(d,b.pt)}function c(b,f){var o=n(b,f);return s(o,b,f),o}function u(b,f){T&&T.segmentChop(b.seg,f),b.other.remove(),b.seg.end=f,b.other.pt=f,l(b.other,b.pt)}function y(b,f){var o=p(f,b.seg.end,b.seg);return u(b,f),c(o,b.primary)}function h(b,f){var o=g.create();function d(N,B){var F=N.seg.start,H=N.seg.end,X=B.seg.start,q=B.seg.end;return L.pointsCollinear(F,X,q)?L.pointsCollinear(H,X,q)||L.pointAboveOrOnLine(H,X,q)?1:-1:L.pointAboveOrOnLine(F,X,q)?1:-1}function A(N){return o.findTransition(function(B){var F=d(N,B.ev);return F>0})}function M(N,B){var F=N.seg,H=B.seg,X=F.start,q=F.end,ne=H.start,oe=H.end;T&&T.checkIntersection(F,H);var ve=L.linesIntersect(X,q,ne,oe);if(ve===!1){if(!L.pointsCollinear(X,q,ne)||L.pointsSame(X,oe)||L.pointsSame(q,ne))return!1;var J=L.pointsSame(X,ne),Y=L.pointsSame(q,oe);if(J&&Y)return B;var j=!J&&L.pointBetween(X,ne,oe),K=!Y&&L.pointBetween(q,ne,oe);if(J)return K?y(B,q):y(N,oe),B;j&&(Y||(K?y(B,q):y(N,oe)),y(B,X))}else ve.alongA===0&&(ve.alongB===-1?y(N,ne):ve.alongB===0?y(N,ve.pt):ve.alongB===1&&y(N,oe)),ve.alongB===0&&(ve.alongA===-1?y(B,X):ve.alongA===0?y(B,ve.pt):ve.alongA===1&&y(B,q));return!1}for(var C=[];!t.isEmpty();){var m=t.getHead();if(T&&T.vert(m.pt[0]),m.isStart){let N=function(){if(x){var B=M(m,x);if(B)return B}return a?M(m,a):!1};var z=N;T&&T.segmentNew(m.seg,m.primary);var S=A(m),x=S.before?S.before.ev:null,a=S.after?S.after.ev:null;T&&T.tempStatus(m.seg,x?x.seg:!1,a?a.seg:!1);var E=N();if(E){if(i){var w;m.seg.myFill.below===null?w=!0:w=m.seg.myFill.above!==m.seg.myFill.below,w&&(E.seg.myFill.above=!E.seg.myFill.above)}else E.seg.otherFill=m.seg.myFill;T&&T.segmentUpdate(E.seg),m.other.remove(),m.remove()}if(t.getHead()!==m){T&&T.rewind(m.seg);continue}if(i){var w;m.seg.myFill.below===null?w=!0:w=m.seg.myFill.above!==m.seg.myFill.below,a?m.seg.myFill.below=a.seg.myFill.above:m.seg.myFill.below=b,w?m.seg.myFill.above=!m.seg.myFill.below:m.seg.myFill.above=m.seg.myFill.below}else if(m.seg.otherFill===null){var k;a?m.primary===a.primary?k=a.seg.otherFill.above:k=a.seg.myFill.above:k=m.primary?f:b,m.seg.otherFill={above:k,below:k}}T&&T.status(m.seg,x?x.seg:!1,a?a.seg:!1),m.other.status=S.insert(g.node({ev:m}))}else{var I=m.status;if(I===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(I.prev)&&o.exists(I.next)&&M(I.prev.ev,I.next.ev),T&&T.statusRemove(I.ev.seg),I.remove(),!m.primary){var U=m.seg.myFill;m.seg.myFill=m.seg.otherFill,m.seg.otherFill=U}C.push(m.seg)}t.getHead().remove()}return T&&T.done(),C}return i?{addRegion:function(b){for(var f,o=b[b.length-1],d=0;d<b.length;d++){f=o,o=b[d];var A=L.pointsCompare(f,o);A!==0&&c(v(A<0?f:o,A<0?o:f),!0)}},calculate:function(b){return h(b,!1)}}:{calculate:function(b,f,o,d){return b.forEach(function(A){c(p(A.start,A.end,A),!0)}),o.forEach(function(A){c(p(A.start,A.end,A),!1)}),h(f,d)}}}G.exports=R},26859:function(G){var V={create:function(){var e={root:{root:!0,next:null},exists:function(g){return!(g===null||g===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(g,R){for(var i=e.root,L=e.root.next;L!==null;){if(R(L)){g.prev=L.prev,g.next=L,L.prev.next=g,L.prev=g;return}i=L,L=L.next}i.next=g,g.prev=i,g.next=null},findTransition:function(g){for(var R=e.root,i=e.root.next;i!==null&&!g(i);)R=i,i=i.next;return{before:R===e.root?null:R,after:i,insert:function(L){return L.prev=R,L.next=i,R.next=L,i!==null&&(i.prev=L),L}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};G.exports=V},11328:function(G){function V(e,g,R){var i=[],L=[];return e.forEach(function(T){var v=T.start,p=T.end;if(g.pointsSame(v,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}R&&R.chainStart(T);var t={index:0,matches_head:!1,matches_pt1:!1},r={index:0,matches_head:!1,matches_pt1:!1},l=t;function n(E,w,k){return l.index=E,l.matches_head=w,l.matches_pt1=k,l===t?(l=r,!1):(l=null,!0)}for(var s=0;s<i.length;s++){var c=i[s],u=c[0];c[1];var y=c[c.length-1];if(c[c.length-2],g.pointsSame(u,v)){if(n(s,!0,!0))break}else if(g.pointsSame(u,p)){if(n(s,!0,!1))break}else if(g.pointsSame(y,v)){if(n(s,!1,!0))break}else if(g.pointsSame(y,p)&&n(s,!1,!1))break}if(l===t){i.push([v,p]),R&&R.chainNew(v,p);return}if(l===r){R&&R.chainMatch(t.index);var h=t.index,b=t.matches_pt1?p:v,f=t.matches_head,c=i[h],o=f?c[0]:c[c.length-1],d=f?c[1]:c[c.length-2],A=f?c[c.length-1]:c[0],M=f?c[c.length-2]:c[1];if(g.pointsCollinear(d,o,b)&&(f?(R&&R.chainRemoveHead(t.index,b),c.shift()):(R&&R.chainRemoveTail(t.index,b),c.pop()),o=d),g.pointsSame(A,b)){i.splice(h,1),g.pointsCollinear(M,A,o)&&(f?(R&&R.chainRemoveTail(t.index,o),c.pop()):(R&&R.chainRemoveHead(t.index,o),c.shift())),R&&R.chainClose(t.index),L.push(c);return}f?(R&&R.chainAddHead(t.index,b),c.unshift(b)):(R&&R.chainAddTail(t.index,b),c.push(b));return}function C(E){R&&R.chainReverse(E),i[E].reverse()}function m(E,w){var k=i[E],I=i[w],U=k[k.length-1],z=k[k.length-2],N=I[0],B=I[1];g.pointsCollinear(z,U,N)&&(R&&R.chainRemoveTail(E,U),k.pop(),U=z),g.pointsCollinear(U,N,B)&&(R&&R.chainRemoveHead(w,N),I.shift()),R&&R.chainJoin(E,w),i[E]=k.concat(I),i.splice(w,1)}var S=t.index,x=r.index;R&&R.chainConnect(S,x);var a=i[S].length<i[x].length;t.matches_head?r.matches_head?a?(C(S),m(S,x)):(C(x),m(x,S)):m(x,S):r.matches_head?m(S,x):a?(C(S),m(x,S)):(C(x),m(S,x))}),L}G.exports=V},55968:function(G){function V(g,R,i){var L=[];return g.forEach(function(T){var v=(T.myFill.above?8:0)+(T.myFill.below?4:0)+(T.otherFill&&T.otherFill.above?2:0)+(T.otherFill&&T.otherFill.below?1:0);R[v]!==0&&L.push({id:i?i.segmentId():-1,start:T.start,end:T.end,myFill:{above:R[v]===1,below:R[v]===2},otherFill:null})}),i&&i.selected(L),L}var e={union:function(g,R){return V(g,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],R)},intersect:function(g,R){return V(g,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],R)},difference:function(g,R){return V(g,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],R)},differenceRev:function(g,R){return V(g,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],R)},xor:function(g,R){return V(g,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],R)}};G.exports=e},14847:function(G,V,e){var g=e(21630).Transform,R=e(90715);function i(){g.call(this,{readableObjectMode:!0})}i.prototype=Object.create(g.prototype),i.prototype.constructor=i,R(i.prototype),V.OF=function(T,v,p){for(var t=v,r=0;r<p.length;)if(T[t++]!==p[r++])return!1;return!0},V.eG=function(T,v){var p=[],t=0;if(v&&v==="hex")for(;t<T.length;)p.push(parseInt(T.slice(t,t+2),16)),t+=2;else for(;t<T.length;t++)p.push(T.charCodeAt(t)&255);return p},V.mP=function(T,v){return T[v]|T[v+1]<<8},V.n8=function(T,v){return T[v+1]|T[v]<<8},V.nm=function(T,v){return T[v]|T[v+1]<<8|T[v+2]<<16|T[v+3]*16777216},V.Ag=function(T,v){return T[v+3]|T[v+2]<<8|T[v+1]<<16|T[v]*16777216};function L(T,v,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=T,v&&(this.code=v),p&&(this.statusCode=p)}L.prototype=Object.create(Error.prototype),L.prototype.constructor=L},71371:function(G){function V(R,i){var L=new Error(R);return L.code=i,L}function e(R){try{return decodeURIComponent(escape(R))}catch{return R}}function g(R,i,L){this.input=R.subarray(i,L),this.start=i;var T=String.fromCharCode.apply(null,this.input.subarray(0,4));if(T!=="II*\0"&&T!=="MM\0*")throw V("invalid TIFF signature","EBADDATA");this.big_endian=T[0]==="M"}g.prototype.each=function(R){this.aborted=!1;var i=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:i}];this.ifds_to_read.length>0&&!this.aborted;){var L=this.ifds_to_read.shift();L.offset&&this.scan_ifd(L.id,L.offset,R)}},g.prototype.read_uint16=function(R){var i=this.input;if(R+2>i.length)throw V("unexpected EOF","EBADDATA");return this.big_endian?i[R]*256+i[R+1]:i[R]+i[R+1]*256},g.prototype.read_uint32=function(R){var i=this.input;if(R+4>i.length)throw V("unexpected EOF","EBADDATA");return this.big_endian?i[R]*16777216+i[R+1]*65536+i[R+2]*256+i[R+3]:i[R]+i[R+1]*256+i[R+2]*65536+i[R+3]*16777216},g.prototype.is_subifd_link=function(R,i){return R===0&&i===34665||R===0&&i===34853||R===34665&&i===40965},g.prototype.exif_format_length=function(R){switch(R){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},g.prototype.exif_format_read=function(R,i){var L;switch(R){case 1:case 2:return L=this.input[i],L;case 6:return L=this.input[i],L|(L&128)*33554430;case 3:return L=this.read_uint16(i),L;case 8:return L=this.read_uint16(i),L|(L&32768)*131070;case 4:return L=this.read_uint32(i),L;case 9:return L=this.read_uint32(i),L|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},g.prototype.scan_ifd=function(R,i,L){var T=this.read_uint16(i);i+=2;for(var v=0;v<T;v++){var p=this.read_uint16(i),t=this.read_uint16(i+2),r=this.read_uint32(i+4),l=this.exif_format_length(t),n=r*l,s=n<=4?i+8:this.read_uint32(i+8),c=!1;if(s+n>this.input.length)throw V("unexpected EOF","EBADDATA");for(var u=[],y=s,h=0;h<r;h++,y+=l){var b=this.exif_format_read(t,y);if(b===null){u=null;break}u.push(b)}Array.isArray(u)&&t===2&&(u=e(String.fromCharCode.apply(null,u)),u&&u[u.length-1]==="\0"&&(u=u.slice(0,-1))),this.is_subifd_link(R,p)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:p,offset:u[0]}),c=!0);var f={is_big_endian:this.big_endian,ifd:R,tag:p,format:t,count:r,entry_offset:i+this.start,data_length:n,data_offset:s+this.start,value:u,is_subifd_link:c};if(L(f)===!1){this.aborted=!0;return}i+=12}R===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(i)})},G.exports.ExifParser=g,G.exports.get_orientation=function(R){var i=0;try{return new g(R,0,R.length).each(function(L){if(L.ifd===0&&L.tag===274&&Array.isArray(L.value))return i=L.value[0],!1}),i}catch{return-1}}},76767:function(G,V,e){var g=e(14847).n8,R=e(14847).Ag;function i(n,s){if(n.length<4+s)return null;var c=R(n,s);return n.length<c+s||c<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(s+4,s+8)),data:n.slice(s+8,s+c),end:s+c}}G.exports.unbox=i;function L(n,s){for(var c=0;;){var u=i(n,c);if(!u)break;switch(u.boxtype){case"ispe":s.sizes.push({width:R(u.data,4),height:R(u.data,8)});break;case"irot":s.transforms.push({type:"irot",value:u.data[0]&3});break;case"imir":s.transforms.push({type:"imir",value:u.data[0]&1});break}c=u.end}}function T(n,s,c){for(var u=0,y=0;y<c;y++)u=u*256+(n[s+y]||0);return u}function v(n,s){for(var c=n[4]>>4&15,u=n[4]&15,y=n[5]>>4&15,h=g(n,6),b=8,f=0;f<h;f++){var o=g(n,b);b+=2;var d=g(n,b);b+=2;var A=T(n,b,y);b+=y;var M=g(n,b);if(b+=2,d===0&&M===1){var C=T(n,b,c),m=T(n,b+c,u);s.item_loc[o]={length:m,offset:C+A}}b+=M*(c+u)}}function p(n,s){for(var c=g(n,4),u=6,y=0;y<c;y++){var h=i(n,u);if(!h)break;if(h.boxtype==="infe"){for(var b=g(h.data,4),f="",o=8;o<h.data.length&&h.data[o];o++)f+=String.fromCharCode(h.data[o]);s.item_inf[f]=b}u=h.end}}function t(n,s){for(var c=0;;){var u=i(n,c);if(!u)break;u.boxtype==="ipco"&&L(u.data,s),c=u.end}}function r(n,s){for(var c=4;;){var u=i(n,c);if(!u)break;u.boxtype==="iprp"&&t(u.data,s),u.boxtype==="iloc"&&v(u.data,s),u.boxtype==="iinf"&&p(u.data,s),c=u.end}}function l(n){var s=n.reduce(function(y,h){return y.width>h.width||y.width===h.width&&y.height>h.height?y:h}),c=n.reduce(function(y,h){return y.height>h.height||y.height===h.height&&y.width>h.width?y:h}),u;return s.width>c.height||s.width===c.height&&s.height>c.width?u=s:u=c,u}G.exports.readSizeFromMeta=function(n){var s={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(r(n,s),!!s.sizes.length){var c=l(s.sizes),u=1;s.transforms.forEach(function(h){var b={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},f={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(h.type==="imir"&&(h.value===0?u=f[u]:(u=f[u],u=b[u],u=b[u])),h.type==="irot")for(var o=0;o<h.value;o++)u=b[u]});var y=null;return s.item_inf.Exif&&(y=s.item_loc[s.item_inf.Exif]),{width:c.width,height:c.height,orientation:s.transforms.length?u:null,variants:s.sizes,exif_location:y}}},G.exports.getMimeType=function(n){var s=String.fromCharCode.apply(null,n.slice(0,4)),c={};c[s]=!0;for(var u=8;u<n.length;u+=4)c[String.fromCharCode.apply(null,n.slice(u,u+4))]=!0;if(!(!c.mif1&&!c.msf1&&!c.miaf))return s==="avif"||s==="avis"||s==="avio"?{type:"avif",mime:"image/avif"}:s==="heic"||s==="heix"?{type:"heic",mime:"image/heic"}:s==="hevc"||s==="hevx"?{type:"heic",mime:"image/heic-sequence"}:c.avif||c.avis?{type:"avif",mime:"image/avif"}:c.heic||c.heix||c.hevc||c.hevx||c.heis?c.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(G,V,e){var g=e(14847).eG,R=e(14847).OF,i=e(14847).Ag,L=e(76767),T=e(71371),v=g("ftyp");G.exports=function(p){if(R(p,4,v)){var t=L.unbox(p,0);if(t){var r=L.getMimeType(t.data);if(r){for(var l,n=t.end;;){var s=L.unbox(p,n);if(!s)break;if(n=s.end,s.boxtype==="mdat")return;if(s.boxtype==="meta"){l=s.data;break}}if(l){var c=L.readSizeFromMeta(l);if(c){var u={width:c.width,height:c.height,type:r.type,mime:r.mime,wUnits:"px",hUnits:"px"};if(c.variants.length>1&&(u.variants=c.variants),c.orientation&&(u.orientation=c.orientation),c.exif_location&&c.exif_location.offset+c.exif_location.length<=p.length){var y=i(p,c.exif_location.offset),h=p.slice(c.exif_location.offset+y+4,c.exif_location.offset+c.exif_location.length),b=T.get_orientation(h);b>0&&(u.orientation=b)}return u}}}}}}},2504:function(G,V,e){var g=e(14847).eG,R=e(14847).OF,i=e(14847).mP,L=g("BM");G.exports=function(T){if(!(T.length<26)&&R(T,0,L))return{width:i(T,18),height:i(T,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(G,V,e){var g=e(14847).eG,R=e(14847).OF,i=e(14847).mP,L=g("GIF87a"),T=g("GIF89a");G.exports=function(v){if(!(v.length<10)&&!(!R(v,0,L)&&!R(v,0,T)))return{width:i(v,6),height:i(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(G,V,e){var g=e(14847).mP,R=0,i=1,L=16;G.exports=function(T){var v=g(T,0),p=g(T,2),t=g(T,4);if(!(v!==R||p!==i||!t)){for(var r=[],l={width:0,height:0},n=0;n<t;n++){var s=T[6+L*n]||256,c=T[6+L*n+1]||256,u={width:s,height:c};r.push(u),(s>l.width||c>l.height)&&(l=u)}return{width:l.width,height:l.height,variants:r,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(G,V,e){var g=e(14847).n8,R=e(14847).eG,i=e(14847).OF,L=e(71371),T=R("Exif\0\0");G.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var p=2;;){for(;;){if(v.length-p<2)return;if(v[p++]===255)break}for(var t=v[p++],r;t===255;)t=v[p++];if(208<=t&&t<=217||t===1)r=0;else if(192<=t&&t<=254){if(v.length-p<2)return;r=g(v,p)-2,p+=2}else return;if(t===217||t===218)return;var l;if(t===225&&r>=10&&i(v,p,T)&&(l=L.get_orientation(v.slice(p+6,p+r))),r>=5&&192<=t&&t<=207&&t!==196&&t!==200&&t!==204){if(v.length-p<r)return;var n={width:g(v,p+3),height:g(v,p+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return l>0&&(n.orientation=l),n}p+=r}}},6303:function(G,V,e){var g=e(14847).eG,R=e(14847).OF,i=e(14847).Ag,L=g(`PNG\r

`),T=g("IHDR");G.exports=function(v){if(!(v.length<24)&&R(v,0,L)&&R(v,12,T))return{width:i(v,16),height:i(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(G,V,e){var g=e(14847).eG,R=e(14847).OF,i=e(14847).Ag,L=g("8BPS\0");G.exports=function(T){if(!(T.length<22)&&R(T,0,L))return{width:i(T,18),height:i(T,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(G){function V(l){return l===32||l===9||l===13||l===10}function e(l){return typeof l=="number"&&isFinite(l)&&l>0}function g(l){var n=0,s=l.length;for(l[0]===239&&l[1]===187&&l[2]===191&&(n=3);n<s&&V(l[n]);)n++;return n===s?!1:l[n]===60}var R=/<[-_.:a-zA-Z0-9][^>]*>/,i=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,L=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,T=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,p=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function t(l){var n=l.match(L),s=l.match(T),c=l.match(v);return{width:n&&(n[1]||n[2]),height:s&&(s[1]||s[2]),viewbox:c&&(c[1]||c[2])}}function r(l){return p.test(l)?l.match(p)[0]:"px"}G.exports=function(l){if(g(l)){for(var n="",s=0;s<l.length;s++)n+=String.fromCharCode(l[s]);var c=(n.match(R)||[""])[0];if(i.test(c)){var u=t(c),y=parseFloat(u.width),h=parseFloat(u.height);if(u.width&&u.height)return!e(y)||!e(h)?void 0:{width:y,height:h,type:"svg",mime:"image/svg+xml",wUnits:r(u.width),hUnits:r(u.height)};var b=(u.viewbox||"").split(" "),f={width:b[2],height:b[3]},o=parseFloat(f.width),d=parseFloat(f.height);if(!(!e(o)||!e(d))&&r(f.width)===r(f.height)){var A=o/d;return u.width?e(y)?{width:y,height:y/A,type:"svg",mime:"image/svg+xml",wUnits:r(u.width),hUnits:r(u.width)}:void 0:u.height?e(h)?{width:h*A,height:h,type:"svg",mime:"image/svg+xml",wUnits:r(u.height),hUnits:r(u.height)}:void 0:{width:o,height:d,type:"svg",mime:"image/svg+xml",wUnits:r(f.width),hUnits:r(f.height)}}}}}},66278:function(G,V,e){var g=e(14847).eG,R=e(14847).OF,i=e(14847).mP,L=e(14847).n8,T=e(14847).nm,v=e(14847).Ag,p=g("II*\0"),t=g("MM\0*");function r(s,c,u){return u?L(s,c):i(s,c)}function l(s,c,u){return u?v(s,c):T(s,c)}function n(s,c,u){var y=r(s,c+2,u),h=l(s,c+4,u);return h!==1||y!==3&&y!==4?null:y===3?r(s,c+8,u):l(s,c+8,u)}G.exports=function(s){if(!(s.length<8)&&!(!R(s,0,p)&&!R(s,0,t))){var c=s[0]===77,u=l(s,4,c)-8;if(!(u<0)){var y=u+8;if(!(s.length-y<2)){var h=r(s,y+0,c)*12;if(!(h<=0)&&(y+=2,!(s.length-y<h))){var b,f,o,d;for(b=0;b<h;b+=12)d=r(s,y+b,c),d===256?f=n(s,y+b,c):d===257&&(o=n(s,y+b,c));if(f&&o)return{width:f,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(G,V,e){var g=e(14847).eG,R=e(14847).OF,i=e(14847).mP,L=e(14847).nm,T=e(71371),v=g("RIFF"),p=g("WEBP");function t(n,s){if(!(n[s+3]!==157||n[s+4]!==1||n[s+5]!==42))return{width:i(n,s+6)&16383,height:i(n,s+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function r(n,s){if(n[s]===47){var c=L(n,s+1);return{width:(c&16383)+1,height:(c>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function l(n,s){return{width:(n[s+6]<<16|n[s+5]<<8|n[s+4])+1,height:(n[s+9]<<s|n[s+8]<<8|n[s+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}G.exports=function(n){if(!(n.length<16)&&!(!R(n,0,v)&&!R(n,8,p))){var s=12,c=null,u=0,y=L(n,4)+8;if(!(y>n.length)){for(;s+8<y;){if(n[s]===0){s++;continue}var h=String.fromCharCode.apply(null,n.slice(s,s+4)),b=L(n,s+4);h==="VP8 "&&b>=10?c=c||t(n,s+8):h==="VP8L"&&b>=9?c=c||r(n,s+8):h==="VP8X"&&b>=10?c=c||l(n,s+8):h==="EXIF"&&(u=T.get_orientation(n.slice(s+8,s+8+b)),s=1/0),s+=8+b}if(c)return u>0&&(c.orientation=u),c}}}},91497:function(G,V,e){G.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(G,V,e){var g=e(91497);function R(i){for(var L=Object.keys(g),T=0;T<L.length;T++){var v=g[L[T]](i);if(v)return v}return null}G.exports=function(L){return R(L)},G.exports.parsers=g},90386:function(G){var V=G.exports={},e,g;function R(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=R}catch{e=R}try{typeof clearTimeout=="function"?g=clearTimeout:g=i}catch{g=i}})();function L(u){if(e===setTimeout)return setTimeout(u,0);if((e===R||!e)&&setTimeout)return e=setTimeout,setTimeout(u,0);try{return e(u,0)}catch{try{return e.call(null,u,0)}catch{return e.call(this,u,0)}}}function T(u){if(g===clearTimeout)return clearTimeout(u);if((g===i||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(u);try{return g(u)}catch{try{return g.call(null,u)}catch{return g.call(this,u)}}}var v=[],p=!1,t,r=-1;function l(){!p||!t||(p=!1,t.length?v=t.concat(v):r=-1,v.length&&n())}function n(){if(!p){var u=L(l);p=!0;for(var y=v.length;y;){for(t=v,v=[];++r<y;)t&&t[r].run();r=-1,y=v.length}t=null,p=!1,T(u)}}V.nextTick=function(u){var y=new Array(arguments.length-1);if(arguments.length>1)for(var h=1;h<arguments.length;h++)y[h-1]=arguments[h];v.push(new s(u,y)),v.length===1&&!p&&L(n)};function s(u,y){this.fun=u,this.array=y}s.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={};function c(){}V.on=c,V.addListener=c,V.once=c,V.off=c,V.removeListener=c,V.removeAllListeners=c,V.emit=c,V.prependListener=c,V.prependOnceListener=c,V.listeners=function(u){return[]},V.binding=function(u){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(u){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},5877:function(G,V,e){for(var g=e(9748),R=typeof window>"u"?e.g:window,i=["moz","webkit"],L="AnimationFrame",T=R["request"+L],v=R["cancel"+L]||R["cancelRequest"+L],p=0;!T&&p<i.length;p++)T=R[i[p]+"Request"+L],v=R[i[p]+"Cancel"+L]||R[i[p]+"CancelRequest"+L];if(!T||!v){var t=0,r=0,l=[],n=1e3/60;T=function(s){if(l.length===0){var c=g(),u=Math.max(0,n-(c-t));t=u+c,setTimeout(function(){var y=l.slice(0);l.length=0;for(var h=0;h<y.length;h++)if(!y[h].cancelled)try{y[h].callback(t)}catch(b){setTimeout(function(){throw b},0)}},Math.round(u))}return l.push({handle:++r,callback:s,cancelled:!1}),r},v=function(s){for(var c=0;c<l.length;c++)l[c].handle===s&&(l[c].cancelled=!0)}}G.exports=function(s){return T.call(R,s)},G.exports.cancel=function(){v.apply(R,arguments)},G.exports.polyfill=function(s){s||(s=R),s.requestAnimationFrame=T,s.cancelAnimationFrame=v}},3593:function(G,V,e){var g=e(21527),R=e(25075),i=e(93447),L=e(71299),T=e(56131),v=e(30120),p=e(57060),t=p.float32,r=p.fract32;G.exports=n;var l=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(s,c){if(typeof s=="function"?(c||(c={}),c.regl=s):c=s,c.length&&(c.positions=c),s=c.regl,!s.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var u=s._gl,y,h,b,f,o,d,A={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},M=[];return f=s.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),h=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),b=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=s.buffer({usage:"static",type:"float",data:l}),x(c),y=s({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:s.prop("range"),lineWidth:s.prop("lineWidth"),capSize:s.prop("capSize"),opacity:s.prop("opacity"),scale:s.prop("scale"),translate:s.prop("translate"),scaleFract:s.prop("scaleFract"),translateFract:s.prop("translateFract"),viewport:function(E,w){return[w.viewport.x,w.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:f,offset:function(E,w){return w.offset*4},divisor:1},position:{buffer:h,offset:function(E,w){return w.offset*8},divisor:1},positionFract:{buffer:b,offset:function(E,w){return w.offset*8},divisor:1},error:{buffer:o,offset:function(E,w){return w.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:!1,instances:s.prop("count"),count:l.length}),T(C,{update:x,draw:m,destroy:a,regl:s,gl:u,canvas:u.canvas,groups:M}),C;function C(E){E?x(E):E===null&&a(),m()}function m(E){if(typeof E=="number")return S(E);E&&!Array.isArray(E)&&(E=[E]),s._refresh(),M.forEach(function(w,k){if(w){if(E&&(E[k]?w.draw=!0:w.draw=!1),!w.draw){w.draw=!0;return}S(k)}})}function S(E){typeof E=="number"&&(E=M[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],y(E),E.after&&E.after(E))}function x(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var w=0,k=0;if(C.groups=M=E.map(function(H,X){var q=M[X];if(H)typeof H=="function"?H={after:H}:typeof H[0]=="number"&&(H={positions:H});else return q;return H=L(H,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),q||(M[X]=q={id:X,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},H=T({},A,H)),i(q,H,[{lineWidth:function(ne){return+ne*.5},capSize:function(ne){return+ne*.5},opacity:parseFloat,errors:function(ne){return ne=v(ne),k+=ne.length,ne},positions:function(ne,oe){return ne=v(ne,"float64"),oe.count=Math.floor(ne.length/2),oe.bounds=g(ne,2),oe.offset=w,w+=oe.count,ne}},{color:function(ne,oe){var ve=oe.count;if(ne||(ne="transparent"),!Array.isArray(ne)||typeof ne[0]=="number"){var J=ne;ne=Array(ve);for(var Y=0;Y<ve;Y++)ne[Y]=J}if(ne.length<ve)throw Error("Not enough colors");for(var j=new Uint8Array(ve*4),K=0;K<ve;K++){var te=R(ne[K],"uint8");j.set(te,K*4)}return j},range:function(ne,oe,ve){var J=oe.bounds;return ne||(ne=J),oe.scale=[1/(ne[2]-ne[0]),1/(ne[3]-ne[1])],oe.translate=[-ne[0],-ne[1]],oe.scaleFract=r(oe.scale),oe.translateFract=r(oe.translate),ne},viewport:function(ne){var oe;return Array.isArray(ne)?oe={x:ne[0],y:ne[1],width:ne[2]-ne[0],height:ne[3]-ne[1]}:ne?(oe={x:ne.x||ne.left||0,y:ne.y||ne.top||0},ne.right?oe.width=ne.right-oe.x:oe.width=ne.w||ne.width||0,ne.bottom?oe.height=ne.bottom-oe.y:oe.height=ne.h||ne.height||0):oe={x:0,y:0,width:u.drawingBufferWidth,height:u.drawingBufferHeight},oe}}]),q}),w||k){var I=M.reduce(function(H,X,q){return H+(X?X.count:0)},0),U=new Float64Array(I*2),z=new Uint8Array(I*4),N=new Float32Array(I*4);M.forEach(function(H,X){if(H){var q=H.positions,ne=H.count,oe=H.offset,ve=H.color,J=H.errors;ne&&(z.set(ve,oe*4),N.set(J,oe*4),U.set(q,oe*2))}});var B=t(U);h(B);var F=r(U,B);b(F),f(z),o(N)}}}function a(){h.destroy(),b.destroy(),f.destroy(),o.destroy(),d.destroy()}}},46075:function(G,V,e){var g=e(25075),R=e(21527),i=e(56131),L=e(56068),T=e(71299),v=e(30120),p=e(11474),t=e(54),r=e(57060),l=r.float32,n=r.fract32,s=e(83522),c=e(18863),u=e(6851);G.exports=y;function y(h,b){if(!(this instanceof y))return new y(h,b);if(typeof h=="function"?(b||(b={}),b.regl=h):b=h,b.length&&(b.positions=b),h=b.regl,!h.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=h._gl,this.regl=h,this.passes=[],this.shaders=y.shaders.has(h)?y.shaders.get(h):y.shaders.set(h,y.createShaders(h)).get(h),this.update(b)}y.dashMult=2,y.maxPatternLength=256,y.precisionThreshold=3e6,y.maxPoints=1e4,y.maxLines=2048,y.shaders=new s,y.createShaders=function(h){var b=h.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),f={primitive:"triangle strip",instances:h.prop("count"),count:4,offset:0,uniforms:{miterMode:function(M,C){return C.join==="round"?2:1},miterLimit:h.prop("miterLimit"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),thickness:h.prop("thickness"),dashTexture:h.prop("dashTexture"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),dashLength:h.prop("dashLength"),viewport:function(M,C){return[C.viewport.x,C.viewport.y,M.viewportWidth,M.viewportHeight]},depth:h.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(M,C){return!C.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport")},o=h(i({vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},f)),d;try{d=h(i({cull:{enable:!0,face:"back"},vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:b,divisor:0,stride:8,offset:0},lineTop:{buffer:b,divisor:0,stride:8,offset:4},aColor:{buffer:h.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:h.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:h.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},f))}catch{d=o}var A=h({primitive:"triangle",elements:function(M,C){return C.triangles},offset:0,vert:L([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:L([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:h.prop("scale"),color:h.prop("fill"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),translate:h.prop("translate"),opacity:h.prop("opacity"),pixelRatio:h.context("pixelRatio"),id:h.prop("id"),viewport:function(M,C){return[C.viewport.x,C.viewport.y,M.viewportWidth,M.viewportHeight]}},attributes:{position:{buffer:h.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:h.prop("positionFractBuffer"),stride:8,offset:8}},blend:f.blend,depth:{enable:!1},scissor:f.scissor,stencil:f.stencil,viewport:f.viewport});return{fill:A,rect:o,miter:d}},y.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},y.prototype.render=function(){for(var h,b=[],f=arguments.length;f--;)b[f]=arguments[f];b.length&&(h=this).update.apply(h,b),this.draw()},y.prototype.draw=function(){for(var h=this,b=[],f=arguments.length;f--;)b[f]=arguments[f];return(b.length?b:this.passes).forEach(function(o,d){var A;if(o&&Array.isArray(o))return(A=h).draw.apply(A,o);typeof o=="number"&&(o=h.passes[o]),o&&o.count>1&&o.opacity&&(h.regl._refresh(),o.fill&&o.triangles&&o.triangles.length>2&&h.shaders.fill(o),o.thickness&&(o.scale[0]*o.viewport.width>y.precisionThreshold||o.scale[1]*o.viewport.height>y.precisionThreshold||o.join==="rect"||!o.join&&(o.thickness<=2||o.count>=y.maxPoints)?h.shaders.rect(o):h.shaders.miter(o)))}),this},y.prototype.update=function(h){var b=this;if(h){h.length!=null?typeof h[0]=="number"&&(h=[{positions:h}]):Array.isArray(h)||(h=[h]);var f=this,o=f.regl,d=f.gl;if(h.forEach(function(S,x){var a=b.passes[x];if(S!==void 0){if(S===null){b.passes[x]=null;return}if(typeof S[0]=="number"&&(S={positions:S}),S=T(S,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),a||(b.passes[x]=a={id:x,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:o.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:o.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:o.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:o.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},S=i({},y.defaults,S)),S.thickness!=null&&(a.thickness=parseFloat(S.thickness)),S.opacity!=null&&(a.opacity=parseFloat(S.opacity)),S.miterLimit!=null&&(a.miterLimit=parseFloat(S.miterLimit)),S.overlay!=null&&(a.overlay=!!S.overlay,x<y.maxLines&&(a.depth=2*(y.maxLines-1-x%y.maxLines)/y.maxLines-1)),S.join!=null&&(a.join=S.join),S.hole!=null&&(a.hole=S.hole),S.fill!=null&&(a.fill=S.fill?g(S.fill,"uint8"):null),S.viewport!=null&&(a.viewport=c(S.viewport)),a.viewport||(a.viewport=c([d.drawingBufferWidth,d.drawingBufferHeight])),S.close!=null&&(a.close=S.close),S.positions===null&&(S.positions=[]),S.positions){var E,w;if(S.positions.x&&S.positions.y){var k=S.positions.x,I=S.positions.y;w=a.count=Math.max(k.length,I.length),E=new Float64Array(w*2);for(var U=0;U<w;U++)E[U*2]=k[U],E[U*2+1]=I[U]}else E=v(S.positions,"float64"),w=a.count=Math.floor(E.length/2);var z=a.bounds=R(E,2);if(a.fill){for(var N=[],B={},F=0,H=0,X=0,q=a.count;H<q;H++){var ne=E[H*2],oe=E[H*2+1];isNaN(ne)||isNaN(oe)||ne==null||oe==null?(ne=E[F*2],oe=E[F*2+1],B[H]=F):F=H,N[X++]=ne,N[X++]=oe}if(S.splitNull){a.count-1 in B||(B[a.count]=a.count-1);var ve=Object.keys(B).map(Number).sort(function(Ye,De){return Ye-De}),J=[],Y=0,j=a.hole!=null?a.hole[0]:null;if(j!=null){var K=u(ve,function(Ye){return Ye>=j});ve=ve.slice(0,K),ve.push(j)}for(var te=function(Ye){var De=N.slice(Y*2,ve[Ye]*2).concat(j?N.slice(j*2):[]),Te=(a.hole||[]).map(function(me){return me-j+(ve[Ye]-Y)}),fe=p(De,Te);fe=fe.map(function(me){return me+Y+(me+Y<ve[Ye]?0:j-ve[Ye])}),J.push.apply(J,fe),Y=ve[Ye]+1},se=0;se<ve.length;se++)te(se);for(var Q=0,ee=J.length;Q<ee;Q++)B[J[Q]]!=null&&(J[Q]=B[J[Q]]);a.triangles=J}else{for(var le=p(N,a.hole||[]),ie=0,he=le.length;ie<he;ie++)B[le[ie]]!=null&&(le[ie]=B[le[ie]]);a.triangles=le}}var xe=new Float64Array(E);t(xe,2,z);var Se=new Float64Array(w*2+6);a.close?E[0]===E[w*2-2]&&E[1]===E[w*2-1]?(Se[0]=xe[w*2-4],Se[1]=xe[w*2-3]):(Se[0]=xe[w*2-2],Se[1]=xe[w*2-1]):(Se[0]=xe[0],Se[1]=xe[1]),Se.set(xe,2),a.close?E[0]===E[w*2-2]&&E[1]===E[w*2-1]?(Se[w*2+2]=xe[2],Se[w*2+3]=xe[3],a.count-=1):(Se[w*2+2]=xe[0],Se[w*2+3]=xe[1],Se[w*2+4]=xe[2],Se[w*2+5]=xe[3]):(Se[w*2+2]=xe[w*2-2],Se[w*2+3]=xe[w*2-1],Se[w*2+4]=xe[w*2-2],Se[w*2+5]=xe[w*2-1]);var Ee=l(Se);a.positionBuffer(Ee);var Ne=n(Se,Ee);a.positionFractBuffer(Ne)}if(S.range?a.range=S.range:a.range||(a.range=a.bounds),(S.range||S.positions)&&a.count){var He=a.bounds,Ce=He[2]-He[0],be=He[3]-He[1],we=a.range[2]-a.range[0],ke=a.range[3]-a.range[1];a.scale=[Ce/we,be/ke],a.translate=[-a.range[0]/we+He[0]/we||0,-a.range[1]/ke+He[1]/ke||0],a.scaleFract=n(a.scale),a.translateFract=n(a.translate)}if(S.dashes){var Fe=0,Pe;if(!S.dashes||S.dashes.length<2)Fe=1,Pe=new Uint8Array([255,255,255,255,255,255,255,255]);else{Fe=0;for(var Ge=0;Ge<S.dashes.length;++Ge)Fe+=S.dashes[Ge];Pe=new Uint8Array(Fe*y.dashMult);for(var nt=0,qe=255,Ke=0;Ke<2;Ke++)for(var $e=0;$e<S.dashes.length;++$e){for(var vt=0,yt=S.dashes[$e]*y.dashMult*.5;vt<yt;++vt)Pe[nt++]=qe;qe^=255}}a.dashLength=Fe,a.dashTexture({channels:1,data:Pe,width:Pe.length,height:1,mag:"linear",min:"linear"},0,0)}if(S.color){var mt=a.count,Et=S.color;Et||(Et="transparent");var Xe=new Uint8Array(mt*4+4);if(!Array.isArray(Et)||typeof Et[0]=="number")for(var Ue=g(Et,"uint8"),Be=0;Be<mt+1;Be++)Xe.set(Ue,Be*4);else{for(var rt=0;rt<mt;rt++){var it=g(Et[rt],"uint8");Xe.set(it,rt*4)}Xe.set(g(Et[0],"uint8"),mt*4)}a.colorBuffer({usage:"dynamic",type:"uint8",data:Xe})}}}),h.length<this.passes.length){for(var A=h.length;A<this.passes.length;A++){var M=this.passes[A];M&&(M.colorBuffer.destroy(),M.positionBuffer.destroy(),M.dashTexture.destroy())}this.passes.length=h.length}for(var C=[],m=0;m<this.passes.length;m++)this.passes[m]!==null&&C.push(this.passes[m]);return this.passes=C,this}},y.prototype.destroy=function(){return this.passes.forEach(function(h){h.colorBuffer.destroy(),h.positionBuffer.destroy(),h.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(G,V,e){function g(a,E){var w=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(w!=null){var k,I,U,z,N=[],B=!0,F=!1;try{if(U=(w=w.call(a)).next,E===0){if(Object(w)!==w)return;B=!1}else for(;!(B=(k=U.call(w)).done)&&(N.push(k.value),N.length!==E);B=!0);}catch(H){F=!0,I=H}finally{try{if(!B&&w.return!=null&&(z=w.return(),Object(z)!==z))return}finally{if(F)throw I}}return N}}function R(a,E){return T(a)||g(a,E)||p(a,E)||l()}function i(a){return L(a)||v(a)||p(a)||r()}function L(a){if(Array.isArray(a))return t(a)}function T(a){if(Array.isArray(a))return a}function v(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function p(a,E){if(a){if(typeof a=="string")return t(a,E);var w=Object.prototype.toString.call(a).slice(8,-1);if(w==="Object"&&a.constructor&&(w=a.constructor.name),w==="Map"||w==="Set")return Array.from(a);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return t(a,E)}}function t(a,E){(E==null||E>a.length)&&(E=a.length);for(var w=0,k=new Array(E);w<E;w++)k[w]=a[w];return k}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(25075),s=e(21527),c=e(6475),u=e(88294),y=e(56131),h=e(56068),b=e(71299),f=e(93447),o=e(30120),d=e(62683),A=e(57060),M=e(18863),C=m;function m(a,E){var w=this;if(!(this instanceof m))return new m(a,E);typeof a=="function"?(E||(E={}),E.regl=a):(E=a,a=null),E&&E.length&&(E.positions=E),a=E.regl;var k=a._gl,I,U=[],z={},N=[],B=[null],F=[null],H=255,X=100;this.tooManyColors=d,I=a.texture({data:new Uint8Array(H*4),width:H,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),y(this,{regl:a,gl:k,groups:N,markerCache:F,markerTextures:B,palette:U,paletteIds:z,paletteTexture:I,maxColors:H,maxSize:X,canvas:k.canvas}),this.update(E);var q={uniforms:{constPointSize:!!E.constPointSize,opacity:a.prop("opacity"),paletteSize:function(J,Y){return[w.tooManyColors?0:H,I.height]},pixelRatio:a.context("pixelRatio"),scale:a.prop("scale"),scaleFract:a.prop("scaleFract"),translate:a.prop("translate"),translateFract:a.prop("translateFract"),markerTexture:a.prop("markerTexture"),paletteTexture:I},attributes:{x:function(J,Y){return Y.xAttr||{buffer:Y.positionBuffer,stride:8,offset:0}},y:function(J,Y){return Y.yAttr||{buffer:Y.positionBuffer,stride:8,offset:4}},xFract:function(J,Y){return Y.xAttr?{constant:[0,0]}:{buffer:Y.positionFractBuffer,stride:8,offset:0}},yFract:function(J,Y){return Y.yAttr?{constant:[0,0]}:{buffer:Y.positionFractBuffer,stride:8,offset:4}},size:function(J,Y){return Y.size.length?{buffer:Y.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Y.size*255/w.maxSize)]}},borderSize:function(J,Y){return Y.borderSize.length?{buffer:Y.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Y.borderSize*255/w.maxSize)]}},colorId:function(J,Y){return Y.color.length?{buffer:Y.colorBuffer,stride:w.tooManyColors?8:4,offset:0}:{constant:w.tooManyColors?U.slice(Y.color*4,Y.color*4+4):[Y.color]}},borderColorId:function(J,Y){return Y.borderColor.length?{buffer:Y.colorBuffer,stride:w.tooManyColors?8:4,offset:w.tooManyColors?4:2}:{constant:w.tooManyColors?U.slice(Y.borderColor*4,Y.borderColor*4+4):[Y.borderColor]}},isActive:function(J,Y){return Y.activation===!0?{constant:[1]}:Y.activation?Y.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:a.prop("viewport")},viewport:a.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:a.prop("elements"),count:a.prop("count"),offset:a.prop("offset"),primitive:"points"},ne=y({},q);ne.frag=h([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),ne.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}`]),this.drawMarker=a(ne);var oe=y({},q);oe.frag=h([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),oe.vert=h([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(oe.frag=oe.frag.replace("smoothstep","smoothStep"),ne.frag=ne.frag.replace("smoothstep","smoothStep")),this.drawCircle=a(oe)}m.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},m.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},m.prototype.draw=function(){for(var a=this,E=arguments.length,w=new Array(E),k=0;k<E;k++)w[k]=arguments[k];var I=this.groups;if(w.length===1&&Array.isArray(w[0])&&(w[0][0]===null||Array.isArray(w[0][0]))&&(w=w[0]),this.regl._refresh(),w.length)for(var U=0;U<w.length;U++)this.drawItem(U,w[U]);else I.forEach(function(z,N){a.drawItem(N)});return this},m.prototype.drawItem=function(a,E){var w=this.groups,k=w[a];if(typeof E=="number"&&(a=E,k=w[E],E=null),!!(k&&k.count&&k.opacity)){k.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,k,E));for(var I=[],U=1;U<k.activation.length;U++)!k.activation[U]||k.activation[U]!==!0&&!k.activation[U].data.length||I.push.apply(I,i(this.getMarkerDrawOptions(U,k,E)));I.length&&this.drawMarker(I)}},m.prototype.getMarkerDrawOptions=function(a,E,w){var k=E.range,I=E.tree,U=E.viewport,z=E.activation,N=E.selectionBuffer,B=E.count;if(this.regl,!I)return w?[y({},E,{markerTexture:this.markerTextures[a],activation:z[a],count:w.length,elements:w,offset:0})]:[y({},E,{markerTexture:this.markerTextures[a],activation:z[a],offset:0})];var F=[],H=I.range(k,{lod:!0,px:[(k[2]-k[0])/U.width,(k[3]-k[1])/U.height]});if(w){for(var X=z[a],q=X.data,ne=new Uint8Array(B),oe=0;oe<w.length;oe++){var ve=w[oe];ne[ve]=q?q[ve]:1}N.subdata(ne)}for(var J=H.length;J--;){var Y=R(H[J],2),j=Y[0],K=Y[1];F.push(y({},E,{markerTexture:this.markerTextures[a],activation:w?N:z[a],offset:j,count:K-j}))}return F},m.prototype.update=function(){for(var a=this,E=arguments.length,w=new Array(E),k=0;k<E;k++)w[k]=arguments[k];if(w.length){w.length===1&&Array.isArray(w[0])&&(w=w[0]);var I=this.groups,U=this.gl,z=this.regl,N=this.maxSize,B=this.maxColors,F=this.palette;this.groups=I=w.map(function(H,X){var q=I[X];if(H===void 0)return q;H===null?H={positions:null}:typeof H=="function"?H={ondraw:H}:typeof H[0]=="number"&&(H={positions:H}),H=b(H,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),H.positions===null&&(H.positions=[]),H.tooManyColors!=null&&(a.tooManyColors=H.tooManyColors),q||(I[X]=q={id:X,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:z.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},H=y({},m.defaults,H)),H.positions&&!("marker"in H)&&(H.marker=q.marker,delete q.marker),H.marker&&!("positions"in H)&&(H.positions=q.positions,delete q.positions);var ne=0,oe=0;if(f(q,H,[{snap:!0,size:function(be,we){return be==null&&(be=m.defaults.size),ne+=be&&be.length?1:0,be},borderSize:function(be,we){return be==null&&(be=m.defaults.borderSize),ne+=be&&be.length?1:0,be},opacity:parseFloat,color:function(be,we){return be==null&&(be=m.defaults.color),be=a.updateColor(be),oe++,be},borderColor:function(be,we){return be==null&&(be=m.defaults.borderColor),be=a.updateColor(be),oe++,be},bounds:function(be,we,ke){return"range"in ke||(ke.range=null),be},positions:function(be,we,ke){var Fe=we.snap,Pe=we.positionBuffer,Ge=we.positionFractBuffer,nt=we.selectionBuffer;if(be.x||be.y)return be.x.length?we.xAttr={buffer:z.buffer(be.x),offset:0,stride:4,count:be.x.length}:we.xAttr={buffer:be.x.buffer,offset:be.x.offset*4||0,stride:(be.x.stride||1)*4,count:be.x.count},be.y.length?we.yAttr={buffer:z.buffer(be.y),offset:0,stride:4,count:be.y.length}:we.yAttr={buffer:be.y.buffer,offset:be.y.offset*4||0,stride:(be.y.stride||1)*4,count:be.y.count},we.count=Math.max(we.xAttr.count,we.yAttr.count),be;be=o(be,"float64");var qe=we.count=Math.floor(be.length/2),Ke=we.bounds=qe?s(be,2):null;if(!ke.range&&!we.range&&(delete we.range,ke.range=Ke),!ke.marker&&!we.marker&&(delete we.marker,ke.marker=null),Fe&&(Fe===!0||qe>Fe)?we.tree=u(be,{bounds:Ke}):Fe&&Fe.length&&(we.tree=Fe),we.tree){var $e={primitive:"points",usage:"static",data:we.tree,type:"uint32"};we.elements?we.elements($e):we.elements=z.elements($e)}var vt=A.float32(be);Pe({data:vt,usage:"dynamic"});var yt=A.fract32(be,vt);return Ge({data:yt,usage:"dynamic"}),nt({data:new Uint8Array(qe),type:"uint8",usage:"stream"}),be}},{marker:function(be,we,ke){var Fe=we.activation;if(Fe.forEach(function(yt){return yt&&yt.destroy&&yt.destroy()}),Fe.length=0,!be||typeof be[0]=="number"){var Pe=a.addMarker(be);Fe[Pe]=!0}else{for(var Ge=[],nt=0,qe=Math.min(be.length,we.count);nt<qe;nt++){var Ke=a.addMarker(be[nt]);Ge[Ke]||(Ge[Ke]=new Uint8Array(we.count)),Ge[Ke][nt]=1}for(var $e=0;$e<Ge.length;$e++)if(Ge[$e]){var vt={data:Ge[$e],type:"uint8",usage:"static"};Fe[$e]?Fe[$e](vt):Fe[$e]=z.buffer(vt),Fe[$e].data=Ge[$e]}}return be},range:function(be,we,ke){var Fe=we.bounds;if(Fe)return be||(be=Fe),we.scale=[1/(be[2]-be[0]),1/(be[3]-be[1])],we.translate=[-be[0],-be[1]],we.scaleFract=A.fract(we.scale),we.translateFract=A.fract(we.translate),be},viewport:function(be){var we=M(be||[U.drawingBufferWidth,U.drawingBufferHeight]);return we}}]),ne){var ve=q,J=ve.count,Y=ve.size,j=ve.borderSize,K=ve.sizeBuffer,te=new Uint8Array(J*2);if(Y.length||j.length)for(var se=0;se<J;se++)te[se*2]=Math.round((Y[se]==null?Y:Y[se])*255/N),te[se*2+1]=Math.round((j[se]==null?j:j[se])*255/N);K({data:te,usage:"dynamic"})}if(oe){var Q=q,ee=Q.count,le=Q.color,ie=Q.borderColor,he=Q.colorBuffer,xe;if(a.tooManyColors){if(le.length||ie.length){xe=new Uint8Array(ee*8);for(var Se=0;Se<ee;Se++){var Ee=le[Se];xe[Se*8]=F[Ee*4],xe[Se*8+1]=F[Ee*4+1],xe[Se*8+2]=F[Ee*4+2],xe[Se*8+3]=F[Ee*4+3];var Ne=ie[Se];xe[Se*8+4]=F[Ne*4],xe[Se*8+5]=F[Ne*4+1],xe[Se*8+6]=F[Ne*4+2],xe[Se*8+7]=F[Ne*4+3]}}}else if(le.length||ie.length){xe=new Uint8Array(ee*4+2);for(var He=0;He<ee;He++)le[He]!=null&&(xe[He*4]=le[He]%B,xe[He*4+1]=Math.floor(le[He]/B)),ie[He]!=null&&(xe[He*4+2]=ie[He]%B,xe[He*4+3]=Math.floor(ie[He]/B))}he({data:xe||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return q})}},m.prototype.addMarker=function(a){var E=this.markerTextures,w=this.regl,k=this.markerCache,I=a==null?0:k.indexOf(a);if(I>=0)return I;var U;if(a instanceof Uint8Array||a instanceof Uint8ClampedArray)U=a;else{U=new Uint8Array(a.length);for(var z=0,N=a.length;z<N;z++)U[z]=a[z]*255}var B=Math.floor(Math.sqrt(U.length));return I=E.length,k.push(a),E.push(w.texture({channels:1,data:U,radius:B,mag:"linear",min:"linear"})),I},m.prototype.updateColor=function(a){var E=this.paletteIds,w=this.palette,k=this.maxColors;Array.isArray(a)||(a=[a]);var I=[];if(typeof a[0]=="number"){var U=[];if(Array.isArray(a))for(var z=0;z<a.length;z+=4)U.push(a.slice(z,z+4));else for(var N=0;N<a.length;N+=4)U.push(a.subarray(N,N+4));a=U}for(var B=0;B<a.length;B++){var F=a[B];F=n(F,"uint8");var H=c(F,!1);if(E[H]==null){var X=w.length;E[H]=Math.floor(X/4),w[X]=F[0],w[X+1]=F[1],w[X+2]=F[2],w[X+3]=F[3]}I[B]=E[H]}return!this.tooManyColors&&w.length>k*4&&(this.tooManyColors=!0),this.updatePalette(w),I.length===1?I[0]:I},m.prototype.updatePalette=function(a){if(!this.tooManyColors){var E=this.maxColors,w=this.paletteTexture,k=Math.ceil(a.length*.25/E);if(k>1){a=a.slice();for(var I=a.length*.25%E;I<k*E;I++)a.push(0,0,0,0)}w.height<k&&w.resize(E,k),w.subimage({width:Math.min(a.length*.25,E),height:k,data:a},0,0)}},m.prototype.destroy=function(){return this.groups.forEach(function(a){a.sizeBuffer.destroy(),a.positionBuffer.destroy(),a.positionFractBuffer.destroy(),a.colorBuffer.destroy(),a.activation.forEach(function(E){return E&&E.destroy&&E.destroy()}),a.selectionBuffer.destroy(),a.elements&&a.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(a){return a&&a.destroy&&a.destroy()}),this};var S=e(56131),x=function(E,w){var k=new C(E,w),I=k.render.bind(k);return S(I,{render:I,update:k.update.bind(k),draw:k.draw.bind(k),destroy:k.destroy.bind(k),regl:k.regl,gl:k.gl,canvas:k.gl.canvas,groups:k.groups,markers:k.markerCache,palette:k.palette}),I};G.exports=x},60487:function(G,V,e){var g=e(11870),R=e(71299),i=e(21527),L=e(5877),T=e(57471),v=e(18863),p=e(30120);G.exports=t;function t(s,c){if(!(this instanceof t))return new t(s);this.traces=[],this.passes={},this.regl=s,this.scatter=g(s),this.canvas=this.scatter.canvas}t.prototype.render=function(){for(var s=this,c,u=[],y=arguments.length;y--;)u[y]=arguments[y];return u.length&&(c=this).update.apply(c,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=L(function(){s.draw(),s.dirty=!0,s.planned=null})):(this.draw(),this.dirty=!0,L(function(){s.dirty=!1})),this)},t.prototype.update=function(){for(var s,c=[],u=arguments.length;u--;)c[u]=arguments[u];if(c.length){for(var y=0;y<c.length;y++)this.updateItem(y,c[y]);this.traces=this.traces.filter(Boolean);for(var h=[],b=0,f=0;f<this.traces.length;f++){for(var o=this.traces[f],d=this.traces[f].passes,A=0;A<d.length;A++)h.push(this.passes[d[A]]);o.passOffset=b,b+=o.passes.length}return(s=this.scatter).update.apply(s,h),this}},t.prototype.updateItem=function(s,c){var u=this,y=u.regl;if(c===null)return this.traces[s]=null,this;if(!c)return this;var h=R(c,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),b=this.traces[s]||(this.traces[s]={id:s,buffer:y.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([y._gl.drawingBufferWidth,y._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(h.color!=null&&(b.color=h.color),h.size!=null&&(b.size=h.size),h.marker!=null&&(b.marker=h.marker),h.borderColor!=null&&(b.borderColor=h.borderColor),h.borderSize!=null&&(b.borderSize=h.borderSize),h.opacity!=null&&(b.opacity=h.opacity),h.viewport&&(b.viewport=v(h.viewport)),h.diagonal!=null&&(b.diagonal=h.diagonal),h.upper!=null&&(b.upper=h.upper),h.lower!=null&&(b.lower=h.lower),h.data){b.buffer(p(h.data)),b.columns=h.data.length,b.count=h.data[0].length,b.bounds=[];for(var f=0;f<b.columns;f++)b.bounds[f]=i(h.data[f],1)}var o;h.range&&(b.range=h.range,o=b.range&&typeof b.range[0]!="number"),h.domain&&(b.domain=h.domain);var d=!1;h.padding!=null&&(Array.isArray(h.padding)&&h.padding.length===b.columns&&typeof h.padding[h.padding.length-1]=="number"?(b.padding=h.padding.map(n),d=!0):b.padding=n(h.padding));var A=b.columns,M=b.count,C=b.viewport.width,m=b.viewport.height,S=b.viewport.x,x=b.viewport.y,a=C/A,E=m/A;b.passes=[];for(var w=0;w<A;w++)for(var k=0;k<A;k++)if(!(!b.diagonal&&k===w)&&!(!b.upper&&w>k)&&!(!b.lower&&w<k)){var I=r(b.id,w,k),U=this.passes[I]||(this.passes[I]={});if(h.data&&(h.transpose?U.positions={x:{buffer:b.buffer,offset:k,count:M,stride:A},y:{buffer:b.buffer,offset:w,count:M,stride:A}}:U.positions={x:{buffer:b.buffer,offset:k*M,count:M},y:{buffer:b.buffer,offset:w*M,count:M}},U.bounds=l(b.bounds,w,k)),h.domain||h.viewport||h.data){var z=d?l(b.padding,w,k):b.padding;if(b.domain){var N=l(b.domain,w,k),B=N[0],F=N[1],H=N[2],X=N[3];U.viewport=[S+B*C+z[0],x+F*m+z[1],S+H*C-z[2],x+X*m-z[3]]}else U.viewport=[S+k*a+a*z[0],x+w*E+E*z[1],S+(k+1)*a-a*z[2],x+(w+1)*E-E*z[3]]}h.color&&(U.color=b.color),h.size&&(U.size=b.size),h.marker&&(U.marker=b.marker),h.borderSize&&(U.borderSize=b.borderSize),h.borderColor&&(U.borderColor=b.borderColor),h.opacity&&(U.opacity=b.opacity),h.range&&(U.range=o?l(b.range,w,k):b.range||U.bounds),b.passes.push(I)}return this},t.prototype.draw=function(){for(var s,c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!c.length)this.scatter.draw();else{for(var y=[],h=0;h<c.length;h++)if(typeof c[h]=="number"){var b=this.traces[c[h]],f=b.passes,o=b.passOffset;y.push.apply(y,T(o,o+f.length))}else if(c[h].length){var d=c[h],A=this.traces[h],M=A.passes,C=A.passOffset;M=M.map(function(m,S){y[C+S]=d})}(s=this.scatter).draw.apply(s,y)}return this},t.prototype.destroy=function(){return this.traces.forEach(function(s){s.buffer&&s.buffer.destroy&&s.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function r(s,c,u){var y=s.id!=null?s.id:s,h=c,b=u,f=y<<16|(h&255)<<8|b&255;return f}function l(s,c,u){var y,h,b,f,o=s[c],d=s[u];return o.length>2?(o[0],o[2],y=o[1],h=o[3]):o.length?(y=o[0],h=o[1]):(o.x,y=o.y,o.x+o.width,h=o.y+o.height),d.length>2?(b=d[0],f=d[2],d[1],d[3]):d.length?(b=d[0],f=d[1]):(b=d.x,d.y,f=d.x+d.width,d.y+d.height),[b,y,f,h]}function n(s){if(typeof s=="number")return[s,s,s,s];if(s.length===2)return[s[0],s[1],s[0],s[1]];var c=v(s);return[c.x,c.y,c.x+c.width,c.y+c.height]}},98580:function(G){(function(V,e){G.exports=e()})(this,function(){function V(bt,Jt){this.id=he++,this.type=bt,this.data=Jt}function e(bt){if(bt.length===0)return[];var Jt=bt.charAt(0),Zt=bt.charAt(bt.length-1);if(1<bt.length&&Jt===Zt&&(Jt==='"'||Jt==="'"))return['"'+bt.substr(1,bt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Jt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(bt))return e(bt.substr(0,Jt.index)).concat(e(Jt[1])).concat(e(bt.substr(Jt.index+Jt[0].length)));if(Jt=bt.split("."),Jt.length===1)return['"'+bt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(bt=[],Zt=0;Zt<Jt.length;++Zt)bt=bt.concat(e(Jt[Zt]));return bt}function g(bt){return"["+e(bt).join("][")+"]"}function R(bt,Jt){if(typeof bt=="function")return new V(0,bt);if(typeof bt=="number"||typeof bt=="boolean")return new V(5,bt);if(Array.isArray(bt))return new V(6,bt.map(function(Zt,Ar){return R(Zt)}));if(bt instanceof V)return bt}function i(){var bt={"":0},Jt=[""];return{id:function(Zt){var Ar=bt[Zt];return Ar||(Ar=bt[Zt]=Jt.length,Jt.push(Zt),Ar)},str:function(Zt){return Jt[Zt]}}}function L(bt,Jt,Zt){function Ar(){var ct=window.innerWidth,wt=window.innerHeight;bt!==document.body&&(wt=dr.getBoundingClientRect(),ct=wt.right-wt.left,wt=wt.bottom-wt.top),dr.width=Zt*ct,dr.height=Zt*wt}var dr=document.createElement("canvas");ie(dr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),bt.appendChild(dr),bt===document.body&&(dr.style.position="absolute",ie(bt.style,{margin:0,padding:0}));var ht;return bt!==document.body&&typeof ResizeObserver=="function"?(ht=new ResizeObserver(function(){setTimeout(Ar)}),ht.observe(bt)):window.addEventListener("resize",Ar,!1),Ar(),{canvas:dr,onDestroy:function(){ht?ht.disconnect():window.removeEventListener("resize",Ar),bt.removeChild(dr)}}}function T(bt,Jt){function Zt(Ar){try{return bt.getContext(Ar,Jt)}catch{return null}}return Zt("webgl")||Zt("experimental-webgl")||Zt("webgl-experimental")}function v(bt){return typeof bt=="string"?bt.split():bt}function p(bt){return typeof bt=="string"?document.querySelector(bt):bt}function t(bt){var Jt=bt||{},Zt,Ar,dr,ht;bt={};var ct=[],wt=[],St=typeof window>"u"?1:window.devicePixelRatio,Rt=!1,Ct={},Ot=function(er){},Wt=function(){};if(typeof Jt=="string"?Zt=document.querySelector(Jt):typeof Jt=="object"&&(typeof Jt.nodeName=="string"&&typeof Jt.appendChild=="function"&&typeof Jt.getBoundingClientRect=="function"?Zt=Jt:typeof Jt.drawArrays=="function"||typeof Jt.drawElements=="function"?(ht=Jt,dr=ht.canvas):("gl"in Jt?ht=Jt.gl:"canvas"in Jt?dr=p(Jt.canvas):"container"in Jt&&(Ar=p(Jt.container)),"attributes"in Jt&&(bt=Jt.attributes),"extensions"in Jt&&(ct=v(Jt.extensions)),"optionalExtensions"in Jt&&(wt=v(Jt.optionalExtensions)),"onDone"in Jt&&(Ot=Jt.onDone),"profile"in Jt&&(Rt=!!Jt.profile),"pixelRatio"in Jt&&(St=+Jt.pixelRatio),"cachedCode"in Jt&&(Ct=Jt.cachedCode))),Zt&&(Zt.nodeName.toLowerCase()==="canvas"?dr=Zt:Ar=Zt),!ht){if(!dr){if(Zt=L(Ar||document.body,Ot,St),!Zt)return null;dr=Zt.canvas,Wt=Zt.onDestroy}bt.premultipliedAlpha===void 0&&(bt.premultipliedAlpha=!0),ht=T(dr,bt)}return ht?{gl:ht,canvas:dr,container:Ar,extensions:ct,optionalExtensions:wt,pixelRatio:St,profile:Rt,cachedCode:Ct,onDone:Ot,onDestroy:Wt}:(Wt(),Ot("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function r(bt,Jt){function Zt(ct){ct=ct.toLowerCase();var wt;try{wt=Ar[ct]=bt.getExtension(ct)}catch{}return!!wt}for(var Ar={},dr=0;dr<Jt.extensions.length;++dr){var ht=Jt.extensions[dr];if(!Zt(ht))return Jt.onDestroy(),Jt.onDone('"'+ht+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Jt.optionalExtensions.forEach(Zt),{extensions:Ar,restore:function(){Object.keys(Ar).forEach(function(ct){if(Ar[ct]&&!Zt(ct))throw Error("(regl): error restoring extension "+ct)})}}}function l(bt,Jt){for(var Zt=Array(bt),Ar=0;Ar<bt;++Ar)Zt[Ar]=Jt(Ar);return Zt}function n(bt){var Jt,Zt;return Jt=(65535<bt)<<4,bt>>>=Jt,Zt=(255<bt)<<3,bt>>>=Zt,Jt|=Zt,Zt=(15<bt)<<2,bt>>>=Zt,Jt|=Zt,Zt=(3<bt)<<1,Jt|Zt|bt>>>Zt>>1}function s(){function bt(Ar){e:{for(var dr=16;268435456>=dr;dr*=16)if(Ar<=dr){Ar=dr;break e}Ar=0}return dr=Zt[n(Ar)>>2],0<dr.length?dr.pop():new ArrayBuffer(Ar)}function Jt(Ar){Zt[n(Ar.byteLength)>>2].push(Ar)}var Zt=l(8,function(){return[]});return{alloc:bt,free:Jt,allocType:function(Ar,dr){var ht=null;switch(Ar){case 5120:ht=new Int8Array(bt(dr),0,dr);break;case 5121:ht=new Uint8Array(bt(dr),0,dr);break;case 5122:ht=new Int16Array(bt(2*dr),0,dr);break;case 5123:ht=new Uint16Array(bt(2*dr),0,dr);break;case 5124:ht=new Int32Array(bt(4*dr),0,dr);break;case 5125:ht=new Uint32Array(bt(4*dr),0,dr);break;case 5126:ht=new Float32Array(bt(4*dr),0,dr);break;default:return null}return ht.length!==dr?ht.subarray(0,dr):ht},freeType:function(Ar){Jt(Ar.buffer)}}}function c(bt){return!!bt&&typeof bt=="object"&&Array.isArray(bt.shape)&&Array.isArray(bt.stride)&&typeof bt.offset=="number"&&bt.shape.length===bt.stride.length&&(Array.isArray(bt.data)||Ce(bt.data))}function u(bt,Jt,Zt,Ar,dr,ht){for(var ct=0;ct<Jt;++ct)for(var wt=bt[ct],St=0;St<Zt;++St)for(var Rt=wt[St],Ct=0;Ct<Ar;++Ct)dr[ht++]=Rt[Ct]}function y(bt,Jt,Zt,Ar,dr){for(var ht=1,ct=Zt+1;ct<Jt.length;++ct)ht*=Jt[ct];var wt=Jt[Zt];if(Jt.length-Zt===4){var St=Jt[Zt+1],Rt=Jt[Zt+2];for(Jt=Jt[Zt+3],ct=0;ct<wt;++ct)u(bt[ct],St,Rt,Jt,Ar,dr),dr+=ht}else for(ct=0;ct<wt;++ct)y(bt[ct],Jt,Zt+1,Ar,dr),dr+=ht}function h(bt){return ke[Object.prototype.toString.call(bt)]|0}function b(bt,Jt){for(var Zt=0;Zt<Jt.length;++Zt)bt[Zt]=Jt[Zt]}function f(bt,Jt,Zt,Ar,dr,ht,ct){for(var wt=0,St=0;St<Zt;++St)for(var Rt=0;Rt<Ar;++Rt)bt[wt++]=Jt[dr*St+ht*Rt+ct]}function o(bt,Jt,Zt,Ar){function dr(Ot){this.id=St++,this.buffer=bt.createBuffer(),this.type=Ot,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Zt.profile&&(this.stats={size:0})}function ht(Ot,Wt,er){Ot.byteLength=Wt.byteLength,bt.bufferData(Ot.type,Wt,er)}function ct(Ot,Wt,er,$t,sr,Cr){if(Ot.usage=er,Array.isArray(Wt)){if(Ot.dtype=$t||5126,0<Wt.length)if(Array.isArray(Wt[0])){sr=nt(Wt);for(var je=$t=1;je<sr.length;++je)$t*=sr[je];Ot.dimension=$t,Wt=Ge(Wt,sr,Ot.dtype),ht(Ot,Wt,er),Cr?Ot.persistentData=Wt:Ne.freeType(Wt)}else typeof Wt[0]=="number"?(Ot.dimension=sr,sr=Ne.allocType(Ot.dtype,Wt.length),b(sr,Wt),ht(Ot,sr,er),Cr?Ot.persistentData=sr:Ne.freeType(sr)):Ce(Wt[0])&&(Ot.dimension=Wt[0].length,Ot.dtype=$t||h(Wt[0])||5126,Wt=Ge(Wt,[Wt.length,Wt[0].length],Ot.dtype),ht(Ot,Wt,er),Cr?Ot.persistentData=Wt:Ne.freeType(Wt))}else if(Ce(Wt))Ot.dtype=$t||h(Wt),Ot.dimension=sr,ht(Ot,Wt,er),Cr&&(Ot.persistentData=new Uint8Array(new Uint8Array(Wt.buffer)));else if(c(Wt)){sr=Wt.shape;var We=Wt.stride,je=Wt.offset,kt=0,zt=0,Xt=0,lr=0;sr.length===1?(kt=sr[0],zt=1,Xt=We[0],lr=0):sr.length===2&&(kt=sr[0],zt=sr[1],Xt=We[0],lr=We[1]),Ot.dtype=$t||h(Wt.data)||5126,Ot.dimension=zt,sr=Ne.allocType(Ot.dtype,kt*zt),f(sr,Wt.data,kt,zt,Xt,lr,je),ht(Ot,sr,er),Cr?Ot.persistentData=sr:Ne.freeType(sr)}else Wt instanceof ArrayBuffer&&(Ot.dtype=5121,Ot.dimension=sr,ht(Ot,Wt,er),Cr&&(Ot.persistentData=new Uint8Array(new Uint8Array(Wt))))}function wt(Ot){Jt.bufferCount--,Ar(Ot),bt.deleteBuffer(Ot.buffer),Ot.buffer=null,delete Rt[Ot.id]}var St=0,Rt={};dr.prototype.bind=function(){bt.bindBuffer(this.type,this.buffer)},dr.prototype.destroy=function(){wt(this)};var Ct=[];return Zt.profile&&(Jt.getTotalBufferSize=function(){var Ot=0;return Object.keys(Rt).forEach(function(Wt){Ot+=Rt[Wt].stats.size}),Ot}),{create:function(Ot,Wt,er,$t){function sr(je){var We=35044,kt=null,zt=0,Xt=0,lr=1;return Array.isArray(je)||Ce(je)||c(je)||je instanceof ArrayBuffer?kt=je:typeof je=="number"?zt=je|0:je&&("data"in je&&(kt=je.data),"usage"in je&&(We=Pe[je.usage]),"type"in je&&(Xt=Fe[je.type]),"dimension"in je&&(lr=je.dimension|0),"length"in je&&(zt=je.length|0)),Cr.bind(),kt?ct(Cr,kt,We,Xt,lr,$t):(zt&&bt.bufferData(Cr.type,zt,We),Cr.dtype=Xt||5121,Cr.usage=We,Cr.dimension=lr,Cr.byteLength=zt),Zt.profile&&(Cr.stats.size=Cr.byteLength*qe[Cr.dtype]),sr}Jt.bufferCount++;var Cr=new dr(Wt);return Rt[Cr.id]=Cr,er||sr(Ot),sr._reglType="buffer",sr._buffer=Cr,sr.subdata=function(je,We){var kt=(We||0)|0,zt;if(Cr.bind(),Ce(je)||je instanceof ArrayBuffer)bt.bufferSubData(Cr.type,kt,je);else if(Array.isArray(je)){if(0<je.length)if(typeof je[0]=="number"){var Xt=Ne.allocType(Cr.dtype,je.length);b(Xt,je),bt.bufferSubData(Cr.type,kt,Xt),Ne.freeType(Xt)}else(Array.isArray(je[0])||Ce(je[0]))&&(zt=nt(je),Xt=Ge(je,zt,Cr.dtype),bt.bufferSubData(Cr.type,kt,Xt),Ne.freeType(Xt))}else if(c(je)){zt=je.shape;var lr=je.stride,cr=Xt=0,nr=0,Bt=0;zt.length===1?(Xt=zt[0],cr=1,nr=lr[0],Bt=0):zt.length===2&&(Xt=zt[0],cr=zt[1],nr=lr[0],Bt=lr[1]),zt=Array.isArray(je.data)?Cr.dtype:h(je.data),zt=Ne.allocType(zt,Xt*cr),f(zt,je.data,Xt,cr,nr,Bt,je.offset),bt.bufferSubData(Cr.type,kt,zt),Ne.freeType(zt)}return sr},Zt.profile&&(sr.stats=Cr.stats),sr.destroy=function(){wt(Cr)},sr},createStream:function(Ot,Wt){var er=Ct.pop();return er||(er=new dr(Ot)),er.bind(),ct(er,Wt,35040,0,1,!1),er},destroyStream:function(Ot){Ct.push(Ot)},clear:function(){be(Rt).forEach(wt),Ct.forEach(wt)},getBuffer:function(Ot){return Ot&&Ot._buffer instanceof dr?Ot._buffer:null},restore:function(){be(Rt).forEach(function(Ot){Ot.buffer=bt.createBuffer(),bt.bindBuffer(Ot.type,Ot.buffer),bt.bufferData(Ot.type,Ot.persistentData||Ot.byteLength,Ot.usage)})},_initBuffer:ct}}function d(bt,Jt,Zt,Ar){function dr(Ot){this.id=St++,wt[this.id]=this,this.buffer=Ot,this.primType=4,this.type=this.vertCount=0}function ht(Ot,Wt,er,$t,sr,Cr,je){Ot.buffer.bind();var We;if(Wt?((We=je)||Ce(Wt)&&(!c(Wt)||Ce(Wt.data))||(We=Jt.oes_element_index_uint?5125:5123),Zt._initBuffer(Ot.buffer,Wt,er,We,3)):(bt.bufferData(34963,Cr,er),Ot.buffer.dtype=We||5121,Ot.buffer.usage=er,Ot.buffer.dimension=3,Ot.buffer.byteLength=Cr),We=je,!je){switch(Ot.buffer.dtype){case 5121:case 5120:We=5121;break;case 5123:case 5122:We=5123;break;case 5125:case 5124:We=5125}Ot.buffer.dtype=We}Ot.type=We,Wt=sr,0>Wt&&(Wt=Ot.buffer.byteLength,We===5123?Wt>>=1:We===5125&&(Wt>>=2)),Ot.vertCount=Wt,Wt=$t,0>$t&&(Wt=4,$t=Ot.buffer.dimension,$t===1&&(Wt=0),$t===2&&(Wt=1),$t===3&&(Wt=4)),Ot.primType=Wt}function ct(Ot){Ar.elementsCount--,delete wt[Ot.id],Ot.buffer.destroy(),Ot.buffer=null}var wt={},St=0,Rt={uint8:5121,uint16:5123};Jt.oes_element_index_uint&&(Rt.uint32=5125),dr.prototype.bind=function(){this.buffer.bind()};var Ct=[];return{create:function(Ot,Wt){function er(Cr){if(Cr)if(typeof Cr=="number")$t(Cr),sr.primType=4,sr.vertCount=Cr|0,sr.type=5121;else{var je=null,We=35044,kt=-1,zt=-1,Xt=0,lr=0;Array.isArray(Cr)||Ce(Cr)||c(Cr)?je=Cr:("data"in Cr&&(je=Cr.data),"usage"in Cr&&(We=Pe[Cr.usage]),"primitive"in Cr&&(kt=Ke[Cr.primitive]),"count"in Cr&&(zt=Cr.count|0),"type"in Cr&&(lr=Rt[Cr.type]),"length"in Cr?Xt=Cr.length|0:(Xt=zt,lr===5123||lr===5122?Xt*=2:(lr===5125||lr===5124)&&(Xt*=4))),ht(sr,je,We,kt,zt,Xt,lr)}else $t(),sr.primType=4,sr.vertCount=0,sr.type=5121;return er}var $t=Zt.create(null,34963,!0),sr=new dr($t._buffer);return Ar.elementsCount++,er(Ot),er._reglType="elements",er._elements=sr,er.subdata=function(Cr,je){return $t.subdata(Cr,je),er},er.destroy=function(){ct(sr)},er},createStream:function(Ot){var Wt=Ct.pop();return Wt||(Wt=new dr(Zt.create(null,34963,!0,!1)._buffer)),ht(Wt,Ot,35040,-1,-1,0,0),Wt},destroyStream:function(Ot){Ct.push(Ot)},getElements:function(Ot){return typeof Ot=="function"&&Ot._elements instanceof dr?Ot._elements:null},clear:function(){be(wt).forEach(ct)}}}function A(bt){for(var Jt=Ne.allocType(5123,bt.length),Zt=0;Zt<bt.length;++Zt)if(isNaN(bt[Zt]))Jt[Zt]=65535;else if(bt[Zt]===1/0)Jt[Zt]=31744;else if(bt[Zt]===-1/0)Jt[Zt]=64512;else{$e[0]=bt[Zt];var ht=vt[0],Ar=ht>>>31<<15,dr=(ht<<1>>>24)-127,ht=ht>>13&1023;Jt[Zt]=-24>dr?Ar:-14>dr?Ar+(ht+1024>>-14-dr):15<dr?Ar+31744:Ar+(dr+15<<10)+ht}return Jt}function M(bt){return Array.isArray(bt)||Ce(bt)}function C(bt){return"[object "+bt+"]"}function m(bt){return Array.isArray(bt)&&(bt.length===0||typeof bt[0]=="number")}function S(bt){return!!(Array.isArray(bt)&&bt.length!==0&&M(bt[0]))}function x(bt){return Object.prototype.toString.call(bt)}function a(bt){if(!bt)return!1;var Jt=x(bt);return 0<=De.indexOf(Jt)?!0:m(bt)||S(bt)||c(bt)}function E(bt,Jt){bt.type===36193?(bt.data=A(Jt),Ne.freeType(Jt)):bt.data=Jt}function w(bt,Jt,Zt,Ar,dr,ht){if(bt=typeof fe[bt]<"u"?fe[bt]:Et[bt]*Te[Jt],ht&&(bt*=6),dr){for(Ar=0;1<=Zt;)Ar+=bt*Zt*Zt,Zt/=2;return Ar}return bt*Zt*Ar}function k(bt,Jt,Zt,Ar,dr,ht,ct){function wt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function St(Pr,hn){Pr.internalformat=hn.internalformat,Pr.format=hn.format,Pr.type=hn.type,Pr.compressed=hn.compressed,Pr.premultiplyAlpha=hn.premultiplyAlpha,Pr.flipY=hn.flipY,Pr.unpackAlignment=hn.unpackAlignment,Pr.colorSpace=hn.colorSpace,Pr.width=hn.width,Pr.height=hn.height,Pr.channels=hn.channels}function Rt(Pr,hn){if(typeof hn=="object"&&hn){"premultiplyAlpha"in hn&&(Pr.premultiplyAlpha=hn.premultiplyAlpha),"flipY"in hn&&(Pr.flipY=hn.flipY),"alignment"in hn&&(Pr.unpackAlignment=hn.alignment),"colorSpace"in hn&&(Pr.colorSpace=Tn[hn.colorSpace]),"type"in hn&&(Pr.type=Kr[hn.type]);var un=Pr.width,wn=Pr.height,Zn=Pr.channels,In=!1;"shape"in hn?(un=hn.shape[0],wn=hn.shape[1],hn.shape.length===3&&(Zn=hn.shape[2],In=!0)):("radius"in hn&&(un=wn=hn.radius),"width"in hn&&(un=hn.width),"height"in hn&&(wn=hn.height),"channels"in hn&&(Zn=hn.channels,In=!0)),Pr.width=un|0,Pr.height=wn|0,Pr.channels=Zn|0,un=!1,"format"in hn&&(un=hn.format,wn=Pr.internalformat=Bn[un],Pr.format=Pn[wn],un in Kr&&!("type"in hn)&&(Pr.type=Kr[un]),un in On&&(Pr.compressed=!0),un=!0),!In&&un?Pr.channels=Et[Pr.format]:In&&!un&&Pr.channels!==mt[Pr.format]&&(Pr.format=Pr.internalformat=mt[Pr.channels])}}function Ct(Pr){bt.pixelStorei(37440,Pr.flipY),bt.pixelStorei(37441,Pr.premultiplyAlpha),bt.pixelStorei(37443,Pr.colorSpace),bt.pixelStorei(3317,Pr.unpackAlignment)}function Ot(){wt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Wt(Pr,hn){var un=null;if(a(hn)?un=hn:hn&&(Rt(Pr,hn),"x"in hn&&(Pr.xOffset=hn.x|0),"y"in hn&&(Pr.yOffset=hn.y|0),a(hn.data)&&(un=hn.data)),hn.copy){var wn=dr.viewportWidth,Zn=dr.viewportHeight;Pr.width=Pr.width||wn-Pr.xOffset,Pr.height=Pr.height||Zn-Pr.yOffset,Pr.needsCopy=!0}else if(!un)Pr.width=Pr.width||1,Pr.height=Pr.height||1,Pr.channels=Pr.channels||4;else if(Ce(un))Pr.channels=Pr.channels||4,Pr.data=un,"type"in hn||Pr.type!==5121||(Pr.type=ke[Object.prototype.toString.call(un)]|0);else if(m(un)){switch(Pr.channels=Pr.channels||4,wn=un,Zn=wn.length,Pr.type){case 5121:case 5123:case 5125:case 5126:Zn=Ne.allocType(Pr.type,Zn),Zn.set(wn),Pr.data=Zn;break;case 36193:Pr.data=A(wn)}Pr.alignment=1,Pr.needsFree=!0}else if(c(un)){wn=un.data,Array.isArray(wn)||Pr.type!==5121||(Pr.type=ke[Object.prototype.toString.call(wn)]|0);var Zn=un.shape,In=un.stride,Dn,jn,va,Ia;Zn.length===3?(va=Zn[2],Ia=In[2]):Ia=va=1,Dn=Zn[0],jn=Zn[1],Zn=In[0],In=In[1],Pr.alignment=1,Pr.width=Dn,Pr.height=jn,Pr.channels=va,Pr.format=Pr.internalformat=mt[va],Pr.needsFree=!0,Dn=Ia,un=un.offset,va=Pr.width,Ia=Pr.height,jn=Pr.channels;for(var hi=Ne.allocType(Pr.type===36193?5126:Pr.type,va*Ia*jn),Kt=0,Sr=0;Sr<Ia;++Sr)for(var fn=0;fn<va;++fn)for(var gn=0;gn<jn;++gn)hi[Kt++]=wn[Zn*fn+In*Sr+Dn*gn+un];E(Pr,hi)}else if(x(un)===Xe||x(un)===Ue||x(un)===Be)x(un)===Xe||x(un)===Ue?Pr.element=un:Pr.element=un.canvas,Pr.width=Pr.element.width,Pr.height=Pr.element.height,Pr.channels=4;else if(x(un)===rt)Pr.element=un,Pr.width=un.width,Pr.height=un.height,Pr.channels=4;else if(x(un)===it)Pr.element=un,Pr.width=un.naturalWidth,Pr.height=un.naturalHeight,Pr.channels=4;else if(x(un)===Ye)Pr.element=un,Pr.width=un.videoWidth,Pr.height=un.videoHeight,Pr.channels=4;else if(S(un)){for(wn=Pr.width||un[0].length,Zn=Pr.height||un.length,In=Pr.channels,In=M(un[0][0])?In||un[0][0].length:In||1,Dn=we.shape(un),va=1,Ia=0;Ia<Dn.length;++Ia)va*=Dn[Ia];va=Ne.allocType(Pr.type===36193?5126:Pr.type,va),we.flatten(un,Dn,"",va),E(Pr,va),Pr.alignment=1,Pr.width=wn,Pr.height=Zn,Pr.channels=In,Pr.format=Pr.internalformat=mt[In],Pr.needsFree=!0}}function er(Pr,hn,un,wn,Zn){var In=Pr.element,Dn=Pr.data,jn=Pr.internalformat,va=Pr.format,Ia=Pr.type,hi=Pr.width,Kt=Pr.height;Ct(Pr),In?bt.texSubImage2D(hn,Zn,un,wn,va,Ia,In):Pr.compressed?bt.compressedTexSubImage2D(hn,Zn,un,wn,jn,hi,Kt,Dn):Pr.needsCopy?(Ar(),bt.copyTexSubImage2D(hn,Zn,un,wn,Pr.xOffset,Pr.yOffset,hi,Kt)):bt.texSubImage2D(hn,Zn,un,wn,hi,Kt,va,Ia,Dn)}function $t(){return zn.pop()||new Ot}function sr(Pr){Pr.needsFree&&Ne.freeType(Pr.data),Ot.call(Pr),zn.push(Pr)}function Cr(){wt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function je(Pr,hn,un){var wn=Pr.images[0]=$t();Pr.mipmask=1,wn.width=Pr.width=hn,wn.height=Pr.height=un,wn.channels=Pr.channels=4}function We(Pr,hn){var un=null;if(a(hn))un=Pr.images[0]=$t(),St(un,Pr),Wt(un,hn),Pr.mipmask=1;else if(Rt(Pr,hn),Array.isArray(hn.mipmap))for(var wn=hn.mipmap,Zn=0;Zn<wn.length;++Zn)un=Pr.images[Zn]=$t(),St(un,Pr),un.width>>=Zn,un.height>>=Zn,Wt(un,wn[Zn]),Pr.mipmask|=1<<Zn;else un=Pr.images[0]=$t(),St(un,Pr),Wt(un,hn),Pr.mipmask=1;St(Pr,Pr.images[0])}function kt(Pr,hn){for(var un=Pr.images,wn=0;wn<un.length&&un[wn];++wn){var Zn=un[wn],In=hn,Dn=wn,jn=Zn.element,va=Zn.data,Ia=Zn.internalformat,hi=Zn.format,Kt=Zn.type,Sr=Zn.width,fn=Zn.height;Ct(Zn),jn?bt.texImage2D(In,Dn,hi,hi,Kt,jn):Zn.compressed?bt.compressedTexImage2D(In,Dn,Ia,Sr,fn,0,va):Zn.needsCopy?(Ar(),bt.copyTexImage2D(In,Dn,hi,Zn.xOffset,Zn.yOffset,Sr,fn,0)):bt.texImage2D(In,Dn,hi,Sr,fn,0,hi,Kt,va||null)}}function zt(){var Pr=ta.pop()||new Cr;wt.call(Pr);for(var hn=Pr.mipmask=0;16>hn;++hn)Pr.images[hn]=null;return Pr}function Xt(Pr){for(var hn=Pr.images,un=0;un<hn.length;++un)hn[un]&&sr(hn[un]),hn[un]=null;ta.push(Pr)}function lr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function cr(Pr,hn){"min"in hn&&(Pr.minFilter=Br[hn.min],0<=yt.indexOf(Pr.minFilter)&&!("faces"in hn)&&(Pr.genMipmaps=!0)),"mag"in hn&&(Pr.magFilter=Ur[hn.mag]);var un=Pr.wrapS,wn=Pr.wrapT;if("wrap"in hn){var Zn=hn.wrap;typeof Zn=="string"?un=wn=Zr[Zn]:Array.isArray(Zn)&&(un=Zr[Zn[0]],wn=Zr[Zn[1]])}else"wrapS"in hn&&(un=Zr[hn.wrapS]),"wrapT"in hn&&(wn=Zr[hn.wrapT]);if(Pr.wrapS=un,Pr.wrapT=wn,"anisotropic"in hn&&(Pr.anisotropic=hn.anisotropic),"mipmap"in hn){switch(un=!1,typeof hn.mipmap){case"string":Pr.mipmapHint=gr[hn.mipmap],un=Pr.genMipmaps=!0;break;case"boolean":un=Pr.genMipmaps=hn.mipmap;break;case"object":Pr.genMipmaps=!1,un=!0}!un||"min"in hn||(Pr.minFilter=9984)}}function nr(Pr,hn){bt.texParameteri(hn,10241,Pr.minFilter),bt.texParameteri(hn,10240,Pr.magFilter),bt.texParameteri(hn,10242,Pr.wrapS),bt.texParameteri(hn,10243,Pr.wrapT),Jt.ext_texture_filter_anisotropic&&bt.texParameteri(hn,34046,Pr.anisotropic),Pr.genMipmaps&&(bt.hint(33170,Pr.mipmapHint),bt.generateMipmap(hn))}function Bt(Pr){wt.call(this),this.mipmask=0,this.internalformat=6408,this.id=oa++,this.refCount=1,this.target=Pr,this.texture=bt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new lr,ct.profile&&(this.stats={size:0})}function vr(Pr){bt.activeTexture(33984),bt.bindTexture(Pr.target,Pr.texture)}function yr(){var Pr=la[0];Pr?bt.bindTexture(Pr.target,Pr.texture):bt.bindTexture(3553,null)}function mr(Pr){var hn=Pr.texture,un=Pr.unit,wn=Pr.target;0<=un&&(bt.activeTexture(33984+un),bt.bindTexture(wn,null),la[un]=null),bt.deleteTexture(hn),Pr.texture=null,Pr.params=null,Pr.pixels=null,Pr.refCount=0,delete ya[Pr.id],ht.textureCount--}var gr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Zr={repeat:10497,clamp:33071,mirror:33648},Ur={nearest:9728,linear:9729},Br=ie({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Ur),Tn={none:0,browser:37444},Kr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Bn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},On={};Jt.ext_srgb&&(Bn.srgb=35904,Bn.srgba=35906),Jt.oes_texture_float&&(Kr.float32=Kr.float=5126),Jt.oes_texture_half_float&&(Kr.float16=Kr["half float"]=36193),Jt.webgl_depth_texture&&(ie(Bn,{depth:6402,"depth stencil":34041}),ie(Kr,{uint16:5123,uint32:5125,"depth stencil":34042})),Jt.webgl_compressed_texture_s3tc&&ie(On,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Jt.webgl_compressed_texture_atc&&ie(On,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Jt.webgl_compressed_texture_pvrtc&&ie(On,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Jt.webgl_compressed_texture_etc1&&(On["rgb etc1"]=36196);var Tr=Array.prototype.slice.call(bt.getParameter(34467));Object.keys(On).forEach(function(Pr){var hn=On[Pr];0<=Tr.indexOf(hn)&&(Bn[Pr]=hn)});var Mr=Object.keys(Bn);Zt.textureFormats=Mr;var Hr=[];Object.keys(Bn).forEach(function(Pr){Hr[Bn[Pr]]=Pr});var Vr=[];Object.keys(Kr).forEach(function(Pr){Vr[Kr[Pr]]=Pr});var nn=[];Object.keys(Ur).forEach(function(Pr){nn[Ur[Pr]]=Pr});var bn=[];Object.keys(Br).forEach(function(Pr){bn[Br[Pr]]=Pr});var dn=[];Object.keys(Zr).forEach(function(Pr){dn[Zr[Pr]]=Pr});var Pn=Mr.reduce(function(Pr,hn){var un=Bn[hn];return un===6409||un===6406||un===6409||un===6410||un===6402||un===34041||Jt.ext_srgb&&(un===35904||un===35906)?Pr[un]=un:un===32855||0<=hn.indexOf("rgba")?Pr[un]=6408:Pr[un]=6407,Pr},{}),zn=[],ta=[],oa=0,ya={},ca=Zt.maxTextureUnits,la=Array(ca).map(function(){return null});return ie(Bt.prototype,{bind:function(){this.bindCount+=1;var Pr=this.unit;if(0>Pr){for(var hn=0;hn<ca;++hn){var un=la[hn];if(un){if(0<un.bindCount)continue;un.unit=-1}la[hn]=this,Pr=hn;break}ct.profile&&ht.maxTextureUnits<Pr+1&&(ht.maxTextureUnits=Pr+1),this.unit=Pr,bt.activeTexture(33984+Pr),bt.bindTexture(this.target,this.texture)}return Pr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&mr(this)}}),ct.profile&&(ht.getTotalTextureSize=function(){var Pr=0;return Object.keys(ya).forEach(function(hn){Pr+=ya[hn].stats.size}),Pr}),{create2D:function(Pr,hn){function un(Zn,In){var Dn=wn.texInfo;lr.call(Dn);var jn=zt();return typeof Zn=="number"?typeof In=="number"?je(jn,Zn|0,In|0):je(jn,Zn|0,Zn|0):Zn?(cr(Dn,Zn),We(jn,Zn)):je(jn,1,1),Dn.genMipmaps&&(jn.mipmask=(jn.width<<1)-1),wn.mipmask=jn.mipmask,St(wn,jn),wn.internalformat=jn.internalformat,un.width=jn.width,un.height=jn.height,vr(wn),kt(jn,3553),nr(Dn,3553),yr(),Xt(jn),ct.profile&&(wn.stats.size=w(wn.internalformat,wn.type,jn.width,jn.height,Dn.genMipmaps,!1)),un.format=Hr[wn.internalformat],un.type=Vr[wn.type],un.mag=nn[Dn.magFilter],un.min=bn[Dn.minFilter],un.wrapS=dn[Dn.wrapS],un.wrapT=dn[Dn.wrapT],un}var wn=new Bt(3553);return ya[wn.id]=wn,ht.textureCount++,un(Pr,hn),un.subimage=function(Zn,In,Dn,jn){In|=0,Dn|=0,jn|=0;var va=$t();return St(va,wn),va.width=0,va.height=0,Wt(va,Zn),va.width=va.width||(wn.width>>jn)-In,va.height=va.height||(wn.height>>jn)-Dn,vr(wn),er(va,3553,In,Dn,jn),yr(),sr(va),un},un.resize=function(Zn,In){var Dn=Zn|0,jn=In|0||Dn;if(Dn===wn.width&&jn===wn.height)return un;un.width=wn.width=Dn,un.height=wn.height=jn,vr(wn);for(var va=0;wn.mipmask>>va;++va){var Ia=Dn>>va,hi=jn>>va;if(!Ia||!hi)break;bt.texImage2D(3553,va,wn.format,Ia,hi,0,wn.format,wn.type,null)}return yr(),ct.profile&&(wn.stats.size=w(wn.internalformat,wn.type,Dn,jn,!1,!1)),un},un._reglType="texture2d",un._texture=wn,ct.profile&&(un.stats=wn.stats),un.destroy=function(){wn.decRef()},un},createCube:function(Pr,hn,un,wn,Zn,In){function Dn(Ia,hi,Kt,Sr,fn,gn){var yn,Fn=jn.texInfo;for(lr.call(Fn),yn=0;6>yn;++yn)va[yn]=zt();if(typeof Ia=="number"||!Ia)for(Ia=Ia|0||1,yn=0;6>yn;++yn)je(va[yn],Ia,Ia);else if(typeof Ia=="object")if(hi)We(va[0],Ia),We(va[1],hi),We(va[2],Kt),We(va[3],Sr),We(va[4],fn),We(va[5],gn);else if(cr(Fn,Ia),Rt(jn,Ia),"faces"in Ia)for(Ia=Ia.faces,yn=0;6>yn;++yn)St(va[yn],jn),We(va[yn],Ia[yn]);else for(yn=0;6>yn;++yn)We(va[yn],Ia);for(St(jn,va[0]),jn.mipmask=Fn.genMipmaps?(va[0].width<<1)-1:va[0].mipmask,jn.internalformat=va[0].internalformat,Dn.width=va[0].width,Dn.height=va[0].height,vr(jn),yn=0;6>yn;++yn)kt(va[yn],34069+yn);for(nr(Fn,34067),yr(),ct.profile&&(jn.stats.size=w(jn.internalformat,jn.type,Dn.width,Dn.height,Fn.genMipmaps,!0)),Dn.format=Hr[jn.internalformat],Dn.type=Vr[jn.type],Dn.mag=nn[Fn.magFilter],Dn.min=bn[Fn.minFilter],Dn.wrapS=dn[Fn.wrapS],Dn.wrapT=dn[Fn.wrapT],yn=0;6>yn;++yn)Xt(va[yn]);return Dn}var jn=new Bt(34067);ya[jn.id]=jn,ht.cubeCount++;var va=Array(6);return Dn(Pr,hn,un,wn,Zn,In),Dn.subimage=function(Ia,hi,Kt,Sr,fn){Kt|=0,Sr|=0,fn|=0;var gn=$t();return St(gn,jn),gn.width=0,gn.height=0,Wt(gn,hi),gn.width=gn.width||(jn.width>>fn)-Kt,gn.height=gn.height||(jn.height>>fn)-Sr,vr(jn),er(gn,34069+Ia,Kt,Sr,fn),yr(),sr(gn),Dn},Dn.resize=function(Ia){if(Ia|=0,Ia!==jn.width){Dn.width=jn.width=Ia,Dn.height=jn.height=Ia,vr(jn);for(var hi=0;6>hi;++hi)for(var Kt=0;jn.mipmask>>Kt;++Kt)bt.texImage2D(34069+hi,Kt,jn.format,Ia>>Kt,Ia>>Kt,0,jn.format,jn.type,null);return yr(),ct.profile&&(jn.stats.size=w(jn.internalformat,jn.type,Dn.width,Dn.height,!1,!0)),Dn}},Dn._reglType="textureCube",Dn._texture=jn,ct.profile&&(Dn.stats=jn.stats),Dn.destroy=function(){jn.decRef()},Dn},clear:function(){for(var Pr=0;Pr<ca;++Pr)bt.activeTexture(33984+Pr),bt.bindTexture(3553,null),la[Pr]=null;be(ya).forEach(mr),ht.cubeCount=0,ht.textureCount=0},getTexture:function(Pr){return null},restore:function(){for(var Pr=0;Pr<ca;++Pr){var hn=la[Pr];hn&&(hn.bindCount=0,hn.unit=-1,la[Pr]=null)}be(ya).forEach(function(un){un.texture=bt.createTexture(),bt.bindTexture(un.target,un.texture);for(var wn=0;32>wn;++wn)if(un.mipmask&1<<wn)if(un.target===3553)bt.texImage2D(3553,wn,un.internalformat,un.width>>wn,un.height>>wn,0,un.internalformat,un.type,null);else for(var Zn=0;6>Zn;++Zn)bt.texImage2D(34069+Zn,wn,un.internalformat,un.width>>wn,un.height>>wn,0,un.internalformat,un.type,null);nr(un.texInfo,un.target)})},refresh:function(){for(var Pr=0;Pr<ca;++Pr){var hn=la[Pr];hn&&(hn.bindCount=0,hn.unit=-1,la[Pr]=null),bt.activeTexture(33984+Pr),bt.bindTexture(3553,null),bt.bindTexture(34067,null)}}}}function I(bt,Jt,Zt,Ar,dr,ht){function ct(Bt,vr,yr){this.target=Bt,this.texture=vr,this.renderbuffer=yr;var mr=Bt=0;vr?(Bt=vr.width,mr=vr.height):yr&&(Bt=yr.width,mr=yr.height),this.width=Bt,this.height=mr}function wt(Bt){Bt&&(Bt.texture&&Bt.texture._texture.decRef(),Bt.renderbuffer&&Bt.renderbuffer._renderbuffer.decRef())}function St(Bt,vr,yr){Bt&&(Bt.texture?Bt.texture._texture.refCount+=1:Bt.renderbuffer._renderbuffer.refCount+=1)}function Rt(Bt,vr){vr&&(vr.texture?bt.framebufferTexture2D(36160,Bt,vr.target,vr.texture._texture.texture,0):bt.framebufferRenderbuffer(36160,Bt,36161,vr.renderbuffer._renderbuffer.renderbuffer))}function Ct(Bt){var vr=3553,yr=null,mr=null,gr=Bt;return typeof Bt=="object"&&(gr=Bt.data,"target"in Bt&&(vr=Bt.target|0)),Bt=gr._reglType,Bt==="texture2d"||Bt==="textureCube"?yr=gr:Bt==="renderbuffer"&&(mr=gr,vr=36161),new ct(vr,yr,mr)}function Ot(Bt,vr,yr,mr,gr){return yr?(Bt=Ar.create2D({width:Bt,height:vr,format:mr,type:gr}),Bt._texture.refCount=0,new ct(3553,Bt,null)):(Bt=dr.create({width:Bt,height:vr,format:mr}),Bt._renderbuffer.refCount=0,new ct(36161,null,Bt))}function Wt(Bt){return Bt&&(Bt.texture||Bt.renderbuffer)}function er(Bt,vr,yr){Bt&&(Bt.texture?Bt.texture.resize(vr,yr):Bt.renderbuffer&&Bt.renderbuffer.resize(vr,yr),Bt.width=vr,Bt.height=yr)}function $t(){this.id=cr++,nr[this.id]=this,this.framebuffer=bt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function sr(Bt){Bt.colorAttachments.forEach(wt),wt(Bt.depthAttachment),wt(Bt.stencilAttachment),wt(Bt.depthStencilAttachment)}function Cr(Bt){bt.deleteFramebuffer(Bt.framebuffer),Bt.framebuffer=null,ht.framebufferCount--,delete nr[Bt.id]}function je(Bt){var vr;bt.bindFramebuffer(36160,Bt.framebuffer);var yr=Bt.colorAttachments;for(vr=0;vr<yr.length;++vr)Rt(36064+vr,yr[vr]);for(vr=yr.length;vr<Zt.maxColorAttachments;++vr)bt.framebufferTexture2D(36160,36064+vr,3553,null,0);bt.framebufferTexture2D(36160,33306,3553,null,0),bt.framebufferTexture2D(36160,36096,3553,null,0),bt.framebufferTexture2D(36160,36128,3553,null,0),Rt(36096,Bt.depthAttachment),Rt(36128,Bt.stencilAttachment),Rt(33306,Bt.depthStencilAttachment),bt.checkFramebufferStatus(36160),bt.isContextLost(),bt.bindFramebuffer(36160,kt.next?kt.next.framebuffer:null),kt.cur=kt.next,bt.getError()}function We(Bt,vr){function yr(gr,Zr){var Ur,Br=0,Tn=0,Kr=!0,Bn=!0;Ur=null;var On=!0,Tr="rgba",Mr="uint8",Hr=1,Vr=null,nn=null,bn=null,dn=!1;typeof gr=="number"?(Br=gr|0,Tn=Zr|0||Br):gr?("shape"in gr?(Tn=gr.shape,Br=Tn[0],Tn=Tn[1]):("radius"in gr&&(Br=Tn=gr.radius),"width"in gr&&(Br=gr.width),"height"in gr&&(Tn=gr.height)),("color"in gr||"colors"in gr)&&(Ur=gr.color||gr.colors),Ur||("colorCount"in gr&&(Hr=gr.colorCount|0),"colorTexture"in gr&&(On=!!gr.colorTexture,Tr="rgba4"),"colorType"in gr&&(Mr=gr.colorType,!On)&&(Mr==="half float"||Mr==="float16"?Tr="rgba16f":(Mr==="float"||Mr==="float32")&&(Tr="rgba32f")),"colorFormat"in gr&&(Tr=gr.colorFormat,0<=zt.indexOf(Tr)?On=!0:0<=Xt.indexOf(Tr)&&(On=!1))),("depthTexture"in gr||"depthStencilTexture"in gr)&&(dn=!(!gr.depthTexture&&!gr.depthStencilTexture)),"depth"in gr&&(typeof gr.depth=="boolean"?Kr=gr.depth:(Vr=gr.depth,Bn=!1)),"stencil"in gr&&(typeof gr.stencil=="boolean"?Bn=gr.stencil:(nn=gr.stencil,Kr=!1)),"depthStencil"in gr&&(typeof gr.depthStencil=="boolean"?Kr=Bn=gr.depthStencil:(bn=gr.depthStencil,Bn=Kr=!1))):Br=Tn=1;var Pn=null,zn=null,ta=null,oa=null;if(Array.isArray(Ur))Pn=Ur.map(Ct);else if(Ur)Pn=[Ct(Ur)];else for(Pn=Array(Hr),Ur=0;Ur<Hr;++Ur)Pn[Ur]=Ot(Br,Tn,On,Tr,Mr);for(Br=Br||Pn[0].width,Tn=Tn||Pn[0].height,Vr?zn=Ct(Vr):Kr&&!Bn&&(zn=Ot(Br,Tn,dn,"depth","uint32")),nn?ta=Ct(nn):Bn&&!Kr&&(ta=Ot(Br,Tn,!1,"stencil","uint8")),bn?oa=Ct(bn):!Vr&&!nn&&Bn&&Kr&&(oa=Ot(Br,Tn,dn,"depth stencil","depth stencil")),Kr=null,Ur=0;Ur<Pn.length;++Ur)St(Pn[Ur]),Pn[Ur]&&Pn[Ur].texture&&(Bn=Oe[Pn[Ur].texture._texture.format]*st[Pn[Ur].texture._texture.type],Kr===null&&(Kr=Bn));return St(zn),St(ta),St(oa),sr(mr),mr.width=Br,mr.height=Tn,mr.colorAttachments=Pn,mr.depthAttachment=zn,mr.stencilAttachment=ta,mr.depthStencilAttachment=oa,yr.color=Pn.map(Wt),yr.depth=Wt(zn),yr.stencil=Wt(ta),yr.depthStencil=Wt(oa),yr.width=mr.width,yr.height=mr.height,je(mr),yr}var mr=new $t;return ht.framebufferCount++,yr(Bt,vr),ie(yr,{resize:function(gr,Zr){var Ur=Math.max(gr|0,1),Br=Math.max(Zr|0||Ur,1);if(Ur===mr.width&&Br===mr.height)return yr;for(var Tn=mr.colorAttachments,Kr=0;Kr<Tn.length;++Kr)er(Tn[Kr],Ur,Br);return er(mr.depthAttachment,Ur,Br),er(mr.stencilAttachment,Ur,Br),er(mr.depthStencilAttachment,Ur,Br),mr.width=yr.width=Ur,mr.height=yr.height=Br,je(mr),yr},_reglType:"framebuffer",_framebuffer:mr,destroy:function(){Cr(mr),sr(mr)},use:function(gr){kt.setFBO({framebuffer:yr},gr)}})}var kt={cur:null,next:null,dirty:!1,setFBO:null},zt=["rgba"],Xt=["rgba4","rgb565","rgb5 a1"];Jt.ext_srgb&&Xt.push("srgba"),Jt.ext_color_buffer_half_float&&Xt.push("rgba16f","rgb16f"),Jt.webgl_color_buffer_float&&Xt.push("rgba32f");var lr=["uint8"];Jt.oes_texture_half_float&&lr.push("half float","float16"),Jt.oes_texture_float&&lr.push("float","float32");var cr=0,nr={};return ie(kt,{getFramebuffer:function(Bt){return typeof Bt=="function"&&Bt._reglType==="framebuffer"&&(Bt=Bt._framebuffer,Bt instanceof $t)?Bt:null},create:We,createCube:function(Bt){function vr(mr){var gr,Zr={color:null},Ur=0,Br=null;gr="rgba";var Tn="uint8",Kr=1;if(typeof mr=="number"?Ur=mr|0:mr?("shape"in mr?Ur=mr.shape[0]:("radius"in mr&&(Ur=mr.radius|0),"width"in mr?Ur=mr.width|0:"height"in mr&&(Ur=mr.height|0)),("color"in mr||"colors"in mr)&&(Br=mr.color||mr.colors),Br||("colorCount"in mr&&(Kr=mr.colorCount|0),"colorType"in mr&&(Tn=mr.colorType),"colorFormat"in mr&&(gr=mr.colorFormat)),"depth"in mr&&(Zr.depth=mr.depth),"stencil"in mr&&(Zr.stencil=mr.stencil),"depthStencil"in mr&&(Zr.depthStencil=mr.depthStencil)):Ur=1,Br)if(Array.isArray(Br))for(mr=[],gr=0;gr<Br.length;++gr)mr[gr]=Br[gr];else mr=[Br];else for(mr=Array(Kr),Br={radius:Ur,format:gr,type:Tn},gr=0;gr<Kr;++gr)mr[gr]=Ar.createCube(Br);for(Zr.color=Array(mr.length),gr=0;gr<mr.length;++gr)Kr=mr[gr],Ur=Ur||Kr.width,Zr.color[gr]={target:34069,data:mr[gr]};for(gr=0;6>gr;++gr){for(Kr=0;Kr<mr.length;++Kr)Zr.color[Kr].target=34069+gr;0<gr&&(Zr.depth=yr[0].depth,Zr.stencil=yr[0].stencil,Zr.depthStencil=yr[0].depthStencil),yr[gr]?yr[gr](Zr):yr[gr]=We(Zr)}return ie(vr,{width:Ur,height:Ur,color:mr})}var yr=Array(6);return vr(Bt),ie(vr,{faces:yr,resize:function(mr){var gr=mr|0;if(gr===vr.width)return vr;var Zr=vr.color;for(mr=0;mr<Zr.length;++mr)Zr[mr].resize(gr);for(mr=0;6>mr;++mr)yr[mr].resize(gr);return vr.width=vr.height=gr,vr},_reglType:"framebufferCube",destroy:function(){yr.forEach(function(mr){mr.destroy()})}})},clear:function(){be(nr).forEach(Cr)},restore:function(){kt.cur=null,kt.next=null,kt.dirty=!0,be(nr).forEach(function(Bt){Bt.framebuffer=bt.createFramebuffer(),je(Bt)})}})}function U(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function z(bt,Jt,Zt,Ar,dr,ht,ct){function wt(je){if(je!==Cr.currentVAO){var We=Jt.oes_vertex_array_object;je?We.bindVertexArrayOES(je.vao):We.bindVertexArrayOES(null),Cr.currentVAO=je}}function St(je){if(je!==Cr.currentVAO){if(je)je.bindAttrs();else{for(var We=Jt.angle_instanced_arrays,kt=0;kt<er.length;++kt){var zt=er[kt];zt.buffer?(bt.enableVertexAttribArray(kt),zt.buffer.bind(),bt.vertexAttribPointer(kt,zt.size,zt.type,zt.normalized,zt.stride,zt.offfset),We&&zt.divisor&&We.vertexAttribDivisorANGLE(kt,zt.divisor)):(bt.disableVertexAttribArray(kt),bt.vertexAttrib4f(kt,zt.x,zt.y,zt.z,zt.w))}ct.elements?bt.bindBuffer(34963,ct.elements.buffer.buffer):bt.bindBuffer(34963,null)}Cr.currentVAO=je}}function Rt(){be(sr).forEach(function(je){je.destroy()})}function Ct(){this.id=++$t,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var je=Jt.oes_vertex_array_object;this.vao=je?je.createVertexArrayOES():null,sr[this.id]=this,this.buffers=[]}function Ot(){Jt.oes_vertex_array_object&&be(sr).forEach(function(je){je.refresh()})}var Wt=Zt.maxAttributes,er=Array(Wt);for(Zt=0;Zt<Wt;++Zt)er[Zt]=new U;var $t=0,sr={},Cr={Record:U,scope:{},state:er,currentVAO:null,targetVAO:null,restore:Jt.oes_vertex_array_object?Ot:function(){},createVAO:function(je){function We(zt){var Xt;Array.isArray(zt)?(Xt=zt,kt.elements&&kt.ownsElements&&kt.elements.destroy(),kt.elements=null,kt.ownsElements=!1,kt.offset=0,kt.count=0,kt.instances=-1,kt.primitive=4):(zt.elements?(Xt=zt.elements,kt.ownsElements?(typeof Xt=="function"&&Xt._reglType==="elements"?kt.elements.destroy():kt.elements(Xt),kt.ownsElements=!1):ht.getElements(zt.elements)?(kt.elements=zt.elements,kt.ownsElements=!1):(kt.elements=ht.create(zt.elements),kt.ownsElements=!0)):(kt.elements=null,kt.ownsElements=!1),Xt=zt.attributes,kt.offset=0,kt.count=-1,kt.instances=-1,kt.primitive=4,kt.elements&&(kt.count=kt.elements._elements.vertCount,kt.primitive=kt.elements._elements.primType),"offset"in zt&&(kt.offset=zt.offset|0),"count"in zt&&(kt.count=zt.count|0),"instances"in zt&&(kt.instances=zt.instances|0),"primitive"in zt&&(kt.primitive=Ke[zt.primitive])),zt={};var lr=kt.attributes;lr.length=Xt.length;for(var cr=0;cr<Xt.length;++cr){var nr=Xt[cr],Bt=lr[cr]=new U,vr=nr.data||nr;if(Array.isArray(vr)||Ce(vr)||c(vr)){var yr;kt.buffers[cr]&&(yr=kt.buffers[cr],Ce(vr)&&yr._buffer.byteLength>=vr.byteLength?yr.subdata(vr):(yr.destroy(),kt.buffers[cr]=null)),kt.buffers[cr]||(yr=kt.buffers[cr]=dr.create(nr,34962,!1,!0)),Bt.buffer=dr.getBuffer(yr),Bt.size=Bt.buffer.dimension|0,Bt.normalized=!1,Bt.type=Bt.buffer.dtype,Bt.offset=0,Bt.stride=0,Bt.divisor=0,Bt.state=1,zt[cr]=1}else dr.getBuffer(nr)?(Bt.buffer=dr.getBuffer(nr),Bt.size=Bt.buffer.dimension|0,Bt.normalized=!1,Bt.type=Bt.buffer.dtype,Bt.offset=0,Bt.stride=0,Bt.divisor=0,Bt.state=1):dr.getBuffer(nr.buffer)?(Bt.buffer=dr.getBuffer(nr.buffer),Bt.size=(+nr.size||Bt.buffer.dimension)|0,Bt.normalized=!!nr.normalized||!1,Bt.type="type"in nr?Fe[nr.type]:Bt.buffer.dtype,Bt.offset=(nr.offset||0)|0,Bt.stride=(nr.stride||0)|0,Bt.divisor=(nr.divisor||0)|0,Bt.state=1):"x"in nr&&(Bt.x=+nr.x||0,Bt.y=+nr.y||0,Bt.z=+nr.z||0,Bt.w=+nr.w||0,Bt.state=2)}for(yr=0;yr<kt.buffers.length;++yr)!zt[yr]&&kt.buffers[yr]&&(kt.buffers[yr].destroy(),kt.buffers[yr]=null);return kt.refresh(),We}var kt=new Ct;return Ar.vaoCount+=1,We.destroy=function(){for(var zt=0;zt<kt.buffers.length;++zt)kt.buffers[zt]&&kt.buffers[zt].destroy();kt.buffers.length=0,kt.ownsElements&&(kt.elements.destroy(),kt.elements=null,kt.ownsElements=!1),kt.destroy()},We._vao=kt,We._reglType="vao",We(je)},getVAO:function(je){return typeof je=="function"&&je._vao?je._vao:null},destroyBuffer:function(je){for(var We=0;We<er.length;++We){var kt=er[We];kt.buffer===je&&(bt.disableVertexAttribArray(We),kt.buffer=null)}},setVAO:Jt.oes_vertex_array_object?wt:St,clear:Jt.oes_vertex_array_object?Rt:function(){}};return Ct.prototype.bindAttrs=function(){for(var je=Jt.angle_instanced_arrays,We=this.attributes,kt=0;kt<We.length;++kt){var zt=We[kt];zt.buffer?(bt.enableVertexAttribArray(kt),bt.bindBuffer(34962,zt.buffer.buffer),bt.vertexAttribPointer(kt,zt.size,zt.type,zt.normalized,zt.stride,zt.offset),je&&zt.divisor&&je.vertexAttribDivisorANGLE(kt,zt.divisor)):(bt.disableVertexAttribArray(kt),bt.vertexAttrib4f(kt,zt.x,zt.y,zt.z,zt.w))}for(je=We.length;je<Wt;++je)bt.disableVertexAttribArray(je);(je=ht.getElements(this.elements))?bt.bindBuffer(34963,je.buffer.buffer):bt.bindBuffer(34963,null)},Ct.prototype.refresh=function(){var je=Jt.oes_vertex_array_object;je&&(je.bindVertexArrayOES(this.vao),this.bindAttrs(),Cr.currentVAO=null,je.bindVertexArrayOES(null))},Ct.prototype.destroy=function(){if(this.vao){var je=Jt.oes_vertex_array_object;this===Cr.currentVAO&&(Cr.currentVAO=null,je.bindVertexArrayOES(null)),je.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),sr[this.id]&&(delete sr[this.id],--Ar.vaoCount)},Cr}function N(bt,Jt,Zt,Ar){function dr($t,sr,Cr,je){this.name=$t,this.id=sr,this.location=Cr,this.info=je}function ht($t,sr){for(var Cr=0;Cr<$t.length;++Cr)if($t[Cr].id===sr.id){$t[Cr].location=sr.location;return}$t.push(sr)}function ct($t,sr,Cr){Cr=$t===35632?Rt:Ct;var je=Cr[sr];if(!je){var We=Jt.str(sr),je=bt.createShader($t);bt.shaderSource(je,We),bt.compileShader(je),Cr[sr]=je}return je}function wt($t,sr){this.id=er++,this.fragId=$t,this.vertId=sr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Ar.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function St($t,sr,Cr){var je;je=ct(35632,$t.fragId);var We=ct(35633,$t.vertId);if(sr=$t.program=bt.createProgram(),bt.attachShader(sr,je),bt.attachShader(sr,We),Cr)for(je=0;je<Cr.length;++je)We=Cr[je],bt.bindAttribLocation(sr,We[0],We[1]);bt.linkProgram(sr),We=bt.getProgramParameter(sr,35718),Ar.profile&&($t.stats.uniformsCount=We);var kt=$t.uniforms;for(je=0;je<We;++je)if(Cr=bt.getActiveUniform(sr,je))if(1<Cr.size)for(var zt=0;zt<Cr.size;++zt){var Xt=Cr.name.replace("[0]","["+zt+"]");ht(kt,new dr(Xt,Jt.id(Xt),bt.getUniformLocation(sr,Xt),Cr))}else ht(kt,new dr(Cr.name,Jt.id(Cr.name),bt.getUniformLocation(sr,Cr.name),Cr));for(We=bt.getProgramParameter(sr,35721),Ar.profile&&($t.stats.attributesCount=We),$t=$t.attributes,je=0;je<We;++je)(Cr=bt.getActiveAttrib(sr,je))&&ht($t,new dr(Cr.name,Jt.id(Cr.name),bt.getAttribLocation(sr,Cr.name),Cr))}var Rt={},Ct={},Ot={},Wt=[],er=0;return Ar.profile&&(Zt.getMaxUniformsCount=function(){var $t=0;return Wt.forEach(function(sr){sr.stats.uniformsCount>$t&&($t=sr.stats.uniformsCount)}),$t},Zt.getMaxAttributesCount=function(){var $t=0;return Wt.forEach(function(sr){sr.stats.attributesCount>$t&&($t=sr.stats.attributesCount)}),$t}),{clear:function(){var $t=bt.deleteShader.bind(bt);be(Rt).forEach($t),Rt={},be(Ct).forEach($t),Ct={},Wt.forEach(function(sr){bt.deleteProgram(sr.program)}),Wt.length=0,Ot={},Zt.shaderCount=0},program:function($t,sr,Cr,je){var We=Ot[sr];We||(We=Ot[sr]={});var kt=We[$t];if(kt&&(kt.refCount++,!je))return kt;var zt=new wt(sr,$t);return Zt.shaderCount++,St(zt,Cr,je),kt||(We[$t]=zt),Wt.push(zt),ie(zt,{destroy:function(){if(zt.refCount--,0>=zt.refCount){bt.deleteProgram(zt.program);var Xt=Wt.indexOf(zt);Wt.splice(Xt,1),Zt.shaderCount--}0>=We[zt.vertId].refCount&&(bt.deleteShader(Ct[zt.vertId]),delete Ct[zt.vertId],delete Ot[zt.fragId][zt.vertId]),Object.keys(Ot[zt.fragId]).length||(bt.deleteShader(Rt[zt.fragId]),delete Rt[zt.fragId],delete Ot[zt.fragId])}})},restore:function(){Rt={},Ct={};for(var $t=0;$t<Wt.length;++$t)St(Wt[$t],null,Wt[$t].attributes.map(function(sr){return[sr.location,sr.name]}))},shader:ct,frag:-1,vert:-1}}function B(bt,Jt,Zt,Ar,dr,ht,ct){function wt(Rt){var Ct;Ct=Jt.next===null?5121:Jt.next.colorAttachments[0].texture._texture.type;var Ot=0,Wt=0,er=Ar.framebufferWidth,$t=Ar.framebufferHeight,sr=null;return Ce(Rt)?sr=Rt:Rt&&(Ot=Rt.x|0,Wt=Rt.y|0,er=(Rt.width||Ar.framebufferWidth-Ot)|0,$t=(Rt.height||Ar.framebufferHeight-Wt)|0,sr=Rt.data||null),Zt(),Rt=er*$t*4,sr||(Ct===5121?sr=new Uint8Array(Rt):Ct===5126&&(sr=sr||new Float32Array(Rt))),bt.pixelStorei(3333,4),bt.readPixels(Ot,Wt,er,$t,6408,Ct,sr),sr}function St(Rt){var Ct;return Jt.setFBO({framebuffer:Rt.framebuffer},function(){Ct=wt(Rt)}),Ct}return function(Rt){return Rt&&"framebuffer"in Rt?St(Rt):wt(Rt)}}function F(bt){for(var Jt=Array(bt.length>>2),Ar=0;Ar<Jt.length;Ar++)Jt[Ar]=0;for(Ar=0;Ar<8*bt.length;Ar+=8)Jt[Ar>>5]|=(bt.charCodeAt(Ar/8)&255)<<24-Ar%32;var Zt=8*bt.length;bt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var Ar=Array(64),dr,ht,ct,wt,St,Rt,Ct,Ot,Wt,er,$t;for(Jt[Zt>>5]|=128<<24-Zt%32,Jt[(Zt+64>>9<<4)+15]=Zt,Ot=0;Ot<Jt.length;Ot+=16){for(Zt=bt[0],dr=bt[1],ht=bt[2],ct=bt[3],wt=bt[4],St=bt[5],Rt=bt[6],Ct=bt[7],Wt=0;64>Wt;Wt++){if(16>Wt)Ar[Wt]=Jt[Wt+Ot];else{er=Wt,$t=Ar[Wt-2],$t=q($t,17)^q($t,19)^$t>>>10,$t=ne($t,Ar[Wt-7]);var sr;sr=Ar[Wt-15],sr=q(sr,7)^q(sr,18)^sr>>>3,Ar[er]=ne(ne($t,sr),Ar[Wt-16])}er=wt,er=q(er,6)^q(er,11)^q(er,25),er=ne(ne(ne(ne(Ct,er),wt&St^~wt&Rt),ut[Wt]),Ar[Wt]),Ct=Zt,Ct=q(Ct,2)^q(Ct,13)^q(Ct,22),$t=ne(Ct,Zt&dr^Zt&ht^dr&ht),Ct=Rt,Rt=St,St=wt,wt=ne(ct,er),ct=ht,ht=dr,dr=Zt,Zt=ne(er,$t)}bt[0]=ne(Zt,bt[0]),bt[1]=ne(dr,bt[1]),bt[2]=ne(ht,bt[2]),bt[3]=ne(ct,bt[3]),bt[4]=ne(wt,bt[4]),bt[5]=ne(St,bt[5]),bt[6]=ne(Rt,bt[6]),bt[7]=ne(Ct,bt[7])}for(Jt="",Ar=0;Ar<32*bt.length;Ar+=8)Jt+=String.fromCharCode(bt[Ar>>5]>>>24-Ar%32&255);return Jt}function H(bt){for(var Jt="",Zt,Ar=0;Ar<bt.length;Ar++)Zt=bt.charCodeAt(Ar),Jt+="0123456789abcdef".charAt(Zt>>>4&15)+"0123456789abcdef".charAt(Zt&15);return Jt}function X(bt){for(var Jt="",Zt=-1,Ar,dr;++Zt<bt.length;)Ar=bt.charCodeAt(Zt),dr=Zt+1<bt.length?bt.charCodeAt(Zt+1):0,55296<=Ar&&56319>=Ar&&56320<=dr&&57343>=dr&&(Ar=65536+((Ar&1023)<<10)+(dr&1023),Zt++),127>=Ar?Jt+=String.fromCharCode(Ar):2047>=Ar?Jt+=String.fromCharCode(192|Ar>>>6&31,128|Ar&63):65535>=Ar?Jt+=String.fromCharCode(224|Ar>>>12&15,128|Ar>>>6&63,128|Ar&63):2097151>=Ar&&(Jt+=String.fromCharCode(240|Ar>>>18&7,128|Ar>>>12&63,128|Ar>>>6&63,128|Ar&63));return Jt}function q(bt,Jt){return bt>>>Jt|bt<<32-Jt}function ne(bt,Jt){var Zt=(bt&65535)+(Jt&65535);return(bt>>16)+(Jt>>16)+(Zt>>16)<<16|Zt&65535}function oe(bt){return Array.prototype.slice.call(bt)}function ve(bt){return oe(bt).join("")}function J(bt){function Jt(){var Ct=[],Ot=[];return ie(function(){Ct.push.apply(Ct,oe(arguments))},{def:function(){var Wt="v"+dr++;return Ot.push(Wt),0<arguments.length&&(Ct.push(Wt,"="),Ct.push.apply(Ct,oe(arguments)),Ct.push(";")),Wt},toString:function(){return ve([0<Ot.length?"var "+Ot.join(",")+";":"",ve(Ct)])}})}function Zt(){function Ct(sr,Cr){Wt(sr,Cr,"=",Ot.def(sr,Cr),";")}var Ot=Jt(),Wt=Jt(),er=Ot.toString,$t=Wt.toString;return ie(function(){Ot.apply(Ot,oe(arguments))},{def:Ot.def,entry:Ot,exit:Wt,save:Ct,set:function(sr,Cr,je){Ct(sr,Cr),Ot(sr,Cr,"=",je,";")},toString:function(){return er()+$t()}})}var Ar=bt&&bt.cache,dr=0,ht=[],ct=[],wt=[],St=Jt(),Rt={};return{global:St,link:function(Ct,Ot){var Wt=Ot&&Ot.stable;if(!Wt){for(var er=0;er<ct.length;++er)if(ct[er]===Ct&&!wt[er])return ht[er]}return er="g"+dr++,ht.push(er),ct.push(Ct),wt.push(Wt),er},block:Jt,proc:function(Ct,Ot){function Wt(){var Cr="a"+er.length;return er.push(Cr),Cr}var er=[];Ot=Ot||0;for(var $t=0;$t<Ot;++$t)Wt();var $t=Zt(),sr=$t.toString;return Rt[Ct]=ie($t,{arg:Wt,toString:function(){return ve(["function(",er.join(),"){",sr(),"}"])}})},scope:Zt,cond:function(){var Ct=ve(arguments),Ot=Zt(),Wt=Zt(),er=Ot.toString,$t=Wt.toString;return ie(Ot,{then:function(){return Ot.apply(Ot,oe(arguments)),this},else:function(){return Wt.apply(Wt,oe(arguments)),this},toString:function(){var sr=$t();return sr&&(sr="else{"+sr+"}"),ve(["if(",Ct,"){",er(),"}",sr])}})},compile:function(){var Ct=['"use strict";',St,"return {"];Object.keys(Rt).forEach(function(er){Ct.push('"',er,'":',Rt[er].toString(),",")}),Ct.push("}");var Ot=ve(Ct).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Wt;return Ar&&(Wt=H(F(X(Ot))),Ar[Wt])?Ar[Wt].apply(null,ct):(Ot=Function.apply(null,ht.concat(Ot)),Ar&&(Ar[Wt]=Ot),Ot.apply(null,ct))}}}function Y(bt){return Array.isArray(bt)||Ce(bt)||c(bt)}function j(bt){return bt.sort(function(Jt,Zt){return Jt==="viewport"?-1:Zt==="viewport"?1:Jt<Zt?-1:1})}function K(bt,Jt,Zt,Ar){this.thisDep=bt,this.contextDep=Jt,this.propDep=Zt,this.append=Ar}function te(bt){return bt&&!(bt.thisDep||bt.contextDep||bt.propDep)}function se(bt){return new K(!1,!1,!1,bt)}function Q(bt,Jt){var Zt=bt.type;if(Zt===0)return Zt=bt.data.length,new K(!0,1<=Zt,2<=Zt,Jt);if(Zt===4)return Zt=bt.data,new K(Zt.thisDep,Zt.contextDep,Zt.propDep,Jt);if(Zt===5)return new K(!1,!1,!1,Jt);if(Zt===6){for(var Ar=Zt=!1,dr=!1,ht=0;ht<bt.data.length;++ht){var ct=bt.data[ht];ct.type===1?dr=!0:ct.type===2?Ar=!0:ct.type===3?Zt=!0:ct.type===0?(Zt=!0,ct=ct.data,1<=ct&&(Ar=!0),2<=ct&&(dr=!0)):ct.type===4&&(Zt=Zt||ct.data.thisDep,Ar=Ar||ct.data.contextDep,dr=dr||ct.data.propDep)}return new K(Zt,Ar,dr,Jt)}return new K(Zt===3,Zt===2,Zt===1,Jt)}function ee(bt,Jt,Zt,Ar,dr,ht,ct,wt,St,Rt,Ct,Ot,Wt,er,$t,sr){function Cr(Kt){return Kt.replace(".","_")}function je(Kt,Sr,fn){var gn=Cr(Kt);In.push(Kt),Zn[gn]=wn[gn]=!!fn,Dn[gn]=Sr}function We(Kt,Sr,fn){var gn=Cr(Kt);In.push(Kt),Array.isArray(fn)?(wn[gn]=fn.slice(),Zn[gn]=fn.slice()):wn[gn]=Zn[gn]=fn,jn[gn]=Sr}function kt(){var Kt=J({cache:$t}),Sr=Kt.link,fn=Kt.global;Kt.id=hi++,Kt.batchId="0";var gn=Sr(va),yn=Kt.shared={props:"a0"};Object.keys(va).forEach(function(Rr){yn[Rr]=fn.def(gn,".",Rr)});var Fn=Kt.next={},Ln=Kt.current={};Object.keys(jn).forEach(function(Rr){Array.isArray(wn[Rr])&&(Fn[Rr]=fn.def(yn.next,".",Rr),Ln[Rr]=fn.def(yn.current,".",Rr))});var ln=Kt.constants={};Object.keys(Ia).forEach(function(Rr){ln[Rr]=fn.def(JSON.stringify(Ia[Rr]))}),Kt.invoke=function(Rr,Nr){switch(Nr.type){case 0:var xn=["this",yn.context,yn.props,Kt.batchId];return Rr.def(Sr(Nr.data),".call(",xn.slice(0,Math.max(Nr.data.length+1,4)),")");case 1:return Rr.def(yn.props,Nr.data);case 2:return Rr.def(yn.context,Nr.data);case 3:return Rr.def("this",Nr.data);case 4:return Nr.data.append(Kt,Rr),Nr.data.ref;case 5:return Nr.data.toString();case 6:return Nr.data.map(function(Hn){return Kt.invoke(Rr,Hn)})}},Kt.attribCache={};var Ir={};return Kt.scopeAttrib=function(Rr){if(Rr=Jt.id(Rr),Rr in Ir)return Ir[Rr];var Nr=Rt.scope[Rr];return Nr||(Nr=Rt.scope[Rr]=new ca),Ir[Rr]=Sr(Nr)},Kt}function zt(Kt){var Sr=Kt.static;Kt=Kt.dynamic;var fn;if("profile"in Sr){var gn=!!Sr.profile;fn=se(function(Fn,Ln){return gn}),fn.enable=gn}else if("profile"in Kt){var yn=Kt.profile;fn=Q(yn,function(Fn,Ln){return Fn.invoke(Ln,yn)})}return fn}function Xt(Kt,Sr){var fn=Kt.static,gn=Kt.dynamic;if("framebuffer"in fn){var yn=fn.framebuffer;return yn?(yn=wt.getFramebuffer(yn),se(function(Ln,ln){var Ir=Ln.link(yn),Rr=Ln.shared;return ln.set(Rr.framebuffer,".next",Ir),Rr=Rr.context,ln.set(Rr,".framebufferWidth",Ir+".width"),ln.set(Rr,".framebufferHeight",Ir+".height"),Ir})):se(function(Ln,ln){var Ir=Ln.shared;return ln.set(Ir.framebuffer,".next","null"),Ir=Ir.context,ln.set(Ir,".framebufferWidth",Ir+".drawingBufferWidth"),ln.set(Ir,".framebufferHeight",Ir+".drawingBufferHeight"),"null"})}if("framebuffer"in gn){var Fn=gn.framebuffer;return Q(Fn,function(Ln,ln){var Nr=Ln.invoke(ln,Fn),Ir=Ln.shared,Rr=Ir.framebuffer,Nr=ln.def(Rr,".getFramebuffer(",Nr,")");return ln.set(Rr,".next",Nr),Ir=Ir.context,ln.set(Ir,".framebufferWidth",Nr+"?"+Nr+".width:"+Ir+".drawingBufferWidth"),ln.set(Ir,".framebufferHeight",Nr+"?"+Nr+".height:"+Ir+".drawingBufferHeight"),Nr})}return null}function lr(Kt,Sr,fn){function gn(ln){if(ln in yn){var Ir=yn[ln];ln=!0;var Rr=Ir.x|0,Nr=Ir.y|0,xn,Hn;return"width"in Ir?xn=Ir.width|0:ln=!1,"height"in Ir?Hn=Ir.height|0:ln=!1,new K(!ln&&Sr&&Sr.thisDep,!ln&&Sr&&Sr.contextDep,!ln&&Sr&&Sr.propDep,function(An,Wn){var ua=An.shared.context,ma=xn;"width"in Ir||(ma=Wn.def(ua,".","framebufferWidth","-",Rr));var da=Hn;return"height"in Ir||(da=Wn.def(ua,".","framebufferHeight","-",Nr)),[Rr,Nr,ma,da]})}if(ln in Fn){var Qn=Fn[ln];return ln=Q(Qn,function(An,Wn){var ba=An.invoke(Wn,Qn),ua=An.shared.context,ma=Wn.def(ba,".x|0"),da=Wn.def(ba,".y|0"),pa=Wn.def('"width" in ',ba,"?",ba,".width|0:","(",ua,".","framebufferWidth","-",ma,")"),ba=Wn.def('"height" in ',ba,"?",ba,".height|0:","(",ua,".","framebufferHeight","-",da,")");return[ma,da,pa,ba]}),Sr&&(ln.thisDep=ln.thisDep||Sr.thisDep,ln.contextDep=ln.contextDep||Sr.contextDep,ln.propDep=ln.propDep||Sr.propDep),ln}return Sr?new K(Sr.thisDep,Sr.contextDep,Sr.propDep,function(An,Wn){var ua=An.shared.context;return[0,0,Wn.def(ua,".","framebufferWidth"),Wn.def(ua,".","framebufferHeight")]}):null}var yn=Kt.static,Fn=Kt.dynamic;if(Kt=gn("viewport")){var Ln=Kt;Kt=new K(Kt.thisDep,Kt.contextDep,Kt.propDep,function(ln,Ir){var Rr=Ln.append(ln,Ir),Nr=ln.shared.context;return Ir.set(Nr,".viewportWidth",Rr[2]),Ir.set(Nr,".viewportHeight",Rr[3]),Rr})}return{viewport:Kt,scissor_box:gn("scissor.box")}}function cr(Kt,Sr){var fn=Kt.static;if(typeof fn.frag=="string"&&typeof fn.vert=="string"){if(0<Object.keys(Sr.dynamic).length)return null;var fn=Sr.static,gn=Object.keys(fn);if(0<gn.length&&typeof fn[gn[0]]=="number"){for(var yn=[],Fn=0;Fn<gn.length;++Fn)yn.push([fn[gn[Fn]]|0,gn[Fn]]);return yn}}return null}function nr(Kt,Sr,fn){function gn(Rr){if(Rr in yn){var Nr=Jt.id(yn[Rr]);return Rr=se(function(){return Nr}),Rr.id=Nr,Rr}if(Rr in Fn){var xn=Fn[Rr];return Q(xn,function(Hn,Qn){var An=Hn.invoke(Qn,xn);return Qn.def(Hn.shared.strings,".id(",An,")")})}return null}var yn=Kt.static,Fn=Kt.dynamic,Ln=gn("frag"),ln=gn("vert"),Ir=null;return te(Ln)&&te(ln)?(Ir=Ct.program(ln.id,Ln.id,null,fn),Kt=se(function(Rr,Nr){return Rr.link(Ir)})):Kt=new K(Ln&&Ln.thisDep||ln&&ln.thisDep,Ln&&Ln.contextDep||ln&&ln.contextDep,Ln&&Ln.propDep||ln&&ln.propDep,function(Rr,Nr){var xn=Rr.shared.shader,Hn;Hn=Ln?Ln.append(Rr,Nr):Nr.def(xn,".","frag");var Qn;return Qn=ln?ln.append(Rr,Nr):Nr.def(xn,".","vert"),Nr.def(xn+".program("+Qn+","+Hn+")")}),{frag:Ln,vert:ln,progVar:Kt,program:Ir}}function Bt(Kt,Sr){function fn(An,Wn){if(An in gn){var ua=gn[An]|0;return Wn?Fn.offset=ua:Fn.instances=ua,se(function(da,pa){return Wn&&(da.OFFSET=ua),ua})}if(An in yn){var ma=yn[An];return Q(ma,function(da,pa){var ba=da.invoke(pa,ma);return Wn&&(da.OFFSET=ba),ba})}if(Wn){if(Ir)return se(function(da,pa){return da.OFFSET=0});if(Ln)return new K(ln.thisDep,ln.contextDep,ln.propDep,function(da,pa){return pa.def(da.shared.vao+".currentVAO?"+da.shared.vao+".currentVAO.offset:0")})}else if(Ln)return new K(ln.thisDep,ln.contextDep,ln.propDep,function(da,pa){return pa.def(da.shared.vao+".currentVAO?"+da.shared.vao+".currentVAO.instances:-1")});return null}var gn=Kt.static,yn=Kt.dynamic,Fn={},Ln=!1,ln=function(){if("vao"in gn){var An=gn.vao;return An!==null&&Rt.getVAO(An)===null&&(An=Rt.createVAO(An)),Ln=!0,Fn.vao=An,se(function(ua){var ma=Rt.getVAO(An);return ma?ua.link(ma):"null"})}if("vao"in yn){Ln=!0;var Wn=yn.vao;return Q(Wn,function(ua,ma){var da=ua.invoke(ma,Wn);return ma.def(ua.shared.vao+".getVAO("+da+")")})}return null}(),Ir=!1,Rr=function(){if("elements"in gn){var An=gn.elements;if(Fn.elements=An,Y(An)){var Wn=Fn.elements=ht.create(An,!0),An=ht.getElements(Wn);Ir=!0}else An&&(An=ht.getElements(An),Ir=!0);return Wn=se(function(ma,da){if(An){var pa=ma.link(An);return ma.ELEMENTS=pa}return ma.ELEMENTS=null}),Wn.value=An,Wn}if("elements"in yn){Ir=!0;var ua=yn.elements;return Q(ua,function(ma,da){var pa=ma.shared,So=pa.isBufferArgs,pa=pa.elements,_o=ma.invoke(da,ua),ba=da.def("null"),So=da.def(So,"(",_o,")"),_o=ma.cond(So).then(ba,"=",pa,".createStream(",_o,");").else(ba,"=",pa,".getElements(",_o,");");return da.entry(_o),da.exit(ma.cond(So).then(pa,".destroyStream(",ba,");")),ma.ELEMENTS=ba})}return Ln?new K(ln.thisDep,ln.contextDep,ln.propDep,function(ma,da){return da.def(ma.shared.vao+".currentVAO?"+ma.shared.elements+".getElements("+ma.shared.vao+".currentVAO.elements):null")}):null}(),Nr=fn("offset",!0),xn=function(){if("primitive"in gn){var An=gn.primitive;return Fn.primitive=An,se(function(ua,ma){return Ke[An]})}if("primitive"in yn){var Wn=yn.primitive;return Q(Wn,function(ua,ma){var da=ua.constants.primTypes,pa=ua.invoke(ma,Wn);return ma.def(da,"[",pa,"]")})}return Ir?te(Rr)?Rr.value?se(function(ua,ma){return ma.def(ua.ELEMENTS,".primType")}):se(function(){return 4}):new K(Rr.thisDep,Rr.contextDep,Rr.propDep,function(ua,ma){var da=ua.ELEMENTS;return ma.def(da,"?",da,".primType:",4)}):Ln?new K(ln.thisDep,ln.contextDep,ln.propDep,function(ua,ma){return ma.def(ua.shared.vao+".currentVAO?"+ua.shared.vao+".currentVAO.primitive:4")}):null}(),Hn=function(){if("count"in gn){var An=gn.count|0;return Fn.count=An,se(function(){return An})}if("count"in yn){var Wn=yn.count;return Q(Wn,function(ua,ma){return ua.invoke(ma,Wn)})}return Ir?te(Rr)?Rr?Nr?new K(Nr.thisDep,Nr.contextDep,Nr.propDep,function(ua,ma){return ma.def(ua.ELEMENTS,".vertCount-",ua.OFFSET)}):se(function(ua,ma){return ma.def(ua.ELEMENTS,".vertCount")}):se(function(){return-1}):new K(Rr.thisDep||Nr.thisDep,Rr.contextDep||Nr.contextDep,Rr.propDep||Nr.propDep,function(ua,ma){var da=ua.ELEMENTS;return ua.OFFSET?ma.def(da,"?",da,".vertCount-",ua.OFFSET,":-1"):ma.def(da,"?",da,".vertCount:-1")}):Ln?new K(ln.thisDep,ln.contextDep,ln.propDep,function(ua,ma){return ma.def(ua.shared.vao,".currentVAO?",ua.shared.vao,".currentVAO.count:-1")}):null}(),Qn=fn("instances",!1);return{elements:Rr,primitive:xn,count:Hn,instances:Qn,offset:Nr,vao:ln,vaoActive:Ln,elementsActive:Ir,static:Fn}}function vr(Kt,Sr){var fn=Kt.static,gn=Kt.dynamic,yn={};return In.forEach(function(Fn){function Ln(Ir,Rr){if(Fn in fn){var Nr=Ir(fn[Fn]);yn[ln]=se(function(){return Nr})}else if(Fn in gn){var xn=gn[Fn];yn[ln]=Q(xn,function(Hn,Qn){return Rr(Hn,Qn,Hn.invoke(Qn,xn))})}}var ln=Cr(Fn);switch(Fn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return Ln(function(Ir){return Ir},function(Ir,Rr,Nr){return Nr});case"depth.func":return Ln(function(Ir){return jt[Ir]},function(Ir,Rr,Nr){return Rr.def(Ir.constants.compareFuncs,"[",Nr,"]")});case"depth.range":return Ln(function(Ir){return Ir},function(Ir,Rr,Nr){return Ir=Rr.def("+",Nr,"[0]"),Rr=Rr.def("+",Nr,"[1]"),[Ir,Rr]});case"blend.func":return Ln(function(Ir){return[Gt["srcRGB"in Ir?Ir.srcRGB:Ir.src],Gt["dstRGB"in Ir?Ir.dstRGB:Ir.dst],Gt["srcAlpha"in Ir?Ir.srcAlpha:Ir.src],Gt["dstAlpha"in Ir?Ir.dstAlpha:Ir.dst]]},function(Ir,Rr,Nr){function xn(Wn,ua){return Rr.def('"',Wn,ua,'" in ',Nr,"?",Nr,".",Wn,ua,":",Nr,".",Wn)}Ir=Ir.constants.blendFuncs;var Hn=xn("src","RGB"),An=xn("dst","RGB"),Hn=Rr.def(Ir,"[",Hn,"]"),Qn=Rr.def(Ir,"[",xn("src","Alpha"),"]"),An=Rr.def(Ir,"[",An,"]");return Ir=Rr.def(Ir,"[",xn("dst","Alpha"),"]"),[Hn,An,Qn,Ir]});case"blend.equation":return Ln(function(Ir){if(typeof Ir=="string")return[la[Ir],la[Ir]];if(typeof Ir=="object")return[la[Ir.rgb],la[Ir.alpha]]},function(Ir,Rr,Nr){var xn=Ir.constants.blendEquations,Hn=Rr.def(),Qn=Rr.def();return Ir=Ir.cond("typeof ",Nr,'==="string"'),Ir.then(Hn,"=",Qn,"=",xn,"[",Nr,"];"),Ir.else(Hn,"=",xn,"[",Nr,".rgb];",Qn,"=",xn,"[",Nr,".alpha];"),Rr(Ir),[Hn,Qn]});case"blend.color":return Ln(function(Ir){return l(4,function(Rr){return+Ir[Rr]})},function(Ir,Rr,Nr){return l(4,function(xn){return Rr.def("+",Nr,"[",xn,"]")})});case"stencil.mask":return Ln(function(Ir){return Ir|0},function(Ir,Rr,Nr){return Rr.def(Nr,"|0")});case"stencil.func":return Ln(function(Ir){return[jt[Ir.cmp||"keep"],Ir.ref||0,"mask"in Ir?Ir.mask:-1]},function(Ir,Rr,Nr){Ir=Rr.def('"cmp" in ',Nr,"?",Ir.constants.compareFuncs,"[",Nr,".cmp]",":",7680);var xn=Rr.def(Nr,".ref|0");return Rr=Rr.def('"mask" in ',Nr,"?",Nr,".mask|0:-1"),[Ir,xn,Rr]});case"stencil.opFront":case"stencil.opBack":return Ln(function(Ir){return[Fn==="stencil.opBack"?1029:1028,Pt[Ir.fail||"keep"],Pt[Ir.zfail||"keep"],Pt[Ir.zpass||"keep"]]},function(Ir,Rr,Nr){function xn(Qn){return Rr.def('"',Qn,'" in ',Nr,"?",Hn,"[",Nr,".",Qn,"]:",7680)}var Hn=Ir.constants.stencilOps;return[Fn==="stencil.opBack"?1029:1028,xn("fail"),xn("zfail"),xn("zpass")]});case"polygonOffset.offset":return Ln(function(Ir){return[Ir.factor|0,Ir.units|0]},function(Ir,Rr,Nr){return Ir=Rr.def(Nr,".factor|0"),Rr=Rr.def(Nr,".units|0"),[Ir,Rr]});case"cull.face":return Ln(function(Ir){var Rr=0;return Ir==="front"?Rr=1028:Ir==="back"&&(Rr=1029),Rr},function(Ir,Rr,Nr){return Rr.def(Nr,'==="front"?',1028,":",1029)});case"lineWidth":return Ln(function(Ir){return Ir},function(Ir,Rr,Nr){return Nr});case"frontFace":return Ln(function(Ir){return Qt[Ir]},function(Ir,Rr,Nr){return Rr.def(Nr+'==="cw"?2304:2305')});case"colorMask":return Ln(function(Ir){return Ir.map(function(Rr){return!!Rr})},function(Ir,Rr,Nr){return l(4,function(xn){return"!!"+Nr+"["+xn+"]"})});case"sample.coverage":return Ln(function(Ir){return["value"in Ir?Ir.value:1,!!Ir.invert]},function(Ir,Rr,Nr){return Ir=Rr.def('"value" in ',Nr,"?+",Nr,".value:1"),Rr=Rr.def("!!",Nr,".invert"),[Ir,Rr]})}}),yn}function yr(Kt,Sr){var fn=Kt.static,gn=Kt.dynamic,yn={};return Object.keys(fn).forEach(function(Fn){var Ln=fn[Fn],ln;if(typeof Ln=="number"||typeof Ln=="boolean")ln=se(function(){return Ln});else if(typeof Ln=="function"){var Ir=Ln._reglType;Ir==="texture2d"||Ir==="textureCube"?ln=se(function(Rr){return Rr.link(Ln)}):(Ir==="framebuffer"||Ir==="framebufferCube")&&(ln=se(function(Rr){return Rr.link(Ln.color[0])}))}else M(Ln)&&(ln=se(function(Rr){return Rr.global.def("[",l(Ln.length,function(Nr){return Ln[Nr]}),"]")}));ln.value=Ln,yn[Fn]=ln}),Object.keys(gn).forEach(function(Fn){var Ln=gn[Fn];yn[Fn]=Q(Ln,function(ln,Ir){return ln.invoke(Ir,Ln)})}),yn}function mr(Kt,Sr){var fn=Kt.static,gn=Kt.dynamic,yn={};return Object.keys(fn).forEach(function(Fn){var Ln=fn[Fn],ln=Jt.id(Fn),Ir=new ca;if(Y(Ln))Ir.state=1,Ir.buffer=dr.getBuffer(dr.create(Ln,34962,!1,!0)),Ir.type=0;else{var Rr=dr.getBuffer(Ln);if(Rr)Ir.state=1,Ir.buffer=Rr,Ir.type=0;else if("constant"in Ln){var Nr=Ln.constant;Ir.buffer="null",Ir.state=2,typeof Nr=="number"?Ir.x=Nr:Tt.forEach(function(ua,ma){ma<Nr.length&&(Ir[ua]=Nr[ma])})}else{var Rr=Y(Ln.buffer)?dr.getBuffer(dr.create(Ln.buffer,34962,!1,!0)):dr.getBuffer(Ln.buffer),xn=Ln.offset|0,Hn=Ln.stride|0,Qn=Ln.size|0,An=!!Ln.normalized,Wn=0;"type"in Ln&&(Wn=Fe[Ln.type]),Ln=Ln.divisor|0,Ir.buffer=Rr,Ir.state=1,Ir.size=Qn,Ir.normalized=An,Ir.type=Wn||Rr.dtype,Ir.offset=xn,Ir.stride=Hn,Ir.divisor=Ln}}yn[Fn]=se(function(ua,ma){var da=ua.attribCache;if(ln in da)return da[ln];var pa={isStream:!1};return Object.keys(Ir).forEach(function(ba){pa[ba]=Ir[ba]}),Ir.buffer&&(pa.buffer=ua.link(Ir.buffer),pa.type=pa.type||pa.buffer+".dtype"),da[ln]=pa})}),Object.keys(gn).forEach(function(Fn){var Ln=gn[Fn];yn[Fn]=Q(Ln,function(ln,Ir){function Rr(da){Ir(An[da],"=",Nr,".",da,"|0;")}var Nr=ln.invoke(Ir,Ln),Qn=ln.shared,xn=ln.constants,Hn=Qn.isBufferArgs,Qn=Qn.buffer,An={isStream:Ir.def(!1)},Wn=new ca;Wn.state=1,Object.keys(Wn).forEach(function(da){An[da]=Ir.def(""+Wn[da])});var ua=An.buffer,ma=An.type;return Ir("if(",Hn,"(",Nr,")){",An.isStream,"=true;",ua,"=",Qn,".createStream(",34962,",",Nr,");",ma,"=",ua,".dtype;","}else{",ua,"=",Qn,".getBuffer(",Nr,");","if(",ua,"){",ma,"=",ua,".dtype;",'}else if("constant" in ',Nr,"){",An.state,"=",2,";","if(typeof "+Nr+'.constant === "number"){',An[Tt[0]],"=",Nr,".constant;",Tt.slice(1).map(function(da){return An[da]}).join("="),"=0;","}else{",Tt.map(function(da,pa){return An[da]+"="+Nr+".constant.length>"+pa+"?"+Nr+".constant["+pa+"]:0;"}).join(""),"}}else{","if(",Hn,"(",Nr,".buffer)){",ua,"=",Qn,".createStream(",34962,",",Nr,".buffer);","}else{",ua,"=",Qn,".getBuffer(",Nr,".buffer);","}",ma,'="type" in ',Nr,"?",xn.glTypes,"[",Nr,".type]:",ua,".dtype;",An.normalized,"=!!",Nr,".normalized;"),Rr("size"),Rr("offset"),Rr("stride"),Rr("divisor"),Ir("}}"),Ir.exit("if(",An.isStream,"){",Qn,".destroyStream(",ua,");","}"),An})}),yn}function gr(Kt){var Sr=Kt.static,fn=Kt.dynamic,gn={};return Object.keys(Sr).forEach(function(yn){var Fn=Sr[yn];gn[yn]=se(function(Ln,ln){return typeof Fn=="number"||typeof Fn=="boolean"?""+Fn:Ln.link(Fn)})}),Object.keys(fn).forEach(function(yn){var Fn=fn[yn];gn[yn]=Q(Fn,function(Ln,ln){return Ln.invoke(ln,Fn)})}),gn}function Zr(Kt,Sr,fn,gn,yn){function Fn(Wn){var ua=ln[Wn];ua&&(Rr[Wn]=ua)}var Ln=cr(Kt,Sr),Hn=Xt(Kt),ln=lr(Kt,Hn),Ir=Bt(Kt),Rr=vr(Kt),Nr=nr(Kt,yn,Ln);Fn("viewport"),Fn(Cr("scissor.box"));var xn=0<Object.keys(Rr).length,Hn={framebuffer:Hn,draw:Ir,shader:Nr,state:Rr,dirty:xn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Hn.profile=zt(Kt),Hn.uniforms=yr(fn),Hn.drawVAO=Hn.scopeVAO=Ir.vao,!Hn.drawVAO&&Nr.program&&!Ln&&Zt.angle_instanced_arrays&&Ir.static.elements){var Qn=!0;if(Kt=Nr.program.attributes.map(function(Wn){return Wn=Sr.static[Wn],Qn=Qn&&!!Wn,Wn}),Qn&&0<Kt.length){var An=Rt.getVAO(Rt.createVAO({attributes:Kt,elements:Ir.static.elements}));Hn.drawVAO=new K(null,null,null,function(Wn,ua){return Wn.link(An)}),Hn.useVAO=!0}}return Ln?Hn.useVAO=!0:Hn.attributes=mr(Sr),Hn.context=gr(gn),Hn}function Ur(Kt,Sr,fn){var gn=Kt.shared.context,yn=Kt.scope();Object.keys(fn).forEach(function(Fn){Sr.save(gn,"."+Fn);var Ln=fn[Fn].append(Kt,Sr);Array.isArray(Ln)?yn(gn,".",Fn,"=[",Ln.join(),"];"):yn(gn,".",Fn,"=",Ln,";")}),Sr(yn)}function Br(Kt,Sr,fn,gn){var ln=Kt.shared,yn=ln.gl,Fn=ln.framebuffer,Ln;hn&&(Ln=Sr.def(ln.extensions,".webgl_draw_buffers"));var Ir=Kt.constants,ln=Ir.drawBuffer,Ir=Ir.backBuffer;Kt=fn?fn.append(Kt,Sr):Sr.def(Fn,".next"),gn||Sr("if(",Kt,"!==",Fn,".cur){"),Sr("if(",Kt,"){",yn,".bindFramebuffer(",36160,",",Kt,".framebuffer);"),hn&&Sr(Ln,".drawBuffersWEBGL(",ln,"[",Kt,".colorAttachments.length]);"),Sr("}else{",yn,".bindFramebuffer(",36160,",null);"),hn&&Sr(Ln,".drawBuffersWEBGL(",Ir,");"),Sr("}",Fn,".cur=",Kt,";"),gn||Sr("}")}function Tn(Kt,Sr,fn){var gn=Kt.shared,yn=gn.gl,Fn=Kt.current,Ln=Kt.next,ln=gn.current,Ir=gn.next,Rr=Kt.cond(ln,".dirty");In.forEach(function(Nr){if(Nr=Cr(Nr),!(Nr in fn.state)){var xn,Hn;if(Nr in Ln){xn=Ln[Nr],Hn=Fn[Nr];var Qn=l(wn[Nr].length,function(An){return Rr.def(xn,"[",An,"]")});Rr(Kt.cond(Qn.map(function(An,Wn){return An+"!=="+Hn+"["+Wn+"]"}).join("||")).then(yn,".",jn[Nr],"(",Qn,");",Qn.map(function(An,Wn){return Hn+"["+Wn+"]="+An}).join(";"),";"))}else xn=Rr.def(Ir,".",Nr),Qn=Kt.cond(xn,"!==",ln,".",Nr),Rr(Qn),Nr in Dn?Qn(Kt.cond(xn).then(yn,".enable(",Dn[Nr],");").else(yn,".disable(",Dn[Nr],");"),ln,".",Nr,"=",xn,";"):Qn(yn,".",jn[Nr],"(",xn,");",ln,".",Nr,"=",xn,";")}}),Object.keys(fn.state).length===0&&Rr(ln,".dirty=false;"),Sr(Rr)}function Kr(Kt,Sr,fn,gn){var yn=Kt.shared,Fn=Kt.current,Ln=yn.current,ln=yn.gl,Ir;j(Object.keys(fn)).forEach(function(Rr){var Nr=fn[Rr];if(!gn||gn(Nr)){var xn=Nr.append(Kt,Sr);if(Dn[Rr]){var Hn=Dn[Rr];te(Nr)?(Ir=Kt.link(xn,{stable:!0}),Sr(Kt.cond(Ir).then(ln,".enable(",Hn,");").else(ln,".disable(",Hn,");")),Sr(Ln,".",Rr,"=",Ir,";")):(Sr(Kt.cond(xn).then(ln,".enable(",Hn,");").else(ln,".disable(",Hn,");")),Sr(Ln,".",Rr,"=",xn,";"))}else if(M(xn)){var Qn=Fn[Rr];Sr(ln,".",jn[Rr],"(",xn,");",xn.map(function(An,Wn){return Qn+"["+Wn+"]="+An}).join(";"),";")}else te(Nr)?(Ir=Kt.link(xn,{stable:!0}),Sr(ln,".",jn[Rr],"(",Ir,");",Ln,".",Rr,"=",Ir,";")):Sr(ln,".",jn[Rr],"(",xn,");",Ln,".",Rr,"=",xn,";")}})}function Bn(Kt,Sr){Pr&&(Kt.instancing=Sr.def(Kt.shared.extensions,".angle_instanced_arrays"))}function On(Kt,Sr,fn,gn,yn){function Fn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function Ln(Wn){Qn=Sr.def(),Wn(Qn,"=",Fn(),";"),typeof yn=="string"?Wn(Nr,".count+=",yn,";"):Wn(Nr,".count++;"),er&&(gn?(An=Sr.def(),Wn(An,"=",Hn,".getNumPendingQueries();")):Wn(Hn,".beginQuery(",Nr,");"))}function ln(Wn){Wn(Nr,".cpuTime+=",Fn(),"-",Qn,";"),er&&(gn?Wn(Hn,".pushScopeStats(",An,",",Hn,".getNumPendingQueries(),",Nr,");"):Wn(Hn,".endQuery();"))}function Ir(Wn){var ua=Sr.def(xn,".profile");Sr(xn,".profile=",Wn,";"),Sr.exit(xn,".profile=",ua,";")}var Rr=Kt.shared,Nr=Kt.stats,xn=Rr.current,Hn=Rr.timer;fn=fn.profile;var Qn,An;if(fn){if(te(fn)){fn.enable?(Ln(Sr),ln(Sr.exit),Ir("true")):Ir("false");return}fn=fn.append(Kt,Sr),Ir(fn)}else fn=Sr.def(xn,".profile");Rr=Kt.block(),Ln(Rr),Sr("if(",fn,"){",Rr,"}"),Kt=Kt.block(),ln(Kt),Sr.exit("if(",fn,"){",Kt,"}")}function Tr(Kt,Sr,fn,gn,yn){function Fn(Ir){switch(Ir){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function Ln(Ir,Rr,Nr){function xn(){Sr("if(!",Wn,".buffer){",Qn,".enableVertexAttribArray(",An,");}");var pa=Nr.type,ba;ba=Nr.size?Sr.def(Nr.size,"||",Rr):Rr,Sr("if(",Wn,".type!==",pa,"||",Wn,".size!==",ba,"||",da.map(function(So){return Wn+"."+So+"!=="+Nr[So]}).join("||"),"){",Qn,".bindBuffer(",34962,",",ua,".buffer);",Qn,".vertexAttribPointer(",[An,ba,pa,Nr.normalized,Nr.stride,Nr.offset],");",Wn,".type=",pa,";",Wn,".size=",ba,";",da.map(function(So){return Wn+"."+So+"="+Nr[So]+";"}).join(""),"}"),Pr&&(pa=Nr.divisor,Sr("if(",Wn,".divisor!==",pa,"){",Kt.instancing,".vertexAttribDivisorANGLE(",[An,pa],");",Wn,".divisor=",pa,";}"))}function Hn(){Sr("if(",Wn,".buffer){",Qn,".disableVertexAttribArray(",An,");",Wn,".buffer=null;","}if(",Tt.map(function(pa,ba){return Wn+"."+pa+"!=="+ma[ba]}).join("||"),"){",Qn,".vertexAttrib4f(",An,",",ma,");",Tt.map(function(pa,ba){return Wn+"."+pa+"="+ma[ba]+";"}).join(""),"}")}var Qn=ln.gl,An=Sr.def(Ir,".location"),Wn=Sr.def(ln.attributes,"[",An,"]");Ir=Nr.state;var ua=Nr.buffer,ma=[Nr.x,Nr.y,Nr.z,Nr.w],da=["buffer","normalized","offset","stride"];Ir===1?xn():Ir===2?Hn():(Sr("if(",Ir,"===",1,"){"),xn(),Sr("}else{"),Hn(),Sr("}"))}var ln=Kt.shared;gn.forEach(function(Ir){var Rr=Ir.name,Nr=fn.attributes[Rr],xn;if(Nr){if(!yn(Nr))return;xn=Nr.append(Kt,Sr)}else{if(!yn(or))return;var Hn=Kt.scopeAttrib(Rr);xn={},Object.keys(new ca).forEach(function(Qn){xn[Qn]=Sr.def(Hn,".",Qn)})}Ln(Kt.link(Ir),Fn(Ir.info.type),xn)})}function Mr(Kt,Sr,fn,gn,yn,Fn){for(var Ln=Kt.shared,ln=Ln.gl,Ir,Rr=0;Rr<gn.length;++Rr){var Qn=gn[Rr],Nr=Qn.name,xn=Qn.info.type,Hn=fn.uniforms[Nr],Qn=Kt.link(Qn)+".location",An;if(Hn){if(!yn(Hn))continue;if(te(Hn)){if(Nr=Hn.value,xn===35678||xn===35680)xn=Kt.link(Nr._texture||Nr.color[0]._texture),Sr(ln,".uniform1i(",Qn,",",xn+".bind());"),Sr.exit(xn,".unbind();");else if(xn===35674||xn===35675||xn===35676)Nr=Kt.global.def("new Float32Array(["+Array.prototype.slice.call(Nr)+"])"),Hn=2,xn===35675?Hn=3:xn===35676&&(Hn=4),Sr(ln,".uniformMatrix",Hn,"fv(",Qn,",false,",Nr,");");else{switch(xn){case 5126:Ir="1f";break;case 35664:Ir="2f";break;case 35665:Ir="3f";break;case 35666:Ir="4f";break;case 35670:Ir="1i";break;case 5124:Ir="1i";break;case 35671:Ir="2i";break;case 35667:Ir="2i";break;case 35672:Ir="3i";break;case 35668:Ir="3i";break;case 35673:Ir="4i";break;case 35669:Ir="4i"}Sr(ln,".uniform",Ir,"(",Qn,",",M(Nr)?Array.prototype.slice.call(Nr):Nr,");")}continue}else An=Hn.append(Kt,Sr)}else{if(!yn(or))continue;An=Sr.def(Ln.uniforms,"[",Jt.id(Nr),"]")}switch(xn===35678?Sr("if(",An,"&&",An,'._reglType==="framebuffer"){',An,"=",An,".color[0];","}"):xn===35680&&Sr("if(",An,"&&",An,'._reglType==="framebufferCube"){',An,"=",An,".color[0];","}"),Nr=1,xn){case 35678:case 35680:xn=Sr.def(An,"._texture"),Sr(ln,".uniform1i(",Qn,",",xn,".bind());"),Sr.exit(xn,".unbind();");continue;case 5124:case 35670:Ir="1i";break;case 35667:case 35671:Ir="2i",Nr=2;break;case 35668:case 35672:Ir="3i",Nr=3;break;case 35669:case 35673:Ir="4i",Nr=4;break;case 5126:Ir="1f";break;case 35664:Ir="2f",Nr=2;break;case 35665:Ir="3f",Nr=3;break;case 35666:Ir="4f",Nr=4;break;case 35674:Ir="Matrix2fv";break;case 35675:Ir="Matrix3fv";break;case 35676:Ir="Matrix4fv"}if(Ir.charAt(0)==="M"){Sr(ln,".uniform",Ir,"(",Qn,",");var Qn=Math.pow(xn-35674+2,2),Wn=Kt.global.def("new Float32Array(",Qn,")");Array.isArray(An)?Sr("false,(",l(Qn,function(da){return Wn+"["+da+"]="+An[da]}),",",Wn,")"):Sr("false,(Array.isArray(",An,")||",An," instanceof Float32Array)?",An,":(",l(Qn,function(da){return Wn+"["+da+"]="+An+"["+da+"]"}),",",Wn,")"),Sr(");")}else{if(1<Nr){for(var xn=[],ua=[],Hn=0;Hn<Nr;++Hn)Array.isArray(An)?ua.push(An[Hn]):ua.push(Sr.def(An+"["+Hn+"]")),Fn&&xn.push(Sr.def());Fn&&Sr("if(!",Kt.batchId,"||",xn.map(function(ma,da){return ma+"!=="+ua[da]}).join("||"),"){",xn.map(function(ma,da){return ma+"="+ua[da]+";"}).join("")),Sr(ln,".uniform",Ir,"(",Qn,",",ua.join(","),");")}else Fn&&(xn=Sr.def(),Sr("if(!",Kt.batchId,"||",xn,"!==",An,"){",xn,"=",An,";")),Sr(ln,".uniform",Ir,"(",Qn,",",An,");");Fn&&Sr("}")}}}function Hr(Kt,Sr,fn,gn){function yn(pa){var ba=Nr[pa];return ba?ba.contextDep&&gn.contextDynamic||ba.propDep?ba.append(Kt,fn):ba.append(Kt,Sr):Sr.def(Rr,".",pa)}function Fn(){function pa(){fn(ua,".drawElementsInstancedANGLE(",[Hn,An,ma,Qn+"<<(("+ma+"-5121)>>1)",Wn],");")}function ba(){fn(ua,".drawArraysInstancedANGLE(",[Hn,Qn,An,Wn],");")}xn&&xn!=="null"?da?pa():(fn("if(",xn,"){"),pa(),fn("}else{"),ba(),fn("}")):ba()}function Ln(){function pa(){fn(Ir+".drawElements("+[Hn,An,ma,Qn+"<<(("+ma+"-5121)>>1)"]+");")}function ba(){fn(Ir+".drawArrays("+[Hn,Qn,An]+");")}xn&&xn!=="null"?da?pa():(fn("if(",xn,"){"),pa(),fn("}else{"),ba(),fn("}")):ba()}var ln=Kt.shared,Ir=ln.gl,Rr=ln.draw,Nr=gn.draw,xn=function(){var pa=Nr.elements,ba=Sr;return pa?((pa.contextDep&&gn.contextDynamic||pa.propDep)&&(ba=fn),pa=pa.append(Kt,ba),Nr.elementsActive&&ba("if("+pa+")"+Ir+".bindBuffer(34963,"+pa+".buffer.buffer);")):(pa=ba.def(),ba(pa,"=",Rr,".","elements",";","if(",pa,"){",Ir,".bindBuffer(",34963,",",pa,".buffer.buffer);}","else if(",ln.vao,".currentVAO){",pa,"=",Kt.shared.elements+".getElements("+ln.vao,".currentVAO.elements);",un?"":"if("+pa+")"+Ir+".bindBuffer(34963,"+pa+".buffer.buffer);","}")),pa}(),Hn=yn("primitive"),Qn=yn("offset"),An=function(){var pa=Nr.count,ba=Sr;return pa?((pa.contextDep&&gn.contextDynamic||pa.propDep)&&(ba=fn),pa=pa.append(Kt,ba)):pa=ba.def(Rr,".","count"),pa}();if(typeof An=="number"){if(An===0)return}else fn("if(",An,"){"),fn.exit("}");var Wn,ua;Pr&&(Wn=yn("instances"),ua=Kt.instancing);var ma=xn+".type",da=Nr.elements&&te(Nr.elements)&&!Nr.vaoActive;Pr&&(typeof Wn!="number"||0<=Wn)?typeof Wn=="string"?(fn("if(",Wn,">0){"),Fn(),fn("}else if(",Wn,"<0){"),Ln(),fn("}")):Fn():Ln()}function Vr(Kt,Sr,fn,gn,yn){return Sr=kt(),yn=Sr.proc("body",yn),Pr&&(Sr.instancing=yn.def(Sr.shared.extensions,".angle_instanced_arrays")),Kt(Sr,yn,fn,gn),Sr.compile().body}function nn(Kt,Sr,fn,gn){Bn(Kt,Sr),fn.useVAO?fn.drawVAO?Sr(Kt.shared.vao,".setVAO(",fn.drawVAO.append(Kt,Sr),");"):Sr(Kt.shared.vao,".setVAO(",Kt.shared.vao,".targetVAO);"):(Sr(Kt.shared.vao,".setVAO(null);"),Tr(Kt,Sr,fn,gn.attributes,function(){return!0})),Mr(Kt,Sr,fn,gn.uniforms,function(){return!0},!1),Hr(Kt,Sr,Sr,fn)}function bn(Kt,Sr){var fn=Kt.proc("draw",1);Bn(Kt,fn),Ur(Kt,fn,Sr.context),Br(Kt,fn,Sr.framebuffer),Tn(Kt,fn,Sr),Kr(Kt,fn,Sr.state),On(Kt,fn,Sr,!1,!0);var gn=Sr.shader.progVar.append(Kt,fn);if(fn(Kt.shared.gl,".useProgram(",gn,".program);"),Sr.shader.program)nn(Kt,fn,Sr,Sr.shader.program);else{fn(Kt.shared.vao,".setVAO(null);");var yn=Kt.global.def("{}"),Fn=fn.def(gn,".id"),Ln=fn.def(yn,"[",Fn,"]");fn(Kt.cond(Ln).then(Ln,".call(this,a0);").else(Ln,"=",yn,"[",Fn,"]=",Kt.link(function(ln){return Vr(nn,Kt,Sr,ln,1)}),"(",gn,");",Ln,".call(this,a0);"))}0<Object.keys(Sr.state).length&&fn(Kt.shared.current,".dirty=true;"),Kt.shared.vao&&fn(Kt.shared.vao,".setVAO(null);")}function dn(Kt,Sr,fn,gn){function yn(){return!0}Kt.batchId="a1",Bn(Kt,Sr),Tr(Kt,Sr,fn,gn.attributes,yn),Mr(Kt,Sr,fn,gn.uniforms,yn,!1),Hr(Kt,Sr,Sr,fn)}function Pn(Kt,Sr,fn,gn){function yn(xn){return xn.contextDep&&Ln||xn.propDep}function Fn(xn){return!yn(xn)}Bn(Kt,Sr);var Ln=fn.contextDep,ln=Sr.def(),Ir=Sr.def();Kt.shared.props=Ir,Kt.batchId=ln;var Rr=Kt.scope(),Nr=Kt.scope();Sr(Rr.entry,"for(",ln,"=0;",ln,"<","a1",";++",ln,"){",Ir,"=","a0","[",ln,"];",Nr,"}",Rr.exit),fn.needsContext&&Ur(Kt,Nr,fn.context),fn.needsFramebuffer&&Br(Kt,Nr,fn.framebuffer),Kr(Kt,Nr,fn.state,yn),fn.profile&&yn(fn.profile)&&On(Kt,Nr,fn,!1,!0),gn?(fn.useVAO?fn.drawVAO?yn(fn.drawVAO)?Nr(Kt.shared.vao,".setVAO(",fn.drawVAO.append(Kt,Nr),");"):Rr(Kt.shared.vao,".setVAO(",fn.drawVAO.append(Kt,Rr),");"):Rr(Kt.shared.vao,".setVAO(",Kt.shared.vao,".targetVAO);"):(Rr(Kt.shared.vao,".setVAO(null);"),Tr(Kt,Rr,fn,gn.attributes,Fn),Tr(Kt,Nr,fn,gn.attributes,yn)),Mr(Kt,Rr,fn,gn.uniforms,Fn,!1),Mr(Kt,Nr,fn,gn.uniforms,yn,!0),Hr(Kt,Rr,Nr,fn)):(Sr=Kt.global.def("{}"),gn=fn.shader.progVar.append(Kt,Nr),Ir=Nr.def(gn,".id"),Rr=Nr.def(Sr,"[",Ir,"]"),Nr(Kt.shared.gl,".useProgram(",gn,".program);","if(!",Rr,"){",Rr,"=",Sr,"[",Ir,"]=",Kt.link(function(xn){return Vr(dn,Kt,fn,xn,2)}),"(",gn,");}",Rr,".call(this,a0[",ln,"],",ln,");"))}function zn(Kt,Sr){function fn(Rr){return Rr.contextDep&&yn||Rr.propDep}var gn=Kt.proc("batch",2);Kt.batchId="0",Bn(Kt,gn);var yn=!1,Fn=!0;Object.keys(Sr.context).forEach(function(Rr){yn=yn||Sr.context[Rr].propDep}),yn||(Ur(Kt,gn,Sr.context),Fn=!1);var Ln=Sr.framebuffer,ln=!1;if(Ln?(Ln.propDep?yn=ln=!0:Ln.contextDep&&yn&&(ln=!0),ln||Br(Kt,gn,Ln)):Br(Kt,gn,null),Sr.state.viewport&&Sr.state.viewport.propDep&&(yn=!0),Tn(Kt,gn,Sr),Kr(Kt,gn,Sr.state,function(Rr){return!fn(Rr)}),Sr.profile&&fn(Sr.profile)||On(Kt,gn,Sr,!1,"a1"),Sr.contextDep=yn,Sr.needsContext=Fn,Sr.needsFramebuffer=ln,Fn=Sr.shader.progVar,Fn.contextDep&&yn||Fn.propDep)Pn(Kt,gn,Sr,null);else if(Fn=Fn.append(Kt,gn),gn(Kt.shared.gl,".useProgram(",Fn,".program);"),Sr.shader.program)Pn(Kt,gn,Sr,Sr.shader.program);else{gn(Kt.shared.vao,".setVAO(null);");var Ln=Kt.global.def("{}"),ln=gn.def(Fn,".id"),Ir=gn.def(Ln,"[",ln,"]");gn(Kt.cond(Ir).then(Ir,".call(this,a0,a1);").else(Ir,"=",Ln,"[",ln,"]=",Kt.link(function(xn){return Vr(Pn,Kt,Sr,xn,2)}),"(",Fn,");",Ir,".call(this,a0,a1);"))}0<Object.keys(Sr.state).length&&gn(Kt.shared.current,".dirty=true;"),Kt.shared.vao&&gn(Kt.shared.vao,".setVAO(null);")}function ta(Kt,Sr){function fn(ln){var Ir=Sr.shader[ln];Ir&&(Ir=Ir.append(Kt,gn),isNaN(Ir)?gn.set(yn.shader,"."+ln,Ir):gn.set(yn.shader,"."+ln,Kt.link(Ir,{stable:!0})))}var gn=Kt.proc("scope",3);Kt.batchId="a2";var yn=Kt.shared,Fn=yn.current;if(Ur(Kt,gn,Sr.context),Sr.framebuffer&&Sr.framebuffer.append(Kt,gn),j(Object.keys(Sr.state)).forEach(function(ln){var Ir=Sr.state[ln],Rr=Ir.append(Kt,gn);M(Rr)?Rr.forEach(function(Nr,xn){isNaN(Nr)?gn.set(Kt.next[ln],"["+xn+"]",Nr):gn.set(Kt.next[ln],"["+xn+"]",Kt.link(Nr,{stable:!0}))}):te(Ir)?gn.set(yn.next,"."+ln,Kt.link(Rr,{stable:!0})):gn.set(yn.next,"."+ln,Rr)}),On(Kt,gn,Sr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(ln){var Ir=Sr.draw[ln];Ir&&(Ir=Ir.append(Kt,gn),isNaN(Ir)?gn.set(yn.draw,"."+ln,Ir):gn.set(yn.draw,"."+ln,Kt.link(Ir),{stable:!0}))}),Object.keys(Sr.uniforms).forEach(function(ln){var Ir=Sr.uniforms[ln].append(Kt,gn);Array.isArray(Ir)&&(Ir="["+Ir.map(function(Rr){return isNaN(Rr)?Rr:Kt.link(Rr,{stable:!0})})+"]"),gn.set(yn.uniforms,"["+Kt.link(Jt.id(ln),{stable:!0})+"]",Ir)}),Object.keys(Sr.attributes).forEach(function(ln){var Ir=Sr.attributes[ln].append(Kt,gn),Rr=Kt.scopeAttrib(ln);Object.keys(new ca).forEach(function(Nr){gn.set(Rr,"."+Nr,Ir[Nr])})}),Sr.scopeVAO){var Ln=Sr.scopeVAO.append(Kt,gn);isNaN(Ln)?gn.set(yn.vao,".targetVAO",Ln):gn.set(yn.vao,".targetVAO",Kt.link(Ln,{stable:!0}))}fn("vert"),fn("frag"),0<Object.keys(Sr.state).length&&(gn(Fn,".dirty=true;"),gn.exit(Fn,".dirty=true;")),gn("a1(",Kt.shared.context,",a0,",Kt.batchId,");")}function oa(Kt){if(typeof Kt=="object"&&!M(Kt)){for(var Sr=Object.keys(Kt),fn=0;fn<Sr.length;++fn)if(xe.isDynamic(Kt[Sr[fn]]))return!0;return!1}}function ya(Kt,Sr,fn){function gn(xn,Hn){Ln.forEach(function(Qn){var An=yn[Qn];xe.isDynamic(An)&&(An=xn.invoke(Hn,An),Hn(Nr,".",Qn,"=",An,";"))})}var yn=Sr.static[fn];if(yn&&oa(yn)){var Fn=Kt.global,Ln=Object.keys(yn),ln=!1,Ir=!1,Rr=!1,Nr=Kt.global.def("{}");Ln.forEach(function(xn){var Hn=yn[xn];if(xe.isDynamic(Hn))typeof Hn=="function"&&(Hn=yn[xn]=xe.unbox(Hn)),xn=Q(Hn,null),ln=ln||xn.thisDep,Rr=Rr||xn.propDep,Ir=Ir||xn.contextDep;else{switch(Fn(Nr,".",xn,"="),typeof Hn){case"number":Fn(Hn);break;case"string":Fn('"',Hn,'"');break;case"object":Array.isArray(Hn)&&Fn("[",Hn.join(),"]");break;default:Fn(Kt.link(Hn))}Fn(";")}}),Sr.dynamic[fn]=new xe.DynamicVariable(4,{thisDep:ln,contextDep:Ir,propDep:Rr,ref:Nr,append:gn}),delete Sr.static[fn]}}var ca=Rt.Record,la={add:32774,subtract:32778,"reverse subtract":32779};Zt.ext_blend_minmax&&(la.min=32775,la.max=32776);var Pr=Zt.angle_instanced_arrays,hn=Zt.webgl_draw_buffers,un=Zt.oes_vertex_array_object,wn={dirty:!0,profile:sr.profile},Zn={},In=[],Dn={},jn={};je("dither",3024),je("blend.enable",3042),We("blend.color","blendColor",[0,0,0,0]),We("blend.equation","blendEquationSeparate",[32774,32774]),We("blend.func","blendFuncSeparate",[1,0,1,0]),je("depth.enable",2929,!0),We("depth.func","depthFunc",513),We("depth.range","depthRange",[0,1]),We("depth.mask","depthMask",!0),We("colorMask","colorMask",[!0,!0,!0,!0]),je("cull.enable",2884),We("cull.face","cullFace",1029),We("frontFace","frontFace",2305),We("lineWidth","lineWidth",1),je("polygonOffset.enable",32823),We("polygonOffset.offset","polygonOffset",[0,0]),je("sample.alpha",32926),je("sample.enable",32928),We("sample.coverage","sampleCoverage",[1,!1]),je("stencil.enable",2960),We("stencil.mask","stencilMask",-1),We("stencil.func","stencilFunc",[519,0,-1]),We("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),We("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),je("scissor.enable",3089),We("scissor.box","scissor",[0,0,bt.drawingBufferWidth,bt.drawingBufferHeight]),We("viewport","viewport",[0,0,bt.drawingBufferWidth,bt.drawingBufferHeight]);var va={gl:bt,context:Wt,strings:Jt,next:Zn,current:wn,draw:Ot,elements:ht,buffer:dr,shader:Ct,attributes:Rt.state,vao:Rt,uniforms:St,framebuffer:wt,extensions:Zt,timer:er,isBufferArgs:Y},Ia={primTypes:Ke,compareFuncs:jt,blendFuncs:Gt,blendEquations:la,stencilOps:Pt,glTypes:Fe,orientationType:Qt};hn&&(Ia.backBuffer=[1029],Ia.drawBuffer=l(Ar.maxDrawbuffers,function(Kt){return Kt===0?[0]:l(Kt,function(Sr){return 36064+Sr})}));var hi=0;return{next:Zn,current:wn,procs:function(){var Kt=kt(),Sr=Kt.proc("poll"),fn=Kt.proc("refresh"),gn=Kt.block();Sr(gn),fn(gn);var Ir=Kt.shared,yn=Ir.gl,Fn=Ir.next,Ln=Ir.current;gn(Ln,".dirty=false;"),Br(Kt,Sr),Br(Kt,fn,null,!0);var ln;Pr&&(ln=Kt.link(Pr)),Zt.oes_vertex_array_object&&fn(Kt.link(Zt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Ir=fn.def(Ir.attributes),Rr=fn.def(0),Nr=Kt.cond(Rr,".buffer");Nr.then(yn,".enableVertexAttribArray(i);",yn,".bindBuffer(",34962,",",Rr,".buffer.buffer);",yn,".vertexAttribPointer(i,",Rr,".size,",Rr,".type,",Rr,".normalized,",Rr,".stride,",Rr,".offset);").else(yn,".disableVertexAttribArray(i);",yn,".vertexAttrib4f(i,",Rr,".x,",Rr,".y,",Rr,".z,",Rr,".w);",Rr,".buffer=null;");var xn=Kt.link(Ar.maxAttributes,{stable:!0});return fn("for(var i=0;i<",xn,";++i){",Rr,"=",Ir,"[i];",Nr,"}"),Pr&&fn("for(var i=0;i<",xn,";++i){",ln,".vertexAttribDivisorANGLE(i,",Ir,"[i].divisor);","}"),fn(Kt.shared.vao,".currentVAO=null;",Kt.shared.vao,".setVAO(",Kt.shared.vao,".targetVAO);"),Object.keys(Dn).forEach(function(Hn){var Qn=Dn[Hn],An=gn.def(Fn,".",Hn),Wn=Kt.block();Wn("if(",An,"){",yn,".enable(",Qn,")}else{",yn,".disable(",Qn,")}",Ln,".",Hn,"=",An,";"),fn(Wn),Sr("if(",An,"!==",Ln,".",Hn,"){",Wn,"}")}),Object.keys(jn).forEach(function(Hn){var Qn=jn[Hn],An=wn[Hn],Wn,ua,ma=Kt.block();ma(yn,".",Qn,"("),M(An)?(Qn=An.length,Wn=Kt.global.def(Fn,".",Hn),ua=Kt.global.def(Ln,".",Hn),ma(l(Qn,function(da){return Wn+"["+da+"]"}),");",l(Qn,function(da){return ua+"["+da+"]="+Wn+"["+da+"];"}).join("")),Sr("if(",l(Qn,function(da){return Wn+"["+da+"]!=="+ua+"["+da+"]"}).join("||"),"){",ma,"}")):(Wn=gn.def(Fn,".",Hn),ua=gn.def(Ln,".",Hn),ma(Wn,");",Ln,".",Hn,"=",Wn,";"),Sr("if(",Wn,"!==",ua,"){",ma,"}")),fn(ma)}),Kt.compile()}(),compile:function(Kt,Sr,fn,gn,yn){var Fn=kt();Fn.stats=Fn.link(yn),Object.keys(Sr.static).forEach(function(ln){ya(Fn,Sr,ln)}),It.forEach(function(ln){ya(Fn,Kt,ln)});var Ln=Zr(Kt,Sr,fn,gn,Fn);return Ln.shader.program&&(Ln.shader.program.attributes.sort(function(ln,Ir){return ln.name<Ir.name?-1:1}),Ln.shader.program.uniforms.sort(function(ln,Ir){return ln.name<Ir.name?-1:1})),bn(Fn,Ln),ta(Fn,Ln),zn(Fn,Ln),ie(Fn.compile(),{destroy:function(){Ln.shader.program.destroy()}})}}}function le(bt,Jt){for(var Zt=0;Zt<bt.length;++Zt)if(bt[Zt]===Jt)return Zt;return-1}var ie=function(bt,Jt){for(var Zt=Object.keys(Jt),Ar=0;Ar<Zt.length;++Ar)bt[Zt[Ar]]=Jt[Zt[Ar]];return bt},he=0,xe={DynamicVariable:V,define:function(bt,Jt){return new V(bt,g(Jt+""))},isDynamic:function(bt){return typeof bt=="function"&&!bt._reglType||bt instanceof V},unbox:R,accessor:g},Se={next:typeof requestAnimationFrame=="function"?function(bt){return requestAnimationFrame(bt)}:function(bt){return setTimeout(bt,16)},cancel:typeof cancelAnimationFrame=="function"?function(bt){return cancelAnimationFrame(bt)}:clearTimeout},Ee=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Ne=s();Ne.zero=s();var He=function(bt,Jt){var Zt=1;Jt.ext_texture_filter_anisotropic&&(Zt=bt.getParameter(34047));var Ar=1,dr=1;Jt.webgl_draw_buffers&&(Ar=bt.getParameter(34852),dr=bt.getParameter(36063));var ht=!!Jt.oes_texture_float;if(ht){ht=bt.createTexture(),bt.bindTexture(3553,ht),bt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ct=bt.createFramebuffer();if(bt.bindFramebuffer(36160,ct),bt.framebufferTexture2D(36160,36064,3553,ht,0),bt.bindTexture(3553,null),bt.checkFramebufferStatus(36160)!==36053)ht=!1;else{bt.viewport(0,0,1,1),bt.clearColor(1,0,0,1),bt.clear(16384);var wt=Ne.allocType(5126,4);bt.readPixels(0,0,1,1,6408,5126,wt),bt.getError()?ht=!1:(bt.deleteFramebuffer(ct),bt.deleteTexture(ht),ht=wt[0]===1),Ne.freeType(wt)}}return wt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(wt=bt.createTexture(),ct=Ne.allocType(5121,36),bt.activeTexture(33984),bt.bindTexture(34067,wt),bt.texImage2D(34069,0,6408,3,3,0,6408,5121,ct),Ne.freeType(ct),bt.bindTexture(34067,null),bt.deleteTexture(wt),wt=!bt.getError()),{colorBits:[bt.getParameter(3410),bt.getParameter(3411),bt.getParameter(3412),bt.getParameter(3413)],depthBits:bt.getParameter(3414),stencilBits:bt.getParameter(3415),subpixelBits:bt.getParameter(3408),extensions:Object.keys(Jt).filter(function(St){return!!Jt[St]}),maxAnisotropic:Zt,maxDrawbuffers:Ar,maxColorAttachments:dr,pointSizeDims:bt.getParameter(33901),lineWidthDims:bt.getParameter(33902),maxViewportDims:bt.getParameter(3386),maxCombinedTextureUnits:bt.getParameter(35661),maxCubeMapSize:bt.getParameter(34076),maxRenderbufferSize:bt.getParameter(34024),maxTextureUnits:bt.getParameter(34930),maxTextureSize:bt.getParameter(3379),maxAttributes:bt.getParameter(34921),maxVertexUniforms:bt.getParameter(36347),maxVertexTextureUnits:bt.getParameter(35660),maxVaryingVectors:bt.getParameter(36348),maxFragmentUniforms:bt.getParameter(36349),glsl:bt.getParameter(35724),renderer:bt.getParameter(7937),vendor:bt.getParameter(7936),version:bt.getParameter(7938),readFloat:ht,npotTextureCube:wt}},Ce=function(bt){return bt instanceof Uint8Array||bt instanceof Uint16Array||bt instanceof Uint32Array||bt instanceof Int8Array||bt instanceof Int16Array||bt instanceof Int32Array||bt instanceof Float32Array||bt instanceof Float64Array||bt instanceof Uint8ClampedArray},be=function(bt){return Object.keys(bt).map(function(Jt){return bt[Jt]})},we={shape:function(bt){for(var Jt=[];bt.length;bt=bt[0])Jt.push(bt.length);return Jt},flatten:function(bt,Jt,Zt,Ar){var dr=1;if(Jt.length)for(var ht=0;ht<Jt.length;++ht)dr*=Jt[ht];else dr=0;switch(Zt=Ar||Ne.allocType(Zt,dr),Jt.length){case 0:break;case 1:for(Ar=Jt[0],Jt=0;Jt<Ar;++Jt)Zt[Jt]=bt[Jt];break;case 2:for(Ar=Jt[0],Jt=Jt[1],ht=dr=0;ht<Ar;++ht)for(var ct=bt[ht],wt=0;wt<Jt;++wt)Zt[dr++]=ct[wt];break;case 3:u(bt,Jt[0],Jt[1],Jt[2],Zt,0);break;default:y(bt,Jt,0,Zt,0)}return Zt}},ke={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Fe={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Pe={dynamic:35048,stream:35040,static:35044},Ge=we.flatten,nt=we.shape,qe=[];qe[5120]=1,qe[5122]=2,qe[5124]=4,qe[5121]=1,qe[5123]=2,qe[5125]=4,qe[5126]=4;var Ke={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},$e=new Float32Array(1),vt=new Uint32Array($e.buffer),yt=[9984,9986,9985,9987],mt=[0,6409,6410,6407,6408],Et={};Et[6409]=Et[6406]=Et[6402]=1,Et[34041]=Et[6410]=2,Et[6407]=Et[35904]=3,Et[6408]=Et[35906]=4;var Xe=C("HTMLCanvasElement"),Ue=C("OffscreenCanvas"),Be=C("CanvasRenderingContext2D"),rt=C("ImageBitmap"),it=C("HTMLImageElement"),Ye=C("HTMLVideoElement"),De=Object.keys(ke).concat([Xe,Ue,Be,rt,it,Ye]),Te=[];Te[5121]=1,Te[5126]=4,Te[36193]=2,Te[5123]=2,Te[5125]=4;var fe=[];fe[32854]=2,fe[32855]=2,fe[36194]=2,fe[34041]=4,fe[33776]=.5,fe[33777]=.5,fe[33778]=1,fe[33779]=1,fe[35986]=.5,fe[35987]=1,fe[34798]=1,fe[35840]=.5,fe[35841]=.25,fe[35842]=.5,fe[35843]=.25,fe[36196]=.5;var me=[];me[32854]=2,me[32855]=2,me[36194]=2,me[33189]=2,me[36168]=1,me[34041]=4,me[35907]=4,me[34836]=16,me[34842]=8,me[34843]=6;var Re=function(bt,Jt,Zt,Ar,dr){function ht(Ot){this.id=Rt++,this.refCount=1,this.renderbuffer=Ot,this.format=32854,this.height=this.width=0,dr.profile&&(this.stats={size:0})}function ct(Ot){var Wt=Ot.renderbuffer;bt.bindRenderbuffer(36161,null),bt.deleteRenderbuffer(Wt),Ot.renderbuffer=null,Ot.refCount=0,delete Ct[Ot.id],Ar.renderbufferCount--}var wt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Jt.ext_srgb&&(wt.srgba=35907),Jt.ext_color_buffer_half_float&&(wt.rgba16f=34842,wt.rgb16f=34843),Jt.webgl_color_buffer_float&&(wt.rgba32f=34836);var St=[];Object.keys(wt).forEach(function(Ot){St[wt[Ot]]=Ot});var Rt=0,Ct={};return ht.prototype.decRef=function(){0>=--this.refCount&&ct(this)},dr.profile&&(Ar.getTotalRenderbufferSize=function(){var Ot=0;return Object.keys(Ct).forEach(function(Wt){Ot+=Ct[Wt].stats.size}),Ot}),{create:function(Ot,Wt){function er(sr,Cr){var je=0,We=0,kt=32854;if(typeof sr=="object"&&sr?("shape"in sr?(We=sr.shape,je=We[0]|0,We=We[1]|0):("radius"in sr&&(je=We=sr.radius|0),"width"in sr&&(je=sr.width|0),"height"in sr&&(We=sr.height|0)),"format"in sr&&(kt=wt[sr.format])):typeof sr=="number"?(je=sr|0,We=typeof Cr=="number"?Cr|0:je):sr||(je=We=1),je!==$t.width||We!==$t.height||kt!==$t.format)return er.width=$t.width=je,er.height=$t.height=We,$t.format=kt,bt.bindRenderbuffer(36161,$t.renderbuffer),bt.renderbufferStorage(36161,kt,je,We),dr.profile&&($t.stats.size=me[$t.format]*$t.width*$t.height),er.format=St[$t.format],er}var $t=new ht(bt.createRenderbuffer());return Ct[$t.id]=$t,Ar.renderbufferCount++,er(Ot,Wt),er.resize=function(sr,Cr){var je=sr|0,We=Cr|0||je;return je===$t.width&&We===$t.height||(er.width=$t.width=je,er.height=$t.height=We,bt.bindRenderbuffer(36161,$t.renderbuffer),bt.renderbufferStorage(36161,$t.format,je,We),dr.profile&&($t.stats.size=me[$t.format]*$t.width*$t.height)),er},er._reglType="renderbuffer",er._renderbuffer=$t,dr.profile&&(er.stats=$t.stats),er.destroy=function(){$t.decRef()},er},clear:function(){be(Ct).forEach(ct)},restore:function(){be(Ct).forEach(function(Ot){Ot.renderbuffer=bt.createRenderbuffer(),bt.bindRenderbuffer(36161,Ot.renderbuffer),bt.renderbufferStorage(36161,Ot.format,Ot.width,Ot.height)}),bt.bindRenderbuffer(36161,null)}}},Oe=[];Oe[6408]=4,Oe[6407]=3;var st=[];st[5121]=1,st[5126]=4,st[36193]=2;var ut=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Tt=["x","y","z","w"],It="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Gt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},jt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Pt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Qt={cw:2304,ccw:2305},or=new K(!1,!1,!1,function(){}),zr=function(bt,Jt){function Zt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function Ar(Ct,Ot,Wt){var er=ct.pop()||new Zt;er.startQueryIndex=Ct,er.endQueryIndex=Ot,er.sum=0,er.stats=Wt,wt.push(er)}if(!Jt.ext_disjoint_timer_query)return null;var dr=[],ht=[],ct=[],wt=[],St=[],Rt=[];return{beginQuery:function(Ct){var Ot=dr.pop()||Jt.ext_disjoint_timer_query.createQueryEXT();Jt.ext_disjoint_timer_query.beginQueryEXT(35007,Ot),ht.push(Ot),Ar(ht.length-1,ht.length,Ct)},endQuery:function(){Jt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:Ar,update:function(){var Ct,Ot;if(Ct=ht.length,Ct!==0){Rt.length=Math.max(Rt.length,Ct+1),St.length=Math.max(St.length,Ct+1),St[0]=0;var Wt=Rt[0]=0;for(Ot=Ct=0;Ot<ht.length;++Ot){var er=ht[Ot];Jt.ext_disjoint_timer_query.getQueryObjectEXT(er,34919)?(Wt+=Jt.ext_disjoint_timer_query.getQueryObjectEXT(er,34918),dr.push(er)):ht[Ct++]=er,St[Ot+1]=Wt,Rt[Ot+1]=Ct}for(ht.length=Ct,Ot=Ct=0;Ot<wt.length;++Ot){var Wt=wt[Ot],$t=Wt.startQueryIndex,er=Wt.endQueryIndex;Wt.sum+=St[er]-St[$t],$t=Rt[$t],er=Rt[er],er===$t?(Wt.stats.gpuTime+=Wt.sum/1e6,ct.push(Wt)):(Wt.startQueryIndex=$t,Wt.endQueryIndex=er,wt[Ct++]=Wt)}wt.length=Ct}},getNumPendingQueries:function(){return ht.length},clear:function(){dr.push.apply(dr,ht);for(var Ct=0;Ct<dr.length;Ct++)Jt.ext_disjoint_timer_query.deleteQueryEXT(dr[Ct]);ht.length=0,dr.length=0},restore:function(){ht.length=0,dr.length=0}}};return function(bt){function Jt(){if(On.length===0)kt&&kt.update(),Vr=null;else{Vr=Se.next(Jt),Ct();for(var bn=On.length-1;0<=bn;--bn){var dn=On[bn];dn&&dn(lr,null,0)}er.flush(),kt&&kt.update()}}function Zt(){!Vr&&0<On.length&&(Vr=Se.next(Jt))}function Ar(){Vr&&(Se.cancel(Jt),Vr=null)}function dr(bn){bn.preventDefault(),Ar(),Tr.forEach(function(dn){dn()})}function ht(bn){er.getError(),sr.restore(),mr.restore(),Bt.restore(),gr.restore(),Zr.restore(),Ur.restore(),yr.restore(),kt&&kt.restore(),Br.procs.refresh(),Zt(),Mr.forEach(function(dn){dn()})}function ct(bn){function dn(wn,Zn){var In={},Dn={};return Object.keys(wn).forEach(function(jn){var va=wn[jn];if(xe.isDynamic(va))Dn[jn]=xe.unbox(va,jn);else{if(Zn&&Array.isArray(va)){for(var Ia=0;Ia<va.length;++Ia)if(xe.isDynamic(va[Ia])){Dn[jn]=xe.unbox(va,jn);return}}In[jn]=va}}),{dynamic:Dn,static:In}}function Pn(wn){for(;un.length<wn;)un.push(null);return un}var zn=dn(bn.context||{},!0),ta=dn(bn.uniforms||{},!0),oa=dn(bn.attributes||{},!1);bn=dn(function(wn){function Zn(Dn){if(Dn in In){var jn=In[Dn];delete In[Dn],Object.keys(jn).forEach(function(va){In[Dn+"."+va]=jn[va]})}}var In=ie({},wn);return delete In.uniforms,delete In.attributes,delete In.context,delete In.vao,"stencil"in In&&In.stencil.op&&(In.stencil.opBack=In.stencil.opFront=In.stencil.op,delete In.stencil.op),Zn("blend"),Zn("depth"),Zn("cull"),Zn("stencil"),Zn("polygonOffset"),Zn("scissor"),Zn("sample"),"vao"in wn&&(In.vao=wn.vao),In}(bn),!1);var ya={gpuTime:0,cpuTime:0,count:0},ca=Br.compile(bn,oa,ta,zn,ya),la=ca.draw,Pr=ca.batch,hn=ca.scope,un=[];return ie(function(wn,Zn){var In;if(typeof wn=="function")return hn.call(this,null,wn,0);if(typeof Zn=="function")if(typeof wn=="number")for(In=0;In<wn;++In)hn.call(this,null,Zn,In);else if(Array.isArray(wn))for(In=0;In<wn.length;++In)hn.call(this,wn[In],Zn,In);else return hn.call(this,wn,Zn,0);else if(typeof wn=="number"){if(0<wn)return Pr.call(this,Pn(wn|0),wn|0)}else if(Array.isArray(wn)){if(wn.length)return Pr.call(this,wn,wn.length)}else return la.call(this,wn)},{stats:ya,destroy:function(){ca.destroy()}})}function wt(bn,dn){var Pn=0;Br.procs.poll();var zn=dn.color;zn&&(er.clearColor(+zn[0]||0,+zn[1]||0,+zn[2]||0,+zn[3]||0),Pn|=16384),"depth"in dn&&(er.clearDepth(+dn.depth),Pn|=256),"stencil"in dn&&(er.clearStencil(dn.stencil|0),Pn|=1024),er.clear(Pn)}function St(bn){return On.push(bn),Zt(),{cancel:function(){function dn(){var zn=le(On,dn);On[zn]=On[On.length-1],--On.length,0>=On.length&&Ar()}var Pn=le(On,bn);On[Pn]=dn}}}function Rt(){var bn=Kr.viewport,dn=Kr.scissor_box;bn[0]=bn[1]=dn[0]=dn[1]=0,lr.viewportWidth=lr.framebufferWidth=lr.drawingBufferWidth=bn[2]=dn[2]=er.drawingBufferWidth,lr.viewportHeight=lr.framebufferHeight=lr.drawingBufferHeight=bn[3]=dn[3]=er.drawingBufferHeight}function Ct(){lr.tick+=1,lr.time=Wt(),Rt(),Br.procs.poll()}function Ot(){gr.refresh(),Rt(),Br.procs.refresh(),kt&&kt.update()}function Wt(){return(Ee()-zt)/1e3}if(bt=t(bt),!bt)return null;var er=bt.gl,$t=er.getContextAttributes();er.isContextLost();var sr=r(er,bt);if(!sr)return null;var Tn=i(),Cr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},je=bt.cachedCode||{},We=sr.extensions,kt=zr(er,We),zt=Ee(),cr=er.drawingBufferWidth,Xt=er.drawingBufferHeight,lr={tick:0,time:0,viewportWidth:cr,viewportHeight:Xt,framebufferWidth:cr,framebufferHeight:Xt,drawingBufferWidth:cr,drawingBufferHeight:Xt,pixelRatio:bt.pixelRatio},cr={elements:null,primitive:4,count:-1,offset:0,instances:-1},nr=He(er,We),Bt=o(er,Cr,bt,function(bn){return yr.destroyBuffer(bn)}),vr=d(er,We,Bt,Cr),yr=z(er,We,nr,Cr,Bt,vr,cr),mr=N(er,Tn,Cr,bt),gr=k(er,We,nr,function(){Br.procs.poll()},lr,Cr,bt),Zr=Re(er,We,nr,Cr,bt),Ur=I(er,We,nr,gr,Zr,Cr),Br=ee(er,Tn,We,nr,Bt,vr,gr,Ur,{},yr,mr,cr,lr,kt,je,bt),Tn=B(er,Ur,Br.procs.poll,lr),Kr=Br.next,Bn=er.canvas,On=[],Tr=[],Mr=[],Hr=[bt.onDestroy],Vr=null;Bn&&(Bn.addEventListener("webglcontextlost",dr,!1),Bn.addEventListener("webglcontextrestored",ht,!1));var nn=Ur.setFBO=ct({framebuffer:xe.define.call(null,1,"framebuffer")});return Ot(),$t=ie(ct,{clear:function(bn){if("framebuffer"in bn)if(bn.framebuffer&&bn.framebuffer_reglType==="framebufferCube")for(var dn=0;6>dn;++dn)nn(ie({framebuffer:bn.framebuffer.faces[dn]},bn),wt);else nn(bn,wt);else wt(null,bn)},prop:xe.define.bind(null,1),context:xe.define.bind(null,2),this:xe.define.bind(null,3),draw:ct({}),buffer:function(bn){return Bt.create(bn,34962,!1,!1)},elements:function(bn){return vr.create(bn,!1)},texture:gr.create2D,cube:gr.createCube,renderbuffer:Zr.create,framebuffer:Ur.create,framebufferCube:Ur.createCube,vao:yr.createVAO,attributes:$t,frame:St,on:function(bn,dn){var Pn;switch(bn){case"frame":return St(dn);case"lost":Pn=Tr;break;case"restore":Pn=Mr;break;case"destroy":Pn=Hr}return Pn.push(dn),{cancel:function(){for(var zn=0;zn<Pn.length;++zn)if(Pn[zn]===dn){Pn[zn]=Pn[Pn.length-1],Pn.pop();break}}}},limits:nr,hasExtension:function(bn){return 0<=nr.extensions.indexOf(bn.toLowerCase())},read:Tn,destroy:function(){On.length=0,Ar(),Bn&&(Bn.removeEventListener("webglcontextlost",dr),Bn.removeEventListener("webglcontextrestored",ht)),mr.clear(),Ur.clear(),Zr.clear(),yr.clear(),gr.clear(),vr.clear(),Bt.clear(),kt&&kt.clear(),Hr.forEach(function(bn){bn()})},_gl:er,_refresh:Ot,poll:function(){Ct(),kt&&kt.update()},now:Wt,stats:Cr,getCachedCode:function(){return je},preloadCachedCode:function(bn){Object.entries(bn).forEach(function(dn){je[dn[0]]=dn[1]})}}),bt.onDone(null,$t),$t}})},71665:function(G,V,e){var g=e(12856),R=g.Buffer;function i(T,v){for(var p in T)v[p]=T[p]}R.from&&R.alloc&&R.allocUnsafe&&R.allocUnsafeSlow?G.exports=g:(i(g,V),V.Buffer=L);function L(T,v,p){return R(T,v,p)}L.prototype=Object.create(R.prototype),i(R,L),L.from=function(T,v,p){if(typeof T=="number")throw new TypeError("Argument must not be a number");return R(T,v,p)},L.alloc=function(T,v,p){if(typeof T!="number")throw new TypeError("Argument must be a number");var t=R(T);return v!==void 0?typeof p=="string"?t.fill(v,p):t.fill(v):t.fill(0),t},L.allocUnsafe=function(T){if(typeof T!="number")throw new TypeError("Argument must be a number");return R(T)},L.allocUnsafeSlow=function(T){if(typeof T!="number")throw new TypeError("Argument must be a number");return g.SlowBuffer(T)}},21630:function(G,V,e){G.exports=i;var g=e(15398).EventEmitter,R=e(42018);R(i,g),i.Readable=e(40410),i.Writable=e(37493),i.Duplex=e(37865),i.Transform=e(74308),i.PassThrough=e(66897),i.finished=e(12726),i.pipeline=e(10168),i.Stream=i;function i(){g.call(this)}i.prototype.pipe=function(L,T){var v=this;function p(u){L.writable&&L.write(u)===!1&&v.pause&&v.pause()}v.on("data",p);function t(){v.readable&&v.resume&&v.resume()}L.on("drain",t),!L._isStdio&&(!T||T.end!==!1)&&(v.on("end",l),v.on("close",n));var r=!1;function l(){r||(r=!0,L.end())}function n(){r||(r=!0,typeof L.destroy=="function"&&L.destroy())}function s(u){if(c(),g.listenerCount(this,"error")===0)throw u}v.on("error",s),L.on("error",s);function c(){v.removeListener("data",p),L.removeListener("drain",t),v.removeListener("end",l),v.removeListener("close",n),v.removeListener("error",s),L.removeListener("error",s),v.removeListener("end",c),v.removeListener("close",c),L.removeListener("close",c)}return v.on("end",c),v.on("close",c),L.on("close",c),L.emit("pipe",v),L}},74322:function(G){function V(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}var e={};function g(v,p,t){t||(t=Error);function r(n,s,c){return typeof p=="string"?p:p(n,s,c)}var l=function(n){V(s,n);function s(c,u,y){return n.call(this,r(c,u,y))||this}return s}(t);l.prototype.name=t.name,l.prototype.code=v,e[v]=l}function R(v,p){if(Array.isArray(v)){var t=v.length;return v=v.map(function(r){return String(r)}),t>2?"one of ".concat(p," ").concat(v.slice(0,t-1).join(", "),", or ")+v[t-1]:t===2?"one of ".concat(p," ").concat(v[0]," or ").concat(v[1]):"of ".concat(p," ").concat(v[0])}else return"of ".concat(p," ").concat(String(v))}function i(v,p,t){return v.substr(!t||t<0?0:+t,p.length)===p}function L(v,p,t){return(t===void 0||t>v.length)&&(t=v.length),v.substring(t-p.length,t)===p}function T(v,p,t){return typeof t!="number"&&(t=0),t+p.length>v.length?!1:v.indexOf(p,t)!==-1}g("ERR_INVALID_OPT_VALUE",function(v,p){return'The value "'+p+'" is invalid for option "'+v+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(v,p,t){var r;typeof p=="string"&&i(p,"not ")?(r="must not be",p=p.replace(/^not /,"")):r="must be";var l;if(L(v," argument"))l="The ".concat(v," ").concat(r," ").concat(R(p,"type"));else{var n=T(v,".")?"property":"argument";l='The "'.concat(v,'" ').concat(n," ").concat(r," ").concat(R(p,"type"))}return l+=". Received type ".concat(typeof t),l},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),G.exports.q=e},37865:function(G,V,e){var g=e(90386),R=Object.keys||function(n){var s=[];for(var c in n)s.push(c);return s};G.exports=t;var i=e(40410),L=e(37493);e(42018)(t,i);for(var T=R(L.prototype),v=0;v<T.length;v++){var p=T[v];t.prototype[p]||(t.prototype[p]=L.prototype[p])}function t(n){if(!(this instanceof t))return new t(n);i.call(this,n),L.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",r)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r(){this._writableState.ended||g.nextTick(l,this)}function l(n){n.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(s){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=s,this._writableState.destroyed=s)}})},66897:function(G,V,e){G.exports=R;var g=e(74308);e(42018)(R,g);function R(i){if(!(this instanceof R))return new R(i);g.call(this,i)}R.prototype._transform=function(i,L,T){T(null,i)}},40410:function(G,V,e){var g=e(90386);G.exports=a;var R;a.ReadableState=x,e(15398).EventEmitter;var i=function(ee,le){return ee.listeners(le).length},L=e(71405),T=e(12856).Buffer,v=e.g.Uint8Array||function(){};function p(Q){return T.from(Q)}function t(Q){return T.isBuffer(Q)||Q instanceof v}var r=e(40964),l;r&&r.debuglog?l=r.debuglog("stream"):l=function(){};var n=e(31125),s=e(65756),c=e(56306),u=c.getHighWaterMark,y=e(74322).q,h=y.ERR_INVALID_ARG_TYPE,b=y.ERR_STREAM_PUSH_AFTER_EOF,f=y.ERR_METHOD_NOT_IMPLEMENTED,o=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,A,M;e(42018)(a,L);var C=s.errorOrDestroy,m=["error","close","destroy","pause","resume"];function S(Q,ee,le){if(typeof Q.prependListener=="function")return Q.prependListener(ee,le);!Q._events||!Q._events[ee]?Q.on(ee,le):Array.isArray(Q._events[ee])?Q._events[ee].unshift(le):Q._events[ee]=[le,Q._events[ee]]}function x(Q,ee,le){R=R||e(37865),Q=Q||{},typeof le!="boolean"&&(le=ee instanceof R),this.objectMode=!!Q.objectMode,le&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=u(this,Q,"readableHighWaterMark",le),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(d||(d=e(68019).s),this.decoder=new d(Q.encoding),this.encoding=Q.encoding)}function a(Q){if(R=R||e(37865),!(this instanceof a))return new a(Q);var ee=this instanceof R;this._readableState=new x(Q,this,ee),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),L.call(this)}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ee){this._readableState&&(this._readableState.destroyed=ee)}}),a.prototype.destroy=s.destroy,a.prototype._undestroy=s.undestroy,a.prototype._destroy=function(Q,ee){ee(Q)},a.prototype.push=function(Q,ee){var le=this._readableState,ie;return le.objectMode?ie=!0:typeof Q=="string"&&(ee=ee||le.defaultEncoding,ee!==le.encoding&&(Q=T.from(Q,ee),ee=""),ie=!0),E(this,Q,ee,!1,ie)},a.prototype.unshift=function(Q){return E(this,Q,null,!0,!1)};function E(Q,ee,le,ie,he){l("readableAddChunk",ee);var xe=Q._readableState;if(ee===null)xe.reading=!1,N(Q,xe);else{var Se;if(he||(Se=k(xe,ee)),Se)C(Q,Se);else if(xe.objectMode||ee&&ee.length>0)if(typeof ee!="string"&&!xe.objectMode&&Object.getPrototypeOf(ee)!==T.prototype&&(ee=p(ee)),ie)xe.endEmitted?C(Q,new o):w(Q,xe,ee,!0);else if(xe.ended)C(Q,new b);else{if(xe.destroyed)return!1;xe.reading=!1,xe.decoder&&!le?(ee=xe.decoder.write(ee),xe.objectMode||ee.length!==0?w(Q,xe,ee,!1):H(Q,xe)):w(Q,xe,ee,!1)}else ie||(xe.reading=!1,H(Q,xe))}return!xe.ended&&(xe.length<xe.highWaterMark||xe.length===0)}function w(Q,ee,le,ie){ee.flowing&&ee.length===0&&!ee.sync?(ee.awaitDrain=0,Q.emit("data",le)):(ee.length+=ee.objectMode?1:le.length,ie?ee.buffer.unshift(le):ee.buffer.push(le),ee.needReadable&&B(Q)),H(Q,ee)}function k(Q,ee){var le;return!t(ee)&&typeof ee!="string"&&ee!==void 0&&!Q.objectMode&&(le=new h("chunk",["string","Buffer","Uint8Array"],ee)),le}a.prototype.isPaused=function(){return this._readableState.flowing===!1},a.prototype.setEncoding=function(Q){d||(d=e(68019).s);var ee=new d(Q);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var le=this._readableState.buffer.head,ie="";le!==null;)ie+=ee.write(le.data),le=le.next;return this._readableState.buffer.clear(),ie!==""&&this._readableState.buffer.push(ie),this._readableState.length=ie.length,this};var I=1073741824;function U(Q){return Q>=I?Q=I:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function z(Q,ee){return Q<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:Q!==Q?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(Q>ee.highWaterMark&&(ee.highWaterMark=U(Q)),Q<=ee.length?Q:ee.ended?ee.length:(ee.needReadable=!0,0))}a.prototype.read=function(Q){l("read",Q),Q=parseInt(Q,10);var ee=this._readableState,le=Q;if(Q!==0&&(ee.emittedReadable=!1),Q===0&&ee.needReadable&&((ee.highWaterMark!==0?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return l("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?K(this):B(this),null;if(Q=z(Q,ee),Q===0&&ee.ended)return ee.length===0&&K(this),null;var ie=ee.needReadable;l("need readable",ie),(ee.length===0||ee.length-Q<ee.highWaterMark)&&(ie=!0,l("length less than watermark",ie)),ee.ended||ee.reading?(ie=!1,l("reading or ended",ie)):ie&&(l("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(Q=z(le,ee)));var he;return Q>0?he=j(Q,ee):he=null,he===null?(ee.needReadable=ee.length<=ee.highWaterMark,Q=0):(ee.length-=Q,ee.awaitDrain=0),ee.length===0&&(ee.ended||(ee.needReadable=!0),le!==Q&&ee.ended&&K(this)),he!==null&&this.emit("data",he),he};function N(Q,ee){if(l("onEofChunk"),!ee.ended){if(ee.decoder){var le=ee.decoder.end();le&&le.length&&(ee.buffer.push(le),ee.length+=ee.objectMode?1:le.length)}ee.ended=!0,ee.sync?B(Q):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,F(Q)))}}function B(Q){var ee=Q._readableState;l("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(l("emitReadable",ee.flowing),ee.emittedReadable=!0,g.nextTick(F,Q))}function F(Q){var ee=Q._readableState;l("emitReadable_",ee.destroyed,ee.length,ee.ended),!ee.destroyed&&(ee.length||ee.ended)&&(Q.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,Y(Q)}function H(Q,ee){ee.readingMore||(ee.readingMore=!0,g.nextTick(X,Q,ee))}function X(Q,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&ee.length===0);){var le=ee.length;if(l("maybeReadMore read 0"),Q.read(0),le===ee.length)break}ee.readingMore=!1}a.prototype._read=function(Q){C(this,new f("_read()"))},a.prototype.pipe=function(Q,ee){var le=this,ie=this._readableState;switch(ie.pipesCount){case 0:ie.pipes=Q;break;case 1:ie.pipes=[ie.pipes,Q];break;default:ie.pipes.push(Q);break}ie.pipesCount+=1,l("pipe count=%d opts=%j",ie.pipesCount,ee);var he=(!ee||ee.end!==!1)&&Q!==g.stdout&&Q!==g.stderr,xe=he?Ee:Pe;ie.endEmitted?g.nextTick(xe):le.once("end",xe),Q.on("unpipe",Se);function Se(Ge,nt){l("onunpipe"),Ge===le&&nt&&nt.hasUnpiped===!1&&(nt.hasUnpiped=!0,Ce())}function Ee(){l("onend"),Q.end()}var Ne=q(le);Q.on("drain",Ne);var He=!1;function Ce(){l("cleanup"),Q.removeListener("close",ke),Q.removeListener("finish",Fe),Q.removeListener("drain",Ne),Q.removeListener("error",we),Q.removeListener("unpipe",Se),le.removeListener("end",Ee),le.removeListener("end",Pe),le.removeListener("data",be),He=!0,ie.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&Ne()}le.on("data",be);function be(Ge){l("ondata");var nt=Q.write(Ge);l("dest.write",nt),nt===!1&&((ie.pipesCount===1&&ie.pipes===Q||ie.pipesCount>1&&se(ie.pipes,Q)!==-1)&&!He&&(l("false write response, pause",ie.awaitDrain),ie.awaitDrain++),le.pause())}function we(Ge){l("onerror",Ge),Pe(),Q.removeListener("error",we),i(Q,"error")===0&&C(Q,Ge)}S(Q,"error",we);function ke(){Q.removeListener("finish",Fe),Pe()}Q.once("close",ke);function Fe(){l("onfinish"),Q.removeListener("close",ke),Pe()}Q.once("finish",Fe);function Pe(){l("unpipe"),le.unpipe(Q)}return Q.emit("pipe",le),ie.flowing||(l("pipe resume"),le.resume()),Q};function q(Q){return function(){var le=Q._readableState;l("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&i(Q,"data")&&(le.flowing=!0,Y(Q))}}a.prototype.unpipe=function(Q){var ee=this._readableState,le={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return Q&&Q!==ee.pipes?this:(Q||(Q=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,Q&&Q.emit("unpipe",this,le),this);if(!Q){var ie=ee.pipes,he=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var xe=0;xe<he;xe++)ie[xe].emit("unpipe",this,{hasUnpiped:!1});return this}var Se=se(ee.pipes,Q);return Se===-1?this:(ee.pipes.splice(Se,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),Q.emit("unpipe",this,le),this)},a.prototype.on=function(Q,ee){var le=L.prototype.on.call(this,Q,ee),ie=this._readableState;return Q==="data"?(ie.readableListening=this.listenerCount("readable")>0,ie.flowing!==!1&&this.resume()):Q==="readable"&&!ie.endEmitted&&!ie.readableListening&&(ie.readableListening=ie.needReadable=!0,ie.flowing=!1,ie.emittedReadable=!1,l("on readable",ie.length,ie.reading),ie.length?B(this):ie.reading||g.nextTick(oe,this)),le},a.prototype.addListener=a.prototype.on,a.prototype.removeListener=function(Q,ee){var le=L.prototype.removeListener.call(this,Q,ee);return Q==="readable"&&g.nextTick(ne,this),le},a.prototype.removeAllListeners=function(Q){var ee=L.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&g.nextTick(ne,this),ee};function ne(Q){var ee=Q._readableState;ee.readableListening=Q.listenerCount("readable")>0,ee.resumeScheduled&&!ee.paused?ee.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function oe(Q){l("readable nexttick read 0"),Q.read(0)}a.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(l("resume"),Q.flowing=!Q.readableListening,ve(this,Q)),Q.paused=!1,this};function ve(Q,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,g.nextTick(J,Q,ee))}function J(Q,ee){l("resume",ee.reading),ee.reading||Q.read(0),ee.resumeScheduled=!1,Q.emit("resume"),Y(Q),ee.flowing&&!ee.reading&&Q.read(0)}a.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Y(Q){var ee=Q._readableState;for(l("flow",ee.flowing);ee.flowing&&Q.read()!==null;);}a.prototype.wrap=function(Q){var ee=this,le=this._readableState,ie=!1;Q.on("end",function(){if(l("wrapped end"),le.decoder&&!le.ended){var Se=le.decoder.end();Se&&Se.length&&ee.push(Se)}ee.push(null)}),Q.on("data",function(Se){if(l("wrapped data"),le.decoder&&(Se=le.decoder.write(Se)),!(le.objectMode&&Se==null)&&!(!le.objectMode&&(!Se||!Se.length))){var Ee=ee.push(Se);Ee||(ie=!0,Q.pause())}});for(var he in Q)this[he]===void 0&&typeof Q[he]=="function"&&(this[he]=function(Ee){return function(){return Q[Ee].apply(Q,arguments)}}(he));for(var xe=0;xe<m.length;xe++)Q.on(m[xe],this.emit.bind(this,m[xe]));return this._read=function(Se){l("wrapped _read",Se),ie&&(ie=!1,Q.resume())},this},typeof Symbol=="function"&&(a.prototype[Symbol.asyncIterator]=function(){return A===void 0&&(A=e(68221)),A(this)}),Object.defineProperty(a.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(a.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(a.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ee){this._readableState&&(this._readableState.flowing=ee)}}),a._fromList=j,Object.defineProperty(a.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function j(Q,ee){if(ee.length===0)return null;var le;return ee.objectMode?le=ee.buffer.shift():!Q||Q>=ee.length?(ee.decoder?le=ee.buffer.join(""):ee.buffer.length===1?le=ee.buffer.first():le=ee.buffer.concat(ee.length),ee.buffer.clear()):le=ee.buffer.consume(Q,ee.decoder),le}function K(Q){var ee=Q._readableState;l("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,g.nextTick(te,ee,Q))}function te(Q,ee){if(l("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,ee.readable=!1,ee.emit("end"),Q.autoDestroy)){var le=ee._writableState;(!le||le.autoDestroy&&le.finished)&&ee.destroy()}}typeof Symbol=="function"&&(a.from=function(Q,ee){return M===void 0&&(M=e(31748)),M(a,Q,ee)});function se(Q,ee){for(var le=0,ie=Q.length;le<ie;le++)if(Q[le]===ee)return le;return-1}},74308:function(G,V,e){G.exports=t;var g=e(74322).q,R=g.ERR_METHOD_NOT_IMPLEMENTED,i=g.ERR_MULTIPLE_CALLBACK,L=g.ERR_TRANSFORM_ALREADY_TRANSFORMING,T=g.ERR_TRANSFORM_WITH_LENGTH_0,v=e(37865);e(42018)(t,v);function p(n,s){var c=this._transformState;c.transforming=!1;var u=c.writecb;if(u===null)return this.emit("error",new i);c.writechunk=null,c.writecb=null,s!=null&&this.push(s),u(n);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function t(n){if(!(this instanceof t))return new t(n);v.call(this,n),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",r)}function r(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(s,c){l(n,s,c)}):l(this,null,null)}t.prototype.push=function(n,s){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,s)},t.prototype._transform=function(n,s,c){c(new R("_transform()"))},t.prototype._write=function(n,s,c){var u=this._transformState;if(u.writecb=c,u.writechunk=n,u.writeencoding=s,!u.transforming){var y=this._readableState;(u.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},t.prototype._read=function(n){var s=this._transformState;s.writechunk!==null&&!s.transforming?(s.transforming=!0,this._transform(s.writechunk,s.writeencoding,s.afterTransform)):s.needTransform=!0},t.prototype._destroy=function(n,s){v.prototype._destroy.call(this,n,function(c){s(c)})};function l(n,s,c){if(s)return n.emit("error",s);if(c!=null&&n.push(c),n._writableState.length)throw new T;if(n._transformState.transforming)throw new L;return n.push(null)}},37493:function(G,V,e){var g=e(90386);G.exports=x;function R(Y){var j=this;this.next=null,this.entry=null,this.finish=function(){J(j,Y)}}var i;x.WritableState=m;var L={deprecate:e(20588)},T=e(71405),v=e(12856).Buffer,p=e.g.Uint8Array||function(){};function t(Y){return v.from(Y)}function r(Y){return v.isBuffer(Y)||Y instanceof p}var l=e(65756),n=e(56306),s=n.getHighWaterMark,c=e(74322).q,u=c.ERR_INVALID_ARG_TYPE,y=c.ERR_METHOD_NOT_IMPLEMENTED,h=c.ERR_MULTIPLE_CALLBACK,b=c.ERR_STREAM_CANNOT_PIPE,f=c.ERR_STREAM_DESTROYED,o=c.ERR_STREAM_NULL_VALUES,d=c.ERR_STREAM_WRITE_AFTER_END,A=c.ERR_UNKNOWN_ENCODING,M=l.errorOrDestroy;e(42018)(x,T);function C(){}function m(Y,j,K){i=i||e(37865),Y=Y||{},typeof K!="boolean"&&(K=j instanceof i),this.objectMode=!!Y.objectMode,K&&(this.objectMode=this.objectMode||!!Y.writableObjectMode),this.highWaterMark=s(this,Y,"writableHighWaterMark",K),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=Y.decodeStrings===!1;this.decodeStrings=!te,this.defaultEncoding=Y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){N(j,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new R(this)}m.prototype.getBuffer=function(){for(var j=this.bufferedRequest,K=[];j;)K.push(j),j=j.next;return K},function(){try{Object.defineProperty(m.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var S;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(S=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(j){return S.call(this,j)?!0:this!==x?!1:j&&j._writableState instanceof m}})):S=function(j){return j instanceof this};function x(Y){i=i||e(37865);var j=this instanceof i;if(!j&&!S.call(x,this))return new x(Y);this._writableState=new m(Y,this,j),this.writable=!0,Y&&(typeof Y.write=="function"&&(this._write=Y.write),typeof Y.writev=="function"&&(this._writev=Y.writev),typeof Y.destroy=="function"&&(this._destroy=Y.destroy),typeof Y.final=="function"&&(this._final=Y.final)),T.call(this)}x.prototype.pipe=function(){M(this,new b)};function a(Y,j){var K=new d;M(Y,K),g.nextTick(j,K)}function E(Y,j,K,te){var se;return K===null?se=new o:typeof K!="string"&&!j.objectMode&&(se=new u("chunk",["string","Buffer"],K)),se?(M(Y,se),g.nextTick(te,se),!1):!0}x.prototype.write=function(Y,j,K){var te=this._writableState,se=!1,Q=!te.objectMode&&r(Y);return Q&&!v.isBuffer(Y)&&(Y=t(Y)),typeof j=="function"&&(K=j,j=null),Q?j="buffer":j||(j=te.defaultEncoding),typeof K!="function"&&(K=C),te.ending?a(this,K):(Q||E(this,te,Y,K))&&(te.pendingcb++,se=k(this,te,Q,Y,j,K)),se},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var Y=this._writableState;Y.corked&&(Y.corked--,!Y.writing&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&H(this,Y))},x.prototype.setDefaultEncoding=function(j){if(typeof j=="string"&&(j=j.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((j+"").toLowerCase())>-1))throw new A(j);return this._writableState.defaultEncoding=j,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function w(Y,j,K){return!Y.objectMode&&Y.decodeStrings!==!1&&typeof j=="string"&&(j=v.from(j,K)),j}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(Y,j,K,te,se,Q){if(!K){var ee=w(j,te,se);te!==ee&&(K=!0,se="buffer",te=ee)}var le=j.objectMode?1:te.length;j.length+=le;var ie=j.length<j.highWaterMark;if(ie||(j.needDrain=!0),j.writing||j.corked){var he=j.lastBufferedRequest;j.lastBufferedRequest={chunk:te,encoding:se,isBuf:K,callback:Q,next:null},he?he.next=j.lastBufferedRequest:j.bufferedRequest=j.lastBufferedRequest,j.bufferedRequestCount+=1}else I(Y,j,!1,le,te,se,Q);return ie}function I(Y,j,K,te,se,Q,ee){j.writelen=te,j.writecb=ee,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new f("write")):K?Y._writev(se,j.onwrite):Y._write(se,Q,j.onwrite),j.sync=!1}function U(Y,j,K,te,se){--j.pendingcb,K?(g.nextTick(se,te),g.nextTick(oe,Y,j),Y._writableState.errorEmitted=!0,M(Y,te)):(se(te),Y._writableState.errorEmitted=!0,M(Y,te),oe(Y,j))}function z(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}function N(Y,j){var K=Y._writableState,te=K.sync,se=K.writecb;if(typeof se!="function")throw new h;if(z(K),j)U(Y,K,te,j,se);else{var Q=X(K)||Y.destroyed;!Q&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&H(Y,K),te?g.nextTick(B,Y,K,Q,se):B(Y,K,Q,se)}}function B(Y,j,K,te){K||F(Y,j),j.pendingcb--,te(),oe(Y,j)}function F(Y,j){j.length===0&&j.needDrain&&(j.needDrain=!1,Y.emit("drain"))}function H(Y,j){j.bufferProcessing=!0;var K=j.bufferedRequest;if(Y._writev&&K&&K.next){var te=j.bufferedRequestCount,se=new Array(te),Q=j.corkedRequestsFree;Q.entry=K;for(var ee=0,le=!0;K;)se[ee]=K,K.isBuf||(le=!1),K=K.next,ee+=1;se.allBuffers=le,I(Y,j,!0,j.length,se,"",Q.finish),j.pendingcb++,j.lastBufferedRequest=null,Q.next?(j.corkedRequestsFree=Q.next,Q.next=null):j.corkedRequestsFree=new R(j),j.bufferedRequestCount=0}else{for(;K;){var ie=K.chunk,he=K.encoding,xe=K.callback,Se=j.objectMode?1:ie.length;if(I(Y,j,!1,Se,ie,he,xe),K=K.next,j.bufferedRequestCount--,j.writing)break}K===null&&(j.lastBufferedRequest=null)}j.bufferedRequest=K,j.bufferProcessing=!1}x.prototype._write=function(Y,j,K){K(new y("_write()"))},x.prototype._writev=null,x.prototype.end=function(Y,j,K){var te=this._writableState;return typeof Y=="function"?(K=Y,Y=null,j=null):typeof j=="function"&&(K=j,j=null),Y!=null&&this.write(Y,j),te.corked&&(te.corked=1,this.uncork()),te.ending||ve(this,te,K),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function X(Y){return Y.ending&&Y.length===0&&Y.bufferedRequest===null&&!Y.finished&&!Y.writing}function q(Y,j){Y._final(function(K){j.pendingcb--,K&&M(Y,K),j.prefinished=!0,Y.emit("prefinish"),oe(Y,j)})}function ne(Y,j){!j.prefinished&&!j.finalCalled&&(typeof Y._final=="function"&&!j.destroyed?(j.pendingcb++,j.finalCalled=!0,g.nextTick(q,Y,j)):(j.prefinished=!0,Y.emit("prefinish")))}function oe(Y,j){var K=X(j);if(K&&(ne(Y,j),j.pendingcb===0&&(j.finished=!0,Y.emit("finish"),j.autoDestroy))){var te=Y._readableState;(!te||te.autoDestroy&&te.endEmitted)&&Y.destroy()}return K}function ve(Y,j,K){j.ending=!0,oe(Y,j),K&&(j.finished?g.nextTick(K):Y.once("finish",K)),j.ended=!0,Y.writable=!1}function J(Y,j,K){var te=Y.entry;for(Y.entry=null;te;){var se=te.callback;j.pendingcb--,se(K),te=te.next}j.corkedRequestsFree.next=Y}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(j){this._writableState&&(this._writableState.destroyed=j)}}),x.prototype.destroy=l.destroy,x.prototype._undestroy=l.undestroy,x.prototype._destroy=function(Y,j){j(Y)}},68221:function(G,V,e){var g=e(90386),R;function i(o,d,A){return d in o?Object.defineProperty(o,d,{value:A,enumerable:!0,configurable:!0,writable:!0}):o[d]=A,o}var L=e(12726),T=Symbol("lastResolve"),v=Symbol("lastReject"),p=Symbol("error"),t=Symbol("ended"),r=Symbol("lastPromise"),l=Symbol("handlePromise"),n=Symbol("stream");function s(o,d){return{value:o,done:d}}function c(o){var d=o[T];if(d!==null){var A=o[n].read();A!==null&&(o[r]=null,o[T]=null,o[v]=null,d(s(A,!1)))}}function u(o){g.nextTick(c,o)}function y(o,d){return function(A,M){o.then(function(){if(d[t]){A(s(void 0,!0));return}d[l](A,M)},M)}}var h=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((R={get stream(){return this[n]},next:function(){var d=this,A=this[p];if(A!==null)return Promise.reject(A);if(this[t])return Promise.resolve(s(void 0,!0));if(this[n].destroyed)return new Promise(function(S,x){g.nextTick(function(){d[p]?x(d[p]):S(s(void 0,!0))})});var M=this[r],C;if(M)C=new Promise(y(M,this));else{var m=this[n].read();if(m!==null)return Promise.resolve(s(m,!1));C=new Promise(this[l])}return this[r]=C,C}},i(R,Symbol.asyncIterator,function(){return this}),i(R,"return",function(){var d=this;return new Promise(function(A,M){d[n].destroy(null,function(C){if(C){M(C);return}A(s(void 0,!0))})})}),R),h),f=function(d){var A,M=Object.create(b,(A={},i(A,n,{value:d,writable:!0}),i(A,T,{value:null,writable:!0}),i(A,v,{value:null,writable:!0}),i(A,p,{value:null,writable:!0}),i(A,t,{value:d._readableState.endEmitted,writable:!0}),i(A,l,{value:function(m,S){var x=M[n].read();x?(M[r]=null,M[T]=null,M[v]=null,m(s(x,!1))):(M[T]=m,M[v]=S)},writable:!0}),A));return M[r]=null,L(d,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var m=M[v];m!==null&&(M[r]=null,M[T]=null,M[v]=null,m(C)),M[p]=C;return}var S=M[T];S!==null&&(M[r]=null,M[T]=null,M[v]=null,S(s(void 0,!0))),M[t]=!0}),d.on("readable",u.bind(null,M)),M};G.exports=f},31125:function(G,V,e){function g(c,u){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(c);u&&(h=h.filter(function(b){return Object.getOwnPropertyDescriptor(c,b).enumerable})),y.push.apply(y,h)}return y}function R(c){for(var u=1;u<arguments.length;u++){var y=arguments[u]!=null?arguments[u]:{};u%2?g(Object(y),!0).forEach(function(h){i(c,h,y[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):g(Object(y)).forEach(function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(y,h))})}return c}function i(c,u,y){return u in c?Object.defineProperty(c,u,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[u]=y,c}function L(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function T(c,u){for(var y=0;y<u.length;y++){var h=u[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function v(c,u,y){return u&&T(c.prototype,u),y&&T(c,y),c}var p=e(12856),t=p.Buffer,r=e(69862),l=r.inspect,n=l&&l.custom||"inspect";function s(c,u,y){t.prototype.copy.call(c,u,y)}G.exports=function(){function c(){L(this,c),this.head=null,this.tail=null,this.length=0}return v(c,[{key:"push",value:function(y){var h={data:y,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(y){var h={data:y,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var h=this.head,b=""+h.data;h=h.next;)b+=y+h.data;return b}},{key:"concat",value:function(y){if(this.length===0)return t.alloc(0);for(var h=t.allocUnsafe(y>>>0),b=this.head,f=0;b;)s(b.data,h,f),f+=b.data.length,b=b.next;return h}},{key:"consume",value:function(y,h){var b;return y<this.head.data.length?(b=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?b=this.shift():b=h?this._getString(y):this._getBuffer(y),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var h=this.head,b=1,f=h.data;for(y-=f.length;h=h.next;){var o=h.data,d=y>o.length?o.length:y;if(d===o.length?f+=o:f+=o.slice(0,y),y-=d,y===0){d===o.length?(++b,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=o.slice(d));break}++b}return this.length-=b,f}},{key:"_getBuffer",value:function(y){var h=t.allocUnsafe(y),b=this.head,f=1;for(b.data.copy(h),y-=b.data.length;b=b.next;){var o=b.data,d=y>o.length?o.length:y;if(o.copy(h,h.length-y,0,d),y-=d,y===0){d===o.length?(++f,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=o.slice(d));break}++f}return this.length-=f,h}},{key:n,value:function(y,h){return l(this,R({},h,{depth:0,customInspect:!1}))}}]),c}()},65756:function(G,V,e){var g=e(90386);function R(t,r){var l=this,n=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return n||s?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(v,this,t)):g.nextTick(v,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(c){!r&&c?l._writableState?l._writableState.errorEmitted?g.nextTick(L,l):(l._writableState.errorEmitted=!0,g.nextTick(i,l,c)):g.nextTick(i,l,c):r?(g.nextTick(L,l),r(c)):g.nextTick(L,l)}),this)}function i(t,r){v(t,r),L(t)}function L(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function T(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(t,r){t.emit("error",r)}function p(t,r){var l=t._readableState,n=t._writableState;l&&l.autoDestroy||n&&n.autoDestroy?t.destroy(r):t.emit("error",r)}G.exports={destroy:R,undestroy:T,errorOrDestroy:p}},12726:function(G,V,e){var g=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function R(v){var p=!1;return function(){if(!p){p=!0;for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];v.apply(this,r)}}}function i(){}function L(v){return v.setHeader&&typeof v.abort=="function"}function T(v,p,t){if(typeof p=="function")return T(v,null,p);p||(p={}),t=R(t||i);var r=p.readable||p.readable!==!1&&v.readable,l=p.writable||p.writable!==!1&&v.writable,n=function(){v.writable||c()},s=v._writableState&&v._writableState.finished,c=function(){l=!1,s=!0,r||t.call(v)},u=v._readableState&&v._readableState.endEmitted,y=function(){r=!1,u=!0,l||t.call(v)},h=function(d){t.call(v,d)},b=function(){var d;if(r&&!u)return(!v._readableState||!v._readableState.ended)&&(d=new g),t.call(v,d);if(l&&!s)return(!v._writableState||!v._writableState.ended)&&(d=new g),t.call(v,d)},f=function(){v.req.on("finish",c)};return L(v)?(v.on("complete",c),v.on("abort",b),v.req?f():v.on("request",f)):l&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",y),v.on("finish",c),p.error!==!1&&v.on("error",h),v.on("close",b),function(){v.removeListener("complete",c),v.removeListener("abort",b),v.removeListener("request",f),v.req&&v.req.removeListener("finish",c),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",c),v.removeListener("end",y),v.removeListener("error",h),v.removeListener("close",b)}}G.exports=T},31748:function(G){G.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(G,V,e){var g;function R(c){var u=!1;return function(){u||(u=!0,c.apply(void 0,arguments))}}var i=e(74322).q,L=i.ERR_MISSING_ARGS,T=i.ERR_STREAM_DESTROYED;function v(c){if(c)throw c}function p(c){return c.setHeader&&typeof c.abort=="function"}function t(c,u,y,h){h=R(h);var b=!1;c.on("close",function(){b=!0}),g===void 0&&(g=e(12726)),g(c,{readable:u,writable:y},function(o){if(o)return h(o);b=!0,h()});var f=!1;return function(o){if(!b&&!f){if(f=!0,p(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();h(o||new T("pipe"))}}}function r(c){c()}function l(c,u){return c.pipe(u)}function n(c){return!c.length||typeof c[c.length-1]!="function"?v:c.pop()}function s(){for(var c=arguments.length,u=new Array(c),y=0;y<c;y++)u[y]=arguments[y];var h=n(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new L("streams");var b,f=u.map(function(o,d){var A=d<u.length-1,M=d>0;return t(o,A,M,function(C){b||(b=C),C&&f.forEach(r),!A&&(f.forEach(r),h(b))})});return u.reduce(l)}G.exports=s},56306:function(G,V,e){var g=e(74322).q.ERR_INVALID_OPT_VALUE;function R(L,T,v){return L.highWaterMark!=null?L.highWaterMark:T?L[v]:null}function i(L,T,v,p){var t=R(T,p,v);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var r=p?v:"highWaterMark";throw new g(r,t)}return Math.floor(t)}return L.objectMode?16:16384}G.exports={getHighWaterMark:i}},71405:function(G,V,e){G.exports=e(15398).EventEmitter},68019:function(G,V,e){var g=e(71665).Buffer,R=g.isEncoding||function(f){switch(f=""+f,f&&f.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(f){if(!f)return"utf8";for(var o;;)switch(f){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return f;default:if(o)return;f=(""+f).toLowerCase(),o=!0}}function L(f){var o=i(f);if(typeof o!="string"&&(g.isEncoding===R||!R(f)))throw new Error("Unknown encoding: "+f);return o||f}V.s=T;function T(f){this.encoding=L(f);var o;switch(this.encoding){case"utf16le":this.text=s,this.end=c,o=4;break;case"utf8":this.fillLast=r,o=4;break;case"base64":this.text=u,this.end=y,o=3;break;default:this.write=h,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(o)}T.prototype.write=function(f){if(f.length===0)return"";var o,d;if(this.lastNeed){if(o=this.fillLast(f),o===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<f.length?o?o+this.text(f,d):this.text(f,d):o||""},T.prototype.end=n,T.prototype.text=l,T.prototype.fillLast=function(f){if(this.lastNeed<=f.length)return f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,f.length),this.lastNeed-=f.length};function v(f){return f<=127?0:f>>5===6?2:f>>4===14?3:f>>3===30?4:f>>6===2?-1:-2}function p(f,o,d){var A=o.length-1;if(A<d)return 0;var M=v(o[A]);return M>=0?(M>0&&(f.lastNeed=M-1),M):--A<d||M===-2?0:(M=v(o[A]),M>=0?(M>0&&(f.lastNeed=M-2),M):--A<d||M===-2?0:(M=v(o[A]),M>=0?(M>0&&(M===2?M=0:f.lastNeed=M-3),M):0))}function t(f,o,d){if((o[0]&192)!==128)return f.lastNeed=0,"";if(f.lastNeed>1&&o.length>1){if((o[1]&192)!==128)return f.lastNeed=1,"";if(f.lastNeed>2&&o.length>2&&(o[2]&192)!==128)return f.lastNeed=2,""}}function r(f){var o=this.lastTotal-this.lastNeed,d=t(this,f);if(d!==void 0)return d;if(this.lastNeed<=f.length)return f.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,o,0,f.length),this.lastNeed-=f.length}function l(f,o){var d=p(this,f,o);if(!this.lastNeed)return f.toString("utf8",o);this.lastTotal=d;var A=f.length-(d-this.lastNeed);return f.copy(this.lastChar,0,A),f.toString("utf8",o,A)}function n(f){var o=f&&f.length?this.write(f):"";return this.lastNeed?o+"":o}function s(f,o){if((f.length-o)%2===0){var d=f.toString("utf16le",o);if(d){var A=d.charCodeAt(d.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=f[f.length-1],f.toString("utf16le",o,f.length-1)}function c(f){var o=f&&f.length?this.write(f):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,d)}return o}function u(f,o){var d=(f.length-o)%3;return d===0?f.toString("base64",o):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=f[f.length-1]:(this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1]),f.toString("base64",o,f.length-d))}function y(f){var o=f&&f.length?this.write(f):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function h(f){return f.toString(this.encoding)}function b(f){return f&&f.length?this.write(f):""}},90715:function(G,V,e){var g=e(32791),R=e(41633)("stream-parser");G.exports=p;var i=-1,L=0,T=1,v=2;function p(f){var o=f&&typeof f._transform=="function",d=f&&typeof f._write=="function";if(!o&&!d)throw new Error("must pass a Writable or Transform stream in");R("extending Parser into stream"),f._bytes=r,f._skipBytes=l,o&&(f._passthrough=n),o?f._transform=c:f._write=s}function t(f){R("initializing parser stream"),f._parserBytesLeft=0,f._parserBuffers=[],f._parserBuffered=0,f._parserState=i,f._parserCallback=null,typeof f.push=="function"&&(f._parserOutput=f.push.bind(f)),f._parserInit=!0}function r(f,o){g(!this._parserCallback,'there is already a "callback" set!'),g(isFinite(f)&&f>0,'can only buffer a finite number of bytes > 0, got "'+f+'"'),this._parserInit||t(this),R("buffering %o bytes",f),this._parserBytesLeft=f,this._parserCallback=o,this._parserState=L}function l(f,o){g(!this._parserCallback,'there is already a "callback" set!'),g(f>0,'can only skip > 0 bytes, got "'+f+'"'),this._parserInit||t(this),R("skipping %o bytes",f),this._parserBytesLeft=f,this._parserCallback=o,this._parserState=T}function n(f,o){g(!this._parserCallback,'There is already a "callback" set!'),g(f>0,'can only pass through > 0 bytes, got "'+f+'"'),this._parserInit||t(this),R("passing through %o bytes",f),this._parserBytesLeft=f,this._parserCallback=o,this._parserState=v}function s(f,o,d){this._parserInit||t(this),R("write(%o bytes)",f.length),typeof o=="function"&&(d=o),h(this,f,null,d)}function c(f,o,d){this._parserInit||t(this),R("transform(%o bytes)",f.length),typeof o!="function"&&(o=this._parserOutput),h(this,f,o,d)}function u(f,o,d,A){return f._parserBytesLeft<=0?A(new Error("got data but not currently parsing anything")):o.length<=f._parserBytesLeft?function(){return y(f,o,d,A)}:function(){var M=o.slice(0,f._parserBytesLeft);return y(f,M,d,function(C){if(C)return A(C);if(o.length>M.length)return function(){return u(f,o.slice(M.length),d,A)}})}}function y(f,o,d,A){if(f._parserBytesLeft-=o.length,R("%o bytes left for stream piece",f._parserBytesLeft),f._parserState===L?(f._parserBuffers.push(o),f._parserBuffered+=o.length):f._parserState===v&&d(o),f._parserBytesLeft===0){var M=f._parserCallback;if(M&&f._parserState===L&&f._parserBuffers.length>1&&(o=Buffer.concat(f._parserBuffers,f._parserBuffered)),f._parserState!==L&&(o=null),f._parserCallback=null,f._parserBuffered=0,f._parserState=i,f._parserBuffers.splice(0),M){var C=[];o&&C.push(o),d&&C.push(d);var m=M.length>C.length;m&&C.push(b(A));var S=M.apply(f,C);if(!m||A===S)return A}}else return A}var h=b(u);function b(f){return function(){for(var o=f.apply(this,arguments);typeof o=="function";)o=o();return o}}},41633:function(G,V,e){var g=e(90386);V=G.exports=e(74469),V.log=L,V.formatArgs=i,V.save=T,V.load=v,V.useColors=R,V.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:p(),V.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function R(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}V.formatters.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function i(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+V.humanize(this.diff),!!r){var l="color: "+this.color;t.splice(1,0,l,"color: inherit");var n=0,s=0;t[0].replace(/%[a-zA-Z%]/g,function(c){c!=="%%"&&(n++,c==="%c"&&(s=n))}),t.splice(s,0,l)}}function L(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function T(t){try{t==null?V.storage.removeItem("debug"):V.storage.debug=t}catch{}}function v(){var t;try{t=V.storage.debug}catch{}return!t&&typeof g<"u"&&"env"in g&&(t={}.DEBUG),t}V.enable(v());function p(){try{return window.localStorage}catch{}}},74469:function(G,V,e){V=G.exports=i.debug=i.default=i,V.coerce=p,V.disable=T,V.enable=L,V.enabled=v,V.humanize=e(11375),V.names=[],V.skips=[],V.formatters={};var g;function R(t){var r=0,l;for(l in t)r=(r<<5)-r+t.charCodeAt(l),r|=0;return V.colors[Math.abs(r)%V.colors.length]}function i(t){function r(){if(r.enabled){var l=r,n=+new Date,s=n-(g||n);l.diff=s,l.prev=g,l.curr=n,g=n;for(var c=new Array(arguments.length),u=0;u<c.length;u++)c[u]=arguments[u];c[0]=V.coerce(c[0]),typeof c[0]!="string"&&c.unshift("%O");var y=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,function(b,f){if(b==="%%")return b;y++;var o=V.formatters[f];if(typeof o=="function"){var d=c[y];b=o.call(l,d),c.splice(y,1),y--}return b}),V.formatArgs.call(l,c);var h=r.log||V.log||console.log.bind(console);h.apply(l,c)}}return r.namespace=t,r.enabled=V.enabled(t),r.useColors=V.useColors(),r.color=R(t),typeof V.init=="function"&&V.init(r),r}function L(t){V.save(t),V.names=[],V.skips=[];for(var r=(typeof t=="string"?t:"").split(/[\s,]+/),l=r.length,n=0;n<l;n++)r[n]&&(t=r[n].replace(/\*/g,".*?"),t[0]==="-"?V.skips.push(new RegExp("^"+t.substr(1)+"$")):V.names.push(new RegExp("^"+t+"$")))}function T(){V.enable("")}function v(t){var r,l;for(r=0,l=V.skips.length;r<l;r++)if(V.skips[r].test(t))return!1;for(r=0,l=V.names.length;r<l;r++)if(V.names[r].test(t))return!0;return!1}function p(t){return t instanceof Error?t.stack||t.message:t}},11375:function(G){var V=1e3,e=V*60,g=e*60,R=g*24,i=R*365.25;G.exports=function(t,r){r=r||{};var l=typeof t;if(l==="string"&&t.length>0)return L(t);if(l==="number"&&isNaN(t)===!1)return r.long?v(t):T(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function L(t){if(t=String(t),!(t.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(r){var l=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return l*i;case"days":case"day":case"d":return l*R;case"hours":case"hour":case"hrs":case"hr":case"h":return l*g;case"minutes":case"minute":case"mins":case"min":case"m":return l*e;case"seconds":case"second":case"secs":case"sec":case"s":return l*V;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function T(t){return t>=R?Math.round(t/R)+"d":t>=g?Math.round(t/g)+"h":t>=e?Math.round(t/e)+"m":t>=V?Math.round(t/V)+"s":t+"ms"}function v(t){return p(t,R,"day")||p(t,g,"hour")||p(t,e,"minute")||p(t,V,"second")||t+" ms"}function p(t,r,l){if(!(t<r))return t<r*1.5?Math.floor(t/r)+" "+l:Math.ceil(t/r)+" "+l+"s"}},99011:function(G,V,e){var g=e(88641);G.exports=function(i,L,T){if(i==null)throw Error("First argument should be a string");if(L==null)throw Error("Separator should be a string or a RegExp");T?(typeof T=="string"||Array.isArray(T))&&(T={ignore:T}):T={},T.escape==null&&(T.escape=!0),T.ignore==null?T.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof T.ignore=="string"&&(T.ignore=[T.ignore]),T.ignore=T.ignore.map(function(c){return c.length===1&&(c=c+c),c}));var v=g.parse(i,{flat:!0,brackets:T.ignore}),p=v[0],t=p.split(L);if(T.escape){for(var r=[],l=0;l<t.length;l++){var n=t[l],s=t[l+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(r.push(n+L+s),l++):r.push(n)}t=r}for(var l=0;l<t.length;l++)v[0]=t[l],t[l]=g.stringify(v,{flat:!0});return t}},68664:function(G){G.exports=V;function V(e){for(var g=e.length,R=new Array(g),i=new Array(g),L=new Array(g),T=new Array(g),v=new Array(g),p=new Array(g),t=0;t<g;++t)R[t]=-1,i[t]=0,L[t]=!1,T[t]=0,v[t]=-1,p[t]=[];var r=0,l=[],n=[];function s(h){var b=[h],f=[h];for(R[h]=i[h]=r,L[h]=!0,r+=1;f.length>0;){h=f[f.length-1];var o=e[h];if(T[h]<o.length){for(var d=T[h];d<o.length;++d){var A=o[d];if(R[A]<0){R[A]=i[A]=r,L[A]=!0,r+=1,b.push(A),f.push(A);break}else L[A]&&(i[h]=Math.min(i[h],i[A])|0);v[A]>=0&&p[h].push(v[A])}T[h]=d}else{if(i[h]===R[h]){for(var M=[],C=[],m=0,d=b.length-1;d>=0;--d){var S=b[d];if(L[S]=!1,M.push(S),C.push(p[S]),m+=p[S].length,v[S]=l.length,S===h){b.length=d;break}}l.push(M);for(var x=new Array(m),d=0;d<C.length;d++)for(var a=0;a<C[d].length;a++)x[--m]=C[d][a];n.push(x)}f.pop()}}}for(var t=0;t<g;++t)R[t]<0&&s(t);for(var c,t=0;t<n.length;t++){var u=n[t];if(u.length!==0){u.sort(function(b,f){return b-f}),c=[u[0]];for(var y=1;y<u.length;y++)u[y]!==u[y-1]&&c.push(u[y]);n[t]=c}}return{components:l,adjacencyList:n}}},7095:function(G,V,e){e.r(V);var g=function(){function t(r,l){var n=[],s=!0,c=!1,u=void 0;try{for(var y=r[Symbol.iterator](),h;!(s=(h=y.next()).done)&&(n.push(h.value),!(l&&n.length===l));s=!0);}catch(b){c=!0,u=b}finally{try{!s&&y.return&&y.return()}finally{if(c)throw u}}return n}return function(r,l){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R=Math.PI*2,i=function(r,l,n,s,c,u,y){var h=r.x,b=r.y;h*=l,b*=n;var f=s*h-c*b,o=c*h+s*b;return{x:f+u,y:o+y}},L=function(r,l){var n=l===1.5707963267948966?.551915024494:l===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(l/4),s=Math.cos(r),c=Math.sin(r),u=Math.cos(r+l),y=Math.sin(r+l);return[{x:s-c*n,y:c+s*n},{x:u+y*n,y:y-u*n},{x:u,y}]},T=function(r,l,n,s){var c=r*s-l*n<0?-1:1,u=r*n+l*s;return u>1&&(u=1),u<-1&&(u=-1),c*Math.acos(u)},v=function(r,l,n,s,c,u,y,h,b,f,o,d){var A=Math.pow(c,2),M=Math.pow(u,2),C=Math.pow(o,2),m=Math.pow(d,2),S=A*M-A*m-M*C;S<0&&(S=0),S/=A*m+M*C,S=Math.sqrt(S)*(y===h?-1:1);var x=S*c/u*d,a=S*-u/c*o,E=f*x-b*a+(r+n)/2,w=b*x+f*a+(l+s)/2,k=(o-x)/c,I=(d-a)/u,U=(-o-x)/c,z=(-d-a)/u,N=T(1,0,k,I),B=T(k,I,U,z);return h===0&&B>0&&(B-=R),h===1&&B<0&&(B+=R),[E,w,N,B]},p=function(r){var l=r.px,n=r.py,s=r.cx,c=r.cy,u=r.rx,y=r.ry,h=r.xAxisRotation,b=h===void 0?0:h,f=r.largeArcFlag,o=f===void 0?0:f,d=r.sweepFlag,A=d===void 0?0:d,M=[];if(u===0||y===0)return[];var C=Math.sin(b*R/360),m=Math.cos(b*R/360),S=m*(l-s)/2+C*(n-c)/2,x=-C*(l-s)/2+m*(n-c)/2;if(S===0&&x===0)return[];u=Math.abs(u),y=Math.abs(y);var a=Math.pow(S,2)/Math.pow(u,2)+Math.pow(x,2)/Math.pow(y,2);a>1&&(u*=Math.sqrt(a),y*=Math.sqrt(a));var E=v(l,n,s,c,u,y,o,A,C,m,S,x),w=g(E,4),k=w[0],I=w[1],U=w[2],z=w[3],N=Math.abs(z)/(R/4);Math.abs(1-N)<1e-7&&(N=1);var B=Math.max(Math.ceil(N),1);z/=B;for(var F=0;F<B;F++)M.push(L(U,z)),U+=z;return M.map(function(H){var X=i(H[0],u,y,m,C,k,I),q=X.x,ne=X.y,oe=i(H[1],u,y,m,C,k,I),ve=oe.x,J=oe.y,Y=i(H[2],u,y,m,C,k,I),j=Y.x,K=Y.y;return{x1:q,y1:ne,x2:ve,y2:J,x:j,y:K}})};V.default=p},1750:function(G,V,e){var g=e(95616),R=e(65185),i=e(29988),L=e(89546),T=e(32791);G.exports=v;function v(p){if(Array.isArray(p)&&p.length===1&&typeof p[0]=="string"&&(p=p[0]),typeof p=="string"&&(T(L(p),"String is not an SVG path."),p=g(p)),T(Array.isArray(p),"Argument should be a string or an array of path segments."),p=R(p),p=i(p),!p.length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],r=0,l=p.length;r<l;r++)for(var n=p[r].slice(1),s=0;s<n.length;s+=2)n[s+0]<t[0]&&(t[0]=n[s+0]),n[s+1]<t[1]&&(t[1]=n[s+1]),n[s+0]>t[2]&&(t[2]=n[s+0]),n[s+1]>t[3]&&(t[3]=n[s+1]);return t}},29988:function(G,V,e){G.exports=R;var g=e(7095);function R(T){for(var v,p=[],t=0,r=0,l=0,n=0,s=null,c=null,u=0,y=0,h=0,b=T.length;h<b;h++){var f=T[h],o=f[0];switch(o){case"M":l=f[1],n=f[2];break;case"A":var d=g({px:u,py:y,cx:f[6],cy:f[7],rx:f[1],ry:f[2],xAxisRotation:f[3],largeArcFlag:f[4],sweepFlag:f[5]});if(!d.length)continue;for(var A=0,M;A<d.length;A++)M=d[A],f=["C",M.x1,M.y1,M.x2,M.y2,M.x,M.y],A<d.length-1&&p.push(f);break;case"S":var C=u,m=y;(v=="C"||v=="S")&&(C+=C-t,m+=m-r),f=["C",C,m,f[1],f[2],f[3],f[4]];break;case"T":v=="Q"||v=="T"?(s=u*2-s,c=y*2-c):(s=u,c=y),f=L(u,y,s,c,f[1],f[2]);break;case"Q":s=f[1],c=f[2],f=L(u,y,f[1],f[2],f[3],f[4]);break;case"L":f=i(u,y,f[1],f[2]);break;case"H":f=i(u,y,f[1],y);break;case"V":f=i(u,y,u,f[1]);break;case"Z":f=i(u,y,l,n);break}v=o,u=f[f.length-2],y=f[f.length-1],f.length>4?(t=f[f.length-4],r=f[f.length-3]):(t=u,r=y),p.push(f)}return p}function i(T,v,p,t){return["C",T,v,p,t,p,t]}function L(T,v,p,t,r,l){return["C",T/3+.6666666666666666*p,v/3+.6666666666666666*t,r/3+.6666666666666666*p,l/3+.6666666666666666*t,r,l]}},82019:function(G,V,e){var g=e(1750),R=e(95616),i=e(31457),L=e(89546),T=e(44781),v=document.createElement("canvas"),p=v.getContext("2d");G.exports=t;function t(n,s){if(!L(n))throw Error("Argument should be valid svg path string");s||(s={});var c,u;s.shape?(c=s.shape[0],u=s.shape[1]):(c=v.width=s.w||s.width||200,u=v.height=s.h||s.height||200);var y=Math.min(c,u),h=s.stroke||0,b=s.viewbox||s.viewBox||g(n),f=[c/(b[2]-b[0]),u/(b[3]-b[1])],o=Math.min(f[0]||0,f[1]||0)/2;if(p.fillStyle="black",p.fillRect(0,0,c,u),p.fillStyle="white",h&&(typeof h!="number"&&(h=1),h>0?p.strokeStyle="white":p.strokeStyle="black",p.lineWidth=Math.abs(h)),p.translate(c*.5,u*.5),p.scale(o,o),l()){var d=new Path2D(n);p.fill(d),h&&p.stroke(d)}else{var A=R(n);i(p,A),p.fill(),h&&p.stroke()}p.setTransform(1,0,0,1,0,0);var M=T(p,{cutoff:s.cutoff!=null?s.cutoff:.5,radius:s.radius!=null?s.radius:y*.5});return M}var r;function l(){if(r!=null)return r;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return r=!1;var s=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(s);var c=n.getImageData(0,0,1,1);return r=c&&c.data&&c.data[3]===255}},84267:function(G,V,e){var g;(function(R){var i=/^\s+/,L=/\s+$/,T=0,v=R.round,p=R.min,t=R.max,r=R.random;function l(ee,le){if(ee=ee||"",le=le||{},ee instanceof l)return ee;if(!(this instanceof l))return new l(ee,le);var ie=n(ee);this._originalInput=ee,this._r=ie.r,this._g=ie.g,this._b=ie.b,this._a=ie.a,this._roundA=v(100*this._a)/100,this._format=le.format||ie.format,this._gradientType=le.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=ie.ok,this._tc_id=T++}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ee=this.toRgb();return(ee.r*299+ee.g*587+ee.b*114)/1e3},getLuminance:function(){var ee=this.toRgb(),le,ie,he,xe,Se,Ee;return le=ee.r/255,ie=ee.g/255,he=ee.b/255,le<=.03928?xe=le/12.92:xe=R.pow((le+.055)/1.055,2.4),ie<=.03928?Se=ie/12.92:Se=R.pow((ie+.055)/1.055,2.4),he<=.03928?Ee=he/12.92:Ee=R.pow((he+.055)/1.055,2.4),.2126*xe+.7152*Se+.0722*Ee},setAlpha:function(ee){return this._a=F(ee),this._roundA=v(100*this._a)/100,this},toHsv:function(){var ee=y(this._r,this._g,this._b);return{h:ee.h*360,s:ee.s,v:ee.v,a:this._a}},toHsvString:function(){var ee=y(this._r,this._g,this._b),le=v(ee.h*360),ie=v(ee.s*100),he=v(ee.v*100);return this._a==1?"hsv("+le+", "+ie+"%, "+he+"%)":"hsva("+le+", "+ie+"%, "+he+"%, "+this._roundA+")"},toHsl:function(){var ee=c(this._r,this._g,this._b);return{h:ee.h*360,s:ee.s,l:ee.l,a:this._a}},toHslString:function(){var ee=c(this._r,this._g,this._b),le=v(ee.h*360),ie=v(ee.s*100),he=v(ee.l*100);return this._a==1?"hsl("+le+", "+ie+"%, "+he+"%)":"hsla("+le+", "+ie+"%, "+he+"%, "+this._roundA+")"},toHex:function(ee){return b(this._r,this._g,this._b,ee)},toHexString:function(ee){return"#"+this.toHex(ee)},toHex8:function(ee){return f(this._r,this._g,this._b,this._a,ee)},toHex8String:function(ee){return"#"+this.toHex8(ee)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(H(this._r,255)*100)+"%",g:v(H(this._g,255)*100)+"%",b:v(H(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(H(this._r,255)*100)+"%, "+v(H(this._g,255)*100)+"%, "+v(H(this._b,255)*100)+"%)":"rgba("+v(H(this._r,255)*100)+"%, "+v(H(this._g,255)*100)+"%, "+v(H(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:N[b(this._r,this._g,this._b,!0)]||!1},toFilter:function(ee){var le="#"+o(this._r,this._g,this._b,this._a),ie=le,he=this._gradientType?"GradientType = 1, ":"";if(ee){var xe=l(ee);ie="#"+o(xe._r,xe._g,xe._b,xe._a)}return"progid:DXImageTransform.Microsoft.gradient("+he+"startColorstr="+le+",endColorstr="+ie+")"},toString:function(ee){var le=!!ee;ee=ee||this._format;var ie=!1,he=this._a<1&&this._a>=0,xe=!le&&he&&(ee==="hex"||ee==="hex6"||ee==="hex3"||ee==="hex4"||ee==="hex8"||ee==="name");return xe?ee==="name"&&this._a===0?this.toName():this.toRgbString():(ee==="rgb"&&(ie=this.toRgbString()),ee==="prgb"&&(ie=this.toPercentageRgbString()),(ee==="hex"||ee==="hex6")&&(ie=this.toHexString()),ee==="hex3"&&(ie=this.toHexString(!0)),ee==="hex4"&&(ie=this.toHex8String(!0)),ee==="hex8"&&(ie=this.toHex8String()),ee==="name"&&(ie=this.toName()),ee==="hsl"&&(ie=this.toHslString()),ee==="hsv"&&(ie=this.toHsvString()),ie||this.toHexString())},clone:function(){return l(this.toString())},_applyModification:function(ee,le){var ie=ee.apply(null,[this].concat([].slice.call(le)));return this._r=ie._r,this._g=ie._g,this._b=ie._b,this.setAlpha(ie._a),this},lighten:function(){return this._applyModification(C,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(A,arguments)},greyscale:function(){return this._applyModification(M,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(ee,le){return ee.apply(null,[this].concat([].slice.call(le)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(a,arguments)},monochromatic:function(){return this._applyCombination(U,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},l.fromRatio=function(ee,le){if(typeof ee=="object"){var ie={};for(var he in ee)ee.hasOwnProperty(he)&&(he==="a"?ie[he]=ee[he]:ie[he]=J(ee[he]));ee=ie}return l(ee,le)};function n(ee){var le={r:0,g:0,b:0},ie=1,he=null,xe=null,Se=null,Ee=!1,Ne=!1;return typeof ee=="string"&&(ee=se(ee)),typeof ee=="object"&&(te(ee.r)&&te(ee.g)&&te(ee.b)?(le=s(ee.r,ee.g,ee.b),Ee=!0,Ne=String(ee.r).substr(-1)==="%"?"prgb":"rgb"):te(ee.h)&&te(ee.s)&&te(ee.v)?(he=J(ee.s),xe=J(ee.v),le=h(ee.h,he,xe),Ee=!0,Ne="hsv"):te(ee.h)&&te(ee.s)&&te(ee.l)&&(he=J(ee.s),Se=J(ee.l),le=u(ee.h,he,Se),Ee=!0,Ne="hsl"),ee.hasOwnProperty("a")&&(ie=ee.a)),ie=F(ie),{ok:Ee,format:ee.format||Ne,r:p(255,t(le.r,0)),g:p(255,t(le.g,0)),b:p(255,t(le.b,0)),a:ie}}function s(ee,le,ie){return{r:H(ee,255)*255,g:H(le,255)*255,b:H(ie,255)*255}}function c(ee,le,ie){ee=H(ee,255),le=H(le,255),ie=H(ie,255);var he=t(ee,le,ie),xe=p(ee,le,ie),Se,Ee,Ne=(he+xe)/2;if(he==xe)Se=Ee=0;else{var He=he-xe;switch(Ee=Ne>.5?He/(2-he-xe):He/(he+xe),he){case ee:Se=(le-ie)/He+(le<ie?6:0);break;case le:Se=(ie-ee)/He+2;break;case ie:Se=(ee-le)/He+4;break}Se/=6}return{h:Se,s:Ee,l:Ne}}function u(ee,le,ie){var he,xe,Se;ee=H(ee,360),le=H(le,100),ie=H(ie,100);function Ee(Ce,be,we){return we<0&&(we+=1),we>1&&(we-=1),we<.16666666666666666?Ce+(be-Ce)*6*we:we<.5?be:we<.6666666666666666?Ce+(be-Ce)*(.6666666666666666-we)*6:Ce}if(le===0)he=xe=Se=ie;else{var Ne=ie<.5?ie*(1+le):ie+le-ie*le,He=2*ie-Ne;he=Ee(He,Ne,ee+.3333333333333333),xe=Ee(He,Ne,ee),Se=Ee(He,Ne,ee-.3333333333333333)}return{r:he*255,g:xe*255,b:Se*255}}function y(ee,le,ie){ee=H(ee,255),le=H(le,255),ie=H(ie,255);var he=t(ee,le,ie),xe=p(ee,le,ie),Se,Ee,Ne=he,He=he-xe;if(Ee=he===0?0:He/he,he==xe)Se=0;else{switch(he){case ee:Se=(le-ie)/He+(le<ie?6:0);break;case le:Se=(ie-ee)/He+2;break;case ie:Se=(ee-le)/He+4;break}Se/=6}return{h:Se,s:Ee,v:Ne}}function h(ee,le,ie){ee=H(ee,360)*6,le=H(le,100),ie=H(ie,100);var he=R.floor(ee),xe=ee-he,Se=ie*(1-le),Ee=ie*(1-xe*le),Ne=ie*(1-(1-xe)*le),He=he%6,Ce=[ie,Ee,Se,Se,Ne,ie][He],be=[Ne,ie,ie,Ee,Se,Se][He],we=[Se,Se,Ne,ie,ie,Ee][He];return{r:Ce*255,g:be*255,b:we*255}}function b(ee,le,ie,he){var xe=[ve(v(ee).toString(16)),ve(v(le).toString(16)),ve(v(ie).toString(16))];return he&&xe[0].charAt(0)==xe[0].charAt(1)&&xe[1].charAt(0)==xe[1].charAt(1)&&xe[2].charAt(0)==xe[2].charAt(1)?xe[0].charAt(0)+xe[1].charAt(0)+xe[2].charAt(0):xe.join("")}function f(ee,le,ie,he,xe){var Se=[ve(v(ee).toString(16)),ve(v(le).toString(16)),ve(v(ie).toString(16)),ve(Y(he))];return xe&&Se[0].charAt(0)==Se[0].charAt(1)&&Se[1].charAt(0)==Se[1].charAt(1)&&Se[2].charAt(0)==Se[2].charAt(1)&&Se[3].charAt(0)==Se[3].charAt(1)?Se[0].charAt(0)+Se[1].charAt(0)+Se[2].charAt(0)+Se[3].charAt(0):Se.join("")}function o(ee,le,ie,he){var xe=[ve(Y(he)),ve(v(ee).toString(16)),ve(v(le).toString(16)),ve(v(ie).toString(16))];return xe.join("")}l.equals=function(ee,le){return!ee||!le?!1:l(ee).toRgbString()==l(le).toRgbString()},l.random=function(){return l.fromRatio({r:r(),g:r(),b:r()})};function d(ee,le){le=le===0?0:le||10;var ie=l(ee).toHsl();return ie.s-=le/100,ie.s=X(ie.s),l(ie)}function A(ee,le){le=le===0?0:le||10;var ie=l(ee).toHsl();return ie.s+=le/100,ie.s=X(ie.s),l(ie)}function M(ee){return l(ee).desaturate(100)}function C(ee,le){le=le===0?0:le||10;var ie=l(ee).toHsl();return ie.l+=le/100,ie.l=X(ie.l),l(ie)}function m(ee,le){le=le===0?0:le||10;var ie=l(ee).toRgb();return ie.r=t(0,p(255,ie.r-v(255*-(le/100)))),ie.g=t(0,p(255,ie.g-v(255*-(le/100)))),ie.b=t(0,p(255,ie.b-v(255*-(le/100)))),l(ie)}function S(ee,le){le=le===0?0:le||10;var ie=l(ee).toHsl();return ie.l-=le/100,ie.l=X(ie.l),l(ie)}function x(ee,le){var ie=l(ee).toHsl(),he=(ie.h+le)%360;return ie.h=he<0?360+he:he,l(ie)}function a(ee){var le=l(ee).toHsl();return le.h=(le.h+180)%360,l(le)}function E(ee){var le=l(ee).toHsl(),ie=le.h;return[l(ee),l({h:(ie+120)%360,s:le.s,l:le.l}),l({h:(ie+240)%360,s:le.s,l:le.l})]}function w(ee){var le=l(ee).toHsl(),ie=le.h;return[l(ee),l({h:(ie+90)%360,s:le.s,l:le.l}),l({h:(ie+180)%360,s:le.s,l:le.l}),l({h:(ie+270)%360,s:le.s,l:le.l})]}function k(ee){var le=l(ee).toHsl(),ie=le.h;return[l(ee),l({h:(ie+72)%360,s:le.s,l:le.l}),l({h:(ie+216)%360,s:le.s,l:le.l})]}function I(ee,le,ie){le=le||6,ie=ie||30;var he=l(ee).toHsl(),xe=360/ie,Se=[l(ee)];for(he.h=(he.h-(xe*le>>1)+720)%360;--le;)he.h=(he.h+xe)%360,Se.push(l(he));return Se}function U(ee,le){le=le||6;for(var ie=l(ee).toHsv(),he=ie.h,xe=ie.s,Se=ie.v,Ee=[],Ne=1/le;le--;)Ee.push(l({h:he,s:xe,v:Se})),Se=(Se+Ne)%1;return Ee}l.mix=function(ee,le,ie){ie=ie===0?0:ie||50;var he=l(ee).toRgb(),xe=l(le).toRgb(),Se=ie/100,Ee={r:(xe.r-he.r)*Se+he.r,g:(xe.g-he.g)*Se+he.g,b:(xe.b-he.b)*Se+he.b,a:(xe.a-he.a)*Se+he.a};return l(Ee)},l.readability=function(ee,le){var ie=l(ee),he=l(le);return(R.max(ie.getLuminance(),he.getLuminance())+.05)/(R.min(ie.getLuminance(),he.getLuminance())+.05)},l.isReadable=function(ee,le,ie){var he=l.readability(ee,le),xe,Se;switch(Se=!1,xe=Q(ie),xe.level+xe.size){case"AAsmall":case"AAAlarge":Se=he>=4.5;break;case"AAlarge":Se=he>=3;break;case"AAAsmall":Se=he>=7;break}return Se},l.mostReadable=function(ee,le,ie){var he=null,xe=0,Se,Ee,Ne,He;ie=ie||{},Ee=ie.includeFallbackColors,Ne=ie.level,He=ie.size;for(var Ce=0;Ce<le.length;Ce++)Se=l.readability(ee,le[Ce]),Se>xe&&(xe=Se,he=l(le[Ce]));return l.isReadable(ee,he,{level:Ne,size:He})||!Ee?he:(ie.includeFallbackColors=!1,l.mostReadable(ee,["#fff","#000"],ie))};var z=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=l.hexNames=B(z);function B(ee){var le={};for(var ie in ee)ee.hasOwnProperty(ie)&&(le[ee[ie]]=ie);return le}function F(ee){return ee=parseFloat(ee),(isNaN(ee)||ee<0||ee>1)&&(ee=1),ee}function H(ee,le){ne(ee)&&(ee="100%");var ie=oe(ee);return ee=p(le,t(0,parseFloat(ee))),ie&&(ee=parseInt(ee*le,10)/100),R.abs(ee-le)<1e-6?1:ee%le/parseFloat(le)}function X(ee){return p(1,t(0,ee))}function q(ee){return parseInt(ee,16)}function ne(ee){return typeof ee=="string"&&ee.indexOf(".")!=-1&&parseFloat(ee)===1}function oe(ee){return typeof ee=="string"&&ee.indexOf("%")!=-1}function ve(ee){return ee.length==1?"0"+ee:""+ee}function J(ee){return ee<=1&&(ee=ee*100+"%"),ee}function Y(ee){return R.round(parseFloat(ee)*255).toString(16)}function j(ee){return q(ee)/255}var K=function(){var ee="[-\\+]?\\d+%?",le="[-\\+]?\\d*\\.\\d+%?",ie="(?:"+le+")|(?:"+ee+")",he="[\\s|\\(]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")\\s*\\)?",xe="[\\s|\\(]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")\\s*\\)?";return{CSS_UNIT:new RegExp(ie),rgb:new RegExp("rgb"+he),rgba:new RegExp("rgba"+xe),hsl:new RegExp("hsl"+he),hsla:new RegExp("hsla"+xe),hsv:new RegExp("hsv"+he),hsva:new RegExp("hsva"+xe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function te(ee){return!!K.CSS_UNIT.exec(ee)}function se(ee){ee=ee.replace(i,"").replace(L,"").toLowerCase();var le=!1;if(z[ee])ee=z[ee],le=!0;else if(ee=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ie;return(ie=K.rgb.exec(ee))?{r:ie[1],g:ie[2],b:ie[3]}:(ie=K.rgba.exec(ee))?{r:ie[1],g:ie[2],b:ie[3],a:ie[4]}:(ie=K.hsl.exec(ee))?{h:ie[1],s:ie[2],l:ie[3]}:(ie=K.hsla.exec(ee))?{h:ie[1],s:ie[2],l:ie[3],a:ie[4]}:(ie=K.hsv.exec(ee))?{h:ie[1],s:ie[2],v:ie[3]}:(ie=K.hsva.exec(ee))?{h:ie[1],s:ie[2],v:ie[3],a:ie[4]}:(ie=K.hex8.exec(ee))?{r:q(ie[1]),g:q(ie[2]),b:q(ie[3]),a:j(ie[4]),format:le?"name":"hex8"}:(ie=K.hex6.exec(ee))?{r:q(ie[1]),g:q(ie[2]),b:q(ie[3]),format:le?"name":"hex"}:(ie=K.hex4.exec(ee))?{r:q(ie[1]+""+ie[1]),g:q(ie[2]+""+ie[2]),b:q(ie[3]+""+ie[3]),a:j(ie[4]+""+ie[4]),format:le?"name":"hex8"}:(ie=K.hex3.exec(ee))?{r:q(ie[1]+""+ie[1]),g:q(ie[2]+""+ie[2]),b:q(ie[3]+""+ie[3]),format:le?"name":"hex"}:!1}function Q(ee){var le,ie;return ee=ee||{level:"AA",size:"small"},le=(ee.level||"AA").toUpperCase(),ie=(ee.size||"small").toLowerCase(),le!=="AA"&&le!=="AAA"&&(le="AA"),ie!=="small"&&ie!=="large"&&(ie="small"),{level:le,size:ie}}G.exports?G.exports=l:(g=function(){return l}.call(V,e,V,G),g!==void 0&&(G.exports=g))})(Math)},57060:function(G){G.exports=g,G.exports.float32=G.exports.float=g,G.exports.fract32=G.exports.fract=e;var V=new Float32Array(1);function e(R,i){if(R.length){if(R instanceof Float32Array)return new Float32Array(R.length);i instanceof Float32Array||(i=g(R));for(var L=0,T=i.length;L<T;L++)i[L]=R[L]-i[L];return i}return g(R-g(R))}function g(R){return R.length?R instanceof Float32Array?R:new Float32Array(R):(V[0]=R,V[0])}},75686:function(G,V,e){var g=e(25677);G.exports=T;var R=96;function i(v,p){var t=g(getComputedStyle(v).getPropertyValue(p));return t[0]*T(t[1],v)}function L(v,p){var t=document.createElement("div");t.style["font-size"]="128"+v,p.appendChild(t);var r=i(t,"font-size")/128;return p.removeChild(t),r}function T(v,p){switch(p=p||document.body,v=(v||"px").trim().toLowerCase(),(p===window||p===document)&&(p=document.body),v){case"%":return p.clientHeight/100;case"ch":case"ex":return L(v,p);case"em":return i(p,"font-size");case"rem":return i(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return R;case"cm":return R/2.54;case"mm":return R/25.4;case"pt":return R/72;case"pc":return R/6}return 1}},96892:function(G,V,e){e.d(V,{zL:function(){return L}});function g(p,t){for(var r,l=p.length,n=l-t;n<--l;)r=p[n],p[n++]=p[l],p[l]=r}function R(p){return p}function i(p){if(p==null)return R;var t,r,l=p.scale[0],n=p.scale[1],s=p.translate[0],c=p.translate[1];return function(u,y){y||(t=r=0);var h=2,b=u.length,f=new Array(b);for(f[0]=(t+=u[0])*l+s,f[1]=(r+=u[1])*n+c;h<b;)f[h]=u[h],++h;return f}}function L(p,t){return typeof t=="string"&&(t=p.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return T(p,r)})}:T(p,t)}function T(p,t){var r=t.id,l=t.bbox,n=t.properties==null?{}:t.properties,s=v(p,t);return r==null&&l==null?{type:"Feature",properties:n,geometry:s}:l==null?{type:"Feature",id:r,properties:n,geometry:s}:{type:"Feature",id:r,bbox:l,properties:n,geometry:s}}function v(p,t){var r=i(p.transform),l=p.arcs;function n(b,f){f.length&&f.pop();for(var o=l[b<0?~b:b],d=0,A=o.length;d<A;++d)f.push(r(o[d],d));b<0&&g(f,A)}function s(b){return r(b)}function c(b){for(var f=[],o=0,d=b.length;o<d;++o)n(b[o],f);return f.length<2&&f.push(f[0]),f}function u(b){for(var f=c(b);f.length<4;)f.push(f[0]);return f}function y(b){return b.map(u)}function h(b){var f=b.type,o;switch(f){case"GeometryCollection":return{type:f,geometries:b.geometries.map(h)};case"Point":o=s(b.coordinates);break;case"MultiPoint":o=b.coordinates.map(s);break;case"LineString":o=c(b.arcs);break;case"MultiLineString":o=b.arcs.map(c);break;case"Polygon":o=y(b.arcs);break;case"MultiPolygon":o=b.arcs.map(y);break;default:return null}return{type:f,coordinates:o}}return h(t)}},73116:function(G,V,e){var g=e(24511);G.exports=function(R){if(typeof R!="function"||!hasOwnProperty.call(R,"length"))return!1;try{if(typeof R.length!="number"||typeof R.call!="function"||typeof R.apply!="function")return!1}catch{return!1}return!g(R)}},69190:function(G,V,e){var g=e(24582),R=e(47403),i=e(9234),L=e(6048),T=function(v,p){return v.replace("%v",L(p))};G.exports=function(v,p,t){if(!R(t))throw new TypeError(T(p,v));if(!g(v)){if("default"in t)return t.default;if(t.isOptional)return null}var r=i(t.errorMessage);throw g(r)||(r=p),new TypeError(T(r,v))}},18497:function(G){G.exports=function(V){try{return V.toString()}catch{try{return String(V)}catch{return null}}}},6048:function(G,V,e){var g=e(18497),R=/[\n\r\u2028\u2029]/g;G.exports=function(i){var L=g(i);return L===null?"<Non-coercible to string value>":(L.length>100&&(L=L.slice(0,99)+""),L=L.replace(R,function(T){switch(T){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),L)}},47403:function(G,V,e){var g=e(24582),R={object:!0,function:!0,undefined:!0};G.exports=function(i){return g(i)?hasOwnProperty.call(R,typeof i):!1}},82527:function(G,V,e){var g=e(69190),R=e(84985);G.exports=function(i){return R(i)?i:g(i,"%v is not a plain function",arguments[1])}},84985:function(G,V,e){var g=e(73116),R=/^\s*class[\s{/}]/,i=Function.prototype.toString;G.exports=function(L){return!(!g(L)||R.test(i.call(L)))}},24511:function(G,V,e){var g=e(47403);G.exports=function(R){if(!g(R))return!1;try{return R.constructor?R.constructor.prototype===R:!1}catch{return!1}}},9234:function(G,V,e){var g=e(24582),R=e(47403),i=Object.prototype.toString;G.exports=function(L){if(!g(L))return null;if(R(L)){var T=L.toString;if(typeof T!="function"||T===i)return null}try{return""+L}catch{return null}}},10424:function(G,V,e){var g=e(69190),R=e(24582);G.exports=function(i){return R(i)?i:g(i,"Cannot use %v",arguments[1])}},24582:function(G){var V=void 0;G.exports=function(e){return e!==V&&e!==null}},58404:function(G,V,e){var g=e(13547),R=e(12129),i=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:R([32,0]),UINT16:R([32,0]),UINT32:R([32,0]),BIGUINT64:R([32,0]),INT8:R([32,0]),INT16:R([32,0]),INT32:R([32,0]),BIGINT64:R([32,0]),FLOAT:R([32,0]),DOUBLE:R([32,0]),DATA:R([32,0]),UINT8C:R([32,0]),BUFFER:R([32,0])});var L=typeof Uint8ClampedArray<"u",T=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",p=e.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=R([32,0])),p.BIGUINT64||(p.BIGUINT64=R([32,0])),p.BIGINT64||(p.BIGINT64=R([32,0])),p.BUFFER||(p.BUFFER=R([32,0]));var t=p.DATA,r=p.BUFFER;V.free=function(a){if(i.isBuffer(a))r[g.log2(a.length)].push(a);else{if(Object.prototype.toString.call(a)!=="[object ArrayBuffer]"&&(a=a.buffer),!a)return;var E=a.length||a.byteLength,w=g.log2(E)|0;t[w].push(a)}};function l(x){if(x){var a=x.length||x.byteLength,E=g.log2(a);t[E].push(x)}}function n(x){l(x.buffer)}V.freeUint8=V.freeUint16=V.freeUint32=V.freeBigUint64=V.freeInt8=V.freeInt16=V.freeInt32=V.freeBigInt64=V.freeFloat32=V.freeFloat=V.freeFloat64=V.freeDouble=V.freeUint8Clamped=V.freeDataView=n,V.freeArrayBuffer=l,V.freeBuffer=function(a){r[g.log2(a.length)].push(a)},V.malloc=function(a,E){if(E===void 0||E==="arraybuffer")return s(a);switch(E){case"uint8":return c(a);case"uint16":return u(a);case"uint32":return y(a);case"int8":return h(a);case"int16":return b(a);case"int32":return f(a);case"float":case"float32":return o(a);case"double":case"float64":return d(a);case"uint8_clamped":return A(a);case"bigint64":return C(a);case"biguint64":return M(a);case"buffer":return S(a);case"data":case"dataview":return m(a);default:return null}return null};function s(a){var a=g.nextPow2(a),E=g.log2(a),w=t[E];return w.length>0?w.pop():new ArrayBuffer(a)}V.mallocArrayBuffer=s;function c(x){return new Uint8Array(s(x),0,x)}V.mallocUint8=c;function u(x){return new Uint16Array(s(2*x),0,x)}V.mallocUint16=u;function y(x){return new Uint32Array(s(4*x),0,x)}V.mallocUint32=y;function h(x){return new Int8Array(s(x),0,x)}V.mallocInt8=h;function b(x){return new Int16Array(s(2*x),0,x)}V.mallocInt16=b;function f(x){return new Int32Array(s(4*x),0,x)}V.mallocInt32=f;function o(x){return new Float32Array(s(4*x),0,x)}V.mallocFloat32=V.mallocFloat=o;function d(x){return new Float64Array(s(8*x),0,x)}V.mallocFloat64=V.mallocDouble=d;function A(x){return L?new Uint8ClampedArray(s(x),0,x):c(x)}V.mallocUint8Clamped=A;function M(x){return T?new BigUint64Array(s(8*x),0,x):null}V.mallocBigUint64=M;function C(x){return v?new BigInt64Array(s(8*x),0,x):null}V.mallocBigInt64=C;function m(x){return new DataView(s(x),0,x)}V.mallocDataView=m;function S(x){x=g.nextPow2(x);var a=g.log2(x),E=r[a];return E.length>0?E.pop():new i(x)}V.mallocBuffer=S,V.clearCache=function(){for(var a=0;a<32;++a)p.UINT8[a].length=0,p.UINT16[a].length=0,p.UINT32[a].length=0,p.INT8[a].length=0,p.INT16[a].length=0,p.INT32[a].length=0,p.FLOAT[a].length=0,p.DOUBLE[a].length=0,p.BIGUINT64[a].length=0,p.BIGINT64[a].length=0,p.UINT8C[a].length=0,t[a].length=0,r[a].length=0}},90448:function(G){var V=/[\'\"]/;G.exports=function(g){return g?(V.test(g.charAt(0))&&(g=g.substr(1)),V.test(g.charAt(g.length-1))&&(g=g.substr(0,g.length-1)),g):""}},93447:function(G){G.exports=function(e,g,R){Array.isArray(R)||(R=[].slice.call(arguments,2));for(var i=0,L=R.length;i<L;i++){var T=R[i];for(var v in T)if(!(g[v]!==void 0&&!Array.isArray(g[v])&&e[v]===g[v])&&v in g){var p;if(T[v]===!0)p=g[v];else{if(T[v]===!1)continue;if(typeof T[v]=="function"&&(p=T[v](g[v],e,g),p===void 0))continue}e[v]=p}}return e}},20588:function(G,V,e){G.exports=g;function g(i,L){if(R("noDeprecation"))return i;var T=!1;function v(){if(!T){if(R("throwDeprecation"))throw new Error(L);R("traceDeprecation")?console.trace(L):console.warn(L),T=!0}return i.apply(this,arguments)}return v}function R(i){try{if(!e.g.localStorage)return!1}catch{return!1}var L=e.g.localStorage[i];return L==null?!1:String(L).toLowerCase()==="true"}},45920:function(G){G.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},4936:function(G,V,e){var g=e(47216),R=e(65481),i=e(21099),L=e(9187);function T(Se){return Se.call.bind(Se)}var v=typeof BigInt<"u",p=typeof Symbol<"u",t=T(Object.prototype.toString),r=T(Number.prototype.valueOf),l=T(String.prototype.valueOf),n=T(Boolean.prototype.valueOf);if(v)var s=T(BigInt.prototype.valueOf);if(p)var c=T(Symbol.prototype.valueOf);function u(Se,Ee){if(typeof Se!="object")return!1;try{return Ee(Se),!0}catch{return!1}}V.isArgumentsObject=g,V.isGeneratorFunction=R,V.isTypedArray=L;function y(Se){return typeof Promise<"u"&&Se instanceof Promise||Se!==null&&typeof Se=="object"&&typeof Se.then=="function"&&typeof Se.catch=="function"}V.isPromise=y;function h(Se){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Se):L(Se)||q(Se)}V.isArrayBufferView=h;function b(Se){return i(Se)==="Uint8Array"}V.isUint8Array=b;function f(Se){return i(Se)==="Uint8ClampedArray"}V.isUint8ClampedArray=f;function o(Se){return i(Se)==="Uint16Array"}V.isUint16Array=o;function d(Se){return i(Se)==="Uint32Array"}V.isUint32Array=d;function A(Se){return i(Se)==="Int8Array"}V.isInt8Array=A;function M(Se){return i(Se)==="Int16Array"}V.isInt16Array=M;function C(Se){return i(Se)==="Int32Array"}V.isInt32Array=C;function m(Se){return i(Se)==="Float32Array"}V.isFloat32Array=m;function S(Se){return i(Se)==="Float64Array"}V.isFloat64Array=S;function x(Se){return i(Se)==="BigInt64Array"}V.isBigInt64Array=x;function a(Se){return i(Se)==="BigUint64Array"}V.isBigUint64Array=a;function E(Se){return t(Se)==="[object Map]"}E.working=typeof Map<"u"&&E(new Map);function w(Se){return typeof Map>"u"?!1:E.working?E(Se):Se instanceof Map}V.isMap=w;function k(Se){return t(Se)==="[object Set]"}k.working=typeof Set<"u"&&k(new Set);function I(Se){return typeof Set>"u"?!1:k.working?k(Se):Se instanceof Set}V.isSet=I;function U(Se){return t(Se)==="[object WeakMap]"}U.working=typeof WeakMap<"u"&&U(new WeakMap);function z(Se){return typeof WeakMap>"u"?!1:U.working?U(Se):Se instanceof WeakMap}V.isWeakMap=z;function N(Se){return t(Se)==="[object WeakSet]"}N.working=typeof WeakSet<"u"&&N(new WeakSet);function B(Se){return N(Se)}V.isWeakSet=B;function F(Se){return t(Se)==="[object ArrayBuffer]"}F.working=typeof ArrayBuffer<"u"&&F(new ArrayBuffer);function H(Se){return typeof ArrayBuffer>"u"?!1:F.working?F(Se):Se instanceof ArrayBuffer}V.isArrayBuffer=H;function X(Se){return t(Se)==="[object DataView]"}X.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&X(new DataView(new ArrayBuffer(1),0,1));function q(Se){return typeof DataView>"u"?!1:X.working?X(Se):Se instanceof DataView}V.isDataView=q;var ne=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function oe(Se){return t(Se)==="[object SharedArrayBuffer]"}function ve(Se){return typeof ne>"u"?!1:(typeof oe.working>"u"&&(oe.working=oe(new ne)),oe.working?oe(Se):Se instanceof ne)}V.isSharedArrayBuffer=ve;function J(Se){return t(Se)==="[object AsyncFunction]"}V.isAsyncFunction=J;function Y(Se){return t(Se)==="[object Map Iterator]"}V.isMapIterator=Y;function j(Se){return t(Se)==="[object Set Iterator]"}V.isSetIterator=j;function K(Se){return t(Se)==="[object Generator]"}V.isGeneratorObject=K;function te(Se){return t(Se)==="[object WebAssembly.Module]"}V.isWebAssemblyCompiledModule=te;function se(Se){return u(Se,r)}V.isNumberObject=se;function Q(Se){return u(Se,l)}V.isStringObject=Q;function ee(Se){return u(Se,n)}V.isBooleanObject=ee;function le(Se){return v&&u(Se,s)}V.isBigIntObject=le;function ie(Se){return p&&u(Se,c)}V.isSymbolObject=ie;function he(Se){return se(Se)||Q(Se)||ee(Se)||le(Se)||ie(Se)}V.isBoxedPrimitive=he;function xe(Se){return typeof Uint8Array<"u"&&(H(Se)||ve(Se))}V.isAnyArrayBuffer=xe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Se){Object.defineProperty(V,Se,{enumerable:!1,value:function(){throw new Error(Se+" is not supported in userland")}})})},43827:function(G,V,e){var g=e(90386),R=Object.getOwnPropertyDescriptors||function(ne){for(var oe=Object.keys(ne),ve={},J=0;J<oe.length;J++)ve[oe[J]]=Object.getOwnPropertyDescriptor(ne,oe[J]);return ve},i=/%[sdj%]/g;V.format=function(q){if(!M(q)){for(var ne=[],oe=0;oe<arguments.length;oe++)ne.push(p(arguments[oe]));return ne.join(" ")}for(var oe=1,ve=arguments,J=ve.length,Y=String(q).replace(i,function(K){if(K==="%%")return"%";if(oe>=J)return K;switch(K){case"%s":return String(ve[oe++]);case"%d":return Number(ve[oe++]);case"%j":try{return JSON.stringify(ve[oe++])}catch{return"[Circular]"}default:return K}}),j=ve[oe];oe<J;j=ve[++oe])o(j)||!x(j)?Y+=" "+j:Y+=" "+p(j);return Y},V.deprecate=function(q,ne){if(typeof g<"u"&&g.noDeprecation===!0)return q;if(typeof g>"u")return function(){return V.deprecate(q,ne).apply(this,arguments)};var oe=!1;function ve(){if(!oe){if(g.throwDeprecation)throw new Error(ne);g.traceDeprecation?console.trace(ne):console.error(ne),oe=!0}return q.apply(this,arguments)}return ve};var L={},T=/^$/;if({}.NODE_DEBUG){var v={}.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),T=new RegExp("^"+v+"$","i")}V.debuglog=function(q){if(q=q.toUpperCase(),!L[q])if(T.test(q)){var ne=g.pid;L[q]=function(){var oe=V.format.apply(V,arguments);console.error("%s %d: %s",q,ne,oe)}}else L[q]=function(){};return L[q]};function p(q,ne){var oe={seen:[],stylize:r};return arguments.length>=3&&(oe.depth=arguments[2]),arguments.length>=4&&(oe.colors=arguments[3]),f(ne)?oe.showHidden=ne:ne&&V._extend(oe,ne),m(oe.showHidden)&&(oe.showHidden=!1),m(oe.depth)&&(oe.depth=2),m(oe.colors)&&(oe.colors=!1),m(oe.customInspect)&&(oe.customInspect=!0),oe.colors&&(oe.stylize=t),n(oe,q,oe.depth)}V.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function t(q,ne){var oe=p.styles[ne];return oe?"\x1B["+p.colors[oe][0]+"m"+q+"\x1B["+p.colors[oe][1]+"m":q}function r(q,ne){return q}function l(q){var ne={};return q.forEach(function(oe,ve){ne[oe]=!0}),ne}function n(q,ne,oe){if(q.customInspect&&ne&&w(ne.inspect)&&ne.inspect!==V.inspect&&!(ne.constructor&&ne.constructor.prototype===ne)){var ve=ne.inspect(oe,q);return M(ve)||(ve=n(q,ve,oe)),ve}var J=s(q,ne);if(J)return J;var Y=Object.keys(ne),j=l(Y);if(q.showHidden&&(Y=Object.getOwnPropertyNames(ne)),E(ne)&&(Y.indexOf("message")>=0||Y.indexOf("description")>=0))return c(ne);if(Y.length===0){if(w(ne)){var K=ne.name?": "+ne.name:"";return q.stylize("[Function"+K+"]","special")}if(S(ne))return q.stylize(RegExp.prototype.toString.call(ne),"regexp");if(a(ne))return q.stylize(Date.prototype.toString.call(ne),"date");if(E(ne))return c(ne)}var te="",se=!1,Q=["{","}"];if(b(ne)&&(se=!0,Q=["[","]"]),w(ne)){var ee=ne.name?": "+ne.name:"";te=" [Function"+ee+"]"}if(S(ne)&&(te=" "+RegExp.prototype.toString.call(ne)),a(ne)&&(te=" "+Date.prototype.toUTCString.call(ne)),E(ne)&&(te=" "+c(ne)),Y.length===0&&(!se||ne.length==0))return Q[0]+te+Q[1];if(oe<0)return S(ne)?q.stylize(RegExp.prototype.toString.call(ne),"regexp"):q.stylize("[Object]","special");q.seen.push(ne);var le;return se?le=u(q,ne,oe,j,Y):le=Y.map(function(ie){return y(q,ne,oe,j,ie,se)}),q.seen.pop(),h(le,te,Q)}function s(q,ne){if(m(ne))return q.stylize("undefined","undefined");if(M(ne)){var oe="'"+JSON.stringify(ne).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(oe,"string")}if(A(ne))return q.stylize(""+ne,"number");if(f(ne))return q.stylize(""+ne,"boolean");if(o(ne))return q.stylize("null","null")}function c(q){return"["+Error.prototype.toString.call(q)+"]"}function u(q,ne,oe,ve,J){for(var Y=[],j=0,K=ne.length;j<K;++j)B(ne,String(j))?Y.push(y(q,ne,oe,ve,String(j),!0)):Y.push("");return J.forEach(function(te){te.match(/^\d+$/)||Y.push(y(q,ne,oe,ve,te,!0))}),Y}function y(q,ne,oe,ve,J,Y){var j,K,te;if(te=Object.getOwnPropertyDescriptor(ne,J)||{value:ne[J]},te.get?te.set?K=q.stylize("[Getter/Setter]","special"):K=q.stylize("[Getter]","special"):te.set&&(K=q.stylize("[Setter]","special")),B(ve,J)||(j="["+J+"]"),K||(q.seen.indexOf(te.value)<0?(o(oe)?K=n(q,te.value,null):K=n(q,te.value,oe-1),K.indexOf(`
`)>-1&&(Y?K=K.split(`
`).map(function(se){return"  "+se}).join(`
`).slice(2):K=`
`+K.split(`
`).map(function(se){return"   "+se}).join(`
`))):K=q.stylize("[Circular]","special")),m(j)){if(Y&&J.match(/^\d+$/))return K;j=JSON.stringify(""+J),j.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(j=j.slice(1,-1),j=q.stylize(j,"name")):(j=j.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),j=q.stylize(j,"string"))}return j+": "+K}function h(q,ne,oe){var ve=q.reduce(function(J,Y){return Y.indexOf(`
`)>=0,J+Y.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ve>60?oe[0]+(ne===""?"":ne+`
 `)+" "+q.join(`,
  `)+" "+oe[1]:oe[0]+ne+" "+q.join(", ")+" "+oe[1]}V.types=e(4936);function b(q){return Array.isArray(q)}V.isArray=b;function f(q){return typeof q=="boolean"}V.isBoolean=f;function o(q){return q===null}V.isNull=o;function d(q){return q==null}V.isNullOrUndefined=d;function A(q){return typeof q=="number"}V.isNumber=A;function M(q){return typeof q=="string"}V.isString=M;function C(q){return typeof q=="symbol"}V.isSymbol=C;function m(q){return q===void 0}V.isUndefined=m;function S(q){return x(q)&&I(q)==="[object RegExp]"}V.isRegExp=S,V.types.isRegExp=S;function x(q){return typeof q=="object"&&q!==null}V.isObject=x;function a(q){return x(q)&&I(q)==="[object Date]"}V.isDate=a,V.types.isDate=a;function E(q){return x(q)&&(I(q)==="[object Error]"||q instanceof Error)}V.isError=E,V.types.isNativeError=E;function w(q){return typeof q=="function"}V.isFunction=w;function k(q){return q===null||typeof q=="boolean"||typeof q=="number"||typeof q=="string"||typeof q=="symbol"||typeof q>"u"}V.isPrimitive=k,V.isBuffer=e(45920);function I(q){return Object.prototype.toString.call(q)}function U(q){return q<10?"0"+q.toString(10):q.toString(10)}var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var q=new Date,ne=[U(q.getHours()),U(q.getMinutes()),U(q.getSeconds())].join(":");return[q.getDate(),z[q.getMonth()],ne].join(" ")}V.log=function(){console.log("%s - %s",N(),V.format.apply(V,arguments))},V.inherits=e(42018),V._extend=function(q,ne){if(!ne||!x(ne))return q;for(var oe=Object.keys(ne),ve=oe.length;ve--;)q[oe[ve]]=ne[oe[ve]];return q};function B(q,ne){return Object.prototype.hasOwnProperty.call(q,ne)}var F=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;V.promisify=function(ne){if(typeof ne!="function")throw new TypeError('The "original" argument must be of type Function');if(F&&ne[F]){var oe=ne[F];if(typeof oe!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(oe,F,{value:oe,enumerable:!1,writable:!1,configurable:!0}),oe}function oe(){for(var ve,J,Y=new Promise(function(te,se){ve=te,J=se}),j=[],K=0;K<arguments.length;K++)j.push(arguments[K]);j.push(function(te,se){te?J(te):ve(se)});try{ne.apply(this,j)}catch(te){J(te)}return Y}return Object.setPrototypeOf(oe,Object.getPrototypeOf(ne)),F&&Object.defineProperty(oe,F,{value:oe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(oe,R(ne))},V.promisify.custom=F;function H(q,ne){if(!q){var oe=new Error("Promise was rejected with a falsy value");oe.reason=q,q=oe}return ne(q)}function X(q){if(typeof q!="function")throw new TypeError('The "original" argument must be of type Function');function ne(){for(var oe=[],ve=0;ve<arguments.length;ve++)oe.push(arguments[ve]);var J=oe.pop();if(typeof J!="function")throw new TypeError("The last argument must be of type Function");var Y=this,j=function(){return J.apply(Y,arguments)};q.apply(this,oe).then(function(K){g.nextTick(j.bind(null,null,K))},function(K){g.nextTick(H.bind(null,K,j))})}return Object.setPrototypeOf(ne,Object.getPrototypeOf(q)),Object.defineProperties(ne,R(q)),ne}V.callbackify=X},40372:function(G,V,e){var g=e(86249);G.exports=function(i){return g("webgl",i)}},21099:function(G,V,e){var g=e(31353),R=e(72077),i=e(6614),L=e(40383),T=i("Object.prototype.toString"),v=e(84543)(),p=typeof globalThis>"u"?e.g:globalThis,t=R(),r=i("String.prototype.slice"),l={},n=Object.getPrototypeOf;v&&L&&n&&g(t,function(u){if(typeof p[u]=="function"){var y=new p[u];if(Symbol.toStringTag in y){var h=n(y),b=L(h,Symbol.toStringTag);if(!b){var f=n(h);b=L(f,Symbol.toStringTag)}l[u]=b.get}}});var s=function(y){var h=!1;return g(l,function(b,f){if(!h)try{var o=b.call(y);o===f&&(h=o)}catch{}}),h},c=e(9187);G.exports=function(y){return c(y)?!v||!(Symbol.toStringTag in y)?r(T(y),8,-1):s(y):!1}},3961:function(G,V,e){var g=e(63489),R=e(56131),i=g.instance();function L(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}L.prototype=new g.baseCalendar,R(L.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(c,u){if(typeof c=="string"){var y=c.match(v);return y?y[0]:""}var h=this._validateYear(c),b=c.month(),f=""+this.toChineseMonth(h,b);return u&&f.length<2&&(f="0"+f),this.isIntercalaryMonth(h,b)&&(f+="i"),f},monthNames:function(c){if(typeof c=="string"){var u=c.match(p);return u?u[0]:""}var y=this._validateYear(c),h=c.month(),b=this.toChineseMonth(y,h),f=["","","","","","","","","","","",""][b-1];return this.isIntercalaryMonth(y,h)&&(f=""+f),f},monthNamesShort:function(c){if(typeof c=="string"){var u=c.match(t);return u?u[0]:""}var y=this._validateYear(c),h=c.month(),b=this.toChineseMonth(y,h),f=["","","","","","","","","","","",""][b-1];return this.isIntercalaryMonth(y,h)&&(f=""+f),f},parseMonth:function(c,u){c=this._validateYear(c);var y=parseInt(u),h;if(isNaN(y))u[0]===""&&(h=!0,u=u.substring(1)),u[u.length-1]===""&&(u=u.substring(0,u.length-1)),y=1+["","","","","","","","","","","",""].indexOf(u);else{var b=u[u.length-1];h=b==="i"||b==="I"}var f=this.toMonthIndex(c,y,h);return f},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(c,u){if(c.year&&(c=c.year()),typeof c!="number"||c<1888||c>2111)throw u.replace(/\{0\}/,this.local.name);return c},toMonthIndex:function(c,u,y){var h=this.intercalaryMonth(c),b=y&&u!==h;if(b||u<1||u>12)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var f;return h?!y&&u<=h?f=u-1:f=u:f=u-1,f},toChineseMonth:function(c,u){c.year&&(c=c.year(),u=c.month());var y=this.intercalaryMonth(c),h=y?12:11;if(u<0||u>h)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var b;return y?u<y?b=u+1:b=u:b=u+1,b},intercalaryMonth:function(c){c=this._validateYear(c);var u=r[c-r[0]],y=u>>13;return y},isIntercalaryMonth:function(c,u){c.year&&(c=c.year(),u=c.month());var y=this.intercalaryMonth(c);return!!y&&y===u},leapYear:function(c){return this.intercalaryMonth(c)!==0},weekOfYear:function(c,u,y){var h=this._validateYear(c,g.local.invalidyear),b=l[h-l[0]],f=b>>9&4095,o=b>>5&15,d=b&31,A;A=i.newDate(f,o,d),A.add(4-(A.dayOfWeek()||7),"d");var M=this.toJD(c,u,y)-A.toJD();return 1+Math.floor(M/7)},monthsInYear:function(c){return this.leapYear(c)?13:12},daysInMonth:function(c,u){c.year&&(u=c.month(),c=c.year()),c=this._validateYear(c);var y=r[c-r[0]],h=y>>13,b=h?12:11;if(u>b)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var f=y&1<<12-u?30:29;return f},weekDay:function(c,u,y){return(this.dayOfWeek(c,u,y)||7)<6},toJD:function(c,u,y){var h=this._validate(c,f,y,g.local.invalidDate);c=this._validateYear(h.year()),u=h.month(),y=h.day();var b=this.isIntercalaryMonth(c,u),f=this.toChineseMonth(c,u),o=s(c,f,y,b);return i.toJD(o.year,o.month,o.day)},fromJD:function(c){var u=i.fromJD(c),y=n(u.year(),u.month(),u.day()),h=this.toMonthIndex(y.year,y.month,y.isIntercalary);return this.newDate(y.year,h,y.day)},fromString:function(c){var u=c.match(T),y=this._validateYear(+u[1]),h=+u[2],b=!!u[3],f=this.toMonthIndex(y,h,b),o=+u[4];return this.newDate(y,f,o)},add:function(c,u,y){var h=c.year(),b=c.month(),f=this.isIntercalaryMonth(h,b),o=this.toChineseMonth(h,b),d=Object.getPrototypeOf(L.prototype).add.call(this,c,u,y);if(y==="y"){var A=d.year(),M=d.month(),C=this.isIntercalaryMonth(A,o),m=f&&C?this.toMonthIndex(A,o,!0):this.toMonthIndex(A,o,!1);m!==M&&d.month(m)}return d}});var T=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,p=/^??[]?/m,t=/^??[]?/m;g.calendars.chinese=L;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],l=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(c,u,y,h){var b,f;if(typeof c=="object")b=c,f=u||{};else{var o=typeof c=="number"&&c>=1888&&c<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var d=typeof u=="number"&&u>=1&&u<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var A=typeof y=="number"&&y>=1&&y<=31;if(!A)throw new Error("Solar day outside range 1 - 31");b={year:c,month:u,day:y},f=h||{}}var M=l[b.year-l[0]],C=b.year<<9|b.month<<5|b.day;f.year=C>=M?b.year:b.year-1,M=l[f.year-l[0]];var m=M>>9&4095,S=M>>5&15,x=M&31,a,E=new Date(m,S-1,x),w=new Date(b.year,b.month-1,b.day);a=Math.round((w-E)/864e5);var k=r[f.year-r[0]],I;for(I=0;I<13;I++){var U=k&1<<12-I?30:29;if(a<U)break;a-=U}var z=k>>13;return!z||I<z?(f.isIntercalary=!1,f.month=1+I):I===z?(f.isIntercalary=!0,f.month=I):(f.isIntercalary=!1,f.month=I),f.day=1+a,f}function s(c,u,y,h,b){var f,o;if(typeof c=="object")o=c,f=u||{};else{var d=typeof c=="number"&&c>=1888&&c<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var A=typeof u=="number"&&u>=1&&u<=12;if(!A)throw new Error("Lunar month outside range 1 - 12");var M=typeof y=="number"&&y>=1&&y<=30;if(!M)throw new Error("Lunar day outside range 1 - 30");var C;typeof h=="object"?(C=!1,f=h):(C=!!h,f=b||{}),o={year:c,month:u,day:y,isIntercalary:C}}var m;m=o.day-1;var S=r[o.year-r[0]],x=S>>13,a;x&&(o.month>x||o.isIntercalary)?a=o.month:a=o.month-1;for(var E=0;E<a;E++){var w=S&1<<12-E?30:29;m+=w}var k=l[o.year-l[0]],I=k>>9&4095,U=k>>5&15,z=k&31,N=new Date(I,U-1,z+m);return f.year=N.getFullYear(),f.month=1+N.getMonth(),f.day=N.getDate(),f}},38751:function(G,V,e){var g=e(63489),R=e(56131);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=T.year()+(T.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(L,T,v){var p=this.newDate(L,T,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,T){var v=this._validate(L,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,T,v){return(this.dayOfWeek(L,T,v)||7)<6},toJD:function(L,T,v){var p=this._validate(L,T,v,g.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var T=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((T-Math.floor((T+366)/1461))/365)+1;v<=0&&v--,T=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(T/30)+1,t=T-(p-1)*30+1;return this.newDate(v,p,t)}}),g.calendars.coptic=i},86825:function(G,V,e){var g=e(63489),R=e(56131);function i(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),!1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),13},daysInYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),400},weekOfYear:function(T,v,p){var t=this.newDate(T,v,p);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(T,v){var p=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(T,v,p){var t=this._validate(T,v,p,g.local.invalidDate);return(t.day()+1)%8},weekDay:function(T,v,p){var t=this.dayOfWeek(T,v,p);return t>=2&&t<=6},extraInfo:function(T,v,p){var t=this._validate(T,v,p,g.local.invalidDate);return{century:L[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(T,v,p){var t=this._validate(T,v,p,g.local.invalidDate);return T=t.year()+(t.year()<0?1:0),v=t.month(),p=t.day(),p+(v>1?16:0)+(v>2?(v-2)*32:0)+(T-1)*400+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(T/400)+1;T-=(v-1)*400,T+=T>15?16:0;var p=Math.floor(T/32)+1,t=T-(p-1)*32+1;return this.newDate(v<=0?v-1:v,p,t)}});var L={20:"Fruitbat",21:"Anchovy"};g.calendars.discworld=i},37715:function(G,V,e){var g=e(63489),R=e(56131);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=T.year()+(T.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(L){return this._validate(L,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(L,T,v){var p=this.newDate(L,T,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,T){var v=this._validate(L,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(L,T,v){return(this.dayOfWeek(L,T,v)||7)<6},toJD:function(L,T,v){var p=this._validate(L,T,v,g.local.invalidDate);return L=p.year(),L<0&&L++,p.day()+(p.month()-1)*30+(L-1)*365+Math.floor(L/4)+this.jdEpoch-1},fromJD:function(L){var T=Math.floor(L)+.5-this.jdEpoch,v=Math.floor((T-Math.floor((T+366)/1461))/365)+1;v<=0&&v--,T=Math.floor(L)+.5-this.newDate(v,1,1).toJD();var p=Math.floor(T/30)+1,t=T-(p-1)*30+1;return this.newDate(v,p,t)}}),g.calendars.ethiopian=i},99384:function(G,V,e){var g=e(63489),R=e(56131);function i(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(T){return T=T<0?T+1:T,L(T*7+1,19)<7},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),this._leapYear(T.year?T.year():T)?13:12},weekOfYear:function(T,v,p){var t=this.newDate(T,v,p);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear);return T=v.year(),this.toJD(T===-1?1:T+1,7,1)-this.toJD(T,7,1)},daysInMonth:function(T,v){return T.year&&(v=T.month(),T=T.year()),this._validate(T,v,this.minDay,g.local.invalidMonth),v===12&&this.leapYear(T)||v===8&&L(this.daysInYear(T),10)===5?30:v===9&&L(this.daysInYear(T),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(T,v,p){return this.dayOfWeek(T,v,p)!==6},extraInfo:function(T,v,p){var t=this._validate(T,v,p,g.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(T,v,p){var t=this._validate(T,v,p,g.local.invalidDate);T=t.year(),v=t.month(),p=t.day();var r=T<=0?T+1:T,l=this.jdEpoch+this._delay1(r)+this._delay2(r)+p+1;if(v<7){for(var n=7;n<=this.monthsInYear(T);n++)l+=this.daysInMonth(T,n);for(var n=1;n<v;n++)l+=this.daysInMonth(T,n)}else for(var n=7;n<v;n++)l+=this.daysInMonth(T,n);return l},_delay1:function(T){var v=Math.floor((235*T-234)/19),p=12084+13753*v,t=v*29+Math.floor(p/25920);return L(3*(t+1),7)<3&&t++,t},_delay2:function(T){var v=this._delay1(T-1),p=this._delay1(T),t=this._delay1(T+1);return t-p===356?2:p-v===382?1:0},fromJD:function(T){T=Math.floor(T)+.5;for(var v=Math.floor((T-this.jdEpoch)*98496/35975351)-1;T>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var p=T<this.toJD(v,1,1)?7:1;T>this.toJD(v,p,this.daysInMonth(v,p));)p++;var t=T-this.toJD(v,p,1)+1;return this.newDate(v,p,t)}});function L(T,v){return T-v*Math.floor(T/v)}g.calendars.hebrew=i},43805:function(G,V,e){var g=e(63489),R=e(56131);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(L){var T=this._validate(L,this.minMonth,this.minDay,g.local.invalidYear);return(T.year()*11+14)%30<11},weekOfYear:function(L,T,v){var p=this.newDate(L,T,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){return this.leapYear(L)?355:354},daysInMonth:function(L,T){var v=this._validate(L,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(L,T,v){return this.dayOfWeek(L,T,v)!==5},toJD:function(L,T,v){var p=this._validate(L,T,v,g.local.invalidDate);return L=p.year(),T=p.month(),v=p.day(),L=L<=0?L+1:L,v+Math.ceil(29.5*(T-1))+(L-1)*354+Math.floor((3+11*L)/30)+this.jdEpoch-1},fromJD:function(L){L=Math.floor(L)+.5;var T=Math.floor((30*(L-this.jdEpoch)+10646)/10631);T=T<=0?T-1:T;var v=Math.min(12,Math.ceil((L-29-this.toJD(T,1,1))/29.5)+1),p=L-this.toJD(T,v,1)+1;return this.newDate(T,v,p)}}),g.calendars.islamic=i},88874:function(G,V,e){var g=e(63489),R=e(56131);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=T.year()<0?T.year()+1:T.year();return v%4===0},weekOfYear:function(L,T,v){var p=this.newDate(L,T,v);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(L,T){var v=this._validate(L,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(L,T,v){return(this.dayOfWeek(L,T,v)||7)<6},toJD:function(L,T,v){var p=this._validate(L,T,v,g.local.invalidDate);return L=p.year(),T=p.month(),v=p.day(),L<0&&L++,T<=2&&(L--,T+=12),Math.floor(365.25*(L+4716))+Math.floor(30.6001*(T+1))+v-1524.5},fromJD:function(L){var T=Math.floor(L+.5),v=T+1524,p=Math.floor((v-122.1)/365.25),t=Math.floor(365.25*p),r=Math.floor((v-t)/30.6001),l=r-Math.floor(r<14?1:13),n=p-Math.floor(l>2?4716:4715),s=v-t-Math.floor(30.6001*r);return n<=0&&n--,this.newDate(n,l,s)}}),g.calendars.julian=i},83290:function(G,V,e){var g=e(63489),R=e(56131);function i(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),!1},formatYear:function(v){var p=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear);v=p.year();var t=Math.floor(v/400);v=v%400,v+=v<0?400:0;var r=Math.floor(v/20);return t+"."+r+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var p=0,t=0;t<v.length;t++){var r=parseInt(v[t],10);if(Math.abs(r)>19||t>0&&r<0)throw"Invalid Mayan year";p=p*20+r}return p},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),18},weekOfYear:function(v,p,t){return this._validate(v,p,t,g.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),360},daysInMonth:function(v,p){return this._validate(v,p,this.minDay,g.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,p,t){var r=this._validate(v,p,t,g.local.invalidDate);return r.day()},weekDay:function(v,p,t){return this._validate(v,p,t,g.local.invalidDate),!0},extraInfo:function(v,p,t){var r=this._validate(v,p,t,g.local.invalidDate),l=r.toJD(),n=this._toHaab(l),s=this._toTzolkin(l);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[s[0]-1],tzolkinDay:s[0],tzolkinTrecena:s[1]}},_toHaab:function(v){v-=this.jdEpoch;var p=L(v+8+(18-1)*20,365);return[Math.floor(p/20)+1,L(p,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[T(v+20,20),T(v+4,13)]},toJD:function(v,p,t){var r=this._validate(v,p,t,g.local.invalidDate);return r.day()+r.month()*20+r.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var p=Math.floor(v/360);v=v%360,v+=v<0?360:0;var t=Math.floor(v/20),r=v%20;return this.newDate(p,t,r)}});function L(v,p){return v-p*Math.floor(v/p)}function T(v,p){return L(v-1,p)+1}g.calendars.mayan=i},29108:function(G,V,e){var g=e(63489),R=e(56131);function i(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar;var L=g.instance("gregorian");R(i.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return L.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(T,v,p){var t=this.newDate(T,v,p);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(T,v){var p=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(T,v,p){return(this.dayOfWeek(T,v,p)||7)<6},toJD:function(r,v,p){var t=this._validate(r,v,p,g.local.invalidMonth),r=t.year();r<0&&r++;for(var l=t.day(),n=1;n<t.month();n++)l+=this.daysPerMonth[n-1];return l+L.toJD(r+1468,3,13)},fromJD:function(T){T=Math.floor(T+.5);for(var v=Math.floor((T-(this.jdEpoch-1))/366);T>=this.toJD(v+1,1,1);)v++;for(var p=T-Math.floor(this.toJD(v,1,1)+.5)+1,t=1;p>this.daysInMonth(v,t);)p-=this.daysInMonth(v,t),t++;return this.newDate(v,t,p)}}),g.calendars.nanakshahi=i},55422:function(G,V,e){var g=e(63489),R=e(56131);function i(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(L){return this.daysInYear(L)!==this.daysPerYear},weekOfYear:function(L,T,v){var p=this.newDate(L,T,v);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(L){var T=this._validate(L,this.minMonth,this.minDay,g.local.invalidYear);if(L=T.year(),typeof this.NEPALI_CALENDAR_DATA[L]>"u")return this.daysPerYear;for(var v=0,p=this.minMonth;p<=12;p++)v+=this.NEPALI_CALENDAR_DATA[L][p];return v},daysInMonth:function(L,T){return L.year&&(T=L.month(),L=L.year()),this._validate(L,T,this.minDay,g.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[L]>"u"?this.daysPerMonth[T-1]:this.NEPALI_CALENDAR_DATA[L][T]},weekDay:function(L,T,v){return this.dayOfWeek(L,T,v)!==6},toJD:function(L,T,v){var p=this._validate(L,T,v,g.local.invalidDate);L=p.year(),T=p.month(),v=p.day();var t=g.instance(),r=0,l=T,n=L;this._createMissingCalendarData(L);var s=L-(l>9||l===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(T!==9&&(r=v,l--);l!==9;)l<=0&&(l=12,n--),r+=this.NEPALI_CALENDAR_DATA[n][l],l--;return T===9?(r+=v-this.NEPALI_CALENDAR_DATA[n][0],r<0&&(r+=t.daysInYear(s))):r+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],t.newDate(s,1,1).add(r,"d").toJD()},fromJD:function(L){var T=g.instance(),v=T.fromJD(L),p=v.year(),t=v.dayOfYear(),r=p+56;this._createMissingCalendarData(r);for(var l=9,n=this.NEPALI_CALENDAR_DATA[r][0],s=this.NEPALI_CALENDAR_DATA[r][l]-n+1;t>s;)l++,l>12&&(l=1,r++),s+=this.NEPALI_CALENDAR_DATA[r][l];var c=this.NEPALI_CALENDAR_DATA[r][l]-(s-t);return this.newDate(r,l,c)},_createMissingCalendarData:function(L){var T=this.daysPerMonth.slice(0);T.unshift(17);for(var v=L-1;v<L+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=T)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),g.calendars.nepali=i},94320:function(G,V,e){var g=e(63489),R=e(56131);function i(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(T,v,p){var t=this.newDate(T,v,p);return t.add(-((t.dayOfWeek()+1)%7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(T,v){var p=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(T,v,p){return this.dayOfWeek(T,v,p)!==5},toJD:function(T,v,p){var t=this._validate(T,v,p,g.local.invalidDate);T=t.year(),v=t.month(),p=t.day();var r=T-(T>=0?474:473),l=474+L(r,2820);return p+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((l*682-110)/2816)+(l-1)*365+Math.floor(r/2820)*1029983+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T)+.5;var v=T-this.toJD(475,1,1),p=Math.floor(v/1029983),t=L(v,1029983),r=2820;if(t!==1029982){var l=Math.floor(t/366),n=L(t,366);r=Math.floor((2134*l+2816*n+2815)/1028522)+l+1}var s=r+2820*p+474;s=s<=0?s-1:s;var c=T-this.toJD(s,1,1)+1,u=c<=186?Math.ceil(c/31):Math.ceil((c-6)/30),y=T-this.toJD(s,u,1)+1;return this.newDate(s,u,y)}});function L(T,v){return T-v*Math.floor(T/v)}g.calendars.persian=i,g.calendars.jalali=i},31320:function(G,V,e){var g=e(63489),R=e(56131),i=g.instance();function L(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}L.prototype=new g.baseCalendar,R(L.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,g.local.invalidYear),p=this._t2gYear(v.year());return i.leapYear(p)},weekOfYear:function(r,v,p){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear),r=this._t2gYear(t.year());return i.weekOfYear(r,t.month(),t.day())},daysInMonth:function(T,v){var p=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(T,v,p){return(this.dayOfWeek(T,v,p)||7)<6},toJD:function(r,v,p){var t=this._validate(r,v,p,g.local.invalidDate),r=this._t2gYear(t.year());return i.toJD(r,t.month(),t.day())},fromJD:function(T){var v=i.fromJD(T),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(T){return T+this.yearsOffset+(T>=-this.yearsOffset&&T<=-1?1:0)},_g2tYear:function(T){return T-this.yearsOffset-(T>=1&&T<=this.yearsOffset?1:0)}}),g.calendars.taiwan=L},51367:function(G,V,e){var g=e(63489),R=e(56131),i=g.instance();function L(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}L.prototype=new g.baseCalendar,R(L.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var v=this._validate(p,this.minMonth,this.minDay,g.local.invalidYear),p=this._t2gYear(v.year());return i.leapYear(p)},weekOfYear:function(r,v,p){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear),r=this._t2gYear(t.year());return i.weekOfYear(r,t.month(),t.day())},daysInMonth:function(T,v){var p=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(T,v,p){return(this.dayOfWeek(T,v,p)||7)<6},toJD:function(r,v,p){var t=this._validate(r,v,p,g.local.invalidDate),r=this._t2gYear(t.year());return i.toJD(r,t.month(),t.day())},fromJD:function(T){var v=i.fromJD(T),p=this._g2tYear(v.year());return this.newDate(p,v.month(),v.day())},_t2gYear:function(T){return T-this.yearsOffset-(T>=1&&T<=this.yearsOffset?1:0)},_g2tYear:function(T){return T+this.yearsOffset+(T>=-this.yearsOffset&&T<=-1?1:0)}}),g.calendars.thai=L},21457:function(G,V,e){var g=e(63489),R=e(56131);function i(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}i.prototype=new g.baseCalendar,R(i.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(T,v,p){var t=this.newDate(T,v,p);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(T){for(var v=0,p=1;p<=12;p++)v+=this.daysInMonth(T,p);return v},daysInMonth:function(T,v){for(var p=this._validate(T,v,this.minDay,g.local.invalidMonth),t=p.toJD()-24e5+.5,r=0,l=0;l<L.length;l++){if(L[l]>t)return L[r]-L[r-1];r++}return 30},weekDay:function(T,v,p){return this.dayOfWeek(T,v,p)!==5},toJD:function(T,v,p){var t=this._validate(T,v,p,g.local.invalidDate),r=12*(t.year()-1)+t.month()-15292,l=t.day()+L[r-1]-1;return l+24e5-.5},fromJD:function(T){for(var v=T-24e5+.5,p=0,t=0;t<L.length&&!(L[t]>v);t++)p++;var r=p+15292,l=Math.floor((r-1)/12),n=l+1,s=r-12*l,c=v-L[p-1]+1;return this.newDate(n,s,c)},isValid:function(T,v,p){var t=g.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(T=T.year!=null?T.year:T,t=T>=1276&&T<=1500),t},_validate:function(T,v,p,t){var r=g.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw t.replace(/\{0\}/,this.local.name);return r}}),g.calendars.ummalqura=i;var L=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(G,V,e){var g=e(56131);function R(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}g(R.prototype,{instance:function(t,r){t=(t||"gregorian").toLowerCase(),r=r||"";var l=this._localCals[t+"-"+r];if(!l&&this.calendars[t]&&(l=new this.calendars[t](r),this._localCals[t+"-"+r]=l),!l)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return l},newDate:function(t,r,l,n,s){return n=(t!=null&&t.year?t.calendar():typeof n=="string"?this.instance(n,s):n)||this.instance(),n.newDate(t,r,l)},substituteDigits:function(t){return function(r){return(r+"").replace(/[0-9]/g,function(l){return t[l]})}},substituteChineseDigits:function(t,r){return function(l){for(var n="",s=0;l>0;){var c=l%10;n=(c===0?"":t[c]+r[s])+n,s++,l=Math.floor(l/10)}return n.indexOf(t[1]+r[1])===0&&(n=n.substr(1)),n||t[0]}}});function i(t,r,l,n){if(this._calendar=t,this._year=r,this._month=l,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function L(t,r){return t=""+t,"000000".substring(0,r-t.length)+t}g(i.prototype,{newDate:function(t,r,l){return this._calendar.newDate(t??this,r,l)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,r,l){if(!this._calendar.isValid(t,r,l))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=r,this._day=l,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,r){return this._calendar.add(this,t,r)},set:function(t,r){return this._calendar.set(this,t,r)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var r=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+L(Math.abs(this.year()),4)+"-"+L(this.month(),2)+"-"+L(this.day(),2)}});function T(){this.shortYearCutoff="+10"}g(T.prototype,{_validateLevel:0,newDate:function(t,r,l){return t==null?this.today():(t.year&&(this._validate(t,r,l,p.local.invalidDate||p.regionalOptions[""].invalidDate),l=t.day(),r=t.month(),t=t.year()),new i(this,t,r,l))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+L(Math.abs(r.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(t,r){var l=this._validate(t,r,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(l.month()+this.monthsInYear(l)-this.firstMonth)%this.monthsInYear(l)+this.minMonth},fromMonthOfYear:function(t,r){var l=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,l,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),l},daysInYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(t,r,l){var n=this._validate(t,r,l,p.local.invalidDate||p.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,r,l){var n=this._validate(t,r,l,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,r,l){return this._validate(t,r,l,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(t,r,l){return this._validate(t,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,r,l),r,l)},_add:function(t,r,l){if(this._validateLevel++,l==="d"||l==="w"){var n=t.toJD()+r*(l==="w"?this.daysInWeek():1),s=t.calendar().fromJD(n);return this._validateLevel--,[s.year(),s.month(),s.day()]}try{var c=t.year()+(l==="y"?r:0),u=t.monthOfYear()+(l==="m"?r:0),s=t.day(),y=function(f){for(;u<f.minMonth;)c--,u+=f.monthsInYear(c);for(var o=f.monthsInYear(c);u>o-1+f.minMonth;)c++,u-=o,o=f.monthsInYear(c)};l==="y"?(t.month()!==this.fromMonthOfYear(c,u)&&(u=this.newDate(c,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(c)),s=Math.min(s,this.daysInMonth(c,this.fromMonthOfYear(c,u)))):l==="m"&&(y(this),s=Math.min(s,this.daysInMonth(c,this.fromMonthOfYear(c,u))));var h=[c,this.fromMonthOfYear(c,u),s];return this._validateLevel--,h}catch(b){throw this._validateLevel--,b}},_correctAdd:function(t,r,l,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(r[0]===0||t.year()>0!=r[0]>0)){var s={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],c=l<0?-1:1;r=this._add(t,l*s[0]+c*s[1],s[2])}return t.date(r[0],r[1],r[2])},set:function(t,r,l){this._validate(t,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var n=l==="y"?r:t.year(),s=l==="m"?r:t.month(),c=l==="d"?r:t.day();return(l==="y"||l==="m")&&(c=Math.min(c,this.daysInMonth(n,s))),t.date(n,s,c)},isValid:function(t,r,l){this._validateLevel++;var n=this.hasYearZero||t!==0;if(n){var s=this.newDate(t,r,this.minDay);n=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(s)&&l>=this.minDay&&l-this.minDay<this.daysInMonth(s)}return this._validateLevel--,n},toJSDate:function(t,r,l){var n=this._validate(t,r,l,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(p.instance().fromJSDate(t).toJD())},_validate:function(t,r,l,n){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,r,l))throw n.replace(/\{0\}/,this.local.name);var s=this.newDate(t,r,l);return this._validateLevel--,s}catch(c){throw this._validateLevel--,c}}});function v(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}v.prototype=new T,g(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var r=this._validate(l,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),l=r.year()+(r.year()<0?1:0);return l%4===0&&(l%100!==0||l%400===0)},weekOfYear:function(t,r,l){var n=this.newDate(t,r,l);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,r){var l=this._validate(t,r,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(t,r,l){return(this.dayOfWeek(t,r,l)||7)<6},toJD:function(t,r,l){var n=this._validate(t,r,l,p.local.invalidDate||p.regionalOptions[""].invalidDate);t=n.year(),r=n.month(),l=n.day(),t<0&&t++,r<3&&(r+=12,t--);var s=Math.floor(t/100),c=2-s+Math.floor(s/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+l+c-1524.5},fromJD:function(t){var r=Math.floor(t+.5),l=Math.floor((r-186721625e-2)/36524.25);l=r+1+l-Math.floor(l/4);var n=l+1524,s=Math.floor((n-122.1)/365.25),c=Math.floor(365.25*s),u=Math.floor((n-c)/30.6001),y=n-c-Math.floor(u*30.6001),h=u-(u>13.5?13:1),b=s-(h>2.5?4716:4715);return b<=0&&b--,this.newDate(b,h,y)},toJSDate:function(t,r,l){var n=this._validate(t,r,l,p.local.invalidDate||p.regionalOptions[""].invalidDate),s=new Date(n.year(),n.month()-1,n.day());return s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0),s.setHours(s.getHours()>12?s.getHours()+2:0),s},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var p=G.exports=new R;p.cdate=i,p.baseCalendar=T,p.calendars.gregorian=v},94338:function(G,V,e){var g=e(56131),R=e(63489);g(R.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),R.local=R.regionalOptions[""],g(R.cdate.prototype,{formatDate:function(i,L){return typeof i!="string"&&(L=i,i=""),this._calendar.formatDate(i||"",this,L)}}),g(R.baseCalendar.prototype,{UNIX_EPOCH:R.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:R.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,L,T){if(typeof i!="string"&&(T=L,L=i,i=""),!L)return"";if(L.calendar()!==this)throw R.local.invalidFormat||R.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat,T=T||{};var v=T.dayNamesShort||this.local.dayNamesShort,p=T.dayNames||this.local.dayNames,t=T.monthNumbers||this.local.monthNumbers,r=T.monthNamesShort||this.local.monthNamesShort,l=T.monthNames||this.local.monthNames;T.calculateWeek||this.local.calculateWeek;for(var n=function(M,C){for(var m=1;A+m<i.length&&i.charAt(A+m)===M;)m++;return A+=m-1,Math.floor(m/(C||1))>1},s=function(M,C,m,S){var x=""+C;if(n(M,S))for(;x.length<m;)x="0"+x;return x},c=function(M,C,m,S){return n(M)?S[C]:m[C]},u=this,y=function(M){return typeof t=="function"?t.call(u,M,n("m")):f(s("m",M.month(),2))},h=function(M,C){return C?typeof l=="function"?l.call(u,M):l[M.month()-u.minMonth]:typeof r=="function"?r.call(u,M):r[M.month()-u.minMonth]},b=this.local.digits,f=function(M){return T.localNumbers&&b?b(M):M},o="",d=!1,A=0;A<i.length;A++)if(d)i.charAt(A)==="'"&&!n("'")?d=!1:o+=i.charAt(A);else switch(i.charAt(A)){case"d":o+=f(s("d",L.day(),2));break;case"D":o+=c("D",L.dayOfWeek(),v,p);break;case"o":o+=s("o",L.dayOfYear(),3);break;case"w":o+=s("w",L.weekOfYear(),2);break;case"m":o+=y(L);break;case"M":o+=h(L,n("M"));break;case"y":o+=n("y",2)?L.year():(L.year()%100<10?"0":"")+L.year()%100;break;case"Y":n("Y",2),o+=L.formatYear();break;case"J":o+=L.toJD();break;case"@":o+=(L.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":o+=(L.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?o+="'":d=!0;break;default:o+=i.charAt(A)}return o},parseDate:function(i,L,T){if(L==null)throw R.local.invalidArguments||R.regionalOptions[""].invalidArguments;if(L=typeof L=="object"?L.toString():L+"",L==="")return null;i=i||this.local.dateFormat,T=T||{};var v=T.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var p=T.dayNamesShort||this.local.dayNamesShort,t=T.dayNames||this.local.dayNames,r=T.parseMonth||this.local.parseMonth,l=T.monthNumbers||this.local.monthNumbers,n=T.monthNamesShort||this.local.monthNamesShort,s=T.monthNames||this.local.monthNames,c=-1,u=-1,y=-1,h=-1,b=-1,f=!1,o=!1,d=function(I,U){for(var z=1;E+z<i.length&&i.charAt(E+z)===I;)z++;return E+=z-1,Math.floor(z/(U||1))>1},A=function(I,U){var z=d(I,U),N=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(I)+1],B=new RegExp("^-?\\d{1,"+N+"}"),F=L.substring(a).match(B);if(!F)throw(R.local.missingNumberAt||R.regionalOptions[""].missingNumberAt).replace(/\{0\}/,a);return a+=F[0].length,parseInt(F[0],10)},M=this,C=function(){if(typeof l=="function"){d("m");var I=l.call(M,L.substring(a));return a+=I.length,I}return A("m")},m=function(I,U,z,N){for(var B=d(I,N)?z:U,F=0;F<B.length;F++)if(L.substr(a,B[F].length).toLowerCase()===B[F].toLowerCase())return a+=B[F].length,F+M.minMonth;throw(R.local.unknownNameAt||R.regionalOptions[""].unknownNameAt).replace(/\{0\}/,a)},S=function(){if(typeof s=="function"){var I=d("M")?s.call(M,L.substring(a)):n.call(M,L.substring(a));return a+=I.length,I}return m("M",n,s)},x=function(){if(L.charAt(a)!==i.charAt(E))throw(R.local.unexpectedLiteralAt||R.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,a);a++},a=0,E=0;E<i.length;E++)if(o)i.charAt(E)==="'"&&!d("'")?o=!1:x();else switch(i.charAt(E)){case"d":h=A("d");break;case"D":m("D",p,t);break;case"o":b=A("o");break;case"w":A("w");break;case"m":y=C();break;case"M":y=S();break;case"y":var w=E;f=!d("y",2),E=w,u=A("y",2);break;case"Y":u=A("Y",2);break;case"J":c=A("J")+.5,L.charAt(a)==="."&&(a++,A("J"));break;case"@":c=A("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":c=A("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":a=L.length;break;case"'":d("'")?x():o=!0;break;default:x()}if(a<L.length)throw R.local.unexpectedText||R.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&f&&(u+=v===-1?1900:this.today().year()-this.today().year()%100-(u<=v?0:100)),typeof y=="string"&&(y=r.call(this,u,y)),b>-1){y=1,h=b;for(var k=this.daysInMonth(u,y);h>k;k=this.daysInMonth(u,y))y++,h-=k}return c>-1?this.fromJD(c):this.newDate(u,y,h)},determineDate:function(i,L,T,v,p){T&&typeof T!="object"&&(p=v,v=T,T=null),typeof v!="string"&&(p=v,v="");var t=this,r=function(l){try{return t.parseDate(v,l,p)}catch{}l=l.toLowerCase();for(var n=(l.match(/^c/)&&T?T.newDate():null)||t.today(),s=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,c=s.exec(l);c;)n.add(parseInt(c[1],10),c[2]||"d"),c=s.exec(l);return n};return L=L?L.newDate():null,i=i==null?L:typeof i=="string"?r(i):typeof i=="number"?isNaN(i)||i===1/0||i===-1/0?L:t.today().add(i,"d"):t.newDate(i),i}})},69862:function(){},40964:function(){},72077:function(G,V,e){var g=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],R=typeof globalThis>"u"?e.g:globalThis;G.exports=function(){for(var L=[],T=0;T<g.length;T++)typeof R[g[T]]=="function"&&(L[L.length]=g[T]);return L}},81684:function(G,V,e){e.d(V,{sX:function(){return Ce},k4:function(){return se}});function g(be,we,ke){be.prototype=we.prototype=ke,ke.constructor=be}function R(be,we){var ke=Object.create(be.prototype);for(var Fe in we)ke[Fe]=we[Fe];return ke}function i(){}var L=.7,T=1/L,v="\\s*([+-]?\\d+)\\s*",p="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3,8})$/,l=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),s=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(p,"\\)$")),c=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(p,"\\)$")),u=new RegExp("^hsl\\(".concat(p,",").concat(t,",").concat(t,"\\)$")),y=new RegExp("^hsla\\(".concat(p,",").concat(t,",").concat(t,",").concat(p,"\\)$")),h={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g(i,A,{copy:function(we){return Object.assign(new this.constructor,this,we)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHex8:f,formatHsl:o,formatRgb:d,toString:d});function b(){return this.rgb().formatHex()}function f(){return this.rgb().formatHex8()}function o(){return N(this).formatHsl()}function d(){return this.rgb().formatRgb()}function A(be){var we,ke;return be=(be+"").trim().toLowerCase(),(we=r.exec(be))?(ke=we[1].length,we=parseInt(we[1],16),ke===6?M(we):ke===3?new x(we>>8&15|we>>4&240,we>>4&15|we&240,(we&15)<<4|we&15,1):ke===8?C(we>>24&255,we>>16&255,we>>8&255,(we&255)/255):ke===4?C(we>>12&15|we>>8&240,we>>8&15|we>>4&240,we>>4&15|we&240,((we&15)<<4|we&15)/255):null):(we=l.exec(be))?new x(we[1],we[2],we[3],1):(we=n.exec(be))?new x(we[1]*255/100,we[2]*255/100,we[3]*255/100,1):(we=s.exec(be))?C(we[1],we[2],we[3],we[4]):(we=c.exec(be))?C(we[1]*255/100,we[2]*255/100,we[3]*255/100,we[4]):(we=u.exec(be))?z(we[1],we[2]/100,we[3]/100,1):(we=y.exec(be))?z(we[1],we[2]/100,we[3]/100,we[4]):h.hasOwnProperty(be)?M(h[be]):be==="transparent"?new x(NaN,NaN,NaN,0):null}function M(be){return new x(be>>16&255,be>>8&255,be&255,1)}function C(be,we,ke,Fe){return Fe<=0&&(be=we=ke=NaN),new x(be,we,ke,Fe)}function m(be){return be instanceof i||(be=A(be)),be?(be=be.rgb(),new x(be.r,be.g,be.b,be.opacity)):new x}function S(be,we,ke,Fe){return arguments.length===1?m(be):new x(be,we,ke,Fe??1)}function x(be,we,ke,Fe){this.r=+be,this.g=+we,this.b=+ke,this.opacity=+Fe}g(x,S,R(i,{brighter:function(we){return we=we==null?T:Math.pow(T,we),new x(this.r*we,this.g*we,this.b*we,this.opacity)},darker:function(we){return we=we==null?L:Math.pow(L,we),new x(this.r*we,this.g*we,this.b*we,this.opacity)},rgb:function(){return this},clamp:function(){return new x(I(this.r),I(this.g),I(this.b),k(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a,formatHex:a,formatHex8:E,formatRgb:w,toString:w}));function a(){return"#".concat(U(this.r)).concat(U(this.g)).concat(U(this.b))}function E(){return"#".concat(U(this.r)).concat(U(this.g)).concat(U(this.b)).concat(U((isNaN(this.opacity)?1:this.opacity)*255))}function w(){var be=k(this.opacity);return"".concat(be===1?"rgb(":"rgba(").concat(I(this.r),", ").concat(I(this.g),", ").concat(I(this.b)).concat(be===1?")":", ".concat(be,")"))}function k(be){return isNaN(be)?1:Math.max(0,Math.min(1,be))}function I(be){return Math.max(0,Math.min(255,Math.round(be)||0))}function U(be){return be=I(be),(be<16?"0":"")+be.toString(16)}function z(be,we,ke,Fe){return Fe<=0?be=we=ke=NaN:ke<=0||ke>=1?be=we=NaN:we<=0&&(be=NaN),new F(be,we,ke,Fe)}function N(be){if(be instanceof F)return new F(be.h,be.s,be.l,be.opacity);if(be instanceof i||(be=A(be)),!be)return new F;if(be instanceof F)return be;be=be.rgb();var we=be.r/255,ke=be.g/255,Fe=be.b/255,Pe=Math.min(we,ke,Fe),Ge=Math.max(we,ke,Fe),nt=NaN,qe=Ge-Pe,Ke=(Ge+Pe)/2;return qe?(we===Ge?nt=(ke-Fe)/qe+(ke<Fe)*6:ke===Ge?nt=(Fe-we)/qe+2:nt=(we-ke)/qe+4,qe/=Ke<.5?Ge+Pe:2-Ge-Pe,nt*=60):qe=Ke>0&&Ke<1?0:nt,new F(nt,qe,Ke,be.opacity)}function B(be,we,ke,Fe){return arguments.length===1?N(be):new F(be,we,ke,Fe??1)}function F(be,we,ke,Fe){this.h=+be,this.s=+we,this.l=+ke,this.opacity=+Fe}g(F,B,R(i,{brighter:function(we){return we=we==null?T:Math.pow(T,we),new F(this.h,this.s,this.l*we,this.opacity)},darker:function(we){return we=we==null?L:Math.pow(L,we),new F(this.h,this.s,this.l*we,this.opacity)},rgb:function(){var we=this.h%360+(this.h<0)*360,ke=isNaN(we)||isNaN(this.s)?0:this.s,Fe=this.l,Pe=Fe+(Fe<.5?Fe:1-Fe)*ke,Ge=2*Fe-Pe;return new x(q(we>=240?we-240:we+120,Ge,Pe),q(we,Ge,Pe),q(we<120?we+240:we-120,Ge,Pe),this.opacity)},clamp:function(){return new F(H(this.h),X(this.s),X(this.l),k(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var we=k(this.opacity);return"".concat(we===1?"hsl(":"hsla(").concat(H(this.h),", ").concat(X(this.s)*100,"%, ").concat(X(this.l)*100,"%").concat(we===1?")":", ".concat(we,")"))}}));function H(be){return be=(be||0)%360,be<0?be+360:be}function X(be){return Math.max(0,Math.min(1,be||0))}function q(be,we,ke){return(be<60?we+(ke-we)*be/60:be<180?ke:be<240?we+(ke-we)*(240-be)/60:we)*255}var ne=function(be){return function(){return be}};function oe(be,we){return function(ke){return be+ke*we}}function ve(be,we,ke){return be=Math.pow(be,ke),we=Math.pow(we,ke)-be,ke=1/ke,function(Fe){return Math.pow(be+Fe*we,ke)}}function J(be){return(be=+be)==1?Y:function(we,ke){return ke-we?ve(we,ke,be):ne(isNaN(we)?ke:we)}}function Y(be,we){var ke=we-be;return ke?oe(be,ke):ne(isNaN(be)?we:be)}var j=function be(we){var ke=J(we);function Fe(Pe,Ge){var nt=ke((Pe=S(Pe)).r,(Ge=S(Ge)).r),qe=ke(Pe.g,Ge.g),Ke=ke(Pe.b,Ge.b),$e=Y(Pe.opacity,Ge.opacity);return function(vt){return Pe.r=nt(vt),Pe.g=qe(vt),Pe.b=Ke(vt),Pe.opacity=$e(vt),Pe+""}}return Fe.gamma=be,Fe}(1);function K(be,we){var ke=we?we.length:0,Fe=be?Math.min(ke,be.length):0,Pe=new Array(Fe),Ge=new Array(ke),nt;for(nt=0;nt<Fe;++nt)Pe[nt]=Ce(be[nt],we[nt]);for(;nt<ke;++nt)Ge[nt]=we[nt];return function(qe){for(nt=0;nt<Fe;++nt)Ge[nt]=Pe[nt](qe);return Ge}}function te(be,we){var ke=new Date;return be=+be,we=+we,function(Fe){return ke.setTime(be*(1-Fe)+we*Fe),ke}}function se(be,we){return be=+be,we=+we,function(ke){return be*(1-ke)+we*ke}}function Q(be){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we},Q(be)}function ee(be,we){var ke={},Fe={},Pe;(be===null||Q(be)!=="object")&&(be={}),(we===null||Q(we)!=="object")&&(we={});for(Pe in we)Pe in be?ke[Pe]=Ce(be[Pe],we[Pe]):Fe[Pe]=we[Pe];return function(Ge){for(Pe in ke)Fe[Pe]=ke[Pe](Ge);return Fe}}var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ie=new RegExp(le.source,"g");function he(be){return function(){return be}}function xe(be){return function(we){return be(we)+""}}function Se(be,we){var ke=le.lastIndex=ie.lastIndex=0,Fe,Pe,Ge,nt=-1,qe=[],Ke=[];for(be=be+"",we=we+"";(Fe=le.exec(be))&&(Pe=ie.exec(we));)(Ge=Pe.index)>ke&&(Ge=we.slice(ke,Ge),qe[nt]?qe[nt]+=Ge:qe[++nt]=Ge),(Fe=Fe[0])===(Pe=Pe[0])?qe[nt]?qe[nt]+=Pe:qe[++nt]=Pe:(qe[++nt]=null,Ke.push({i:nt,x:se(Fe,Pe)})),ke=ie.lastIndex;return ke<we.length&&(Ge=we.slice(ke),qe[nt]?qe[nt]+=Ge:qe[++nt]=Ge),qe.length<2?Ke[0]?xe(Ke[0].x):he(we):(we=Ke.length,function($e){for(var vt=0,yt;vt<we;++vt)qe[(yt=Ke[vt]).i]=yt.x($e);return qe.join("")})}function Ee(be,we){we||(we=[]);var ke=be?Math.min(we.length,be.length):0,Fe=we.slice(),Pe;return function(Ge){for(Pe=0;Pe<ke;++Pe)Fe[Pe]=be[Pe]*(1-Ge)+we[Pe]*Ge;return Fe}}function Ne(be){return ArrayBuffer.isView(be)&&!(be instanceof DataView)}function He(be){"@babel/helpers - typeof";return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we},He(be)}function Ce(be,we){var ke=He(we),Fe;return we==null||ke==="boolean"?ne(we):(ke==="number"?se:ke==="string"?(Fe=A(we))?(we=Fe,j):Se:we instanceof A?j:we instanceof Date?te:Ne(we)?Ee:Array.isArray(we)?K:typeof we.valueOf!="function"&&typeof we.toString!="function"||isNaN(we)?ee:se)(be,we)}},40402:function(G){G.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(G){G.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(G){G.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(G){G.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(G){G.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(G){G.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},ce={};function Ae(G){var V=ce[G];if(V!==void 0)return V.exports;var e=ce[G]={exports:{}};return $[G].call(e.exports,e,e.exports,Ae),e.exports}(function(){Ae.n=function(G){var V=G&&G.__esModule?function(){return G.default}:function(){return G};return Ae.d(V,{a:V}),V}})(),function(){Ae.d=function(G,V){for(var e in V)Ae.o(V,e)&&!Ae.o(G,e)&&Object.defineProperty(G,e,{enumerable:!0,get:V[e]})}}(),function(){Ae.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){Ae.o=function(G,V){return Object.prototype.hasOwnProperty.call(G,V)}}(),function(){Ae.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})}}();var ze=Ae(27909);return ze}()})})(t4);var A9=t4.exports;(function(P){Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0;var O=ce(QA),$=ce(A9);function ce(G){return G&&G.__esModule?G:{default:G}}var Ae=(0,O.default)($.default),ze=Ae;P.default=ze})(JA);const M9=hx(JA);var sx={exports:{}};(function(P,O){(function($,ce){{var Ae=ce();P&&P.exports&&(O=P.exports=Ae),O.randomColor=Ae}})(eT,function(){var $=null,ce={};r();var Ae=[],ze=function(y){if(y=y||{},y.seed!==void 0&&y.seed!==null&&y.seed===parseInt(y.seed,10))$=y.seed;else if(typeof y.seed=="string")$=c(y.seed);else{if(y.seed!==void 0&&y.seed!==null)throw new TypeError("The seed value must be an integer or string");$=null}var h,b,f;if(y.count!==null&&y.count!==void 0){for(var o=y.count,d=[],A=0;A<y.count;A++)Ae.push(!1);for(y.count=null;o>d.length;){var M=ze(y);$!==null&&(y.seed=$),d.push(M)}return y.count=o,d}return h=G(y),b=V(h,y),f=e(h,b,y),g([h,b,f],y)};function G(y){if(Ae.length>0){var h=u(y.hue),b=v(h),f=(h[1]-h[0])/Ae.length,o=parseInt((b-h[0])/f);Ae[o]===!0?o=(o+2)%Ae.length:Ae[o]=!0;var d=(h[0]+o*f)%359,A=(h[0]+(o+1)*f)%359;return h=[d,A],b=v(h),b<0&&(b=360+b),b}else{var h=i(y.hue);return b=v(h),b<0&&(b=360+b),b}}function V(y,h){if(h.hue==="monochrome")return 0;if(h.luminosity==="random")return v([0,100]);var b=L(y),f=b[0],o=b[1];switch(h.luminosity){case"bright":f=55;break;case"dark":f=o-10;break;case"light":o=55;break}return v([f,o])}function e(y,h,b){var f=R(y,h),o=100;switch(b.luminosity){case"dark":o=f+20;break;case"light":f=(o+f)/2;break;case"random":f=0,o=100;break}return v([f,o])}function g(y,h){switch(h.format){case"hsvArray":return y;case"hslArray":return s(y);case"hsl":var b=s(y);return"hsl("+b[0]+", "+b[1]+"%, "+b[2]+"%)";case"hsla":var f=s(y),A=h.alpha||Math.random();return"hsla("+f[0]+", "+f[1]+"%, "+f[2]+"%, "+A+")";case"rgbArray":return l(y);case"rgb":var o=l(y);return"rgb("+o.join(", ")+")";case"rgba":var d=l(y),A=h.alpha||Math.random();return"rgba("+d.join(", ")+", "+A+")";default:return p(y)}}function R(y,h){for(var b=T(y).lowerBounds,f=0;f<b.length-1;f++){var o=b[f][0],d=b[f][1],A=b[f+1][0],M=b[f+1][1];if(h>=o&&h<=A){var C=(M-d)/(A-o),m=d-C*o;return C*h+m}}return 0}function i(y){if(typeof parseInt(y)=="number"){var h=parseInt(y);if(h<360&&h>0)return[h,h]}if(typeof y=="string"){if(ce[y]){var b=ce[y];if(b.hueRange)return b.hueRange}else if(y.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var f=n(y)[0];return[f,f]}}return[0,360]}function L(y){return T(y).saturationRange}function T(y){y>=334&&y<=360&&(y-=360);for(var h in ce){var b=ce[h];if(b.hueRange&&y>=b.hueRange[0]&&y<=b.hueRange[1])return ce[h]}return"Color not found"}function v(y){if($===null){var h=.618033988749895,b=Math.random();return b+=h,b%=1,Math.floor(y[0]+b*(y[1]+1-y[0]))}else{var f=y[1]||1,o=y[0]||0;$=($*9301+49297)%233280;var d=$/233280;return Math.floor(o+d*(f-o))}}function p(y){var h=l(y);function b(o){var d=o.toString(16);return d.length==1?"0"+d:d}var f="#"+b(h[0])+b(h[1])+b(h[2]);return f}function t(y,h,b){var f=b[0][0],o=b[b.length-1][0],d=b[b.length-1][1],A=b[0][1];ce[y]={hueRange:h,lowerBounds:b,saturationRange:[f,o],brightnessRange:[d,A]}}function r(){t("monochrome",null,[[0,0],[100,0]]),t("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),t("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),t("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),t("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),t("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),t("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),t("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function l(y){var h=y[0];h===0&&(h=1),h===360&&(h=359),h=h/360;var b=y[1]/100,f=y[2]/100,o=Math.floor(h*6),d=h*6-o,A=f*(1-b),M=f*(1-d*b),C=f*(1-(1-d)*b),m=256,S=256,x=256;switch(o){case 0:m=f,S=C,x=A;break;case 1:m=M,S=f,x=A;break;case 2:m=A,S=f,x=C;break;case 3:m=A,S=M,x=f;break;case 4:m=C,S=A,x=f;break;case 5:m=f,S=A,x=M;break}var a=[Math.floor(m*255),Math.floor(S*255),Math.floor(x*255)];return a}function n(y){y=y.replace(/^#/,""),y=y.length===3?y.replace(/(.)/g,"$1$1"):y;var h=parseInt(y.substr(0,2),16)/255,b=parseInt(y.substr(2,2),16)/255,f=parseInt(y.substr(4,2),16)/255,o=Math.max(h,b,f),d=o-Math.min(h,b,f),A=o?d/o:0;switch(o){case h:return[60*((b-f)/d%6)||0,A,o];case b:return[60*((f-h)/d+2)||0,A,o];case f:return[60*((h-b)/d+4)||0,A,o]}}function s(y){var h=y[0],b=y[1]/100,f=y[2]/100,o=(2-b)*f;return[h,Math.round(b*f/(o<1?o:2-o)*1e4)/100,o/2*100]}function c(y){for(var h=0,b=0;b!==y.length&&!(h>=Number.MAX_SAFE_INTEGER);b++)h+=y.charCodeAt(b);return h}function u(y){if(isNaN(y)){if(typeof y=="string"){if(ce[y]){var b=ce[y];if(b.hueRange)return b.hueRange}else if(y.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var f=n(y)[0];return T(f).hueRange}}}else{var h=parseInt(y);if(h<360&&h>0)return T(y).hueRange}return[0,360]}return ze})})(sx,sx.exports);var S9=sx.exports;const E9=hx(S9);function C9(){const[P,O]=qn.useState({});qn.useEffect(()=>{dv.get("https://apimysql-1-r1261081.deta.app/customers/12/orders").then(ze=>{const G=ze.data,V={};(async()=>{for(const g of G)try{const i=(await dv.get(`https://apimysql-1-r1261081.deta.app/books/${g.id_book}`)).data;V[i.title]?V[i.title]+=g.quantity:V[i.title]=g.quantity}catch(R){Bf.error(R.response.data.detail)}O(V)})()}).catch(ze=>{Bf.error(ze.response.data.detail)})},[]);const $=Object.keys(P),ce=Object.values(P),Ae=E9({count:$.length});return an.jsxs("div",{className:"container mt-4",children:[an.jsx("div",{className:"card",children:an.jsxs("div",{className:"card-body",children:[an.jsx("h5",{className:"card-title text-center",children:"Quels sont les livres que j'ai achets et en combien d'exemplaires ?"}),an.jsx("div",{className:"d-flex justify-content-center",children:an.jsx("div",{className:"plot-container",children:an.jsx(M9,{data:[{type:"bar",x:$,y:ce,marker:{color:Ae}}],layout:{autosize:!0,height:500,xaxis:{ticktext:Array.from({length:$.length},()=>""),tickvals:[],title:"Titre des livres"},yaxis:{title:"Nombre d'exemplaires achets"}},config:{responsive:!0,displaylogo:!1},className:"w-100"})})})]})}),an.jsx(zd,{})]})}function L9(){return an.jsxs("div",{className:"Profile",children:[an.jsx(Jc,{}),an.jsx(y9,{}),an.jsx(C9,{})]})}function P9(){const[P,O]=qn.useState(""),[$,ce]=qn.useState(""),[Ae,ze]=qn.useState(""),[G,V]=qn.useState(""),e=g=>{g.preventDefault();const R={email:P,firstname:Ae,lastname:G,password:$};dv.post("https://apimysql-1-r1261081.deta.app/customers/",R,{withCredentials:!0}).then(i=>{i.data.email?Bf.success("User created!"):Bf.error(i.data.detail)}).catch(i=>{Bf.error(i.response.data.detail)})};return an.jsxs("div",{children:[an.jsxs("div",{children:[an.jsx("input",{type:"email",placeholder:"Email",value:P,onChange:g=>O(g.target.value)}),an.jsx("input",{type:"password",placeholder:"Mot de passe",value:$,onChange:g=>ce(g.target.value)}),an.jsx("input",{type:"firstname",placeholder:"Prenom",value:Ae,onChange:g=>ze(g.target.value)}),an.jsx("input",{type:"lastname",placeholder:"Nom de Famille",value:G,onChange:g=>V(g.target.value)}),an.jsx("input",{type:"submit",value:"Crer un compte",onClick:e})]}),an.jsx(zd,{})," "]})}function R9(){return an.jsxs(an.Fragment,{children:[an.jsx(Jc,{}),an.jsx(P9,{})]})}function _9(){return an.jsxs("div",{children:[an.jsxs("a",{href:"/admin-clients",children:[an.jsx("img",{src:"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fassets.entrepreneur.com%2Fcontent%2F3x2%2F2000%2F1606145100-GettyImages-912803226.jpg&f=1&nofb=1&ipt=83d5dd5a0e213b72c0853b028ac22ce0c20f77a536c46dfbb3dab32f5153e9e5&ipo=images",alt:"clients"}),"Clients"]}),an.jsxs("a",{href:"/admin-books",children:[an.jsx("img",{src:"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2F2.bp.blogspot.com%2F-Zslk3dNXp4E%2FVmXHfVC6UAI%2FAAAAAAAAA1U%2FVcVOe6TClbg%2Fs1600%2FOld%252Bbooks.jpg&f=1&nofb=1&ipt=360b8b812fbfa9270ade7459789ca4e6bf4c5766400a06600200aed53fbeb8c9&ipo=images",alt:"livres"}),"Livres"]}),an.jsxs("a",{href:"#",children:[an.jsx("img",{src:"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.thebluediamondgallery.com%2Fhandwriting%2Fimages%2Findex.jpg&f=1&nofb=1&ipt=895a5a415c8059a24cbbfce6f7442dcbc3e7d98fe0be52fde5c3716632c5db89&ipo=images",alt:"indexation"}),"Indexation"]})]})}function D9(){return an.jsxs(an.Fragment,{children:[an.jsx(Jc,{}),an.jsx(_9,{})]})}var p2={},r4={exports:{}};(function(P){function O($){return $&&$.__esModule?$:{default:$}}P.exports=O,P.exports.__esModule=!0,P.exports.default=P.exports})(r4);var g2=r4.exports,qm={};function Jv(P){return P!==null&&typeof P=="object"&&P.constructor===Object}function n4(P){if(!Jv(P))return P;const O={};return Object.keys(P).forEach($=>{O[$]=n4(P[$])}),O}function Hc(P,O,$={clone:!0}){const ce=$.clone?{...P}:P;return Jv(P)&&Jv(O)&&Object.keys(O).forEach(Ae=>{Ae!=="__proto__"&&(Jv(O[Ae])&&Ae in P&&Jv(P[Ae])?ce[Ae]=Hc(P[Ae],O[Ae],$):$.clone?ce[Ae]=Jv(O[Ae])?n4(O[Ae]):O[Ae]:ce[Ae]=O[Ae])}),ce}function Pd(P){let O="https://mui.com/production-error/?code="+P;for(let $=1;$<arguments.length;$+=1)O+="&args[]="+encodeURIComponent(arguments[$]);return"Minified MUI error #"+P+"; visit "+O+" for the full message."}function dc(P){if(typeof P!="string")throw new Error(Pd(7));return P.charAt(0).toUpperCase()+P.slice(1)}function k9(...P){return P.reduce((O,$)=>$==null?O:function(...Ae){O.apply(this,Ae),$.apply(this,Ae)},()=>{})}function I9(P,O=166){let $;function ce(...Ae){const ze=()=>{P.apply(this,Ae)};clearTimeout($),$=setTimeout(ze,O)}return ce.clear=()=>{clearTimeout($)},ce}function F9(P,O){return()=>null}function z9(P,O){return qn.isValidElement(P)&&O.indexOf(P.type.muiName)!==-1}function a4(P){return P&&P.ownerDocument||document}function O9(P){return a4(P).defaultView||window}function N9(P,O){return()=>null}function i4(P,O){typeof P=="function"?P(O):P&&(P.current=O)}const B9=typeof window<"u"?qn.useLayoutEffect:qn.useEffect,o4=B9;let _w=0;function U9(P){const[O,$]=qn.useState(P),ce=P||O;return qn.useEffect(()=>{O==null&&(_w+=1,$(`mui-${_w}`))},[O]),ce}const Dw=Fp["useId".toString()];function H9(P){if(Dw!==void 0){const O=Dw();return P??O}return U9(P)}function V9(P,O,$,ce,Ae){return null}function G9({controlled:P,default:O,name:$,state:ce="value"}){const{current:Ae}=qn.useRef(P!==void 0),[ze,G]=qn.useState(O),V=Ae?P:ze,e=qn.useCallback(g=>{Ae||G(g)},[]);return[V,e]}function W9(P){const O=qn.useRef(P);return o4(()=>{O.current=P}),qn.useCallback((...$)=>(0,O.current)(...$),[])}function j9(...P){return qn.useMemo(()=>P.every(O=>O==null)?null:O=>{P.forEach($=>{i4($,O)})},P)}let Fy=!0,lx=!1,kw;const Y9={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Z9(P){const{type:O,tagName:$}=P;return!!($==="INPUT"&&Y9[O]&&!P.readOnly||$==="TEXTAREA"&&!P.readOnly||P.isContentEditable)}function X9(P){P.metaKey||P.altKey||P.ctrlKey||(Fy=!0)}function e1(){Fy=!1}function K9(){this.visibilityState==="hidden"&&lx&&(Fy=!0)}function J9(P){P.addEventListener("keydown",X9,!0),P.addEventListener("mousedown",e1,!0),P.addEventListener("pointerdown",e1,!0),P.addEventListener("touchstart",e1,!0),P.addEventListener("visibilitychange",K9,!0)}function Q9(P){const{target:O}=P;try{return O.matches(":focus-visible")}catch{}return Fy||Z9(O)}function $9(){const P=qn.useCallback(Ae=>{Ae!=null&&J9(Ae.ownerDocument)},[]),O=qn.useRef(!1);function $(){return O.current?(lx=!0,window.clearTimeout(kw),kw=window.setTimeout(()=>{lx=!1},100),O.current=!1,!0):!1}function ce(Ae){return Q9(Ae)?(O.current=!0,!0):!1}return{isFocusVisibleRef:O,onFocus:ce,onBlur:$,ref:P}}function s4(P,O){const $={...O};return Object.keys(P).forEach(ce=>{if(ce.toString().match(/^(components|slots)$/))$[ce]={...P[ce],...$[ce]};else if(ce.toString().match(/^(componentsProps|slotProps)$/)){const Ae=P[ce]||{},ze=O[ce];$[ce]={},!ze||!Object.keys(ze)?$[ce]=Ae:!Ae||!Object.keys(Ae)?$[ce]=ze:($[ce]={...ze},Object.keys(Ae).forEach(G=>{$[ce][G]=s4(Ae[G],ze[G])}))}else $[ce]===void 0&&($[ce]=P[ce])}),$}function q9(P,O,$=void 0){const ce={};return Object.keys(P).forEach(Ae=>{ce[Ae]=P[Ae].reduce((ze,G)=>{if(G){const V=O(G);V!==""&&ze.push(V),$&&$[G]&&ze.push($[G])}return ze},[]).join(" ")}),ce}const Iw=P=>P,eP=()=>{let P=Iw;return{configure(O){P=O},generate(O){return P(O)},reset(){P=Iw}}},tP=eP(),l4=tP,rP={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function u4(P,O,$="Mui"){const ce=rP[O];return ce?`${$}-${ce}`:`${l4.generate(P)}-${O}`}function nP(P,O,$="Mui"){const ce={};return O.forEach(Ae=>{ce[Ae]=u4(P,Ae,$)}),ce}function ao(){return ao=Object.assign?Object.assign.bind():function(P){for(var O=1;O<arguments.length;O++){var $=arguments[O];for(var ce in $)Object.prototype.hasOwnProperty.call($,ce)&&(P[ce]=$[ce])}return P},ao.apply(this,arguments)}function Qc(P,O){if(P==null)return{};var $={},ce=Object.keys(P),Ae,ze;for(ze=0;ze<ce.length;ze++)Ae=ce[ze],!(O.indexOf(Ae)>=0)&&($[Ae]=P[Ae]);return $}function f4(P){var O,$,ce="";if(typeof P=="string"||typeof P=="number")ce+=P;else if(typeof P=="object")if(Array.isArray(P))for(O=0;O<P.length;O++)P[O]&&($=f4(P[O]))&&(ce&&(ce+=" "),ce+=$);else for(O in P)P[O]&&(ce&&(ce+=" "),ce+=O);return ce}function aP(){for(var P,O,$=0,ce="";$<arguments.length;)(P=arguments[$++])&&(O=f4(P))&&(ce&&(ce+=" "),ce+=O);return ce}function c4(P){var O=Object.create(null);return function($){return O[$]===void 0&&(O[$]=P($)),O[$]}}var iP=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oP=c4(function(P){return iP.test(P)||P.charCodeAt(0)===111&&P.charCodeAt(1)===110&&P.charCodeAt(2)<91});function sP(P){if(P.sheet)return P.sheet;for(var O=0;O<document.styleSheets.length;O++)if(document.styleSheets[O].ownerNode===P)return document.styleSheets[O]}function lP(P){var O=document.createElement("style");return O.setAttribute("data-emotion",P.key),P.nonce!==void 0&&O.setAttribute("nonce",P.nonce),O.appendChild(document.createTextNode("")),O.setAttribute("data-s",""),O}var uP=function(){function P($){var ce=this;this._insertTag=function(Ae){var ze;ce.tags.length===0?ce.insertionPoint?ze=ce.insertionPoint.nextSibling:ce.prepend?ze=ce.container.firstChild:ze=ce.before:ze=ce.tags[ce.tags.length-1].nextSibling,ce.container.insertBefore(Ae,ze),ce.tags.push(Ae)},this.isSpeedy=$.speedy===void 0?!0:$.speedy,this.tags=[],this.ctr=0,this.nonce=$.nonce,this.key=$.key,this.container=$.container,this.prepend=$.prepend,this.insertionPoint=$.insertionPoint,this.before=null}var O=P.prototype;return O.hydrate=function(ce){ce.forEach(this._insertTag)},O.insert=function(ce){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(lP(this));var Ae=this.tags[this.tags.length-1];if(this.isSpeedy){var ze=sP(Ae);try{ze.insertRule(ce,ze.cssRules.length)}catch{}}else Ae.appendChild(document.createTextNode(ce));this.ctr++},O.flush=function(){this.tags.forEach(function(ce){return ce.parentNode&&ce.parentNode.removeChild(ce)}),this.tags=[],this.ctr=0},P}(),Dl="-ms-",uy="-moz-",lo="-webkit-",h4="comm",y2="rule",m2="decl",fP="@import",v4="@keyframes",cP="@layer",hP=Math.abs,zy=String.fromCharCode,vP=Object.assign;function dP(P,O){return vl(P,0)^45?(((O<<2^vl(P,0))<<2^vl(P,1))<<2^vl(P,2))<<2^vl(P,3):0}function d4(P){return P.trim()}function pP(P,O){return(P=O.exec(P))?P[0]:P}function uo(P,O,$){return P.replace(O,$)}function ux(P,O){return P.indexOf(O)}function vl(P,O){return P.charCodeAt(O)|0}function t0(P,O,$){return P.slice(O,$)}function sc(P){return P.length}function x2(P){return P.length}function cg(P,O){return O.push(P),P}function gP(P,O){return P.map(O).join("")}var Oy=1,Rd=1,p4=0,pu=0,Ps=0,Od="";function Ny(P,O,$,ce,Ae,ze,G){return{value:P,root:O,parent:$,type:ce,props:Ae,children:ze,line:Oy,column:Rd,length:G,return:""}}function yp(P,O){return vP(Ny("",null,null,"",null,null,0),P,{length:-P.length},O)}function yP(){return Ps}function mP(){return Ps=pu>0?vl(Od,--pu):0,Rd--,Ps===10&&(Rd=1,Oy--),Ps}function zu(){return Ps=pu<p4?vl(Od,pu++):0,Rd++,Ps===10&&(Rd=1,Oy++),Ps}function pc(){return vl(Od,pu)}function _g(){return pu}function g0(P,O){return t0(Od,P,O)}function r0(P){switch(P){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function g4(P){return Oy=Rd=1,p4=sc(Od=P),pu=0,[]}function y4(P){return Od="",P}function Dg(P){return d4(g0(pu-1,fx(P===91?P+2:P===40?P+1:P)))}function xP(P){for(;(Ps=pc())&&Ps<33;)zu();return r0(P)>2||r0(Ps)>3?"":" "}function bP(P,O){for(;--O&&zu()&&!(Ps<48||Ps>102||Ps>57&&Ps<65||Ps>70&&Ps<97););return g0(P,_g()+(O<6&&pc()==32&&zu()==32))}function fx(P){for(;zu();)switch(Ps){case P:return pu;case 34:case 39:P!==34&&P!==39&&fx(Ps);break;case 40:P===41&&fx(P);break;case 92:zu();break}return pu}function wP(P,O){for(;zu()&&P+Ps!==47+10;)if(P+Ps===42+42&&pc()===47)break;return"/*"+g0(O,pu-1)+"*"+zy(P===47?P:zu())}function TP(P){for(;!r0(pc());)zu();return g0(P,pu)}function AP(P){return y4(kg("",null,null,null,[""],P=g4(P),0,[0],P))}function kg(P,O,$,ce,Ae,ze,G,V,e){for(var g=0,R=0,i=G,L=0,T=0,v=0,p=1,t=1,r=1,l=0,n="",s=Ae,c=ze,u=ce,y=n;t;)switch(v=l,l=zu()){case 40:if(v!=108&&vl(y,i-1)==58){ux(y+=uo(Dg(l),"&","&\f"),"&\f")!=-1&&(r=-1);break}case 34:case 39:case 91:y+=Dg(l);break;case 9:case 10:case 13:case 32:y+=xP(v);break;case 92:y+=bP(_g()-1,7);continue;case 47:switch(pc()){case 42:case 47:cg(MP(wP(zu(),_g()),O,$),e);break;default:y+="/"}break;case 123*p:V[g++]=sc(y)*r;case 125*p:case 59:case 0:switch(l){case 0:case 125:t=0;case 59+R:r==-1&&(y=uo(y,/\f/g,"")),T>0&&sc(y)-i&&cg(T>32?zw(y+";",ce,$,i-1):zw(uo(y," ","")+";",ce,$,i-2),e);break;case 59:y+=";";default:if(cg(u=Fw(y,O,$,g,R,Ae,V,n,s=[],c=[],i),ze),l===123)if(R===0)kg(y,O,u,u,s,ze,i,V,c);else switch(L===99&&vl(y,3)===110?100:L){case 100:case 108:case 109:case 115:kg(P,u,u,ce&&cg(Fw(P,u,u,0,0,Ae,V,n,Ae,s=[],i),c),Ae,c,i,V,ce?s:c);break;default:kg(y,u,u,u,[""],c,0,V,c)}}g=R=T=0,p=r=1,n=y="",i=G;break;case 58:i=1+sc(y),T=v;default:if(p<1){if(l==123)--p;else if(l==125&&p++==0&&mP()==125)continue}switch(y+=zy(l),l*p){case 38:r=R>0?1:(y+="\f",-1);break;case 44:V[g++]=(sc(y)-1)*r,r=1;break;case 64:pc()===45&&(y+=Dg(zu())),L=pc(),R=i=sc(n=y+=TP(_g())),l++;break;case 45:v===45&&sc(y)==2&&(p=0)}}return ze}function Fw(P,O,$,ce,Ae,ze,G,V,e,g,R){for(var i=Ae-1,L=Ae===0?ze:[""],T=x2(L),v=0,p=0,t=0;v<ce;++v)for(var r=0,l=t0(P,i+1,i=hP(p=G[v])),n=P;r<T;++r)(n=d4(p>0?L[r]+" "+l:uo(l,/&\f/g,L[r])))&&(e[t++]=n);return Ny(P,O,$,Ae===0?y2:V,e,g,R)}function MP(P,O,$){return Ny(P,O,$,h4,zy(yP()),t0(P,2,-2),0)}function zw(P,O,$,ce){return Ny(P,O,$,m2,t0(P,0,ce),t0(P,ce+1,-1),ce)}function md(P,O){for(var $="",ce=x2(P),Ae=0;Ae<ce;Ae++)$+=O(P[Ae],Ae,P,O)||"";return $}function SP(P,O,$,ce){switch(P.type){case cP:if(P.children.length)break;case fP:case m2:return P.return=P.return||P.value;case h4:return"";case v4:return P.return=P.value+"{"+md(P.children,ce)+"}";case y2:P.value=P.props.join(",")}return sc($=md(P.children,ce))?P.return=P.value+"{"+$+"}":""}function EP(P){var O=x2(P);return function($,ce,Ae,ze){for(var G="",V=0;V<O;V++)G+=P[V]($,ce,Ae,ze)||"";return G}}function CP(P){return function(O){O.root||(O=O.return)&&P(O)}}var LP=function(O,$,ce){for(var Ae=0,ze=0;Ae=ze,ze=pc(),Ae===38&&ze===12&&($[ce]=1),!r0(ze);)zu();return g0(O,pu)},PP=function(O,$){var ce=-1,Ae=44;do switch(r0(Ae)){case 0:Ae===38&&pc()===12&&($[ce]=1),O[ce]+=LP(pu-1,$,ce);break;case 2:O[ce]+=Dg(Ae);break;case 4:if(Ae===44){O[++ce]=pc()===58?"&\f":"",$[ce]=O[ce].length;break}default:O[ce]+=zy(Ae)}while(Ae=zu());return O},RP=function(O,$){return y4(PP(g4(O),$))},Ow=new WeakMap,_P=function(O){if(!(O.type!=="rule"||!O.parent||O.length<1)){for(var $=O.value,ce=O.parent,Ae=O.column===ce.column&&O.line===ce.line;ce.type!=="rule";)if(ce=ce.parent,!ce)return;if(!(O.props.length===1&&$.charCodeAt(0)!==58&&!Ow.get(ce))&&!Ae){Ow.set(O,!0);for(var ze=[],G=RP($,ze),V=ce.props,e=0,g=0;e<G.length;e++)for(var R=0;R<V.length;R++,g++)O.props[g]=ze[e]?G[e].replace(/&\f/g,V[R]):V[R]+" "+G[e]}}},DP=function(O){if(O.type==="decl"){var $=O.value;$.charCodeAt(0)===108&&$.charCodeAt(2)===98&&(O.return="",O.value="")}};function m4(P,O){switch(dP(P,O)){case 5103:return lo+"print-"+P+P;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return lo+P+P;case 5349:case 4246:case 4810:case 6968:case 2756:return lo+P+uy+P+Dl+P+P;case 6828:case 4268:return lo+P+Dl+P+P;case 6165:return lo+P+Dl+"flex-"+P+P;case 5187:return lo+P+uo(P,/(\w+).+(:[^]+)/,lo+"box-$1$2"+Dl+"flex-$1$2")+P;case 5443:return lo+P+Dl+"flex-item-"+uo(P,/flex-|-self/,"")+P;case 4675:return lo+P+Dl+"flex-line-pack"+uo(P,/align-content|flex-|-self/,"")+P;case 5548:return lo+P+Dl+uo(P,"shrink","negative")+P;case 5292:return lo+P+Dl+uo(P,"basis","preferred-size")+P;case 6060:return lo+"box-"+uo(P,"-grow","")+lo+P+Dl+uo(P,"grow","positive")+P;case 4554:return lo+uo(P,/([^-])(transform)/g,"$1"+lo+"$2")+P;case 6187:return uo(uo(uo(P,/(zoom-|grab)/,lo+"$1"),/(image-set)/,lo+"$1"),P,"")+P;case 5495:case 3959:return uo(P,/(image-set\([^]*)/,lo+"$1$`$1");case 4968:return uo(uo(P,/(.+:)(flex-)?(.*)/,lo+"box-pack:$3"+Dl+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+lo+P+P;case 4095:case 3583:case 4068:case 2532:return uo(P,/(.+)-inline(.+)/,lo+"$1$2")+P;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(sc(P)-1-O>6)switch(vl(P,O+1)){case 109:if(vl(P,O+4)!==45)break;case 102:return uo(P,/(.+:)(.+)-([^]+)/,"$1"+lo+"$2-$3$1"+uy+(vl(P,O+3)==108?"$3":"$2-$3"))+P;case 115:return~ux(P,"stretch")?m4(uo(P,"stretch","fill-available"),O)+P:P}break;case 4949:if(vl(P,O+1)!==115)break;case 6444:switch(vl(P,sc(P)-3-(~ux(P,"!important")&&10))){case 107:return uo(P,":",":"+lo)+P;case 101:return uo(P,/(.+:)([^;!]+)(;|!.+)?/,"$1"+lo+(vl(P,14)===45?"inline-":"")+"box$3$1"+lo+"$2$3$1"+Dl+"$2box$3")+P}break;case 5936:switch(vl(P,O+11)){case 114:return lo+P+Dl+uo(P,/[svh]\w+-[tblr]{2}/,"tb")+P;case 108:return lo+P+Dl+uo(P,/[svh]\w+-[tblr]{2}/,"tb-rl")+P;case 45:return lo+P+Dl+uo(P,/[svh]\w+-[tblr]{2}/,"lr")+P}return lo+P+Dl+P+P}return P}var kP=function(O,$,ce,Ae){if(O.length>-1&&!O.return)switch(O.type){case m2:O.return=m4(O.value,O.length);break;case v4:return md([yp(O,{value:uo(O.value,"@","@"+lo)})],Ae);case y2:if(O.length)return gP(O.props,function(ze){switch(pP(ze,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return md([yp(O,{props:[uo(ze,/:(read-\w+)/,":"+uy+"$1")]})],Ae);case"::placeholder":return md([yp(O,{props:[uo(ze,/:(plac\w+)/,":"+lo+"input-$1")]}),yp(O,{props:[uo(ze,/:(plac\w+)/,":"+uy+"$1")]}),yp(O,{props:[uo(ze,/:(plac\w+)/,Dl+"input-$1")]})],Ae)}return""})}},IP=[kP],FP=function(O){var $=O.key;if($==="css"){var ce=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(ce,function(p){var t=p.getAttribute("data-emotion");t.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var Ae=O.stylisPlugins||IP,ze={},G,V=[];G=O.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+$+' "]'),function(p){for(var t=p.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)ze[t[r]]=!0;V.push(p)});var e,g=[_P,DP];{var R,i=[SP,CP(function(p){R.insert(p)})],L=EP(g.concat(Ae,i)),T=function(t){return md(AP(t),L)};e=function(t,r,l,n){R=l,T(t?t+"{"+r.styles+"}":r.styles),n&&(v.inserted[r.name]=!0)}}var v={key:$,sheet:new uP({key:$,container:G,nonce:O.nonce,speedy:O.speedy,prepend:O.prepend,insertionPoint:O.insertionPoint}),nonce:O.nonce,inserted:ze,registered:{},insert:e};return v.sheet.hydrate(V),v},zP=!0;function OP(P,O,$){var ce="";return $.split(" ").forEach(function(Ae){P[Ae]!==void 0?O.push(P[Ae]+";"):ce+=Ae+" "}),ce}var x4=function(O,$,ce){var Ae=O.key+"-"+$.name;(ce===!1||zP===!1)&&O.registered[Ae]===void 0&&(O.registered[Ae]=$.styles)},NP=function(O,$,ce){x4(O,$,ce);var Ae=O.key+"-"+$.name;if(O.inserted[$.name]===void 0){var ze=$;do O.insert($===ze?"."+Ae:"",ze,O.sheet,!0),ze=ze.next;while(ze!==void 0)}};function BP(P){for(var O=0,$,ce=0,Ae=P.length;Ae>=4;++ce,Ae-=4)$=P.charCodeAt(ce)&255|(P.charCodeAt(++ce)&255)<<8|(P.charCodeAt(++ce)&255)<<16|(P.charCodeAt(++ce)&255)<<24,$=($&65535)*1540483477+(($>>>16)*59797<<16),$^=$>>>24,O=($&65535)*1540483477+(($>>>16)*59797<<16)^(O&65535)*1540483477+((O>>>16)*59797<<16);switch(Ae){case 3:O^=(P.charCodeAt(ce+2)&255)<<16;case 2:O^=(P.charCodeAt(ce+1)&255)<<8;case 1:O^=P.charCodeAt(ce)&255,O=(O&65535)*1540483477+((O>>>16)*59797<<16)}return O^=O>>>13,O=(O&65535)*1540483477+((O>>>16)*59797<<16),((O^O>>>15)>>>0).toString(36)}var UP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},HP=/[A-Z]|^ms/g,VP=/_EMO_([^_]+?)_([^]*?)_EMO_/g,b4=function(O){return O.charCodeAt(1)===45},Nw=function(O){return O!=null&&typeof O!="boolean"},t1=c4(function(P){return b4(P)?P:P.replace(HP,"-$&").toLowerCase()}),Bw=function(O,$){switch(O){case"animation":case"animationName":if(typeof $=="string")return $.replace(VP,function(ce,Ae,ze){return lc={name:Ae,styles:ze,next:lc},Ae})}return UP[O]!==1&&!b4(O)&&typeof $=="number"&&$!==0?$+"px":$};function n0(P,O,$){if($==null)return"";if($.__emotion_styles!==void 0)return $;switch(typeof $){case"boolean":return"";case"object":{if($.anim===1)return lc={name:$.name,styles:$.styles,next:lc},$.name;if($.styles!==void 0){var ce=$.next;if(ce!==void 0)for(;ce!==void 0;)lc={name:ce.name,styles:ce.styles,next:lc},ce=ce.next;var Ae=$.styles+";";return Ae}return GP(P,O,$)}case"function":{if(P!==void 0){var ze=lc,G=$(P);return lc=ze,n0(P,O,G)}break}}if(O==null)return $;var V=O[$];return V!==void 0?V:$}function GP(P,O,$){var ce="";if(Array.isArray($))for(var Ae=0;Ae<$.length;Ae++)ce+=n0(P,O,$[Ae])+";";else for(var ze in $){var G=$[ze];if(typeof G!="object")O!=null&&O[G]!==void 0?ce+=ze+"{"+O[G]+"}":Nw(G)&&(ce+=t1(ze)+":"+Bw(ze,G)+";");else if(Array.isArray(G)&&typeof G[0]=="string"&&(O==null||O[G[0]]===void 0))for(var V=0;V<G.length;V++)Nw(G[V])&&(ce+=t1(ze)+":"+Bw(ze,G[V])+";");else{var e=n0(P,O,G);switch(ze){case"animation":case"animationName":{ce+=t1(ze)+":"+e+";";break}default:ce+=ze+"{"+e+"}"}}}return ce}var Uw=/label:\s*([^\s;\n{]+)\s*(;|$)/g,lc,WP=function(O,$,ce){if(O.length===1&&typeof O[0]=="object"&&O[0]!==null&&O[0].styles!==void 0)return O[0];var Ae=!0,ze="";lc=void 0;var G=O[0];G==null||G.raw===void 0?(Ae=!1,ze+=n0(ce,$,G)):ze+=G[0];for(var V=1;V<O.length;V++)ze+=n0(ce,$,O[V]),Ae&&(ze+=G[V]);Uw.lastIndex=0;for(var e="",g;(g=Uw.exec(ze))!==null;)e+="-"+g[1];var R=BP(ze)+e;return{name:R,styles:ze,next:lc}},jP=function(O){return O()},YP=Fp["useInsertionEffect"]?Fp["useInsertionEffect"]:!1,ZP=YP||jP,w4=qn.createContext(typeof HTMLElement<"u"?FP({key:"css"}):null);w4.Provider;var XP=function(O){return qn.forwardRef(function($,ce){var Ae=qn.useContext(w4);return O($,Ae,ce)})},T4=qn.createContext({}),KP=oP,JP=function(O){return O!=="theme"},Hw=function(O){return typeof O=="string"&&O.charCodeAt(0)>96?KP:JP},Vw=function(O,$,ce){var Ae;if($){var ze=$.shouldForwardProp;Ae=O.__emotion_forwardProp&&ze?function(G){return O.__emotion_forwardProp(G)&&ze(G)}:ze}return typeof Ae!="function"&&ce&&(Ae=O.__emotion_forwardProp),Ae},QP=function(O){var $=O.cache,ce=O.serialized,Ae=O.isStringTag;return x4($,ce,Ae),ZP(function(){return NP($,ce,Ae)}),null},$P=function P(O,$){var ce=O.__emotion_real===O,Ae=ce&&O.__emotion_base||O,ze,G;$!==void 0&&(ze=$.label,G=$.target);var V=Vw(O,$,ce),e=V||Hw(Ae),g=!e("as");return function(){var R=arguments,i=ce&&O.__emotion_styles!==void 0?O.__emotion_styles.slice(0):[];if(ze!==void 0&&i.push("label:"+ze+";"),R[0]==null||R[0].raw===void 0)i.push.apply(i,R);else{i.push(R[0][0]);for(var L=R.length,T=1;T<L;T++)i.push(R[T],R[0][T])}var v=XP(function(p,t,r){var l=g&&p.as||Ae,n="",s=[],c=p;if(p.theme==null){c={};for(var u in p)c[u]=p[u];c.theme=qn.useContext(T4)}typeof p.className=="string"?n=OP(t.registered,s,p.className):p.className!=null&&(n=p.className+" ");var y=WP(i.concat(s),t.registered,c);n+=t.key+"-"+y.name,G!==void 0&&(n+=" "+G);var h=g&&V===void 0?Hw(l):e,b={};for(var f in p)g&&f==="as"||h(f)&&(b[f]=p[f]);return b.className=n,b.ref=r,qn.createElement(qn.Fragment,null,qn.createElement(QP,{cache:t,serialized:y,isStringTag:typeof l=="string"}),qn.createElement(l,b))});return v.displayName=ze!==void 0?ze:"Styled("+(typeof Ae=="string"?Ae:Ae.displayName||Ae.name||"Component")+")",v.defaultProps=O.defaultProps,v.__emotion_real=v,v.__emotion_base=Ae,v.__emotion_styles=i,v.__emotion_forwardProp=V,Object.defineProperty(v,"toString",{value:function(){return"."+G}}),v.withComponent=function(p,t){return P(p,ao({},$,t,{shouldForwardProp:Vw(v,t,!0)})).apply(void 0,i)},v}},qP=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],cx=$P.bind();qP.forEach(function(P){cx[P]=cx(P)});/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function eR(P,O){return cx(P,O)}const tR=(P,O)=>{Array.isArray(P.__emotion_styles)&&(P.__emotion_styles=O(P.__emotion_styles))},rR=["values","unit","step"],nR=P=>{const O=Object.keys(P).map($=>({key:$,val:P[$]}))||[];return O.sort(($,ce)=>$.val-ce.val),O.reduce(($,ce)=>ao({},$,{[ce.key]:ce.val}),{})};function aR(P){const{values:O={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:$="px",step:ce=5}=P,Ae=Qc(P,rR),ze=nR(O),G=Object.keys(ze);function V(L){return`@media (min-width:${typeof O[L]=="number"?O[L]:L}${$})`}function e(L){return`@media (max-width:${(typeof O[L]=="number"?O[L]:L)-ce/100}${$})`}function g(L,T){const v=G.indexOf(T);return`@media (min-width:${typeof O[L]=="number"?O[L]:L}${$}) and (max-width:${(v!==-1&&typeof O[G[v]]=="number"?O[G[v]]:T)-ce/100}${$})`}function R(L){return G.indexOf(L)+1<G.length?g(L,G[G.indexOf(L)+1]):V(L)}function i(L){const T=G.indexOf(L);return T===0?V(G[1]):T===G.length-1?e(G[T]):g(L,G[G.indexOf(L)+1]).replace("@media","@media not all and")}return ao({keys:G,values:ze,up:V,down:e,between:g,only:R,not:i,unit:$},Ae)}const iR={borderRadius:4},oR=iR;function Ip(P,O){return O?Hc(P,O,{clone:!1}):P}const b2={xs:0,sm:600,md:900,lg:1200,xl:1536},Gw={keys:["xs","sm","md","lg","xl"],up:P=>`@media (min-width:${b2[P]}px)`};function Zc(P,O,$){const ce=P.theme||{};if(Array.isArray(O)){const ze=ce.breakpoints||Gw;return O.reduce((G,V,e)=>(G[ze.up(ze.keys[e])]=$(O[e]),G),{})}if(typeof O=="object"){const ze=ce.breakpoints||Gw;return Object.keys(O).reduce((G,V)=>{if(Object.keys(ze.values||b2).indexOf(V)!==-1){const e=ze.up(V);G[e]=$(O[V],V)}else{const e=V;G[e]=O[e]}return G},{})}return $(O)}function sR(P={}){var O;return((O=P.keys)==null?void 0:O.reduce((ce,Ae)=>{const ze=P.up(Ae);return ce[ze]={},ce},{}))||{}}function lR(P,O){return P.reduce(($,ce)=>{const Ae=$[ce];return(!Ae||Object.keys(Ae).length===0)&&delete $[ce],$},O)}function By(P,O,$=!0){if(!O||typeof O!="string")return null;if(P&&P.vars&&$){const ce=`vars.${O}`.split(".").reduce((Ae,ze)=>Ae&&Ae[ze]?Ae[ze]:null,P);if(ce!=null)return ce}return O.split(".").reduce((ce,Ae)=>ce&&ce[Ae]!=null?ce[Ae]:null,P)}function fy(P,O,$,ce=$){let Ae;return typeof P=="function"?Ae=P($):Array.isArray(P)?Ae=P[$]||ce:Ae=By(P,$)||ce,O&&(Ae=O(Ae,ce,P)),Ae}function po(P){const{prop:O,cssProperty:$=P.prop,themeKey:ce,transform:Ae}=P,ze=G=>{if(G[O]==null)return null;const V=G[O],e=G.theme,g=By(e,ce)||{};return Zc(G,V,i=>{let L=fy(g,Ae,i);return i===L&&typeof i=="string"&&(L=fy(g,Ae,`${O}${i==="default"?"":dc(i)}`,i)),$===!1?L:{[$]:L}})};return ze.propTypes={},ze.filterProps=[O],ze}function uR(P){const O={};return $=>(O[$]===void 0&&(O[$]=P($)),O[$])}const fR={m:"margin",p:"padding"},cR={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Ww={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},hR=uR(P=>{if(P.length>2)if(Ww[P])P=Ww[P];else return[P];const[O,$]=P.split(""),ce=fR[O],Ae=cR[$]||"";return Array.isArray(Ae)?Ae.map(ze=>ce+ze):[ce+Ae]}),w2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],T2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...w2,...T2];function y0(P,O,$,ce){var Ae;const ze=(Ae=By(P,O,!1))!=null?Ae:$;return typeof ze=="number"?G=>typeof G=="string"?G:ze*G:Array.isArray(ze)?G=>typeof G=="string"?G:ze[G]:typeof ze=="function"?ze:()=>{}}function A4(P){return y0(P,"spacing",8)}function m0(P,O){if(typeof O=="string"||O==null)return O;const $=Math.abs(O),ce=P($);return O>=0?ce:typeof ce=="number"?-ce:`-${ce}`}function vR(P,O){return $=>P.reduce((ce,Ae)=>(ce[Ae]=m0(O,$),ce),{})}function dR(P,O,$,ce){if(O.indexOf($)===-1)return null;const Ae=hR($),ze=vR(Ae,ce),G=P[$];return Zc(P,G,ze)}function M4(P,O){const $=A4(P.theme);return Object.keys(P).map(ce=>dR(P,O,ce,$)).reduce(Ip,{})}function hs(P){return M4(P,w2)}hs.propTypes={};hs.filterProps=w2;function vs(P){return M4(P,T2)}vs.propTypes={};vs.filterProps=T2;function pR(P=8){if(P.mui)return P;const O=A4({spacing:P}),$=(...ce)=>(ce.length===0?[1]:ce).map(ze=>{const G=O(ze);return typeof G=="number"?`${G}px`:G}).join(" ");return $.mui=!0,$}function Uy(...P){const O=P.reduce((ce,Ae)=>(Ae.filterProps.forEach(ze=>{ce[ze]=Ae}),ce),{}),$=ce=>Object.keys(ce).reduce((Ae,ze)=>O[ze]?Ip(Ae,O[ze](ce)):Ae,{});return $.propTypes={},$.filterProps=P.reduce((ce,Ae)=>ce.concat(Ae.filterProps),[]),$}function fc(P){return typeof P!="number"?P:`${P}px solid`}const gR=po({prop:"border",themeKey:"borders",transform:fc}),yR=po({prop:"borderTop",themeKey:"borders",transform:fc}),mR=po({prop:"borderRight",themeKey:"borders",transform:fc}),xR=po({prop:"borderBottom",themeKey:"borders",transform:fc}),bR=po({prop:"borderLeft",themeKey:"borders",transform:fc}),wR=po({prop:"borderColor",themeKey:"palette"}),TR=po({prop:"borderTopColor",themeKey:"palette"}),AR=po({prop:"borderRightColor",themeKey:"palette"}),MR=po({prop:"borderBottomColor",themeKey:"palette"}),SR=po({prop:"borderLeftColor",themeKey:"palette"}),Hy=P=>{if(P.borderRadius!==void 0&&P.borderRadius!==null){const O=y0(P.theme,"shape.borderRadius",4),$=ce=>({borderRadius:m0(O,ce)});return Zc(P,P.borderRadius,$)}return null};Hy.propTypes={};Hy.filterProps=["borderRadius"];Uy(gR,yR,mR,xR,bR,wR,TR,AR,MR,SR,Hy);const Vy=P=>{if(P.gap!==void 0&&P.gap!==null){const O=y0(P.theme,"spacing",8),$=ce=>({gap:m0(O,ce)});return Zc(P,P.gap,$)}return null};Vy.propTypes={};Vy.filterProps=["gap"];const Gy=P=>{if(P.columnGap!==void 0&&P.columnGap!==null){const O=y0(P.theme,"spacing",8),$=ce=>({columnGap:m0(O,ce)});return Zc(P,P.columnGap,$)}return null};Gy.propTypes={};Gy.filterProps=["columnGap"];const Wy=P=>{if(P.rowGap!==void 0&&P.rowGap!==null){const O=y0(P.theme,"spacing",8),$=ce=>({rowGap:m0(O,ce)});return Zc(P,P.rowGap,$)}return null};Wy.propTypes={};Wy.filterProps=["rowGap"];const ER=po({prop:"gridColumn"}),CR=po({prop:"gridRow"}),LR=po({prop:"gridAutoFlow"}),PR=po({prop:"gridAutoColumns"}),RR=po({prop:"gridAutoRows"}),_R=po({prop:"gridTemplateColumns"}),DR=po({prop:"gridTemplateRows"}),kR=po({prop:"gridTemplateAreas"}),IR=po({prop:"gridArea"});Uy(Vy,Gy,Wy,ER,CR,LR,PR,RR,_R,DR,kR,IR);function xd(P,O){return O==="grey"?O:P}const FR=po({prop:"color",themeKey:"palette",transform:xd}),zR=po({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:xd}),OR=po({prop:"backgroundColor",themeKey:"palette",transform:xd});Uy(FR,zR,OR);function Du(P){return P<=1&&P!==0?`${P*100}%`:P}const NR=po({prop:"width",transform:Du}),A2=P=>{if(P.maxWidth!==void 0&&P.maxWidth!==null){const O=$=>{var ce,Ae,ze;return{maxWidth:((ce=P.theme)==null||(Ae=ce.breakpoints)==null||(ze=Ae.values)==null?void 0:ze[$])||b2[$]||Du($)}};return Zc(P,P.maxWidth,O)}return null};A2.filterProps=["maxWidth"];const BR=po({prop:"minWidth",transform:Du}),UR=po({prop:"height",transform:Du}),HR=po({prop:"maxHeight",transform:Du}),VR=po({prop:"minHeight",transform:Du});po({prop:"size",cssProperty:"width",transform:Du});po({prop:"size",cssProperty:"height",transform:Du});const GR=po({prop:"boxSizing"});Uy(NR,A2,BR,UR,HR,VR,GR);const WR={border:{themeKey:"borders",transform:fc},borderTop:{themeKey:"borders",transform:fc},borderRight:{themeKey:"borders",transform:fc},borderBottom:{themeKey:"borders",transform:fc},borderLeft:{themeKey:"borders",transform:fc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Hy},color:{themeKey:"palette",transform:xd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:xd},backgroundColor:{themeKey:"palette",transform:xd},p:{style:vs},pt:{style:vs},pr:{style:vs},pb:{style:vs},pl:{style:vs},px:{style:vs},py:{style:vs},padding:{style:vs},paddingTop:{style:vs},paddingRight:{style:vs},paddingBottom:{style:vs},paddingLeft:{style:vs},paddingX:{style:vs},paddingY:{style:vs},paddingInline:{style:vs},paddingInlineStart:{style:vs},paddingInlineEnd:{style:vs},paddingBlock:{style:vs},paddingBlockStart:{style:vs},paddingBlockEnd:{style:vs},m:{style:hs},mt:{style:hs},mr:{style:hs},mb:{style:hs},ml:{style:hs},mx:{style:hs},my:{style:hs},margin:{style:hs},marginTop:{style:hs},marginRight:{style:hs},marginBottom:{style:hs},marginLeft:{style:hs},marginX:{style:hs},marginY:{style:hs},marginInline:{style:hs},marginInlineStart:{style:hs},marginInlineEnd:{style:hs},marginBlock:{style:hs},marginBlockStart:{style:hs},marginBlockEnd:{style:hs},displayPrint:{cssProperty:!1,transform:P=>({"@media print":{display:P}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Vy},rowGap:{style:Wy},columnGap:{style:Gy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Du},maxWidth:{style:A2},minWidth:{transform:Du},height:{transform:Du},maxHeight:{transform:Du},minHeight:{transform:Du},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},M2=WR;function jR(...P){const O=P.reduce((ce,Ae)=>ce.concat(Object.keys(Ae)),[]),$=new Set(O);return P.every(ce=>$.size===Object.keys(ce).length)}function YR(P,O){return typeof P=="function"?P(O):P}function ZR(){function P($,ce,Ae,ze){const G={[$]:ce,theme:Ae},V=ze[$];if(!V)return{[$]:ce};const{cssProperty:e=$,themeKey:g,transform:R,style:i}=V;if(ce==null)return null;if(g==="typography"&&ce==="inherit")return{[$]:ce};const L=By(Ae,g)||{};return i?i(G):Zc(G,ce,v=>{let p=fy(L,R,v);return v===p&&typeof v=="string"&&(p=fy(L,R,`${$}${v==="default"?"":dc(v)}`,v)),e===!1?p:{[e]:p}})}function O($){var ce;const{sx:Ae,theme:ze={}}=$||{};if(!Ae)return null;const G=(ce=ze.unstable_sxConfig)!=null?ce:M2;function V(e){let g=e;if(typeof e=="function")g=e(ze);else if(typeof e!="object")return e;if(!g)return null;const R=sR(ze.breakpoints),i=Object.keys(R);let L=R;return Object.keys(g).forEach(T=>{const v=YR(g[T],ze);if(v!=null)if(typeof v=="object")if(G[T])L=Ip(L,P(T,v,ze,G));else{const p=Zc({theme:ze},v,t=>({[T]:t}));jR(p,v)?L[T]=O({sx:v,theme:ze}):L=Ip(L,p)}else L=Ip(L,P(T,v,ze,G))}),lR(i,L)}return Array.isArray(Ae)?Ae.map(V):V(Ae)}return O}const S4=ZR();S4.filterProps=["sx"];const S2=S4,XR=["breakpoints","palette","spacing","shape"];function E2(P={},...O){const{breakpoints:$={},palette:ce={},spacing:Ae,shape:ze={}}=P,G=Qc(P,XR),V=aR($),e=pR(Ae);let g=Hc({breakpoints:V,direction:"ltr",components:{},palette:ao({mode:"light"},ce),spacing:e,shape:ao({},oR,ze)},G);return g=O.reduce((R,i)=>Hc(R,i),g),g.unstable_sxConfig=ao({},M2,G==null?void 0:G.unstable_sxConfig),g.unstable_sx=function(i){return S2({sx:i,theme:this})},g}function KR(P){return Object.keys(P).length===0}function JR(P=null){const O=qn.useContext(T4);return!O||KR(O)?P:O}const QR=E2();function $R(P=QR){return JR(P)}const qR=["variant"];function jw(P){return P.length===0}function E4(P){const{variant:O}=P,$=Qc(P,qR);let ce=O||"";return Object.keys($).sort().forEach(Ae=>{Ae==="color"?ce+=jw(ce)?P[Ae]:dc(P[Ae]):ce+=`${jw(ce)?Ae:dc(Ae)}${dc(P[Ae].toString())}`}),ce}const e_=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function t_(P){return Object.keys(P).length===0}function r_(P){return typeof P=="string"&&P.charCodeAt(0)>96}const n_=(P,O)=>O.components&&O.components[P]&&O.components[P].styleOverrides?O.components[P].styleOverrides:null,a_=(P,O)=>{let $=[];O&&O.components&&O.components[P]&&O.components[P].variants&&($=O.components[P].variants);const ce={};return $.forEach(Ae=>{const ze=E4(Ae.props);ce[ze]=Ae.style}),ce},i_=(P,O,$,ce)=>{var Ae,ze;const{ownerState:G={}}=P,V=[],e=$==null||(Ae=$.components)==null||(ze=Ae[ce])==null?void 0:ze.variants;return e&&e.forEach(g=>{let R=!0;Object.keys(g.props).forEach(i=>{G[i]!==g.props[i]&&P[i]!==g.props[i]&&(R=!1)}),R&&V.push(O[E4(g.props)])}),V};function Ig(P){return P!=="ownerState"&&P!=="theme"&&P!=="sx"&&P!=="as"}const o_=E2();function mp({defaultTheme:P,theme:O,themeId:$}){return t_(O)?P:O[$]||O}function s_(P={}){const{themeId:O,defaultTheme:$=o_,rootShouldForwardProp:ce=Ig,slotShouldForwardProp:Ae=Ig}=P,ze=G=>S2(ao({},G,{theme:mp(ao({},G,{defaultTheme:$,themeId:O}))}));return ze.__mui_systemSx=!0,(G,V={})=>{tR(G,s=>s.filter(c=>!(c!=null&&c.__mui_systemSx)));const{name:e,slot:g,skipVariantsResolver:R,skipSx:i,overridesResolver:L}=V,T=Qc(V,e_),v=R!==void 0?R:g&&g!=="Root"||!1,p=i||!1;let t,r=Ig;g==="Root"?r=ce:g?r=Ae:r_(G)&&(r=void 0);const l=eR(G,ao({shouldForwardProp:r,label:t},T)),n=(s,...c)=>{const u=c?c.map(f=>typeof f=="function"&&f.__emotion_real!==f?o=>f(ao({},o,{theme:mp(ao({},o,{defaultTheme:$,themeId:O}))})):f):[];let y=s;e&&L&&u.push(f=>{const o=mp(ao({},f,{defaultTheme:$,themeId:O})),d=n_(e,o);if(d){const A={};return Object.entries(d).forEach(([M,C])=>{A[M]=typeof C=="function"?C(ao({},f,{theme:o})):C}),L(f,A)}return null}),e&&!v&&u.push(f=>{const o=mp(ao({},f,{defaultTheme:$,themeId:O}));return i_(f,a_(e,o),o,e)}),p||u.push(ze);const h=u.length-c.length;if(Array.isArray(s)&&h>0){const f=new Array(h).fill("");y=[...s,...f],y.raw=[...s.raw,...f]}else typeof s=="function"&&s.__emotion_real!==s&&(y=f=>s(ao({},f,{theme:mp(ao({},f,{defaultTheme:$,themeId:O}))})));const b=l(y,...u);return G.muiName&&(b.muiName=G.muiName),b};return l.withConfig&&(n.withConfig=l.withConfig),n}}function l_(P){const{theme:O,name:$,props:ce}=P;return!O||!O.components||!O.components[$]||!O.components[$].defaultProps?ce:s4(O.components[$].defaultProps,ce)}function u_({props:P,name:O,defaultTheme:$,themeId:ce}){let Ae=$R($);return ce&&(Ae=Ae[ce]||Ae),l_({theme:Ae,name:O,props:P})}function C4(P,O=0,$=1){return Math.min(Math.max(O,P),$)}function f_(P){P=P.slice(1);const O=new RegExp(`.{1,${P.length>=6?2:1}}`,"g");let $=P.match(O);return $&&$[0].length===1&&($=$.map(ce=>ce+ce)),$?`rgb${$.length===4?"a":""}(${$.map((ce,Ae)=>Ae<3?parseInt(ce,16):Math.round(parseInt(ce,16)/255*1e3)/1e3).join(", ")})`:""}function _d(P){if(P.type)return P;if(P.charAt(0)==="#")return _d(f_(P));const O=P.indexOf("("),$=P.substring(0,O);if(["rgb","rgba","hsl","hsla","color"].indexOf($)===-1)throw new Error(Pd(9,P));let ce=P.substring(O+1,P.length-1),Ae;if($==="color"){if(ce=ce.split(" "),Ae=ce.shift(),ce.length===4&&ce[3].charAt(0)==="/"&&(ce[3]=ce[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(Ae)===-1)throw new Error(Pd(10,Ae))}else ce=ce.split(",");return ce=ce.map(ze=>parseFloat(ze)),{type:$,values:ce,colorSpace:Ae}}function C2(P){const{type:O,colorSpace:$}=P;let{values:ce}=P;return O.indexOf("rgb")!==-1?ce=ce.map((Ae,ze)=>ze<3?parseInt(Ae,10):Ae):O.indexOf("hsl")!==-1&&(ce[1]=`${ce[1]}%`,ce[2]=`${ce[2]}%`),O.indexOf("color")!==-1?ce=`${$} ${ce.join(" ")}`:ce=`${ce.join(", ")}`,`${O}(${ce})`}function c_(P){P=_d(P);const{values:O}=P,$=O[0],ce=O[1]/100,Ae=O[2]/100,ze=ce*Math.min(Ae,1-Ae),G=(g,R=(g+$/30)%12)=>Ae-ze*Math.max(Math.min(R-3,9-R,1),-1);let V="rgb";const e=[Math.round(G(0)*255),Math.round(G(8)*255),Math.round(G(4)*255)];return P.type==="hsla"&&(V+="a",e.push(O[3])),C2({type:V,values:e})}function Yw(P){P=_d(P);let O=P.type==="hsl"||P.type==="hsla"?_d(c_(P)).values:P.values;return O=O.map($=>(P.type!=="color"&&($/=255),$<=.03928?$/12.92:(($+.055)/1.055)**2.4)),Number((.2126*O[0]+.7152*O[1]+.0722*O[2]).toFixed(3))}function h_(P,O){const $=Yw(P),ce=Yw(O);return(Math.max($,ce)+.05)/(Math.min($,ce)+.05)}function v_(P,O){if(P=_d(P),O=C4(O),P.type.indexOf("hsl")!==-1)P.values[2]*=1-O;else if(P.type.indexOf("rgb")!==-1||P.type.indexOf("color")!==-1)for(let $=0;$<3;$+=1)P.values[$]*=1-O;return C2(P)}function d_(P,O){if(P=_d(P),O=C4(O),P.type.indexOf("hsl")!==-1)P.values[2]+=(100-P.values[2])*O;else if(P.type.indexOf("rgb")!==-1)for(let $=0;$<3;$+=1)P.values[$]+=(255-P.values[$])*O;else if(P.type.indexOf("color")!==-1)for(let $=0;$<3;$+=1)P.values[$]+=(1-P.values[$])*O;return C2(P)}function p_(P,O){return ao({toolbar:{minHeight:56,[P.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[P.up("sm")]:{minHeight:64}}},O)}const g_={black:"#000",white:"#fff"},a0=g_,y_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},m_=y_,x_={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},jv=x_,b_={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Yv=b_,w_={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},xp=w_,T_={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Zv=T_,A_={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Xv=A_,M_={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Kv=M_,S_=["mode","contrastThreshold","tonalOffset"],Zw={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:a0.white,default:a0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},r1={text:{primary:a0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:a0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Xw(P,O,$,ce){const Ae=ce.light||ce,ze=ce.dark||ce*1.5;P[O]||(P.hasOwnProperty($)?P[O]=P[$]:O==="light"?P.light=d_(P.main,Ae):O==="dark"&&(P.dark=v_(P.main,ze)))}function E_(P="light"){return P==="dark"?{main:Zv[200],light:Zv[50],dark:Zv[400]}:{main:Zv[700],light:Zv[400],dark:Zv[800]}}function C_(P="light"){return P==="dark"?{main:jv[200],light:jv[50],dark:jv[400]}:{main:jv[500],light:jv[300],dark:jv[700]}}function L_(P="light"){return P==="dark"?{main:Yv[500],light:Yv[300],dark:Yv[700]}:{main:Yv[700],light:Yv[400],dark:Yv[800]}}function P_(P="light"){return P==="dark"?{main:Xv[400],light:Xv[300],dark:Xv[700]}:{main:Xv[700],light:Xv[500],dark:Xv[900]}}function R_(P="light"){return P==="dark"?{main:Kv[400],light:Kv[300],dark:Kv[700]}:{main:Kv[800],light:Kv[500],dark:Kv[900]}}function __(P="light"){return P==="dark"?{main:xp[400],light:xp[300],dark:xp[700]}:{main:"#ed6c02",light:xp[500],dark:xp[900]}}function D_(P){const{mode:O="light",contrastThreshold:$=3,tonalOffset:ce=.2}=P,Ae=Qc(P,S_),ze=P.primary||E_(O),G=P.secondary||C_(O),V=P.error||L_(O),e=P.info||P_(O),g=P.success||R_(O),R=P.warning||__(O);function i(p){return h_(p,r1.text.primary)>=$?r1.text.primary:Zw.text.primary}const L=({color:p,name:t,mainShade:r=500,lightShade:l=300,darkShade:n=700})=>{if(p=ao({},p),!p.main&&p[r]&&(p.main=p[r]),!p.hasOwnProperty("main"))throw new Error(Pd(11,t?` (${t})`:"",r));if(typeof p.main!="string")throw new Error(Pd(12,t?` (${t})`:"",JSON.stringify(p.main)));return Xw(p,"light",l,ce),Xw(p,"dark",n,ce),p.contrastText||(p.contrastText=i(p.main)),p},T={dark:r1,light:Zw};return Hc(ao({common:ao({},a0),mode:O,primary:L({color:ze,name:"primary"}),secondary:L({color:G,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:L({color:V,name:"error"}),warning:L({color:R,name:"warning"}),info:L({color:e,name:"info"}),success:L({color:g,name:"success"}),grey:m_,contrastThreshold:$,getContrastText:i,augmentColor:L,tonalOffset:ce},T[O]),Ae)}const k_=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function I_(P){return Math.round(P*1e5)/1e5}const Kw={textTransform:"uppercase"},Jw='"Roboto", "Helvetica", "Arial", sans-serif';function F_(P,O){const $=typeof O=="function"?O(P):O,{fontFamily:ce=Jw,fontSize:Ae=14,fontWeightLight:ze=300,fontWeightRegular:G=400,fontWeightMedium:V=500,fontWeightBold:e=700,htmlFontSize:g=16,allVariants:R,pxToRem:i}=$,L=Qc($,k_),T=Ae/14,v=i||(r=>`${r/g*T}rem`),p=(r,l,n,s,c)=>ao({fontFamily:ce,fontWeight:r,fontSize:v(l),lineHeight:n},ce===Jw?{letterSpacing:`${I_(s/l)}em`}:{},c,R),t={h1:p(ze,96,1.167,-1.5),h2:p(ze,60,1.2,-.5),h3:p(G,48,1.167,0),h4:p(G,34,1.235,.25),h5:p(G,24,1.334,0),h6:p(V,20,1.6,.15),subtitle1:p(G,16,1.75,.15),subtitle2:p(V,14,1.57,.1),body1:p(G,16,1.5,.15),body2:p(G,14,1.43,.15),button:p(V,14,1.75,.4,Kw),caption:p(G,12,1.66,.4),overline:p(G,12,2.66,1,Kw),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Hc(ao({htmlFontSize:g,pxToRem:v,fontFamily:ce,fontSize:Ae,fontWeightLight:ze,fontWeightRegular:G,fontWeightMedium:V,fontWeightBold:e},t),L,{clone:!1})}const z_=.2,O_=.14,N_=.12;function Zo(...P){return[`${P[0]}px ${P[1]}px ${P[2]}px ${P[3]}px rgba(0,0,0,${z_})`,`${P[4]}px ${P[5]}px ${P[6]}px ${P[7]}px rgba(0,0,0,${O_})`,`${P[8]}px ${P[9]}px ${P[10]}px ${P[11]}px rgba(0,0,0,${N_})`].join(",")}const B_=["none",Zo(0,2,1,-1,0,1,1,0,0,1,3,0),Zo(0,3,1,-2,0,2,2,0,0,1,5,0),Zo(0,3,3,-2,0,3,4,0,0,1,8,0),Zo(0,2,4,-1,0,4,5,0,0,1,10,0),Zo(0,3,5,-1,0,5,8,0,0,1,14,0),Zo(0,3,5,-1,0,6,10,0,0,1,18,0),Zo(0,4,5,-2,0,7,10,1,0,2,16,1),Zo(0,5,5,-3,0,8,10,1,0,3,14,2),Zo(0,5,6,-3,0,9,12,1,0,3,16,2),Zo(0,6,6,-3,0,10,14,1,0,4,18,3),Zo(0,6,7,-4,0,11,15,1,0,4,20,3),Zo(0,7,8,-4,0,12,17,2,0,5,22,4),Zo(0,7,8,-4,0,13,19,2,0,5,24,4),Zo(0,7,9,-4,0,14,21,2,0,5,26,4),Zo(0,8,9,-5,0,15,22,2,0,6,28,5),Zo(0,8,10,-5,0,16,24,2,0,6,30,5),Zo(0,8,11,-5,0,17,26,2,0,6,32,5),Zo(0,9,11,-5,0,18,28,2,0,7,34,6),Zo(0,9,12,-6,0,19,29,2,0,7,36,6),Zo(0,10,13,-6,0,20,31,3,0,8,38,7),Zo(0,10,13,-6,0,21,33,3,0,8,40,7),Zo(0,10,14,-6,0,22,35,3,0,8,42,7),Zo(0,11,14,-7,0,23,36,3,0,9,44,8),Zo(0,11,15,-7,0,24,38,3,0,9,46,8)],U_=B_,H_=["duration","easing","delay"],V_={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},G_={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Qw(P){return`${Math.round(P)}ms`}function W_(P){if(!P)return 0;const O=P/36;return Math.round((4+15*O**.25+O/5)*10)}function j_(P){const O=ao({},V_,P.easing),$=ao({},G_,P.duration);return ao({getAutoHeightDuration:W_,create:(Ae=["all"],ze={})=>{const{duration:G=$.standard,easing:V=O.easeInOut,delay:e=0}=ze;return Qc(ze,H_),(Array.isArray(Ae)?Ae:[Ae]).map(g=>`${g} ${typeof G=="string"?G:Qw(G)} ${V} ${typeof e=="string"?e:Qw(e)}`).join(",")}},P,{easing:O,duration:$})}const Y_={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Z_=Y_,X_=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function K_(P={},...O){const{mixins:$={},palette:ce={},transitions:Ae={},typography:ze={}}=P,G=Qc(P,X_);if(P.vars)throw new Error(Pd(18));const V=D_(ce),e=E2(P);let g=Hc(e,{mixins:p_(e.breakpoints,$),palette:V,shadows:U_.slice(),typography:F_(V,ze),transitions:j_(Ae),zIndex:ao({},Z_)});return g=Hc(g,G),g=O.reduce((R,i)=>Hc(R,i),g),g.unstable_sxConfig=ao({},M2,G==null?void 0:G.unstable_sxConfig),g.unstable_sx=function(i){return S2({sx:i,theme:this})},g}const J_=K_(),L4=J_,P4="$$material";function Q_({props:P,name:O}){return u_({props:P,name:O,defaultTheme:L4,themeId:P4})}const $_=P=>Ig(P)&&P!=="classes",q_=s_({themeId:P4,defaultTheme:L4,rootShouldForwardProp:$_}),eD=q_;function tD(P){return u4("MuiSvgIcon",P)}nP("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const rD=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],nD=P=>{const{color:O,fontSize:$,classes:ce}=P,Ae={root:["root",O!=="inherit"&&`color${dc(O)}`,`fontSize${dc($)}`]};return q9(Ae,tD,ce)},aD=eD("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(P,O)=>{const{ownerState:$}=P;return[O.root,$.color!=="inherit"&&O[`color${dc($.color)}`],O[`fontSize${dc($.fontSize)}`]]}})(({theme:P,ownerState:O})=>{var $,ce,Ae,ze,G,V,e,g,R,i,L,T,v,p,t,r,l;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:($=P.transitions)==null||(ce=$.create)==null?void 0:ce.call($,"fill",{duration:(Ae=P.transitions)==null||(ze=Ae.duration)==null?void 0:ze.shorter}),fontSize:{inherit:"inherit",small:((G=P.typography)==null||(V=G.pxToRem)==null?void 0:V.call(G,20))||"1.25rem",medium:((e=P.typography)==null||(g=e.pxToRem)==null?void 0:g.call(e,24))||"1.5rem",large:((R=P.typography)==null||(i=R.pxToRem)==null?void 0:i.call(R,35))||"2.1875rem"}[O.fontSize],color:(L=(T=(P.vars||P).palette)==null||(v=T[O.color])==null?void 0:v.main)!=null?L:{action:(p=(P.vars||P).palette)==null||(t=p.action)==null?void 0:t.active,disabled:(r=(P.vars||P).palette)==null||(l=r.action)==null?void 0:l.disabled,inherit:void 0}[O.color]}}),R4=qn.forwardRef(function(O,$){const ce=Q_({props:O,name:"MuiSvgIcon"}),{children:Ae,className:ze,color:G="inherit",component:V="svg",fontSize:e="medium",htmlColor:g,inheritViewBox:R=!1,titleAccess:i,viewBox:L="0 0 24 24"}=ce,T=Qc(ce,rD),v=ao({},ce,{color:G,component:V,fontSize:e,instanceFontSize:O.fontSize,inheritViewBox:R,viewBox:L}),p={};R||(p.viewBox=L);const t=nD(v);return an.jsxs(aD,ao({as:V,className:aP(t.root,ze),focusable:"false",color:g,"aria-hidden":i?void 0:!0,role:i?"img":void 0,ref:$},p,T,{ownerState:v,children:[Ae,i?an.jsx("title",{children:i}):null]}))});R4.muiName="SvgIcon";const $w=R4;function iD(P,O){function $(ce,Ae){return an.jsx($w,ao({"data-testid":`${O}Icon`,ref:Ae},ce,{children:P}))}return $.muiName=$w.muiName,qn.memo(qn.forwardRef($))}const oD={configure:P=>{l4.configure(P)}},sD=Object.freeze(Object.defineProperty({__proto__:null,capitalize:dc,createChainedFunction:k9,createSvgIcon:iD,debounce:I9,deprecatedPropType:F9,isMuiElement:z9,ownerDocument:a4,ownerWindow:O9,requirePropFactory:N9,setRef:i4,unstable_ClassNameGenerator:oD,unstable_useEnhancedEffect:o4,unstable_useId:H9,unsupportedProp:V9,useControlled:G9,useEventCallback:W9,useForkRef:j9,useIsFocusVisible:$9},Symbol.toStringTag,{value:"Module"})),lD=M6(sD);var qw;function L2(){return qw||(qw=1,function(P){Object.defineProperty(P,"__esModule",{value:!0}),Object.defineProperty(P,"default",{enumerable:!0,get:function(){return O.createSvgIcon}});var O=lD}(qm)),qm}var uD=g2;Object.defineProperty(p2,"__esModule",{value:!0});var P2=p2.default=void 0,fD=uD(L2()),cD=an,hD=(0,fD.default)((0,cD.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");P2=p2.default=hD;var R2={},vD=g2;Object.defineProperty(R2,"__esModule",{value:!0});var _2=R2.default=void 0,dD=vD(L2()),pD=an,gD=(0,dD.default)((0,pD.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");_2=R2.default=gD;var D2={},yD=g2;Object.defineProperty(D2,"__esModule",{value:!0});var k2=D2.default=void 0,mD=yD(L2()),xD=an,bD=(0,mD.default)((0,xD.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");k2=D2.default=bD;function wD(){const P=[{title:"Livre A",author:"Auteur A",summary:"un rsum",coverPage:"url",price:"2,00"},{title:"Livre B",author:"Auteur B",summary:"un rsum",coverPage:"url",price:"2,00"},{title:"Livre C",author:"Auteur C",summary:"un rsum",coverPage:"url",price:"2,00"}];return an.jsxs("table",{children:[an.jsx("thead",{children:an.jsxs("tr",{children:[an.jsx("th",{children:"Titre"}),an.jsx("th",{children:"Auteur"}),an.jsx("th",{children:"Rsum"}),an.jsx("th",{children:"Image"}),an.jsx("th",{children:"Prix"}),an.jsx("th",{}),an.jsx("th",{children:an.jsx(k2,{})})]})}),an.jsx("tbody",{children:P.map((O,$)=>an.jsxs("tr",{children:[an.jsx("td",{children:O.title},O.title+"-"+$),an.jsx("td",{children:O.author},O.author+"-"+$),an.jsx("td",{children:O.summary},O.summary+"-"+$),an.jsx("td",{children:O.coverPage},O.coverPage+"-"+$),an.jsx("td",{children:O.price},O.price+"-"+$),an.jsx("td",{children:an.jsx(P2,{})},"update-"+$),an.jsx("td",{children:an.jsx(_2,{})},"delete-"+$)]},O+"-"+$))})]})}function TD(){return an.jsxs(an.Fragment,{children:[an.jsx(Jc,{}),an.jsx(wD,{})]})}function AD(){const P=[{firstName:"Jeff",lastName:"Van Der Doele",email:"jeff@mail.com"},{firstName:"Raul",lastName:"Vamonos",email:"raul@mail.com"},{firstName:"Sofia",lastName:"Ben Belamni",email:"sofia@mail.com"}];return an.jsxs("table",{children:[an.jsx("thead",{children:an.jsxs("tr",{children:[an.jsx("th",{children:"Prnom"}),an.jsx("th",{children:"Nom"}),an.jsx("th",{children:"Mail"}),an.jsx("th",{}),an.jsx("th",{children:an.jsx(k2,{})})]})}),an.jsx("tbody",{children:P.map((O,$)=>an.jsxs("tr",{children:[an.jsx("td",{children:O.firstName},O.firstName+"-"+$),an.jsx("td",{children:O.lastName},O.lastName+"-"+$),an.jsx("td",{children:O.email},O.email+"-"+$),an.jsx("td",{children:an.jsx(P2,{})},"update-"+$),an.jsx("td",{children:an.jsx(_2,{})},"delete-"+$)]},O+"-"+$))})]})}function MD(){return an.jsxs(an.Fragment,{children:[an.jsx(Jc,{}),an.jsx(AD,{})]})}function SD({book:P}){const O=P.price,$=P.stock,ce=P.id,Ae="0.2",[ze,G]=qn.useState(0),[V,e]=qn.useState(0),[g,R]=qn.useState(0),[i,L]=qn.useState(0),T=p=>{const t=parseInt(p.target.value);G(t),e(t*Ae),R(t*O),L(t*O+t*O*Ae)},v=p=>{p.preventDefault();const t={id_book:ce,id_customer:12,quantity:ze};dv.post("https://apimysql-1-r1261081.deta.app/orders/",t,{withCredentials:!0}).then(r=>{r.data.id?Bf.success("La commande est bien ralis !"):Bf.error(r.data.detail)}).catch(r=>{Bf.error(r.response.data.detail)})};return an.jsxs("div",{className:"container mt-5 pt-5",children:[an.jsx("h2",{className:"text-center mb-5",children:"Formulaire de commande"}),an.jsxs("div",{className:"row",children:[an.jsx("div",{className:"col-md-6",children:an.jsx("table",{className:"table",children:an.jsxs("tbody",{children:[an.jsxs("tr",{children:[an.jsx("td",{className:"fw-bold",children:"Prix:"}),an.jsxs("td",{children:[O," "]})]}),an.jsxs("tr",{children:[an.jsx("td",{className:"fw-bold",children:"Stock:"}),an.jsx("td",{children:$})]}),an.jsxs("tr",{children:[an.jsx("td",{className:"fw-bold",children:"Quantit:"}),an.jsx("td",{children:an.jsx("label",{children:an.jsx("input",{type:"number",className:"form-control",placeholder:"Quantit",value:ze,onChange:p=>T(p)})})})]})]})})}),an.jsx("div",{className:"col-md-6",children:an.jsx("table",{className:"table",children:an.jsxs("tbody",{children:[an.jsxs("tr",{children:[an.jsx("td",{className:"fw-bold",children:"Taux de TVA:"}),an.jsx("td",{children:Ae})]}),an.jsxs("tr",{children:[an.jsx("td",{className:"fw-bold",children:"TVA:"}),an.jsx("td",{children:V})]}),an.jsxs("tr",{children:[an.jsx("td",{className:"fw-bold",children:"HT:"}),an.jsx("td",{children:g})]}),an.jsxs("tr",{children:[an.jsx("td",{className:"fw-bold",children:"TTC:"}),an.jsx("td",{children:i})]})]})})})]}),an.jsx("div",{className:"row",children:an.jsx("div",{className:"col-12 text-center",children:an.jsx("input",{type:"submit",className:"btn btn-primary",value:"Valider",onClick:v})})}),an.jsx(zd,{})," "]})}function ED({book:P}){return an.jsxs("div",{className:"container w-75",children:[an.jsx("h1",{children:"Dtail d'article"}),an.jsxs("div",{className:"card",children:[an.jsx("img",{src:P.cover_url,className:"card-img-top",alt:"Book Cover"}),an.jsxs("div",{className:"card-body",children:[an.jsxs("h5",{className:"card-title",children:["Titre : ",P.title]}),an.jsxs("p",{className:"card-text",children:["Rsum : ",P.resume]}),an.jsxs("p",{className:"card-text",children:["Auteur : ",P.author]})]})]})]})}const CD="666",LD="Pierre le grand",PD="Linz Pierre",RD="Ce livre parle de la splendeur de Pierre.",_D="https://play-lh.googleusercontent.com/8ddL1kuoNUB5vUvgDVjYY3_6HwQcrg1K2fd_R8soD-e2QYj8fT9cfhfh3G0hnSruLKec",DD="30",kD="12",ID={id:CD,title:LD,author:PD,resume:RD,cover_url:_D,price:DD,stock:kD};function FD(){const[P,O]=qn.useState(ID),{id:$}=UC();return qn.useEffect(()=>{dv.get("https://apimysql-1-r1261081.deta.app/books/"+$,{withCredentials:!0}).then(ce=>{O(ce.data)}).catch(ce=>{Bf.error(ce.response.data.detail)})},[$]),an.jsxs("div",{className:"DetailOrder",children:[an.jsx(Jc,{}),an.jsx("div",{className:"container",children:an.jsxs("div",{className:"row",children:[an.jsx("div",{className:"col-md-6",children:an.jsx(ED,{book:P})}),an.jsx("div",{className:"col-md-6",children:an.jsx(SD,{book:P})})]})}),an.jsx(zd,{})]})}const zD=[{label:"topic 1",topic_url:"https://fr.wikipedia.org/wiki/Topic",id:0},{label:"topic 2",topic_url:"https://fr.wikipedia.org/wiki/Topic",id:1},{label:"topic 3",topic_url:"https://fr.wikipedia.org/wiki/Topic",id:2},{label:"topic 4",topic_url:"https://fr.wikipedia.org/wiki/Topic",id:3},{label:"topic 5",topic_url:"https://fr.wikipedia.org/wiki/Topic",id:4}];function OD(){const[P,O]=qn.useState(zD);return qn.useEffect(()=>{dv.get("https://apimysql-1-r1261081.deta.app/topics/",{withCredentials:!0}).then($=>{O($.data)}).catch($=>{Bf.error($.response.data.detail)})},[]),an.jsxs("div",{className:"container mt-5",children:[an.jsx("h2",{children:"Topic List"}),an.jsxs("table",{className:"table table-striped",children:[an.jsx("thead",{children:an.jsxs("tr",{children:[an.jsx("th",{scope:"col",children:"ID"}),an.jsx("th",{scope:"col",children:"Name"}),an.jsx("th",{scope:"col",children:"Topic URL"})]})}),an.jsx("tbody",{children:P.map($=>an.jsxs("tr",{children:[an.jsx("td",{children:an.jsx("strong",{children:$.id})}),an.jsx("td",{children:$.label}),an.jsx("td",{children:an.jsx("a",{href:$.topic_url,target:"_blank",rel:"noopener noreferrer",children:$.topic_url})})]},$.id))})]}),an.jsx(zd,{})," "]})}function ND(){return an.jsxs("div",{className:"Home",children:[an.jsx(Jc,{}),an.jsx(OD,{})]})}const BD=tL([{path:"/",element:an.jsx(ND,{})},{path:"/signin",element:an.jsx(oL,{})},{path:"/signup",element:an.jsx(R9,{})},{path:"/profile",element:an.jsx(L9,{})},{path:"/admin",element:an.jsx(D9,{})},{path:"/admin-books",element:an.jsx(TD,{})},{path:"/admin-clients",element:an.jsx(MD,{})},{path:"/detail-order/:id",element:an.jsx(FD,{})},{path:"*",element:an.jsx(aL,{})}]);n1.createRoot(document.getElementById("root")).render(an.jsx(QC,{router:BD}));
